; Dominik Dagiel   ix 2005

	new int,igmzoom
	push 0
	pop igmzoom
	push igmzoom
	cmp0
	je l2
	new int,iResX
	new int,iResY
	call engine,getscreenres
	pop iResY
	pop iResX
	new real,rgmscalex
	new real,rgmscaley
	call engine,getscreenscale
	pop rgmscaley
	pop rgmscalex
	jmp l1
l2:
	new int,iResX
	push 1024
	pop iResX
	new int,iResY
	push 768
	pop iResY
l1:
	method igetsc
	push igmzoom
	cmp0
	je l4
	cthis get
	push 0
	cmpjl
	cmp0
	je l6
	push rgmscalex
	cthis get
	pop $b
	popax
	mul $a,$b
	push 0.5
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_i
	jmp l5
l6:
	push rgmscalex
	cthis get
	pop $b
	popax
	mul $a,$b
	push 0.5
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,to_i
l5:
	jmp l3
l4:
	cthis to_i
l3:
	end method
	method rgetsc
	push igmzoom
	cmp0
	je l8
	push rgmscalex
	cthis get
	pop $b
	popax
	mul $a,$b
	jmp l7
l8:
	cthis to_r
l7:
	end method
	method igetsc1
	localint $1
	cthis igetsc
	pop $1
	call $1,abs
	push 1
	cmpjl
	cmp0
	je l10
	call $1,sgn
	jmp l9
l10:
	push $1
l9:
	end method
	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	new int,BYTESPACE
	push " "
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTESPACE
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l12
	push $1
	push $2
	cthis varnew
l12:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l14
	push $1
	cthis vardel
l14:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global0"
	cthis addmethod
	end method
	method global0
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global1"
	cthis addmethod
	end method
	method global1
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l15:
	push A
	push $2
	cmpjne
	cmp0
	je l16
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l15
l16:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l17:
	push A
	push $2
	cmpjne
	cmp0
	je l18
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l17
l18:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l19:
	push A
	push $3
	cmpjne
	cmp0
	je l20
	push $1
	neg
	cmp0
	je l22
	push $2
	push $3
	cmpje
	pop $1
l22:
	localdef $3
	pop $3
	jmp l19
l20:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l23:
	push $2
	push A
	cmpjne
	cmp0
	je l24
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l23
l24:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global2"
	cthis addmethod
	end method
	method global2
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l25:
	push $2
	push A
	cmpjne
	cmp0
	je l26
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l25
l26:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l28
	ret
l28:
l29:
	push $1
	push $2
	cmpjle
	cmp0
	je l30
	jmp l32
l31:
	add $1,1
	pop $1
	jmp l29
l32:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l31
l30:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l34
	ret
l34:
l35:
	push $1
	push $2
	cmpjae
	cmp0
	je l36
	jmp l38
l37:
	sub $1,1
	pop $1
	jmp l35
l38:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l37
l36:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l39:
	push $5
	push $1
	cmpjl
	cmp0
	je l40
	jmp l42
l41:
	add $5,1
	pop $5
	jmp l39
l42:
	push 0
	pop $4
l43:
	push $4
	push $2
	cmpjl
	cmp0
	je l44
	jmp l46
l45:
	add $4,1
	pop $4
	jmp l43
l46:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l45
l44:
	jmp l41
l40:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	push "limit"
	push 0
	cthis var2
	end method
	method get
	push limit
	push 0
	cmpja
	cmp0
	je l48
	push _iile
	push limit
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop _iile
	jmp l47
l48:
	add _iile,1
	pop _iile
l47:
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	method getid
	localint $1
	pop $1
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	method setaslocker
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlocker"
	push "classlocker0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlocker
	push $1
	spushs
	push "lock"
	push "lock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlock"
	push "unlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setlock"
	push "setlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getlock"
	push "getlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlocked"
	push "unlocked"
	spop $a
	call [$a],addmethod
	end method
	method classlocker0
	new int,_block
	push 1
	pop _block
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l49:
	push $2
	push $3
	cmpjl
	cmp0
	je l50
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l49
l50:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l52
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l52:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l55
	push $3
	push 0
	cmpjle
	jmp l56
l54:
	push 0
	jmp l56
l55:
	push 1
l56:
	cmp0
	je l57
	ret
l57:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l58:
	push $2
	push 0
	cmpja
	cmp0
	je l59
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l58
l59:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	neg
	cmp0
	je l61
	push $1
	cthis add
l61:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l63
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l63:
	end method
	method free
	call vn,free
	call vec,free
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l64:
	push $2
	push $3
	cmpjl
	cmp0
	je l65
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l67
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l69
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l71
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l71:
	jmp l68
l69:
	push 100
	call gameapi,setmusicvol
l68:
	push $6
	call gameapi,playmusic
	jmp l66
l67:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l73
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l75
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l77
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l77:
	jmp l74
l75:
	push 100
	call _sndbgr,setvol
l74:
	cthis playbgr
	jmp l72
l73:
	add $2,1
	pop $2
l72:
l66:
	jmp l64
l65:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	class Music
	method init
	new vector,vmus
	push "string"
	call vmus,type
	new int,ilastid
	end method
	method playdb
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	call vmus,free
l78:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l79
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l78
l79:
	push 0
	pop ilastid
	cthis play
	end method
	method playvec
	localstring $1
	localint $2
	pop $2
	pop $1
	call vmus,free
l80:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l81
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call vmus,add
	add $2,1
	pop $2
	jmp l80
l81:
	push 0
	pop ilastid
	cthis play
	end method
	method playstr
	localstring $1
	pop $1
	push $1
	push " "
	call vmus,vecbuildfromstring
	push 0
	pop ilastid
	cthis play
	end method
	method play
	push ilastid
	call vmus,size
	cmpjae
	cmp0
	je l83
	ret
l83:
	localdef $1
	push MUSICPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
	add ilastid,1
	pop ilastid
	localint $2
	push 0
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push 100
	pop $5
	localint $6
	push ilastid
	pop $6
l84:
	push $6
	call vmus,size
	cmpjl
	cmp0
	je l85
	jmp l87
l86:
	add $6,1
	pop $6
	jmp l84
l87:
	localdef $7
	push $6
	call vmus,get
	pop $7
	push $7
	spushs
	push "-l"
	cmpst
	jne l89
	spop $a
	push 1
	pop $2
	jmp l88
l89:
	push "-v"
	cmpst
	jne l90
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $5
	jmp l88
l90:
	push "-fin"
	cmpst
	jne l91
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $3
	jmp l88
l91:
	push "-fout"
	cmpst
	jne l92
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $4
	jmp l88
l92:
	push "-p"
	cmpst
	jne l93
	spop $a
	jmp l88
l93:
	spop $a
	push $6
	pop ilastid
	call vmus,size
	pop $6
l88:
	jmp l86
l85:
	push $5
	call gameapi,setmusicvol
	push $2
	cmp0
	je l95
	push $1
	call gameapi,playmusic
	call vmus,size
	pop ilastid
	ret
l95:
	push $1
	call gameapi,loadmusic
	push $3
	cmp0
	je l97
	push $3
	call gameapi,fadeinmusic
	jmp l96
l97:
	call gameapi,startmusic
l96:
	push $4
	cmp0
	je l99
	push $4
	call gameapi,fadeoutmusic
l99:
	end method
	method fadeout
	localint $1
	pop $1
	call gameapi,ismusicplaying
	cmp0
	je l101
	push $1
	call gameapi,fadeoutmusic
	call vmus,size
	pop ilastid
l101:
	end method
	end class

	new int,igmstate
	push 0
	pop igmstate
	new int,igmdebug
	push 0
	pop igmdebug
	new int,igmeasy
	new int,igmdemo
	push 0
	pop igmdemo
	new int,igmbegin
	push 1
	pop igmbegin
	new int,igmdebugpad
	push 1
	pop igmdebugpad
	new int,igmwinlocal
	push 0
	pop igmwinlocal
	new int,igmappmode
	push 1
	pop igmappmode
	new int,igmipad
	push 1
	pop igmipad
	new int,igmmystery
	push 0
	pop igmmystery
	new int,igmandro
	push 0
	pop igmandro
	new int,igmtheory
	push 0
	pop igmtheory
	push igmandro
	cmp0
	je l103
	push 1
	pop igmipad
l103:
	push igmdebugpad
	cmp0
	je l105
	push igmipad
	cmp0
	jne l108
	push igmappmode
	jmp l109
l107:
	push 0
	jmp l109
l108:
	push 1
l109:
	jmp l110
l105:
	push 0
	jmp l110
l106:
	push 1
l110:
	cmp0
	je l111
	push "getsavepath"
	push "global3"
	call engine,addmethod
l111:
	method global3
	push "saves/"
	end method
	method getsavepath
	push igmandro
	cmp0
	je l113
	push "saves/"
	jmp l112
l113:
	push igmappmode
	cmp0
	jne l116
	push igmipad
	jmp l117
l115:
	push 0
	jmp l117
l116:
	push 1
l117:
	cmp0
	je l118
	call engine,getsavepath
	jmp l114
l118:
	push igmwinlocal
	cmp0
	je l120
	push "saves/"
	cthis getwinpath
	jmp l119
l120:
	push "saves/"
l119:
l114:
l112:
	end method
	new string,sgmproject
	push "DagielEgypt"
	pop sgmproject
	new string,sgmfontfile
	push "configs/fonts/normal.ttf"
	pop sgmfontfile
	new string,sgmfontmono
	push "configs/fonts/mono.ttf"
	pop sgmfontmono
	new string,sgmfontmonobold
	push "configs/fonts/monobold.ttf"
	pop sgmfontmonobold
	new string,sgmfontbold
	push "configs/fonts/monobold.ttf"
	pop sgmfontbold
	new string,sgmfontitalic
	push "configs/fonts/timesit.ttf"
	pop sgmfontitalic
	new string,SFXPATH
	push "sounds/sfx/"
	pop SFXPATH
	new string,BGRPATH
	push "sounds/bgr/"
	pop BGRPATH
	new string,MUSICPATH
	push "sounds/music/"
	pop MUSICPATH
	new string,LANG
	push "eng"
	pop LANG
	new string,SNDPATH
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l122
	push ""
	pop LANG
l122:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l124
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l124:
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l126
	push sgmfontfile
	pop $1
l126:
	push ".ttf"
	call $1,contains
	cmp0
	je l128
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l128:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l130
	ret
l130:
	sub $3,1
	pop $3
l131:
	push $3
	push 0
	cmpjae
	cmp0
	je l132
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l131
l132:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	end method
	method getsndpath
	push _sclwavpath
	end method
	method getpath
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l134
	push 1
	call $1,strsubb
	jmp l133
l134:
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
l133:
	localstring $2
	pop $2
	call LANG,length
	push 0
	cmpja
	cmp0
	je l136
	localdef $3
	push 4
	call $2,strsube
	push "_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push 0
	push 4
	call $2,gete
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	call engine,fileexist
	cmp0
	je l138
	push $3
	jmp l137
l138:
	push $2
l137:
	jmp l135
l136:
	push $2
l135:
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l140
	ret
l140:
	localint $5
	push 0
	pop $5
l141:
	push $5
	push $4
	cmpjl
	cmp0
	je l142
	jmp l144
l143:
	add $5,1
	pop $5
	jmp l141
l144:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l143
l142:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l146
	ret
l146:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l147:
	push $6
	push $5
	cmpjl
	cmp0
	je l148
	jmp l150
l149:
	add $6,1
	pop $6
	jmp l147
l150:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l152
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l152:
	jmp l149
l148:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push "."
	call $2,contains
	neg
	cmp0
	je l154
	push ".wav"
	popax
	add $2,$a
	pop $2
l154:
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l156
	push $1
	push $2
	call subtitle,register
l156:
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l157:
	push $8
	push $7
	cmpjl
	cmp0
	je l158
	jmp l160
l159:
	add $8,1
	pop $8
	jmp l157
l160:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l159
l158:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l162
	push $1
	cthis looponfinish
	jmp l161
l162:
	push "H"
	call $2,contains
	cmp0
	je l164
	push $1
	cthis hideonfinish
l164:
l161:
	push "P"
	call $2,contains
	cmp0
	je l166
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l166:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l167:
	push $6
	push $4
	cmpjl
	cmp0
	je l168
	jmp l170
l169:
	add $6,1
	pop $6
	jmp l167
l170:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l172
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l172:
	jmp l169
l168:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l173:
	push $5
	push $4
	cmpjl
	cmp0
	je l174
	jmp l176
l175:
	add $5,1
	pop $5
	jmp l173
l176:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l175
l174:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],loadscript
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l178
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l178:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	push igmipad
	cmp0
	je l180
	push igmdebugpad
	neg
	jmp l182
l180:
	push 0
	jmp l182
l181:
	push 1
l182:
	cmp0
	je l183
	push "configs/empty.png"
	push "configs/empty.png"
	call bsms,load
	jmp l179
l183:
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
l179:
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push msid
	push 1
	cmpjne
	cmp0
	je l185
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
l185:
	end method
	method setact
	push msid
	push 2
	cmpjne
	cmp0
	je l187
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
l187:
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l188
	push $1
	push $5
	cmpjle
	cmp0
	je l188
	push $2
	push $4
	cmpjae
	cmp0
	je l188
	push $2
	push $6
	cmpjle
	jmp l190
l188:
	push 0
	jmp l190
l189:
	push 1
l190:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l191
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l191
	push $2
	push $4
	cmpjae
	cmp0
	je l191
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l193
l191:
	push 0
	jmp l193
l192:
	push 1
l193:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l195
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l195
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l195
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l196
l194:
	push 0
	jmp l196
l195:
	push 1
l196:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l198
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l199
l197:
	push 0
	jmp l199
l198:
	push 1
l199:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l200
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l200
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l200
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l202
l200:
	push 0
	jmp l202
l201:
	push 1
l202:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l203
	push ilx
	push $6
	cmpjle
	cmp0
	je l203
	push ily
	push $5
	cmpjae
	cmp0
	je l203
	push ily
	push $7
	cmpjle
	jmp l205
l203:
	push 0
	jmp l205
l204:
	push 1
l205:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l206:
	push $2
	push $6
	cmpjne
	cmp0
	je l207
	push $3
	push $7
	cmpjne
	jmp l209
l207:
	push 0
	jmp l209
l208:
	push 1
l209:
	cmp0
	je l210
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l212
	push $2
	push $3
	ret
l212:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l206
l210:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class ImagePos
	method init
	end method
	method getex
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	end class

	class ImageVisible
	method init
	new int,_isvisible
	push 1
	pop _isvisible
	end method
	method isvisible
	push _isvisible
	end method
	method show
	push 1
	pop _isvisible
	end method
	method hide
	push 0
	pop _isvisible
	end method
	end class

	class Image
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push A
	push "getz"
	push 0
	push "getpx"
	push 0
	push "getpy"
	push 0
	push "getw"
	push 0
	push "geth"
	push 0
	push "isvisible"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "show"
	push "Image0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "hide"
	push "Image1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setz"
	push "Image2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpos"
	push "Image3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "move"
	push "Image4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getex"
	push "Image5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getey"
	push "Image6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcx"
	push "Image7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcy"
	push "Image8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isin"
	push "Image9"
	spop $a
	call [$a],addmethod
	end method
	method Image0
	push 1
	pop isvisible
	end method
	method Image1
	push 0
	pop isvisible
	end method
	method Image2
	localint $1
	pop $1
	push $1
	pop getz
	end method
	method Image3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop getpx
	push $2
	pop getpy
	end method
	method Image4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add getpx,$a
	pop getpx
	push $2
	popax
	add getpy,$a
	pop getpy
	end method
	method Image5
	push getpx
	push getw
	pop $b
	popax
	add $a,$b
	end method
	method Image6
	push getpy
	push geth
	pop $b
	popax
	add $a,$b
	end method
	method Image7
	push getpx
	push getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image8
	push getpy
	push geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	neg
	cmp0
	je l214
	push $3
	neg
	cmp0
	jne l217
	push $3
	cmp0
	je l218
	push isvisible
	jmp l220
l218:
	push 0
	jmp l220
l219:
	push 1
l220:
	jmp l221
l216:
	push 0
	jmp l221
l217:
	push 1
l221:
	cmp0
	je l222
	push $1
	push getpx
	cmpjae
	cmp0
	je l223
	push $1
	cthis getex
	cmpjl
	cmp0
	je l223
	push $2
	push getpy
	cmpjae
	cmp0
	je l223
	push $2
	cthis getey
	cmpjl
	jmp l225
l223:
	push 0
	jmp l225
l224:
	push 1
l225:
	jmp l215
l222:
	push 0
l215:
	jmp l213
l214:
	push 0
l213:
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l227
	push $1
	cthis play
l227:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l228
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l230
l228:
	push 0
	jmp l230
l229:
	push 1
l230:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l231:
	push $2
	cthis size
	cmpjl
	cmp0
	je l232
	jmp l234
l233:
	add $2,1
	pop $2
	jmp l231
l234:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l233
l232:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l235:
	push $1
	push iile
	cmpjl
	cmp0
	je l236
	jmp l238
l237:
	add $1,1
	pop $1
	jmp l235
l238:
	push $1
	call _vs,get
	neg
	cmp0
	je l240
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l240:
	jmp l237
l236:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _pos
	push 10
	call $1,getb
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l242
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l244
	spop $a
	push $1
	cthis copy
	jmp l243
l244:
	push "gmobjvec"
	cmpst
	jne l245
	spop $a
	push $1
	cthis copy
	jmp l243
l245:
	push "gmimgvec"
	cmpst
	jne l246
	spop $a
	push $1
	cthis copy
	jmp l243
l246:
	spop $a
	cthis free
	push $1
	cthis add
l243:
	jmp l241
l242:
	cthis free
	push $1
	cthis add
l241:
	end method
	method save
	localstring $1
	pop $1
	push $1
	call lsim,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call lsim,load
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l247:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l248
	jmp l250
l249:
	add $2,1
	pop $2
	jmp l247
l250:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l249
l248:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l251:
	push $2
	cthis size
	cmpjl
	cmp0
	je l252
	jmp l254
l253:
	add $2,1
	pop $2
	jmp l251
l254:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l253
l252:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l255:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l256
	jmp l258
l257:
	add $2,1
	pop $2
	jmp l255
l258:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l257
l256:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	call lsim,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method set
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,set
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l259:
	push $3
	push 0
	cmpja
	cmp0
	je l260
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l259
l260:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l261:
	push $1
	cthis size
	cmpjl
	cmp0
	je l262
	jmp l264
l263:
	add $1,1
	pop $1
	jmp l261
l264:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l263
l262:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l265:
	push $2
	cthis size
	cmpjl
	cmp0
	je l266
	jmp l268
l267:
	add $2,1
	pop $2
	jmp l265
l268:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l267
l266:
	end method
	method deleteallgmobj
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l269:
	push $2
	cthis size
	cmpjl
	cmp0
	je l270
	jmp l272
l271:
	add $2,1
	pop $2
	jmp l269
l272:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],deletegmobj
	jmp l271
l270:
	end method
	method lockall
	push "lock"
	cthis eval
	cthis print
	end method
	method unlockall
	push "unlock"
	cthis eval
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l274
	push $1
	call lsim,add
l274:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l275:
	push $2
	push $1
	cmpjne
	cmp0
	je l276
	push $2
	cthis addbegin
	pop $2
	jmp l275
l276:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method removelist
	push "remove"
	cthis withlist
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l278
	push $1
	cthis addbegin
	jmp l277
l278:
	push $2
	push $3
	cmpjae
	cmp0
	je l280
	push $1
	cthis add
	jmp l279
l280:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l281:
	push $4
	push $2
	cmpja
	cmp0
	je l282
	jmp l284
l283:
	sub $4,1
	pop $4
	jmp l281
l284:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l283
l282:
	push $2
	push $1
	cthis set
l279:
l277:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l285:
	push $1
	cthis contains
	cmp0
	je l286
	push $1
	cthis remove
	jmp l285
l286:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l287:
	push $2
	cthis size
	cmpjl
	cmp0
	je l288
	jmp l290
l289:
	add $2,1
	pop $2
	jmp l287
l290:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l292
	push $2
	cthis removeat
l292:
	jmp l289
l288:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l293:
	push $2
	push $3
	cmpjle
	cmp0
	je l294
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l293
l294:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l296
	call $1,rand
	cthis get
	jmp l295
l296:
	push "null"
l295:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l298
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l299:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l300
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l302
	push "null"
	ret
l302:
	jmp l299
l300:
	push $3
	cthis get
	ret
l298:
	push "null"
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l304
l305:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l306
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l305
l306:
l304:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l307:
	push $5
	push 0
	cmpjae
	cmp0
	je l308
	jmp l310
l309:
	sub $5,1
	pop $5
	jmp l307
l310:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l312
	push $5
	call lsim,get
	ret
l312:
	jmp l309
l308:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l313:
	push $5
	push 0
	cmpjae
	cmp0
	je l314
	jmp l316
l315:
	sub $5,1
	pop $5
	jmp l313
l316:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l318
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l318:
	jmp l315
l314:
	push 0
	ret
	end method
	method isroundin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localint $6
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
l319:
	push $6
	push 0
	cmpjae
	cmp0
	je l320
	jmp l322
l321:
	sub $6,1
	pop $6
	jmp l319
l322:
	push $6
	call lsim,get
	pop $5
	push $5
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	jne l325
	push $5
	spushs
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	jne l325
	push $5
	spushs
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	jne l325
	push $5
	spushs
	push $1
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	jne l325
	push $5
	spushs
	push $1
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l326
l324:
	push 0
	jmp l326
l325:
	push 1
l326:
	cmp0
	je l327
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	ret
l327:
	jmp l321
l320:
	push 0
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l328:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l329
	jmp l331
l330:
	add $2,1
	pop $2
	jmp l328
l331:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l330
l329:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l332:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l333
	jmp l335
l334:
	add $3,1
	pop $3
	jmp l332
l335:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l334
l333:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l336:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l337
	jmp l339
l338:
	add $4,1
	pop $4
	jmp l336
l339:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l338
l337:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l340:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l341
	jmp l343
l342:
	add $5,1
	pop $5
	jmp l340
l343:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l342
l341:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l344:
	push $3
	cthis size
	cmpjl
	cmp0
	je l345
	jmp l347
l346:
	add $3,1
	pop $3
	jmp l344
l347:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l349
	push $3
	ret
l349:
	jmp l346
l345:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l350:
	push $3
	cthis size
	cmpjl
	cmp0
	je l351
	jmp l353
l352:
	add $3,1
	pop $3
	jmp l350
l353:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l355
	push $3
	ret
l355:
	jmp l352
l351:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l356:
	push $2
	cthis size
	cmpjl
	cmp0
	je l357
	jmp l359
l358:
	add $2,1
	pop $2
	jmp l356
l359:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l358
l357:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l360:
	push $3
	cthis size
	cmpjl
	cmp0
	je l361
	jmp l363
l362:
	add $3,1
	pop $3
	jmp l360
l363:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l362
l361:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l364:
	push $4
	cthis size
	cmpjl
	cmp0
	je l365
	jmp l367
l366:
	add $4,1
	pop $4
	jmp l364
l367:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l366
l365:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l368:
	push $2
	cthis size
	cmpjl
	cmp0
	je l369
	jmp l371
l370:
	add $2,1
	pop $2
	jmp l368
l371:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l373
	push 0
	ret
l373:
	jmp l370
l369:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l375
	ret
l375:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l376:
	push $6
	cthis size
	cmpjl
	cmp0
	je l377
	jmp l379
l378:
	add $6,1
	pop $6
	jmp l376
l379:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l381
	push $6
	pop $3
	push $5
	pop $4
l381:
	jmp l378
l377:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l383
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l384
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l386
l384:
	push 0
	jmp l386
l385:
	push 1
l386:
	jmp l387
l382:
	push 0
	jmp l387
l383:
	push 1
l387:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l389
	push _ix
	ret
l389:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l390:
	push $4
	push $1
	cmpjl
	cmp0
	je l391
	jmp l393
l392:
	add $4,1
	pop $4
	jmp l390
l393:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l395
	push $3
	pop $2
l395:
	jmp l392
l391:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l397
	push _iy
	ret
l397:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l398:
	push $4
	push $1
	cmpjl
	cmp0
	je l399
	jmp l401
l400:
	add $4,1
	pop $4
	jmp l398
l401:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l403
	push $3
	pop $2
l403:
	jmp l400
l399:
	push $2
	ret
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l405
	push _ix
	ret
l405:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l406:
	push $4
	push $1
	cmpjl
	cmp0
	je l407
	jmp l409
l408:
	add $4,1
	pop $4
	jmp l406
l409:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l411
	push $3
	pop $2
l411:
	jmp l408
l407:
	push $2
	ret
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l413
	push _iy
	ret
l413:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l414:
	push $4
	push $1
	cmpjl
	cmp0
	je l415
	jmp l417
l416:
	add $4,1
	pop $4
	jmp l414
l417:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l419
	push $3
	pop $2
l419:
	jmp l416
l415:
	push $2
	ret
	end method
	method _getw
	cthis getex
	cthis _getpx
	pop $b
	popax
	sub $a,$b
	end method
	method _geth
	cthis getey
	cthis _getpy
	pop $b
	popax
	sub $a,$b
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l421
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l421:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l422:
	push $3
	cthis size
	cmpjl
	cmp0
	je l423
	jmp l425
l424:
	add $3,1
	pop $3
	jmp l422
l425:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l424
l423:
	end method
	method nplay
	localint $1
	pop $1
	push "play"
	push $1
	cthis eval1
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l426:
	push $1
	cthis size
	cmpjl
	cmp0
	je l427
	jmp l429
l428:
	add $1,1
	pop $1
	jmp l426
l429:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l428
l427:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l430:
	push $5
	push 0
	cmpjae
	cmp0
	je l431
	jmp l433
l432:
	sub $5,1
	pop $5
	jmp l430
l433:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l435
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l435:
	jmp l432
l431:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l436:
	push $4
	push 0
	cmpjae
	cmp0
	je l437
	jmp l439
l438:
	sub $4,1
	pop $4
	jmp l436
l439:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l441
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l441:
	jmp l438
l437:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l442:
	push $5
	push 0
	cmpjae
	cmp0
	je l443
	jmp l445
l444:
	sub $5,1
	pop $5
	jmp l442
l445:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l447
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l449
l447:
	push 0
	jmp l449
l448:
	push 1
l449:
	cmp0
	je l450
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l450:
	jmp l444
l443:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "actionnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method getsac
	localstring $1
	pop $1
	push $1
	cthis findsac
	cthis get
	end method
	method getsacfr
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l451:
	push $3
	cthis size
	cmpjl
	cmp0
	je l452
	jmp l454
l453:
	add $3,1
	pop $3
	jmp l451
l454:
	push $3
	cthis get
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	cmp0
	je l456
	push $3
	cthis get
	spushs
	spop $a
	call [$a],framenr
	push $2
	cmpje
	jmp l458
l456:
	push 0
	jmp l458
l457:
	push 1
l458:
	cmp0
	je l459
	push $3
	cthis get
	ret
l459:
	jmp l453
l452:
	push "null"
	end method
	method blitto
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l460:
	push $2
	cthis size
	cmpjl
	cmp0
	je l461
	jmp l463
l462:
	add $2,1
	pop $2
	jmp l460
l463:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],blit
	jmp l462
l461:
	end method
	method sortz
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l464:
	push $2
	cthis size
	cmpjl
	cmp0
	je l465
	jmp l467
l466:
	add $2,1
	pop $2
	jmp l464
l467:
	push $2
	cthis get
	spushs
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	jmp l466
l465:
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l469
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l468
l469:
	push $1
	pop $3
l468:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l471
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l470
l471:
	push $1
	pop $3
l470:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	end class

	class gmadvvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l472:
	push $5
	push 0
	cmpjae
	cmp0
	je l473
	jmp l475
l474:
	sub $5,1
	pop $5
	jmp l472
l475:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],butisin
	cmp0
	je l477
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l477:
	jmp l474
l473:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	end class

	class gmmaskvec
	parent gmadvvec
	method init
	clparent gmadvvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,butisin
	end method
	end class

	new int,igmsubtitle
	push 0
	pop igmsubtitle
	class Subtitle
	method init
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $7
	push 0.5
	pop $7
	localint $8
	localint $9
	localint $10
	push 255
	pop $8
	push 255
	pop $9
	push 255
	pop $10
	new int,iborx
	push $5
	pop iborx
	new int,ibory
	push $6
	pop ibory
	new font,fnt
	push $3
	push $4
	call fnt,load
	new int,ifontsize
	push $4
	pop ifontsize
	new db,dbl
	push "lang/"
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,load
	localstring $11
	localstring $12
	new vector,v1
	push "string"
	call v1,type
	localint $13
	push iResX
	push 2
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $7
	push $4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop $13
	localint $14
	localint $15
	localint $16
	push 0
	pop $16
	localint $17
	push 0
	pop $17
l478:
	push $17
	call dbl,getrowsno
	cmpjl
	cmp0
	je l479
	jmp l481
l480:
	add $17,1
	pop $17
	jmp l478
l481:
	push $17
	push 0
	push $2
	push $17
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call dbl,set
	push $17
	push 1
	call dbl,get
	pop $11
	push $11
	push " "
	call v1,vecbuildfromstring
	push ""
	pop $12
	push 1
	pop $14
	push 0
	pop $15
l482:
	push $15
	call v1,size
	cmpjl
	cmp0
	je l483
	jmp l485
l484:
	add $15,1
	pop $15
	jmp l482
l485:
	call $12,length
	push $15
	call v1,get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	push $13
	cmpjle
	cmp0
	je l487
	push " "
	push $15
	call v1,get
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l486
l487:
	push $14
	push 1
	cmpje
	cmp0
	je l489
	push $17
	push $14
	push $12
	call dbl,set
	jmp l488
l489:
	push $17
	push $12
	call dbl,add
l488:
	push $15
	call v1,get
	pop $12
	add $14,1
	pop $14
l486:
	jmp l484
l483:
	push $14
	push 1
	cmpje
	cmp0
	je l491
	push $17
	push $14
	push $12
	call dbl,set
	jmp l490
l491:
	push $17
	push $12
	call dbl,add
l490:
	push $14
	push $16
	cmpja
	cmp0
	je l493
	push $14
	pop $16
l493:
	jmp l480
l479:
	new gmimgvec,grtxt
	localint $17
	push 0
	pop $17
l494:
	push $17
	push $16
	cmpjl
	cmp0
	je l495
	jmp l497
l496:
	add $17,1
	pop $17
	jmp l494
l497:
	push "txt"
	push $17
	pop $b
	popax
	add $a,$b
	pop $11
	push "txts"
	push $17
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	push ""
	push "fnt"
	cthis black
	clparent classgame,newtext
	push $11
	push ""
	push "fnt"
	push $8
	push $9
	push $10
	clparent classgame,newtext
	push $11
	call grtxt,add
	push $12
	call grtxt,add
	jmp l496
l495:
	new db,dbsnd
	new timer,timtxt
	push 1
	call timtxt,settick
	push 1
	call timtxt,setcycle
	push "onfinish"
	push "Subtitle0"
	call timtxt,addmethod
	push 12000
	cthis setz
	end method
	method Subtitle0
	cthis cisplaying
	neg
	cmp0
	je l499
	cthis hidesubs
	jmp l498
l499:
	cthis play
l498:
	end method
	method reset
	cthis stop
	call dbsnd,free
	end method
	method hidesubs
	call grtxt,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	call grtxt,setz
	end method
	method stop
	cthis hidesubs
	push 0
	call timtxt,stop
	end method
	method register
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l501
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l503
	push $4
	push 1
	push $3
	call dbsnd,set
	jmp l502
l503:
	localdef $4
	call dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push $4
	push $1
	call dbsnd,add
	push $4
	push $3
	call dbsnd,add
l502:
l501:
	end method
	method play
	localstring $1
	pop $1
	cthis stop
	localdef $2
	push $1
	call dbsnd,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l505
	push $2
	push 1
	call dbsnd,get
	pop $2
	localdef $3
	push $2
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	localstring $5
	localint $6
	push 0
	push 0
	call grtxt,setpos
	localint $7
	push 2
	pop $7
	localint $8
	push 0
	pop $8
l506:
	push $8
	push $3
	cmpjl
	cmp0
	je l507
	jmp l509
l508:
	add $8,1
	pop $8
	jmp l506
l509:
	push 2
	push $8
	pop $b
	popax
	mul $a,$b
	pop $6
	push $6
	call grtxt,get
	pop $4
	push $4
	spushs
	push $2
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	call dbl,get
	spop $a
	call [$a],txtset
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	call grtxt,get
	pop $5
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push iResX
	push $4
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $8
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $4
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	spushs
	spop $a
	call [$a],getpy
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	jmp l508
l507:
	push 0
	push iResY
	push $3
	push ifontsize
	push $7
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push ibory
	pop $b
	popax
	sub $a,$b
	call grtxt,move
	call timtxt,play
l505:
	end method
	end class

	push igmsubtitle
	cmp0
	je l511
	push "eng_egipt.db"
	push "sounds/"
	push sgmfontbold
	push 24
	push 50
	push 15
	new Subtitle,subtitle
l511:
	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	push igmsubtitle
	cmp0
	je l513
	call subtitle,reset
l513:
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l515
	push $1
	cthis cbplay
	jmp l514
l515:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l517
	push $1
	cthis cbplay
l517:
l514:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l520
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l521
l519:
	push 0
	jmp l521
l520:
	push 1
l521:
	cmp0
	je l522
	push $1
	cthis cbplay
l522:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l524
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l524:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l526
	push $1
	cthis csubplay
l526:
	end method
	method cbsplay
	localstring $1
	pop $1
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l528
	push $1
	cthis csubplay
l528:
	end method
	method cbplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	push $1
	cthis cbplay
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l530
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l530:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l532
	push $1
	cthis csubplay
l532:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l534
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l536
l534:
	push 0
	jmp l536
l535:
	push 1
l536:
	cmp0
	je l537
	ret
l537:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l539
	push $1
	cthis csubplay
l539:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l541
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l543
l541:
	push 0
	jmp l543
l542:
	push 1
l543:
	cmp0
	je l544
	push $1
	cthis csubplay
l544:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l546
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l546:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l548
	push $3
	push "null"
	cmpjne
	jmp l550
l548:
	push 0
	jmp l550
l549:
	push 1
l550:
	cmp0
	je l551
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l551:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l553
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l553:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l555
	cthis cisplaying
	jmp l557
l555:
	push 0
	jmp l557
l556:
	push 1
l557:
	cmp0
	je l558
	push $1
	cthis cactsndstop
l558:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l560
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l559
l560:
	push 0
l559:
	end method
	method csubplay
	localstring $1
	pop $1
	push igmsubtitle
	cmp0
	je l562
	push $1
	call subtitle,play
l562:
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l564
	push 0
	pop iile
	ret
l564:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l565:
	push $3
	push $2
	cmpjl
	cmp0
	je l566
	jmp l568
l567:
	add $3,1
	pop $3
	jmp l565
l568:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l567
l566:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l570
	push 0
	pop iile
	ret
l570:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l572
	call iile,rand
	pop ilicz
l572:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l573:
	push $3
	push iile
	cmpjl
	cmp0
	je l574
	jmp l576
l575:
	add $3,1
	pop $3
	jmp l573
l576:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l575
l574:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l578
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l578:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l580
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l579
l580:
	push 0
l579:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l582
	cthis play
l582:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l584
	cthis bgplay
l584:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l586
	cthis play
l586:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l588
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l587
l588:
	push itype
	push 1
	cmpje
	cmp0
	je l590
	call iile,rand
	pop ilicz
l590:
l587:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l591:
	push $2
	push iile
	cmpjl
	cmp0
	je l592
	jmp l594
l593:
	add $2,1
	pop $2
	jmp l591
l594:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l593
l592:
	end method
	end class

	class SoundSource
	method init
	end method
	method setvol
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call $5,abs
	push $4
	cmpjae
	cmp0
	je l596
	push $1
	spushs
	push $3
	spop $a
	call [$a],setvol
	jmp l595
l596:
	push $1
	spushs
	push 1.0
	call $5,abs
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setvol
l595:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l598
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l597
l598:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l597:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l600
	push "L"
	call $1,strremove
	push 1
	pop $2
l600:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l602
	push "P"
	call $1,strremove
	push 1
	pop $3
l602:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l604
	push "H"
	call $1,strremove
	push 1
	pop $4
l604:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push 0
	pop $5
	push " "
	call $1,contains
	cmp0
	je l606
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l606:
	localstring $6
	push "/"
	call $1,contains
	cmp0
	je l608
	new vector,_v_sfile
	push "string"
	call _v_sfile,type
	push $1
	push "/"
	call _v_sfile,vecbuildfromstring
	call _v_sfile,last
	spushs
	push 4
	spop $h
	call $h,strsube
	pop $6
	delete _v_sfile
	jmp l607
l608:
	push 4
	call $1,strsube
	pop $6
l607:
	localstring $7
	push ".pyz"
	call $1,contains
	cmp0
	je l610
	push "an"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newanima
	jmp l609
l610:
	push "img"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newimg
l609:
	push $2
	cmp0
	je l612
	push $7
	spushs
	spop $a
	call [$a],anloopfin
l612:
	push $3
	cmp0
	je l614
	push $7
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l614:
	push $4
	cmp0
	je l616
	push $7
	spushs
	spop $a
	call [$a],hide
l616:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l617:
	push A
	push $2
	cmpjne
	cmp0
	je l618
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l617
l618:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localint $2
	push "N"
	call $1,contains
	pop $2
	push $2
	cmp0
	je l620
	push "N"
	call $1,strremove
l620:
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	popax
	pop $4
	pop $3
	pop $1
	localdef $5
	push 100
	pop $5
	push " "
	call $1,contains
	cmp0
	je l622
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l622:
	localstring $6
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $6
	spushs
	push $5
	spop $a
	call [$a],setvol
	push $3
	cmp0
	je l624
	push $6
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l624:
	push $4
	cmp0
	je l626
	push $6
	spushs
	spop $a
	call [$a],play
	jmp l625
l626:
	push $2
	cmp0
	je l628
	push $6
	spushs
	spop $a
	call [$a],playloop
l628:
l625:
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l630
	new TicksCounter,__timspeed
l630:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l632
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l632:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method newfontbold
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontbold
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method stdmono
	localint $1
	pop $1
	push sgmfontmono
	push $1
	cthis snewfont
	end method
	method stdbold
	localint $1
	pop $1
	push sgmfontbold
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l633:
	push $2
	push $3
	cmpjle
	cmp0
	je l634
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l633
l634:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l635:
	push $6
	push $5
	cmpjl
	cmp0
	je l636
	jmp l638
l637:
	add $6,1
	pop $6
	jmp l635
l638:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l637
l636:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l639:
	push $7
	push $5
	cmpjl
	cmp0
	je l640
	jmp l642
l641:
	add $7,1
	pop $7
	jmp l639
l642:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l641
l640:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l643:
	push $7
	push $5
	cmpjl
	cmp0
	je l644
	jmp l646
l645:
	add $7,1
	pop $7
	jmp l643
l646:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l645
l644:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l647:
	push $3
	push $4
	cmpjl
	cmp0
	je l648
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l650
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l653
	push $12
	push "sfx"
	cmpje
	jmp l654
l652:
	push 0
	jmp l654
l653:
	push 1
l654:
	cmp0
	je l655
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l657
	push $14
	push $13
	cthis newsfx
	jmp l656
l657:
	push $14
	push $13
	cthis newsnd
l656:
	push $7
	push $6
	cmpjl
	cmp0
	je l659
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l661
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l660
l661:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l663
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l662
l663:
	push $12
	push "vol"
	cmpje
	cmp0
	je l665
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l665:
l662:
l660:
l659:
	jmp l651
l655:
	push $12
	push "group"
	cmpje
	cmp0
	je l667
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l669
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l671
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l671:
	jmp l668
l669:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l668:
	jmp l666
l667:
	push $12
	push "bank"
	cmpje
	cmp0
	je l673
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l675
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l677
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l676
l677:
	push $12
	push "vol"
	cmpje
	cmp0
	je l679
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l679:
l676:
l675:
	jmp l672
l673:
	push $12
	push "method"
	cmpje
	cmp0
	je l681
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l682:
	push $8
	push $9
	cmpjle
	cmp0
	je l683
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l682
l683:
	jmp l680
l681:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l685
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l684
l685:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l687
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l689
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l691
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l691:
l689:
	jmp l686
l687:
	push $12
	push "music"
	cmpje
	cmp0
	je l693
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l695
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l697
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l697:
l695:
l693:
l686:
l684:
l680:
l672:
l666:
l651:
l650:
	add $3,1
	pop $3
	jmp l647
l648:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l698:
	push $2
	push $3
	cmpjle
	cmp0
	je l699
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l701
	push $2
	ret
l701:
	add $2,1
	pop $2
	jmp l698
l699:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l703
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l703:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l704:
	push $14
	push $6
	cmpjl
	cmp0
	je l705
	jmp l707
l706:
	add $14,1
	pop $14
	jmp l704
l707:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l708:
	push $8
	push $7
	cmpjle
	cmp0
	je l709
	jmp l711
l710:
	add $8,1
	pop $8
	jmp l708
l711:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l713
	push $13
	pop $10
	jmp l712
l713:
	push $8
	push 2
	cmpje
	cmp0
	je l715
	push $13
	pop $11
	jmp l714
l715:
	push $8
	push 3
	cmpje
	cmp0
	je l717
	push $13
	pop $12
l717:
l714:
l712:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l710
l709:
	push $4
	push "null"
	cmpjne
	cmp0
	je l719
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l721
l719:
	push 0
	jmp l721
l720:
	push 1
l721:
	cmp0
	je l722
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l718
l722:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l718:
	jmp l706
l705:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l724
	push sfxmon
	spushs
	spop $a
	call [$a],play
l724:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l726
	ret
l726:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l727:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l728
	jmp l730
l729:
	add $5,1
	pop $5
	jmp l727
l730:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l729
l728:
	end method
	method print
	localint $1
	push 0
	pop $1
l731:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l732
	jmp l734
l733:
	add $1,1
	pop $1
	jmp l731
l734:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l733
l732:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l735:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l736
	jmp l738
l737:
	add $2,1
	pop $2
	jmp l735
l738:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l737
l736:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l739:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l740
	jmp l742
l741:
	add $3,1
	pop $3
	jmp l739
l742:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l741
l740:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l744
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l743
l744:
	push "null"
l743:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l745:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l746
	jmp l748
l747:
	add $2,1
	pop $2
	jmp l745
l748:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l747
l746:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l750
	push iilebut
	pop $2
l750:
	localint $3
	push 0
	pop $3
l751:
	push $3
	push $2
	cmpjl
	cmp0
	je l752
	jmp l754
l753:
	add $3,1
	pop $3
	jmp l751
l754:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l753
l752:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method resetall
	localint $1
	push 0
	pop $1
l755:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l756
	jmp l758
l757:
	add $1,1
	pop $1
	jmp l755
l758:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setcursorpos
	jmp l757
l756:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l759:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l760
	jmp l762
l761:
	add $3,1
	pop $3
	jmp l759
l762:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setcursorpos
	jmp l761
l760:
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l764
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l763
l764:
	push "null"
l763:
	ret
	end method
	method callimgfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getimg
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l766
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l766:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l768
	ret
l768:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l770
	push sfxmon
	spushs
	spop $a
	call [$a],play
l770:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l772
	push 0
	jmp l771
l772:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l771:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l774
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l776
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l776:
	push $10
	push 2
	cmpja
	cmp0
	je l778
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l778:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l773
l774:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l773:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l779:
	push $4
	push $3
	cmpjl
	cmp0
	je l780
	jmp l782
l781:
	add $4,1
	pop $4
	jmp l779
l782:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l781
l780:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l784
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l783
l784:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l783:
	push $4
	cmp0
	je l786
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l786:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l788
	push $1
	push "null"
	cmpje
	cmp0
	je l790
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l789
l790:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l789:
l788:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l792
	cthis get
	jmp l791
l792:
	push 0
	push $2
	cthis getb
l791:
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l793:
	push $4
	cthis length
	cmpjl
	cmp0
	je l794
	jmp l796
l795:
	add $4,1
	pop $4
	jmp l793
l796:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l799
	push $3
	push $2
	cmpja
	jmp l800
l798:
	push 0
	jmp l800
l799:
	push 1
l800:
	cmp0
	je l801
	push 0
	ret
l801:
	jmp l795
l794:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l802:
	push $3
	cthis length
	cmpjl
	cmp0
	je l803
	jmp l805
l804:
	add $3,1
	pop $3
	jmp l802
l805:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l804
l803:
	end method
	method strdotpos
	localint $1
	pop $1
	push "."
	cthis strgetto
	push "."
	pop $b
	popax
	add $a,$b
	push "."
	cthis strgetfrom
	spushs
	push 0
	push $1
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l807
	push 0
	jmp l806
l807:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l806:
	end method
	method between
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l809
	push $1
	jmp l808
l809:
	push $2
	push $3
	cmpja
	cmp0
	je l811
	push $3
	jmp l810
l811:
	push $2
l810:
l808:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l813
	push $1
	jmp l812
l813:
	push $2
l812:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l815
	push $1
	jmp l814
l815:
	push $2
l814:
	end method
	method imgborders
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push "1111"
	cthis imgborderss
	end method
	method imgborderss
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new img,_img_bor
	cthis getw
	push $1
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 3
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l817
	push "_img_bor"
	cthis blit
l817:
	push 0
	cthis geth
	push $1
	pop $b
	popax
	sub $a,$b
	call _img_bor,move
	push 1
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l819
	push "_img_bor"
	cthis blit
l819:
	push $1
	cthis geth
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 0
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l821
	push "_img_bor"
	cthis blit
l821:
	cthis getw
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	call _img_bor,move
	push 2
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l823
	push "_img_bor"
	cthis blit
l823:
	delete _img_bor
	end method
	method imgroundborder
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis imgborders
	cthis imgerasecorners
	end method
	method imgerasecorners
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push $1
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	push $1
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	end method
	method imgdrawline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "blit"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgeraseline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "erase"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgputoncenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method imgfuncline
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $9
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	pop $9
	localdef $10
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	pop $10
	localreal $11
	push $9
	push 0
	cmpje
	cmp0
	je l825
	push $10
	push 0
	cmpjl
	cmp0
	je l827
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l828:
	push $11
	push $6
	cmpjae
	cmp0
	je l829
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	sub $11,$a
	pop $11
	jmp l828
l829:
	push $6
	push $11
	pop $b
	popax
	sub $a,$b
	jmp l826
l827:
	push $10
	push 0
	cmpja
	cmp0
	je l831
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l832:
	push $11
	push $6
	cmpjle
	cmp0
	je l833
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $11,$a
	pop $11
	jmp l832
l833:
	push $11
	push $6
	pop $b
	popax
	sub $a,$b
	jmp l830
l831:
	push $8
l830:
l826:
	jmp l824
l825:
	push $9
	push $10
	call $8,length
	pop $11
	localreal $12
l834:
	push $8
	push $11
	cmpjle
	cmp0
	je l835
	push 1.0
	push $11
	push $8
	pop $b
	popax
	sub $a,$b
	push $11
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $12
	push $2
	spushs
	push $12
	push $9
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $12
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $8,$a
	pop $8
	jmp l834
l835:
	push $8
	push $11
	pop $b
	popax
	sub $a,$b
l824:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ancenterscreen
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis ansetcpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l836:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l837
	cthis framename
	push $2
	cmpjne
	jmp l839
l837:
	push 0
	jmp l839
l838:
	push 1
l839:
	cmp0
	je l840
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l836
l840:
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localint $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method anisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l841:
	push $5
	cthis nofactions
	cmpjl
	cmp0
	je l842
	jmp l844
l843:
	add $5,1
	pop $5
	jmp l841
l844:
	push $5
	push 0
	cthis setframe
	push $1
	push $2
	push $3
	push $4
	cthis isin
	cmp0
	je l846
	push $5
	ret
l846:
	jmp l843
l842:
	push 1
	popax
	sub 0,$a
	end method
	method anreload
	localstring $1
	pop $1
	localint $2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $2
	localint $3
	cthis framenr
	pop $3
	localint $4
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	pop $4
	localint $5
	localint $6
	cthis getpos
	pop $6
	pop $5
	localint $7
	cthis getz
	pop $7
	push $1
	cthis getpath
	cthis load
	push $5
	push $6
	cthis setpos
	push $7
	cthis setz
	push $2
	cthis nofactions
	cmpjl
	cmp0
	je l848
	push $4
	cmp0
	je l850
	push $2
	cthis play
l850:
	push $2
	push $3
	cthis setframe
	jmp l847
l848:
	push 0
	push 0
	cthis setframe
l847:
	end method
	method anclipob
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	cthis clip
	end method
	method ancopyan
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cthis setframe
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l852
	cthis show
	jmp l851
l852:
	cthis hide
l851:
	push $1
	spushs
	spop $a
	call [$a],getpos
	cthis setpos
	end method
	method anconstmove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push A
	push "mvx"
	push $2
	push "mvy"
	push $3
	cthis vars2
	push $1
	cthis setdelay
	push 1
	popax
	sub 0,$a
	push "global4"
	cthis anplayfin
	end method
	method global4
	push 1
	popax
	sub 0,$a
	cthis play
	push mvx
	push mvy
	cthis move
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l854
	new text,txts
	push $2
	call txts,setfont
l854:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l856
	call txts,hide
l856:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l857
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l857
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l857
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l859
l857:
	push 0
	jmp l859
l858:
	push 1
l859:
	end method
	method txtcenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtright
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	cthis getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l861
	localint $2
	push 0
	pop $2
l862:
	push $2
	push $1
	cmpjl
	cmp0
	je l863
	jmp l865
l864:
	add $2,1
	pop $2
	jmp l862
l865:
	push $2
	cthis add
	jmp l864
l863:
l861:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l866:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l867
	jmp l869
l868:
	add $2,1
	pop $2
	jmp l866
l869:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l868
l867:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l871
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l871:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l873
	sub $2,1
	pop $2
	jmp l872
l873:
	push $2
	push 0
	cmpje
	cmp0
	je l875
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l875:
l872:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l876
	push $1
	cthis size
	cmpjl
	jmp l878
l876:
	push 0
	jmp l878
l877:
	push 1
l878:
	cmp0
	je l880
	push $1
	cthis get
	jmp l879
l880:
	push "null"
l879:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l882
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l881
l882:
	push "null"
l881:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l883:
	cthis size
	push $1
	cmpja
	cmp0
	je l884
	cthis vecpop
	popax
	jmp l883
l884:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method vecreplace
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l886
	push $3
	push $2
	cthis set
l886:
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l888
	ret
l888:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l889:
	push $8
	push $1
	cmpjl
	cmp0
	je l890
	jmp l892
l891:
	add $8,1
	pop $8
	jmp l889
l892:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l893:
	push $9
	push $1
	cmpjl
	cmp0
	je l894
	jmp l896
l895:
	add $9,1
	pop $9
	jmp l893
l896:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l898
	push $6
	pop $5
	push $9
	pop $7
l898:
	jmp l895
l894:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l891
l890:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l899:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l900
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l899
l900:
	call $1,length
	push 0
	cmpja
	cmp0
	je l902
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l902:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l903:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l904
	push $4
	push 0
	cmpja
	cmp0
	je l906
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l906:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l903
l904:
	call $1,length
	push 0
	cmpja
	cmp0
	je l908
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l908:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l909:
	push $2
	push $1
	cmpjl
	cmp0
	je l910
	jmp l912
l911:
	add $2,1
	pop $2
	jmp l909
l912:
	push 0
	cthis removeat
	jmp l911
l910:
	end method
	method vecremovefrom
	localint $1
	pop $1
l913:
	push $1
	cthis size
	cmpjl
	cmp0
	je l914
	push $1
	cthis removeat
	jmp l913
l914:
	end method
	method vecfindfrom
	localint $1
	localdef $2
	pop $2
	pop $1
l915:
	push $1
	cthis size
	cmpjl
	cmp0
	je l916
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l918
	push $1
	ret
	jmp l917
l918:
	add $1,1
	pop $1
l917:
	jmp l915
l916:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l921
	cthis size
	push 0
	cmpje
	jmp l922
l920:
	push 0
	jmp l922
l921:
	push 1
l922:
	cmp0
	je l923
	ret
l923:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l925
	localint $4
	push $1
	pop $4
l926:
	push $4
	push $2
	cmpja
	cmp0
	je l927
	jmp l929
l928:
	sub $4,1
	pop $4
	jmp l926
l929:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l928
l927:
	jmp l924
l925:
	push $1
	push $2
	cmpjl
	cmp0
	je l931
	localint $4
	push $1
	pop $4
l932:
	push $4
	push $2
	cmpjl
	cmp0
	je l933
	jmp l935
l934:
	add $4,1
	pop $4
	jmp l932
l935:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l934
l933:
l931:
l924:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l937
	push $2
	push 0
	cthis vecposfromto
	jmp l936
l937:
	push $1
	cthis addbegin
l936:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l939
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l938
l939:
	push $1
	cthis addbegin
l938:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l941
	push $3
	push $2
	cthis set
l941:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l943
	push 0
	ret
l943:
	localint $3
	push 0
	pop $3
l944:
	push $3
	push $2
	cmpjl
	cmp0
	je l945
	jmp l947
l946:
	add $3,1
	pop $3
	jmp l944
l947:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l949
	push 0
	ret
l949:
	jmp l946
l945:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	cthis vecadddbrow
	end method
	method vecadddbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l950:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l951
	jmp l953
l952:
	add $3,1
	pop $3
	jmp l950
l953:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l952
l951:
	end method
	method vecchecknext
	localint $1
	pop $1
	add $1,1
	pop $1
	push $1
	cthis size
	cmpjl
	cmp0
	je l955
	push $1
	cthis get
	jmp l954
l955:
	push "null"
l954:
	end method
	method vecsum
	cthis size
	cmp0
	je l957
	localdef $1
	push 0
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
l958:
	push $2
	cthis size
	cmpjl
	cmp0
	je l959
	jmp l961
l960:
	add $2,1
	pop $2
	jmp l958
l961:
	push $2
	cthis get
	popax
	add $1,$a
	pop $1
	jmp l960
l959:
	push $1
	jmp l956
l957:
	push 0
l956:
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l963
	ret
l963:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l964:
	push $2
	push A
	cmpjne
	cmp0
	je l965
	jmp l967
l966:
	jmp l964
l967:
	push $4
	push 0
	cmpje
	cmp0
	je l969
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l969:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l971
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l970
l971:
	push 0
l970:
	pop $4
	jmp l966
l965:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l972:
	push $1
	push A
	cmpjne
	cmp0
	je l973
	push $1
	push "null"
	cmpje
	cmp0
	je l975
	cthis addbeginrow
	popax
	jmp l974
l975:
	push 0
	push $1
	cthis addbegin
l974:
	pop $1
	jmp l972
l973:
	end method
	method dbaddvec
	localstring $1
	pop $1
	localdef $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l976:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l977
	jmp l979
l978:
	add $3,1
	pop $3
	jmp l976
l979:
	push $2
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l978
l977:
	end method
	method dbcopy
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis dbcopyfromto
	end method
	method dbcopyrow
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis dbcopyfromto
	end method
	method dbcopyfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis free
	localint $4
	localint $5
	localint $6
	push $2
	pop $4
l980:
	push $4
	push $3
	cmpjl
	cmp0
	je l981
	jmp l983
l982:
	add $4,1
	pop $4
	jmp l980
l983:
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push 0
	pop $5
l984:
	push $5
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l985
	jmp l987
l986:
	add $5,1
	pop $5
	jmp l984
l987:
	push $6
	push $1
	spushs
	push $4
	push $5
	spop $a
	call [$a],get
	cthis add
	jmp l986
l985:
	jmp l982
l981:
	end method
	method dbadddbrowtorow
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l988:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l989
	jmp l991
l990:
	add $4,1
	pop $4
	jmp l988
l991:
	push $1
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	cthis add
	jmp l990
l989:
	end method
	method dbremovecol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l992:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l993
	jmp l995
l994:
	add $2,1
	pop $2
	jmp l992
l995:
	push $2
	cthis getcolsno
	push $1
	cmpja
	cmp0
	je l997
	push $2
	push $1
	cthis removeat
l997:
	jmp l994
l993:
	end method
	method dbcopyfromtos
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis dbcopyfromto
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l999
l1000:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l1001
	cthis dbremovelast
	jmp l1000
l1001:
	jmp l998
l999:
	cthis free
l998:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbgetstringrow
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push $1
	cthis getcolsno
	pop $3
	localint $4
	push 0
	pop $4
l1002:
	push $4
	push $3
	cmpjl
	cmp0
	je l1003
	jmp l1005
l1004:
	add $4,1
	pop $4
	jmp l1002
l1005:
	push $1
	push $4
	cthis get
	popax
	add $2,$a
	pop $2
	jmp l1004
l1003:
	push $2
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l1006:
	push A
	push $2
	cmpjne
	cmp0
	je l1007
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l1006
l1007:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l1009
	push $3
	push 0
	cmpjae
	jmp l1011
l1009:
	push 0
	jmp l1011
l1010:
	push 1
l1011:
	cmp0
	je l1012
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l1013:
	push $3
	push $5
	cmpjl
	cmp0
	je l1014
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l1013
l1014:
l1012:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1016
	push $1
	push $2
	cthis get
	jmp l1015
l1016:
	push "null"
l1015:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l1017:
	push $2
	push 0
	cmpjae
	cmp0
	je l1018
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l1020
	push $2
	ret
l1020:
	sub $2,1
	pop $2
	jmp l1017
l1018:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1022
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l1022:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l1024
	localint $3
	push 0
	pop $3
l1025:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1026
	jmp l1028
l1027:
	add $3,1
	pop $3
	jmp l1025
l1028:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l1030
	push $3
	ret
l1030:
	jmp l1027
l1026:
l1024:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l1031:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l1032
	jmp l1034
l1033:
	add $3,1
	pop $3
	jmp l1031
l1034:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l1036
	push $3
	ret
l1036:
	jmp l1033
l1032:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1037:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1038
	jmp l1040
l1039:
	add $2,1
	pop $2
	jmp l1037
l1040:
	localdef $3
	push 0
	pop $3
l1041:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l1042
	jmp l1044
l1043:
	add $3,1
	pop $3
	jmp l1041
l1044:
	push $2
	push $3
	push $1
	cthis set
	jmp l1043
l1042:
	jmp l1039
l1038:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1045:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1046
	jmp l1048
l1047:
	add $2,1
	pop $2
	jmp l1045
l1048:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l1047
l1046:
	end method
	method dbeq
	localstring $1
	pop $1
	cthis getrowsno
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjne
	cmp0
	je l1050
	push 0
	ret
l1050:
	localint $2
	localint $3
	localint $4
	push 0
	pop $4
l1051:
	push $4
	cthis getrowsno
	cmpjl
	cmp0
	je l1052
	jmp l1054
l1053:
	add $4,1
	pop $4
	jmp l1051
l1054:
	push $4
	cthis getcolsno
	pop $2
	push $2
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjne
	cmp0
	je l1056
	push 0
	ret
l1056:
	push 0
	pop $3
l1057:
	push $3
	push $2
	cmpjl
	cmp0
	je l1058
	jmp l1060
l1059:
	add $3,1
	pop $3
	jmp l1057
l1060:
	push $4
	push $3
	cthis get
	push $1
	spushs
	push $4
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1062
	push 0
	ret
l1062:
	jmp l1059
l1058:
	jmp l1053
l1052:
	push 1
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1064
	push 1
	popax
	sub 0,$a
	ret
l1064:
	localint $3
	call $1,rand
	pop $3
l1065:
	push $3
	push $2
	cmpje
	cmp0
	je l1066
	jmp l1068
l1067:
	call $1,rand
	pop $3
	jmp l1065
l1068:
	jmp l1067
l1066:
	push $3
	ret
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1069:
	push $4
	push 0
	cmpjae
	cmp0
	je l1070
	jmp l1072
l1071:
	sub $4,1
	pop $4
	jmp l1069
l1072:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l1074
	push $2
	popax
	add $3,$a
	pop $3
l1074:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l1071
l1070:
	push $3
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l1076
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l1076:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1078
	ret
l1078:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l1080
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l1082
	cthis onfinish
l1082:
l1080:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l1084
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l1083
l1084:
	push 0
l1083:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	new timer,__dblclick
	push 250
	call __dblclick,delay
	push 1
	call __dblclick,settick
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1086
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l1085
l1086:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l1085:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l1088
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1090
	push 1
	call $1,strsubb
	pop $1
l1090:
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l1088:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l1092
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	call subtitle,register
l1092:
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1094
	push 1
	call $1,strsubb
	pop $1
	push _sndbase
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l1093
l1094:
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
l1093:
	localstring $5
	call gameapi,getgamename
	pop $5
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l1096
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l1095
l1096:
	push $5
	spushs
	push $1
	call $2,length
	push 40
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l1095:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l1097:
	push $3
	push A
	cmpjne
	cmp0
	je l1098
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l1100
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l1100:
	pop $3
	jmp l1097
l1098:
	end method
	method exportbank
	localstring $1
	pop $1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l1102
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l1102:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l1104
	push $1
	call _dbsnd,save
l1104:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l1105:
	push A
	push $3
	cmpjne
	cmp0
	je l1106
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1108
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l1110
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l1109
l1110:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l1109:
l1108:
	localdef $3
	pop $3
	jmp l1105
l1106:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1111:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1112
	jmp l1114
l1113:
	add $2,1
	pop $2
	jmp l1111
l1114:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l1113
l1112:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l1115:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l1116
	jmp l1118
l1117:
	add $7,1
	pop $7
	jmp l1115
l1118:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l1121
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l1122
l1120:
	push 0
	jmp l1122
l1121:
	push 1
l1122:
	cmp0
	je l1123
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l1125
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l1125:
l1123:
	jmp l1117
l1116:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method isgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,contains
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1127
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l1127:
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method lock=
	localint $1
	pop $1
	push $1
	cmp0
	je l1129
	cthis gmlockall
	jmp l1128
l1129:
	cthis gmunlockall
l1128:
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	call __dblclick,isplaying
	cmp0
	je l1131
	cthis mouse_dblclick
	jmp l1130
l1131:
	call __dblclick,play
l1130:
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l1133
	push $1
	call vqst,add
l1133:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	method winsave
	localstring $1
	pop $1
	new db,_db_win
	push "output.db"
	call _db_win,load
	localdef $2
	call _db_win,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	call _db_win,add
	push "output.db"
	call _db_win,save
	delete _db_win
	end method
	method getwinpath
	localstring $1
	pop $1
	localstring $2
	push "appdata"
	call engine,getspecialpath
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l1135
	push $2
	push "\/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	jmp l1134
l1135:
	push $1
l1134:
	end method
	method vecsave
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis save
	end method
	method vecload
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	end method
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	new string,sstdfile
	push $1
	cthis setfile
	end method
	method save
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	call dbsav,save
	end method
	method _load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1137
	call dbsav,free
	push $1
	call dbsav,load
l1137:
	end method
	method load
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis _load
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1139
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l1138
l1139:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l1138:
	cthis stdsave
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1141
	push $2
	push 1
	call dbsav,get
	jmp l1140
l1141:
	push "null"
l1140:
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1143
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l1142
l1143:
	push 0
l1142:
	ret
	end method
	method bis
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1145
	push $2
	push 1
	call dbsav,get
	push 0
	cmpjne
	jmp l1144
l1145:
	push 0
l1144:
	ret
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l1147
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l1148
l1146:
	push 0
	jmp l1148
l1147:
	push 1
l1148:
	ret
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	ret
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	ret
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l1149
	push "."
	call $1,contains
	jmp l1151
l1149:
	push 0
	jmp l1151
l1150:
	push 1
l1151:
	ret
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	ret
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	ret
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	localint $2
	push 0
	pop $2
l1152:
	push $2
	push 10
	cmpjl
	cmp0
	je l1153
	jmp l1155
l1154:
	add $2,1
	pop $2
	jmp l1152
l1155:
	push "ARG"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	jmp l1154
l1153:
	push $1
	cthis load
	end method
	method ARG=
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method ARG
	localint $1
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1157
	ret
l1157:
	push "."
	call $1,contains
	cmp0
	je l1159
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l1158
l1159:
	push $1
	pop __sdb
l1158:
	call __mp,free
	localint $2
	push 0
	pop $2
l1160:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1161
	jmp l1163
l1162:
	add $2,1
	pop $2
	jmp l1160
l1163:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l1165
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l1165:
	jmp l1162
l1161:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method isvar
	localstring $1
	pop $1
	push "$"
	call $1,contains
	ret
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l1167
	push $1
	spushs
	spop $e
	new def,[$e]
l1167:
	push $1
	ret
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l1168
	push $1
	call __csc,isreal
	neg
	jmp l1170
l1168:
	push 0
	jmp l1170
l1169:
	push 1
l1170:
	ret
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	ret
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1172
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	ret
l1172:
	push 0
	ret
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l1174
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l1174:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l1176
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1176:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l1178
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1178:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l1179:
	push $4
	push ")"
	cmpjne
	cmp0
	je l1180
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l1179
l1180:
	push $2
	push "this"
	cmpje
	cmp0
	je l1182
	push "null"
	pop $2
l1182:
	push $2
	push $3
	cthis callfun
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l1184
	push $1
	cthis getvar
	pop $1
	jmp l1183
l1184:
	push $1
	call __csc,isdigit
	cmp0
	je l1186
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l1185
l1186:
	push $1
	call __csc,isstring
	cmp0
	je l1188
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
	jmp l1187
l1188:
	push $1
	call __csc,isreal
	cmp0
	je l1190
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
l1190:
l1187:
l1185:
l1183:
	push $1
	ret
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	ret
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	ret
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l1192
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l1191
l1192:
	push $1
	cthis isfunc
	cmp0
	je l1194
	push $1
	cthis interpcall
	jmp l1193
l1194:
	push $1
	cthis isscriptfun
	cmp0
	je l1196
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l1195
l1196:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l1195:
l1193:
l1191:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l1198
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l1197
l1198:
	push "!="
	cmpst
	jne l1199
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l1197
l1199:
	push "<"
	cmpst
	jne l1200
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l1197
l1200:
	push ">"
	cmpst
	jne l1201
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l1197
l1201:
	push "<="
	cmpst
	jne l1202
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l1197
l1202:
	push ">="
	cmpst
	jne l1203
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l1197
l1203:
	spop $a
l1197:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l1205
	push $1
	cmp0
	jne l1207
	cthis cmp
	jmp l1208
l1206:
	push 0
	jmp l1208
l1207:
	push 1
l1208:
	ret
	jmp l1204
l1205:
	push $3
	push "&&"
	cmpje
	cmp0
	je l1210
	push $1
	cmp0
	je l1211
	cthis cmp
	jmp l1213
l1211:
	push 0
	jmp l1213
l1212:
	push 1
l1213:
	ret
	jmp l1209
l1210:
	push $1
	ret
l1209:
l1204:
	end method
	method containsfun
	localstring $1
	pop $1
	push $1
	call __mp,contains
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l1215
	ret
l1215:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l1216:
	push $2
	cmp0
	je l1217
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l1219
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l1221
	push __sreads
	push "["
	cmpje
	cmp0
	je l1223
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l1224:
	push $12
	push $11
	cmpjl
	cmp0
	je l1225
	jmp l1227
l1226:
	add $12,1
	pop $12
	jmp l1224
l1227:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l1226
l1225:
	jmp l1222
l1223:
	add __icol,1
	pop __icol
l1228:
	cthis isnext
	cmp0
	je l1229
	push __sreads
	push ")"
	cmpjne
	jmp l1231
l1229:
	push 0
	jmp l1231
l1230:
	push 1
l1231:
	cmp0
	je l1232
	cthis _get
	cthis getexpr
	jmp l1228
l1232:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1222:
	jmp l1220
l1221:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1220:
	add __irow,1
	pop __irow
	jmp l1218
l1219:
	push "delete"
	cmpst
	jne l1233
	spop $a
	cthis _get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	add __irow,1
	pop __irow
	jmp l1218
l1233:
	push $8
	push "if"
	cmpje
	cmp0
	jne l1235
	push $6
	cmp0
	jne l1235
	push $5
	jmp l1236
l1234:
	push 0
	jmp l1236
l1235:
	push 1
l1236:
	cmp0
	je l1238
	push $8
	jmp l1237
l1238:
	push ""
l1237:
	cmpst
	jne l1239
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l1241
	push 1
	pop $3
l1241:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l1243
	push 1
	pop $12
l1244:
	push $12
	cmp0
	je l1245
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l1248
	push $8
	push "elif"
	cmpje
	cmp0
	jne l1248
	push $8
	push "fi"
	cmpje
	cmp0
	jne l1248
	push $8
	push "done"
	cmpje
	jmp l1249
l1247:
	push 0
	jmp l1249
l1248:
	push 1
l1249:
	cmp0
	je l1250
	push 0
	pop $12
	jmp l1246
l1250:
	add __irow,1
	pop __irow
l1246:
	jmp l1244
l1245:
l1243:
	jmp l1218
l1239:
	push "else"
	cmpst
	jne l1251
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l1253
l1254:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1255
	add __irow,1
	pop __irow
	jmp l1254
l1255:
l1253:
	jmp l1218
l1251:
	push "fi"
	cmpst
	jne l1256
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l1218
l1256:
	push "elif"
	cmpst
	jne l1257
	spop $a
	push $4
	cmp0
	je l1259
	add __irow,1
	pop __irow
l1260:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1261
	add __irow,1
	pop __irow
	jmp l1260
l1261:
	jmp l1258
l1259:
	push 1
	pop $6
l1258:
	jmp l1218
l1257:
	push "end"
	cmpst
	jne l1262
	spop $a
	push 0
	pop $2
	jmp l1218
l1262:
	push "while"
	cmpst
	jne l1263
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l1218
l1263:
	push "done"
	cmpst
	jne l1264
	spop $a
	push $4
	cmp0
	je l1266
	push $7
	pop __irow
	jmp l1265
l1266:
	add __irow,1
	pop __irow
l1265:
	jmp l1218
l1264:
	push "print"
	cmpst
	jne l1267
	spop $a
	push ""
	pop $8
l1268:
	cthis isnext
	cmp0
	je l1269
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l1268
l1269:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l1218
l1267:
	push "return"
	cmpst
	jne l1270
	spop $a
	cthis isnext
	cmp0
	je l1272
	push __sreads
	cthis getexpr
l1272:
	ret
	jmp l1218
l1270:
	spop $a
	push "$"
	call $8,contains
	cmp0
	je l1274
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l1275:
	cthis isnext
	cmp0
	je l1276
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l1278
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l1277
l1278:
	push "-"
	cmpst
	jne l1279
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l1277
l1279:
	push "*"
	cmpst
	jne l1280
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l1277
l1280:
	push "/"
	cmpst
	jne l1281
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l1277
l1281:
	push "%"
	cmpst
	jne l1282
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l1277
l1282:
	spop $a
l1277:
	jmp l1275
l1276:
	jmp l1273
l1274:
	push $8
	cthis getexpr
l1273:
	add __irow,1
	pop __irow
l1218:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l1284
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l1284:
	jmp l1216
l1217:
	end method
	end class

	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	method yellow
	push 255
	push 255
	push 0
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	call buts,resetall
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l1286
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l1285
l1286:
	push $1
	push "no"
	cmpje
	cmp0
	je l1288
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l1288:
l1285:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l1290
	ret
l1290:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l1292
	push sfuncyes
	push "null"
	cmpjne
	jmp l1294
l1292:
	push 0
	jmp l1294
l1293:
	push 1
l1294:
	cmp0
	je l1295
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1291
l1295:
	push $1
	push "no"
	cmpje
	cmp0
	je l1297
	push sfuncno
	push "null"
	cmpjne
	jmp l1299
l1297:
	push 0
	jmp l1299
l1298:
	push 1
l1299:
	cmp0
	je l1300
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1300:
l1291:
	end method
	method disabled
	call buts,disabled
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l1301:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l1302
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1301
l1302:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l1304
	push $1
	popax
	add $7,$a
	pop $7
l1304:
	push $5
	cmp0
	je l1306
	push $4
	cmp0
	je l1308
	push ":"
	jmp l1307
l1308:
	push ""
l1307:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1306:
	push $6
	cmp0
	je l1310
	push $4
	cmp0
	jne l1312
	push $5
	jmp l1313
l1311:
	push 0
	jmp l1313
l1312:
	push 1
l1313:
	cmp0
	je l1315
	push ":"
	jmp l1314
l1315:
	push ""
l1314:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1310:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l1316:
	push $1
	push 0
	cmpja
	cmp0
	je l1317
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l1316
l1317:
	push $2
	ret
	end method
	method bintohex
	localstring $1
	pop $1
	localstring $2
	call $1,length
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 3
	cmpst
	jne l1319
	spop $a
	push "0"
	jmp l1318
l1319:
	push 2
	cmpst
	jne l1320
	spop $a
	push "00"
	jmp l1318
l1320:
	push 1
	cmpst
	jne l1321
	spop $a
	push "000"
	jmp l1318
l1321:
	spop $a
	push ""
l1318:
	pop $2
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1322:
	push $3
	call $1,length
	cmpjl
	cmp0
	je l1323
	jmp l1325
l1324:
	push 4
	popax
	add $3,$a
	pop $3
	jmp l1322
l1325:
	push $3
	push 4
	call $1,getb
	spushs
	push "0000"
	cmpst
	jne l1327
	spop $a
	push "0"
	jmp l1326
l1327:
	push "0001"
	cmpst
	jne l1328
	spop $a
	push "1"
	jmp l1326
l1328:
	push "0010"
	cmpst
	jne l1329
	spop $a
	push "2"
	jmp l1326
l1329:
	push "0011"
	cmpst
	jne l1330
	spop $a
	push "3"
	jmp l1326
l1330:
	push "0100"
	cmpst
	jne l1331
	spop $a
	push "4"
	jmp l1326
l1331:
	push "0101"
	cmpst
	jne l1332
	spop $a
	push "5"
	jmp l1326
l1332:
	push "0110"
	cmpst
	jne l1333
	spop $a
	push "6"
	jmp l1326
l1333:
	push "0111"
	cmpst
	jne l1334
	spop $a
	push "7"
	jmp l1326
l1334:
	push "1000"
	cmpst
	jne l1335
	spop $a
	push "8"
	jmp l1326
l1335:
	push "1001"
	cmpst
	jne l1336
	spop $a
	push "9"
	jmp l1326
l1336:
	push "1010"
	cmpst
	jne l1337
	spop $a
	push "A"
	jmp l1326
l1337:
	push "1011"
	cmpst
	jne l1338
	spop $a
	push "B"
	jmp l1326
l1338:
	push "1100"
	cmpst
	jne l1339
	spop $a
	push "C"
	jmp l1326
l1339:
	push "1101"
	cmpst
	jne l1340
	spop $a
	push "D"
	jmp l1326
l1340:
	push "1110"
	cmpst
	jne l1341
	spop $a
	push "E"
	jmp l1326
l1341:
	push "1111"
	cmpst
	jne l1342
	spop $a
	push "F"
	jmp l1326
l1342:
	spop $a
l1326:
	popax
	add $2,$a
	pop $2
	jmp l1324
l1323:
	push $2
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1344
	push sgmfontfile
	pop $1
l1344:
	push ".ttf"
	call $1,contains
	cmp0
	je l1346
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l1346:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	new int,itime
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	push 1
	cthis update
	cthis play
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method reset
	push itime
	popax
	sub 0,$a
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	clparent SecCounter,init
	cthis reset
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1348
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l1347
l1348:
	push w
	push h
	cthis get
	call _img1,create
l1347:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l1350
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l1349
l1350:
	push $1
	push 0
	call _img2,move
l1349:
	push $2
	push 0
	cmpjl
	cmp0
	je l1352
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l1351
l1352:
	push 0
	push $2
	call _img2,move
l1351:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1354
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l1353
l1354:
	push w
	push h
	cthis get
	call _img,create
l1353:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l1356
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1358
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1358:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1360
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1360:
	jmp l1355
l1356:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1362
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1362:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1364
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1364:
l1355:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1366
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1366:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l1368
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1368:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1369:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1370
	jmp l1372
l1371:
	add $2,1
	pop $2
	jmp l1369
l1372:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l1371
l1370:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1373:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1374
	jmp l1376
l1375:
	add $2,1
	pop $2
	jmp l1373
l1376:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l1375
l1374:
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	new string,_sobfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l1378
	push _sobfin
	push "null"
	cmpje
	cmp0
	je l1380
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
	jmp l1379
l1380:
	push _sobfin
	spushs
	push _sfunfin
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1379:
l1378:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l1382
	push _ib2
	cthis _cfinito
	jmp l1381
l1382:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l1384
	push _ib1
	cthis _cfinito
	jmp l1383
l1384:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l1383:
l1381:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sobfin
	push $8
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $9
	call $2,abs
	pop $9
	push $1
	push 0
	cmpjle
	cmp0
	jne l1387
	push $9
	push $5
	cmpje
	cmp0
	jne l1387
	push $9
	push $6
	cmpja
	jmp l1388
l1386:
	push 0
	jmp l1388
l1387:
	push 1
l1388:
	cmp0
	je l1389
	ret
l1389:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l1391
	push _ib1
	pop _ival
	jmp l1390
l1391:
	push $2
	push 0
	cmpjl
	cmp0
	je l1393
	push _ib2
	pop _ival
	jmp l1392
l1393:
	ret
l1392:
l1390:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push "null"
	push $4
	cthis _play
	end method
	method isplaying
	call timf,isplaying
	end method
	end class

	class CutScene
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	new img,_gsq
	push $1
	push $2
	push $3
	push $4
	cthis build
	push "_gsq"
	clparent gfxObject,init
	new string,_sfunc1
	new string,_sob1
	new string,_sfunc2
	new string,_sob2
	new int,_idelay
	push 10
	pop _idelay
	new classfadeinout,_clfio
	end method
	method build
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop Y2
	pop X2
	pop Y1
	pop X1
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call _gsq,create
	push X1
	push Y1
	call _gsq,setpos
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method delay
	localint $1
	pop $1
	push $1
	pop _idelay
	end method
	method transparency
	localint $1
	pop $1
	push $1
	call _gsq,transparency
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "null"
	push $1
	push "null"
	push $2
	cthis playobfin
	end method
	method playobfin
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1395
	call gameapi,getgamename
	jmp l1394
l1395:
	push $1
l1394:
	pop _sob1
	push $2
	pop _sfunc1
	push $3
	push "null"
	cmpje
	cmp0
	je l1397
	call gameapi,getgamename
	jmp l1396
l1397:
	push $3
l1396:
	pop _sob2
	push $4
	pop _sfunc2
	call _gsq,show
	push 0
	call _gsq,transparency
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene0"
	call _clfio,_play
	end method
	method CutScene0
	push _sob1
	push _sfunc1
	cthis callfun
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method close
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obclose
	end method
	method obclose
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob1
	push $2
	pop _sfunc1
	push 0
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene1"
	call _clfio,_play
	end method
	method CutScene1
	call _gsq,hide
	push _sob1
	push _sfunc1
	cthis callfun
	end method
	method enter
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obenter
	end method
	method obenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob2
	push $2
	pop _sfunc2
	push 255
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method _callfun2
	call _gsq,hide
	push _sob2
	push _sfunc2
	cthis callfun
	end method
	method isplaying
	call _clfio,isplaying
	end method
	end class

	method allchars
	push "a0 t_!@#$%^&*()_+-=[]\\|}{;':\",./<>?`~"
	end method
	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	push A
	push "Sdir"
	push "left"
	push "W"
	push 0
	push "iFontSize"
	push $2
	push "X"
	push 0
	push "Y"
	push 0
	cthis vars2
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new text,txtpass
	push $1
	call txtpass,setfont
	call txtpass,hide
	new int,bpass
	push 0
	pop bpass
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method setaspasswd
	push 1
	pop bpass
	call txt1,hide
	call txt1,getz
	call txtpass,setz
	call txtpass,show
	cthis copytopass
	end method
	method copytopass
	localdef $1
	call txt1,get
	spushs
	spop $h
	call $h,length
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1398:
	push $3
	push $1
	cmpjl
	cmp0
	je l1399
	jmp l1401
l1400:
	add $3,1
	pop $3
	jmp l1398
l1401:
	push "*"
	popax
	add $2,$a
	pop $2
	jmp l1400
l1399:
	push $2
	call txtpass,txtset
	call txt1,getpx
	call txt1,getpy
	call txtpass,setpos
	end method
	method setastext
	push 0
	pop bpass
	call txt1,show
	call txtpass,hide
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l1403
	ret
l1403:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l1405
	call txt2,hide
	jmp l1404
l1405:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l1404:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	cthis get
	cthis updatetxt
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push X
	push $1
	pop $b
	popax
	add $a,$b
	push Y
	push $2
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l1407
	push $1
	jmp l1406
l1407:
	push ""
l1406:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method getcx
	call txt1,getcx
	end method
	method getcy
	call txt1,getcy
	end method
	method geth
	call txt1,geth
	end method
	method getey
	call txt1,getpy
	push iFontSize
	pop $b
	popax
	add $a,$b
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,clip
	push $1
	push $2
	push $3
	push $4
	call txt2,clip
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1409
	ret
l1409:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1411
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	cthis getname
	push "_onenter"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	ret
l1411:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l1413
	push "tab"
	call keyboard,iskey
	jmp l1415
l1413:
	push 0
	jmp l1415
l1414:
	push 1
l1415:
	cmp0
	je l1416
	push " "
	pop $1
	jmp l1412
l1416:
	call keyboard,getkey
	pop $1
l1412:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1418
	push "a"
	call sChars,contains
	jmp l1420
l1418:
	push 0
	jmp l1420
l1419:
	push 1
l1420:
	cmp0
	jne l1422
	call keyboard,isdigit
	cmp0
	je l1423
	push "0"
	call sChars,contains
	jmp l1425
l1423:
	push 0
	jmp l1425
l1424:
	push 1
l1425:
	cmp0
	jne l1422
	push $1
	call sChars,contains
	jmp l1426
l1421:
	push 0
	jmp l1426
l1422:
	push 1
l1426:
	cmp0
	je l1427
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1430
	push iLimit
	call $2,length
	cmpja
	jmp l1431
l1429:
	push 0
	jmp l1431
l1430:
	push 1
l1431:
	jmp l1432
l1427:
	push 0
	jmp l1432
l1428:
	push 1
l1432:
	cmp0
	je l1433
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	cthis updatetxt
	cthis updatecyk
	jmp l1417
l1433:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1435
	call $2,length
	push 0
	cmpja
	jmp l1437
l1435:
	push 0
	jmp l1437
l1436:
	push 1
l1437:
	cmp0
	je l1438
	push 1
	call $2,strsube
	cthis updatetxt
	cthis updatecyk
l1438:
l1417:
	end method
	method updatetxt
	localstring $1
	pop $1
	push $1
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	push Sdir
	push "center"
	cmpje
	cmp0
	je l1440
	push X
	push W
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push Y
	call txt1,setpos
	jmp l1439
l1440:
	push Sdir
	push "right"
	cmpje
	cmp0
	je l1442
	push X
	push W
	pop $b
	popax
	add $a,$b
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push Y
	call txt1,setpos
	jmp l1441
l1442:
	push X
	push Y
	call txt1,setpos
l1441:
l1439:
	push bpass
	cmp0
	je l1444
	cthis copytopass
l1444:
	cthis getname
	push "_onwrite"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	new string,sTextBoxTyperSys
	push "null"
	pop sTextBoxTyperSys
	class TextBoxTyper
	parent LObjController
	parent ImagePos
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	clparent ImagePos,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	push "Rows"
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push "X"
	push $8
	push "Y"
	push $9
	push "Row"
	push 0
	push "enablemove"
	push 1
	push "W"
	push $10
	push "insystem"
	push 0
	push "H"
	push $11
	push "isvisible"
	push 1
	push "clipx1"
	push $8
	push "clipy1"
	push $9
	push "clipx2"
	push 0
	push "clipy2"
	push 0
	push "clipped"
	push 0
	cthis vars2
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1445:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1446
	jmp l1448
l1447:
	add $14,1
	pop $14
	jmp l1445
l1448:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $10
	spop $a
	call [$a],W=
	push $13
	spushs
	push "left"
	spop $a
	call [$a],Sdir=
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1447
l1446:
	end method
	method settyper
	localint $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $10
	localint $11
	localstring $12
	localstring $13
	push ""
	pop $13
	push $1
	push 0
	cmpjl
	cmp0
	je l1450
	call grtt,last
	spushs
	spop $a
	call [$a],X
	pop $10
	call grtt,last
	spushs
	spop $a
	call [$a],getey
	push Dy
	pop $b
	popax
	add $a,$b
	pop $11
	call grtt,size
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	call grtt,add
	jmp l1449
l1450:
	push $1
	call grtt,get
	pop $12
	push $12
	spushs
	spop $a
	call [$a],X
	pop $10
	push $12
	spushs
	spop $a
	call [$a],getpy
	pop $11
	push $12
	spushs
	spop $a
	call [$a],get
	pop $13
	push $12
	push 0
	push $3
	push $12
	spushs
	spop $a
	call [$a],iFontSize
	pop $b
	popax
	sub $a,$b
	call grtt,movefrom
	push $12
	spushs
	spop $d
	delete [$d]
l1449:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	push $2
	push $3
	push $5
	push $6
	push $7
	push $8
	push W
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $e
	new TextTyper,[$e]
	push $12
	spushs
	push W
	spop $a
	call [$a],W=
	push $12
	spushs
	push $9
	spop $a
	call [$a],Sdir=
	push $12
	spushs
	push $13
	spop $a
	call [$a],updatetxt
	push $12
	spushs
	push Z
	spop $a
	call [$a],setz
	push $12
	spushs
	push $10
	push $11
	spop $a
	call [$a],setpos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grtt,move
	push $1
	push $2
	call gren,move
	push $1
	popax
	add X,$a
	pop X
	push $2
	popax
	add Y,$a
	pop Y
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	push 1
	pop isvisible
	call grtt,show
	end method
	method hide
	push 0
	pop isvisible
	call grtt,hide
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 1
	pop clipped
	push $1
	pop clipx1
	push $2
	pop clipy1
	push $3
	pop clipx2
	push $4
	pop clipy2
	localint $5
	push 0
	pop $5
l1451:
	push $5
	call grtt,size
	cmpjl
	cmp0
	je l1452
	jmp l1454
l1453:
	add $5,1
	pop $5
	jmp l1451
l1454:
	push $5
	call grtt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1453
l1452:
	end method
	method getw
	push W
	end method
	method geth
	push H
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1455:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1456
	jmp l1458
l1457:
	add $4,1
	pop $4
	jmp l1455
l1458:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1457
l1456:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1460
	push $1
	push Rows
	cmpjl
	jmp l1462
l1460:
	push 0
	jmp l1462
l1461:
	push 1
l1462:
	cmp0
	je l1463
	push insystem
	cmp0
	je l1465
	push GAME
	spushs
	push sTextBoxTyperSys
	spop $a
	call [$a],isgmobj
	cmp0
	je l1467
	push sTextBoxTyperSys
	cthis getname
	cmpjne
	jmp l1469
l1467:
	push 0
	jmp l1469
l1468:
	push 1
l1469:
	cmp0
	je l1470
	push sTextBoxTyperSys
	spushs
	spop $a
	call [$a],deactivate
l1470:
	cthis getname
	pop sTextBoxTyperSys
l1465:
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	cthis getname
	push "_activate"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1463:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1472
	ret
l1472:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1474
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1476
	push enablemove
	jmp l1478
l1476:
	push 0
	jmp l1478
l1477:
	push 1
l1478:
	cmp0
	je l1479
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1480:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1481
	jmp l1483
l1482:
	sub $2,1
	pop $2
	jmp l1480
l1483:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1482
l1481:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	push Rows
	cmpjl
	cmp0
	je l1485
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1485:
l1479:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1473
l1474:
	push "up"
	call keyboard,iskey
	cmp0
	je l1487
	push Row
	push 0
	cmpja
	jmp l1489
l1487:
	push 0
	jmp l1489
l1488:
	push 1
l1489:
	cmp0
	je l1490
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1486
l1490:
	push "down"
	call keyboard,iskey
	cmp0
	je l1492
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1494
l1492:
	push 0
	jmp l1494
l1493:
	push 1
l1494:
	cmp0
	je l1495
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1491
l1495:
	push "pgdown"
	call keyboard,iskey
	cmp0
	je l1497
	push Row
	push Rows
	push 10
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1499
	push Row
	push 10
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1498
l1499:
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1498:
	jmp l1496
l1497:
	push "pgup"
	call keyboard,iskey
	cmp0
	je l1501
	push Row
	push 9
	cmpja
	cmp0
	je l1503
	push Row
	push 10
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1502
l1503:
	push 0
	cthis activate
l1502:
	jmp l1500
l1501:
	push "backspace"
	call keyboard,iskey
	cmp0
	jne l1506
	push "delete"
	call keyboard,iskey
	jmp l1507
l1505:
	push 0
	jmp l1507
l1506:
	push 1
l1507:
	cmp0
	je l1508
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1510
l1508:
	push 0
	jmp l1510
l1509:
	push 1
l1510:
	cmp0
	je l1511
	push enablemove
	cmp0
	je l1513
	localdef $2
	push Row
	pop $2
l1514:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1515
	jmp l1517
l1516:
	add $2,1
	pop $2
	jmp l1514
l1517:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1516
l1515:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
l1513:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1519
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1519:
	jmp l1504
l1511:
	push "onkeydown"
	call grtt,eval
l1504:
l1500:
l1496:
l1491:
l1486:
l1473:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1521
	ret
l1521:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push clipped
	cmp0
	je l1523
	push $1
	push $2
	push clipx1
	push clipy1
	push clipx2
	push clipy2
	call clsurf,isin
	jmp l1525
l1523:
	push 0
	jmp l1525
l1524:
	push 1
l1525:
	cmp0
	jne l1527
	push clipped
	neg
	cmp0
	je l1528
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	jmp l1530
l1528:
	push 0
	jmp l1530
l1529:
	push 1
l1530:
	jmp l1531
l1526:
	push 0
	jmp l1531
l1527:
	push 1
l1531:
	cmp0
	je l1532
	cthis deactivate
	localint $3
	push 0
	pop $3
l1533:
	push $3
	cthis size
	cmpjl
	cmp0
	je l1534
	jmp l1536
l1535:
	add $3,1
	pop $3
	jmp l1533
l1536:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getey
	push $2
	cmpja
	cmp0
	je l1538
	push $3
	cthis activate
	ret
l1538:
	jmp l1535
l1534:
	jmp l1522
l1532:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1522:
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	cmp0
	je l1540
	push isvisible
	neg
	jmp l1542
l1540:
	push 0
	jmp l1542
l1541:
	push 1
l1542:
	cmp0
	je l1543
	push 0
	ret
l1543:
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method getact
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method idpx
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpx
	end method
	method idpy
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	end method
	method getpx
	push X
	end method
	method getpy
	push Y
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	push $1
	push ""
	cthis getlinesfrom
	end method
	method getlinesfrom
	localint $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push ""
	pop $3
	localint $4
	push $1
	pop $4
l1544:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1545
	jmp l1547
l1546:
	add $4,1
	pop $4
	jmp l1544
l1547:
	push "tt"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	push $2
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l1546
l1545:
	push $3
	end method
	method getlines
	push 0
	push " "
	cthis getlinesfrom
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1548:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l1549
	jmp l1551
l1550:
	add $1,1
	pop $1
	jmp l1548
l1551:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l1553
	push $1
	ret
l1553:
	jmp l1550
l1549:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l1555
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l1555:
	end method
	method settext
	localint $1
	pop $1
l1556:
	push $1
	push 0
	cmpja
	cmp0
	je l1557
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l1556
l1557:
	end method
	method copytodb
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
	localint $2
	push 0
	pop $2
l1558:
	push $2
	call grtt,size
	cmpjl
	cmp0
	je l1559
	jmp l1561
l1560:
	add $2,1
	pop $2
	jmp l1558
l1561:
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	call grtt,get
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],add
	jmp l1560
l1559:
	end method
	method copyfromdb
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis copyfromdbii
	end method
	method copyfromdbss
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis copyfromdbii
	end method
	method copyfromdbii
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	jne l1564
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l1565
l1563:
	push 0
	jmp l1565
l1564:
	push 1
l1565:
	cmp0
	je l1566
	ret
l1566:
	cthis clear
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	cthis size
	cmpja
	cmp0
	je l1568
	push $2
	cthis size
	pop $b
	popax
	add $a,$b
	pop $3
l1568:
	localint $4
	push $2
	pop $4
l1569:
	push $4
	push $3
	cmpjl
	cmp0
	je l1570
	jmp l1572
l1571:
	add $4,1
	pop $4
	jmp l1569
l1572:
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmp0
	je l1574
	push $1
	spushs
	push $4
	push 0
	spop $a
	call [$a],get
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis setid
l1574:
	jmp l1571
l1570:
	end method
	method copyfromdbrow
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $4
	push $4
	cthis size
	cmpja
	cmp0
	je l1576
	cthis size
	pop $4
l1576:
	localint $5
	push $3
	pop $5
l1577:
	push $5
	push $4
	cmpjl
	cmp0
	je l1578
	jmp l1580
l1579:
	add $5,1
	pop $5
	jmp l1577
l1580:
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],get
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	cthis setid
	jmp l1579
l1578:
	end method
	method save
	localstring $1
	pop $1
	new db,__tmpdb
	push "__tmpdb"
	cthis copytodb
	push "|"
	call __tmpdb,setseparator
	push $1
	call __tmpdb,save
	delete __tmpdb
	end method
	method load
	localstring $1
	pop $1
	new db,__tmpdb
	push $1
	call __tmpdb,load
	push "__tmpdb"
	cthis copyfromdb
	delete __tmpdb
	end method
	end class

	class GUITextBoxTyper
	parent TextBoxTyper
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	push $9
	push $10
	push $11
	push $12
	clparent TextBoxTyper,init
	push A
	push "rewinder"
	push "null"
	push "rewinderbg"
	push "null"
	cthis vars2
	end method
	method setrewinder
	localstring $1
	pop $1
	push $1
	pop rewinder
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop rewinderbg
	end method
	method activate
	localint $1
	pop $1
	push $1
	clparent TextBoxTyper,activate
	cthis updaterewactual
	end method
	method updaterewactual
	push Row
	cthis updaterewpos
	end method
	method updaterewpos
	localint $1
	pop $1
	push rewinder
	push "null"
	cmpjne
	cmp0
	je l1582
	localdef $2
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpy
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	cmpjl
	cmp0
	je l1584
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
	jmp l1583
l1584:
	push $2
	spushs
	spop $a
	call [$a],getey
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l1586
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
l1586:
l1583:
l1582:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	new int,bclickrel
	push 1
	pop bclickrel
	push igmipad
	cmp0
	je l1588
	push 0
	pop bclickrel
l1588:
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	pop bclickrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push bclickrel
	cmp0
	je l1590
	call timwez,play
	push 0
	pop bonrel
	jmp l1589
l1590:
	push 1
	pop bonrel
l1589:
	push 1
	pop bstart
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1591
	push bonrel
	neg
	jmp l1593
l1591:
	push 0
	jmp l1593
l1592:
	push 1
l1593:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1594
	push bonrel
	jmp l1596
l1594:
	push 0
	jmp l1596
l1595:
	push 1
l1596:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method setcobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setobj
	end method
	method setpobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setobj
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1598
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1598:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1600
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1600:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	ret
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	ret
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1602
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1602:
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1604
	ret
l1604:
	call cldt,isonclick
	cmp0
	je l1606
	cthis _put
	jmp l1605
l1606:
	call cldt,istaken
	neg
	cmp0
	je l1608
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1608:
l1605:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1610
	ret
l1610:
	call cldt,isonrel
	cmp0
	je l1612
	cthis _put
l1612:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push iResX
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push iResY
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	push A
	push "borx1"
	push $1
	push "bory1"
	push $2
	push "borx2"
	push $3
	push "bory2"
	push $4
	cthis vars2
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push iResX
	push iResY
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1615
	push sorientation
	push "down"
	cmpje
	jmp l1616
l1614:
	push 0
	jmp l1616
l1615:
	push 1
l1616:
	cmp0
	je l1617
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1613
l1617:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1613:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1619
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1619:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1621
	call clmv,msftmove
	jmp l1620
l1621:
	call clmv,msmove
l1620:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1624
	push sorientation
	push "down"
	cmpje
	jmp l1625
l1623:
	push 0
	jmp l1625
l1624:
	push 1
l1625:
	cmp0
	je l1626
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1622
l1626:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1622:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1629
	push sorientation
	push "down"
	cmpje
	jmp l1630
l1628:
	push 0
	jmp l1630
l1629:
	push 1
l1630:
	cmp0
	je l1631
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1633
	push borx1
	push bory2
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push borx1
	push bory2
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1632
l1633:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownact,setpos
	push bory1
	pop $7
l1632:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1627
l1631:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1635
	push borx2
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupstd,setpos
	push borx2
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1634
l1635:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx1
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx1
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push borx1
	pop $8
l1634:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1627:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1636:
	push $13
	push $11
	cmpjl
	cmp0
	je l1637
	jmp l1639
l1638:
	add $13,1
	pop $13
	jmp l1636
l1639:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1641
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1640
l1641:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1643
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1642
l1643:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1645
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1644
l1645:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1647
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1647:
l1644:
l1642:
l1640:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1638
l1637:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1649
	push bvertical
	push 0
	cmpje
	cmp0
	je l1651
	push "left"
	pop _sdir
	jmp l1650
l1651:
	push "up"
	pop _sdir
l1650:
	jmp l1648
l1649:
	push $2
	push "down"
	cmpje
	cmp0
	je l1653
	push bvertical
	push 0
	cmpje
	cmp0
	je l1655
	push "right"
	pop _sdir
	jmp l1654
l1655:
	push "down"
	pop _sdir
l1654:
l1653:
l1648:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1657
	ret
l1657:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1659
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1661
l1659:
	push 0
	jmp l1661
l1660:
	push 1
l1661:
	cmp0
	je l1662
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1664
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1666
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1666:
	jmp l1663
l1664:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1668
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1670
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1670:
	jmp l1667
l1668:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1672
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1674
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1674:
	jmp l1671
l1672:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1676
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1678
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1678:
l1676:
l1671:
l1667:
l1663:
l1662:
	push $1
	cmp0
	je l1680
	call fxrew,isplaying
	neg
	cmp0
	je l1682
	call fxrew,play
l1682:
	jmp l1679
l1680:
	push 0
	call fxrew,stop
l1679:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1684
	ret
l1684:
	call cldt,isonrel
	cmp0
	je l1686
	cthis _put
l1686:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1688
	ret
l1688:
	call cldt,isonclick
	cmp0
	je l1690
	cthis _put
	jmp l1689
l1690:
	call cldt,istaken
	neg
	cmp0
	je l1692
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1692:
l1689:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push A
	push "sobject"
	push "null"
	push "sclicked"
	push "null"
	cthis vars2
	new int,ipadclick
	push 0
	pop ipadclick
	push "bcheck2klik"
	push 0
	cthis var2
	end method
	method sort
	call grbuts,sortimgs
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method addlocker
	localstring $1
	pop $1
	push $1
	cthis add
	push $1
	clparent classlocker,setaslocker
	end method
	method removebutlist
	push "removebut"
	cthis withlist
	end method
	method removebut
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	push $1
	push sobject
	cmpje
	cmp0
	je l1694
	push "null"
	pop sobject
l1694:
	push $1
	push sclicked
	cmpje
	cmp0
	je l1696
	push "null"
	pop sclicked
l1696:
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1698
	push $1
	call grbuts,removegr
l1698:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1700
	ret
l1700:
	push igmipad
	cmp0
	je l1702
	push bcheck2klik
	jmp l1704
l1702:
	push 0
	jmp l1704
l1703:
	push 1
l1704:
	cmp0
	je l1705
	push ipadclick
	cmp0
	je l1707
	localdef $1
	push sobject
	pop $1
	push $1
	push sobject
	cmpje
	cmp0
	je l1709
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l1708
l1709:
	push sobject
	push "null"
	cmpje
	cmp0
	je l1711
	push 0
	pop ipadclick
l1711:
l1708:
	jmp l1706
l1707:
	push 1
	pop ipadclick
l1706:
	jmp l1701
l1705:
	cthis _butmouselclick
l1701:
	end method
	method _butmouselclick
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1713
	push sobject
	pop sclicked
	push sobject
	spushs
	push "butclick"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1715
	push sobject
	spushs
	spop $a
	call [$a],butclick
l1715:
l1713:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1717
	ret
l1717:
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1719
	push sclicked
	spushs
	push "butlrel"
	spop $a
	call [$a],hasaddedmet
	jmp l1721
l1719:
	push 0
	jmp l1721
l1720:
	push 1
l1721:
	cmp0
	je l1722
	push sclicked
	spushs
	spop $a
	call [$a],butlrel
	jmp l1718
l1722:
	push "null"
	pop sclicked
l1718:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1724
	ret
l1724:
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1726
	push sclicked
	spushs
	push "butmoving"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1728
	push sclicked
	spushs
	spop $a
	call [$a],butmoving
l1728:
l1726:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l1730
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l1732
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	push "butmoveon"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1734
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l1734:
l1732:
	jmp l1729
l1730:
	cthis lastoff
l1729:
	end method
	method lastoff
	push igmipad
	cmp0
	je l1736
	push bcheck2klik
	jmp l1738
l1736:
	push 0
	jmp l1738
l1737:
	push 1
l1738:
	cmp0
	je l1739
	push 0
	pop ipadclick
l1739:
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1741
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	push "butmoveoff"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1743
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
l1743:
	push "null"
	pop sobject
l1741:
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global5"
	cthis addmethod
	end method
	method global5
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinvis
	push "isbutin"
	push "global6"
	cthis addmethod
	end method
	method global6
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global7"
	cthis addmethod
	end method
	method global7
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global8"
	cthis addmethod
	end method
	method global8
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1745
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1745:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global9"
	cthis addmethod
	end method
	method global9
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_moveonms
	push "butmoveon"
	push "global10"
	cthis addmethod
	end method
	method global10
	call advmouse,setbut
	end method
	method Button_moveoffms
	push "butmoveoff"
	push "global11"
	cthis addmethod
	end method
	method global11
	call advmouse,setstd
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	push igmipad
	cmp0
	je l1749
	new int,ipadclick
	push 0
	pop ipadclick
	push "bcheck2klik"
	push 0
	cthis var2
l1749:
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1747
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1746
l1747:
	push 0
l1746:
	end method
	method _release
	push igmipad
	cmp0
	je l1751
	push 0
	pop ipadclick
l1751:
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call bsms,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1753
	ret
l1753:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1755
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1755:
	push $1
	cmp0
	je l1757
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1759
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1761
	cthis _release
l1761:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call bsms,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1759:
	jmp l1756
l1757:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1763
	cthis _release
l1763:
l1756:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1765
	ret
l1765:
	push igmipad
	cmp0
	je l1767
	push bcheck2klik
	jmp l1769
l1767:
	push 0
	jmp l1769
l1768:
	push 1
l1769:
	cmp0
	je l1770
	push ipadclick
	cmp0
	je l1772
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l1771
l1772:
	push 1
	pop ipadclick
	cthis onmousemove
l1771:
	jmp l1766
l1770:
	cthis _butmouselclick
l1766:
	end method
	method _butmouselclick
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1774
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1774:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1776
	ret
l1776:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1778
	cthis copyobj
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1778:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1780
	call bsms,setstd
	push "null"
	pop slastb
l1780:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iFontSize
	push $2
	pop iFontSize
	localstring $12
	localint $13
	localint $14
	push "Z"
	push $10
	cthis var2
	push ".db"
	call $3,contains
	cmp0
	je l1782
	push 0
	push 6
	call $3,getb
	push "$path:"
	cmpje
	cmp0
	je l1784
	new db,dbtxt
	push 6
	call $3,strsubb
	call dbtxt,load
	jmp l1783
l1784:
	push "dbtxt"
	push $3
	cthis newdb
l1783:
	jmp l1781
l1782:
	new db,dbtxt
	push 0
	push 5
	call $3,getb
	spushs
	push "$var:"
	cmpst
	jne l1786
	spop $a
	push 5
	call $3,strsubb
	call dbtxt,dbcopy
	jmp l1785
l1786:
	push "$row:"
	cmpst
	jne l1787
	spop $a
	push 5
	call $3,strsubb
	spushs
	push ","
	spop $h
	call $h,strgetto
	pop $12
	push ","
	call $3,strgetfrom
	pop $13
	push 0
	pop $14
l1788:
	push $14
	push $12
	spushs
	push $13
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1789
	jmp l1791
l1790:
	add $14,1
	pop $14
	jmp l1788
l1791:
	call dbtxt,addrow
	popax
	push $14
	push $12
	spushs
	push $13
	push $14
	spop $a
	call [$a],get
	call dbtxt,add
	jmp l1790
l1789:
	jmp l1785
l1787:
	spop $a
	push $3
	call dbtxt,dbaddlast
l1785:
l1781:
	localint $15
	push 0
	pop $15
	localint $16
	call dbtxt,getrowsno
	pop $16
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	push 0
	pop $14
l1792:
	push $14
	push $16
	cmpjl
	cmp0
	je l1793
	jmp l1795
l1794:
	add $14,1
	pop $14
	jmp l1792
l1795:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $14
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $15
	cmpja
	cmp0
	je l1797
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $15
l1797:
	push $12
	call grtxt,add
	jmp l1794
l1793:
	push "Rows"
	push $16
	cthis var2
	push $11
	push "right"
	cmpje
	cmp0
	jne l1800
	push $11
	push "center"
	cmpje
	jmp l1801
l1799:
	push 0
	jmp l1801
l1800:
	push 1
l1801:
	cmp0
	je l1802
	push 0
	pop $14
l1803:
	push $14
	push $16
	cmpjl
	cmp0
	je l1804
	jmp l1806
l1805:
	add $14,1
	pop $14
	jmp l1803
l1806:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l1808
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l1807
l1808:
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l1807:
	jmp l1805
l1804:
l1802:
	push "W"
	push $15
	cthis var2
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l1809:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1810
	jmp l1812
l1811:
	add $8,1
	pop $8
	jmp l1809
l1812:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l1811
l1810:
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtxt,setz
	end method
	method getz
	push Z
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call grtxt,isin
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l1813:
	push A
	push $1
	cmpjne
	cmp0
	je l1814
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l1816
	push $2
	spushs
	spop $a
	call [$a],show
l1816:
	localdef $1
	pop $1
	jmp l1813
l1814:
	end method
	method blitto
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l1817:
	push $3
	call grtxt,size
	cmpjl
	cmp0
	je l1818
	jmp l1820
l1819:
	add $3,1
	pop $3
	jmp l1817
l1820:
	push $3
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],buildfullname
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],blit
	push GAME
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],vardel
	jmp l1819
l1818:
	end method
	method setcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1821:
	push $4
	call grtxt,size
	cmpjl
	cmp0
	je l1822
	jmp l1824
l1823:
	add $4,1
	pop $4
	jmp l1821
l1824:
	push $4
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	jmp l1823
l1822:
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	new string,_literal_char
	push "\""
	pop _literal_char
	end method
	method setliteralchar
	localstring $1
	pop $1
	push $1
	pop _literal_char
	end method
	method getliteralchar
	push _literal_char
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l1825:
	push $3
	cthis length
	cmpjl
	cmp0
	je l1826
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l1828
	push $4
	push $2
	cmpjle
	jmp l1830
l1828:
	push 0
	jmp l1830
l1829:
	push 1
l1830:
	cmp0
	je l1831
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l1827
l1831:
	push $4
	push BYTEa
	cmpjae
	cmp0
	je l1833
	push $4
	push BYTEz
	cmpjle
	jmp l1835
l1833:
	push 0
	jmp l1835
l1834:
	push 1
l1835:
	cmp0
	jne l1837
	push $4
	push BYTEA
	cmpjae
	cmp0
	je l1838
	push $4
	push BYTEZ
	cmpjle
	jmp l1840
l1838:
	push 0
	jmp l1840
l1839:
	push 1
l1840:
	cmp0
	jne l1837
	push $4
	push BYTE_
	cmpje
	jmp l1841
l1836:
	push 0
	jmp l1841
l1837:
	push 1
l1841:
	cmp0
	je l1842
	push ""
	pop found
l1842:
	cthis length
	pop $3
l1827:
	jmp l1825
l1826:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l1843:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1844
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1846
	push $2
	push BYTE9
	cmpjle
	jmp l1848
l1846:
	push 0
	jmp l1848
l1847:
	push 1
l1848:
	cmp0
	jne l1850
	push $2
	push dot
	cmpje
	cmp0
	je l1851
	push $3
	jmp l1853
l1851:
	push 0
	jmp l1853
l1852:
	push 1
l1853:
	jmp l1854
l1849:
	push 0
	jmp l1854
l1850:
	push 1
l1854:
	cmp0
	je l1855
	push $2
	push dot
	cmpje
	cmp0
	je l1857
	push 0
	pop $3
l1857:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1845
l1855:
	cthis length
	pop $1
l1845:
	jmp l1843
l1844:
	push $3
	cmp0
	jne l1860
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l1860
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l1861
l1859:
	push 0
	jmp l1861
l1860:
	push 1
l1861:
	cmp0
	je l1862
	push ""
	pop found
l1862:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l1863:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1864
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l1866
	push $2
	push BYTEz
	cmpjle
	jmp l1868
l1866:
	push 0
	jmp l1868
l1867:
	push 1
l1868:
	cmp0
	jne l1870
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l1871
	push $2
	push BYTEZ
	cmpjle
	jmp l1873
l1871:
	push 0
	jmp l1873
l1872:
	push 1
l1873:
	cmp0
	jne l1870
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l1870
	push $1
	push id
	cmpja
	cmp0
	je l1874
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1874
	push $2
	push BYTE9
	cmpjle
	jmp l1876
l1874:
	push 0
	jmp l1876
l1875:
	push 1
l1876:
	jmp l1877
l1869:
	push 0
	jmp l1877
l1870:
	push 1
l1877:
	cmp0
	je l1878
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1865
l1878:
	cthis length
	pop $1
l1865:
	jmp l1863
l1864:
	call found,length
	end method
	method isliteral
	cthis check
	cthis getliteralchar
	cmpjne
	cmp0
	je l1880
	push 0
	ret
l1880:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l1881:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1882
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	cthis getliteralchar
	cmpje
	cmp0
	je l1884
	push 1
	ret
	jmp l1883
l1884:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l1883:
	jmp l1881
l1882:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l1885:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l1886
	jmp l1888
l1887:
	add $3,1
	pop $3
	jmp l1885
l1888:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l1890
	push $1
	push found
	cmpje
	cmp0
	je l1892
	push 1
	ret
l1892:
	jmp l1889
l1890:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l1894
	push 1
	ret
l1894:
l1889:
	jmp l1887
l1886:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l1895:
	cthis notend
	cmp0
	je l1896
	cthis check
	push " "
	cmpje
	cmp0
	je l1898
	add id,1
	pop id
	jmp l1897
l1898:
	cthis isconst
	cmp0
	je l1900
	push $1
	spushs
	push "$const"
	spop $a
	call [$a],add
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l1899
l1900:
	cthis isreal
	cmp0
	je l1902
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1904
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1904:
	jmp l1901
l1902:
	cthis isint
	cmp0
	je l1906
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1908
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1908:
	jmp l1905
l1906:
	cthis isident
	cmp0
	je l1910
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1912
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1912:
	jmp l1909
l1910:
	cthis isliteral
	cmp0
	je l1914
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l1916
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1916:
	jmp l1913
l1914:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l1913:
l1909:
l1905:
l1901:
l1899:
l1897:
	jmp l1895
l1896:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l1917:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1918
	jmp l1920
l1919:
	add $5,1
	pop $5
	jmp l1917
l1920:
	call vtmp2,free
	push 0
	pop $3
l1921:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1922
	jmp l1924
l1923:
	add $3,1
	pop $3
	jmp l1921
l1924:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l1926
	push $4
	call vtmp2,add
l1926:
	jmp l1923
l1922:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l1928
	push $5
	ret
l1928:
	jmp l1919
l1918:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setliteralchar"
	push "setliteralchar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getliteralchar"
	push "getliteralchar"
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l1930
	push "null"
	ret
l1930:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l1932
	push "null"
	ret
l1932:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l1933:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l1934
	jmp l1936
l1935:
	add $1,1
	pop $1
	jmp l1933
l1936:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l1935
l1934:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1938
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l1938:
	end method
	end class

	class Localize
	method init
	end method
	method _lang_db
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push "load"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	push ".db"
	pop $b
	popax
	add $a,$b
	cthis lang_path
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method lang_db
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push ""
	cthis _lang_db
	end method
	method lang_dbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "script"
	cthis _lang_db
	end method
	method lang_dbbeh
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "beh"
	cthis _lang_db
	end method
	method lang_path
	localstring $1
	pop $1
	call gameapi,getgamename
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	call LANG,length
	cmp0
	je l1940
	push "lang/"
	push LANG
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	jmp l1942
l1940:
	push 0
	jmp l1942
l1941:
	push 1
l1942:
	cmp0
	je l1943
	push "lang/"
	push LANG
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	jmp l1939
l1943:
	push "lang/"
	push $1
	pop $b
	popax
	add $a,$b
l1939:
	end method
	end class

	module advmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "normal"
	cthis set
	end method
	method setactive
	push "active"
	cthis set
	end method
	method setbut
	push "active"
	cthis set
	end method
	method setexit
	push "exit"
	cthis set
	end method
	method setwait
	push "wait"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	class classadvobject
	method init
	cthis addasadvobject
	end method
	method addasadvobject
	push AdventureGame
	neg
	cmp0
	je l1945
	ret
l1945:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,add
	push $1
	call grmslrel,add
	push $1
	call grmslclick,add
	push $1
	call grmsrclick,add
	end method
	method removefromadvobjs
	push AdventureGame
	neg
	cmp0
	je l1947
	ret
l1947:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,remove
	push $1
	call grmslrel,remove
	push $1
	call grmslclick,remove
	push $1
	call grmsrclick,remove
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselrel
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	end class

	class classadvanhero
	method init
	end method
	method setashero
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "buildhero"
	push "buildhero"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onendframe"
	push "heroendframe1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildhero
	push $1
	spushs
	push "buildheroframe"
	push "buildheroframe"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onfinish"
	push "herofinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getdir"
	push "getdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setdir"
	push "setdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "thisfinish"
	push "thisfinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec"
	push "playspec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec2"
	push "playspec2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostop"
	push "herostop"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostart"
	push "herostart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostand"
	push "herostand"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstdfin"
	push "setstdfin"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "getpocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "haspocket"
	push "haspocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstandbase"
	push "setstandbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	spop $a
	call [$a],setstdfin
	end method
	method buildheroframe
	localstring $1
	pop $1
	push $1
	spushs
	push "onendframe"
	push "heroendframe"
	spop $a
	call [$a],addmethod
	end method
	method setstdfin
	localstring $1
	pop $1
	push "onstdfinish"
	push $1
	cthis addmethod
	end method
	method setstandbase
	localstring $1
	pop $1
	push $1
	pop _sstandbase
	end method
	method buildhero
	new string,_sbase
	new int,_istate
	push 0
	pop _istate
	new string,_sfinfun
	new string,_sobfin
	new int,_bplaystop
	new int,_iiloscsek
	new int,_itypsort
	new int,idsort
	new string,_sobstart
	new string,_sfunfinstart
	new int,bthisfin
	push 0
	pop bthisfin
	new string,_sstandbase
	push "stand"
	pop _sstandbase
	end method
	method getpocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	ret
	end method
	method haspocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	call engine,varexist
	ret
	end method
	method thisfinish
	localint $1
	pop $1
	push $1
	pop bthisfin
	end method
	method getdir
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	ret
	end method
	method setdir
	localstring $1
	pop $1
	cthis actionname
	spushs
	push 2
	spop $h
	call $h,strsube
	push $1
	pop $b
	popax
	add $a,$b
	cthis framenr
	cthis setframe
	end method
	method playspec
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop _sbase
	push $2
	pop _iiloscsek
	push $3
	pop _itypsort
	push $7
	pop _bplaystop
	push $8
	pop _sobfin
	push $9
	pop _sfinfun
	push $5
	pop _sobstart
	push $6
	pop _sfunfinstart
	push $2
	push 0
	cmpja
	cmp0
	je l1949
	push $3
	push 0
	cmpje
	cmp0
	je l1951
	push 1
	pop idsort
	jmp l1950
l1951:
	push $3
	push 1
	cmpje
	cmp0
	je l1953
	call $2,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l1953:
l1950:
l1949:
	push $4
	cmp0
	je l1955
	push 1
	pop _istate
	push $1
	push "start"
	pop $b
	popax
	add $a,$b
	push $10
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l1954
l1955:
	push $1
	push $2
	push 0
	cmpja
	cmp0
	je l1957
	push "1"
	push $10
	pop $b
	popax
	add $a,$b
	jmp l1956
l1957:
	push $10
l1956:
	pop $b
	popax
	add $a,$b
	push 0
	cthis setframe
	cthis herostart
l1954:
	end method
	method playspec2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call $1,length
	push 2
	cmpjl
	cmp0
	je l1959
	push ""
	jmp l1958
l1959:
	push 2
	call $1,strsube
l1958:
	pop $4
	push $4
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push $2
	push $3
	push 0
	push 2
	call $1,gete
	cthis playspec
	end method
	method herostop
	push 3
	pop _istate
	push _bplaystop
	cmp0
	je l1961
	push 0
	pop _bplaystop
	push 1
	cthis thisfinish
	push _sbase
	push "stop"
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l1960
l1961:
	push 1
	cthis stop
l1960:
	end method
	method herostart
	push 2
	pop _istate
	push _sbase
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l1963
	push idsort
	jmp l1962
l1963:
	push ""
l1962:
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	end method
	method herofinish
	push _istate
	push 2
	cmpje
	cmp0
	je l1965
	push bthisfin
	jmp l1967
l1965:
	push 0
	jmp l1967
l1966:
	push 1
l1967:
	cmp0
	je l1968
	push 3
	pop _istate
l1968:
	push _istate
	push 0
	cmpje
	cmp0
	je l1970
	cthis herostand
	cthis onstdfinish
	localstring $1
	cthis getname
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push $1
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $1
	push "_ACTION_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1969
l1970:
	push _istate
	push 1
	cmpje
	cmp0
	je l1972
	cthis herostart
	push _sobstart
	push _sfunfinstart
	cthis callfun
	jmp l1971
l1972:
	push _istate
	push 2
	cmpje
	cmp0
	je l1974
	localstring $3
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l1976
	push _itypsort
	push 0
	cmpje
	cmp0
	je l1978
	push idsort
	push _iiloscsek
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
	jmp l1977
l1978:
	push _itypsort
	push 1
	cmpje
	cmp0
	je l1980
	call _iiloscsek,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l1980:
l1977:
	push _sbase
	push idsort
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1975
l1976:
	cthis actionname
	pop $3
l1975:
	push $3
	cthis play
	jmp l1973
l1974:
	push _istate
	push 3
	cmpje
	cmp0
	je l1982
	push 0
	pop _istate
	cthis herostand
	push 1
	cthis thisfinish
	push _sobfin
	push _sfinfun
	cthis callfun
l1982:
l1973:
l1971:
l1969:
	end method
	method herostand
	localstring $1
	push _sstndpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l1984
	push _sstandbase
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	pop $b
	popax
	add $a,$b
	cthis play
	push $1
	spushs
	spop $a
	call [$a],play
l1984:
	end method
	method heroendframe1
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method heroendframe
	cthis getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	cthis setz
	cthis haspocket
	cmp0
	je l1986
	cthis getpocket
	spushs
	cthis getposx
	cthis getposy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],pocketpos
l1986:
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classadvhero
	method init
	new string,_sanim
	new int,_bisvecile
	push 0
	pop _bisvecile
	new string,_sbase
	push "null"
	pop _sbase
	new string,_sbase2
	push "null"
	pop _sbase2
	new int,izakres
	push 0
	pop izakres
	new string,_sbs2
	new string,_sbutoper
	new string,_smetpart
	new string,_simgbut
	new string,_sptfname
	cthis getname
	pop _sptfname
	end method
	method getptfname
	push _sptfname
	ret
	end method
	method link
	localstring $1
	pop $1
	push $1
	pop _sanim
	end method
	method link2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	cthis checkamounts
	end method
	method anstand
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method ansay
	push _sanim
	spushs
	push "talk"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method getdir
	push _sanim
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	end method
	method nofpieces
	cthis getdir
	cthis nofpiecesdir
	ret
	end method
	method nofpiecesdir
	localstring $1
	pop $1
	push _bisvecile
	cmp0
	je l1988
	push $1
	call vecdirs,find
	call vecile,get
	jmp l1987
l1988:
	push 0
l1987:
	ret
	end method
	method setbase2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbase
	push $2
	pop _sbase2
	end method
	method setbase
	localstring $1
	pop $1
	push $1
	pop _sbase
	call $1,length
	pop izakres
	end method
	method getpropdir
	localstring $1
	pop $1
	push $1
	push "auto"
	cmpje
	cmp0
	je l1990
	cthis getdir
	jmp l1989
l1990:
	push $1
l1989:
	ret
	end method
	method _buildamounts
	push _bisvecile
	neg
	cmp0
	je l1992
	push 1
	pop _bisvecile
	new vector,vecdirs
	push "string"
	call vecdirs,type
	push "begin"
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call vecdirs,beginadd
	new vector,vecile
l1992:
	end method
	method _clearvecile
	call vecile,free
	push 8
	push 0
	call vecile,resize
	end method
	method checkamounts
	localstring $1
	pop $1
	push $1
	cthis setbase
	cthis _buildamounts
	cthis _clearvecile
	push _sanim
	push "null"
	cmpje
	cmp0
	je l1994
	ret
l1994:
	localint $2
	push _sanim
	spushs
	spop $a
	call [$a],nofactions
	pop $2
	localstring $3
	localint $4
	localint $5
	push 0
	pop $5
l1995:
	push $5
	push $2
	cmpjl
	cmp0
	je l1996
	jmp l1998
l1997:
	add $5,1
	pop $5
	jmp l1995
l1998:
	push _sanim
	spushs
	push $5
	spop $a
	call [$a],nameofaction
	pop $3
	push 0
	push izakres
	call $3,getb
	push $1
	cmpje
	cmp0
	je l2000
	push izakres
	push 10
	call $3,getb
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l2002
	push 0
	push 2
	call $3,gete
	call vecdirs,find
	call vecile,vecinc
l2002:
l2000:
	jmp l1997
l1996:
	end method
	method getanim
	push _sanim
	end method
	method calllastfun
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	push _simgbut
	spushs
	spop $a
	call [$a],checkonce
	end method
	method _calllastfunfin
	cthis calllastfunfin
	cthis advmsunlock
	end method
	method calllastfunfin
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method getcallfin
	push _sanim
	push _smetpart
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	ret
	end method
	method _cplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis advmslock
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push $1
	push "null"
	cmpje
	cmp0
	je l2004
	push _sanim
	spushs
	push $3
	cthis getpropdir
	spop $a
	call [$a],setdir
	push $2
	push "null"
	cmpjne
	cmp0
	je l2006
	push $2
	spushs
	spop $d
	cthis [$d]
l2006:
	jmp l2003
l2004:
	push _sanim
	spushs
	push $1
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	cthis getname
	push $2
	push $3
	cthis getpropdir
	spop $a
	call [$a],playspec
l2003:
	end method
	method _cplay1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "_cplay1_2"
	push $2
	cthis _cplay
	end method
	method _cplay1_2
	cthis calllastfun
	cthis _callbehs
	end method
	method _callbehs
	cthis advmsunlock
	cthis callbehs
	end method
	method callbehs
	localstring $1
	cthis getcallfin
	pop $1
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2008
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getname
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2007
l2008:
	cthis _calllastfunfin
l2007:
	end method
	method _cplay2_2
	cthis calllastfun
	push _sbs2
	push "_callbehs"
	cthis getdir
	cthis _cplay
	end method
	method _cplay2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sbs2
	push $1
	push "_cplay2_2"
	push $3
	cthis _cplay
	end method
	method no_turn
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push _sanim
	pop $b
	popax
	add $a,$b
	pop $2
	localstring $3
	push _simgbut
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	pop $3
	push $2
	call engine,varexist
	cmp0
	je l2010
	cthis getdir
	push $3
	cmpjne
	jmp l2012
l2010:
	push 0
	jmp l2012
l2011:
	push 1
l2012:
	cmp0
	je l2013
	push $2
	spushs
	push $3
	cthis getname
	push $1
	spop $a
	call [$a],heroturn
	push 0
	jmp l2009
l2013:
	push 1
l2009:
	end method
	method _heroplay1
	push _simgbut
	cthis heroplay1
	end method
	method _heroplay2
	push _simgbut
	cthis heroplay2
	end method
	method heroplay1
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay1"
	cthis no_turn
	cmp0
	je l2015
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay1
l2015:
	end method
	method heroplay2
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay2"
	cthis no_turn
	cmp0
	je l2017
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbase2
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
l2017:
	end method
	method _setbase2
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	push $1
	push 2
	call modadv,get
	cthis setbase2
	end method
	method _setbase
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	cthis setbase
	end method
	method heroplay3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $1
	spushs
	push $2
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	push $1
	cthis heroplay2
	end method
	end class

	new snd,_fxtakeitem
	class classherotaker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_PICKUP_"
	pop _smetpart
	end method
	method herotake
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method calllastfun
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2019
	call _fxtakeitem,play
	push _simgbut
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l2021
	push _simgbut
	spushs
	spop $a
	call [$a],hide
	jmp l2020
l2021:
	push _simgbut
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l2020:
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push _sbutoper
	push _simgbut
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
l2019:
	clparent classadvhero,calllastfun
	end method
	end class

	class classherolooker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_OPERATE_"
	pop _smetpart
	end method
	method herolook
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method herooperate
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method heroopendoor
	localstring $1
	pop $1
	push $1
	push "open:"
	cthis heroplay3
	end method
	method heroclosedoor
	localstring $1
	pop $1
	push $1
	push "close:"
	cthis heroplay3
	end method
	end class

	class classherouser
	parent classadvhero
	method init
	clparent classadvhero,init
	new string,_stool
	end method
	method herouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stool
	push "_USE_"
	push _stool
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	pop _smetpart
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],itemhide
	push $2
	pop _simgbut
	push $2
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $2
	spushs
	spop $a
	call [$a],baseuse1
	push $2
	spushs
	spop $a
	call [$a],baseuse2
	push $2
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
	end method
	method calllastfun
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	end method
	method calllastfunfin
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method callbehs
	localstring $1
	cthis getname
	pop $1
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2023
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2022
l2023:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2025
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2024
l2025:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2027
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2026
l2027:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2029
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2028
l2029:
	cthis _calllastfunfin
l2028:
l2026:
l2024:
l2022:
	end method
	end class

	class classpathf
	parent classadvhero
	method init
	clparent classadvhero,init
	new path,ptf
	new string,swalkto
	push "null"
	pop swalkto
	new string,_sfunnopath
	push "null"
	pop _sfunnopath
	new string,_sfunvisit
	push "null"
	pop _sfunvisit
	new int,destx
	new int,desty
	new int,bzmien
	push 0
	pop bzmien
	new int,bzatrzym
	push 0
	pop bzatrzym
	new string,_sitem
	push "null"
	pop _sitem
	new string,_sobzmien
	push "null"
	pop _sobzmien
	new string,_sfunzmien
	push "null"
	pop _sfunzmien
	new int,_istep
	new int,_itmpspeed
	push A
	push "ispathto"
	push 1
	cthis vars2
	push "onfinish"
	push "_cptffin"
	call ptf,addmethod
	push "onvisit"
	push "_cptvisit"
	call ptf,addmethod
	push "_cptfstdreach"
	push "_cptfstdarrive"
	cthis addsigs
	push "go:"
	cthis _setbase
	end method
	method _buildan
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	push $1
	cthis link
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	pop _istep
	push $2
	push $3
	push $4
	push $5
	push $6
	call ptf,build
	push $1
	cthis _buildan
	end method
	method buildfrom
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	pop _istep
	push $2
	push $3
	call ptf,copy
	push $1
	cthis _buildan
	end method
	method addsigs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2031
	push "onreach"
	push $1
	call ptf,addmethod
l2031:
	push $2
	push "null"
	cmpjne
	cmp0
	je l2033
	push "onarrive"
	push $2
	call ptf,addmethod
l2033:
	end method
	method sigonnopath
	localstring $1
	pop $1
	push $1
	pop _sfunnopath
	end method
	method sigonvisit
	localstring $1
	pop $1
	push $1
	pop _sfunvisit
	end method
	method _cptfstdreach
	localstring $1
	pop $1
	end method
	method _cptfstdarrive
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,move
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,setpos
	end method
	method show
	call ptf,show
	end method
	method hide
	call ptf,hide
	end method
	method enable
	localint $1
	pop $1
	push $1
	call ptf,enable
	end method
	method disable
	localint $1
	pop $1
	push $1
	call ptf,disable
	end method
	method setanstep
	localint $1
	pop $1
	push $1
	pop _istep
	push $1
	call ptf,setanstep
	end method
	method mulspeed
	localint $1
	pop $1
	push $1
	push _istep
	pop $b
	popax
	mul $a,$b
	pop _itmpspeed
	push _itmpspeed
	call ptf,setanstep
	end method
	method retstep
	push _istep
	cthis setanstep
	end method
	method getanstep
	push _istep
	ret
	end method
	method getposx
	call ptf,getposx
	ret
	end method
	method getposy
	call ptf,getposy
	ret
	end method
	method getpx
	call ptf,getpx
	ret
	end method
	method getpy
	call ptf,getpy
	ret
	end method
	method getidan
	call ptf,getidan
	ret
	end method
	method getidan2
	call ptf,getidan2
	ret
	end method
	method getidgo
	call ptf,getidgo
	ret
	end method
	method getidanpath
	call ptf,getidanpath
	ret
	end method
	method getidan2path
	call ptf,getidan2path
	ret
	end method
	method getidgopath
	call ptf,getidgopath
	ret
	end method
	method excludev
	localint $1
	pop $1
	push $1
	call ptf,excludev
	end method
	method linkfilter
	call ptf,linkfilter
	end method
	method unlinkfilter
	call ptf,unlinkfilter
	end method
	method unlinkanima
	call ptf,unlinkanima
	end method
	method linkanima
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	end method
	method setscalepower
	localreal $1
	pop $1
	push $1
	call ptf,setscalepower
	end method
	method setzsize
	localreal $1
	pop $1
	push $1
	call ptf,setzsize
	end method
	method setz
	localint $1
	pop $1
	push $1
	call ptf,setz
	end method
	method iswayto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,iswayto
	ret
	end method
	method scalean
	call ptf,scalean
	end method
	method getfromver
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	call ptf,getfromver
	ret
	end method
	method getgover
	localint $1
	pop $1
	push $1
	call ptf,getgover
	ret
	end method
	method getanver
	localint $1
	pop $1
	push $1
	call ptf,getanver
	ret
	end method
	method getxver
	localint $1
	pop $1
	push $1
	call ptf,getxver
	ret
	end method
	method getyver
	localint $1
	pop $1
	push $1
	call ptf,getyver
	ret
	end method
	method getbyname
	localint $1
	pop $1
	push $1
	call ptf,getbyname
	ret
	end method
	method walkbase
	localstring $1
	pop $1
	push $1
	call ptf,setbase
	end method
	method letturn
	localint $1
	pop $1
	push $1
	call ptf,letturn
	end method
	method canturn
	call ptf,canturn
	end method
	method vecdir
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,vecdir
	end method
	method ptfgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,goto
	end method
	method setmovetype
	localint $1
	pop $1
	push $1
	call ptf,setmovetype
	end method
	method walkto2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $2
	push $3
	cthis cangoto
	cmp0
	je l2035
	push $2
	push $3
	call ptf,goto
	pop $2
	jmp l2034
l2035:
	push _sfunnopath
	push "null"
	cmpjne
	cmp0
	je l2037
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
l2037:
l2034:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $1
	push "null"
	cmpje
	cthis letturn
	cthis iswalking
	cmp0
	je l2039
	push $2
	push $3
	call ptf,iswayto
	cmp0
	je l2041
	push 1
	pop bzmien
	push $2
	pop destx
	push $3
	pop desty
	push 0
	ret
	jmp l2040
l2041:
	push 1
	pop bzatrzym
	push 1
	popax
	sub 0,$a
	ret
l2040:
	jmp l2038
l2039:
	push $2
	push $3
	call ptf,goto
	ret
l2038:
	end method
	method iswaytover
	localint $1
	pop $1
	push slastpathf
	spushs
	push $1
	spop $a
	call [$a],getbyname
	pop $1
	push $1
	cthis getxver
	cthis getposx
	pop $b
	popax
	sub $a,$b
	push $1
	cthis getyver
	cthis getposy
	pop $b
	popax
	sub $a,$b
	call ptf,iswayto
	end method
	method length
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,length
	end method
	method lengthver
	localint $1
	pop $1
	push slastpathf
	spushs
	push $1
	spop $a
	call [$a],getbyname
	pop $1
	push $1
	cthis getxver
	cthis getposx
	pop $b
	popax
	sub $a,$b
	push $1
	cthis getyver
	cthis getposy
	pop $b
	popax
	sub $a,$b
	cthis length
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	ret
	end method
	method gotorel
	localint $1
	localint $2
	pop $2
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],getpx
	push $1
	pop $b
	popax
	add $a,$b
	push _sanim
	spushs
	spop $a
	call [$a],getey
	push $2
	pop $b
	popax
	add $a,$b
	cthis goto
	ret
	end method
	method turn
	localstring $1
	pop $1
	push $1
	call ptf,turn
	end method
	method iswalking
	call ptf,iswalking
	ret
	end method
	method stand
	call ptf,stand
	end method
	method stop
	localint $1
	pop $1
	push $1
	call ptf,stop
	end method
	method getidpath
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,getidpath
	ret
	end method
	method cangoto
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	call ptf,getidpath
	pop $3
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2043
	push 0
	jmp l2042
l2043:
	push $3
	call ptf,isenabled
l2042:
	ret
	end method
	method _cptfreachpocket
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachbut
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachdoors
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herooperate
	end method
	method _cptfreachitem
	cthis getptfname
	push "take"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herotake
	end method
	method _cptfherofin
	cthis herostand
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2045
	push _sanim
	push "_REACH_"
	pop $b
	popax
	add $a,$b
	push swalkto
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	cthis ismainhero
	cmp0
	je l2047
	localstring $1
	push "null"
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2049
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],getitem
	pop $1
l2049:
	push $1
	push "null"
	cmpjne
	cmp0
	je l2051
	cthis getptfname
	push "use"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push swalkto
	spop $a
	call [$a],herouse
	jmp l2050
l2051:
	push "_cptfreach"
	push swalkto
	spushs
	spop $a
	call [$a],gettyp
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2050:
l2047:
	push "null"
	pop swalkto
	jmp l2044
l2045:
	push _sanim
	push "_ARRIVE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis _cptheroendpath
l2044:
	end method
	method sigonzmien
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sobzmien
	push $2
	pop _sfunzmien
	end method
	method _cptheroendpath
	push _sfinob
	push _sfinfun
	cthis callfun
	push _bylfin
	cmp0
	je l2053
	push 0
	pop _bylfin
	jmp l2052
l2053:
	push "null"
	pop _sfinfun
	push "null"
	pop _sfinob
l2052:
	end method
	method _cptfnopath
	push _sanim
	push "_NOPATH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _cptfvisit
	push _sanim
	push "_VISIT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method prepareforhero
	push "onfinish"
	push "_cptfherofin"
	call ptf,addmethod
	new string,_sfinob
	new string,_sfinfun
	new int,_bylfin
	push "_cptfnopath"
	cthis sigonnopath
	push "_cptfvisit"
	cthis sigonvisit
	end method
	method herowalkto2
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	push $3
	push $4
	cthis herowalkto
	end method
	method herowalkto
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sstndpref
	push _sanim
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],stop
	push $4
	pop _sfinob
	push $5
	pop _sfinfun
	push $5
	push "null"
	cmpjne
	cmp0
	je l2055
	push 1
	pop _bylfin
l2055:
	push $1
	push $2
	push $3
	cthis walkto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2057
	push 0
	pop ispathto
	jmp l2056
l2057:
	push 1
	pop ispathto
l2056:
	end method
	method heroturn
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sfinob
	push $3
	pop _sfinfun
	push $3
	push "null"
	cmpjne
	cmp0
	je l2059
	push 1
	pop _bylfin
l2059:
	push $1
	cthis turn
	end method
	method advgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	push "null"
	cthis herowalkto2
	end method
	method advwalkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	push "null"
	cthis herowalkto
	end method
	method advvisit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2061
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis advwalkto
l2061:
	end method
	method herostand
	cthis retstep
	cthis stand
	push _sanim
	spushs
	spop $a
	call [$a],herostand
	end method
	method stophero
	cthis herostand
	push 1
	pop bzatrzym
	end method
	method _cptvisit
	push _sfunvisit
	spushs
	spop $d
	cthis [$d]
	push bzmien
	cmp0
	je l2063
	push 0
	pop bzmien
	push destx
	push desty
	cthis goto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2065
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
	jmp l2064
l2065:
	push _sobzmien
	push _sfunzmien
	cthis callfun
l2064:
	jmp l2062
l2063:
	push bzatrzym
	cmp0
	je l2067
	push 0
	pop bzatrzym
	push 1
	cthis stop
l2067:
l2062:
	end method
	method _cptffin
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2069
	push swalkto
	call ptf,onreach
	push "null"
	pop swalkto
	jmp l2068
l2069:
	call ptf,onarrive
l2068:
	end method
	method anposx
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	end method
	method anposy
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	end method
	method bzmien
	push bzmien
	end method
	method bzmien=
	localint $1
	pop $1
	push $1
	pop bzmien
	end method
	method checkreach
	localstring $1
	pop $1
	push ispathto
	neg
	cmp0
	je l2071
	push $1
	push "null"
	cmpjne
	cmp0
	je l2071
	cthis behplaying
	neg
	jmp l2073
l2071:
	push 0
	jmp l2073
l2072:
	push 1
l2073:
	cmp0
	je l2074
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_NOPATH_"
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l2074:
	end method
	end class

	class classwalkerqueue
	method init
	new timer,timwq
	push 1
	call timwq,settick
	push 1
	call timwq,setcycle
	push "onfinish"
	push "_timwqfin"
	call timwq,addmethod
	new vector,vecpt
	push "string"
	call vecpt,type
	new int,iverlen
	push 1
	pop iverlen
	new int,igox
	new int,igoy
	new string,_simg
	new int,bniezmien
	push 1
	pop bniezmien
	end method
	method _timwqfin
	cthis checkqueue
	cthis play
	end method
	method start
	end method
	method ptpos
	localstring $1
	pop $1
	push $1
	call vecpt,find
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	cthis ptpos
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2076
	push $2
	push 0
	cmpje
	cmp0
	je l2078
	call vecpt,first
	spushs
	push "null"
	push "null"
	spop $a
	call [$a],sigonzmien
	push 0
	call vecpt,removeat
	call vecpt,size
	cmp0
	je l2080
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2080:
	jmp l2077
l2078:
	push $2
	call vecpt,removeat
l2077:
l2076:
	end method
	method stop
	push 0
	call timwq,stop
	end method
	method add
	localstring $1
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],anposx
	push $1
	spushs
	spop $a
	call [$a],anposy
	spop $a
	call [$a],iswayto
	popax
	push $1
	call vecpt,add
	call vecpt,size
	push 1
	cmpje
	cmp0
	je l2082
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2082:
	end method
	method ptzmien
	push 0
	pop bniezmien
	push _simg
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis walkto
	call vecpt,first
	spushs
	push 0
	spop $a
	call [$a],bzmien=
	push 1
	pop bniezmien
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	end method
	method visit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2084
	call vecpt,first
	push "_WALKTO_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis walkto
l2084:
	end method
	method setverlen
	localint $1
	pop $1
	push $1
	pop iverlen
	end method
	method stand
	localint $1
	push 0
	pop $1
l2085:
	push $1
	call vecpt,size
	cmpjl
	cmp0
	je l2086
	jmp l2088
l2087:
	add $1,1
	pop $1
	jmp l2085
l2088:
	push $1
	call vecpt,get
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	call vecpt,get
	spushs
	spop $a
	call [$a],herostand
	jmp l2087
l2086:
	end method
	method mulspeed
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l2089:
	push $2
	call vecpt,size
	cmpjl
	cmp0
	je l2090
	jmp l2092
l2091:
	add $2,1
	pop $2
	jmp l2089
l2092:
	push $2
	call vecpt,get
	spushs
	push $1
	spop $a
	call [$a],mulspeed
	jmp l2091
l2090:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop igox
	push $3
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop igoy
	push $1
	pop _simg
	push 1
	pop iverlen
	localint $4
	call vecpt,size
	pop $4
	push $4
	push 0
	cmpjle
	cmp0
	je l2094
	ret
l2094:
	localstring $5
	call vecpt,first
	pop $5
	push $5
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	localint $6
	localint $7
	localstring $8
	localint $9
	push 1
	pop $9
l2095:
	push $9
	push $4
	cmpjl
	cmp0
	je l2096
	jmp l2098
l2097:
	add $9,1
	pop $9
	jmp l2095
l2098:
	push $9
	call vecpt,get
	pop $8
	push $5
	spushs
	spop $a
	call [$a],getidgo
	pop $7
	push bniezmien
	cmp0
	je l2100
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	jmp l2099
l2100:
	push $8
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	push $8
	spushs
	push $9
	push iverlen
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],getgover
	pop $6
l2099:
	push $6
	push 0
	cmpjl
	cmp0
	je l2102
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	push $6
	push 0
	cmpjl
	cmp0
	je l2104
	push $5
	spushs
	spop $a
	call [$a],getidan
	pop $6
l2104:
l2102:
	push $6
	push $7
	cmpje
	cmp0
	je l2106
	push bniezmien
	jmp l2108
l2106:
	push 0
	jmp l2108
l2107:
	push 1
l2108:
	cmp0
	je l2109
	push 1
	popax
	sub 0,$a
	pop $6
l2109:
	push $8
	pop $5
	push $6
	push 0
	cmpjae
	cmp0
	je l2111
	push $8
	spushs
	push "null"
	push $8
	spushs
	push $6
	spop $a
	call [$a],getxver
	push $8
	spushs
	push $6
	spop $a
	call [$a],getyver
	spop $a
	call [$a],advwalkto
	jmp l2110
l2111:
	push $8
	spushs
	push 0
	spop $a
	call [$a],stop
	push $8
	spushs
	spop $a
	call [$a],herostand
l2110:
	jmp l2097
l2096:
	push $5
	spushs
	push $1
	spop $a
	call [$a],checkreach
	end method
	method checkqueue
	localint $1
	call vecpt,size
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l2113
	ret
l2113:
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localint $7
	push 0
	pop $7
l2114:
	push $7
	push $1
	cmpjl
	cmp0
	je l2115
	jmp l2117
l2116:
	add $7,1
	pop $7
	jmp l2114
l2117:
	push $7
	call vecpt,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2119
	push $3
	spushs
	spop $a
	call [$a],getidan
	pop $5
	push $3
	spushs
	spop $a
	call [$a],getidan2
	pop $6
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $2
l2120:
	push $2
	push $1
	cmpjl
	cmp0
	je l2121
	jmp l2123
l2122:
	add $2,1
	pop $2
	jmp l2120
l2123:
	push $2
	call vecpt,get
	pop $4
	push $4
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2125
	push $4
	spushs
	push $5
	spop $a
	call [$a],excludev
	push $4
	spushs
	push $6
	spop $a
	call [$a],excludev
l2125:
	jmp l2122
l2121:
l2119:
	jmp l2116
l2115:
	end method
	end class

	class classstndgroup
	method init
	new gmobjvec,grstnd
	end method
	method pause
	push "lock"
	call grstnd,eval
	cthis stop
	end method
	method resume
	push igmstate
	push 0
	cmpje
	cmp0
	je l2127
	push "unlock"
	call grstnd,eval
	cthis play
l2127:
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grstnd,add
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call grstnd,remove
	end method
	method stop
	push "stop"
	call grstnd,eval
	end method
	method play
	push "play"
	call grstnd,eval
	end method
	method reset
	push "reset"
	call grstnd,eval
	end method
	end class

	class classadvstander
	parent classlocker
	method init
	clparent classlocker,init
	new timer,timstand
	push 1
	call timstand,settick
	push 20000
	call timstand,delay
	push "onfinish"
	push "_timstandfin"
	call timstand,addmethod
	new string,sanim
	cthis getname
	pop sanim
	push _sstndpref
	call sanim,strsubbs
	pop sanim
	new string,_sbeh
	push "beh_"
	push sanim
	pop $b
	popax
	add $a,$b
	push "_IDLE"
	pop $b
	popax
	add $a,$b
	pop _sbeh
	cthis getname
	call modstnd,add
	end method
	method _timstandfin
	localstring $1
	call gameapi,getgamename
	pop $1
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],behexist
	cmp0
	je l2129
	cthis getlock
	neg
	jmp l2131
l2129:
	push 0
	jmp l2131
l2130:
	push 1
l2131:
	cmp0
	je l2132
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],playbeh
l2132:
	end method
	method play
	cthis getlock
	neg
	cmp0
	je l2134
	call timstand,isplaying
	neg
	jmp l2136
l2134:
	push 0
	jmp l2136
l2135:
	push 1
l2136:
	cmp0
	je l2137
	call timstand,play
l2137:
	end method
	method stop
	push 0
	call timstand,stop
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timstand,setdelay
	end method
	method reset
	cthis stop
	cthis play
	end method
	end class

	class classtalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new snd,sndtalk
	call sndtalk,buildfullname
	push 0
	push 1
	call sndtalk,setstartstopflag
	push "onfinish"
	push "_ctalkfin"
	call sndtalk,addmethod
	new timer,timtalk
	push 1
	call timtalk,settick
	new real,rdelay
	push 1.0
	pop rdelay
	push "onfinish"
	push "_ctalkfin"
	call timtalk,addmethod
	new gmimgvec,txttalk
	new int,_iletxt
	push 10
	pop _iletxt
	localstring $1
	localint $2
	push 0
	pop $2
l2138:
	push $2
	push _iletxt
	cmpjl
	cmp0
	je l2139
	jmp l2141
l2140:
	add $2,1
	pop $2
	jmp l2138
l2141:
	push "txttalk"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call txttalk,add
	jmp l2140
l2139:
	new font,fonttalk
	call txttalk,hide
	new vector,vecpom
	push "string"
	call vecpom,type
	new int,iTxtLim
	push 30
	pop iTxtLim
	new int,irtxt
	new int,igtxt
	new int,ibtxt
	new string,stextdb
	new string,_swav
	cthis buildfullname
	new string,stalktype
	push "snd"
	cthis settalktype
	end method
	method set
	localstring $1
	pop $1
	push $1
	cthis link
	end method
	method settextdb
	localstring $1
	pop $1
	push $1
	pop stextdb
	end method
	method setfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call fonttalk,load
	push "setfont"
	push "fonttalk"
	call txttalk,eval1
	end method
	method setsnd
	localstring $1
	pop $1
	push ".wav"
	call $1,contains
	neg
	cmp0
	je l2143
	push $1
	pop _swav
	push ".wav"
	popax
	add $1,$a
	pop $1
	jmp l2142
l2143:
	push ".wav"
	call $1,strsubes
	pop _swav
l2142:
	push $1
	call sndtalk,advloadsnd
	end method
	method herosay1
	localstring $1
	pop $1
	push 1
	push 1
	push 1
	push "null"
	push $1
	cthis herosay
	end method
	method herosay
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push $2
	neg
	cmp0
	je l2145
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	push "null"
	push "null"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
	push stalktype
	spushs
	spop $d
	cthis [$d]
	jmp l2144
l2145:
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	cthis getfullname
	push "_ctalkstart"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
l2144:
	end method
	method thisfinish
	localint $1
	pop $1
	push _sanim
	spushs
	push $1
	spop $a
	call [$a],thisfinish
	end method
	method stop
	localint $1
	pop $1
	push "snd"
	call stalktype,contains
	cmp0
	je l2147
	push $1
	call sndtalk,stop
	push 0
	call timtalk,stop
	jmp l2146
l2147:
	push $1
	call timtalk,stop
l2146:
	end method
	method settalktype
	localstring $1
	pop $1
	push "_cplay"
	pop stalktype
	push "snd"
	call $1,contains
	cmp0
	je l2149
	push "snd"
	popax
	add stalktype,$a
	pop stalktype
l2149:
	push "txt"
	call $1,contains
	cmp0
	je l2151
	push "txt"
	popax
	add stalktype,$a
	pop stalktype
l2151:
	push "film"
	call $1,contains
	cmp0
	je l2153
	push "film"
	popax
	add stalktype,$a
	pop stalktype
l2153:
	end method
	method _csay
	push stextdb
	push "null"
	cmpjne
	cmp0
	je l2155
	localint $1
	push stextdb
	spushs
	push _swav
	spop $a
	call [$a],findbyrow
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l2157
	ret
l2157:
	push stextdb
	spushs
	push $1
	push 2
	spop $a
	call [$a],get
	push " "
	call vecpom,vecbuildfromstring
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push "txt"
	call stalktype,contains
	cmp0
	je l2159
	push _sanim
	spushs
	spop $a
	call [$a],getcx
	pop $4
	push _sanim
	spushs
	spop $a
	call [$a],getpy
	pop $5
	jmp l2158
l2159:
	push 400
	pop $4
	push 590
	pop $5
l2158:
	localint $6
	push 0
	pop $6
	localint $7
	push iResX
	pop $7
	localint $8
	push 0
	pop $8
	localint $9
	push iResY
	pop $9
	localstring $10
	localint $11
	push 0
	pop $11
l2160:
	push $11
	call vecpom,size
	cmpjl
	cmp0
	je l2161
	jmp l2163
l2162:
	add $11,1
	pop $11
	jmp l2160
l2163:
	push $11
	call vecpom,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	call $2,length
	push iTxtLim
	cmpja
	cmp0
	je l2165
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2167
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2167:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2169
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2169:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2171
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2171:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2173
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2173:
	push ""
	pop $2
	add $3,1
	pop $3
l2165:
	jmp l2162
l2161:
	call $2,length
	push 0
	cmpja
	cmp0
	je l2175
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2177
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2177:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2179
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2179:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2181
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2181:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2183
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2183:
	add $3,1
	pop $3
l2175:
	push iResX
	popax
	sub $7,$a
	pop $7
	push iResY
	popax
	sub $9,$a
	pop $9
	push $6
	push 0
	cmpja
	cmp0
	je l2185
	push 0
	pop $6
l2185:
	push $8
	push 0
	cmpja
	cmp0
	je l2187
	push 0
	pop $6
l2187:
	push 0
	push $6
	pop $b
	popax
	sub $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push $3
	popax
	sub 0,$a
	call txttalk0,geth
	pop $b
	popax
	mul $a,$b
	push $8
	pop $b
	popax
	sub $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	call txttalk,move
	call txttalk0,getpy
	push 0
	cmpjl
	cmp0
	je l2189
	push 0
	call txttalk0,getpy
	popax
	sub 0,$a
	call txttalk,move
l2189:
	push rdelay
	push 500
	pop $b
	popax
	mul $a,$b
	call vecpom,size
	pop $b
	popax
	mul $a,$b
	call timtalk,delay
l2155:
	end method
	method _cprinttxt
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push irtxt
	push igtxt
	push ibtxt
	cthis createtxt
	push $2
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setpos
	push 2000
	cthis setz
	cthis show
	end method
	method _cplaysnd
	call sndtalk,getfullname
	cthis cbsplay
	end method
	method _cplaysndtxt
	cthis _cplaysnd
	cthis _csay
	end method
	method _cplaysndtxtfilm
	cthis _cplaysnd
	cthis _csay
	end method
	method _cplaysndfilm
	cthis _csay
	end method
	method _cplaytxt
	cthis _csay
	call timtalk,play
	end method
	method _cplaytxtfilm
	cthis _csay
	call timtalk,play
	end method
	method _cplayfilm
	cthis _csay
	call timtalk,play
	end method
	method setdelay
	localreal $1
	pop $1
	push $1
	pop rdelay
	end method
	method settxtcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop irtxt
	push $2
	pop igtxt
	push $3
	pop ibtxt
	end method
	method _ctalkstart
	push stalktype
	spushs
	spop $d
	cthis [$d]
	end method
	method _ctalkfin
	call txttalk,hide
	push _sanim
	spushs
	spop $a
	call [$a],herostop
	end method
	end class

	class classtxttalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new int,iR
	new int,iG
	new int,iB
	new int,ibR
	new int,ibG
	new int,ibB
	new int,ibA
	new int,ibrr
	new int,ibrg
	new int,ibrb
	new int,ibra
	new int,ibw
	new db,dbtxt
	new int,iSize
	new gmimgvec,grtxt
	new gmimgvec,grtxt2
	localstring $1
	localint $2
	push 0
	pop $2
l2190:
	push $2
	push 25
	cmpjl
	cmp0
	je l2191
	jmp l2193
l2192:
	add $2,1
	pop $2
	jmp l2190
l2193:
	push "txt"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call grtxt,add
	push $1
	spushs
	spop $a
	call [$a],hide
	jmp l2192
l2191:
	new text,imgtxt
	call imgtxt,hide
	new int,bplaying
	push 0
	pop bplaying
	new string,slang
	push "pol"
	cthis setlang
	end method
	method setlang
	localstring $1
	pop $1
	push $1
	pop slang
	end method
	method isplaying
	push bplaying
	ret
	end method
	method setfont
	localstring $1
	pop $1
	push "setfont"
	push $1
	call grtxt,eval1
	push $1
	spushs
	spop $a
	call [$a],getsize
	pop iSize
	end method
	method setfontcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop iR
	push $2
	pop iG
	push $3
	pop iB
	end method
	method setfontbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop ibR
	push $2
	pop ibG
	push $3
	pop ibB
	push $4
	pop ibA
	end method
	method setbgframe
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	pop ibrr
	push $3
	pop ibrg
	push $4
	pop ibrb
	push 255
	pop ibra
	push $1
	pop ibw
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	call grtxt,setz
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call imgtxt,setz
	end method
	method herosay
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push "auto"
	cmpje
	cmp0
	je l2195
	cthis getdir
	pop $4
l2195:
	push 1
	pop bplaying
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	push slang
	pop $b
	popax
	add $a,$b
	call dbtxt,load
	localstring $5
	call grtxt2,free
	localint $6
	push 0
	pop $6
	localint $7
	call dbtxt,getrowsno
	pop $7
	localint $8
	push 0
	pop $8
l2196:
	push $8
	push $7
	cmpjl
	cmp0
	je l2197
	jmp l2199
l2198:
	add $8,1
	pop $8
	jmp l2196
l2199:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $8
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $5
	spushs
	push iR
	push iG
	push iB
	spop $a
	call [$a],createtxt
	push $5
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push iSize
	popax
	add $3,$a
	pop $3
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	spop $a
	call [$a],getw
	push $6
	cmpja
	cmp0
	je l2201
	push $5
	spushs
	spop $a
	call [$a],getw
	pop $6
l2201:
	push $5
	call grtxt2,add
	jmp l2198
l2197:
	call txt0,getpx
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt0,getpy
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $6
	push iSize
	pop $b
	popax
	add $a,$b
	push iSize
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	push ibR
	push ibG
	push ibB
	push ibA
	call imgtxt,setbkg
	push ibw
	push ibrr
	push ibrg
	push ibrb
	push ibra
	call imgtxt,setborders
	call imgtxt,show
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2203
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push _sbase
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push "null"
	push "null"
	push $4
	spop $a
	call [$a],playspec
l2203:
	end method
	method stop
	push 0
	pop bplaying
	call grtxt2,hide
	call imgtxt,hide
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2205
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
l2205:
	end method
	end class

	class classbgplan
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,rpx
	new real,rpy
	new real,scalex
	new real,scaley
	new int,_ix
	new int,_iy
	end method
	method setscale
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop scaley
	pop scalex
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add rpx,$a
	pop rpx
	push $2
	popax
	add rpy,$a
	pop rpy
	localint $3
	push rpx
	pop $3
	localint $4
	push rpy
	pop $4
	push $3
	popax
	sub rpx,$a
	pop rpx
	push $4
	popax
	sub rpy,$a
	pop rpy
	push $3
	cmp0
	jne l2208
	push $4
	jmp l2209
l2207:
	push 0
	jmp l2209
l2208:
	push 1
l2209:
	cmp0
	je l2210
	push $3
	popax
	add _ix,$a
	pop _ix
	push $4
	popax
	add _iy,$a
	pop _iy
	push $3
	push $4
	clparent gmobjvec,move
l2210:
	end method
	method movebgr
	localreal $1
	localreal $2
	pop $2
	pop $1
	push scalex
	push $1
	pop $b
	popax
	mul $a,$b
	push scaley
	push $2
	pop $b
	popax
	mul $a,$b
	cthis move
	end method
	method getpx
	push _ix
	end method
	method getpy
	push _iy
	end method
	end class

	class classgrplans
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,_rxp
	new real,_ryp
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "movebgr"
	push $1
	push $2
	cthis eval2
	end method
	method getposx
	push _rxp
	ret
	end method
	method getposy
	push _ryp
	ret
	end method
	method shift
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	end class

	class CameraPos
	method init
	localint $1
	localint $2
	pop $2
	pop $1
	new int,_x
	new int,_y
	push $1
	push $2
	cthis setpos
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _x
	push $2
	pop _y
	end method
	method getposx
	push _x
	end method
	method getposy
	push _y
	end method
	end class

	class classadvcamera
	method init
	new classgrplans,grbgrs
	new string,sancamera
	push "null"
	pop sancamera
	new string,smsmvfun
	push "null"
	pop smsmvfun
	new real,_rxmod
	new real,_rymod
	push 0.05
	push 0.05
	pop _rymod
	pop _rxmod
	new real,rleft
	new real,rtop
	new real,rright
	new real,rbottom
	push 0.0
	push 0.0
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbottom
	pop rright
	pop rtop
	pop rleft
	new int,icamx
	new int,icamy
	push 400
	spushs
	spop $h
	call $h,igetsc
	push 300
	spushs
	spop $h
	call $h,igetsc
	pop icamy
	pop icamx
	new real,rborx
	new real,rbory
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbory
	pop rborx
	new real,_lastx
	push 0
	pop _lastx
	new real,_lasty
	push 0
	pop _lasty
	new string,_sfunxedge
	push "null"
	pop _sfunxedge
	new string,_sfunyedge
	push "null"
	pop _sfunyedge
	push 0
	push 0
	new CameraPos,_campos
	new timer,timcamera
	push 1
	call timcamera,settick
	push 1
	call timcamera,setcycle
	push "onfinish"
	push "_camerafin"
	call timcamera,addmethod
	end method
	method _camerafin
	cthis checkcamera
	cthis play
	end method
	method setscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop rleft
	push $2
	pop rtop
	push $3
	pop rright
	push $4
	pop rbottom
	push $3
	pop rborx
	push $4
	pop rbory
	push $1
	pop _lastx
	push $2
	pop _lasty
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop icamx
	push $2
	push $4
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop icamy
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l2211:
	push $2
	call grbgrs,size
	cmpjl
	cmp0
	je l2212
	jmp l2214
l2213:
	add $2,1
	pop $2
	jmp l2211
l2214:
	push $2
	call grbgrs,get
	spushs
	push $1
	spop $a
	call [$a],remove
	jmp l2213
l2212:
	end method
	method funxedge
	localstring $1
	pop $1
	push $1
	pop _sfunxedge
	end method
	method funyedge
	localstring $1
	pop $1
	push $1
	pop _sfunyedge
	end method
	method setcenter
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop icamy
	pop icamx
	end method
	method setborders
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop rbottom
	pop rright
	end method
	method countcenter
	push rleft
	push rright
	push rleft
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push rtop
	push rbottom
	push rtop
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	cthis setcenter
	end method
	method getposx
	call grbgrs,getposx
	ret
	end method
	method getposy
	call grbgrs,getposy
	ret
	end method
	method setmetonmsmove
	localstring $1
	pop $1
	push $1
	pop smsmvfun
	end method
	method start
	call timcamera,play
	end method
	method stop
	push 0
	call timcamera,stop
	end method
	method setactor
	localstring $1
	pop $1
	push $1
	pop sancamera
	end method
	method setcampos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call _campos,setpos
	push "_campos"
	cthis setactor
	end method
	method isactor
	localstring $1
	pop $1
	push $1
	push sancamera
	cmpje
	ret
	end method
	method getactor
	push sancamera
	ret
	end method
	method scalemodifiers
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop _rymod
	pop _rxmod
	end method
	method newbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbgplan,[$e]
	push $1
	push $2
	push $3
	cthis addbgr
	end method
	method addbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setscale
	push $1
	call grbgrs,add
	end method
	method addtobgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	end method
	method setscene
	push 1.0
	push 1.0
	cthis _setscene
	end method
	method _setscene
	localreal $1
	localreal $2
	pop $2
	pop $1
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2216
	ret
l2216:
	localreal $3
	push icamx
	push sancamera
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $3
	push $1
	popax
	mul $3,$a
	pop $3
	localreal $4
	push icamy
	push sancamera
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $4
	push $2
	popax
	mul $4,$a
	pop $4
	localreal $5
	cthis getposx
	push $3
	pop $b
	popax
	add $a,$b
	pop $5
	localreal $6
	cthis getposy
	push $4
	pop $b
	popax
	add $a,$b
	pop $6
	push $5
	push rleft
	cmpjae
	cmp0
	je l2218
	cthis getposx
	popax
	sub 0,$a
	pop $3
	jmp l2217
l2218:
	push $5
	push rright
	pop $b
	popax
	add $a,$b
	push rborx
	cmpjl
	cmp0
	je l2220
	push rborx
	cthis getposx
	push rright
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $3
l2220:
l2217:
	push $6
	push rtop
	cmpjae
	cmp0
	je l2222
	cthis getposy
	popax
	sub 0,$a
	pop $4
	jmp l2221
l2222:
	push $6
	push rbottom
	pop $b
	popax
	add $a,$b
	push rbory
	cmpjl
	cmp0
	je l2224
	push rbory
	cthis getposy
	push rbottom
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $4
l2224:
l2221:
	push $3
	cmp0
	jne l2227
	push $4
	jmp l2228
l2226:
	push 0
	jmp l2228
l2227:
	push 1
l2228:
	cmp0
	je l2229
	push $3
	push $4
	call grbgrs,move
	push smsmvfun
	push "null"
	cmpjne
	cmp0
	je l2231
	push smsmvfun
	spushs
	spop $d
	cthis [$d]
l2231:
l2229:
	push $3
	push 0
	cmpje
	cmp0
	je l2233
	push _lastx
	push 0
	cmpjne
	cmp0
	je l2233
	push _sfunxedge
	push "null"
	cmpjne
	jmp l2235
l2233:
	push 0
	jmp l2235
l2234:
	push 1
l2235:
	cmp0
	je l2236
	push _sfunxedge
	spushs
	spop $d
	cthis [$d]
l2236:
	push $4
	push 0
	cmpje
	cmp0
	je l2238
	push _lasty
	push 0
	cmpjne
	cmp0
	je l2238
	push _sfunyedge
	push "null"
	cmpjne
	jmp l2240
l2238:
	push 0
	jmp l2240
l2239:
	push 1
l2240:
	cmp0
	je l2241
	push _sfunyedge
	spushs
	spop $d
	cthis [$d]
l2241:
	push $3
	pop _lastx
	push $4
	pop _lasty
	end method
	method checkcamera
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2243
	ret
l2243:
	push _rxmod
	push _rymod
	cthis _setscene
	end method
	method moveplans
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add rleft,$a
	pop rleft
	push $1
	popax
	add rright,$a
	pop rright
	push $2
	popax
	add rtop,$a
	pop rtop
	push $2
	popax
	add rbottom,$a
	pop rbottom
	push $1
	popax
	add rborx,$a
	pop rborx
	push $2
	popax
	add rbory,$a
	pop rbory
	push $1
	popax
	add icamx,$a
	pop icamx
	push $2
	popax
	add icamy,$a
	pop icamy
	push $1
	push $2
	call grbgrs,shift
	end method
	end class

	class classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "but"
	cthis setadvbutmets
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "but"
	clparent classadvbut,setasbutton2
	end method
	method setasbutton2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setadvbutmets"
	push "setadvbutmets"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbuttyp"
	push "setbuttyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setadvbutpos"
	push "setadvbutpos"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutdir"
	push "setbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase1"
	push "setbutbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase2"
	push "setbutbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase"
	push "setbutbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase1"
	push "getbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase2"
	push "getbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutdir"
	push "getbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutname"
	push "getbutname"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettyp"
	push "gettyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "reachable"
	push "reachable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setreach"
	push "setreach"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgox"
	push "getgox"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgoy"
	push "getgoy"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enable"
	push "enable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "disable"
	push "disable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enabled"
	push "enabled"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setonce"
	push "setonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "checkonce"
	push "checkonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpocket"
	push "classadvbut0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "classadvbut1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveoff"
	push "moveoff"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "clickon"
	push "clickon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "lrel"
	push "lrel"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomebut"
	push "classadvbut2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomeitem"
	push "classadvbut3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomedoors"
	push "classadvbut4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "copyposfrompt"
	push "classadvbut5"
	spop $a
	call [$a],addmethod
	push igmipad
	cmp0
	je l2245
	push $1
	spushs
	push "butisin"
	push "classadvbut6"
	spop $a
	call [$a],addmethod
	jmp l2244
l2245:
	push $1
	spushs
	push "butisin"
	push "classadvbut7"
	spop $a
	call [$a],addmethod
l2244:
	push $1
	spushs
	push "ismask"
	push "classadvbut8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbmask"
	push "classadvbut9"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setadvbutmets
	push $1
	spushs
	push 1
	spop $a
	call [$a],setreach
	end method
	method classadvbut0
	localstring $1
	pop $1
	push $1
	pop _spocket
	end method
	method classadvbut1
	push _spocket
	end method
	method classadvbut2
	cthis getname
	clparent classadvbut,setasbut
	end method
	method classadvbut3
	cthis getname
	clparent classadvbut,setasitem
	end method
	method classadvbut4
	cthis getname
	clparent classadvbut,setasdoors
	end method
	method classadvbut5
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getbyname
	pop $3
	push $1
	spushs
	push $3
	spop $a
	call [$a],getxver
	push $1
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],getyver
	push $1
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	cthis setadvbutpos
	end method
	method classadvbut6
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis isin
	end method
	method classadvbut7
	cthis isin
	end method
	method classadvbut8
	push bismask
	end method
	method classadvbut9
	localint $1
	pop $1
	push $1
	pop bismask
	end method
	method setonce
	localstring $1
	pop $1
	push $1
	pop _sonce
	end method
	method checkonce
	push _sonce
	push "null"
	cmpjne
	cmp0
	je l2247
	push _sonce
	call clsave,bis
	neg
	jmp l2249
l2247:
	push 0
	jmp l2249
l2248:
	push 1
l2249:
	cmp0
	je l2250
	push _sonce
	call clsave,bset
	cthis disable
l2250:
	end method
	method setadvbutmets
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_styp
	push $2
	pop _styp
	new string,_sname
	push $1
	pop _sname
	new int,igox
	cthis getposx
	pop igox
	new int,igoy
	cthis getposy
	pop igoy
	new string,sgox
	push "null"
	pop sgox
	new string,sgoy
	push "null"
	pop sgoy
	new string,_sbutdir
	push "auto"
	pop _sbutdir
	new string,_sbase1
	push "look:"
	push 1
	call modadv,get
	pop _sbase1
	new string,_sbase2
	push "look:"
	push 2
	call modadv,get
	pop _sbase2
	new int,breachable
	push 0
	pop breachable
	new string,_spocket
	push $1
	pop _spocket
	new string,_sonce
	push "null"
	pop _sonce
	new int,bismask
	push 0
	pop bismask
	push A
	push "baseuse1"
	push _sbase1
	push "baseuse2"
	push _sbase2
	push "hideontake"
	push 1
	cthis vars2
	cthis enable
	end method
	method setasmask
	localstring $1
	pop $1
	push $1
	spushs
	push "butisin"
	push "classadvbut10"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push 1
	spop $a
	call [$a],setbmask
	end method
	method classadvbut10
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	cthis isin
	end method
	method enable
	push AdventureGame
	neg
	cmp0
	je l2252
	ret
l2252:
	cthis getname
	call grbuts,addonce
	end method
	method disable
	push AdventureGame
	neg
	cmp0
	je l2254
	ret
l2254:
	cthis getname
	call grbuts,remove
	end method
	method enabled
	push AdventureGame
	neg
	cmp0
	je l2256
	ret
l2256:
	cthis getname
	call grbuts,contains
	ret
	end method
	method setbutbase
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbutbase1
	push $2
	cthis setbutbase2
	end method
	method setreach
	localint $1
	pop $1
	push $1
	pop breachable
	end method
	method reachable
	push breachable
	ret
	end method
	method setbuttyp
	localstring $1
	pop $1
	push $1
	pop _styp
	end method
	method lrel
	end method
	method clickon
	cthis reachable
	cmp0
	je l2258
	cthis getname
	call clwalkq,visit
l2258:
	end method
	method moveon
	call advmouse,setactive
	end method
	method moveoff
	call advmouse,setstd
	end method
	method setadvbutpos
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sgox
	push $2
	pop sgoy
	push $1
	pop igox
	push $2
	pop igoy
	end method
	method setbutdir
	localstring $1
	pop $1
	push $1
	pop _sbutdir
	end method
	method setbutbase1
	localstring $1
	pop $1
	push $1
	pop _sbase1
	push $1
	pop baseuse1
	end method
	method setbutbase2
	localstring $1
	pop $1
	push $1
	pop _sbase2
	push $1
	pop baseuse2
	end method
	method getbase1
	push _sbase1
	ret
	end method
	method getbase2
	push _sbase2
	ret
	end method
	method getbutdir
	push _sbutdir
	ret
	end method
	method getbutname
	push _sname
	ret
	end method
	method gettyp
	push _styp
	ret
	end method
	method getgox
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2260
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2262
	push smainhero
	spushs
	spop $a
	call [$a],getposx
	jmp l2261
l2262:
	push sgoy
	spushs
	spop $a
	call [$a],getposx
l2261:
	jmp l2259
l2260:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2264
	push sgoy
	spushs
	spop $a
	call [$a],getcx
	jmp l2263
l2264:
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
l2263:
l2259:
	end method
	method getgoy
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2266
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2268
	push smainhero
	spushs
	spop $a
	call [$a],getposy
	jmp l2267
l2268:
	push sgoy
	spushs
	spop $a
	call [$a],getposy
l2267:
	jmp l2265
l2266:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2270
	push sgoy
	spushs
	spop $a
	call [$a],getey
	jmp l2269
l2270:
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
l2269:
l2265:
	end method
	method getposx
	push 0
	ret
	end method
	method getposy
	push 0
	ret
	end method
	method getz
	push 0
	ret
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 0
	ret
	end method
	method setasbut
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasitem
	localstring $1
	pop $1
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasdoors
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "classadvbut11"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method classadvbut11
	call advmouse,setexit
	end method
	end class

	class classadvitem
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "item"
	clparent classadvbut,init
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "item"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	end class

	class classadvdoors
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "doors"
	clparent classadvbut,init
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "doors"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method moveon
	call advmouse,setexit
	end method
	end class

	class classbehhero
	method init
	new string,_snextbeh
	push "null"
	pop _snextbeh
	new string,_stdfinfun
	push "null"
	pop _stdfinfun
	new string,_stdfinobj
	push "null"
	pop _stdfinobj
	new string,_stype
	push "null"
	pop _stype
	new string,_scaller
	new int,bblock
	push 1
	pop bblock
	new int,bparal
	push 0
	pop bparal
	end method
	method gonext
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	push bparal
	cmp0
	je l2272
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],behret
	pop $2
	jmp l2271
l2272:
	push _sstarter
	spushs
	spop $a
	call [$a],isenumer
	cmp0
	je l2274
	push _sstarter
	cthis getname
	cmpjne
	jmp l2276
l2274:
	push 0
	jmp l2276
l2275:
	push 1
l2276:
	cmp0
	je l2277
	push 1
	pop $2
	jmp l2273
l2277:
	push _snextbeh
	push "null"
	cmpjne
	cmp0
	je l2279
	push _snextbeh
	spushs
	push $1
	spop $a
	call [$a],eval
	jmp l2278
l2279:
	push 1
	pop $2
l2278:
l2273:
l2271:
	push $2
	cmp0
	je l2281
	push $1
	cthis finishbeh
l2281:
	end method
	method finishbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2283
	push $1
	spushs
	spop $a
	call [$a],reteval
	jmp l2282
l2283:
	call modstnd,resume
	localstring $2
	cthis getactbeh
	pop $2
	push _sstarter
	spushs
	spop $a
	call [$a],callbehfin
	cthis getactbeh
	push $2
	cmpje
	cmp0
	je l2285
	push "null"
	cthis setactbeh
l2285:
l2282:
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setfinfun
	cthis advgetlock
	pop _bmslock
	push bblock
	cthis advmssetlock
	call modstnd,pause
	push "null"
	cthis eval
	end method
	method eval
	localstring $1
	pop $1
	cthis getname
	cthis setactbeh
	push $1
	pop _scaller
	cthis _eval
	end method
	method rewind
	push "_rew"
	cthis hasaddedmet
	cmp0
	je l2287
	cthis _rew
l2287:
	end method
	method reteval
	push _scaller
	cthis gonext
	end method
	method callbehfin
	push _bmslock
	cthis advmssetlock
	push _stdfinobj
	push _stdfinfun
	cthis callfun
	push "null"
	pop _stdfinobj
	push "null"
	pop _stdfinfun
	cthis getname
	spushs
	push _sbeh
	spop $a
	call $a,strsubbs
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _evalenter
	cthis getname
	push "reteval"
	call ccs,obenter
	end method
	method _evalclose
	cthis getname
	push "reteval"
	call ccs,obclose
	end method
	method _evalmusic
	call vmus,getfullname
	push 0
	call _music,playvec
	cthis reteval
	end method
	method _evalscript
	push _id
	push 0
	cmpjae
	cmp0
	je l2289
	localint $1
	push _id
	pop $1
	localdef $2
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
l2290:
	push $2
	push ")"
	cmpjne
	cmp0
	je l2291
	push _sscr
	spushs
	push $1
	push _id
	pop $b
	popax
	sub $a,$b
	push $2
	spop $a
	call [$a],ARG=
	add $1,1
	pop $1
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
	jmp l2290
l2291:
l2289:
	push _sscr
	spushs
	push _sfun2
	spop $a
	call [$a],call
	cthis reteval
	end method
	method _evalmet
	push _sob2
	push _sfun2
	cthis callfun
	cthis reteval
	end method
	method _evalsave
	push ssavvar
	push ssavval
	call clsave,set
	cthis reteval
	end method
	method _evalgame
	localstring $1
	call gameapi,getgamename
	pop $1
	push _styp
	spushs
	push "-def"
	cmpst
	jne l2293
	spop $a
	push $1
	spushs
	push _spath
	push _sgame
	spop $a
	call [$a],playfromscript
	jmp l2292
l2293:
	push "-adv"
	cmpst
	jne l2294
	spop $a
	push $1
	spushs
	push _sgame
	push _spath
	spop $a
	call [$a],playnewgamepath
	jmp l2292
l2294:
	spop $a
	push $1
	spushs
	push _sgame
	spop $a
	call [$a],playnewgame
l2292:
	cthis reteval
	end method
	method _evalread
	push _sread
	push _ix
	push _iy
	push _sdir
	call clhilarytxt,herosaydir
	end method
	method _rewread
	call clhilarytxt,stop
	cthis reteval
	end method
	method _evalwait
	call timwait,play
	end method
	method _evaltalk
	localstring $1
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $1
	localstring $2
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	call engine,varexist
	cmp0
	je l2296
	push $2
	spushs
	spop $a
	call [$a],getdir
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	cmpjne
	jmp l2298
l2296:
	push 0
	jmp l2298
l2297:
	push 1
l2298:
	cmp0
	je l2299
	push $1
	spushs
	push _sdir
	cthis getname
	push "_evaltalk"
	spop $a
	call [$a],heroturn
	ret
l2299:
	push _san
	cthis advanstand
	push $2
	spushs
	call modadv,gettalktype
	spop $a
	call [$a],settalktype
	push $2
	spushs
	push __swav
	spop $a
	call [$a],setsnd
	push $2
	spushs
	push __sbase
	spop $a
	call [$a],checkamounts
	push $2
	spushs
	push isort
	push bstt
	push bstp
	cthis getname
	push "reteval"
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	spop $a
	call [$a],herosaydir
	end method
	method _rewtalk
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],stop
	end method
	method _evalsetpos
	localint $1
	localint $2
	localstring $3
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $3
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2301
	push $3
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push $3
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push $3
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push _san
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	jmp l2300
l2301:
	push _idestx
	pop $1
	push _idesty
	pop $2
	push _san
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l2300:
	push _bssc
	cmp0
	je l2303
	call clcamera,setscene
l2303:
	push $3
	call engine,varexist
	cmp0
	je l2305
	push $3
	spushs
	spop $a
	call [$a],scalean
l2305:
	push _san
	spushs
	push _san
	spushs
	spop $a
	call [$a],getposy
	spop $a
	call [$a],setz
	push _sdir
	push "auto"
	cmpjne
	cmp0
	je l2307
	push _san
	spushs
	push _sdir
	spop $a
	call [$a],setdir
l2307:
	cthis reteval
	end method
	method _evalwalk
	localint $1
	localint $2
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2309
	push _sptf
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	push _sptf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	push _sptf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $2
	jmp l2308
l2309:
	push _idestx
	push "-hero"
	cmpje
	cmp0
	je l2311
	push _idesty
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push _idesty
	spushs
	spop $a
	call [$a],getposy
	pop $2
	localint $3
	push 1
	pop $3
	push _sptf
	spushs
	push $1
	push $2
	spop $a
	call [$a],ptfgoto
	push 0
	cmpjae
	cmp0
	je l2313
	push _sptf
	spushs
	push 1
	spop $a
	call [$a],getgover
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2315
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push 0
	pop $3
l2315:
l2313:
	push _sptf
	spushs
	push 0
	spop $a
	call [$a],stop
	push $3
	cmp0
	je l2317
	localdef $4
	push _spathpref
	call _sptf,strsubbs
	pop $4
	push $4
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push $4
	spushs
	spop $a
	call [$a],getposy
	pop $2
l2317:
	jmp l2310
l2311:
	push _idestx
	pop $1
	push _idesty
	pop $2
l2310:
l2308:
	push _sptf
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis getname
	push "reteval"
	spop $a
	call [$a],herowalkto2
	end method
	method _evalturn
	localstring $1
	push _sdir
	pop $1
	push A
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call $1,in
	neg
	cmp0
	je l2319
	localstring $2
	push _sptf
	spushs
	spop $a
	call [$a],getanim
	pop $2
	push _sptf
	spushs
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $2
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $2
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],vecdir
	pop $1
l2319:
	push _sptf
	spushs
	push $1
	cthis getname
	push "reteval"
	spop $a
	call [$a],heroturn
	end method
	method _evalanorder
	push _san
	cthis advanstand
	push _sdb
	push _irow
	push _icol
	push _san
	cthis analizeaninstr
	popax
	cthis reteval
	end method
	method _evalanplay
	push _san
	spushs
	push "bthisfin"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2321
	push _san
	spushs
	spop $a
	call [$a],setasadvanima
l2321:
	push _san
	cthis advanstand
	push _san
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sact
	clparent StringChecker,isdigit
	cmp0
	je l2323
	push _san
	spushs
	push _sact
	spop $a
	call [$a],nameofaction
	pop _sact
l2323:
	push _san
	spushs
	push _sact
	cthis getname
	push "reteval"
	spop $a
	call [$a],playspec2
	end method
	method _rewanplay
	end method
	method _evalsndbg
	call _sndbg,getfullname
	cthis cbsplay
	cthis reteval
	end method
	method _evalsndplay
	call sndp,getfullname
	cthis cbsplay
	end method
	method _rewsndplay
	push 1
	call sndp,stop
	end method
	method _evalcall
	localstring $1
	push scallobj
	pop $1
	push "$"
	call $1,contains
	cmp0
	je l2325
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2327
	push $1
	popax
	mov $a,[$a]
	psax
	jmp l2326
l2327:
	push sscript
	spushs
	push $1
	spop $a
	call [$a],get
l2326:
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l2329
	cthis reteval
	ret
l2329:
l2325:
	push $1
	cthis getbeh
	pop $1
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],eval
	end method
	method _evalnull
	cthis reteval
	end method
	method _evalstart
	localint $1
	localstring $2
	call vbif,free
	push bonce
	push "null"
	cmpjne
	cmp0
	je l2331
	push bonce
	call clsave,bis
	neg
	cmp0
	je l2333
	push bonce
	call clsave,bset
	jmp l2332
l2333:
	push _scaller
	cthis finishbeh
	ret
l2332:
l2331:
	push iisifsave
	push 0
	cmpje
	cmp0
	je l2335
	push sisifsave
	push sisifvar
	call clsave,is
	jmp l2337
l2335:
	push 0
	jmp l2337
l2336:
	push 1
l2337:
	cmp0
	jne l2339
	push iisifsave
	push 1
	cmpje
	cmp0
	je l2340
	push sisifsave
	push sisifvar
	call clsave,is
	neg
	jmp l2342
l2340:
	push 0
	jmp l2342
l2341:
	push 1
l2342:
	jmp l2343
l2338:
	push 0
	jmp l2343
l2339:
	push 1
l2343:
	cmp0
	je l2344
	push _scaller
	cthis finishbeh
	ret
l2344:
	push brand
	cmp0
	je l2346
	call vecbehs,size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2348
	call $1,rand
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2347
l2348:
	cthis reteval
l2347:
	jmp l2345
l2346:
	push bparal
	cmp0
	je l2350
	push "vecbehs"
	call vecbehs2,veccopy
	push 0
	pop $1
l2351:
	push $1
	call vecbehs,size
	cmpjl
	cmp0
	je l2352
	jmp l2354
l2353:
	add $1,1
	pop $1
	jmp l2351
l2354:
	push $1
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2353
l2352:
	jmp l2349
l2350:
	push ienumer
	push 0
	cmpja
	cmp0
	je l2356
	cthis nextenum
	push 1
	pop $b
	popax
	sub $a,$b
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2355
l2356:
	cthis reteval
l2355:
l2349:
l2345:
	end method
	method _ifst
	localint $1
	localint $2
	pop $2
	pop $1
	push ifst
	spushs
	push 1
	cmpst
	jne l2358
	spop $a
	push $1
	cmp0
	je l2359
	push $2
	jmp l2361
l2359:
	push 0
	jmp l2361
l2360:
	push 1
l2361:
	jmp l2357
l2358:
	push 2
	cmpst
	jne l2362
	spop $a
	push $1
	cmp0
	jne l2364
	push $2
	jmp l2365
l2363:
	push 0
	jmp l2365
l2364:
	push 1
l2365:
	jmp l2357
l2362:
	spop $a
	push $1
l2357:
	end method
	method _oper_check
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l2367
	spop $a
	push 2
	jmp l2366
l2367:
	push "&"
	cmpst
	jne l2368
	spop $a
	push 1
	jmp l2366
l2368:
	spop $a
	push 0
l2366:
	end method
	method _ifcheck
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	push istart
	pop $5
	push 0
	pop ifst
l2369:
	push $5
	push istop
	cmpjl
	cmp0
	je l2370
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	pop $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	pop $4
	push $4
	spushs
	push "="
	cmpst
	jne l2372
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2374
	add $5,1
	pop $5
l2374:
	jmp l2371
l2372:
	push "!="
	cmpst
	jne l2375
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	neg
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2377
	add $5,1
	pop $5
l2377:
	jmp l2371
l2375:
	push "&"
	cmpst
	jne l2378
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2380
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2379
l2380:
	push $3
	call clsave,bis
l2379:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 1
	pop ifst
	jmp l2371
l2378:
	push "|"
	cmpst
	jne l2381
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2383
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2382
l2383:
	push $3
	call clsave,bis
l2382:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 2
	pop ifst
	jmp l2371
l2381:
	spop $a
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2385
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2384
l2385:
	push $3
	call clsave,bis
l2384:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
l2371:
	add $5,1
	pop $5
	jmp l2369
l2370:
	push _sstarter
	spushs
	push $1
	spop $a
	call [$a],bif=
	push $1
	end method
	method _checkif
	cthis _ifcheck
	cmp0
	je l2387
	cthis reteval
	jmp l2386
l2387:
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],classbehhero0
l2386:
	end method
	method classbehhero0
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call vecbehs,size
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $5
l2388:
	push $5
	push $3
	cmpjl
	cmp0
	je l2389
	jmp l2391
l2390:
	add $5,1
	pop $5
	jmp l2388
l2391:
	push $5
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2393
	spop $a
	add $2,1
	pop $2
	jmp l2392
l2393:
	push "FI"
	cmpst
	jne l2394
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2396
	push $5
	pop $4
	push $3
	pop $5
	jmp l2395
l2396:
	sub $2,1
	pop $2
l2395:
	jmp l2392
l2394:
	push "ELSE"
	cmpst
	je l2398
	push "ELIF"
	cmpst
	je l2398
	jmp l2397
l2398:
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2400
	push $5
	pop $4
	push $3
	pop $5
l2400:
	jmp l2392
l2397:
	spop $a
l2392:
	jmp l2390
l2389:
	push $4
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	end method
	method _evalIF
	push _sstarter
	spushs
	spop $a
	call [$a],ifpush
	cthis _checkif
	end method
	method _gotofi
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
l2401:
	push $3
	call vecbehs,size
	cmpjl
	cmp0
	je l2402
	jmp l2404
l2403:
	add $3,1
	pop $3
	jmp l2401
l2404:
	push $3
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2406
	spop $a
	add $2,1
	pop $2
	jmp l2405
l2406:
	push "FI"
	cmpst
	jne l2407
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2409
	push $3
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	ret
	jmp l2408
l2409:
	sub $2,1
	pop $2
l2408:
	jmp l2405
l2407:
	spop $a
l2405:
	jmp l2403
l2402:
	end method
	method _evalELIF
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2411
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2410
l2411:
	cthis _checkif
l2410:
	end method
	method _evalELSE
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2413
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2412
l2413:
	cthis reteval
l2412:
	end method
	method _evalFI
	push _sstarter
	spushs
	spop $a
	call [$a],ifpop
	cthis reteval
	end method
	method gettyp
	push _stype
	end method
	method settype
	localstring $1
	pop $1
	push $1
	pop _stype
	push "_eval"
	push "_eval"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasmet
	cmp0
	je l2415
	push "_rew"
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
l2415:
	end method
	method setflags
	localstring $1
	pop $1
	push $1
	pop _snextbeh
	end method
	method setfinfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stdfinobj
	push $2
	pop _stdfinfun
	end method
	method setasstarter
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "start"
	cthis settype
	new string,_sstarter
	cthis getname
	pop _sstarter
	new int,brand
	push $2
	pop brand
	new int,_bmslock
	new vector,vecbehs
	push $4
	pop bblock
	push "string"
	call vecbehs,type
	new string,bonce
	push $1
	pop bonce
	push $3
	pop bparal
	new int,ienumer
	push $5
	pop ienumer
	push $5
	push 0
	cmpja
	cmp0
	je l2417
	new int,_iencnt
	push 1
	pop _iencnt
	jmp l2416
l2417:
	push $3
	cmp0
	je l2419
	new vector,vecbehs2
	push "string"
	call vecbehs2,type
l2419:
l2416:
	new int,iisifsave
	push $6
	pop iisifsave
	push $6
	push 0
	cmpjae
	cmp0
	je l2421
	new string,sisifsave
	push $7
	pop sisifsave
	push $8
	push "null"
	cmpjne
	cmp0
	je l2423
	new string,sisifvar
	push $8
	pop sisifvar
l2423:
l2421:
	new vector,vbif
	end method
	method bif
	call vbif,last
	end method
	method bif=
	localint $1
	pop $1
	call vbif,size
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	call vbif,set
	end method
	method ifpush
	push 1
	call vbif,add
	end method
	method ifpop
	call vbif,pop
	popax
	end method
	method isenumer
	push ienumer
	ret
	end method
	method nextenum
	push _iencnt
	call vecbehs,size
	cmpja
	cmp0
	je l2425
	push ienumer
	push 1
	pop $b
	popax
	add $a,$b
	pop _iencnt
	jmp l2424
l2425:
	add _iencnt,1
	pop _iencnt
l2424:
	push _iencnt
	push 1
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method addtostarter
	localstring $1
	pop $1
	push $1
	call vecbehs,add
	end method
	method getblock
	push bblock
	ret
	end method
	method addflags
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	new string,_sstarter
	push $1
	pop _sstarter
	push _stype
	push "read"
	cmpje
	cmp0
	je l2427
	push 0
	jmp l2426
l2427:
	push $2
l2426:
	pop bblock
	push $3
	pop bparal
	end method
	method behret
	localstring $1
	pop $1
	push $1
	call vecbehs2,remove
	call vecbehs2,size
	push 0
	cmpje
	ret
	end method
	method _setasif
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,istart
	push $3
	pop istart
	new int,istop
	push $4
	pop istop
	new string,_db
	push $1
	pop _db
	new int,irow
	push $2
	pop irow
	new int,ifst
	push 0
	pop ifst
	end method
	method setasIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "IF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setasELIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "ELIF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setas
	localstring $1
	pop $1
	push $1
	cthis settype
	end method
	method setasscript
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "script"
	cthis settype
	new string,_sscr
	push $1
	pop _sscr
	new string,_sfun2
	push $2
	pop _sfun2
	new int,_id
	push $5
	pop _id
	new string,_sdb
	push $3
	pop _sdb
	new int,_row
	push $4
	pop _row
	end method
	method setasuse
	localstring $1
	pop $1
	push "use"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	end method
	method _evaluse
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	spop $a
	call [$a],pckremove
	cthis reteval
	end method
	method _evaltopck
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	push _sfile
	spop $a
	call [$a],additem
	cthis reteval
	end method
	method setastopck
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "topck"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	new string,_sfile
	push $2
	pop _sfile
	end method
	method setasmet
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "met"
	cthis settype
	new string,_sob2
	push $1
	pop _sob2
	new string,_sfun2
	push $2
	pop _sfun2
	end method
	method setassaver
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "save"
	cthis settype
	new string,ssavvar
	push $1
	pop ssavvar
	new string,ssavval
	push $2
	pop ssavval
	end method
	method setasnewgamer
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "game"
	cthis settype
	new string,_sgame
	push $3
	pop _sgame
	new string,_styp
	push $1
	pop _styp
	new string,_spath
	push $2
	pop _spath
	end method
	method setasreader
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "read"
	cthis settype
	new string,_sread
	push $1
	pop _sread
	new int,_ix
	push $2
	pop _ix
	new int,_iy
	push $3
	pop _iy
	new string,_sdir
	push $4
	pop _sdir
	end method
	method setaswaiter
	localint $1
	pop $1
	push "wait"
	cthis settype
	new timer,timwait
	push 1
	call timwait,settick
	push $1
	call timwait,delay
	cthis getname
	push "reteval"
	call timwait,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call timwait,addmethod
	end method
	method setassndbg
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndbg"
	cthis settype
	new snd,_sndbg
	call _sndbg,buildfullname
	push 0
	push 1
	call _sndbg,setstartstopflag
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	call _sndbg,advloadsnd
	push $2
	call _sndbg,setvol
	end method
	method _loadsnd
	end method
	method setasanorder
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "anorder"
	cthis settype
	new string,_sdb
	push $1
	pop _sdb
	new int,_irow
	push $2
	pop _irow
	new int,_icol
	push $3
	pop _icol
	new string,_san
	push $4
	pop _san
	end method
	method setascaller
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "call"
	cthis settype
	new string,scallobj
	push $1
	pop scallobj
	new string,sscript
	push $2
	pop sscript
	end method
	method _csplbuild
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sobj
	push $1
	pop _sobj
	new string,_sfinfun
	push $2
	pop _sfinfun
	end method
	method _csplfinish
	push _sobj
	push _sfinfun
	cthis callfun
	end method
	method setassndplayer
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndplay"
	cthis settype
	new snd,sndp
	call sndp,buildfullname
	push 0
	push 1
	call sndp,setstartstopflag
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndp,advloadsnd
	cthis getname
	push "reteval"
	call sndp,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call sndp,addmethod
	push $2
	call sndp,setvol
	end method
	method setasposer
	localstring $1
	localstring $2
	localint $3
	localint $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "setpos"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_idestx
	push $2
	pop _idestx
	new int,_idesty
	push $3
	pop _idesty
	new int,_bssc
	push $4
	pop _bssc
	new string,_sdir
	push $5
	pop _sdir
	end method
	method setasturn
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "turn"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_sdir
	push $2
	pop _sdir
	end method
	method setaswalker
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "walk"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_idestx
	push $2
	pop _idestx
	new string,_idesty
	push $3
	pop _idesty
	end method
	method setasanplayer
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "anplay"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_sact
	push $2
	pop _sact
	end method
	method setastalker
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "talk"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,__swav
	push $2
	pop __swav
	new string,__sbase
	push $3
	pop __sbase
	new int,isort
	push $4
	pop isort
	new int,bstt
	push $5
	pop bstt
	new int,bstp
	push $6
	pop bstp
	new string,_sdir
	push $7
	pop _sdir
	end method
	method setasenter
	push "enter"
	cthis settype
	end method
	method setasclose
	push "close"
	cthis settype
	end method
	method setasmusic
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "music"
	cthis settype
	new vector,vmus
	push "string"
	call vmus,type
	call vmus,buildfullname
l2428:
	push $3
	push 0
	cmpjae
	cmp0
	je l2429
	push $3
	push $4
	cmpjl
	jmp l2431
l2429:
	push 0
	jmp l2431
l2430:
	push 1
l2431:
	cmp0
	je l2432
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l2428
l2432:
	end method
	end class

	new snd,_fx_pocket
	push "sounds/sfx/harfa.wav"
	call _fx_pocket,load
	class classadvpocket
	parent classadvobject
	parent classadvbut
	parent gmimgvec
	method init
	localstring $1
	pop $1
	clparent classadvobject,init
	push $1
	clparent classadvbut,init
	clparent gmimgvec,init
	push "pocket"
	cthis setbuttyp
	push 1
	cthis setreach
	push "-hero"
	push "-main"
	cthis setadvbutpos
	new int,iX
	new int,iY
	new int,iNumItems
	push 0
	pop iNumItems
	new int,iMaxItems
	push 14
	pop iMaxItems
	new int,iScale
	new string,sState
	push "closed"
	pop sState
	new string,_sanim
	cthis getname
	pop _sanim
	push _spocketpref
	call _sanim,strsubbs
	pop _sanim
	new string,sItem
	push "null"
	pop sItem
	new string,sFocusItem
	push "null"
	pop sFocusItem
	new string,_sbase
	push "anpocket"
	pop _sbase
	new int,_ibase
	call _sbase,length
	pop _ibase
	push 1000
	cthis setz
	new string,sitempath
	new vector,arPocket
	push "string"
	call arPocket,type
	new vector,arPocketFile
	push "string"
	call arPocketFile,type
	push "tim"
	push 1
	push 1
	push "evalpocket"
	cthis cnewtimercyclefin
	push "itempath:"
	push 1
	call modadv,get
	pop sitempath
	localint $2
	cthis getz
	pop $2
	new anima,imitem
	call imitem,anloopfin
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	new img,immarker
	push sitempath
	push "itemmarker.png"
	pop $b
	popax
	add $a,$b
	call immarker,load
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call immarker,setz
	call immarker,hide
	cthis hide
	new int,bskip
	push 0
	pop bskip
	end method
	method addtoadv
	cthis getname
	cthis addtogamevars
	cthis enable
	cthis addasadvobject
	end method
	method removefromadv
	cthis disable
	cthis removefromadvobjs
	end method
	method hidepocket
	push sState
	push "closed"
	cmpjne
	cmp0
	je l2434
	push sState
	push "close"
	cmpjne
	cmp0
	je l2436
	cthis pockettoggle
	push 0
	call tim,stop
l2436:
l2437:
	push sState
	push "closed"
	cmpjne
	cmp0
	je l2438
	call tim,evalpocket
	push 0
	call tim,stop
	jmp l2437
l2438:
l2434:
	end method
	method exitpocket
	push "closed"
	pop sState
	push 0
	call tim,stop
	cthis hide
	end method
	method skip
	push 1
	pop bskip
	end method
	method skipitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2440
	push 1
	pop bskip
l2440:
	end method
	method additem
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call arPocket,contains
	cmp0
	je l2442
	ret
l2442:
	push $1
	call arPocket,add
	push $2
	call arPocketFile,add
	localstring $3
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new anima,[$e]
	push $3
	cthis add
	push $3
	spushs
	push sitempath
	push $2
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
	push $3
	spushs
	cthis getz
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],hide
	add iNumItems,1
	pop iNumItems
	end method
	method savestate
	localstring $1
	pop $1
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call arPocket,vecsave
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call arPocketFile,vecsave
	end method
	method loadstate
	localstring $1
	pop $1
	new vector,vpcp
	push "string"
	call vpcp,type
	new vector,vpcf
	push "string"
	call vpcf,type
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call vpcp,vecload
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call vpcf,vecload
	localint $2
	push 0
	pop $2
l2443:
	push $2
	call vpcp,size
	cmpjl
	cmp0
	je l2444
	jmp l2446
l2445:
	add $2,1
	pop $2
	jmp l2443
l2446:
	push $2
	call vpcp,get
	push $2
	call vpcf,get
	cthis additem
	jmp l2445
l2444:
	delete vpcp
	delete vpcf
	end method
	method removeitem
	localstring $1
	pop $1
	localdef $2
	push _sbase
	call $1,strsubbs
	call arPocket,find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l2448
	ret
l2448:
	push $2
	call arPocket,removeat
	push $2
	call arPocketFile,removeat
	push $1
	cthis remove
	push $1
	spushs
	spop $d
	delete [$d]
	sub iNumItems,1
	pop iNumItems
	push sState
	push "opened"
	cmpje
	cmp0
	je l2450
	cthis hide
l2450:
	end method
	method useitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2452
	push sItem
	cthis removeitem
	cthis itemhide
l2452:
	end method
	method pckremove
	localstring $1
	pop $1
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	cthis removeitem
	end method
	method evalpocket
	cthis play
	push sState
	push "open"
	cmpje
	cmp0
	je l2454
	push 16
	popax
	add iScale,$a
	pop iScale
	jmp l2453
l2454:
	push sState
	push "close"
	cmpje
	cmp0
	je l2456
	push 16
	popax
	sub iScale,$a
	pop iScale
l2456:
l2453:
	push iScale
	push 116
	cmpja
	cmp0
	je l2458
	push 0
	cthis stop
	push 116
	pop iScale
	push "opened"
	pop sState
	jmp l2457
l2458:
	push iScale
	push 0
	cmpjl
	cmp0
	je l2460
	push 0
	cthis stop
	push 0
	pop iScale
	push "closed"
	pop sState
l2460:
l2457:
	localreal $1
	push iScale
	push iScale
	pop $b
	popax
	mul $a,$b
	push 550
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localreal $2
	localstring $3
	localint $4
	push 0
	pop $4
l2461:
	push $4
	push iNumItems
	cmpjl
	cmp0
	je l2462
	jmp l2464
l2463:
	add $4,1
	pop $4
	jmp l2461
l2464:
	push $1
	push $4
	pop $b
	popax
	mul $a,$b
	push $1
	push iNumItems
	pop $b
	popax
	mul $a,$b
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 90.0
	pop $b
	popax
	sub $a,$b
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $2
	push $4
	cthis get
	pop $3
	push $3
	spushs
	call $2,cos
	push iScale
	pop $b
	popax
	mul $a,$b
	push iX
	pop $b
	popax
	add $a,$b
	push 76
	spushs
	spop $h
	call $h,igetsc
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call $2,sin
	push iScale
	pop $b
	popax
	mul $a,$b
	push iY
	pop $b
	popax
	add $a,$b
	push 75
	spushs
	spop $h
	call $h,igetsc
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l2466
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
l2466:
	jmp l2463
l2462:
	push sState
	push "closed"
	cmpje
	cmp0
	je l2468
	cthis hide
l2468:
	end method
	method pocketpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push iX
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push $2
	push iY
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	cthis move
	push $1
	pop iX
	push $2
	pop iY
	end method
	method pockettoggle
	push sState
	push "opened"
	cmpje
	cmp0
	je l2470
	push "close"
	pop sState
	call immarker,hide
	call tim,play
	jmp l2469
l2470:
	push sState
	push "closed"
	cmpje
	cmp0
	je l2472
	push "open"
	pop sState
	call _fx_pocket,play
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	pop iX
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	push _sanim
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop iY
	cthis itemhide
	cthis show
	call tim,evalpocket
	call tim,play
	jmp l2471
l2472:
	push sState
	push "open"
	cmpje
	cmp0
	je l2474
	push "close"
	pop sState
	jmp l2473
l2474:
	push sState
	push "close"
	cmpje
	cmp0
	je l2476
	push "open"
	pop sState
l2476:
l2473:
l2471:
l2469:
	end method
	method getitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2478
	push _sbase
	call sItem,strsubbs
	jmp l2477
l2478:
	push "null"
l2477:
	ret
	end method
	method itemhide
	push "null"
	pop sFocusItem
	push "null"
	pop sItem
	push 0
	call imitem,stop
	call imitem,hide
	end method
	method itemclick
	cthis skip
	push sState
	push "closed"
	cmpje
	cmp0
	je l2480
	cthis pockettoggle
	jmp l2479
l2480:
	push sState
	push "opened"
	cmpje
	cmp0
	je l2482
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l2484
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2486
	cthis pockettoggle
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
	cthis itemhide
	jmp l2485
l2486:
	push sFocusItem
	pop sItem
	push sItem
	call imitem,copy
	push sFocusItem
	spushs
	spop $a
	call [$a],hide
	push 1
	call imitem,play
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	cthis setitempos
l2485:
	jmp l2483
l2484:
	cthis pockettoggle
l2483:
	jmp l2481
l2482:
	push sState
	push "open"
	cmpje
	cmp0
	je l2488
	cthis pockettoggle
	jmp l2487
l2488:
	push sState
	push "close"
	cmpje
	cmp0
	je l2490
	cthis pockettoggle
l2490:
l2487:
l2481:
l2479:
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	push $2
	push $3
	push $4
	clparent gmimgvec,isin
	pop $5
	push $5
	cmp0
	je l2492
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	pop sFocusItem
	jmp l2491
l2492:
	push "null"
	pop sFocusItem
	push _sanim
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	pop $5
l2491:
	push $5
	ret
	end method
	method hide
	push "stop"
	push 0
	cthis eval1
	push "hide"
	cthis eval
	call immarker,hide
	end method
	method setitempos
	call mouse,getpx
	push 76
	spushs
	spop $h
	call $h,igetsc
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call mouse,getpy
	push 75
	spushs
	spop $h
	call $h,igetsc
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imitem,setpos
	end method
	method itemmoveoff
	push sState
	push "opened"
	cmpje
	cmp0
	je l2494
	call immarker,hide
l2494:
	end method
	method itemmoveon
	push sState
	push "opened"
	cmpje
	cmp0
	je l2496
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l2498
	call immarker,show
	push sFocusItem
	spushs
	spop $a
	call [$a],getcx
	call immarker,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push sFocusItem
	spushs
	spop $a
	call [$a],getcy
	call immarker,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call immarker,setpos
l2498:
l2496:
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	push bskip
	cmp0
	je l2500
	push 0
	pop bskip
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2502
	push sState
	push "opened"
	cmpje
	cmp0
	je l2502
	push sFocusItem
	push "null"
	cmpje
	jmp l2504
l2502:
	push 0
	jmp l2504
l2503:
	push 1
l2504:
	cmp0
	je l2505
	cthis pockettoggle
l2505:
	jmp l2499
l2500:
	cthis getmainhero
	push _sanim
	cmpje
	cmp0
	je l2507
	push sState
	push "opened"
	cmpje
	cmp0
	jne l2509
	push sState
	push "open"
	cmpje
	jmp l2510
l2508:
	push 0
	jmp l2510
l2509:
	push 1
l2510:
	cmp0
	je l2512
	cthis pockettoggle
	jmp l2511
l2512:
	cthis itemhide
l2511:
l2507:
l2499:
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	cmp0
	je l2514
	push sState
	push "opened"
	cmpje
	cmp0
	je l2516
	push sFocusItem
	push "null"
	cmpjne
	jmp l2518
l2516:
	push 0
	jmp l2518
l2517:
	push 1
l2518:
	cmp0
	je l2519
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_ITEM_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
	jmp l2515
l2519:
	push "beh_RCLICK_"
	push _sanim
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
l2515:
l2514:
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2521
	cthis setitempos
l2521:
	push sState
	push "opened"
	cmpje
	cmp0
	je l2523
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	jmp l2525
l2523:
	push 0
	jmp l2525
l2524:
	push 1
l2525:
	cmp0
	je l2526
	cthis itemmoveon
l2526:
	end method
	method moveoff
	call advmouse,setstd
	cthis itemmoveoff
	end method
	method clickon
	cthis getmainhero
	push _sanim
	cmpje
	cmp0
	je l2528
	call clwalkq,stand
	cthis itemclick
	jmp l2527
l2528:
	cthis getname
	call clwalkq,visit
l2527:
	end method
	end class

	new string,sgmlastscene
	push "null"
	pop sgmlastscene
	new string,sgmglobpath
	push "null"
	pop sgmglobpath
	new string,sgmgame
	push "null"
	pop sgmgame
	new db,gdbsound
	push "save.txt"
	new classfullsave,clsave
	new string,_slhpref
	push "cllh"
	pop _slhpref
	new string,_spathpref
	push "pt"
	pop _spathpref
	new string,_spocketpref
	push "pc"
	pop _spocketpref
	new string,_sstndpref
	push "stnd"
	pop _sstndpref
	new string,_stalkpref
	push "ctlk"
	pop _stalkpref
	new int,AdventureGame
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	module modadv
	method init
	new db,dbload
	new string,stalktype
	push "snd"
	cthis settalktype
	push "null"
	new Script,scrl
	new string,_stalk
	end method
	method execute
	localstring $1
	pop $1
	push $1
	call scrl,call
	end method
	method loadscript
	localstring $1
	pop $1
	push $1
	call scrl,load
	end method
	method loadsounds
	localstring $1
	pop $1
	push $1
	call gdbsound,load
	push igmdebug
	cmp0
	je l2530
	push "exports/adv.dlg"
	call gdbsound,save
l2530:
	end method
	method gettalktype
	push stalktype
	ret
	end method
	method settalktype
	localstring $1
	pop $1
	push $1
	pop stalktype
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbload,loadscript
	push "talk:"
	push 1
	cthis get
	pop _stalk
	end method
	method get
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbload,findbyrow
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l2532
	push "modadv.dbload: can't find "
	push $1
	pop $b
	popax
	add $a,$b
	call engine,print
	push "null"
	ret
	jmp l2531
l2532:
	push $3
	push $2
	call dbload,get
	ret
l2531:
	end method
	end module

	module modadvglob
	method init
	new gmobjvec,grhero
	new gmobjvec,grfiles
	new gmobjvec,grpck
	end method
	method addhero
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 1
	call clsave,set
	localint $4
	push $1
	call grhero,find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l2534
	push $4
	call grfiles,get
	push $2
	cmpjne
	cmp0
	je l2536
	push $4
	push $2
	call grfiles,set
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
l2536:
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $3
	cmp0
	je l2538
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],addtoadv
l2538:
	push 0
	ret
	jmp l2533
l2534:
	push $1
	push $2
	push 0
	cthis newanima
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	call grhero,add
	push $2
	call grfiles,add
	push $3
	cmp0
	je l2540
	localstring $5
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	cthis hasvar
	neg
	cmp0
	je l2542
	push $5
	spushs
	push $1
	spop $e
	new classadvpocket,[$e]
	push $5
	call grpck,add
	push $5
	spushs
	spop $a
	call [$a],addtoadv
	jmp l2541
l2542:
	push $5
	spushs
	spop $a
	call [$a],addtoadv
l2541:
l2540:
	push 1
	ret
l2533:
	end method
	method reloadhero
	localstring $1
	pop $1
	localint $2
	push $1
	call grhero,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2544
	localstring $3
	push $2
	call grfiles,get
	pop $3
	push $1
	push 0
	cthis _delhero
	push $1
	push $3
	push 0
	cthis addhero
	popax
l2544:
	end method
	method delhero
	localstring $1
	pop $1
	push $1
	push 1
	cthis _delhero
	end method
	method delheros
l2545:
	call grhero,size
	cmp0
	je l2546
	call grhero,first
	cthis delhero
	jmp l2545
l2546:
	end method
	method _delhero
	localstring $1
	localint $2
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 0
	call clsave,set
	localint $3
	push $1
	call grhero,find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l2548
	push $1
	spushs
	spop $d
	delete [$d]
	push $3
	call grhero,removeat
	push $3
	call grfiles,removeat
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l2550
	push $2
	jmp l2552
l2550:
	push 0
	jmp l2552
l2551:
	push 1
l2552:
	cmp0
	je l2553
	push $1
	spushs
	spop $d
	delete [$d]
	push $1
	call grpck,remove
l2553:
l2548:
	end method
	method savepck
	localstring $1
	pop $1
	push "grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,vecsave
	localint $2
	push 0
	pop $2
l2554:
	push $2
	call grpck,size
	cmpjl
	cmp0
	je l2555
	jmp l2557
l2556:
	add $2,1
	pop $2
	jmp l2554
l2557:
	push $2
	call grpck,get
	spushs
	push $1
	spop $a
	call [$a],savestate
	jmp l2556
l2555:
	end method
	method loadpck
	localstring $1
	pop $1
	localdef $2
	localdef $3
	localint $4
	push 0
	pop $4
l2558:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l2559
	jmp l2561
l2560:
	add $4,1
	pop $4
	jmp l2558
l2561:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	push $2
	spushs
	spop $d
	delete [$d]
	jmp l2560
l2559:
	push "grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,vecload
	push 0
	pop $4
l2562:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l2563
	jmp l2565
l2564:
	add $4,1
	pop $4
	jmp l2562
l2565:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	push _spocketpref
	call $2,strsubbs
	spop $e
	new classadvpocket,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],loadstate
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	jmp l2564
l2563:
	end method
	method onexit
	localstring $1
	localint $2
	push 0
	pop $2
l2566:
	push $2
	call grhero,size
	cmpjl
	cmp0
	je l2567
	jmp l2569
l2568:
	add $2,1
	pop $2
	jmp l2566
l2569:
	push $2
	call grhero,get
	pop $1
	push $1
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	spushs
	spop $a
	call [$a],hide
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	cmp0
	je l2571
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],exitpocket
l2571:
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],unlinkanima
	jmp l2568
l2567:
	end method
	end module

	class classloadedhero
	method init
	new string,sanhero
	new int,bplaystart
	push 0
	pop bplaystart
	new int,bplaystop
	push 0
	pop bplaystop
	end method
	method setplaystart
	localint $1
	pop $1
	push $1
	pop bplaystart
	end method
	method setplaystop
	localint $1
	pop $1
	push $1
	pop bplaystop
	end method
	method getstartstop
	push bplaystart
	push bplaystop
	ret
	end method
	end class

	class classadvcontroller
	parent classadv
	method init
	push 1
	pop AdventureGame
	clparent classadv,init
	push "sndpath:"
	push 1
	call modadv,get
	cthis setwavpath
	new snd,__sndplay
	call __sndplay,classadvcontroller0
	push 0
	pop igmstate
	new classstndgroup,modstnd
	new Music,_music
	new timer,_tim_dbclk
	push 200
	call _tim_dbclk,setdelay
	new int,_if_pos
	push 1
	popax
	sub 0,$a
	pop _if_pos
	push "_dbbh"
	new classobjcounter,clcbeh
	new string,_sbeh
	push "clbeh"
	pop _sbeh
	new int,iidbeh
	push "dbadv"
	new classobjcounter,clcadv
	new db,dbmacros
	new vector,_vecarg
	push "string"
	call _vecarg,type
	new classadvcamera,clcamera
	push "advmsmove"
	call clcamera,setmetonmsmove
	new classwalkerqueue,clwalkq
	new gmadvvec,grbuts
	new gmimgvec,grmsmove
	new gmimgvec,grmslclick
	new gmimgvec,grmsrclick
	new gmimgvec,grmslrel
	new string,_susetool
	push "null"
	pop _susetool
	new string,_slastms
	push "null"
	pop _slastms
	new int,bmslock
	push 0
	pop bmslock
	new int,_b_rewind
	push 1
	pop _b_rewind
	new string,sactbeh
	push "null"
	pop sactbeh
	new string,slastpathf
	new int,licznik
	push 0
	pop licznik
	new string,smainhero
	push "null"
	pop smainhero
	cthis advsaveonstart
	localstring $1
	localstring $2
	push sgmgame
	push "null"
	cmpje
	cmp0
	je l2573
	cthis getname
	pop sgmgame
l2573:
	new string,sprivgame
	push sgmgame
	pop sprivgame
	push "null"
	pop sgmgame
	push "game"
	call sprivgame,strsubbs
	pop $2
	push sgmglobpath
	push "null"
	cmpjne
	cmp0
	je l2575
	push sgmglobpath
	pop $1
	push "null"
	pop sgmglobpath
	jmp l2574
l2575:
	push $2
	pop $1
l2574:
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	push $2
	push ".adv"
	pop $b
	popax
	add $a,$b
	cthis loadadventure
	call grbuts,sortimgs
	push smainhero
	push "null"
	cmpje
	cmp0
	je l2577
	call clcamera,getactor
	pop smainhero
l2577:
	call clcamera,start
	call clcamera,setscene
	call clwalkq,start
	push 1
	call clwalkq,setverlen
	call advmouse,setstd
	push "preinit"
	cthis behexist
	cmp0
	je l2579
	push "preinit"
	cthis getname
	push "playbehinit"
	cthis playbehobfin
	jmp l2578
l2579:
	cthis playbehinit
l2578:
	call grbuts,sortimgs
	end method
	method classadvcontroller0
	push A
	push "sfun"
	push "null"
	push "sob"
	push "null"
	cthis vars2
	push 0
	push 1
	cthis setstartstopflag
	push "onfinish"
	push "classadvcontroller1"
	cthis addmethod
	end method
	method classadvcontroller1
	push sob
	push sfun
	cthis callfun
	end method
	method playbehinit
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l2581
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2583
	jmp l2582
l2583:
	push "behinit"
	cthis playpostinit
	cmp0
	je l2585
l2585:
l2582:
	jmp l2580
l2581:
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bset
	push "behinit0_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2587
	jmp l2586
l2587:
	push "behinit0"
	cthis playpostinit
	cmp0
	je l2589
	jmp l2588
l2589:
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2591
	jmp l2590
l2591:
	push "behinit"
	cthis playpostinit
	cmp0
	je l2593
l2593:
l2590:
l2588:
l2586:
l2580:
	end method
	method getmainhero
	push smainhero
	ret
	end method
	method setmainhero
	localstring $1
	pop $1
	push $1
	pop smainhero
	end method
	method ismainhero
	localstring $1
	pop $1
	push smainhero
	push $1
	cmpje
	ret
	end method
	method setactbeh
	localstring $1
	pop $1
	push $1
	pop sactbeh
	end method
	method getactbeh
	push sactbeh
	ret
	end method
	method advgetlock
	push bmslock
	ret
	end method
	method advmslock
	push 1
	pop bmslock
	call advmouse,setwait
	end method
	method advmsunlock
	push 0
	pop bmslock
	call advmouse,setstd
	end method
	method advmssetlock
	localint $1
	pop $1
	push $1
	cmp0
	je l2595
	cthis advmslock
	jmp l2594
l2595:
	cthis advmsunlock
l2594:
	end method
	method setusetool
	localstring $1
	pop $1
	push $1
	pop _susetool
	end method
	method getusetool
	push _susetool
	ret
	end method
	method playpostinit
	localstring $1
	pop $1
	push $1
	call gameapi,getgamename
	push "postinit"
	cthis playbehobfinif
	ret
	end method
	method playbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playbehfin
	end method
	method playbehif
	localstring $1
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2597
	push $1
	push "null"
	cthis playbehfin
	push 1
	ret
l2597:
	push 0
	ret
	end method
	method playbehfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis playbehobfin
	end method
	method playbehfinif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2599
	push $1
	push $2
	cthis playbehfin
	push 1
	ret
l2599:
	push 0
	ret
	end method
	method playbehobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis getbeh
	spushs
	push $2
	push $3
	spop $a
	call [$a],playfin
	end method
	method playbehobfinif
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2601
	push $1
	push $2
	push $3
	cthis playbehobfin
	push 1
	ret
l2601:
	push 0
	ret
	end method
	method playnewgamepath
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmglobpath
	push sprivgame
	pop sgmlastscene
	push "lastscene"
	push sgmlastscene
	call clsave,set
	push $1
	call gameapi,play
	end method
	method playnewgame
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playnewgamepath
	end method
	method playfromscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmgame
	push "defaultadv:"
	push 1
	call modadv,get
	push $1
	cthis playnewgamepath
	end method
	method getheroloader
	localstring $1
	pop $1
	push _slhpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2603
	push $1
	jmp l2602
l2603:
	push "null"
l2602:
	end method
	method advanstand
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l2605
	push $2
	spushs
	spop $a
	call [$a],iswalking
	jmp l2607
l2605:
	push 0
	jmp l2607
l2606:
	push 1
l2607:
	cmp0
	je l2608
	push $2
	spushs
	push 0
	spop $a
	call [$a],stop
	push $2
	spushs
	spop $a
	call [$a],stand
l2608:
	end method
	method reloadhero
	localstring $1
	pop $1
	push $1
	cthis _getheropath
	cthis anreload
	localstring $2
	push _spathpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	cthis getname
	spop $a
	call [$a],linkanima
	push $2
	spushs
	spop $a
	call [$a],linkfilter
	push $2
	spushs
	spop $a
	call [$a],scalean
	end method
	method analizeanopts
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $8
	localreal $9
	localstring $10
	localstring $11
	localint $12
	push 0
	pop $12
	localint $13
	push 0
	pop $13
	localint $14
	localint $15
	localint $16
	localint $17
	push 0
	pop $17
l2609:
	push $3
	push $4
	cmpjl
	cmp0
	je l2610
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-stt"
	cmpst
	jne l2612
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $12
	add $3,1
	pop $3
	jmp l2611
l2612:
	push "-stp"
	cmpst
	jne l2613
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $13
	add $3,1
	pop $3
	jmp l2611
l2613:
	push "-wav"
	cmpst
	jne l2614
	spop $a
	push _slhpref
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	pop $10
	add $3,1
	pop $3
	push $10
	spushs
	spop $e
	new classloadedhero,[$e]
	push $10
	spushs
	push "sanhero"
	push $5
	spop $a
	call [$a],varset
	push $6
	spushs
	push $10
	spop $a
	call [$a],add
	jmp l2611
l2614:
	push "-path"
	cmpst
	jne l2615
	spop $a
	push $5
	clparent classadvanhero,buildheroframe
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,to_r
	spushs
	spop $h
	call $h,rgetsc
	pop $8
	add $3,1
	pop $3
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	push $5
	push $10
	push $8
	cthis newclpathfcopy
	push $11
	spushs
	spop $a
	call [$a],prepareforhero
	push $11
	push "look"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherolooker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "use"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherouser,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "take"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherotaker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	jmp l2611
l2615:
	push "-ft"
	cmpst
	jne l2616
	spop $a
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $8
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $11
	spushs
	spop $a
	call [$a],linkfilter
	push $11
	spushs
	push $8
	spop $a
	call [$a],setzsize
	push $11
	spushs
	push $9
	spop $a
	call [$a],setscalepower
	jmp l2611
l2616:
	push "-stnd"
	cmpst
	jne l2617
	spop $a
	push _sstndpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
	add $3,1
	pop $3
	jmp l2611
l2617:
	push "-txt"
	cmpst
	jne l2618
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $14
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $15
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $16
	add $3,1
	pop $3
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $15
	push $16
	spop $a
	call [$a],settxtcolor
	jmp l2611
l2618:
	push "-font"
	cmpst
	jne l2619
	spop $a
	push 1
	pop $17
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $7
	push "hero:"
	cmpje
	cmp0
	je l2621
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $10
	call $11,to_i
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],setfont
l2621:
	jmp l2611
l2619:
	spop $a
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	cthis analizeaninstr
	pop $3
l2611:
	jmp l2609
l2610:
	push $17
	neg
	cmp0
	je l2623
	push $7
	push "hero:"
	cmpje
	jmp l2625
l2623:
	push 0
	jmp l2625
l2624:
	push 1
l2625:
	cmp0
	je l2626
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push "font:"
	push 1
	call modadv,get
	push "font:"
	push 2
	call modadv,get
	spushs
	spop $h
	call $h,to_i
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],setfont
l2626:
	push $6
	spushs
	push "setplaystart"
	push $12
	spop $a
	call [$a],eval1
	push $6
	spushs
	push "setplaystop"
	push $13
	spop $a
	call [$a],eval1
	push $6
	spushs
	spop $a
	call [$a],free
	end method
	method setasadvanima
	cthis getname
	push "cadvherofinish"
	clparent classadvanhero,setashero
	end method
	method analizebut
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	localint $8
	localint $9
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $6
	add $4,1
	pop $4
	push ".pyz"
	call $6,contains
	cmp0
	je l2628
	push $6
	pop $7
	push "an"
	push 4
	call $6,strsube
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $7
	push 0
	cthis newanima
l2628:
	push 1
	call $1,strsube
	pop $1
	push $6
	push $5
	push $1
	clparent classadvbut,setasbutton2
	push "setas"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spop $d
	clparent classadvbut,[$d]
	push $6
	spushs
	push $6
	spushs
	spop $a
	call [$a],getcx
	push $6
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setadvbutpos
l2629:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2630
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-pos"
	cmpst
	jne l2632
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	push $5
	push "-id"
	cmpje
	cmp0
	je l2634
	push slastpathf
	push "null"
	cmpjne
	jmp l2636
l2634:
	push 0
	jmp l2636
l2635:
	push 1
l2636:
	cmp0
	je l2637
	push slastpathf
	spushs
	push $7
	spop $a
	call [$a],getbyname
	pop $8
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getxver
	push slastpathf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $5
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getyver
	push slastpathf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $7
	jmp l2633
l2637:
	call $5,to_i
	spushs
	spop $h
	call $h,igetsc
	pop $5
	call $7,to_i
	spushs
	spop $h
	call $h,igetsc
	pop $7
l2633:
	push $6
	spushs
	push $5
	push $7
	spop $a
	call [$a],setadvbutpos
	jmp l2631
l2632:
	push "-bs1"
	cmpst
	jne l2638
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
	add $4,1
	pop $4
	jmp l2631
l2638:
	push "-bs2"
	cmpst
	jne l2639
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
	add $4,1
	pop $4
	jmp l2631
l2639:
	push "-us1"
	cmpst
	jne l2640
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse1=
	add $4,1
	pop $4
	jmp l2631
l2640:
	push "-us2"
	cmpst
	jne l2641
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse2=
	add $4,1
	pop $4
	jmp l2631
l2641:
	push "-useon"
	cmpst
	jne l2642
	spop $a
	push $6
	spushs
	push "use:"
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $6
	spushs
	push "use:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	jmp l2631
l2642:
	push "-dir"
	cmpst
	jne l2643
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutdir
	add $4,1
	pop $4
	jmp l2631
l2643:
	push "-noreach"
	cmpst
	jne l2644
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],setreach
	jmp l2631
l2644:
	push "-nh"
	cmpst
	jne l2645
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],hideontake=
	jmp l2631
l2645:
	push "-pck"
	cmpst
	jne l2646
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setpocket
	add $4,1
	pop $4
	jmp l2631
l2646:
	push "-mask"
	cmpst
	jne l2647
	spop $a
	push $6
	clparent classadvbut,setasmask
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l2631
l2647:
	push "-inpck"
	cmpst
	jne l2648
	spop $a
	push $6
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l2650
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l2649
l2650:
	push $6
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l2649:
	cthis getmainhero
	pop $5
	push $5
	push "null"
	cmpje
	cmp0
	je l2652
	call clcamera,getactor
	pop $5
l2652:
	push $5
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push $6
	spushs
	spop $a
	call [$a],getbutname
	push $6
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
	jmp l2631
l2648:
	push "-disable"
	cmpst
	jne l2653
	spop $a
	push $6
	spushs
	spop $a
	call [$a],disable
	jmp l2631
l2653:
	push "-once"
	cmpst
	jne l2654
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $6
	spushs
	push $5
	spop $a
	call [$a],setonce
	push $5
	call clsave,bis
	cmp0
	je l2656
	push $6
	spushs
	spop $a
	call [$a],disable
l2656:
	jmp l2631
l2654:
	spop $a
l2631:
	jmp l2629
l2630:
	end method
	method _getheropath
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis getpath
	pop $2
	push $2
	call engine,fileexist
	cmp0
	je l2658
	push "$"
	push $2
	pop $b
	popax
	add $a,$b
	jmp l2657
l2658:
	push "$"
	push "heropath:"
	push 1
	call modadv,get
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
l2657:
	end method
	method loadadventure
	localstring $1
	pop $1
	localstring $2
	call clcadv,get
	pop $2
	localstring $3
	push "grpers"
	call clcadv,size
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localint $4
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	localstring $10
	localstring $11
	localint $12
	localint $13
	localint $14
	localreal $15
	localreal $16
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $2
	spop $e
	new Script,[$e]
	localstring $17
	push ""
	pop $17
	push $3
	spushs
	spop $e
	new gmobjvec,[$e]
	localint $18
	push 0
	pop $18
l2659:
	push $18
	push $4
	cmpjl
	cmp0
	je l2660
	jmp l2662
l2661:
	add $18,1
	pop $18
	jmp l2659
l2662:
	push 0
	pop $5
	push $2
	spushs
	push $18
	spop $a
	call [$a],getcolsno
	pop $6
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	spushs
	push "setpath:"
	cmpst
	jne l2664
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $17
	cthis setgraphpath
	jmp l2663
l2664:
	push "nopath:"
	cmpst
	jne l2665
	spop $a
	push ""
	pop $17
	push $17
	cthis setgraphpath
	jmp l2663
l2665:
	push "func"
	cmpst
	jne l2666
	spop $a
l2667:
	push $2
	spushs
	push $18
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l2668
	add $18,1
	pop $18
	jmp l2667
l2668:
	jmp l2663
l2666:
	push "sndpath:"
	cmpst
	jne l2669
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	cthis setwavpath
	jmp l2663
l2669:
	push "hero:"
	cmpst
	je l2671
	push "an:"
	cmpst
	je l2671
	jmp l2670
l2671:
	spop $a
	push $2
	spushs
	push $18
	push "-global"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push "-pck"
	spop $a
	call [$a],dbdelvar
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push ".pyz"
	call $11,contains
	cmp0
	je l2673
	push $11
	pop $10
	push "an"
	push ".pyz"
	call $11,strsubes
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l2672
l2673:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2672:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2675
	push ".pyz"
	call $10,contains
	cmp0
	je l2677
	push $10
	cthis _getheropath
	pop $10
l2677:
l2675:
	push ".pyz"
	call $10,contains
	cmp0
	je l2679
	push $7
	cmp0
	je l2681
	push $11
	push $10
	push $8
	call modadvglob,addhero
	cmp0
	je l2683
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
l2683:
	sub $6,1
	pop $6
	jmp l2680
l2681:
	push $11
	push $10
	push 0
	cthis newanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2685
	push $8
	jmp l2687
l2685:
	push 0
	jmp l2687
l2686:
	push 1
l2687:
	cmp0
	je l2688
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l2688:
l2680:
	jmp l2678
l2679:
	push $10
	push $11
	cthis copyanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2690
	push $8
	jmp l2692
l2690:
	push 0
	jmp l2692
l2691:
	push 1
l2692:
	cmp0
	je l2693
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l2693:
l2678:
	push $8
	cmp0
	je l2695
	sub $6,1
	pop $6
l2695:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2697
	push _sstndpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new classadvstander,[$e]
	push _stalkpref
	push $11
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classtalker,[$e]
	push $10
	spushs
	push $11
	spop $a
	call [$a],set
	push $10
	spushs
	push "gdbsound"
	spop $a
	call [$a],settextdb
l2697:
	push $2
	push $18
	push $5
	push $6
	push $11
	push $3
	push $9
	cthis analizeanopts
	jmp l2663
l2670:
	push "anaac:"
	cmpst
	jne l2698
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push 0
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2700
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2699
l2700:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2699:
	push $7
	cmp0
	je l2702
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l2701
l2702:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l2701:
	push ".pyz"
	call $10,contains
	cmp0
	je l2704
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
	push 1
	pop $8
l2704:
	push $10
	push $9
	push $9
	cthis newanactionsgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	push $8
	cmp0
	je l2706
	push $10
	spushs
	spop $a
	call [$a],hide
l2706:
	jmp l2663
l2698:
	push "anaf:"
	cmpst
	jne l2707
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2709
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2708
l2709:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2708:
	push $9
	spushs
	spop $e
	new gmimgvec,[$e]
	push ".pyz"
	call $10,contains
	cmp0
	je l2711
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
l2711:
	push $10
	push $9
	push $9
	cthis newanfrbyactgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2707:
	push "anfac:"
	cmpst
	jne l2712
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $7
	cmp0
	je l2714
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l2713
l2714:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l2713:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $10
	push $9
	push $10
	spushs
	push $11
	spop $a
	call [$a],actionnr
	push $9
	cthis newanframesgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2712:
	push "anac:"
	cmpst
	jne l2715
	spop $a
	push $2
	spushs
	push $18
	push "-adv"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $11
	clparent StringChecker,isdigit
	cmp0
	je l2717
	push $10
	spushs
	push $11
	spop $a
	call [$a],nameofaction
	pop $11
l2717:
	push $10
	push $9
	push $11
	cthis copyanimaact
	push $7
	cmp0
	je l2719
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l2719:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2715:
	push "anf:"
	cmpst
	jne l2720
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $10
	push $9
	cthis copyanima
	push $9
	spushs
	push $11
	push $8
	spop $a
	call [$a],setframe
	push $7
	cmp0
	je l2722
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l2722:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2720:
	push "anorder:"
	cmpst
	jne l2723
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2723:
	push "behfile:"
	cmpst
	jne l2724
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l2663
l2724:
	push "include:"
	cmpst
	jne l2725
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadadventure
	add $5,1
	pop $5
	jmp l2663
l2725:
	push "walkqueue:"
	cmpst
	jne l2726
	spop $a
l2727:
	push $5
	push $6
	cmpjl
	cmp0
	je l2728
	push _spathpref
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call clwalkq,add
	add $5,1
	pop $5
	jmp l2727
l2728:
	jmp l2663
l2726:
	push "font:"
	cmpst
	jne l2729
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new font,[$e]
	push $9
	spushs
	push $10
	call $7,igetsc
	spop $a
	call [$a],load
	jmp l2663
l2729:
	push "bkg:"
	cmpst
	jne l2730
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2732
	push "imgbkg"
	push $9
	push 0
	cthis newanima
	jmp l2731
l2732:
	push "imgbkg"
	push $9
	push 0
	cthis newimg
l2731:
	push $2
	push $18
	push $5
	push "imgbkg"
	cthis analizeaninstr
	pop $5
	jmp l2663
l2730:
	push "img:"
	cmpst
	jne l2733
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push 0
	push 4
	call $9,gete
	spushs
	push A
	push ".jpg"
	push ".png"
	spop $h
	call $h,in
	cmp0
	je l2735
	push $9
	pop $10
	push "img"
	push 4
	call $9,strsube
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2734
l2735:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2734:
	push $9
	push $10
	push 0
	cthis newimg
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2663
l2733:
	push "but:"
	cmpst
	je l2737
	push "doors:"
	cmpst
	je l2737
	push "item:"
	cmpst
	je l2737
	jmp l2736
l2737:
	spop $a
	push $9
	push $2
	push $18
	push $5
	cthis analizebut
	jmp l2663
l2736:
	push "camera:"
	cmpst
	jne l2738
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $15
	push $16
	call clcamera,scalemodifiers
l2739:
	push $5
	push $6
	cmpjl
	cmp0
	je l2740
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push "-size"
	cmpje
	cmp0
	je l2742
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	spushs
	spop $h
	call $h,igetsc
	push $8
	spushs
	spop $h
	call $h,igetsc
	call clcamera,setborders
	jmp l2741
l2742:
	push $9
	push "-center"
	cmpje
	cmp0
	je l2744
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	spushs
	spop $h
	call $h,igetsc
	push $8
	spushs
	spop $h
	call $h,igetsc
	call clcamera,setcenter
	jmp l2743
l2744:
	push $9
	push "-sizebg"
	cmpje
	cmp0
	je l2746
	call imgbkg,getw
	call imgbkg,geth
	call clcamera,setborders
l2746:
l2743:
l2741:
	jmp l2739
l2740:
	jmp l2663
l2738:
	push "actor:"
	cmpst
	jne l2747
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clcamera,setactor
	add $5,1
	pop $5
	jmp l2663
l2747:
	push "bgr:"
	cmpst
	jne l2748
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new classbgplan,[$e]
	push $9
	push $15
	push $16
	call clcamera,addbgr
	jmp l2663
l2748:
	push "pathfinder:"
	cmpst
	jne l2749
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push ".ptf"
	call $10,contains
	cmp0
	je l2751
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $7
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $8
	jmp l2750
l2751:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
l2750:
	push slastpathf
	push $10
	push $7
	push $8
	cthis newpathf
	jmp l2663
l2749:
	push "script:"
	cmpst
	jne l2752
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	spushs
	push $10
	spop $e
	new Script,[$e]
	jmp l2663
l2752:
	push "func:"
	cmpst
	jne l2753
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	sub $6,1
	pop $6
	call clcadv,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $7
l2754:
	push $7
	push 0
	cmpjae
	cmp0
	je l2755
	jmp l2757
l2756:
	sub $7,1
	pop $7
	jmp l2754
l2757:
	push $7
	call clcadv,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $10
	spop $a
	call [$a],containsfun
	cmp0
	je l2759
	push 3
	pop $7
l2760:
	push $7
	push $6
	cmpjl
	cmp0
	je l2761
	jmp l2763
l2762:
	add $7,1
	pop $7
	jmp l2760
l2763:
	push $9
	spushs
	push $7
	push 3
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	push $18
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],ARG=
	jmp l2762
l2761:
	push 1
	popax
	sub 0,$a
	pop $7
	push $9
	spushs
	push $10
	spop $a
	call [$a],call
l2759:
	jmp l2756
l2755:
	jmp l2663
l2753:
	push "IF"
	cmpst
	jne l2764
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $18
	push $5
	push $6
	cthis _found_if
	pop $18
	jmp l2663
l2764:
	push "ELSE"
	cmpst
	jne l2765
	spop $a
	push $2
	push $18
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $18
	jmp l2663
l2765:
	push "FI"
	cmpst
	jne l2766
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l2768
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l2768:
	jmp l2663
l2766:
	push "bsave:"
	cmpst
	jne l2769
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clsave,bset
	add $5,1
	pop $5
	jmp l2663
l2769:
	push "save:"
	cmpst
	jne l2770
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	push $10
	call clsave,set
	jmp l2663
l2770:
	push "stdptf:"
	cmpst
	jne l2771
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	jmp l2663
l2771:
	push "sfxs:"
	cmpst
	jne l2772
	spop $a
l2773:
	push $5
	push $6
	cmpjl
	cmp0
	je l2774
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	push 1
	pop $7
	push 100
	pop $8
	push 0
	pop $12
	push 0
	pop $13
	push 0.0
	pop $15
l2775:
	push $7
	cmp0
	je l2776
	push $5
	push $6
	cmpjl
	jmp l2778
l2776:
	push 0
	jmp l2778
l2777:
	push 1
l2778:
	cmp0
	je l2779
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	push $10
	spushs
	push "-f"
	cmpst
	jne l2781
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l2780
l2781:
	push "-v"
	cmpst
	jne l2782
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	jmp l2780
l2782:
	push "-l"
	cmpst
	jne l2783
	spop $a
	push 1
	pop $12
	jmp l2780
l2783:
	push "-p"
	cmpst
	jne l2784
	spop $a
	push 1
	pop $13
	jmp l2780
l2784:
	push "-pl"
	cmpst
	jne l2785
	spop $a
	push 1.0
	pop $15
	jmp l2780
l2785:
	spop $a
	sub $5,1
	pop $5
	push 0
	pop $7
l2780:
	add $5,1
	pop $5
	jmp l2775
l2779:
	push $9
	push $11
	cthis newsfx
	push $9
	spushs
	push $8
	spop $a
	call [$a],setvol
	push $12
	cmp0
	je l2787
	push $9
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l2787:
	push $13
	cmp0
	je l2789
	push $9
	spushs
	spop $a
	call [$a],play
	jmp l2788
l2789:
	push $15
	cmp0
	je l2791
	push $9
	spushs
	spop $a
	call [$a],playloop
l2791:
l2788:
	jmp l2773
l2774:
	jmp l2663
l2772:
	spop $a
l2663:
	jmp l2661
l2660:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method _found_if
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	add $3,1
	pop $3
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	sub $4,1
	pop $4
	localstring $7
	localstring $8
l2792:
	push $3
	push $4
	cmpjl
	cmp0
	je l2793
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	pop $8
	push $8
	spushs
	push ")"
	cmpst
	je l2796
	push "|"
	cmpst
	je l2796
	push "&"
	cmpst
	je l2796
	jmp l2795
l2796:
	spop $a
	push $5
	push $6
	push 0
	push 1
	call $7,getb
	push "!"
	cmpje
	cmp0
	je l2798
	push 1
	call $7,strsubb
	call clsave,bis
	neg
	jmp l2797
l2798:
	push $7
	call clsave,bis
l2797:
	cthis _check_if
	pop $6
	push $8
	push "|"
	cmpje
	cmp0
	je l2800
	push 1
	pop $5
	jmp l2799
l2800:
	push $8
	push "&"
	cmpje
	cmp0
	je l2802
	push 2
	pop $5
l2802:
l2799:
	jmp l2794
l2795:
	push "="
	cmpst
	jne l2803
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l2794
l2803:
	push "!="
	cmpst
	jne l2804
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	neg
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l2794
l2804:
	spop $a
l2794:
	push 2
	popax
	add $3,$a
	pop $3
	jmp l2792
l2793:
	push $6
	neg
	cmp0
	je l2806
	push $1
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	jmp l2805
l2806:
	push $2
l2805:
	end method
	method _goto_fi
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push _if_pos
	pop $3
l2807:
	push 1
	cmp0
	je l2808
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	spushs
	push "IF"
	cmpst
	jne l2810
	spop $a
	add $3,1
	pop $3
	jmp l2809
l2810:
	push "ELSE"
	cmpst
	jne l2811
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l2813
	push $2
	ret
l2813:
	jmp l2809
l2811:
	push "FI"
	cmpst
	jne l2814
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l2816
	sub _if_pos,1
	pop _if_pos
	push $2
	ret
	jmp l2815
l2816:
	sub $3,1
	pop $3
l2815:
	jmp l2809
l2814:
	spop $a
l2809:
	add $2,1
	pop $2
	jmp l2807
l2808:
	end method
	method _check_if2
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l2818
	spop $a
	push 1
	jmp l2817
l2818:
	push "&"
	cmpst
	jne l2819
	spop $a
	push 2
	jmp l2817
l2819:
	spop $a
	push 0
l2817:
	end method
	method _check_if
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push 1
	cmpst
	jne l2821
	spop $a
	push $2
	cmp0
	jne l2823
	push $3
	jmp l2824
l2822:
	push 0
	jmp l2824
l2823:
	push 1
l2824:
	jmp l2820
l2821:
	push 2
	cmpst
	jne l2825
	spop $a
	push $2
	cmp0
	je l2826
	push $3
	jmp l2828
l2826:
	push 0
	jmp l2828
l2827:
	push 1
l2828:
	jmp l2820
l2825:
	spop $a
	push $3
l2820:
	end method
	method behrewind
	push sactbeh
	push "null"
	cmpjne
	cmp0
	je l2830
	push sactbeh
	spushs
	spop $a
	call [$a],rewind
l2830:
	end method
	method behplaying
	push sactbeh
	push "null"
	cmpjne
	ret
	end method
	method behexist
	localstring $1
	pop $1
	push $1
	cthis getbeh
	call engine,varexist
	ret
	end method
	method getbeh
	localstring $1
	pop $1
	push _sbeh
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method newbehname
	localstring $1
	push _sbeh
	push "_"
	pop $b
	popax
	add $a,$b
	push iidbeh
	pop $b
	popax
	add $a,$b
	pop $1
	add iidbeh,1
	pop iidbeh
	push $1
	ret
	end method
	method newbeh
	localstring $1
	cthis newbehname
	pop $1
	push $1
	spushs
	spop $e
	new classbehhero,[$e]
	push $1
	ret
	end method
	method _checkvol
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	push "-v"
	cmpje
	cmp0
	je l2832
	push 2
	popax
	add $3,$a
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
	jmp l2831
l2832:
	push 100
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
l2831:
	end method
	method loadbeh
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $9
	localstring $10
	localstring $11
	localstring $12
	localint $13
	push $5
	spushs
	spop $a
	call [$a],getblock
	pop $13
	localint $14
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	cthis newbeh
	pop $10
	localint $15
	localint $16
	push $9
	spushs
	push "IF"
	cmpst
	je l2835
	push "ELIF"
	cmpst
	je l2835
	jmp l2834
l2835:
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $15
l2836:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l2837
	add $4,1
	pop $4
	jmp l2836
l2837:
	push $10
	spushs
	push "setas"
	push $9
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	push $15
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	add $4,1
	pop $4
	jmp l2833
l2834:
	push "FI"
	cmpst
	je l2839
	push "ELSE"
	cmpst
	je l2839
	jmp l2838
l2839:
	spop $a
	push $10
	spushs
	push $9
	spop $a
	call [$a],setas
	jmp l2833
l2838:
	push "call:"
	cmpst
	jne l2840
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l2833
l2840:
	push "walk:"
	cmpst
	jne l2841
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	push $12
	spop $a
	call [$a],setaswalker
	jmp l2833
l2841:
	push "turn:"
	cmpst
	jne l2842
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	spop $a
	call [$a],setasturn
	jmp l2833
l2842:
	push "setpos:"
	cmpst
	jne l2843
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	push 0
	pop $15
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
	push $12
	push "-ssc"
	cmpje
	cmp0
	je l2845
	push 1
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
l2845:
	push $12
	push "-dir"
	cmpje
	cmp0
	je l2847
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l2846
l2847:
	push "auto"
	pop $12
l2846:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $16
	push $15
	push $12
	spop $a
	call [$a],setasposer
	jmp l2833
l2843:
	push "game:"
	cmpst
	jne l2848
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $9
	spushs
	push "-def"
	cmpst
	je l2851
	push "-adv"
	cmpst
	je l2851
	jmp l2850
l2851:
	spop $a
	push $10
	spushs
	push $9
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	spop $a
	call [$a],setasnewgamer
	push 2
	popax
	add $4,$a
	pop $4
	jmp l2849
l2850:
	spop $a
	push $10
	spushs
	push "null"
	push "null"
	push $9
	spop $a
	call [$a],setasnewgamer
l2849:
	jmp l2833
l2848:
	push "ref:"
	cmpst
	jne l2852
	spop $a
	push "_"
	push iidbeh
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $4
	cthis buildbeh
	pop $4
	cthis newbehname
	pop $9
	push $10
	spushs
	push _sbeh
	call $9,strsubbs
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l2833
l2852:
	push "anplay:"
	cmpst
	jne l2853
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasanplayer
	jmp l2833
l2853:
	push "anorder:"
	cmpst
	jne l2854
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $1
	push $2
	push $4
	push $11
	spop $a
	call [$a],setasanorder
	push $1
	push $2
	push $4
	push "null"
	cthis analizeaninstr
	pop $4
	jmp l2833
l2854:
	push "sndbg:"
	cmpst
	jne l2855
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndbg
	jmp l2833
l2855:
	push "sndplay:"
	cmpst
	jne l2856
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l2833
l2856:
	push "fxplay:"
	cmpst
	jne l2857
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $9
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l2833
l2857:
	push "fxbg:"
	cmpst
	jne l2858
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $11
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndbg
	jmp l2833
l2858:
	push "wait:"
	cmpst
	jne l2859
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $10
	spushs
	push $15
	spop $a
	call [$a],setaswaiter
	jmp l2833
l2859:
	push "read:"
	cmpst
	jne l2860
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	add $4,1
	pop $4
	push "auto"
	pop $11
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	push $4
	cmpja
	cmp0
	je l2862
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $11
	push "-dir"
	cmpje
	cmp0
	je l2864
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
l2864:
l2862:
	push $10
	spushs
	push $9
	push $15
	push $16
	push $11
	spop $a
	call [$a],setasreader
	jmp l2833
l2860:
	push "met:"
	cmpst
	jne l2865
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	call gameapi,getgamename
	pop $12
	push "."
	call $9,contains
	cmp0
	je l2867
	push "."
	call $9,strgetto
	pop $11
	push "."
	call $9,strgetfrom
	pop $9
	push $11
	push ""
	cmpje
	cmp0
	jne l2870
	push $11
	push "this"
	cmpje
	jmp l2871
l2869:
	push 0
	jmp l2871
l2870:
	push 1
l2871:
	cmp0
	je l2872
	push $12
	pop $11
l2872:
	jmp l2866
l2867:
	push $12
	pop $11
l2866:
	push $10
	spushs
	push $11
	push $9
	spop $a
	call [$a],setasmet
	jmp l2833
l2865:
	push "bsave:"
	cmpst
	jne l2873
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push "1"
	spop $a
	call [$a],setassaver
	jmp l2833
l2873:
	push "save:"
	cmpst
	jne l2874
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setassaver
	jmp l2833
l2874:
	push "script:"
	cmpst
	jne l2875
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasscript
	jmp l2833
l2875:
	push "func:"
	cmpst
	jne l2876
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	call clcbeh,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $16
l2877:
	push $16
	push 0
	cmpjae
	cmp0
	je l2878
	jmp l2880
l2879:
	sub $16,1
	pop $16
	jmp l2877
l2880:
	push $16
	call clcbeh,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $11
	spop $a
	call [$a],containsfun
	cmp0
	je l2882
	push 1
	popax
	sub 0,$a
	pop $16
l2882:
	jmp l2879
l2878:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "("
	cmpje
	cmp0
	je l2884
	push $4
	push 2
	pop $b
	popax
	add $a,$b
	pop $16
l2885:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l2886
	add $4,1
	pop $4
	jmp l2885
l2886:
	jmp l2883
l2884:
	push 1
	popax
	sub 0,$a
	pop $16
l2883:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $1
	push $2
	push $16
	spop $a
	call [$a],setasscript
	jmp l2833
l2876:
	push "use:"
	cmpst
	jne l2887
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	spop $a
	call [$a],setasuse
	jmp l2833
l2887:
	push "topck:"
	cmpst
	jne l2888
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "-pck"
	cmpje
	cmp0
	je l2890
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l2889
l2890:
	push $11
	pop $12
l2889:
	add $4,1
	pop $4
	push $10
	spushs
	push $11
	push $12
	spop $a
	call [$a],setastopck
	jmp l2833
l2888:
	push "enter:"
	cmpst
	jne l2891
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasenter
	jmp l2833
l2891:
	push "close:"
	cmpst
	jne l2892
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasclose
	jmp l2833
l2892:
	push "music:"
	cmpst
	jne l2893
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $16
l2894:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l2895
	add $4,1
	pop $4
	jmp l2894
l2895:
	push $10
	spushs
	push $1
	push $2
	push $16
	push $4
	spop $a
	call [$a],setasmusic
	add $4,1
	pop $4
	jmp l2833
l2893:
	spop $a
	push "_"
	call $9,strgetto
	pop $12
	push $12
	cthis getheroloader
	pop $11
	push $11
	push "null"
	cmpje
	cmp0
	je l2897
	push igmdebug
	cmp0
	je l2899
	push $10
	push ": "
	pop $b
	popax
	add $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	push " loadbeh error: no hero linked to "
	pop $b
	popax
	add $a,$b
	push $12
	pop $b
	popax
	add $a,$b
	call engine,print
l2899:
	push $10
	push $3
	ret
	jmp l2896
l2897:
	localint $17
	localint $18
	push $11
	spushs
	spop $a
	call [$a],getstartstop
	pop $18
	pop $17
	localstring $19
	push "auto"
	pop $19
	localstring $20
	push "_stalk"
	call modadv,varget
	pop $20
	localint $21
	push 1
	pop $21
	push $4
	push $3
	cmpjl
	pop $14
l2900:
	push $14
	cmp0
	je l2901
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $12
	spushs
	push "-stt"
	cmpst
	jne l2903
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $17
	add $4,1
	pop $4
	jmp l2902
l2903:
	push "-stp"
	cmpst
	jne l2904
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $18
	add $4,1
	pop $4
	jmp l2902
l2904:
	push "-base"
	cmpst
	jne l2905
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $20
	add $4,1
	pop $4
	jmp l2902
l2905:
	push "-r"
	cmpst
	jne l2906
	spop $a
	push 1
	pop $21
	jmp l2902
l2906:
	push "-nr"
	cmpst
	jne l2907
	spop $a
	push 0
	pop $21
	jmp l2902
l2907:
	push "-dir"
	cmpst
	jne l2908
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $19
	add $4,1
	pop $4
	jmp l2902
l2908:
	spop $a
	push 0
	pop $14
	sub $4,1
	pop $4
l2902:
	push $14
	cmp0
	je l2910
	push $4
	push $3
	cmpjae
	jmp l2912
l2910:
	push 0
	jmp l2912
l2911:
	push 1
l2912:
	cmp0
	je l2913
	push 0
	pop $14
l2913:
	jmp l2900
l2901:
	push $10
	spushs
	push $11
	spushs
	push "sanhero"
	spop $a
	call [$a],varget
	push $9
	push $20
	push $21
	push $17
	push $18
	push $19
	spop $a
	call [$a],setastalker
l2896:
l2833:
	push $5
	spushs
	push $10
	spop $a
	call [$a],addtostarter
	push $7
	push 0
	cmpje
	cmp0
	je l2915
	push $6
	spushs
	push $10
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push $8
	spop $a
	call [$a],addflags
	jmp l2914
l2915:
	push $6
	spushs
	push "null"
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push 0
	spop $a
	call [$a],addflags
l2914:
	push $10
	push $4
	ret
	end method
	method buildbeh
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	call dbmacros,findbyrow
	pop $5
	push $5
	push 0
	cmpjl
	cmp0
	je l2917
	push "no such macro: "
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call engine,print
	push 1
	popax
	sub 0,$a
	ret
l2917:
l2918:
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	push "("
	cmpjne
	cmp0
	je l2919
	add $4,1
	pop $4
	jmp l2918
l2919:
	add $4,1
	pop $4
	localint $6
	push $2
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	localstring $7
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	call _vecarg,free
l2920:
	push $7
	push ")"
	cmpjne
	cmp0
	je l2921
	push $7
	call _vecarg,add
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	jmp l2920
l2921:
	localint $8
	push $5
	call dbmacros,getcolsno
	pop $8
	localint $9
	push $2
	spushs
	push $6
	push $1
	spop $a
	call [$a],add
	localint $10
	push 1
	pop $10
l2922:
	push $10
	push $8
	cmpjl
	cmp0
	je l2923
	jmp l2925
l2924:
	add $10,1
	pop $10
	jmp l2922
l2925:
	push $5
	push $10
	call dbmacros,get
	pop $7
	push 0
	push 1
	call $7,getb
	push "$"
	cmpje
	cmp0
	je l2927
	push 1
	push 10
	call $7,getb
	pop $9
	push $2
	spushs
	push $6
	push $9
	push 1
	pop $b
	popax
	sub $a,$b
	call _vecarg,get
	spop $a
	call [$a],add
	jmp l2926
l2927:
	push $2
	spushs
	push $6
	push $7
	spop $a
	call [$a],add
l2926:
	jmp l2924
l2923:
	push $4
	ret
	end method
	method loadbehaviours
	localstring $1
	pop $1
	localstring $2
	call clcbeh,get
	pop $2
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localstring $3
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $2
	spop $e
	new Script,[$e]
	localint $4
	localint $5
	localstring $6
	localstring $7
	localstring $8
	localstring $9
	localint $10
	localint $11
	localstring $12
	localint $13
	localint $14
	localint $15
	localint $16
	localstring $17
	localstring $18
	localint $19
	push 0
	pop $19
l2928:
	push $19
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l2929
	jmp l2931
l2930:
	add $19,1
	pop $19
	jmp l2928
l2931:
	push 0
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $6
	add $5,1
	pop $5
	push $6
	spushs
	push "macro:"
	cmpst
	jne l2933
	spop $a
	push $2
	push $19
	push 1
	call dbmacros,dbaddrowfrom
	jmp l2932
l2933:
	push "include:"
	cmpst
	jne l2934
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l2932
l2934:
	push "build:"
	cmpst
	jne l2935
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	push $2
	push $19
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	cthis buildbeh
	pop $5
	jmp l2932
l2935:
	push "func"
	cmpst
	jne l2936
	spop $a
l2937:
	push $2
	spushs
	push $19
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l2938
	add $19,1
	pop $19
	jmp l2937
l2938:
	jmp l2932
l2936:
	push "IF"
	cmpst
	jne l2939
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $19
	push $5
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	cthis _found_if
	pop $19
	jmp l2932
l2939:
	push "ELSE"
	cmpst
	jne l2940
	spop $a
	push $2
	push $19
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $19
	jmp l2932
l2940:
	push "FI"
	cmpst
	jne l2941
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l2943
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l2943:
	jmp l2932
l2941:
	spop $a
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	pop $4
	push $6
	cthis getbeh
	pop $6
	push $6
	spushs
	spop $e
	new classbehhero,[$e]
	push 0
	pop $10
	push 1
	pop $11
	push "null"
	pop $12
	push 0
	pop $13
	push 1
	pop $14
	push "null"
	pop $18
	push 1
	popax
	sub 0,$a
	pop $16
	push 0
	pop $15
l2944:
	push $11
	cmp0
	je l2945
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $7
	spushs
	push "-nr"
	cmpst
	jne l2947
	spop $a
	push 0
	pop $10
	jmp l2946
l2947:
	push "-once"
	cmpst
	jne l2948
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $12
	add $5,1
	pop $5
	jmp l2946
l2948:
	push "-par"
	cmpst
	jne l2949
	spop $a
	push 1
	pop $13
	jmp l2946
l2949:
	push "-r"
	cmpst
	jne l2950
	spop $a
	push 1
	pop $10
	jmp l2946
l2950:
	push "-nb"
	cmpst
	jne l2951
	spop $a
	push 0
	pop $14
	jmp l2946
l2951:
	push "-b"
	cmpst
	jne l2952
	spop $a
	push 1
	pop $14
	jmp l2946
l2952:
	push "-en"
	cmpst
	jne l2953
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	jmp l2946
l2953:
	push "-bif"
	cmpst
	jne l2954
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l2946
l2954:
	push "-bnif"
	cmpst
	jne l2955
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l2946
l2955:
	push "-if"
	cmpst
	jne l2956
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l2946
l2956:
	push "-nif"
	cmpst
	jne l2957
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l2946
l2957:
	spop $a
	push 0
	pop $11
	push $6
	spushs
	push $12
	push $10
	push $13
	push $14
	push $15
	push $16
	push $17
	push $18
	spop $a
	call [$a],setasstarter
	sub $5,1
	pop $5
	push $6
	pop $7
l2958:
	push $5
	push $4
	cmpjl
	cmp0
	je l2959
	push $2
	push $19
	push $4
	push $5
	push $6
	push $7
	push $10
	push $13
	cthis loadbeh
	pop $5
	pop $7
	jmp l2958
l2959:
l2946:
	jmp l2944
l2945:
l2932:
	jmp l2930
l2929:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method analizeaninstr
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 1
	pop $5
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	cmp0
	je l2961
	push 0
	pop $5
l2961:
	localint $6
	push 0
	pop $6
	push $4
	push "null"
	cmpjne
	cmp0
	je l2963
	push 1
	pop $6
	push $4
	cthis advanstand
l2963:
	localint $7
	localint $8
	localint $9
	localstring $10
	localstring $11
l2964:
	push $5
	cmp0
	je l2965
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $11
	spushs
	push "-z"
	cmpst
	jne l2967
	spop $a
	push $6
	cmp0
	je l2969
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setz
l2969:
	add $3,1
	pop $3
	jmp l2966
l2967:
	push "-zsc"
	cmpst
	jne l2970
	spop $a
	push $6
	cmp0
	je l2972
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,to_i
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],setz
l2972:
	add $3,1
	pop $3
	jmp l2966
l2970:
	push "-pos"
	cmpst
	jne l2973
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $6
	cmp0
	je l2975
	push $10
	push "-id"
	cmpje
	cmp0
	je l2977
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $9
	spop $a
	call [$a],getbyname
	pop $7
	push $10
	spushs
	push $7
	spop $a
	call [$a],getxver
	push $10
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $8
	push $10
	spushs
	push $7
	spop $a
	call [$a],getyver
	push $10
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $9
	jmp l2976
l2977:
	call $10,to_i
	spushs
	spop $h
	call $h,igetsc
	pop $8
	call $9,igetsc
	pop $9
l2976:
	push $4
	spushs
	push $8
	push $9
	spop $a
	call [$a],setpos
l2975:
	jmp l2966
l2973:
	push "-putgr"
	cmpst
	jne l2978
	spop $a
	push $6
	cmp0
	je l2980
	push $4
	spushs
	spop $a
	call [$a],anputgr
l2980:
	jmp l2966
l2978:
	push "-vis"
	cmpst
	jne l2981
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l2983
	push $7
	push 0
	cmpje
	cmp0
	je l2985
	push $4
	spushs
	spop $a
	call [$a],hide
	jmp l2984
l2985:
	push $4
	spushs
	spop $a
	call [$a],show
l2984:
l2983:
	jmp l2966
l2981:
	push "-show"
	cmpst
	jne l2986
	spop $a
	push $6
	cmp0
	je l2988
	push $4
	spushs
	spop $a
	call [$a],show
l2988:
	jmp l2966
l2986:
	push "-hide"
	cmpst
	jne l2989
	spop $a
	push $6
	cmp0
	je l2991
	push $4
	spushs
	spop $a
	call [$a],hide
l2991:
	jmp l2966
l2989:
	push "-dir"
	cmpst
	jne l2992
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l2994
	push $4
	spushs
	spop $a
	call [$a],actionname
	pop $11
	push $4
	spushs
	spop $a
	call [$a],framenr
	pop $7
	push $4
	spushs
	push 2
	call $11,strsube
	push $10
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],setframe
l2994:
	jmp l2966
l2992:
	push "-play"
	cmpst
	jne l2995
	spop $a
	push $6
	cmp0
	je l2997
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],play
l2997:
	add $3,1
	pop $3
	jmp l2966
l2995:
	push "-nplay"
	cmpst
	jne l2998
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3000
	push $4
	spushs
	push $7
	spop $a
	call [$a],nplay
l3000:
	jmp l2966
l2998:
	push "-lplay"
	cmpst
	jne l3001
	spop $a
	push $6
	cmp0
	je l3003
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],anloopsplay
l3003:
	add $3,1
	pop $3
	jmp l2966
l3001:
	push "-bgr"
	cmpst
	jne l3004
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $6
	cmp0
	je l3006
	push $11
	spushs
	push $4
	spop $a
	call [$a],add
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3008
	push $11
	spushs
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l3008:
l3006:
	jmp l2966
l3004:
	push "-sc"
	cmpst
	jne l3009
	spop $a
	push $6
	cmp0
	je l3011
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	call engine,varexist
	cmp0
	je l3013
	push $11
	spushs
	spop $a
	call [$a],scalean
l3013:
l3011:
	jmp l2966
l3009:
	push "-ssc"
	cmpst
	jne l3014
	spop $a
	push $6
	cmp0
	je l3016
	call clcamera,setscene
l3016:
	jmp l2966
l3014:
	push "-actor"
	cmpst
	jne l3017
	spop $a
	push $6
	cmp0
	je l3019
	push $4
	call clcamera,setactor
l3019:
	jmp l2966
l3017:
	push "-mhero"
	cmpst
	jne l3020
	spop $a
	push $6
	cmp0
	je l3022
	push $4
	cthis setmainhero
l3022:
	jmp l2966
l3020:
	push "-puty"
	cmpst
	jne l3023
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3025
	push $10
	push "resy"
	cmpje
	cmp0
	je l3027
	push $4
	spushs
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],anputy
	jmp l3026
l3027:
	push $4
	spushs
	push $10
	spop $a
	call [$a],anputy
l3026:
l3025:
	jmp l2966
l3023:
	push "-stopf"
	cmpst
	jne l3028
	spop $a
	push $6
	cmp0
	je l3030
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3030:
	jmp l2966
l3028:
	push "-stoph"
	cmpst
	jne l3031
	spop $a
	push $6
	cmp0
	je l3033
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
	push $4
	spushs
	spop $a
	call [$a],hide
l3033:
	jmp l2966
l3031:
	push "-setaction"
	cmpst
	jne l3034
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3036
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3038
	push $4
	spushs
	call $10,to_i
	push 0
	spop $a
	call [$a],setframe
	jmp l3037
l3038:
	push $4
	spushs
	push $10
	push 0
	spop $a
	call [$a],setframe
l3037:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3036:
	jmp l2966
l3034:
	push "-setframe"
	cmpst
	jne l3039
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3041
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3043
	push $4
	spushs
	call $10,to_i
	push $7
	spop $a
	call [$a],setframe
	jmp l3042
l3043:
	push $4
	spushs
	push $10
	push $7
	spop $a
	call [$a],setframe
l3042:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3041:
	jmp l2966
l3039:
	push "-stand"
	cmpst
	jne l3044
	spop $a
	push $6
	cmp0
	je l3046
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setstandbase
l3046:
	add $3,1
	pop $3
	jmp l2966
l3044:
	push "-delay"
	cmpst
	jne l3047
	spop $a
	push $6
	cmp0
	je l3049
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
l3049:
	add $3,1
	pop $3
	jmp l2966
l3047:
	push "-step"
	cmpst
	jne l3050
	spop $a
	push $6
	cmp0
	je l3052
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,to_i
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],setanstep
l3052:
	add $3,1
	pop $3
	jmp l2966
l3050:
	push "-sb1"
	cmpst
	jne l3053
	spop $a
	push $6
	cmp0
	je l3055
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
l3055:
	add $3,1
	pop $3
	jmp l2966
l3053:
	push "-sb2"
	cmpst
	jne l3056
	spop $a
	push $6
	cmp0
	je l3058
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
l3058:
	add $3,1
	pop $3
	jmp l2966
l3056:
	spop $a
	push 0
	pop $5
	sub $3,1
	pop $3
l2966:
	push $5
	cmp0
	je l3060
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	jmp l3062
l3060:
	push 0
	jmp l3062
l3061:
	push 1
l3062:
	cmp0
	je l3063
	push 0
	pop $5
l3063:
	jmp l2964
l2965:
	push $3
	ret
	end method
	method cadvherofinish
	end method
	method butmoveoff
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveoff
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmoveon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveon
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method advmsmove
	cthis advgetlock
	neg
	cmp0
	je l3065
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3067
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	push $4
	push _slastms
	cmpjne
	cmp0
	je l3069
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3071
	push _slastms
	cthis butmoveoff
l3071:
	push $4
	pop _slastms
	push $4
	cthis butmoveon
l3069:
	jmp l3066
l3067:
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3073
	push _slastms
	cthis butmoveoff
	push "null"
	pop _slastms
l3073:
l3066:
	push "onmousemove"
	push $1
	push $2
	call grmsmove,eval2
	call moddbg,msmove
l3065:
	end method
	method butclickon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],clickon
	cthis behplaying
	neg
	cmp0
	je l3075
	push "beh_"
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	push "_LCLICK"
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l3075:
	end method
	method butrelease
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lrel
	end method
	method advmsclick
	call _tim_dbclk,isplaying
	cmp0
	je l3077
	push 2
	call clwalkq,mulspeed
	ret
	jmp l3076
l3077:
	call _tim_dbclk,play
l3076:
	push 1
	pop _b_rewind
	push bmslock
	neg
	cmp0
	je l3079
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3081
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butclickon
	jmp l3080
l3081:
	localstring $4
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	call engine,varexist
	cmp0
	je l3083
	push $4
	spushs
	spop $a
	call [$a],itemhide
l3083:
	push $1
	push $2
	call clwalkq,goto
l3080:
	push "onmouselclick"
	push $1
	push $2
	call grmslclick,eval2
l3079:
	push _b_rewind
	cmp0
	je l3085
	cthis behrewind
l3085:
	call moddbg,mslclick
	end method
	method advmsrclick
	push bmslock
	neg
	cmp0
	je l3087
	push "onmouserclick"
	call mouse,getpos
	call grmsrclick,eval2
l3087:
	end method
	method advmslrel
	push bmslock
	neg
	cmp0
	je l3089
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3091
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butrelease
l3091:
	push "onmouselrel"
	push $1
	push $2
	call grmslrel,eval2
l3089:
	call moddbg,mslrel
	end method
	method mousemove
	push igmstate
	push 0
	cmpje
	cmp0
	je l3093
	cthis advmsmove
l3093:
	cthis mouse_MOVE
	end method
	method mouselclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3095
	cthis advmsclick
l3095:
	cthis mouse_LCLICK
	end method
	method mouselrel
	push igmstate
	push 0
	cmpje
	cmp0
	je l3097
	cthis advmslrel
l3097:
	cthis mouse_LREL
	end method
	method mouserclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3099
	cthis advmsrclick
l3099:
	cthis mouse_RCLICK
	end method
	method keydown
	call moddbg,dbkeydown
	cthis keyboard_KEYDOWN
	end method
	method exit
	call modadvglob,onexit
	push igmsubtitle
	cmp0
	je l3101
	call subtitle,reset
l3101:
	end method
	method onmusicfin
	call _music,play
	end method
	method sndplayobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call __sndplay,load
	push igmsubtitle
	cmp0
	je l3103
	push "__sndplay"
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call subtitle,register
l3103:
	push $2
	call __sndplay,sob=
	push $3
	call __sndplay,sfun=
	push "__sndplay"
	cthis cbsplay
	end method
	method sndplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis sndplayobfin
	end method
	method sndplay
	localstring $1
	pop $1
	push $1
	push "null"
	push "null"
	cthis sndplayobfin
	end method
	method advsaveonstart
	push "GAME_game"
	call gameapi,getgamename
	call clsave,set
	push "GAME_sgmgame"
	push sgmgame
	call clsave,set
	push "GAME_sgmglobpath"
	push sgmglobpath
	call clsave,set
	push "GAME_sgmlastscene"
	push sgmlastscene
	call clsave,set
	push "GAME_ccs"
	call ccs,isvisible
	call clsave,set
	cthis advautosave
	end method
	method advautosave
	push "autosave.txt"
	call clsave,save
	push "autosave"
	call modadvglob,savepck
	end method
	method advautoload
	push "autosave"
	cthis _advload
	end method
	method advcacheload
	push "cache"
	cthis _advload
	end method
	method advcachesave
	push "cache"
	cthis _advsave
	end method
	method _advload
	localstring $1
	pop $1
	call modadvglob,delheros
	push $1
	call modadvglob,loadpck
	push $1
	push ".txt"
	pop $b
	popax
	add $a,$b
	call clsave,load
	push "GAME_sgmgame"
	call clsave,get
	pop sgmgame
	push "GAME_sgmglobpath"
	call clsave,get
	pop sgmglobpath
	push "GAME_sgmlastscene"
	call clsave,get
	pop sgmlastscene
	push "GAME_ccs"
	call clsave,bis
	cmp0
	je l3105
	call ccs,show
	jmp l3104
l3105:
	call ccs,hide
l3104:
	push "GAME_game"
	call clsave,get
	call gameapi,play
	end method
	method _advsave
	localstring $1
	pop $1
	push $1
	push ".txt"
	pop $b
	popax
	add $a,$b
	new classfullsave,_saver
	push "autosave.txt"
	call _saver,load
	call _saver,stdsave
	delete _saver
	new vector,_vcsave
	push "string"
	call _vcsave,type
	new vector,_vcsv2
	push "string"
	call _vcsv2,type
	push "grpck_autosave.txt"
	call _vcsave,vecload
	push "grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call _vcsave,vecsave
	localdef $2
	localint $3
	push 0
	pop $3
l3106:
	push $3
	call _vcsave,size
	cmpjl
	cmp0
	je l3107
	jmp l3109
l3108:
	add $3,1
	pop $3
	jmp l3106
l3109:
	push $3
	call _vcsave,get
	pop $2
	push $2
	push "autosave_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	push $2
	push "autosave_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	jmp l3108
l3107:
	delete _vcsave
	delete _vcsv2
	end method
	method advloadsnd
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	push igmsubtitle
	cmp0
	je l3111
	cthis getfullname
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call subtitle,register
l3111:
	end method
	end class

	module moddbg
	parent classlocker
	method init
	clparent classlocker,init
	new string,sstate
	push "init"
	pop sstate
	new int,ilastx
	new int,ilasty
	new text,txtpos
	push 5000
	call txtpos,setz
	push 0
	push 0
	call txtpos,setpos
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpos,setbkg
	new text,txtswin
	push 5000
	call txtswin,setz
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtswin,setbkg
	new text,txtpod
	push 5000
	call txtpod,setz
	push 0
	push 0
	push 128
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpod,setbkg
	cthis disable
	end method
	method enable
	cthis unlock
	call txtpos,show
	call txtswin,show
	call txtpod,show
	end method
	method disable
	cthis lock
	call txtpos,hide
	call txtswin,hide
	call txtpod,hide
	end method
	method updatetxtpos
	localint $1
	localint $2
	pop $2
	pop $1
	push ""
	push $1
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtpos,set
	push $1
	push 32
	pop $b
	popax
	sub $a,$b
	push $2
	push 46
	pop $b
	popax
	add $a,$b
	call txtpos,setpos
	push $1
	push 64
	pop $b
	popax
	sub $a,$b
	push $2
	push 30
	pop $b
	popax
	add $a,$b
	call txtpod,setpos
	push $1
	push $2
	push 1
	push 1
	push 1000
	popax
	sub 0,$a
	push 1000
	call engine,getimg
	call txtpod,set
	end method
	method updateswin
	push " "
	call swinka,getposx
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	call swinka,getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtswin,set
	call swinka,getposx
	push 32
	pop $b
	popax
	sub $a,$b
	call swinka,getposy
	call txtswin,setpos
	end method
	method msminit
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmmove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push ilastx
	pop $b
	popax
	sub $a,$b
	push $2
	push ilasty
	pop $b
	popax
	sub $a,$b
	call clcamera,moveplans
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmove
	cthis getlock
	cmp0
	je l3113
	ret
l3113:
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	push "msm"
	push sstate
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $d
	cthis [$d]
	push $1
	pop ilastx
	push $2
	pop ilasty
	end method
	method mslclick
	cthis getlock
	cmp0
	je l3115
	ret
l3115:
	push "space"
	call keyboard,iskeydown
	push 1
	cmpje
	cmp0
	je l3117
	push "move"
	pop sstate
l3117:
	end method
	method mslrel
	cthis getlock
	push 1
	cmpje
	cmp0
	je l3119
	ret
l3119:
	push "init"
	pop sstate
	end method
	method msrclick
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,isin
	pop $3
	push $3
	push 0
	cmpjne
	cmp0
	je l3121
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	call $4,print
l3121:
	end method
	method dbkeydown
	push igmdebug
	neg
	cmp0
	je l3123
	ret
l3123:
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l3125
	push "l"
	call keyboard,iskey
	cmp0
	je l3127
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcacheload
	jmp l3126
l3127:
	push "s"
	call keyboard,iskey
	cmp0
	je l3129
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcachesave
l3129:
l3126:
l3125:
	push "d"
	call keyboard,iskey
	cmp0
	je l3131
	cthis getlock
	cmp0
	je l3133
	cthis enable
	jmp l3132
l3133:
	cthis disable
l3132:
l3131:
	cthis getlock
	cmp0
	je l3135
	ret
l3135:
	push "s"
	call keyboard,iskey
	push 1
	cmpje
	cmp0
	je l3137
	cthis updateswin
l3137:
	end method
	end module

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l3139
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l3140:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l3141
	jmp l3143
l3142:
	add $4,1
	pop $4
	jmp l3140
l3143:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l3142
l3141:
l3139:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l3145
	push "sndintro"
	cthis cbplay
l3145:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3147
	call sndintro,isplaying
	jmp l3149
l3147:
	push 0
	jmp l3149
l3148:
	push 1
l3149:
	cmp0
	je l3150
	ret
l3150:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3152
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l3152:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	method init
	end method
	method tinit
	localstring $1
	pop $1
	push $1
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3154
	call sndintro,isplaying
	jmp l3156
l3154:
	push 0
	jmp l3156
l3155:
	push 1
l3156:
	neg
	cmp0
	je l3157
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3159
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbselfplay
l3159:
l3157:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l3161
	push $1
	clparent GameController,init
l3161:
	cthis unlock
	push $2
	push "null"
	cmpjne
	cmp0
	je l3163
	push $2
	cthis setgraphpath
l3163:
	push $3
	push "null"
	cmpjne
	cmp0
	je l3165
	push "anbkg"
	push $3
	push 0
	cthis newanima
l3165:
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $8
	localint $9
	push $7
	spushs
	push "ru"
	cmpst
	jne l3167
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getpy
	pop $9
	jmp l3166
l3167:
	push "rd"
	cmpst
	jne l3168
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getey
	pop $9
	jmp l3166
l3168:
	push "ld"
	cmpst
	jne l3169
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getey
	pop $9
	jmp l3166
l3169:
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getpy
	pop $9
l3166:
	push $8
	push $9
	call anbrush1,saverelpos
	push $8
	push $9
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l3170:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l3171
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l3173
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l3173:
	jmp l3170
l3171:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,mouse_move
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method tp_exit
	call mouse,show
	end method
	method tp_mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method tp_mouse_lclick
	cthis getlock
	neg
	cmp0
	je l3175
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l3177
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l3176
l3177:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l3179
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	cthis onsetbrush
l3179:
l3176:
l3175:
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	module dzmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "std"
	cthis set
	end method
	method setact
	push "act"
	cthis set
	end method
	method setbut
	push "but"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	method EgiptSave
	localstring $1
	pop $1
	push "bajka.db"
	new classfullsave,_csav
	call _csav,stdload
	push $1
	call _csav,bset
	call _csav,stdsave
	delete _csav
	end method
	method EgiptSet
	push "pole"
	cthis EgiptSave
	push A
	push "pole"
	push "gospodarstwo"
	push "kanaly"
	push "dom"
	push "kamieniolom"
	push "liczby"
	push "sztabki"
	push "statek"
	push "swiatynia"
	push "maluje"
	push "naszyjnik"
	push "moda"
	push "bari"
	push "miasto"
	push "golden"
	push "EgiptSave"
	cthis withlist
	end method
	new int,iMusic
	push 1
	pop iMusic
	new int,iNutka
	push 1
	pop iNutka
	new string,sAskerGame
	class Dzieje
	parent classadv
	parent GameController
	parent Localize
	method init
	localstring $1
	pop $1
	push 0
	pop igmstate
	clparent classadv,init
	push $1
	clparent GameController,init
	clparent Localize,init
	push 0
	push 0
	call clbuts,setcursorpos
	push 0
	push 0
	call claskexit,setcursorpos
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	push 117
	spushs
	spop $h
	call $h,igetsc
	push 85
	spushs
	spop $h
	call $h,igetsc
	push 916
	spushs
	spop $h
	call $h,igetsc
	push 684
	spushs
	spop $h
	call $h,igetsc
	pop Y2
	pop X2
	pop Y1
	pop X1
	push $1
	cthis path=
	push SNDPATH
	cthis setwavpath
	push A
	push "pop 50"
	push "pik1"
	cthis sfxs=
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	call dzmouse,setstd
	new Music,mus
	push igmdemo
	cmp0
	je l3181
	new anima,anpieczatka
	call anpieczatka,Dzieje0
l3181:
	end method
	method Dzieje0
	push "scripts/common/pieczatka.pyz"
	cthis load
	push 2000
	cthis setz
	cthis hide
	end method
	method cshowbut
	localdef $1
	pop $1
	push "getcx"
	call cbok,getimgfunc
	push "getcy"
	call cbok,getimgfunc
	push $1
	call clp,show
	end method
	method napisshow
	localint $1
	localint $2
	pop $2
	pop $1
	cthis show
	push $1
	push $2
	cthis move
	end method
	method napispod
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 5
	pop $b
	popax
	add $a,$b
	cthis napisshow
	end method
	method crect
	push 600
	spushs
	spop $h
	call $h,igetsc
	push 196
	spushs
	spop $h
	call $h,igetsc
	push 403
	spushs
	spop $h
	call $h,igetsc
	push 497
	spushs
	spop $h
	call $h,igetsc
	new Rect,rec
	end method
	method crect2
	push 6
	spushs
	spop $h
	call $h,igetsc1
	push 174
	spushs
	spop $h
	call $h,igetsc
	push 1012
	spushs
	spop $h
	call $h,igetsc
	push 530
	spushs
	spop $h
	call $h,igetsc
	new Rect,rec2
	end method
	method inpiecz
	localint $1
	localint $2
	pop $2
	pop $1
	push igmdemo
	cmp0
	je l3183
	push $1
	push $2
	call anpieczatka,setpos
	call anpieczatka,show
l3183:
	end method
	method askfor
	localdef $1
	pop $1
	push igmstate
	push 111
	cmpjne
	cmp0
	je l3185
	push $1
	pop sAskerGame
	call claskexit,askexittomenu
l3185:
	end method
	method outpiecz
	push igmdemo
	cmp0
	je l3187
	call anpieczatka,hide
l3187:
	end method
	method onmusicfin
	call mus,play
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	push igmsubtitle
	cmp0
	je l3189
	call subtitle,reset
l3189:
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method advclick
	push igmdebug
	cmp0
	je l3191
	push igmstate
	push 0
	cmpje
	cmp0
	jne l3194
	push igmstate
	push 5
	cmpje
	jmp l3195
l3193:
	push 0
	jmp l3195
l3194:
	push 1
l3195:
	jmp l3196
l3191:
	push 0
	jmp l3196
l3192:
	push 1
l3196:
	cmp0
	je l3197
	push 1
	cthis cactsndstop
l3197:
	end method
	method keyrestart
	end method
	end class

	class DziejeGame
	parent Dzieje
	method init
	localdef $1
	pop $1
	push $1
	clparent Dzieje,init
	new int,_idialvolume
	push 100
	pop _idialvolume
	call ccs,hide
	end method
	method advbg
	new img,imgtlo
	push "scripts/plansza/advbg.png"
	call imgtlo,load
	end method
	method gamebg
	new img,imgtlo
	push "scripts/common/advbg.png"
	call imgtlo,load
	end method
	method clogo
	push "$scripts/common/logo.pyz"
	cthis img=
	end method
	method subgamebg
	push "$scripts/plansza/podklad.pyz"
	cthis img=
	end method
	method cvol=
	localint $1
	pop $1
	push 0
	push $1
	push 100
	cthis between
	pop _idialvolume
	end method
	method cvol
	push _idialvolume
	end method
	method cvplay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push $1
	spushs
	cthis cvol
	spop $a
	call [$a],setvol
	end method
	method gotoadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push "gameadvdef"
	call gameapi,play
	end method
	method evalclip
	push "DziejeGame0"
	cthis eval
	end method
	method DziejeGame0
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method advclip
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	end class

	class Epoka
	parent Dzieje
	method init
	localstring $1
	pop $1
	push $1
	clparent Dzieje,init
	new int,bStartPlay
	new int,iakplay
	new string,sakplay
	new int,iakid
	push A
	push "prehistoria"
	push "EpokaPr"
	push "egipt"
	push "Egipt"
	push "daleki"
	push "EpokaCh"
	push "europa"
	push "EpokaSr"
	push "afryka"
	push "EpokaAf"
	push "ameryka"
	push "EpokaAm"
	push "grecja"
	push "EpokaGr"
	push "rzym"
	push "EpokaRz"
	push "grgry"
	cthis list=
	push A
	push "Prehistoria"
	push "bgrlas"
	push "Sredniowiecze"
	push "bgrlas"
	push "lmusic"
	cthis list=
	cthis loadlekcja
	push A
	push "wioslujelPL 0"
	push "wioslujerPL 0"
	push "czaplaPL 0"
	push "dzieciaki2PL 0"
	push "dzikiePL 0"
	push "bydloPL 0"
	push "kopiePL 0"
	push "putpuz2 40"
	push "gladzi 50"
	push "piluje2 70"
	push "mlotek1 80"
	cthis sfxs=
	push "fxwstawia2"
	call fxputpuz2,addtogamevars
	push iNutka
	neg
	cmp0
	je l3199
	call clmusic,reset
l3199:
	end method
	method blitwpodklad
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	cthis getname
	call imgpodklad2,blit
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method loadlekcja
	push 12
	spushs
	spop $h
	call $h,igetsc
	push 185
	spushs
	spop $h
	call $h,igetsc
	push 500
	spushs
	spop $h
	call $h,igetsc
	push 690
	spushs
	spop $h
	call $h,igetsc
	pop Y2
	pop X2
	pop Y1
	pop X1
	localdef $1
	cthis getgraphpath
	pop $1
	push "plansza"
	cthis path=
	push A
	push "podklad2.png"
	cthis imgs=
	new gmimgvec,grramka
	push "grramka"
	push "ramka.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 100
	call grramka,setz
	new gmimgvec,grepoki
	push "grepoki"
	push "epokieng.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "Epoka0"
	call grepoki,each
	push "blitwpodklad"
	call grepoki,eval
	new gmimgvec,grprzyc
	push "grprzyc"
	push "przyciski.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 110
	call grprzyc,setz
	push "Epoka3"
	call grprzyc,each
	push "help"
	call grprzyc,remove
	push $1
	cthis setgraphpath
	push A
	push "bgniebo.pyz"
	push "bgbrzeg1.pyz 5"
	push "bgwoda.pyz 3"
	push "bgbrzeg2.pyz 10"
	push "bgmaska2.pyz 50"
	push "bgstatek.pyz 7"
	push "bgbabka.pyz 30"
	push "bgczapla.pyz 30"
	push "bgczaplabig.pyz 40"
	push "bgczaplas.pyz 20"
	cthis imgs=
	push "anbgniebo"
	push "anbgniebo2"
	cthis copyanima
	call anbgniebo,getw
	push 0
	call anbgniebo2,move
	push "onendframe"
	push "Epoka6"
	call anbgniebo,addmethod
	push 0
	push 100
	popax
	sub 0,$a
	call anbgczaplabig,move
	push "onendframe"
	push "Epoka7"
	call anbgczaplabig,addmethod
	push "onendframe"
	push "Epoka8"
	call anbgczaplas,addmethod
	push 2
	call anbgniebo,setdelay
	push 0
	call anbgniebo,play
	push 0
	call anbgmaska2,play
	push 0
	call anbgwoda,play
	push 0
	call anbgstatek,play
	push 0
	call anbgczaplabig,play
	push X1
	push Y1
	push X2
	push Y2
	call anbgniebo,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgniebo2,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgbrzeg1,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgbrzeg2,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgmaska2,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgbabka,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgczapla,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgczaplabig,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgczaplas,clip
	push 0
	call anbgbabka,play
	push 0
	call anbgczapla,play
	push 0
	call anbgczaplas,play
	push X1
	push Y1
	push X2
	push Y2
	call anbgwoda,clip
	push X1
	push Y1
	push X2
	push Y2
	call anbgstatek,clip
	push "_butmoveon"
	push "_lekmoveonact"
	call anbgstatek,addmethod
	push "_butmoveoff"
	push "Epoka9"
	call anbgstatek,addmethod
	push "onendframe"
	push "Epoka10"
	call anbgstatek,addmethod
	push "antytul"
	push "tytul.pyz"
	push 0
	cthis newanima
	push "antytul"
	call imgpodklad2,blit
	delete antytul
	push "timdzieci"
	push 2
	push 1
	push "Epoka11"
	cthis cnewtimercyclefin
	call timdzieci,play
	new gmimgvec,grludki
	push "grludki"
	push "ludki.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "blitwpodklad"
	call grludki,eval
	push 105
	call grludki,setz
	push "Epoka12"
	call grludki,each
	new gmimgvec,grobs
	push "grobs"
	push "obiekty.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grmaskob
	push "grmaskob"
	push "bgmaska1.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "Epoka13"
	call grmaskob,each
	new string,sHippo
	push 2
	call grmaskob,get
	pop sHippo
	new anima,anmovon
	call anmovon,Epoka14
	push "Epoka16"
	call grobs,each
	new gmimgvec,grmap
	push A
	push "anbgniebo"
	push "anbgniebo2"
	push "anbgbrzeg1"
	push "anbgbrzeg2"
	push "grobs"
	push "grmaskob"
	push "anbgmaska2"
	push "anbgwoda"
	push "anbgstatek"
	push "anbgbabka"
	push "anbgczapla"
	push "anbgczaplabig"
	push "anbgczaplas"
	call grmap,addlist
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	call anbgbrzeg2,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push Y1
	push Y2
	pop $b
	popax
	add $a,$b
	push 505
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call grmap,move
	new anima,anbutnutka
	call anbutnutka,Epoka19
	new int,iPlayMode
	push 1
	pop iPlayMode
	new anima,anbutplay
	call anbutplay,Epoka22
	push "timplaymod"
	push 1000
	push "Epoka25"
	cthis timer=
	push A
	push "actobraz"
	push "null"
	push "acthaslo"
	push 0
	call timplaymod,vars2
	new int,bZoom
	push 0
	pop bZoom
	new anima,anbutzoom
	call anbutzoom,Epoka26
	new anima,anzoomer
	call anzoomer,hide
	new int,iilesfx
	push 0
	pop iilesfx
	new gmobjvec,sfxbg
	push "snd"
	push "sfxbg"
	push 20
	call sfxbg,buildarray
	push "Epoka29"
	call sfxbg,each
	new db,dbob
	cthis getgraphpath
	push "obiekty"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push ".beh"
	pop $b
	popax
	add $a,$b
	call dbob,loadbeh
	push "-say"
	cthis adddzwieki
	push "-say2"
	cthis adddzwieki
	push "-say3"
	cthis adddzwieki
	cthis stdexportsnd
	new int,iFontSize
	push 25
	spushs
	spop $h
	call $h,igetsc
	pop iFontSize
	new def,sfntopis
	push "configs/fonts/normal.ttf"
	push iFontSize
	cthis snewfont
	pop sfntopis
	new def,sfntopis2
	push "configs/fonts/normal.ttf"
	push iFontSize
	push 4
	spushs
	spop $h
	call $h,igetsc1
	pop $b
	popax
	add $a,$b
	cthis snewfont
	pop sfntopis2
	new text,txtobrazki
	push sfntopis
	call txtobrazki,setfont
	new img,imgpodile
	push 22
	spushs
	spop $h
	call $h,igetsc
	push 25
	spushs
	spop $h
	call $h,igetsc
	push 217
	push 1
	push 1
	push 255
	call imgpodile,create
	call imgpodile,hide
	push "grtxtile"
	push "text"
	push "txtileo"
	push 16
	cthis newimgarray
	push "Epoka30"
	call grtxtile,each
	new anima,anobrazek
	call anobrazek,Epoka35
	new int,idacthaslo
	new int,iileobrazow
	new string,sactobraz
	push "null"
	pop sactobraz
	new gmimgvec,grobrazki
	call grobrazki,Epoka37
	new gmimgvec,_grbuts
	push A
	push "grobs"
	push "grludki"
	push "grepoki"
	push "grprzyc"
	push "grtxtile"
	call _grbuts,addgroups
	push A
	push "anbutzoom"
	push "anbutnutka"
	push "anbgstatek"
	push "anbutplay"
	call _grbuts,addlist
	call _grbuts,sortimgs
	new def,_slastlek
	push "null"
	pop _slastlek
	new def,sclickedlek
	push "null"
	pop sclickedlek
	new def,_itoler
	push 50
	pop _itoler
	new def,_imover
	push 8
	spushs
	spop $h
	call $h,igetsc
	pop _imover
	push "timbgcyk"
	push "Epoka38"
	cthis cycle=
	call timbgcyk,play
	push igmipad
	cmp0
	je l3309
	new int,ipadclick
	push 0
	pop ipadclick
l3309:
	push 1
	pop igmstate
	end method
	method Epoka0
	localdef $1
	pop $1
	push 5
	cthis setz
	cthis actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	push 1
	call GAME,strsubb
	cmpjne
	cmp0
	je l3201
	cthis hide
l3201:
	push "_butmoveon"
	push "Epoka1"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka2"
	cthis addmethod
	end method
	method Epoka1
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3203
	cthis show
	call dzmouse,setbut
l3203:
	end method
	method Epoka2
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3205
	cthis actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	push 1
	call GAME,strsubb
	cmpjne
	cmp0
	je l3207
	cthis hide
l3207:
	call dzmouse,setstd
l3205:
	end method
	method Epoka3
	localdef $1
	pop $1
	cthis actionname
	push "help"
	cmpje
	cmp0
	je l3209
	cthis hide
	ret
l3209:
	push "_butmoveon"
	push "Epoka4"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka5"
	cthis addmethod
	end method
	method Epoka4
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3211
	call dzmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l3211:
	end method
	method Epoka5
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3213
	call dzmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l3213:
	end method
	method Epoka6
	cthis getex
	call anbgbrzeg1,getpx
	cmpjle
	cmp0
	je l3215
	call anbgbrzeg1,getpx
	cthis getpy
	cthis setpos
	cthis getex
	cthis getpy
	call anbgniebo2,setpos
	jmp l3214
l3215:
	push 1
	popax
	sub 0,$a
	push 0
	cthis move
	push 1
	popax
	sub 0,$a
	push 0
	call anbgniebo2,move
l3214:
	end method
	method Epoka7
	cthis getpx
	call anbgbrzeg2,getex
	push 100
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l3217
	cthis getpx
	popax
	sub 0,$a
	call anbgbrzeg2,getpx
	pop $b
	popax
	add $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2500
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push 0
	cthis move
	jmp l3216
l3217:
	push 15
	spushs
	spop $h
	call $h,igetsc
	push 0
	cthis move
l3216:
	localdef $1
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis getcx
	pop $b
	popax
	sub $a,$b
	pop $1
	localint $2
	push igmstate
	push 1
	cmpje
	cmp0
	je l3219
	push 60
	jmp l3218
l3219:
	push 0
l3218:
	pop $2
	push "fxczapla"
	push $2
	push 0
	push 250
	push $1
	clparent SoundSource,setvol
	end method
	method Epoka8
	cthis getex
	call anbgbrzeg2,getpx
	push 100
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3221
	cthis getpx
	popax
	sub 0,$a
	call anbgbrzeg2,getex
	pop $b
	popax
	add $a,$b
	push 500
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push 0
	cthis move
	jmp l3220
l3221:
	push 5
	spushs
	spop $h
	call $h,igetsc1
	popax
	sub 0,$a
	push 0
	cthis move
l3220:
	end method
	method Epoka9
	push igmstate
	push 1
	cmpje
	cmp0
	je l3223
	call dzmouse,setstd
	call anmovon,hide
	cthis outpiecz
l3223:
	end method
	method Epoka10
	localdef $1
	push X1
	push 150
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	cthis getcx
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	push X2
	push 150
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cthis getcx
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push igmstate
	push 1
	cmpje
	cmp0
	je l3225
	push 50
	jmp l3224
l3225:
	push 10
l3224:
	pop $3
	localint $4
	cthis framenr
	pop $4
	push $4
	push 500
	cmpja
	cmp0
	je l3227
	push 1.0
	push $4
	push 500
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 500
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	pop $b
	popax
	mul $a,$b
	pop $3
l3227:
	push "fxwioslujel"
	push $3
	push 2
	push 300
	push $1
	clparent SoundSource,setvol
	push "fxwioslujer"
	push $3
	push 2
	push 300
	push $2
	clparent SoundSource,setvol
	end method
	method Epoka11
	localint $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3229
	push 60
	jmp l3228
l3229:
	push 10
l3228:
	pop $1
	localint $2
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	push "fxdzieciaki2"
	push $1
	push 2
	push 250
	push X2
	call anbgbrzeg2,getex
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	push "fxdzikie"
	push $1
	push 4
	pop $b
	popax
	div $a,$b
	psax
	push 2
	push 450
	push $2
	call anbgbrzeg2,getcx
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	push "fxbydlo"
	push $1
	push 40
	pop $b
	popax
	add $a,$b
	push 20
	push 450
	push $2
	call anbgbrzeg2,getpx
	push 500
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	push "fxkopie"
	push $1
	push 2
	push 150
	push $2
	call anbgbrzeg2,getpx
	push 780
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	cthis play
	end method
	method Epoka12
	localdef $1
	pop $1
	cthis hide
	push "_butmoveon"
	push "_lekmoveonact"
	cthis addmethod
	push "_butmoveoff"
	push "_lekmoveoffact"
	cthis addmethod
	end method
	method Epoka13
	localdef $1
	pop $1
	cthis framename
	cthis setz
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method Epoka14
	cthis getgraphpath
	push "moveon.pyz"
	pop $b
	popax
	add $a,$b
	cthis load
	cthis hide
	push 10
	cthis setz
	new vector,vecac
	push "string"
	call vecac,type
	localint $1
	push 0
	pop $1
l3230:
	push $1
	cthis nofactions
	cmpjl
	cmp0
	je l3231
	jmp l3233
l3232:
	add $1,1
	pop $1
	jmp l3230
l3233:
	push $1
	cthis nameofaction
	call vecac,add
	jmp l3232
l3231:
	push "contains"
	push "Epoka15"
	cthis addmethod
	end method
	method Epoka15
	localstring $1
	pop $1
	push $1
	call vecac,contains
	end method
	method Epoka16
	localdef $1
	pop $1
	localdef $2
	cthis actionname
	pop $2
	push $2
	push "hipo"
	cmpje
	cmp0
	je l3235
	push "_butmoveon"
	push "Epoka17"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka18"
	cthis addmethod
	jmp l3234
l3235:
	push "_butmoveon"
	push "_lekmoveonact"
	cthis addmethod
	push "_butmoveoff"
	push "_lekmoveoffact"
	cthis addmethod
l3234:
	push $1
	push 4
	cmpjl
	cmp0
	je l3241
	push 6
	cthis setz
	jmp l3240
l3241:
	push $2
	push "bron"
	cmpje
	cmp0
	je l3243
	push 70
	cthis setz
	jmp l3242
l3243:
	push 20
	cthis setz
l3242:
l3240:
	cthis hide
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method Epoka17
	cthis _lekmoveonact
	push igmstate
	push 1
	cmpje
	cmp0
	je l3237
	push sHippo
	spushs
	spop $a
	call [$a],hide
l3237:
	end method
	method Epoka18
	cthis _lekmoveoffact
	push igmstate
	push 1
	cmpje
	cmp0
	je l3239
	push sHippo
	spushs
	spop $a
	call [$a],show
l3239:
	end method
	method Epoka19
	push "scripts/plansza/nutka.pyz"
	cthis load
	push 100
	cthis setz
	push 0
	push iNutka
	cthis setframe
	push "_butmoveon"
	push "Epoka20"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka21"
	cthis addmethod
	end method
	method Epoka20
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3245
	call dzmouse,setbut
l3245:
	end method
	method Epoka21
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3247
	call dzmouse,setstd
l3247:
	end method
	method Epoka22
	push "scripts/plansza/play.pyz"
	cthis load
	push 100
	cthis setz
	push 0
	push iPlayMode
	cthis setframe
	push "_butmoveon"
	push "Epoka23"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka24"
	cthis addmethod
	end method
	method Epoka23
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3249
	call advmouse,setbut
l3249:
	end method
	method Epoka24
	push igmstate
	push 3
	cmpjne
	cmp0
	je l3251
	call advmouse,setstd
l3251:
	end method
	method Epoka25
	call gameapi,getgamename
	spushs
	push actobraz
	push acthaslo
	push 0
	spop $a
	call [$a],viewobraz
	end method
	method Epoka26
	push "scripts/plansza/zoom.pyz"
	cthis load
	push 100
	cthis setz
	push "_butmoveon"
	push "Epoka27"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka28"
	cthis addmethod
	end method
	method Epoka27
	push igmstate
	push 2
	cmpje
	cmp0
	je l3253
	push bZoom
	jmp l3255
l3253:
	push 0
	jmp l3255
l3254:
	push 1
l3255:
	cmp0
	je l3256
	call fxpop,play
	call dzmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l3256:
	end method
	method Epoka28
	push igmstate
	push 2
	cmpje
	cmp0
	je l3258
	push bZoom
	cmp0
	je l3260
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l3260:
	call dzmouse,setstd
l3258:
	end method
	method Epoka29
	localdef $1
	pop $1
	push A
	push "iaction"
	push 1
	popax
	sub 0,$a
	push "iframe"
	push 1
	popax
	sub 0,$a
	push "vol"
	push 100
	cthis vars2
	end method
	method Epoka30
	localdef $1
	pop $1
	push sfntopis2
	cthis setfont
	push $1
	cthis txtset
	push "withincut"
	push "Epoka31"
	cthis addmethod
	push "actionname"
	push "Epoka32"
	cthis addmethod
	push "_butmoveon"
	push "Epoka33"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka34"
	cthis addmethod
	end method
	method Epoka31
	localint $1
	localint $2
	pop $2
	pop $1
	push 1
	end method
	method Epoka32
	push "_number_"
	end method
	method Epoka33
	push igmstate
	push 2
	cmpje
	cmp0
	je l3262
	cthis isvisible
	cmp0
	je l3262
	cthis get
	spushs
	spop $h
	call $h,to_i
	push 0
	cmpja
	jmp l3264
l3262:
	push 0
	jmp l3264
l3263:
	push 1
l3264:
	cmp0
	je l3265
	call dzmouse,setact
l3265:
	end method
	method Epoka34
	push igmstate
	push 2
	cmpje
	cmp0
	je l3267
	cthis isvisible
	jmp l3269
l3267:
	push 0
	jmp l3269
l3268:
	push 1
l3269:
	cmp0
	je l3270
	call dzmouse,setstd
l3270:
	end method
	method Epoka35
	push "onsetframe"
	push "Epoka36"
	cthis addmethod
	push "onfinish"
	push "funfinsay"
	cthis addmethod
	end method
	method Epoka36
	localstring $1
	localint $2
	push 0
	pop $2
l3271:
	push $2
	call sfxbg,size
	cmpjl
	cmp0
	je l3272
	jmp l3274
l3273:
	add $2,1
	pop $2
	jmp l3271
l3274:
	push $2
	call sfxbg,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],iaction
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cmpje
	cmp0
	je l3276
	push $1
	spushs
	spop $a
	call [$a],iframe
	cthis framenr
	cmpje
	jmp l3278
l3276:
	push 0
	jmp l3278
l3277:
	push 1
l3278:
	cmp0
	je l3279
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],vol
	spop $a
	call [$a],setvol
	push $1
	spushs
	spop $a
	call [$a],play
l3279:
	jmp l3273
l3272:
	end method
	method Epoka37
	push A
	push "txtobrazki"
	push "grtxtile"
	push "anobrazek"
	cthis addlist
	push 50
	cthis setz
	cthis hide
	end method
	method Epoka38
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push X1
	push Y1
	push X2
	push Y2
	call clsurf,isin
	cmp0
	je l3281
	push igmstate
	push 1
	cmpje
	cmp0
	je l3283
	localint $3
	push $1
	push X1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l3285
	push X1
	call anbgbrzeg2,getpx
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l3287
	push $3
	push _imover
	cmpja
	cmp0
	je l3289
	push _imover
	pop $3
l3289:
	push $3
	push 0
	call grmap,move
l3287:
	jmp l3284
l3285:
	push X2
	push $1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l3291
	call anbgbrzeg2,getex
	push X2
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l3293
	push $3
	push _imover
	cmpja
	cmp0
	je l3295
	push _imover
	pop $3
l3295:
	push $3
	popax
	sub 0,$a
	push 0
	call grmap,move
l3293:
l3291:
l3284:
	push $2
	push Y1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l3297
	push Y1
	call grmap,getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l3299
	push $3
	push _imover
	cmpja
	cmp0
	je l3301
	push _imover
	pop $3
l3301:
	push 0
	push $3
	call grmap,move
l3299:
	jmp l3296
l3297:
	push Y2
	push $2
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l3303
	call anbgbrzeg2,getey
	push Y2
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l3305
	push $3
	push _imover
	cmpja
	cmp0
	je l3307
	push _imover
	pop $3
l3307:
	push 0
	push $3
	popax
	sub 0,$a
	call grmap,move
l3305:
l3303:
l3296:
	push GAME
	spushs
	spop $a
	call [$a],lekcjamove
l3283:
l3281:
	cthis play
	end method
	method _lekmoveonact
	push igmstate
	push 1
	cmpje
	cmp0
	je l3311
	cthis getname
	spushs
	push "ludki"
	spop $h
	call $h,contains
	cmp0
	je l3313
	call fxpop,play
	cthis show
	jmp l3312
l3313:
	push 1
	popax
	sub 0,$a
	cthis isplaying
	neg
	cmp0
	je l3315
	push 1
	popax
	sub 0,$a
	cthis play
l3315:
l3312:
	call dzmouse,setact
	localdef $1
	cthis actionname
	pop $1
	push $1
	call anmovon,contains
	cmp0
	je l3317
	push $1
	push 0
	call anmovon,setframe
	call anmovon,show
	push igmdemo
	cmp0
	je l3319
	push $1
	call vblok,contains
	jmp l3321
l3319:
	push 0
	jmp l3321
l3320:
	push 1
l3321:
	cmp0
	je l3322
	call anmovon,getcx
	call anmovon,getey
	push 60
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cthis inpiecz
l3322:
l3317:
l3311:
	end method
	method adddzwieki
	localstring $1
	pop $1
	localstring $2
	localint $3
	localint $4
	push 0
	pop $4
l3323:
	push $4
	call dbob,getrowsno
	cmpjl
	cmp0
	je l3324
	jmp l3326
l3325:
	add $4,1
	pop $4
	jmp l3323
l3326:
	push 0
	pop $3
l3327:
	push $3
	push $4
	call dbob,getcolsno
	cmpjl
	cmp0
	je l3328
	push $4
	push $3
	call dbob,get
	push $1
	cmpje
	cmp0
	je l3330
	push 2
	popax
	add $3,$a
	pop $3
	push ""
	pop $2
l3331:
	push $4
	push $3
	call dbob,get
	push ")"
	cmpjne
	cmp0
	je l3332
	push $4
	push $3
	call dbob,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	add $3,1
	pop $3
	jmp l3331
l3332:
	add $3,1
	pop $3
	push "snd"
	push $4
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $2
	cthis addsnd
	jmp l3329
l3330:
	add $3,1
	pop $3
l3329:
	jmp l3327
l3328:
	jmp l3325
l3324:
	end method
	method _restoresfx
	push 0
	pop iilesfx
	push 0
	call sfxbg,stop
	push "Epoka39"
	call sfxbg,each
	end method
	method Epoka39
	localdef $1
	pop $1
	push 1
	popax
	sub 0,$a
	pop iframe
	push 1
	popax
	sub 0,$a
	pop iaction
	end method
	method _lekmoveoffact
	push igmstate
	push 1
	cmpje
	cmp0
	je l3334
	cthis anhide
	call dzmouse,setstd
	call anmovon,hide
	cthis outpiecz
l3334:
	end method
	method lekcjamove
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	call _grbuts,isincut
	cmp0
	je l3336
	localdef $3
	call _grbuts,getsfound
	pop $3
	push $3
	push _slastlek
	cmpjne
	cmp0
	je l3338
	cthis leklastoff
	push $3
	pop _slastlek
	push $3
	spushs
	spop $a
	call [$a],_butmoveon
l3338:
	jmp l3335
l3336:
	cthis leklastoff
l3335:
	end method
	method leklastoff
	push _slastlek
	push "null"
	cmpjne
	cmp0
	je l3340
	push _slastlek
	spushs
	spop $a
	call [$a],_butmoveoff
	push "null"
	pop _slastlek
	push igmipad
	cmp0
	je l3342
	push 0
	pop ipadclick
l3342:
l3340:
	end method
	method lekcjaclick
	push igmstate
	push 3
	cmpje
	cmp0
	je l3344
	push 2
	pop igmstate
	call anzoomer,hide
	ret
	jmp l3343
l3344:
	push igmstate
	push 2
	cmpje
	cmp0
	je l3346
	call mouse,getpos
	push X1
	push Y1
	push X2
	push Y2
	call clsurf,isin
	cmp0
	jne l3349
	call mouse,getpos
	push 0
	push 0
	call grludki,isin
	jmp l3350
l3348:
	push 0
	jmp l3350
l3349:
	push 1
l3350:
	jmp l3351
l3346:
	push 0
	jmp l3351
l3347:
	push 1
l3351:
	cmp0
	je l3352
	cthis lekcjaret
	ret
l3352:
l3343:
	push _slastlek
	push "null"
	cmpjne
	cmp0
	je l3354
	localdef $1
	push _slastlek
	spushs
	spop $a
	call [$a],actionname
	pop $1
	push igmipad
	cmp0
	je l3356
	push A
	push "music"
	push "nutka"
	push "play"
	push "exit"
	push "_number_"
	push "yeszoom"
	call $1,in
	neg
	jmp l3358
l3356:
	push 0
	jmp l3358
l3357:
	push 1
l3358:
	cmp0
	je l3359
	push ipadclick
	push 0
	cmpje
	cmp0
	je l3361
	push 1
	pop ipadclick
	ret
	jmp l3360
l3361:
	push 0
	pop ipadclick
l3360:
l3359:
	push $1
	spushs
	push "nutka"
	cmpst
	jne l3363
	spop $a
	push iNutka
	neg
	pop iNutka
	push 0
	push iNutka
	call anbutnutka,setframe
	push iNutka
	cmp0
	je l3365
	call clmusic,play
	jmp l3364
l3365:
	call clmusic,reset
l3364:
	call fxpik1,play
	jmp l3362
l3363:
	push "play"
	cmpst
	jne l3366
	spop $a
	push iPlayMode
	neg
	pop iPlayMode
	push 0
	push iPlayMode
	call anbutplay,setframe
	call fxpik1,play
	push 0
	call timplaymod,stop
	jmp l3362
l3366:
	push "prehistoria"
	cmpst
	je l3368
	push "egipt"
	cmpst
	je l3368
	push "grecja"
	cmpst
	je l3368
	push "daleki"
	cmpst
	je l3368
	push "rzym"
	cmpst
	je l3368
	push "europa"
	cmpst
	je l3368
	push "afryka"
	cmpst
	je l3368
	push "ameryka"
	cmpst
	je l3368
	jmp l3367
l3368:
	spop $a
	push $1
	call grgry,find
	push 1
	pop $b
	popax
	add $a,$b
	call grgry,get
	call gameapi,play
	jmp l3362
l3367:
	push "Prehistoria"
	cmpst
	jne l3369
	spop $a
	jmp l3362
l3369:
	push "help"
	cmpst
	jne l3370
	spop $a
	jmp l3362
l3370:
	push "exit"
	cmpst
	jne l3371
	spop $a
	push "MainMenu"
	call gameapi,play
	jmp l3362
l3371:
	push "_number_"
	cmpst
	jne l3372
	spop $a
	push igmstate
	push 2
	cmpje
	cmp0
	je l3374
	call fxpik1,play
	push sactobraz
	push "txtileo"
	call _slastlek,strsubbs
	push 0
	cthis viewobraz
l3374:
	jmp l3362
l3372:
	push "nonzoom"
	cmpst
	jne l3375
	spop $a
	jmp l3362
l3375:
	push "yeszoom"
	cmpst
	jne l3376
	spop $a
	push igmstate
	push 2
	cmpje
	cmp0
	je l3378
	call fxpik1,play
	push 3
	pop igmstate
	call anzoomer,show
	call dzmouse,setstd
l3378:
	jmp l3362
l3376:
	spop $a
	push igmstate
	push 1
	cmpje
	cmp0
	je l3380
	push igmdemo
	cmp0
	je l3382
	push $1
	call vblok,contains
	jmp l3384
l3382:
	push 0
	jmp l3384
l3383:
	push 1
l3384:
	cmp0
	je l3385
	ret
l3385:
	push $1
	pop sactobraz
	localdef $2
	push $1
	call dbob,findbyrow
	pop $2
	push 0
	pop iileobrazow
	localdef $3
	push 0
	pop $3
l3386:
	push $3
	push $2
	call dbob,getcolsno
	cmpjl
	cmp0
	je l3387
	push $2
	push $3
	call dbob,get
	push "file:"
	cmpje
	cmp0
	je l3389
	add iileobrazow,1
	pop iileobrazow
l3389:
	add $3,1
	pop $3
	jmp l3386
l3387:
	push iileobrazow
	push 0
	cmpje
	cmp0
	je l3391
	ret
l3391:
	call dzmouse,setstd
	push 2
	pop igmstate
	push _slastlek
	pop sclickedlek
	call fxpik1,play
	push $1
	push 1
	push 0
	cthis viewobraz
l3380:
l3362:
	jmp l3353
l3354:
	push 1
	cthis cactsndstop
l3353:
	end method
	method lnapiscol
	push 117
	push 1
	push 1
	ret
	end method
	method lnapiscolact
	push 255
	push 255
	push 255
	ret
	end method
	method viewobraz
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	pop idacthaslo
	push 0
	call timplaymod,stop
	push 0
	cthis cactsndstop
	push $3
	pop iakplay
	push $1
	pop sakplay
	push $2
	pop iakid
	localdef $4
	push $1
	call dbob,findbyrow
	pop $4
	localstring $5
	localstring $6
	localdef $7
	push 776
	spushs
	spop $h
	call $h,igetsc
	pop $7
	localdef $8
	push 194
	spushs
	spop $h
	call $h,igetsc
	pop $8
	localdef $9
	push $7
	pop $9
	localdef $10
	push $8
	push iFontSize
	pop $b
	popax
	add $a,$b
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $10
	localdef $11
	push 8
	pop $11
	push "- "
	cthis lnapiscol
	call txtileo0,txtsetcol
	push $9
	push $10
	call txtileo0,setpos
	call txtileo0,show
	call txtileo0,getw
	push $11
	pop $b
	popax
	add $a,$b
	popax
	add $9,$a
	pop $9
	localint $12
	push 1
	pop $12
l3392:
	push $12
	push iileobrazow
	cmpjle
	cmp0
	je l3393
	jmp l3395
l3394:
	add $12,1
	pop $12
	jmp l3392
l3395:
	push "txtileo"
	push $12
	pop $b
	popax
	add $a,$b
	pop $5
	push $12
	push $2
	cmpje
	cmp0
	je l3397
	push $5
	spushs
	push $12
	cthis lnapiscolact
	spop $a
	call [$a],txtsetcol
	push $9
	push $5
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call imgpodile,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $10
	push $5
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call imgpodile,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgpodile,setpos
	call imgpodile,show
	push $5
	spushs
	spop $a
	call [$a],getz
	call imgpodile,setz
	jmp l3396
l3397:
	push $5
	spushs
	push $12
	cthis lnapiscol
	spop $a
	call [$a],txtsetcol
l3396:
	push $5
	spushs
	push $9
	push $10
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	spop $a
	call [$a],getw
	push $11
	pop $b
	popax
	add $a,$b
	popax
	add $9,$a
	pop $9
	jmp l3394
l3393:
	push "txtileo"
	push iileobrazow
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	push " -"
	cthis lnapiscol
	spop $a
	call [$a],txtsetcol
	push $6
	spushs
	push $9
	push $10
	spop $a
	call [$a],setpos
	push $6
	spushs
	spop $a
	call [$a],show
	push $6
	spushs
	spop $a
	call [$a],getw
	popax
	add $9,$a
	pop $9
	push $7
	push $9
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call grtxtile,move
	push $7
	push $9
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call imgpodile,move
	push iakplay
	push 0
	cmpje
	cmp0
	je l3399
	cthis _restoresfx
l3399:
	push $4
	push 0
	cmpjae
	cmp0
	je l3401
	localdef $13
	push 1
	pop $13
	localdef $14
	push 0
	pop $14
l3402:
	push $13
	push $4
	call dbob,getcolsno
	cmpjl
	cmp0
	je l3403
	push $4
	push $13
	call dbob,get
	spushs
	push "text:"
	cmpst
	jne l3405
	spop $a
	push $4
	push $13
	push 1
	pop $b
	popax
	add $a,$b
	call dbob,get
	pop $5
	push 2
	popax
	add $13,$a
	pop $13
	push "_"
	push " "
	call $5,change
	push "- "
	push $5
	pop $b
	popax
	add $a,$b
	push " -"
	pop $b
	popax
	add $a,$b
	cthis lnapiscol
	call txtobrazki,txtsetcol
	push $7
	call txtobrazki,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $8
	call txtobrazki,setpos
	call txtobrazki,show
	jmp l3404
l3405:
	push "file:"
	cmpst
	jne l3406
	spop $a
	add $14,1
	pop $14
	add $13,1
	pop $13
	push $14
	push $2
	cmpje
	cmp0
	je l3408
	push $4
	push $13
	call dbob,get
	pop $5
	add $13,1
	pop $13
	push iakplay
	push 0
	cmpje
	cmp0
	je l3410
	cthis getgraphpath
	push $5
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anobrazek,load
	push 190
	call anobrazek,setz
	call anmovon,hide
	push 0
	pop bZoom
	push 0
	push 0
	call anbutzoom,setframe
l3410:
	localint $15
	push 0
	pop $15
l3411:
	push $13
	push $4
	call dbob,getcolsno
	cmpjl
	cmp0
	je l3412
	push $4
	push $13
	call dbob,get
	push "file:"
	cmpjne
	jmp l3414
l3412:
	push 0
	jmp l3414
l3413:
	push 1
l3414:
	cmp0
	je l3415
	push $4
	push $13
	call dbob,get
	spushs
	push "-zoom"
	cmpst
	jne l3417
	spop $a
	add $13,1
	pop $13
	push iakplay
	push 0
	cmpje
	cmp0
	je l3419
	push 1
	pop bZoom
	push 1
	push 0
	call anbutzoom,setframe
	cthis getgraphpath
	push $4
	push $13
	call dbob,get
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anzoomer,load
	push 200
	call anzoomer,setz
	call anzoomer,hide
l3419:
	jmp l3416
l3417:
	push "-say"
	cmpst
	je l3421
	push "-say2"
	cmpst
	je l3421
	push "-say3"
	cmpst
	je l3421
	jmp l3420
l3421:
	spop $a
l3422:
	push $4
	push $13
	call dbob,get
	push ")"
	cmpjne
	cmp0
	je l3423
	add $13,1
	pop $13
	jmp l3422
l3423:
	push $15
	push iakplay
	cmpje
	cmp0
	je l3425
	push "snd"
	push $4
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $13
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "funfinsay"
	cthis cbplayfin
	push 1
	pop bStartPlay
l3425:
	add $15,1
	pop $15
	jmp l3416
l3420:
	push "-sfx"
	cmpst
	jne l3426
	spop $a
	add $13,1
	pop $13
	push iakplay
	push 0
	cmpje
	cmp0
	je l3428
	push iilesfx
	call sfxbg,get
	pop $5
	add iilesfx,1
	pop iilesfx
	push $5
	spushs
	push SFXPATH
	push $4
	push $13
	call dbob,get
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	add $13,1
	pop $13
	push $5
	spushs
	push $4
	push $13
	call dbob,get
	spop $a
	call [$a],iaction=
	add $13,1
	pop $13
	push $5
	spushs
	push $4
	push $13
	call dbob,get
	spop $a
	call [$a],iframe=
	add $13,1
	pop $13
	push $5
	spushs
	push $4
	push $13
	call dbob,get
	spop $a
	call [$a],vol=
	jmp l3427
l3428:
	push 3
	popax
	add $13,$a
	pop $13
l3427:
	jmp l3416
l3426:
	spop $a
l3416:
	add $13,1
	pop $13
	jmp l3411
l3415:
	push $4
	call dbob,getcolsno
	pop $13
	push iakplay
	call anobrazek,play
	jmp l3407
l3408:
l3429:
	push $13
	push $4
	call dbob,getcolsno
	cmpjl
	cmp0
	je l3430
	push $4
	push $13
	call dbob,get
	push "file:"
	cmpjne
	jmp l3432
l3430:
	push 0
	jmp l3432
l3431:
	push 1
l3432:
	cmp0
	je l3433
	add $13,1
	pop $13
	jmp l3429
l3433:
l3407:
	jmp l3404
l3406:
	spop $a
	add $13,1
	pop $13
l3404:
	jmp l3402
l3403:
l3401:
	end method
	method funfinsay
	localint $1
	push 0
	pop $1
	cthis getname
	push "anobrazek"
	cmpje
	cmp0
	je l3435
	cthis cisplaying
	neg
	cmp0
	je l3437
	push 1
	pop $1
l3437:
	jmp l3434
l3435:
	push iakplay
	call anobrazek,isplaying
	push 0
	cmpje
	cmp0
	je l3439
	push 1
	pop $1
l3439:
l3434:
	push $1
	cmp0
	je l3441
	push iakplay
	call anobrazek,nofactions
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3443
	push sakplay
	push iakid
	push iakplay
	push 1
	pop $b
	popax
	add $a,$b
	cthis viewobraz
	jmp l3442
l3443:
	cthis haslofin
l3442:
l3441:
	end method
	method lekcjaret
	push 1
	pop igmstate
	call imgpodile,hide
	push 0
	call timplaymod,stop
	push 0
	cthis cactsndstop
	push 0
	call anobrazek,stop
	cthis _restoresfx
	call grobrazki,hide
	push 0
	push 0
	call anbutzoom,setframe
	push 0
	pop bZoom
	cthis leklastoff
	push sclickedlek
	push "null"
	cmpjne
	cmp0
	je l3445
	push sclickedlek
	spushs
	spop $a
	call [$a],_butmoveoff
	push "null"
	pop sclickedlek
l3445:
	cthis lekcjamove
	end method
	method haslofin
	cthis cisplaying
	push 0
	cmpje
	cmp0
	je l3447
	push 1
	popax
	sub 0,$a
	call anobrazek,isplaying
	push 0
	cmpje
	cmp0
	je l3447
	push iPlayMode
	cmp0
	je l3447
	push idacthaslo
	push iileobrazow
	cmpjl
	jmp l3449
l3447:
	push 0
	jmp l3449
l3448:
	push 1
l3449:
	cmp0
	je l3450
	push sactobraz
	call timplaymod,actobraz=
	push idacthaslo
	push 1
	pop $b
	popax
	add $a,$b
	call timplaymod,acthaslo=
	call timplaymod,play
l3450:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/music.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/sfx/butmovon.wav"
	call sndakskermovon,load
	push 50
	call sndakskermovon,setvol
	class classasker2
	parent classasker
	method init
	clparent classasker,init
	new snd,sndaskexit
	push 0
	push 1
	call sndaskexit,setstartstopflag
	new snd,sndaskexitgame
	push 0
	push 1
	call sndaskexitgame,setstartstopflag
	new snd,sndyes
	push 0
	push 1
	call sndyes,setstartstopflag
	new snd,sndno
	push 0
	push 1
	call sndno,setstartstopflag
	new snd,sndaskrestart
	push 0
	push 1
	call sndaskrestart,setstartstopflag
	new snd,sndaskrestart2
	push 0
	push 1
	call sndaskrestart2,setstartstopflag
	cthis reload
	push "scripts/common/asker.pyz"
	push 12000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method reload
	push SNDPATH
	cthis setwavpath
	localdef $1
	cthis getsndpath
	pop $1
	push $1
	push "nar07.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexit,load
	push $1
	push "nar12.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexitgame,load
	push $1
	push "nar08.wav"
	pop $b
	popax
	add $a,$b
	call sndyes,load
	push $1
	push "nar09.wav"
	pop $b
	popax
	add $a,$b
	call sndno,load
	push $1
	push "nar11.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart,load
	push $1
	push "nar14.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart2,load
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askexitgame
	push "sndaskexitgame"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	call modadvglob,delheros
	call clsave,free
	call gameapi,getgamename
	spushs
	push "Archeo"
	cmpst
	jne l3452
	spop $a
	push "SubMenu"
	jmp l3451
l3452:
	push "Szkielety"
	cmpst
	jne l3453
	spop $a
	push "SubMenu"
	jmp l3451
l3453:
	push "Rydwan"
	cmpst
	jne l3454
	spop $a
	push "SubMenu"
	jmp l3451
l3454:
	push "Swiatynia"
	cmpst
	jne l3455
	spop $a
	push "SubMenu"
	jmp l3451
l3455:
	push "Wejscie"
	cmpst
	jne l3456
	spop $a
	push "SubMenu"
	jmp l3451
l3456:
	push "Lutnia"
	cmpst
	jne l3457
	spop $a
	push "SubMenu"
	jmp l3451
l3457:
	push "Ship"
	cmpst
	jne l3458
	spop $a
	push "SubMenu"
	jmp l3451
l3458:
	push "Quiz"
	cmpst
	jne l3459
	spop $a
	push "MenuTest"
	jmp l3451
l3459:
	push "MainMenu"
	cmpst
	jne l3460
	spop $a
	push "Outro"
	jmp l3451
l3460:
	spop $a
	push "MenuBaj"
l3451:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "SubMenu"
	cmpst
	jne l3462
	spop $a
	push "MenuGry"
	jmp l3461
l3462:
	spop $a
	push "MainMenu"
l3461:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call ccs,isplaying
	neg
	cmp0
	je l3464
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent classasker,ask
l3464:
	end method
	end class

	new classasker2,claskexit
	method LANG=
	localdef $1
	pop $1
	push $1
	pop LANG
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l3466
	push ""
	pop LANG
l3466:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l3468
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l3468:
	call claskexit,reload
	end method
	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 4000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	push igmipad
	cmp0
	je l3470
	push igmandro
	neg
	jmp l3472
l3470:
	push 0
	jmp l3472
l3471:
	push 1
l3472:
	cmp0
	je l3473
	push "scripts/common/buts_pad.db"
	call dbb,load
	jmp l3469
l3473:
	push "scripts/common/buts.db"
	call dbb,load
l3469:
	new snd,sndfxglobon
	push "sounds/sfx/globbutmovon.wav"
	call sndfxglobon,load
	push 50
	call sndfxglobon,setvol
	new def,bvisible
	push 1
	pop bvisible
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3475
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l3476:
	push $4
	push $3
	cmpjl
	cmp0
	je l3477
	jmp l3479
l3478:
	add $4,1
	pop $4
	jmp l3476
l3479:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l3478
l3477:
l3475:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l3481
	call mouse,hide
l3481:
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "pause"
	cmpje
	cmp0
	je l3483
	call clpause,pause
	jmp l3482
l3483:
	push $1
	push "exit"
	cmpje
	cmp0
	je l3485
	call gameapi,getgamename
	spushs
	push "MenuGry"
	cmpst
	je l3488
	push "MenuTest"
	cmpst
	je l3488
	push "MenuBaj"
	cmpst
	je l3488
	jmp l3487
l3488:
	spop $a
	push "MainMenu"
	call gameapi,play
	jmp l3486
l3487:
	push "SubMenu"
	cmpst
	jne l3489
	spop $a
	push "MenuGry"
	call gameapi,play
	jmp l3486
l3489:
	spop $a
	call claskexit,askexittomenu
l3486:
	jmp l3484
l3485:
	push $1
	push "restart"
	cmpje
	cmp0
	je l3491
	call claskexit,askrestart
l3491:
l3484:
l3482:
	call gameapi,getgamename
	spushs
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push 0
	pop igmstate
	push igmwinlocal
	cmp0
	je l3493
	localstring $1
	push "appdata"
	call engine,getspecialpath
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l3495
	push $1
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	call engine,mkdir
	push 0
	cmpje
	jmp l3497
l3495:
	push 0
	jmp l3497
l3496:
	push 1
l3497:
	cmp0
	je l3498
	push $1
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	push "/saves"
	pop $b
	popax
	add $a,$b
	call engine,mkdir
l3498:
l3493:
	call bsms,setstd
	call clbuts,load
	push igmdebugpad
	neg
	cmp0
	je l3500
	push igmipad
	jmp l3502
l3500:
	push 0
	jmp l3502
l3501:
	push 1
l3502:
	cmp0
	je l3503
	push "scripts/plansza/kursorypad.pyz"
	call dzmouse,load
	jmp l3499
l3503:
	push "scripts/plansza/kursory.pyz"
	call dzmouse,load
l3499:
	push "MainLoader"
	call gameapi,play
	game MainLoader
	parent Dzieje
	method init
	push "mainloader"
	clparent Dzieje,init
	push igmdebugpad
	neg
	cmp0
	je l3505
	push igmipad
	jmp l3507
l3505:
	push 0
	jmp l3507
l3506:
	push 1
l3507:
	cmp0
	je l3508
	push "scripts/plansza/kursorypad.pyz"
	call advmouse,load
	jmp l3504
l3508:
	push "scripts/common/cursors.pyz"
	call advmouse,load
l3504:
	push "scripts/common/defaults.adv"
	call modadv,load
	push "scripts/common/sounds.db"
	call modadv,loadsounds
	push "snd"
	call modadv,settalktype
	push "scripts/common/initscript.dsc"
	call modadv,loadscript
	push "global.txt"
	call clsave,load
	cthis getname
	pop sgmlastscene
	push A
	push "oooo tak"
	push "wspaaniale"
	push "ho ho ho"
	push "doobrze"
	push "braawo"
	push "achaa"
	push "uhummm"
	push "myes"
	cthis exportbank
	push A
	push "ooj nie"
	push "ymym"
	push "nie tak"
	push "aj"
	push "co le"
	push "uups"
	push "ajajaj"
	push "mno"
	cthis exportbank
	push "startgame:"
	push 1
	call modadv,get
	call gameapi,play
	end method
	end game

	game Egipt
	method init
	new anima,imgtlo
	push "scripts/plansza/loading.pyz"
	call imgtlo,load
	new timer,timgo
	push "onfinish"
	push "Egipt0"
	call timgo,addmethod
	push 1
	call timgo,settick
	push 1
	call timgo,setcycle
	call timgo,play
	call engine,redraw
	end method
	method Egipt0
	push "Egipt2"
	call gameapi,play
	end method
	end game

	game Egipt2
	parent Epoka
	method init
	push igmdemo
	cmp0
	je l3510
	new vector,vblok
	push "string"
	call vblok,type
	push "begin"
	push "wielblad"
	push "sfinks"
	push "rydwan"
	push "bron"
	push "instrumenty"
	push "nemes"
	push "meble"
	push "nil"
	push "bogowie"
	push "faraon"
	push "swiatynie"
	push "nawadnianie"
	push "budowapiramidy"
	push "piramidy"
	push "nefretete"
	push "waga"
	push "hipo"
	push "krokodyl"
	push "sandaly"
	push "wino"
	push "swiatyniaskala"
	push "rolnictwo"
	push "maka"
	push "miary"
	push "obelisk"
	push "ciekawostki"
	push "uroda"
	push "ziemia"
	push "kamieniolom"
	push "hieroglify"
	push "mumia"
	push "budowaswiatyni"
	push "matematyka"
	push "bizuteria"
	call vblok,beginadd
l3510:
	push "egipt"
	clparent Epoka,init
	end method
	method mouse_move
	cthis lekcjamove
	end method
	method mouse_lclick
	cthis lekcjaclick
	end method
	end game

	class Epoka2
	parent Dzieje
	method init
	localstring $1
	pop $1
	push $1
	pop sEpoka2
	push "plansza"
	clparent Dzieje,init
	push A
	push "prehistoria"
	push "EpokaPr"
	push "egipt"
	push "Egipt"
	push "daleki"
	push "EpokaCh"
	push "europa"
	push "EpokaSr"
	push "afryka"
	push "EpokaAf"
	push "ameryka"
	push "EpokaAm"
	push "grecja"
	push "EpokaGr"
	push "rzym"
	push "EpokaRz"
	push "grgry"
	cthis list=
	new Button,but1
	push "grepoki"
	push "epokieng.pyz"
	push "Epoka20"
	call but1,load
	push "epoki"
	cthis path=
	end method
	method Epoka20
	localdef $1
	pop $1
	cthis show
	push 10
	cthis setz
	push "isbutin"
	push "Epoka21"
	cthis addmethod
	cthis actionname
	push sEpoka2
	cmpjne
	cmp0
	je l3512
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l3512:
	push "butmoveon"
	push "Epoka22"
	cthis addmethod
	push "butmoveoff"
	push "Epoka23"
	cthis addmethod
	push "butclick"
	push "Epoka24"
	cthis addmethod
	end method
	method Epoka21
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Epoka22
	call fxpop,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Epoka23
	call advmouse,setstd
	cthis actionname
	push sEpoka2
	cmpjne
	cmp0
	je l3514
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l3514:
	end method
	method Epoka24
	cthis actionname
	call grgry,find
	push 1
	pop $b
	popax
	add $a,$b
	call grgry,get
	call gameapi,play
	end method
	end class

	new string,sEpoka2
	game EpokaSr
	parent Epoka2
	method init
	push "europa"
	clparent Epoka2,init
	push "sr_bgeng.pyz"
	cthis img=
	new gmimgvec,gmobs
	push "gmobs"
	push "sr_obs.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call gmobs,hide
	push "timtik"
	push 3000
	push "ipacgo"
	cthis timer=
	cthis ipacgo
	end method
	method ipacgo
	localdef $1
	call gmobs,first
	pop $1
	push 0
	call gmobs,removeat
	push $1
	spushs
	spop $a
	call [$a],show
	call gmobs,size
	cmp0
	je l3516
	call timtik,play
l3516:
	end method
	end game

	game EpokaRz
	parent Epoka2
	method init
	push "rzym"
	clparent Epoka2,init
	push "rz_bgeng.pyz"
	cthis img=
	push "annak"
	push "rz_nakeng.pyz"
	push 5
	cthis newanima
	new gmimgvec,gmobs
	push "gmobs"
	push "rz_obs.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "EpokaRz0"
	call gmobs,each
	push "timtik"
	push 20
	push "EpokaRz1"
	cthis timer=
	call timtik,play
	end method
	method EpokaRz0
	localdef $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l3518
	localdef $2
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call gmobs,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getey
	cthis ansetbpos
l3518:
	end method
	method EpokaRz1
	push 0
	push 2
	spushs
	spop $h
	call $h,igetsc1
	popax
	sub 0,$a
	call gmobs,move
	localdef $1
	push 0
	call gmobs,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getey
	call annak,getpy
	cmpjle
	cmp0
	je l3520
	push 0
	call gmobs,removeat
	localdef $2
	call gmobs,last
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],ansetbpos
	push $1
	call gmobs,add
l3520:
	cthis play
	end method
	end game

	game EpokaCh
	parent Epoka2
	method init
	push "daleki"
	clparent Epoka2,init
	push "ch_bgeng.png"
	cthis img=
	new string,simg1
	push "img1"
	pop simg1
	new string,simg2
	push "img2"
	pop simg2
	new img,img1
	new img,img2
	new int,iwidok
	push 1
	pop iwidok
	new string,sbaseimg
	cthis getgraphpath
	push "ch"
	pop $b
	popax
	add $a,$b
	pop sbaseimg
	new int,iilescen
	push 12
	pop iilescen
	new int,ibajkaz
	push 10
	pop ibajkaz
	new int,ileft
	push 525
	spushs
	spop $h
	call $h,igetsc
	pop ileft
	new int,iup
	push 256
	spushs
	spop $h
	call $h,igetsc
	pop iup
	push sbaseimg
	push 1
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	call img1,load
	push ileft
	push iup
	call img1,setpos
	push ibajkaz
	call img1,setz
	push 1
	push 2
	popax
	sub 0,$a
	cthis tmodeopacity
	push "timtik"
	push 3000
	push "mnext"
	cthis timer=
	cthis mnext
	end method
	method tmodeopacity
	localint $1
	localint $2
	pop $2
	pop $1
	new classfadeinout,clfio
	new int,iopacityc
	push $1
	pop iopacityc
	new int,iopacityd
	push $2
	pop iopacityd
	end method
	method mfinclfio
	push simg2
	spushs
	spop $a
	call [$a],hide
	push simg2
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	call timtik,play
	end method
	method mnext
	localint $1
	push iwidok
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l3522
	push $1
	push iilescen
	cmpjle
	jmp l3524
l3522:
	push 0
	jmp l3524
l3523:
	push 1
l3524:
	cmp0
	je l3525
	jmp l3521
l3525:
	push 1
	pop $1
l3521:
	push $1
	pop iwidok
	push simg2
	spushs
	push sbaseimg
	push iwidok
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push simg2
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	push simg2
	spushs
	push ileft
	push iup
	spop $a
	call [$a],setpos
	push simg2
	spushs
	push ibajkaz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push simg1
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	push iopacityc
	push iopacityd
	push simg1
	push "mfinclfio"
	call clfio,imgtransparency
	localstring $2
	push simg1
	pop $2
	push simg2
	pop simg1
	push $2
	pop simg2
	end method
	method mfinpop
	push iwidok
	push iilescen
	cmpja
	cmp0
	je l3527
	push 1
	pop iwidok
l3527:
	cthis mnext
	end method
	end game

	game EpokaAf
	parent Epoka2
	method init
	push "afryka"
	clparent Epoka2,init
	push A
	push "af_bgeng.pyz"
	push "af_obs.pyz 10"
	cthis imgs=
	push 0
	call anaf_obs,anloopplay
	end method
	end game

	game EpokaAm
	parent Epoka2
	method init
	push "ameryka"
	clparent Epoka2,init
	push A
	push "am_bgeng.pyz"
	cthis imgs=
	end method
	end game

	game EpokaPr
	parent Epoka2
	method init
	push "prehistoria"
	clparent Epoka2,init
	push A
	push "pr_bgeng.pyz"
	push "pr_obeng.pyz 10"
	cthis imgs=
	push 0
	call anpr_obeng,anloopplay
	end method
	end game

	game EpokaGr
	parent Epoka2
	method init
	push "grecja"
	clparent Epoka2,init
	push A
	push "gr_bgeng.pyz"
	push "gr_obs.pyz 10"
	cthis imgs=
	push 0
	call angr_obs,anloopplay
	end method
	end game

	game EpokaEg
	parent Epoka2
	method init
	push "egipt"
	clparent Epoka2,init
	push A
	push "eg_bgeng.pyz"
	push "eg_obs.pyzH"
	cthis imgs=
	new gmimgvec,greps
	new int,iaction
	push 0
	pop iaction
	new int,iframe
	push 0
	pop iframe
	push "timtik"
	push 1000
	push "EpokaEg0"
	cthis timer=
	cthis loadacts
	end method
	method EpokaEg0
	push iframe
	push iaction
	call aneg_obs,nofframes
	cmpjl
	cmp0
	je l3529
	push iframe
	call greps,get
	spushs
	spop $a
	call [$a],show
	add iframe,1
	pop iframe
	push iframe
	push iaction
	call aneg_obs,nofframes
	cmpje
	cmp0
	je l3531
	push 3000
	cthis delay
l3531:
	cthis play
	jmp l3528
l3529:
	add iaction,1
	pop iaction
	push iaction
	call aneg_obs,nofactions
	cmpja
	cmp0
	je l3533
	push 0
	pop iaction
l3533:
	push GAME
	spushs
	spop $a
	call [$a],loadacts
l3528:
	end method
	method loadacts
	call greps,deleteallgm
	call greps,free
	push "aneg_obs"
	push "anegob"
	push iaction
	push "greps"
	cthis newanframesgr
	popax
	push 0
	pop iframe
	call greps,hide
	push 1000
	call timtik,delay
	call timtik,play
	end method
	end game

	game cs1
	parent DziejeGame
	method init
	push "cs1"
	clparent DziejeGame,init
	new img,gsq
	call gsq,cs10
	cthis advbg
	push A
	push "wstep1.pyz 10"
	push "wejscie.pyzH 10"
	push "robsH.pyz 20"
	push "hankH.pyz 30"
	push "inzH.pyz 30"
	push "profH.pyz 35"
	push "latarkaH.pyz 25"
	push "roslinyH.pyz 40"
	push "fotoH.pyz 45"
	push "cien.pyz 50"
	push "blyskH.pyz 60"
	cthis imgs=
	push "anwejscie"
	push "anwej2"
	cthis copyanima
	push 1
	push 0
	call anwej2,setframe
	push "anrosliny"
	push "anros2"
	cthis copyanima
	push 1
	push 0
	call anros2,setframe
	new gmimgvec,gral
	push A
	push "anwejscie"
	push "anwej2"
	push "anrobs"
	push "anhank"
	push "aninz"
	push "anprof"
	push "anlatarka"
	push "anrosliny"
	push "anros2"
	push "anfoto"
	call gral,addlist
	call gral,gklipuj
	new classfadeinout,clfio
	push "onfinish"
	push "wstep1end"
	call anwstep1,addmethod
	push "onfinish"
	push "cs11"
	call anrobs,addmethod
	push "onfinish"
	push "cs12"
	call anwej2,addmethod
	push "sounds/bgr/dzungla.wav"
	call gameapi,playmusic
	push 80
	call gameapi,setmusicvol
	push "onfinish"
	push "cs13"
	call anfoto,addmethod
	push A
	push "muruje1"
	push "kopie2"
	push "wysypuje1"
	push "pstryk"
	push "otwieradrzwi1"
	push "wlacznik 50"
	push "pik2"
	push "ciezarowa1 30"
	cthis sfxs=
	push A
	push "sndstart"
	push "Stacja archeologiczna 2236 4; Egipt 18 marca 2008 roku"
	push "cs15"
	push ":mich1"
	push "Wedlug moich obliczen powinnismy kopac tutaj"
	push "cs19"
	push ":eng1"
	push "Profesorze juz trzy ekipy przeszukiwaly ten teren i nic nie znaleziono"
	push "cs110"
	push ":mich2"
	push "To sie okaze; Hank przytrzymaj latarke; Chlopaki zaczynajcie"
	push "wstep1end"
	push ":mich3"
	push "Hah! Miaem nosa! Panowie przed nami brama!"
	push "cs111"
	push ":eng2"
	push "Profesorze gratuluj! Nawet ja wtpiem a tu takie odkrycie"
	push "cs112"
	push ":mich4"
	push "Sprbujmy j otworzy"
	push "cs113"
	push ":foto1"
	push "Panowie sekunda; Chwila dla prasy"
	push "cs114"
	push ":mich5"
	push "Inzynierze Drucki Pan idzie ze mna; Zrobimy pierwsze ogledziny; Dokladne badania rozpoczniemy jutro"
	push "cs115"
	push ":eng3"
	push "Profesorze jestemy pierwszymi od tysicy lat ludmi ktrzy oddychaj tym powietrzem"
	push "cs123"
	push ":mich6"
	push "Dwa sarkofagi; Czyby jaka ksica para? Spjrzmy na ciany"
	push "cs124"
	push ":eng4"
	push "Hieroglify"
	push "cs125"
	push ":mich7"
	push "Doskonale; Jutro rozpoczn odczytywanie hieroglifw i poznamy histori spoczywajcych tu ludzi"
	push "cs126"
	push ":spiker1"
	push "Wiadomo z ostatniej chwili; Ekipa archeologw pod kierownictwem profesora Michaowskiego odnalaza nienaruszony grb pary maeskiej z okresu staroytnego Egiptu; Na miejscu jest nasz reporter Andy Oleigh; Andy jakie s wieci?"
	push "cs129"
	push ":foto2"
	push "Witaj Ben; Wczoraj wieczorem archeolodzy otworzyli drzwi prowadzce do grobowca; Dzi od rana profesor Michaowski i jego ekipa prowadz prace inwentaryzacyjne; Jestem na miejscu i bd pastwa informowa o najwaniejszych odkryciach"
	push "cs130"
	push ":spiker2"
	push "Dzikuj Andy bdziemy si z tob jeszcze czy"
	push "cs131"
	push ":spiker3"
	push "Przechodzimy teraz do spraw krajowych; Przewodniczcy zwizkw zawodowych z kopalni Jaszczomp zagrozi e"
	push "cs132"
	push ":eng5"
	push "Jest ciarwka ze sprztem moemy zaczyna"
	push "cs136"
	push ":mich8"
	push "Bardzo dobrze; Fotograficy na miejscu?"
	push "cs137"
	push ":eng6"
	push "Tak profesorze"
	push "cs138"
	push ":mich9"
	push "OK; Chodmy zatem do grobowca"
	push "ciezarend"
	push ":mich10"
	push "Tu spoczywa wielka ksina Cynthia i jej maonek dzielny Cheti; Bardzo ciekawa inskrypcja; Czyby mczyzna nie pochodzi z krlewskiego rodu? Musz spojrze na hieroglify"
	push "cs139"
	push ":mich11"
	push "hmmm mmm mm mm"
	push "null"
	push ":mich12"
	push "Bardzo ciekawie zapowiada si ta opowie; Zacznijmy od pocztku"
	push "cs147"
	push ":mich13"
	push "Historia Chetiego zaczyna si na zwykym gospodarstwie"
	push "cs148"
	push ":mich14"
	push "Mieszka tam z rodzicami i brami; Przez wiele tygodni wszyscy z niecierpliwoci oczekiwali na wylew Nilu"
	push "cs149"
	push ":mich15"
	push "Wreszcie ktrego dnia poziom wody zacz rosn i rzeka rozlaa si na spalone socem pola"
	push "cs152"
	push ":mich16"
	push "Jak zwykle ustpujca woda pozostawia bardzo yzny mu; Cheti z ojcem przystpili do prac"
	push "cs153"
	cthis sounds=
	new def,fontsize
	push 32
	spushs
	spop $h
	call $h,igetsc
	pop fontsize
	localdef $1
	push fontsize
	cthis stdfont
	pop $1
	push "dbcs1"
	push "wstep"
	cthis lang_db
	new def,stxt
	push "txteg1"
	pop stxt
	new def,streg
	push 0
	push 0
	call dbcs1,get
	pop streg
	push "txteg1"
	push streg
	push $1
	push 222
	cthis grey
	cthis newtext
	push "txteg2"
	push ""
	push $1
	push 222
	cthis grey
	cthis newtext
	call txteg1,cs155
	end method
	method cs10
	push X1
	push Y1
	cthis setpos
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	cthis create
	push 100
	cthis setz
	end method
	method cs11
	call fxwysypuje1,play
	push 1
	popax
	sub 0,$a
	call anwej2,play
	end method
	method cs12
	push "mich3"
	cthis cbplay
	push 1
	popax
	sub 0,$a
	call gral,nplay
	end method
	method cs13
	call fxpstryk,play
	push 1
	popax
	sub 0,$a
	push "cs14"
	call anblysk,anplayfin
	end method
	method cs14
	push "mich5"
	cthis cbplay
	end method
	method cs15
	push "tim2"
	push 1000
	push "cs16"
	cthis timer=
	call tim2,play
	end method
	method cs16
	call txteg1,hide
	call txteg2,hide
	push 2
	push 5
	popax
	sub 0,$a
	push "gsq"
	push "cs17"
	call clfio,imgtransparency
	end method
	method cs17
	call gsq,hide
	push 30
	cthis cvol=
	push "mich1"
	cthis cvplay
	push 60
	call gameapi,setmusicvol
	push "onendframe"
	push "cs18"
	call anwstep1,addmethod
	push 0
	call anwstep1,play
	end method
	method cs18
	localdef $1
	push 30
	push 10
	cthis framenr
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call mich1,setvol
	push $1
	call eng1,setvol
	push $1
	cthis cvol=
	push 60
	push 2
	cthis framenr
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call gameapi,setmusicvol
	end method
	method cs19
	push "eng1"
	cthis cvplay
	end method
	method cs110
	push 30
	call gameapi,setmusicvol
	push "mich2"
	cthis cvplay
	end method
	method cs111
	push "eng2"
	cthis cbplay
	end method
	method cs112
	push "mich4"
	cthis cbplay
	end method
	method cs113
	push "foto1"
	cthis cbplay
	end method
	method cs114
	push 0
	call anfoto,play
	end method
	method cs115
	push GAME
	spushs
	spop $a
	call [$a],cs116
	end method
	method cs116
	delete gsq
	push "cs117"
	push "cs122"
	call ccs,playfin
	end method
	method cs117
	call gral,deleteallgm
	delete anrobs
	delete anwej2
	delete anfoto
	delete ancien
	call gral,free
	push A
	push "nr2.pyz 10"
	push "nr3.pyzH 10"
	cthis imgs=
	call annr2,klipuj
	call annr3,klipuj
	push "onfinish"
	push "cs118"
	call annr3,addmethod
	push "onfinish"
	push "cs119"
	call annr2,addmethod
	end method
	method cs118
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	cmpje
	cmp0
	je l3535
	push "eng4"
	jmp l3534
l3535:
	push "mich7"
l3534:
	cthis cbplay
	end method
	method cs119
	push "cs120"
	push "cs121"
	call ccs,playfin
	end method
	method cs120
	call annr2,hide
	call annr3,show
	push 10
	call gameapi,setmusicvol
	end method
	method cs121
	push "eng3"
	cthis cbplay
	end method
	method cs122
	push 0
	call annr2,play
	end method
	method cs123
	push "mich6"
	cthis cbplay
	push 1
	push 0
	call annr3,setframe
	call fxwlacznik,play
	end method
	method cs124
	push 2
	call annr3,play
	end method
	method cs125
	push 3
	call annr3,play
	end method
	method cs126
	push "cs127"
	push "cs128"
	call ccs,playfin
	end method
	method cs127
	delete annr2
	delete annr3
	call gameapi,stopmusic
	push "gazeta.pyz 10"
	cthis img=
	call angazeta,klipuj
	end method
	method cs128
	push "spiker1"
	cthis cbplay
	end method
	method cs129
	push "foto2"
	cthis cbplay
	end method
	method cs130
	push "spiker2"
	cthis cbplay
	end method
	method cs131
	push "spiker3"
	cthis cbplay
	push 8
	push 5
	popax
	sub 0,$a
	push "spiker3"
	push "null"
	call clfio,sndvolume
	end method
	method cs132
	push "cs133"
	push "cs134"
	call ccs,playfin
	end method
	method cs133
	delete angazeta
	push A
	push "c4gora.pyz 10"
	push "c4n1.pyz 5"
	push "c4nak.pyz 50"
	push "c4p2.pyz 30"
	push "c4p4.pyz 20"
	push "c4sam.pyz 40"
	push "c4hor.pyz 8"
	push "c4n2.pyz 6"
	push "c4p2_2.pyz 30"
	push "c4p3.pyz 25"
	push "c4prof.pyz 60"
	push "c4ros4.pyz 20"
	push "c4rosnak.pyz 48"
	push "c4p0_1.pyz 70"
	push "c4p0_2.pyz 80"
	cthis imgs=
	new img,imgniebo
	push "anc4n2"
	call imgniebo,clone
	delete anc4n2
	push A
	push "anc4gora"
	push "anc4n1"
	push "anc4nak"
	push "anc4p2"
	push "anc4p4"
	push "anc4sam"
	push "anc4hor"
	push "imgniebo"
	push "anc4p2_2"
	push "anc4p3"
	push "anc4prof"
	push "anc4ros4"
	push "anc4rosnak"
	push "anc4p0_1"
	push "anc4p0_2"
	call gral,addlist
	call gral,gklipuj
	push 621
	spushs
	spop $h
	call $h,igetsc
	push 0
	new CameraPos,campos
	new classadvcamera,camera
	push iResX
	push iResX
	push X2
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push iResY
	call camera,setborders
	call camera,countcenter
	push "campos"
	call camera,setactor
	new classbgplan,plan0
	push "plan0"
	push 1.9
	push 0
	call camera,addbgr
	push "anc4p0_2"
	call plan0,add
	new classbgplan,plan1
	push "plan1"
	push 1.5
	push 0
	call camera,addbgr
	push "anc4prof"
	call plan1,add
	push "anc4p0_1"
	call plan1,add
	new classbgplan,plan2
	push "plan2"
	push 1.2
	push 0
	call camera,addbgr
	push "anc4p2"
	call plan2,add
	push "anc4p2_2"
	call plan2,add
	push "anc4nak"
	call plan2,add
	push "anc4sam"
	call plan2,add
	push "anc4rosnak"
	call plan2,add
	new classbgplan,plan3
	push "plan3"
	push 1.1
	push 0
	call camera,addbgr
	push "anc4p3"
	call plan3,add
	new classbgplan,plan4
	push "plan4"
	push 1.05
	push 0
	call camera,addbgr
	push "anc4p4"
	call plan4,add
	push "anc4ros4"
	call plan4,add
	new classbgplan,plan5
	push "plan5"
	push 1
	push 0
	call camera,addbgr
	push "anc4gora"
	call plan5,add
	new classbgplan,plan6
	push "plan6"
	push 0.4
	push 0
	call camera,addbgr
	push "anc4hor"
	call plan6,add
	push 0.02
	push 0.02
	call camera,scalemodifiers
	push "ciezarend"
	call camera,funxedge
	push "sounds/bgr/pracuja2.wav"
	call gameapi,playmusic
	push 50
	call gameapi,setmusicvol
	end method
	method cs134
	push 1
	push 3
	popax
	sub 0,$a
	push "imgniebo"
	push "cs135"
	call clfio,imgtransparency
	push "eng5"
	cthis cbplay
	push 0
	call anc4sam,play
	call fxciezarowa1,play
	end method
	method cs135
	call imgniebo,hide
	end method
	method cs136
	call camera,start
	push "mich8"
	cthis cbplay
	end method
	method cs137
	push "eng6"
	cthis cbplay
	end method
	method cs138
	push "mich9"
	cthis cbplay
	end method
	method cs139
	push "cs140"
	push "cs146"
	call ccs,playfin
	end method
	method cs140
	delete ann5go
	push A
	push "c6bg.pyz 10"
	push "c6prof.pyz 20"
	cthis imgs=
	call anc6bg,klipuj
	call anc6prof,klipuj
	push "onfinish"
	push "cs141"
	call anc6prof,addmethod
	end method
	method cs141
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l3537
	push "mich12"
	cthis cbplay
	jmp l3536
l3537:
	push "cs142"
	push "cs145"
	call ccs,playfin
l3536:
	end method
	method cs142
	delete anc6bg
	delete anc6prof
	push A
	push "c7bg.pyz 10"
	push "c7prof.pyz 20"
	push "c8suszaH.pyz 10"
	cthis imgs=
	call anc7bg,klipuj
	call anc7prof,klipuj
	new img,imgpole
	push "anc7bg"
	call imgpole,clone
	call imgpole,klipuj
	call anc8susza,klipuj
	delete anc7bg
	push "onfinish"
	push "cs143"
	call anc7prof,addmethod
	end method
	method cs143
	cthis hide
	call anc8susza,show
	push 1
	push 3
	popax
	sub 0,$a
	push "imgpole"
	push "cs144"
	call clfio,imgtransparency
	end method
	method cs144
	call imgpole,hide
	push "mich14"
	cthis cbplay
	end method
	method cs145
	push "mich13"
	cthis cbplay
	end method
	method cs146
	push 0
	call anc6prof,play
	push "mich11"
	cthis cbplay
	end method
	method cs147
	push 1
	call anc6prof,play
	end method
	method cs148
	push 0
	call anc7prof,play
	end method
	method cs149
	push "cs150"
	push "cs151"
	call ccs,playfin
	end method
	method cs150
	delete imgpole
	delete anc7prof
	delete anc8susza
	push "scripts/pole/"
	cthis setgraphpath
	push A
	push "niebo.pyz 10"
	push "pole.pyz 20"
	cthis imgs=
	call anniebo,klipuj
	call anpole,klipuj
	new gmimgvec,grmask
	push "grmask"
	push "maska.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 30
	call grmask,setz
	call grmask,gklipuj
	new gmimgvec,grprzedmioty
	push "grprzedmioty"
	push "przedmioty.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 25
	call grprzedmioty,setz
	push 1
	call grprzedmioty,get
	spushs
	push 1
	push 1
	spop $a
	call [$a],setframe
	call grprzedmioty,gklipuj
	end method
	method cs151
	push "mich15"
	cthis cbplay
	end method
	method cs152
	push "mich16"
	cthis cbplay
	push 0
	call anpole,play
	end method
	method cs153
	push "cs154"
	push "null"
	call ccs,playfin
	end method
	method cs154
	push "pole"
	cthis EgiptSave
	push "gamepole0"
	pop sgmgame
	push "pole"
	pop sgmglobpath
	push "defaultadv:"
	push 1
	call modadv,get
	call gameapi,play
	end method
	method cs155
	push X2
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push Y2
	push 2
	push fontsize
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push 30
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cthis setpos
	push ""
	cthis txtset
	push 110
	cthis setz
	push "timtik"
	push 50
	push "cs156"
	cthis timer=
	call timtik,play
	push "sndstart"
	cthis cbplay
	end method
	method cs156
	push stxt
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,length
	call streg,length
	cmpje
	cmp0
	je l3539
	push streg
	push 0
	push 0
	call dbcs1,get
	cmpje
	cmp0
	je l3541
	push 1
	push 0
	call dbcs1,get
	pop streg
	push "txteg2"
	pop stxt
	push streg
	call txteg2,txtset
	push X2
	call txteg2,getw
	pop $b
	popax
	sub $a,$b
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push Y2
	push fontsize
	pop $b
	popax
	sub $a,$b
	push 35
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call txteg2,setpos
	push ""
	call txteg2,txtset
	push 110
	call txteg2,setz
	cthis play
l3541:
	jmp l3538
l3539:
	push stxt
	spushs
	push 0
	push stxt
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,length
	push 1
	pop $b
	popax
	add $a,$b
	call streg,getb
	spop $a
	call [$a],txtset
	call fxpik2,play
	cthis play
l3538:
	end method
	method gklipuj
	push "cs157"
	cthis each
	end method
	method cs157
	localdef $1
	pop $1
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method klipuj
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method ciezarend
	cthis getname
	push "timcamera"
	cmpje
	cmp0
	je l3543
	cthis cisplaying
	neg
	jmp l3545
l3543:
	push 0
	jmp l3545
l3544:
	push 1
l3545:
	cmp0
	jne l3547
	cthis getname
	push "mich9"
	cmpje
	cmp0
	je l3548
	call camera,cs158
	jmp l3555
l3548:
	push 0
	jmp l3555
l3549:
	push 1
l3555:
	jmp l3556
l3546:
	push 0
	jmp l3556
l3547:
	push 1
l3556:
	cmp0
	je l3557
	push "tim3"
	push 1500
	push "cs159"
	cthis timer=
	call tim3,play
l3557:
	end method
	method cs158
	push _lastx
	cmp0
	jne l3552
	push _lasty
	jmp l3553
l3551:
	push 0
	jmp l3553
l3552:
	push 1
l3553:
	cmp0
	je l3554
	push 0
	jmp l3550
l3554:
	push 1
l3550:
	end method
	method cs159
	push "cs160"
	push "cs162"
	call ccs,playfin
	end method
	method cs160
	push "sounds/bgr/pracuja.wav"
	call gameapi,playmusic
	push 50
	call gameapi,setmusicvol
	call camera,stop
	delete camera
	call gral,deleteallgm
	call gral,free
	push A
	push "n5go.pyz 10"
	cthis imgs=
	call ann5go,klipuj
	push "onfinish"
	push "cs161"
	call ann5go,addmethod
	end method
	method cs161
	push "mich10"
	cthis cbplay
	push 30
	call gameapi,setmusicvol
	end method
	method cs162
	push 1
	popax
	sub 0,$a
	call ann5go,play
	end method
	method wstep1end
	cthis getname
	push "anwstep1"
	cmpje
	cmp0
	je l3559
	cthis cisplaying
	neg
	jmp l3561
l3559:
	push 0
	jmp l3561
l3560:
	push 1
l3561:
	cmp0
	jne l3563
	cthis getname
	push "mich2"
	cmpje
	cmp0
	je l3564
	push 1
	popax
	sub 0,$a
	call anwstep1,isplaying
	push 0
	cmpje
	jmp l3566
l3564:
	push 0
	jmp l3566
l3565:
	push 1
l3566:
	jmp l3567
l3562:
	push 0
	jmp l3567
l3563:
	push 1
l3567:
	cmp0
	je l3568
	call anwstep1,hide
	call gral,show
	push "anrobs"
	call gral,remove
	push "anwej2"
	call gral,remove
	push "anfoto"
	call gral,remove
	push 1
	popax
	sub 0,$a
	call anrobs,play
	call anfoto,hide
l3568:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3570
	push 1
	cthis cactsndstop
l3570:
	end method
	end game

	class advegipt
	parent classadvcontroller
	method init
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	push 117
	spushs
	spop $h
	call $h,igetsc
	push 85
	spushs
	spop $h
	call $h,igetsc
	push 916
	spushs
	spop $h
	call $h,igetsc
	push 684
	spushs
	spop $h
	call $h,igetsc
	pop Y2
	pop X2
	pop Y1
	pop X1
	call clbuts,reset
	call claskexit,reset
	push 0
	push 0
	call clbuts,setcursorpos
	push 0
	push 0
	call claskexit,setcursorpos
	clparent classadvcontroller,init
	new gmimgvec,_grhelp
	new anima,_anhp
	push "scripts/common/aktywny.pyz"
	call _anhp,load
	call _anhp,hide
	localint $1
	push 0
	pop $1
l3571:
	push $1
	push 100
	cmpjl
	cmp0
	je l3572
	jmp l3574
l3573:
	add $1,1
	pop $1
	jmp l3571
l3574:
	localstring $2
	push "_anhp"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push "_anhp"
	push $2
	cthis copyanima
	push $2
	call _grhelp,add
	jmp l3573
l3572:
	end method
	method clbuts_help_butclick
	localint $1
	push 0
	pop $1
	localint $2
	push 0
	pop $2
l3575:
	push $2
	call grbuts,size
	cmpjl
	cmp0
	je l3576
	jmp l3578
l3577:
	add $2,1
	pop $2
	jmp l3575
l3578:
	localstring $3
	push $2
	call grbuts,get
	pop $3
	localstring $4
	push $3
	spushs
	spop $a
	call [$a],gettyp
	pop $4
	push $4
	push "item"
	cmpje
	cmp0
	jne l3581
	push $4
	push "but"
	cmpje
	cmp0
	jne l3581
	push $4
	push "doors"
	cmpje
	jmp l3582
l3580:
	push 0
	jmp l3582
l3581:
	push 1
l3582:
	cmp0
	je l3583
	push $3
	spushs
	spop $a
	call [$a],enabled
	cmp0
	je l3583
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	jne l3586
	push $3
	spushs
	spop $a
	call [$a],ismask
	jmp l3587
l3585:
	push 0
	jmp l3587
l3586:
	push 1
l3587:
	jmp l3588
l3583:
	push 0
	jmp l3588
l3584:
	push 1
l3588:
	cmp0
	je l3589
	push $1
	call _grhelp,get
	pop $4
	add $1,1
	pop $1
	push $4
	spushs
	push $3
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	push $4
	spushs
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setpos
	push $4
	spushs
	push 0
	spop $a
	call [$a],play
l3589:
	jmp l3577
l3576:
	end method
	method evalclip
	push "advegipt0"
	cthis eval
	end method
	method advegipt0
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method mouse_LCLICK
	push igmdebug
	cmp0
	je l3591
	call mouse,getpos
	call moddbg,updatetxtpos
l3591:
	end method
	end class

	game gameadvdef
	parent advegipt
	method init
	clparent advegipt,init
	end method
	end game

	game gamepole1
	parent advegipt
	method init
	clparent advegipt,init
	new string,GAME
	cthis getname
	pop GAME
	end method
	method mdzialaj
	push GAME
	spushs
	spop $a
	call [$a],gamepole10
	end method
	method gamepole10
	call modstnd,pause
	push 2
	pop igmstate
	push "zurbg.pyz 1010"
	cthis img=
	new gmimgvec,grmask
	push "grmask"
	push "zurmask.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 1100
	call grmask,setz
	call grmask,hide
	push "kamienie"
	cthis mshow
	push "kamienie"
	call grmask,getsac
	spushs
	push 1011
	spop $a
	call [$a],setz
	new gmimgvec,grels
	push "grels"
	push "zurels.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 1050
	call grels,setz
	call anzurbg,getcx
	push 40
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call anzurbg,getpy
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	call anzurbg,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call anzurbg,geth
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	new Rect,rec
	push "grels"
	call rec,fitgrouprand
	new ImgMover,cmov
	new int,zurx
	new int,zury
	new db,dbc
	push "slupek2"
	push " "
	call dbc,dbaddstringrow
	push "slupek1"
	push " "
	call dbc,dbaddstringrow
	push "sznurek drag"
	push " "
	call dbc,dbaddstringrow
	push "wezel poprzeczka"
	push " "
	call dbc,dbaddstringrow
	push "drag poprzeczka"
	push " "
	call dbc,dbaddstringrow
	push "poprzeczka slupek1 slupek2"
	push " "
	call dbc,dbaddstringrow
	push "cheti_30"
	push "gamepole11"
	cthis sndplayfin
	end method
	method gamepole11
	push 3
	pop igmstate
	end method
	method mcontains
	localstring $1
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	call dbc,findbyrow
	pop $2
	localint $3
	push 1
	pop $3
l3592:
	push $3
	push $2
	call dbc,getcolsno
	cmpjl
	cmp0
	je l3593
	jmp l3595
l3594:
	add $3,1
	pop $3
	jmp l3592
l3595:
	push $2
	push $3
	call dbc,get
	call grels,findsac
	push 0
	cmpjae
	cmp0
	je l3597
	push 0
	ret
l3597:
	jmp l3594
l3593:
	push 1
	end method
	method mshow
	localstring $1
	pop $1
	push $1
	call grmask,getsac
	spushs
	spop $a
	call [$a],show
	end method
	method mouse_LCLICK
	push igmstate
	push 3
	cmpje
	cmp0
	je l3599
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l3601
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	pop zurx
	push $1
	spushs
	spop $a
	call [$a],getposy
	pop zury
	push $1
	spushs
	push 1200
	spop $a
	call [$a],setz
	push $1
	call cmov,mssetobj
l3601:
l3599:
	end method
	method mouse_LREL
	push igmstate
	push 3
	cmpje
	cmp0
	je l3603
	localdef $1
	call cmov,getfree
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l3605
	push $1
	spushs
	push 100
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l3607
	push $1
	cthis mcontains
	jmp l3609
l3607:
	push 0
	jmp l3609
l3608:
	push 1
l3609:
	cmp0
	je l3610
	push $1
	call grels,remove
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 1050
	spop $a
	call [$a],setz
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	call grmask,findsac
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3612
	push $2
	call grmask,get
	spushs
	spop $a
	call [$a],show
l3612:
	call grels,empty
	cmp0
	je l3614
	push 2
	pop igmstate
	push "cheti_31"
	push "gamepole12"
	cthis sndplayfin
l3614:
	jmp l3606
l3610:
	push $1
	spushs
	push zurx
	push zury
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 1050
	spop $a
	call [$a],setz
l3606:
l3605:
l3603:
	end method
	method gamepole12
	push "gamepole2"
	push "pole"
	cthis playnewgamepath
	end method
	method mouse_MOVE
	push igmstate
	push 3
	cmpje
	cmp0
	je l3616
	call cmov,msmove
l3616:
	end method
	end game

	game gamepole2
	parent advegipt
	method init
	clparent advegipt,init
	push "onsetframe"
	push "gamepole20"
	call anzboze,addmethod
	end method
	method gamepole20
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	cmpje
	cmp0
	je l3618
	cthis framenr
	call ansnop,get
	spushs
	spop $a
	call [$a],show
l3618:
	cthis framenr
	push 0
	cmpja
	cmp0
	je l3620
	push 10
	cthis setz
l3620:
	end method
	end game

	game gamegospodarstwo
	parent advegipt
	method init
	push igmdemo
	cmp0
	je l3622
	push "MenuBaj"
	call gameapi,play
	jmp l3621
l3622:
	clparent advegipt,init
	push "scripts/gospodarstwo/cheti1.pyz"
	call cheti,subload
	push "scripts/gospodarstwo/cheti2.pyz"
	call cheti,subload
	push 0
	push 0
	call anplot1,getex
	push 768
	spushs
	spop $h
	call $h,igetsc
	call anbyczek,clip
	push "gospodarstwo"
	cthis EgiptSave
l3621:
	end method
	method cheti_VISIT
	call ptcheti,gamegospodarstwo0
	end method
	method gamegospodarstwo0
	localint $1
	cthis getidan2path
	pop $1
	push "wynosi"
	call clsave,bis
	cmp0
	je l3624
	cthis getidanpath
	spushs
	push 101
	cmpst
	jne l3626
	spop $a
	push $1
	push 100
	cmpje
	cmp0
	je l3628
	push "kosz1"
	cthis walkbase
l3628:
	jmp l3625
l3626:
	push 102
	cmpst
	jne l3629
	spop $a
	push $1
	push 110
	cmpje
	cmp0
	je l3631
	push "kosz4"
	cthis walkbase
l3631:
	jmp l3625
l3629:
	push 112
	cmpst
	jne l3632
	spop $a
	push $1
	push 111
	cmpje
	cmp0
	je l3634
	push "kosz3"
	cthis walkbase
l3634:
	jmp l3625
l3632:
	spop $a
l3625:
	jmp l3623
l3624:
	cthis getidanpath
	spushs
	push 100
	cmpst
	jne l3636
	spop $a
	push $1
	push 101
	cmpje
	cmp0
	je l3638
	push "go"
	cthis walkbase
l3638:
	jmp l3635
l3636:
	push 101
	cmpst
	jne l3639
	spop $a
	push $1
	push 100
	cmpje
	cmp0
	je l3641
	push "go3"
	cthis walkbase
l3641:
	jmp l3635
l3639:
	push 102
	cmpst
	jne l3642
	spop $a
	push $1
	push 110
	cmpje
	cmp0
	je l3644
	push "go2"
	cthis walkbase
l3644:
	jmp l3635
l3642:
	push 112
	cmpst
	jne l3645
	spop $a
	push $1
	push 110
	cmpje
	cmp0
	je l3647
	push "go5"
	cthis walkbase
	jmp l3646
l3647:
	push $1
	push 111
	cmpje
	cmp0
	je l3649
	push "go"
	cthis walkbase
l3649:
l3646:
	jmp l3635
l3645:
	push 113
	cmpst
	jne l3650
	spop $a
	push $1
	push 111
	cmpje
	cmp0
	je l3652
	push "go4"
	cthis walkbase
l3652:
	jmp l3635
l3650:
	spop $a
l3635:
l3623:
	end method
	method mendscene
	push "gamegospodarstwo1"
	push "gamegospodarstwo2"
	call ccs,playfin
	end method
	method gamegospodarstwo1
	push "standll"
	call lociec,play
	push 543
	spushs
	spop $h
	call $h,igetsc
	push 680
	spushs
	spop $h
	call $h,igetsc
	call lociec,setpos
	call ptcheti,unlinkfilter
	push 409
	spushs
	spop $h
	call $h,igetsc
	push 700
	spushs
	spop $h
	call $h,igetsc
	call cheti,setpos
	end method
	method gamegospodarstwo2
	push "behendscene"
	cthis playbeh
	end method
	method anbyczek_ENDFRAME
	cthis getpx
	cthis getey
	cthis setadvbutpos
	push 555
	spushs
	spop $h
	call $h,igetsc
	cthis setz
	end method
	end game

	game gamedomek
	parent advegipt
	method init
	clparent advegipt,init
	push "dom"
	cthis EgiptSave
	push "scripts/domek/cheti1.pyz"
	call cheti,subload
	end method
	end game

	game gamedomek2
	parent advegipt
	method init
	clparent advegipt,init
	call annew,evalclip
	push "gamedomek20"
	call annew,eval
	push 2
	call annew,get
	spushs
	push 5
	spop $a
	call [$a],setz
	end method
	method gamedomek20
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 10
	pop $b
	popax
	mul $a,$b
	cthis setz
	end method
	method mgoniec
	push "gamedomek21"
	push "gamedomek22"
	call ccs,playfin
	end method
	method gamedomek21
	push "anchet"
	push "cheti3.pyz"
	push 500
	cthis newanima
	push "angoniec"
	push "goniec.pyz"
	push 490
	cthis newanima
	end method
	method gamedomek22
	push "behendscene"
	cthis playbeh
	end method
	end game

	game gamesw2
	parent advegipt
	method init
	clparent advegipt,init
	end method
	end game

	game gameloch2
	parent advegipt
	method init
	clparent advegipt,init
	end method
	method bari_VISIT
	call ptbari,gameloch20
	end method
	method gameloch20
	localint $1
	cthis getidan2path
	pop $1
	cthis getidanpath
	spushs
	push 2
	cmpst
	jne l3654
	spop $a
	push $1
	push 16
	cmpje
	cmp0
	je l3656
	push "wspina"
	cthis walkbase
	jmp l3655
l3656:
	push "go"
	cthis walkbase
l3655:
	jmp l3653
l3654:
	push 3
	cmpst
	jne l3657
	spop $a
	push $1
	push 4
	cmpje
	cmp0
	je l3659
	push "wspina"
	cthis walkbase
	jmp l3658
l3659:
	push "wspina2"
	cthis walkbase
l3658:
	jmp l3653
l3657:
	push 4
	cmpst
	jne l3660
	spop $a
	push $1
	push 3
	cmpje
	cmp0
	je l3662
	push "wspina2"
	cthis walkbase
	jmp l3661
l3662:
	push "go"
	cthis walkbase
l3661:
	jmp l3653
l3660:
	push 16
	cmpst
	jne l3663
	spop $a
	push $1
	push 2
	cmpje
	cmp0
	je l3665
	push "wspina2"
	cthis walkbase
	jmp l3664
l3665:
	push "wspina"
	cthis walkbase
l3664:
	jmp l3653
l3663:
	push 102
	cmpst
	jne l3666
	spop $a
	push $1
	push 116
	cmpje
	cmp0
	je l3668
	push "wspina"
	cthis walkbase
	jmp l3667
l3668:
	push "go"
	cthis walkbase
l3667:
	jmp l3653
l3666:
	push 103
	cmpst
	jne l3669
	spop $a
	push $1
	push 104
	cmpje
	cmp0
	je l3671
	push "wspina"
	cthis walkbase
	jmp l3670
l3671:
	push "wspina2"
	cthis walkbase
l3670:
	jmp l3653
l3669:
	push 104
	cmpst
	jne l3672
	spop $a
	push $1
	push 103
	cmpje
	cmp0
	je l3674
	push "wspina2"
	cthis walkbase
	jmp l3673
l3674:
	push "go"
	cthis walkbase
l3673:
	jmp l3653
l3672:
	push 116
	cmpst
	jne l3675
	spop $a
	push $1
	push 102
	cmpje
	cmp0
	je l3677
	push "wspina2"
	cthis walkbase
	jmp l3676
l3677:
	push "wspina"
	cthis walkbase
l3676:
	jmp l3653
l3675:
	push 8
	cmpst
	jne l3678
	spop $a
	push $1
	push 11
	cmpje
	cmp0
	je l3680
	push "zjazd"
	cthis mwalkbase
	jmp l3679
l3680:
	push "go"
	cthis mwalkbase
l3679:
	jmp l3653
l3678:
	push 11
	cmpst
	je l3682
	push 13
	cmpst
	je l3682
	jmp l3681
l3682:
	spop $a
	push $1
	push 11
	cmpje
	cmp0
	jne l3685
	push $1
	push 13
	cmpje
	jmp l3686
l3684:
	push 0
	jmp l3686
l3685:
	push 1
l3686:
	cmp0
	je l3687
	push "zjazd"
	cthis mwalkbase
	jmp l3683
l3687:
	push "go"
	cthis mwalkbase
l3683:
	jmp l3653
l3681:
	spop $a
l3653:
	end method
	method mwalkbase
	localstring $1
	pop $1
	push $1
	push "zjazd"
	cmpje
	cmp0
	je l3689
	push "zjazd"
	cthis walkbase
	push _sanim
	spushs
	push "zjazd"
	spop $a
	call [$a],setstandbase
	jmp l3688
l3689:
	push "go"
	cthis walkbase
	push _sanim
	spushs
	push "stand"
	spop $a
	call [$a],setstandbase
l3688:
	end method
	method bari_ARRIVE
	push "go"
	cthis walkbase
	end method
	method mpodazaj
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ptbari"
	push $1
	call andrabina22,copyposfrompt
	push $2
	call andrabina22,setbutdir
	end method
	method ptbari_WALKTO_andrabina22
	localdef $1
	push 2
	call ptbari,lengthver
	pop $1
	localdef $2
	push 4
	call ptbari,lengthver
	pop $2
	push $1
	push 0
	cmpjl
	cmp0
	je l3691
	push 4
	push "ll"
	cthis mpodazaj
	jmp l3690
l3691:
	push $2
	push 0
	cmpjl
	cmp0
	je l3693
	push 2
	push "rr"
	cthis mpodazaj
	jmp l3692
l3693:
	push $1
	push $2
	cmpjl
	cmp0
	je l3695
	push 2
	push "rr"
	cthis mpodazaj
	jmp l3694
l3695:
	push 4
	push "ll"
	cthis mpodazaj
l3694:
l3692:
l3690:
	end method
	end game

	game Kanaly
	parent DziejeGame
	method init
	push "kanaly"
	clparent DziejeGame,init
	push "kanaly"
	cthis EgiptSave
	push A
	push "getpuz 60"
	push "putpuz 60"
	push "bulbul 60"
	push "nasadza"
	push "pik2"
	cthis sfxs=
	push A
	push "bg.pyz"
	push "kzur.pyz 10"
	cthis imgs=
	new img,imgbg
	call imgbg,Kanaly0
	new DelayMover,cmov
	new gmimgvec,grk1
	push "grk1"
	push "kd1.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grk2
	push "grk2"
	push "kd2.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grm
	push "grm"
	push "kduze.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grk1,hide
	call grk2,hide
	new vector,vecs
	push "string"
	call vecs,type
	new gmimgvec,grtes
	new gmimgvec,grt2
	new int,istate
	push 1
	pop istate
	new int,ilevel
	push 0
	pop ilevel
	push "buts.pyz"
	new Buttons,cbut
	call cbut,Kanaly1
	new int,ipoints
	push "txtp"
	push "7"
	push 68
	spushs
	spop $h
	call $h,igetsc
	cthis stdfont
	push 64
	push 64
	push 255
	cthis newtext
	push 30
	spushs
	spop $h
	call $h,igetsc
	push Y1
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call txtp,setpos
	push 20
	call txtp,setz
	new anima,anmov
	call anmov,Kanaly2
	new int,W
	new int,H
	new img,imw
	call imw,Kanaly3
	new img,imgm
	call imgm,Kanaly4
	localdef $1
	call imw,getw
	pop $1
	localdef $2
	call imw,geth
	pop $2
	new int,ilex
	push 6
	pop ilex
	new int,iley
	push 5
	pop iley
	push ilex
	push $1
	pop $b
	popax
	mul $a,$b
	push X1
	pop $b
	popax
	add $a,$b
	push iley
	push $2
	pop $b
	popax
	mul $a,$b
	push Y1
	pop $b
	popax
	add $a,$b
	call ankzur,mtoxy
	localstring $3
	new gmimgvec,grin
	new gmimgvec,grinb
	localint $4
	push 0
	pop $4
l3702:
	push $4
	push iley
	cmpjl
	cmp0
	je l3703
	jmp l3705
l3704:
	add $4,1
	pop $4
	jmp l3702
l3705:
	localint $5
	push 0
	pop $5
l3706:
	push $5
	push ilex
	cmpjl
	cmp0
	je l3707
	jmp l3709
l3708:
	add $5,1
	pop $5
	jmp l3706
l3709:
	push "anp"
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push 0
	call grk1,get
	push $3
	cthis copyanima
	push 0
	call grk2,get
	push $3
	push "b"
	pop $b
	popax
	add $a,$b
	cthis copyanima
	push $3
	spushs
	push $5
	push $1
	pop $b
	popax
	mul $a,$b
	push X1
	pop $b
	popax
	add $a,$b
	push $4
	push $2
	pop $b
	popax
	mul $a,$b
	push Y1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],mtoxy
	push $3
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	push $1
	pop $b
	popax
	mul $a,$b
	push X1
	pop $b
	popax
	add $a,$b
	push $4
	push $2
	pop $b
	popax
	mul $a,$b
	push Y1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],mtoxy
	push $3
	call grin,add
	push $3
	push "b"
	pop $b
	popax
	add $a,$b
	call grinb,add
	push $3
	spushs
	push A
	push "bbyl"
	push 0
	push "idx"
	push $5
	push "idy"
	push $4
	spop $a
	call [$a],vars2
	jmp l3708
l3707:
	jmp l3704
l3703:
	call grin,removelast
	call grinb,removelast
	cthis mload
	new classplacepointer2,clp
	push A
	push "sndintro"
	push "Musz zbudowa kanay nawadniajce plantacj bananw"
	push "Kanaly5"
	push "snd1"
	push "Tu wybior element kanau do pooenia na polu; Aby go obrci kliknij na nim prawym przyciskiem myszy"
	push "Kanaly6"
	push "snd2"
	push "Lub najed trzymajc element na przycisk Obr"
	push "Kanaly7"
	push "snd3"
	push "Gdy na danym polu pojawi si woda z kanau pola lece obok niego rwnie zostan nawodnione"
	push "Kanaly9"
	push "snd4"
	push "Kiedy zbudujesz kana ktry nawodni wszystkie palmy kliknij przycisk Start"
	push "Kanaly11"
	push "snd5"
	push "Uwaaj; Moesz uy tylko tyle elementw; Do dziea"
	push "Kanaly12"
	push "sndups"
	push "O rany; Nie domknem kanau"
	push "mstart"
	push "sndnon"
	push "Nie udao si nawodni wszystkich palm; Musz dokona poprawek w konstrukcji kanau"
	push "mstart"
	push "sndok"
	push "Hurra! Wszystkie palmy nawodnione"
	push "Kanaly13"
	push "snd6"
	push "Czas na kolejne pole"
	push "Kanaly14"
	cthis sounds=
	call cmov,unlock
	push istate
	push 0
	cmpjne
	cmp0
	je l3713
	push "sndintro"
	cthis cbplay
	jmp l3712
l3713:
	push 1
	pop igmstate
l3712:
	end method
	method Kanaly0
	push "anbg"
	cthis clone
	call anbg,hide
	end method
	method Kanaly1
	localdef $1
	push 0
	call grbuts,get
	pop $1
	push $1
	spushs
	push "anbutok"
	spop $a
	call [$a],addtogamevars
	localdef $2
	push Y2
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $3
	localdef $4
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $4
	localdef $5
	push 15
	spushs
	spop $h
	call $h,igetsc
	pop $5
	push $1
	spushs
	push $5
	push $2
	spop $a
	call [$a],setpos
	localint $6
	push 0
	pop $6
l3696:
	push $6
	call grm,size
	cmpjl
	cmp0
	je l3697
	jmp l3699
l3698:
	add $6,1
	pop $6
	jmp l3696
l3699:
	push $6
	call grm,get
	spushs
	push $5
	push $2
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	jmp l3698
l3697:
	push 1
	call grbuts,get
	spushs
	push "anbutrot"
	spop $a
	call [$a],addtogamevars
	push $5
	push $2
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push 4
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call anbutrot,setpos
	end method
	method Kanaly2
	push 0
	call grk1,get
	cthis copy
	cthis hide
	end method
	method Kanaly3
	localdef $1
	push 3
	call grk1,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],geth
	cthis white
	push 64
	cthis create
	call imw,getw
	pop W
	call imw,geth
	pop H
	push 0
	push 0
	cthis mtoxy
	push istate
	cmp0
	je l3701
	cthis hide
l3701:
	end method
	method Kanaly4
	localdef $1
	push 0
	call grm,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],geth
	cthis yellow
	push 64
	cthis create
	cthis hide
	end method
	method Kanaly5
	push "snd1"
	cthis cbplay
	push 0
	call grm,get
	push "ld"
	call clp,showob
	end method
	method Kanaly6
	push "snd2"
	cthis cbplay
	push "anbutrot"
	push "rd"
	call clp,showob
	end method
	method Kanaly7
	push GAME
	spushs
	spop $a
	call [$a],Kanaly8
	end method
	method Kanaly8
	push "snd3"
	cthis cbplay
	new img,im1
	localdef $1
	call imw,getw
	pop $1
	localdef $2
	call imw,geth
	pop $2
	push 3
	push $1
	pop $b
	popax
	mul $a,$b
	push 4
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push 3
	push $2
	pop $b
	popax
	mul $a,$b
	push 4
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push 128
	cthis grey
	push 192
	call im1,create
	new img,im2
	push $1
	push $2
	cthis blue
	push 255
	call im2,create
	call im1,getcx
	call im1,getcy
	call im2,ansetcpos
	push "im2"
	call im1,blit
	new img,im3
	push $1
	push $2
	cthis blue
	push 128
	call im3,create
	localdef $3
	call im2,getpx
	pop $3
	localdef $4
	call im2,getpy
	pop $4
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	push $4
	call im3,setpos
	push "im3"
	call im1,blit
	push $3
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	call im3,setpos
	push "im3"
	call im1,blit
	push $3
	push $1
	pop $b
	popax
	add $a,$b
	push $4
	call im3,setpos
	push "im3"
	call im1,blit
	push $3
	push $4
	push $2
	pop $b
	popax
	add $a,$b
	call im3,setpos
	push "im3"
	call im1,blit
	delete im2
	delete im3
	call im1,ancenterscreen
	push 100
	call im1,setz
	push "im1"
	push "ld"
	call clp,showob
	end method
	method Kanaly9
	push GAME
	spushs
	spop $a
	call [$a],Kanaly10
	end method
	method Kanaly10
	push "anbutok"
	push "ld"
	call clp,showob
	delete im1
	push "snd4"
	cthis cbplay
	end method
	method Kanaly11
	call txtp,getpx
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	call txtp,getpy
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push "lu"
	call clp,show
	push "snd5"
	cthis cbplay
	end method
	method Kanaly12
	call clp,stoph
	cthis mstart
	end method
	method Kanaly13
	push ilevel
	push 5
	cmpjl
	cmp0
	je l3711
	push "snd6"
	cthis cbplay
	jmp l3710
l3711:
	cthis mend
l3710:
	end method
	method Kanaly14
	cthis mload
	cthis mstart
	end method
	method mend
	push "gamedomek2"
	pop sgmgame
	push "domek"
	pop sgmglobpath
	push sgmgame
	call gameapi,play
	end method
	method mstart
	push 1
	popax
	sub 0,$a
	push 0
	call ankzur,setframe
	push 1
	pop igmstate
	call grinb,hide
	push "Kanaly15"
	call grin,eval
	end method
	method Kanaly15
	push 0
	cthis bbyl=
	end method
	method mtoxy
	localint $1
	localint $2
	pop $2
	pop $1
	push X1
	push $1
	push X2
	push W
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	cthis between
	push X1
	pop $b
	popax
	sub $a,$b
	push W
	pop $b
	popax
	div $a,$b
	psax
	push W
	pop $b
	popax
	mul $a,$b
	push X1
	pop $b
	popax
	add $a,$b
	push Y1
	push $2
	push Y2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis between
	push Y1
	pop $b
	popax
	sub $a,$b
	push H
	pop $b
	popax
	div $a,$b
	psax
	push H
	pop $b
	popax
	mul $a,$b
	push Y1
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method mtoxy2
	localint $1
	localint $2
	pop $2
	pop $1
	cthis min2
	cmp0
	je l3715
	push $1
	push $2
	cthis mtoxy
l3715:
	end method
	method min2
	call anmov,getposx
	call anmov,getposy
	cthis min
	cmp0
	jne l3717
	call anmov,getex
	call anmov,getey
	cthis min
	jmp l3718
l3716:
	push 0
	jmp l3718
l3717:
	push 1
l3718:
	end method
	method min
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push X1
	cmpjae
	cmp0
	je l3719
	push $1
	push X2
	cmpjle
	cmp0
	je l3719
	push $2
	push Y1
	cmpjae
	cmp0
	je l3719
	push $2
	push Y2
	cmpjle
	jmp l3721
l3719:
	push 0
	jmp l3721
l3720:
	push 1
l3721:
	end method
	method cmov_GET
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3723
	push 1
	cthis cactsndstop
	jmp l3722
l3723:
	push $1
	push $2
	push 1
	push 0
	call grm,isin
	cmp0
	je l3725
	call fxgetpuz,play
	localdef $3
	call grm,getsfound
	pop $3
	push $3
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $3
	spushs
	spop $a
	call [$a],framenr
	call anmov,setframe
	call anmov,show
	call imw,show
	push $1
	push $2
	call anmov,ansetcpos
	push $1
	push $2
	call imw,mtoxy
	push "anmov"
	cthis setcobj
	jmp l3724
l3725:
	push $1
	push $2
	push 1
	push 0
	call grin,isin
	cmp0
	je l3727
	call grin,getsfound
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push 5
	cmpjl
	jmp l3729
l3727:
	push 0
	jmp l3729
l3728:
	push 1
l3729:
	cmp0
	je l3730
	call fxnasadza,play
	call grin,getsfound
	spushs
	spop $a
	call [$a],hide
	push 1
	cthis mpoint
	jmp l3726
l3730:
	push istate
	push 0
	cmpje
	cmp0
	je l3732
	push $1
	push $2
	push 0
	push 0
	call grin,isin
	jmp l3734
l3732:
	push 0
	jmp l3734
l3733:
	push 1
l3734:
	cmp0
	je l3735
	localdef $3
	call grin,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l3737
	push $3
	spushs
	spop $a
	call [$a],ansetnextfr
	call fxnasadza,play
	jmp l3736
l3737:
	call fxnasadza,play
	push $3
	spushs
	push 5
	push 0
	spop $a
	call [$a],setframe
	push $3
	spushs
	spop $a
	call [$a],show
l3736:
l3735:
l3726:
l3724:
l3722:
	end method
	method mget
	localint $1
	localint $2
	pop $2
	pop $1
	push "anp"
	push X1
	push $1
	push X2
	push W
	pop $b
	popax
	sub $a,$b
	cthis between
	push X1
	pop $b
	popax
	sub $a,$b
	push W
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push Y1
	push $2
	push Y2
	cthis between
	push Y1
	pop $b
	popax
	sub $a,$b
	push H
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method mpoint
	localint $1
	pop $1
	push $1
	popax
	add ipoints,$a
	pop ipoints
	push ipoints
	call txtp,txtset
	end method
	method cmov_PUT
	cthis mrel
	cthis min2
	cmp0
	je l3739
	push ipoints
	push 0
	cmpja
	jmp l3741
l3739:
	push 0
	jmp l3741
l3740:
	push 1
l3741:
	cmp0
	je l3742
	call fxputpuz,play
	localdef $1
	call imw,getposx
	call imw,getposy
	cthis mget
	pop $1
	push $1
	spushs
	spop $a
	call [$a],mpalm
	neg
	cmp0
	je l3744
	push 1
	popax
	sub 0,$a
	cthis mpoint
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	call anmov,actionnr
	call anmov,framenr
	spop $a
	call [$a],setframe
l3744:
l3742:
	end method
	method mpalm
	cthis isvisible
	cmp0
	jne l3746
	cthis idx
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l3747
	cthis idy
	push iley
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	jmp l3749
l3747:
	push 0
	jmp l3749
l3748:
	push 1
l3749:
	jmp l3750
l3745:
	push 0
	jmp l3750
l3746:
	push 1
l3750:
	end method
	method mrel
	call cmov,getfree
	spushs
	spop $a
	call [$a],hide
	push istate
	cmp0
	je l3752
	call imw,hide
l3752:
	end method
	method mouse_rclick
	call cmov,moving
	cmp0
	je l3754
	cthis mrel
	call cmov,reset
	jmp l3753
l3754:
	call mouse,getpos
	push 1
	push 0
	call grm,isin
	cmp0
	je l3756
	call fxnasadza,play
	localdef $1
	call grm,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],ansetnextfr
	jmp l3755
l3756:
	push istate
	push 0
	cmpje
	cmp0
	je l3758
	call mouse,getpos
	push 1
	push 0
	call grin,isin
	jmp l3760
l3758:
	push 0
	jmp l3760
l3759:
	push 1
l3760:
	cmp0
	je l3761
	call fxnasadza,play
	call grin,getsfound
	spushs
	spop $a
	call [$a],hide
l3761:
l3755:
l3753:
	end method
	method mouse_move
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	call cmov,moving
	cmp0
	jne l3764
	push istate
	push 0
	cmpje
	jmp l3765
l3763:
	push 0
	jmp l3765
l3764:
	push 1
l3765:
	cmp0
	je l3766
	push $1
	push $2
	call imw,mtoxy2
l3766:
	push $1
	push $2
	push 1
	push 0
	call grm,isin
	cmp0
	je l3768
	localdef $3
	call grm,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],getposx
	push $3
	spushs
	spop $a
	call [$a],getposy
	call imgm,setpos
	call imgm,show
	jmp l3767
l3768:
	call imgm,hide
l3767:
	end method
	method mload
	call grin,hide
	call grinb,hide
	localstring $1
	push "lev"
	push ilevel
	pop $b
	popax
	add $a,$b
	push ".vec"
	pop $b
	popax
	add $a,$b
	pop $1
	push ilevel
	spushs
	push 0
	cmpst
	jne l3770
	spop $a
	push 7
	jmp l3769
l3770:
	push 1
	cmpst
	jne l3771
	spop $a
	push 6
	jmp l3769
l3771:
	push 2
	cmpst
	jne l3772
	spop $a
	push 8
	jmp l3769
l3772:
	push 3
	cmpst
	jne l3773
	spop $a
	push 9
	jmp l3769
l3773:
	push 4
	cmpst
	jne l3774
	spop $a
	push 9
	jmp l3769
l3774:
	spop $a
	ret
l3769:
	pop ipoints
	push ipoints
	call txtp,txtset
	add ilevel,1
	pop ilevel
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	call vecs,load
	localint $2
	push 0
	pop $2
l3775:
	push $2
	call vecs,size
	cmpjl
	cmp0
	je l3776
	jmp l3778
l3777:
	push 2
	popax
	add $2,$a
	pop $2
	jmp l3775
l3778:
	push $2
	call vecs,get
	pop $1
	push $1
	spushs
	push 5
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call vecs,get
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],show
	jmp l3777
l3776:
	end method
	method cbut_moveon
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3780
	ret
l3780:
	push sobject
	push "obrot"
	cmpje
	cmp0
	je l3782
	call cmov,moving
	cmp0
	je l3784
	call anmov,ansetnextfr
	call fxnasadza,play
l3784:
	jmp l3781
l3782:
l3781:
	end method
	method mcheck
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l3786
	push $2
	push iley
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	jmp l3788
l3786:
	push 0
	jmp l3788
l3787:
	push 1
l3788:
	cmp0
	je l3789
	push $3
	push "u"
	cmpjne
	ret
l3789:
	push $1
	push ilex
	cmpjae
	cmp0
	jne l3792
	push $1
	push 0
	cmpjl
	cmp0
	jne l3792
	push $2
	push iley
	cmpjae
	cmp0
	jne l3792
	push $2
	push 0
	cmpjl
	jmp l3793
l3791:
	push 0
	jmp l3793
l3792:
	push 1
l3793:
	cmp0
	je l3794
	push $1
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l3795
	push $2
	push iley
	cmpje
	cmp0
	je l3795
	push $3
	push "u"
	cmpje
	jmp l3797
l3795:
	push 0
	jmp l3797
l3796:
	push 1
l3797:
	cmp0
	je l3799
	push 0
	jmp l3798
l3799:
	push 1
l3798:
	ret
l3794:
	localdef $4
	push "anp"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l3801
	push 1
	ret
l3801:
	push $4
	spushs
	spop $a
	call [$a],bbyl
	neg
	cmp0
	je l3803
	push $4
	spushs
	push 1
	spop $a
	call [$a],bbyl=
	push $4
	call grtes,add
l3803:
	push $4
	spushs
	spop $a
	call [$a],framename
	spushs
	push $3
	spop $h
	call $h,contains
	cmp0
	je l3805
	push $4
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $4
	spushs
	spop $a
	call [$a],framenr
	spop $a
	call [$a],setframe
	push $4
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	push 0
	jmp l3804
l3805:
	push 1
l3804:
	end method
	method cbut_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3807
	ret
l3807:
	push sobject
	push "zatwierdz"
	cmpje
	cmp0
	je l3809
	push 2
	pop igmstate
	push "timtik"
	cthis vardelif
	call grtes,free
	push "timtik"
	push 1000
	push "Kanaly16"
	cthis timer=
	push 1
	popax
	sub 0,$a
	push 1
	call ankzur,setframe
	localstring $1
	push "anp"
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push iley
	push 2
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l3844
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	push iley
	push 2
	pop $b
	popax
	sub $a,$b
	push "d"
	cthis mcheck
	push 0
	cmpje
	jmp l3846
l3844:
	push 0
	jmp l3846
l3845:
	push 1
l3846:
	cmp0
	je l3847
	call fxbulbul,play
	call timtik,play
	jmp l3843
l3847:
	push "sndups"
	cthis cbplay
l3843:
l3809:
	end method
	method Kanaly16
	localstring $1
	localstring $2
	push "grtes"
	call grt2,copy
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	localint $6
	push 0
	pop $6
l3810:
	push $6
	call grt2,size
	cmpjl
	cmp0
	je l3811
	jmp l3813
l3812:
	add $6,1
	pop $6
	jmp l3810
l3813:
	push $6
	call grt2,get
	pop $1
	push $1
	call grtes,remove
	push $1
	spushs
	spop $a
	call [$a],framename
	pop $2
	push $1
	spushs
	spop $a
	call [$a],idx
	pop $4
	push $1
	spushs
	spop $a
	call [$a],idy
	pop $5
	push "u"
	call $2,contains
	cmp0
	je l3815
	push $4
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	push "d"
	cthis mcheck
	popax
	add $3,$a
	pop $3
l3815:
	push "r"
	call $2,contains
	cmp0
	je l3817
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	push $5
	push "l"
	cthis mcheck
	popax
	add $3,$a
	pop $3
l3817:
	push "d"
	call $2,contains
	cmp0
	je l3819
	push $4
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	push "u"
	cthis mcheck
	popax
	add $3,$a
	pop $3
l3819:
	push "l"
	call $2,contains
	cmp0
	je l3821
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	push "r"
	cthis mcheck
	popax
	add $3,$a
	pop $3
l3821:
	jmp l3812
l3811:
	push 0
	pop $6
l3822:
	push $6
	call vecs,size
	cmpjl
	cmp0
	je l3823
	jmp l3825
l3824:
	push 2
	popax
	add $6,$a
	pop $6
	jmp l3822
l3825:
	push $6
	call vecs,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],idx
	pop $4
	push $1
	spushs
	spop $a
	call [$a],idy
	pop $5
	push $4
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	cthis misv
	cmp0
	jne l3828
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	push $5
	cthis misv
	cmp0
	jne l3828
	push $4
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	cthis misv
	cmp0
	jne l3828
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	cthis misv
	jmp l3829
l3827:
	push 0
	jmp l3829
l3828:
	push 1
l3829:
	cmp0
	je l3830
	push $1
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	spop $a
	call [$a],setframe
	push $1
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l3832
	call fxpik2,play
l3832:
	push $1
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
l3830:
	jmp l3824
l3823:
	push $3
	push 0
	cmpjne
	cmp0
	je l3834
	push "sndups"
	cthis cbplay
	jmp l3833
l3834:
	call grtes,empty
	cmp0
	je l3836
	push 0
	pop $6
l3837:
	push $6
	call vecs,size
	cmpjl
	cmp0
	je l3838
	jmp l3840
l3839:
	push 2
	popax
	add $6,$a
	pop $6
	jmp l3837
l3840:
	push $6
	call vecs,get
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l3842
	push "sndnon"
	cthis cbplay
	ret
l3842:
	jmp l3839
l3838:
	push "sndok"
	cthis cbplay
	jmp l3835
l3836:
	cthis play
l3835:
l3833:
	end method
	method misv
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push ilex
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l3849
	push $2
	push iley
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	jmp l3851
l3849:
	push 0
	jmp l3851
l3850:
	push 1
l3851:
	cmp0
	je l3852
	push 1
	ret
l3852:
	push $1
	push ilex
	cmpjae
	cmp0
	jne l3855
	push $1
	push 0
	cmpjl
	cmp0
	jne l3855
	push $2
	push iley
	cmpjae
	cmp0
	jne l3855
	push $2
	push 0
	cmpjl
	jmp l3856
l3854:
	push 0
	jmp l3856
l3855:
	push 1
l3856:
	cmp0
	je l3857
	push 0
	jmp l3853
l3857:
	push "anp"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push "b"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],isvisible
l3853:
	end method
	method key_down
	push igmdebug
	cmp0
	je l3859
	push "n"
	call keyboard,iskey
	cmp0
	je l3861
	cthis mload
l3861:
	push istate
	push 0
	cmpje
	cmp0
	je l3863
	push "s"
	call keyboard,iskey
	cmp0
	je l3865
	localstring $1
	call vecs,free
	localint $2
	push 0
	pop $2
l3866:
	push $2
	call grin,size
	cmpjl
	cmp0
	je l3867
	jmp l3869
l3868:
	add $2,1
	pop $2
	jmp l3866
l3869:
	push $2
	call grin,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l3871
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push 4
	cmpja
	jmp l3873
l3871:
	push 0
	jmp l3873
l3872:
	push 1
l3873:
	cmp0
	je l3874
	push $1
	call vecs,add
	push $1
	spushs
	spop $a
	call [$a],framenr
	call vecs,add
l3874:
	jmp l3868
l3867:
	cthis getgraphpath
	push "work.vec"
	pop $b
	popax
	add $a,$b
	call vecs,save
l3865:
l3863:
l3859:
	end method
	end game

	game Liczby
	parent DziejeGame
	method init
	push "liczby"
	clparent DziejeGame,init
	push "liczby"
	cthis EgiptSave
	cthis gamebg
	push A
	push "bkg.pyz"
	push "karta.pyz 50"
	push "liczby.pyzH 60"
	push "skradziono.pyzH 55"
	push "podp.pyz 5"
	cthis imgs=
	push A
	push "pisze2 90"
	cthis sfxs=
	new gmimgvec,grok
	push "grok"
	push "ok.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 55
	call grok,setz
	call grok,hide
	new classplacepointer2,clp
	new Button,but
	push "$scripts/common/kursreka.png"
	cthis cloadcursor
	new int,xkurs
	new int,ykurs
	push "imgkursor"
	clparent classansearcher,firstnotrxy1
	pop ykurs
	pop xkurs
	push xkurs
	push ykurs
	call clbuts,setcursorpos
	push xkurs
	push ykurs
	call claskexit,setcursorpos
	localdef $1
	push 673
	spushs
	spop $h
	call $h,igetsc
	pop $1
	localdef $2
	push 421
	spushs
	spop $h
	call $h,igetsc
	pop $2
	localdef $3
	localdef $4
	push 30
	spushs
	spop $h
	call $h,igetsc
	pop $4
	localdef $5
	localdef $6
	localint $7
	push 0
	pop $7
l3875:
	push $7
	push 3
	cmpjl
	cmp0
	je l3876
	jmp l3878
l3877:
	add $7,1
	pop $7
	jmp l3875
l3878:
	push "grp"
	push $7
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new gmimgvec,[$e]
	push $5
	spushs
	push "iready"
	push 0
	spop $a
	call [$a],var2
	localint $8
	push 0
	pop $8
l3879:
	push $8
	push 2
	cmpjl
	cmp0
	je l3880
	jmp l3882
l3881:
	add $8,1
	pop $8
	jmp l3879
l3882:
	push $1
	pop $3
	localint $9
	push 0
	pop $9
l3883:
	push $9
	push 3
	cmpjl
	cmp0
	je l3884
	jmp l3886
l3885:
	add $9,1
	pop $9
	jmp l3883
l3886:
	push "im"
	push $7
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $8
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new img,[$e]
	push $6
	spushs
	push $4
	push $4
	push 240
	cthis grey
	push 255
	spop $a
	call [$a],create
	push $6
	spushs
	push 1
	cthis black
	push 128
	spop $a
	call [$a],imgborders
	push $6
	spushs
	push $3
	push $2
	spop $a
	call [$a],setpos
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	push $5
	spushs
	push $6
	spop $a
	call [$a],add
	push $6
	spushs
	push $5
	spop $a
	call [$a],Liczby0
	push $6
	call but,add
	jmp l3885
l3884:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	jmp l3881
l3880:
	push 14
	spushs
	spop $h
	call $h,igetsc
	popax
	add $2,$a
	pop $2
	push $5
	spushs
	push 60
	spop $a
	call [$a],setz
	jmp l3877
l3876:
	push A
	push "snd1"
	push "Oto obliczenia Haseta"
	push "Liczby4"
	push "snd2"
	push "Za jeden kamie otrzymujemy 4 sztabki zlota"
	push "Liczby5"
	push "snd3"
	push "Wysalimy 3 partie towarw; Tutaj Haset obliczy ile zota otrzymalimy w zamian"
	push "Liczby6"
	push "snd4"
	push "Sprawdz czy wszystko si zgadza"
	push "Liczby7"
	push "snd5"
	push "W te kwadraty bd wpisywa ile sztabek zota naley nam si za kad parti kamieni"
	push "Liczby8"
	push "sndend"
	push "Haset pomyli si o 6 sztabek; Albo nie umie liczy albo celowo zania dochody; Musz to sprawdzi"
	push "Liczby9"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Liczby0
	localstring $1
	pop $1
	new string,san
	push "an"
	cthis getname
	pop $b
	popax
	add $a,$b
	pop san
	push "anliczby"
	push san
	cthis copyanima
	push "liczan"
	push 1
	popax
	sub 0,$a
	cthis var2
	new string,sgr
	push $1
	pop sgr
	push "myvalue"
	push "Liczby1"
	cthis addmethod
	push "isbutin"
	push "Liczby2"
	cthis addmethod
	push "butclick"
	push "Liczby3"
	cthis addmethod
	end method
	method Liczby1
	push san
	spushs
	spop $a
	call [$a],actionname
	spushs
	spop $h
	call $h,to_i
	end method
	method Liczby2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push ykurs
	pop $b
	popax
	add $a,$b
	push 1
	push 1
	cthis isin
	end method
	method Liczby3
	push igmstate
	push 1
	cmpjne
	cmp0
	jne l3889
	push sgr
	spushs
	spop $a
	call [$a],iready
	jmp l3890
l3888:
	push 0
	jmp l3890
l3889:
	push 1
l3890:
	cmp0
	je l3891
	ret
l3891:
	add liczan,1
	pop liczan
	push liczan
	push san
	spushs
	spop $a
	call [$a],nofactions
	cmpjae
	cmp0
	je l3893
	push san
	spushs
	spop $a
	call [$a],hide
	push 1
	popax
	sub 0,$a
	pop liczan
	jmp l3892
l3893:
	push san
	spushs
	spop $a
	call [$a],show
	push san
	spushs
	push liczan
	push 0
	spop $a
	call [$a],setframe
	push san
	spushs
	cthis getcx
	cthis getcy
	spop $a
	call [$a],ansetcpos
	push "fxpisze2"
	cthis crplay
l3892:
	localint $1
	push 0
	pop $1
	localint $2
	push 0
	pop $2
l3894:
	push $2
	push sgr
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l3895
	jmp l3897
l3896:
	add $2,1
	pop $2
	jmp l3894
l3897:
	localdef $3
	push sgr
	spushs
	push $2
	spop $a
	call [$a],get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],liczan
	push 1
	popax
	sub 0,$a
	cmpjne
	cmp0
	je l3899
	push $3
	spushs
	spop $a
	call [$a],myvalue
	popax
	add $1,$a
	pop $1
l3899:
	jmp l3896
l3895:
	push sgr
	spushs
	push "grp0"
	cmpst
	jne l3901
	spop $a
	push 52
	jmp l3900
l3901:
	push "grp1"
	cmpst
	jne l3902
	spop $a
	push 40
	jmp l3900
l3902:
	push "grp2"
	cmpst
	jne l3903
	spop $a
	push 44
	jmp l3900
l3903:
	spop $a
l3900:
	localint $4
	pop $4
	push $1
	push $4
	cmpje
	cmp0
	je l3905
	push sgr
	spushs
	push 1
	spop $a
	call [$a],iready=
	push 0
	push 1
	call sgr,gete
	call grok,get
	spushs
	spop $a
	call [$a],show
l3905:
	call grp0,iready
	cmp0
	je l3907
	call grp1,iready
	cmp0
	je l3907
	call grp2,iready
	jmp l3909
l3907:
	push 0
	jmp l3909
l3908:
	push 1
l3909:
	cmp0
	je l3910
	push 2
	pop igmstate
	call anskradziono,show
	push "sndend"
	cthis cbplay
l3910:
	end method
	method Liczby4
	push "snd2"
	cthis cbplay
	push 405
	spushs
	spop $h
	call $h,igetsc
	push 330
	spushs
	spop $h
	call $h,igetsc
	push "lu"
	call clp,show
	end method
	method Liczby5
	push "snd3"
	cthis cbplay
	push 520
	spushs
	spop $h
	call $h,igetsc
	push 470
	spushs
	spop $h
	call $h,igetsc
	push "rr"
	call clp,show
	end method
	method Liczby6
	call clp,stoph
	push "snd4"
	cthis cbplay
	call ankarta,show
	end method
	method Liczby7
	push "im0_0_0"
	push "rd"
	call clp,showob
	push "snd5"
	cthis cbplay
	end method
	method Liczby8
	call clp,stoph
	push 1
	pop igmstate
	end method
	method Liczby9
	push "Liczby10"
	call ccs,close
	end method
	method Liczby10
	push "epizod"
	push "namiestnik_sztabki"
	call clsave,set
	push "namiestnik"
	push "gamenamiestnik"
	cthis gotoadv
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3912
	push igmstate
	push 1
	cmpjne
	jmp l3914
l3912:
	push 0
	jmp l3914
l3913:
	push 1
l3914:
	cmp0
	je l3915
	push 1
	cthis cactsndstop
l3915:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3917
	push "sndend"
	cthis cbplay
l3917:
	end method
	end game

	game Sztabki
	parent DziejeGame
	method init
	push "sztabki"
	clparent DziejeGame,init
	push "sztabki"
	cthis EgiptSave
	cthis gamebg
	push A
	push "bkg.pyz"
	push "waga.pyz 10"
	push "hantle.pyzH 20"
	cthis imgs=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grpoz
	push "grpoz"
	push "pozycje.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	new gmimgvec,grprawa
	push "grprawa"
	push "prawa.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grlewa
	push "grlewa"
	push "lewa.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grglowy
	push "grglowy"
	push "glowy.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	new gmimgvec,grmask
	push "grmask"
	push "maski.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grmask,hide
	new gmimgvec,grok
	push "grok"
	push "ok.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grok,hide
	new string,staken
	new gmimgvec,grm
	push "grlewa"
	call grm,addgr
	push "grprawa"
	call grm,addgr
	push "grpoz"
	call grm,addgr
	push "Sztabki0"
	call grm,eval
	new Button,but
	push "Sztabki1"
	call grmask,eval
	new gmimgvec,grels
	push "anima"
	push "anel"
	call grpoz,size
	push 2
	call grlewa,size
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call grels,buildarray
	push "Sztabki3"
	call grels,eval
	new DelayMover,cmov
	new classplacepointer2,clp
	push A
	push "snd1"
	push "Tutaj mam sztabk ktr zanis do skarbca zarzdca Haset"
	push "Sztabki5"
	push "snd2"
	push "A tutaj jest stara sztabka namiestnika"
	push "Sztabki6"
	push "snd3"
	push "Uyj tych odwanikw do sprawdzenia czy sztabki Haseta wa tyle ile powinny"
	push "Sztabki7"
	push "sndend"
	push "A wic to tak? Haset przetapia sztabki i oddaje do skarbca mniej zota ni dostaje za adunek kamieni! Id zawiadomi namiestnika"
	push "Sztabki8"
	cthis sounds=
	push "goldh"
	call grmask,getsac
	push "rd"
	call clp,showob
	push "snd1"
	cthis cbplay
	end method
	method Sztabki0
	push A
	push "weight"
	push 0
	push "sztabka"
	push "null"
	cthis vars2
	end method
	method Sztabki1
	cthis Button_isinvis
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Sztabki2"
	cthis addmethod
	cthis getname
	call but,add
	end method
	method Sztabki2
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3919
	ret
l3919:
	localdef $1
	cthis mfirst
	pop $1
	push $1
	spushs
	cthis actionname
	push 0
	spop $a
	call [$a],setframe
	push $1
	cthis mtake
	end method
	method Sztabki3
	push "anhantle"
	cthis copy
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push A
	push "objput"
	push "null"
	cthis vars2
	push "butclick"
	push "Sztabki4"
	cthis addmethod
	cthis getname
	call but,add
	push 50
	cthis setz
	end method
	method Sztabki4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3921
	ret
l3921:
	cthis mret
	cthis getname
	cthis mtake
	end method
	method Sztabki5
	push "snd2"
	cthis cbplay
	localstring $1
	push "goldn"
	call grmask,getsac
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	push "rd"
	call clp,show
	end method
	method Sztabki6
	push "snd3"
	cthis cbplay
	push "hantla1"
	call grmask,getsac
	push "rd"
	call clp,showob
	end method
	method Sztabki7
	cthis mstart
	call clp,stoph
	end method
	method Sztabki8
	push "epizod"
	push "namiestnik_areszt"
	call clsave,set
	push "Sztabki9"
	call ccs,close
	end method
	method Sztabki9
	push "namiestnik"
	push "gamenamiestnik"
	cthis gotoadv
	end method
	method mfirst
	localint $1
	push 0
	pop $1
l3922:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l3923
	jmp l3925
l3924:
	add $1,1
	pop $1
	jmp l3922
l3925:
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l3927
	push $1
	call grels,get
	ret
l3927:
	jmp l3924
l3923:
	end method
	method mtake
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	spushs
	call mouse,getpos
	spop $a
	call [$a],setpos
	push $1
	pop staken
	push 2
	pop igmstate
	cthis mcheckweight
	cthis mcheckpoz
	end method
	method mstart
	call cmov,unlock
	push 1
	pop igmstate
	end method
	method setlevel
	localint $1
	pop $1
	push $1
	call grlewa,msetf
	push $1
	call grprawa,msetf
	push 1
	popax
	sub 0,$a
	push $1
	call anwaga,setframe
	end method
	method msetf
	localint $1
	pop $1
	push "Sztabki10"
	push $1
	cthis eval1
	end method
	method Sztabki10
	localdef $1
	pop $1
	push 1
	popax
	sub 0,$a
	push $1
	cthis setframe
	push sztabka
	push "null"
	cmpjne
	cmp0
	je l3929
	push sztabka
	spushs
	cthis getpx
	cthis getpy
	spop $a
	call [$a],setpos
l3929:
	end method
	method mcalcw
	push 0
	push "Sztabki11"
	cthis eval
	end method
	method Sztabki11
	localdef $1
	pop $1
	push weight
	push $1
	pop $b
	popax
	add $a,$b
	end method
	method mcheckweight
	localdef $1
	call grlewa,mcalcw
	pop $1
	localdef $2
	call grprawa,mcalcw
	pop $2
	push $1
	push $2
	cmpjl
	cmp0
	je l3931
	cthis sethigh
	jmp l3930
l3931:
	push $1
	push $2
	cmpja
	cmp0
	je l3933
	cthis setlow
	jmp l3932
l3933:
	cthis setstart
l3932:
l3930:
	end method
	method setstart
	push 0
	cthis setlevel
	end method
	method setlow
	push 1
	cthis setlevel
	end method
	method sethigh
	push 2
	cthis setlevel
	end method
	method cmov_GET
	push igmstate
	push 2
	cmpje
	cmp0
	je l3935
	call fxgetpuz,play
	push staken
	call cmov,setpobj
	push 3
	pop igmstate
l3935:
	end method
	method mcheckput
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $a
	call [$a],weight
	push 0
	cmpje
	cmp0
	je l3937
	push $2
	spushs
	push $1
	cthis mweight
	spop $a
	call [$a],weight=
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $a
	call [$a],objput=
	push $2
	spushs
	push $1
	spop $a
	call [$a],sztabka=
	cthis mcheckweight
	jmp l3936
l3937:
	push $1
	spushs
	spop $a
	call [$a],mret
l3936:
	end method
	method mret
	push objput
	push "null"
	cmpjne
	cmp0
	je l3939
	push objput
	spushs
	push 0
	spop $a
	call [$a],weight=
	push objput
	spushs
	push "null"
	spop $a
	call [$a],sztabka=
	push "null"
	pop objput
l3939:
	cthis hide
	end method
	method mweight
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "hantla2"
	cmpst
	jne l3941
	spop $a
	push 20
	jmp l3940
l3941:
	push "hantla1"
	cmpst
	jne l3942
	spop $a
	push 10
	jmp l3940
l3942:
	push "hantla12"
	cmpst
	jne l3943
	spop $a
	push 2
	jmp l3940
l3943:
	push "goldh"
	cmpst
	jne l3944
	spop $a
	push 36
	jmp l3940
l3944:
	push "goldn"
	cmpst
	jne l3945
	spop $a
	push 42
	jmp l3940
l3945:
	spop $a
l3940:
	end method
	method mcheckpoz
	localdef $1
	localdef $2
	localdef $3
	push 0
	pop $1
	push 0
	pop $2
	push 0
	pop $3
	localdef $4
	localint $5
	push 0
	pop $5
l3946:
	push $5
	call grpoz,size
	cmpjl
	cmp0
	je l3947
	jmp l3949
l3948:
	add $5,1
	pop $5
	jmp l3946
l3949:
	push $5
	call grpoz,get
	pop $4
	push $4
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l3951
	spop $a
	push $4
	spushs
	spop $a
	call [$a],weight
	popax
	add $1,$a
	pop $1
	jmp l3950
l3951:
	push 1
	cmpst
	jne l3952
	spop $a
	push $4
	spushs
	spop $a
	call [$a],weight
	popax
	add $2,$a
	pop $2
	jmp l3950
l3952:
	push 2
	cmpst
	jne l3953
	spop $a
	push $4
	spushs
	spop $a
	call [$a],weight
	popax
	add $3,$a
	pop $3
	jmp l3950
l3953:
	spop $a
l3950:
	jmp l3948
l3947:
	localint $6
	push 0
	pop $6
	push 0
	push 42
	push $1
	cthis checkok
	popax
	add $6,$a
	pop $6
	push 1
	push 36
	push $2
	cthis checkok
	popax
	add $6,$a
	pop $6
	push 2
	push 6
	push $3
	cthis checkok
	popax
	add $6,$a
	pop $6
	push $6
	push 3
	cmpje
	cmp0
	je l3955
	push 4
	pop igmstate
	push "sndend"
	cthis cbplay
l3955:
	end method
	method checkok
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	cmpje
	cmp0
	je l3957
	push $1
	call grok,get
	spushs
	spop $a
	call [$a],show
	push 1
	jmp l3956
l3957:
	push $1
	call grok,get
	spushs
	spop $a
	call [$a],hide
	push 0
l3956:
	end method
	method cmov_PUT
	push igmstate
	push 3
	cmpje
	cmp0
	je l3959
	call fxputpuz,play
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localdef $3
	cthis getfree
	pop $3
	localdef $4
	push $1
	push $2
	push 1
	push 0
	call grlewa,isin
	cmp0
	je l3961
	push $3
	call grlewa,getsfound
	cthis mcheckput
	jmp l3960
l3961:
	push $1
	push $2
	push 1
	push 0
	call grprawa,isin
	cmp0
	je l3963
	push $3
	call grprawa,getsfound
	cthis mcheckput
	jmp l3962
l3963:
	push $1
	push $2
	push 1
	push 0
	call grpoz,isin
	cmp0
	je l3965
	push $3
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	push "gold"
	cmpjne
	jmp l3967
l3965:
	push 0
	jmp l3967
l3966:
	push 1
l3967:
	cmp0
	je l3968
	push $3
	call grpoz,getsfound
	cthis mcheckput
	cthis mcheckpoz
	jmp l3964
l3968:
	push $3
	spushs
	spop $a
	call [$a],mret
l3964:
l3962:
l3960:
	push igmstate
	push 4
	cmpjne
	cmp0
	je l3970
	push 1
	pop igmstate
l3970:
	jmp l3958
l3959:
	push igmstate
	push 4
	cmpje
	cmp0
	je l3972
	cthis getfree
	spushs
	spop $a
	call [$a],hide
l3972:
l3958:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3974
	push 1
	cthis cactsndstop
l3974:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3976
	push "sndend"
	cthis cbplay
l3976:
	end method
	end game

	new int,BajkaNr
	push 1
	pop BajkaNr
	game Bajka
	parent DziejeGame
	method init
	push "bajka"
	clparent DziejeGame,init
	cthis gamebg
	new string,spath
	new string,sgame
	new gmimgvec,grb
	push "grb"
	push "baj"
	push BajkaNr
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	call grb,evalclip
	push 1
	popax
	sub 0,$a
	call grb,nplay
	push A
	push "snd1"
	push "I tak Cheti jako zarzdca pilnowa interesw prowincji i uczy Bariego pisania i czytania; Prowincja bogacia si a namiestnik by coraz bardziej zadowolony z Chetiego"
	push "Bajka0"
	push "snd2"
	push "Pewnego dnia przyprowadzi Chetiego do portu i powiedzia"
	push "Bajka1"
	push ":nam1"
	push "Suchaj Cheti nie wyrabiamy si ze zleceniami; Wykuwamy sporo blokw kamiennych ale nasze barki s za mae; Mgby pokierowa ludmi i zbudowa now pojemn bark?"
	push "Bajka2"
	push ":cheti1"
	push "Z przyjemnoci; Jeli mona chciabym te przewie ni adunek do stolicy"
	push "Bajka3"
	push ":nam2"
	push "Wolabym mie ciebie tu na miejscu ale zgadzam si; Bd mia pewno e uczciwie sprzedasz towar"
	push "Bajka4"
	push "snd3"
	push "Robotnicy zaadowali kamienie na bark; Cheti z Barim i kilkoma marynarzami weszli na pokad i ruszyli w rejs do stolicy; Namiestnik dugo macha im na poegnanie z pomostu"
	push "Bajka5"
	push "snd4"
	push "Wieci o dokonaniach Chetiego szybko rozniosy si po miecie; Crka ksicia ksiniczka Cynthia postanowia urzdzi bal na cze tajemniczego budowniczego; Goniec dostarczy Chetiemu zaproszenie na bal"
	push "Bajka6"
	cthis sounds=
	push "Bajka7"
	call ccs,enter
	end method
	method Bajka0
	push 2
	cthis mbaja
	end method
	method Bajka1
	push "nam1"
	cthis cbplay
	end method
	method Bajka2
	push "cheti1"
	cthis cbplay
	end method
	method Bajka3
	push "nam2"
	cthis cbplay
	end method
	method Bajka4
	push "Lodka"
	cthis mgame
	end method
	method Bajka5
	push "Cs2"
	cthis mgame
	end method
	method Bajka6
	push "Naszyjnik"
	cthis mgame
	end method
	method Bajka7
	push "snd"
	push BajkaNr
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mbaja
	localint $1
	pop $1
	push $1
	pop BajkaNr
	push "Bajka"
	cthis mgame
	end method
	method mgame
	localstring $1
	pop $1
	push "null"
	push $1
	cthis mendgame
	end method
	method mendgame
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop spath
	push $2
	pop sgame
	push "Bajka8"
	call ccs,close
	end method
	method Bajka8
	push spath
	push "null"
	cmpje
	cmp0
	je l3978
	push sgame
	call gameapi,play
	jmp l3977
l3978:
	push spath
	push sgame
	cthis gotoadv
l3977:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3980
	push 1
	cthis cactsndstop
l3980:
	end method
	end game

	game Bal
	parent DziejeGame
	method init
	push "bal"
	clparent DziejeGame,init
	cthis gamebg
	push A
	push "bkg.pyz"
	push "naszyjnik.pyzH 700"
	push "ship.pyzP 5"
	push "cheti.pyz"
	cthis imgs=
	call ancheti,anputgr
	call anship,advclip
	push 5
	push 5
	call ancheti,move
	new gmimgvec,grmask
	push "grmask"
	push "maski.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grmask,anputgr
	push "onendframe"
	push "Bal0"
	call ancheti,addmethod
	push A
	push "snd1"
	push "Ksiniczka Cynthia bya bardzo ciekawa kim jest tajemniczy utalentowany inynier z dalekiej prowincji; Wszyscy ju syszeli o Chetim ktry potrafi czyta pisa liczy budowa okrty i witynie"
	push "Bal1"
	push "snd2"
	push "Cheti okaza si te w najwyszym stopniu dentelmenem penym ogady i dobrego wychowania"
	push "Bal2"
	push "snd3"
	push "Kiedy da Cynthii wasnorcznie wykonany naszyjnik ksiniczka w jednej chwili zakochaa si w nim; Poprosia o chwil czasu i postanowia specjalnie wystroi si dla tak wspaniaego gocia"
	push "Bal3"
	cthis sounds=
	push "Bal5"
	call ccs,enter
	end method
	method Bal0
	cthis framename
	push "zawies"
	cmpje
	cmp0
	je l3982
	call annaszyjnik,show
l3982:
	end method
	method Bal1
	push "snd2"
	cthis cbplay
	push "uklon"
	call ancheti,play
	end method
	method Bal2
	push "snd3"
	cthis cbplay
	push "daje"
	call ancheti,play
	end method
	method Bal3
	push "Bal4"
	call ccs,close
	end method
	method Bal4
	push "Ubior"
	call gameapi,play
	end method
	method Bal5
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3984
	push 1
	cthis cactsndstop
l3984:
	end method
	end game

	game Lodka
	parent DziejeGame
	method init
	push "lodka"
	clparent DziejeGame,init
	cthis gamebg
	push "statek"
	cthis EgiptSave
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	push A
	push "bkg.pyz"
	push "szkielet.pyz 10"
	cthis imgs=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grels,setz
	new DelayMover,cmov
	push 129
	spushs
	spop $h
	call $h,igetsc
	push 100
	spushs
	spop $h
	call $h,igetsc
	push 756
	spushs
	spop $h
	call $h,igetsc
	push 407
	spushs
	spop $h
	call $h,igetsc
	new Rect,rec
	push "grels"
	call rec,fitgrouprand
	new int,lastx
	new int,lasty
	push A
	push "snd1"
	push "Zbuduj najpikniejsz bark jaka pywaa po Nilu"
	push "mstart"
	push "sndend"
	push "Doskonale! Id zebra zaog i w drog!"
	push "Lodka0"
	cthis sounds=
	push "Lodka2"
	call ccs,enter
	end method
	method Lodka0
	push "Lodka1"
	call ccs,close
	end method
	method Lodka1
	push 3
	pop BajkaNr
	push "Bajka"
	call gameapi,play
	end method
	method Lodka2
	push "snd1"
	cthis cbplay
	end method
	method mstart
	call cmov,unlock
	push 1
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3986
	ret
l3986:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l3988
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop lastx
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop lasty
	push $1
	spushs
	push 30
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l3988:
	end method
	method cmov_PUT
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3990
	ret
l3990:
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l3992
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 15
	spop $a
	call [$a],setz
	call grels,empty
	cmp0
	je l3994
	call cmov,lock
	push 2
	pop igmstate
	push "sndend"
	cthis cbplay
l3994:
	jmp l3991
l3992:
	push $1
	call grels,add
	push $1
	spushs
	push lastx
	push lasty
	spop $a
	call [$a],ansetbpos
	push $1
	spushs
	push 20
	spop $a
	call [$a],setz
l3991:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3996
	push 1
	cthis cactsndstop
l3996:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3998
	push "sndend"
	cthis cbplay
l3998:
	end method
	end game

	game Cs2
	parent DziejeGame
	method init
	push "cs2"
	clparent DziejeGame,init
	cthis gamebg
	push "bgrrzekaN 50"
	cthis sfx=
	new gmimgvec,gral
	new gmimgvec,grbg
	push "grbg"
	push "bkg.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "Cs20"
	call grbg,eval
	push A
	push "chm1.pyz"
	push "chm2.pyz"
	push "barka.pyz 5"
	push "haset.pyz 40"
	cthis imgs=
	push A
	push "anchm1"
	push "anchm2"
	push "anbarka"
	push "anhaset"
	call gral,addlist
	push "advclip"
	call gral,eval
	call grbg,evalclip
	push "grbg"
	call gral,addgr
	localdef $1
	call grbg,first
	pop $1
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push Y1
	call gral,move
	push A
	push "snd1"
	push "eglowali wiele dni po spokojnych wodach Nilu"
	push "Cs21"
	push ":has1"
	push "Jeszcze mi Cheti zapacisz za wszystko; To przez ciebie wyrzucili mnie z posady i zabrali cay majtek; Strze si"
	push "Cs22"
	cthis sounds=
	new real,chmstep
	push 0.3
	pop chmstep
	new real,chm2s
	push 0.2
	pop chm2s
	push "timcyk"
	push "Cs24"
	cthis cycle=
	call timcyk,play
	push "Cs25"
	call ccs,enter
	end method
	method Cs20
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 10
	pop $b
	popax
	mul $a,$b
	cthis setz
	end method
	method Cs21
	push 1
	pop igmstate
	end method
	method Cs22
	push 0
	call anhaset,play
	push "Cs23"
	call ccs,close
	end method
	method Cs23
	push "Cs3"
	call gameapi,play
	end method
	method Cs24
	push igmstate
	push 1
	cmpje
	cmp0
	je l4000
	localdef $1
	call grbg,first
	pop $1
	push 3
	push 0
	call gral,move
	push $1
	spushs
	spop $a
	call [$a],getpx
	push X1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpja
	cmp0
	je l4002
	push X1
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push 0
	call gral,move
	push 2
	pop igmstate
	push 1
	call anhaset,play
	push "has1"
	cthis cbplay
	jmp l4001
l4002:
	push $1
	spushs
	spop $a
	call [$a],getpx
	push X1
	pop $b
	popax
	sub $a,$b
	push 100
	cmpjl
	cmp0
	je l4004
	push "bylnar"
	cthis hasvar
	neg
	jmp l4006
l4004:
	push 0
	jmp l4006
l4005:
	push 1
l4006:
	cmp0
	je l4007
	new int,bylnar
	push "nar.ogg -v 60"
	call mus,playstr
l4007:
l4001:
l4000:
	push 0.3
	popax
	add chmstep,$a
	pop chmstep
	push 0.2
	popax
	add chm2s,$a
	pop chm2s
	push chmstep
	push 0
	call anchm1,move
	push chm2s
	popax
	sub 0,$a
	push 0
	call anchm2,move
	push chm2s
	push 1
	cmpja
	cmp0
	je l4009
	push 1
	popax
	sub chm2s,$a
	pop chm2s
l4009:
	push chmstep
	push 1
	cmpja
	cmp0
	je l4011
	push 1
	popax
	sub chmstep,$a
	pop chmstep
l4011:
	push 1
	popax
	sub 0,$a
	push 0
	call anbarka,move
	cthis play
	end method
	method Cs25
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4013
	push 1
	cthis cactsndstop
l4013:
	end method
	end game

	game Cs3
	parent DziejeGame
	method init
	push "cs3"
	clparent DziejeGame,init
	push "cs2"
	cthis path=
	cthis gamebg
	push A
	push "bg3.pyz"
	push "dym3P.pyz 5"
	push "lodz3.pyz 10"
	cthis imgs=
	push "bgrrzekaN 50"
	cthis sfx=
	new gmimgvec,gral
	push A
	push "anbg3"
	push "andym3"
	push "anlodz3"
	call gral,addlist
	push X1
	push Y1
	call anbg3,move
	push X1
	push Y1
	call andym3,move
	call gral,evalclip
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	call anlodz3,lodx
	pop $b
	popax
	sub $a,$b
	push Y1
	push 106
	pop $b
	popax
	add $a,$b
	call anlodz3,setpos
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	call anbg3,getex
	pop $b
	popax
	sub $a,$b
	push 0
	call gral,move
	push A
	push "sndend"
	push "Wreszcie statek przybi to portu w stolicy; Cheti pierwszy raz w yciu zobaczy wielkie piramidy; Bd potrzebowali jeszcze wiele gazw eby je ukoczy pomyla"
	push "Cs30"
	cthis sounds=
	new real,rly
	push 0.0
	pop rly
	new real,rstep
	push 106.0
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	call anlodz3,lodx
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop rstep
	push "timcyk"
	push "Cs32"
	cthis cycle=
	push "Cs33"
	call ccs,enter
	end method
	method Cs30
	push 1000
	call mus,fadeout
	push "Cs31"
	call ccs,close
	end method
	method Cs31
	push "Sw1"
	call gameapi,play
	end method
	method Cs32
	localdef $1
	push 150
	pop $1
	call anlodz3,getpx
	push $1
	pop $b
	popax
	add $a,$b
	call anlodz3,lodx
	push X1
	pop $b
	popax
	add $a,$b
	cmpjle
	cmp0
	je l4015
	push "sndend"
	cthis cbplay
	push 30
	call gameapi,setmusicvol
	jmp l4014
l4015:
	push rstep
	popax
	add rly,$a
	pop rly
	push 1
	popax
	sub 0,$a
	push rly
	popax
	sub 0,$a
	call anlodz3,move
	push rly
	push 1
	cmpjae
	cmp0
	je l4017
	push 1
	popax
	sub rly,$a
	pop rly
l4017:
	call anbg3,getpx
	push $1
	pop $b
	popax
	add $a,$b
	push X1
	cmpjl
	cmp0
	je l4019
	push 1
	push 0
	call gral,move
	call anbg3,getpx
	push $1
	pop $b
	popax
	add $a,$b
	push X1
	push 100
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4021
	push "muzyka"
	cthis hasvar
	neg
	jmp l4023
l4021:
	push 0
	jmp l4023
l4022:
	push 1
l4023:
	cmp0
	je l4024
	new int,muzyka
	push "egipt2.ogg -v 50"
	call mus,playstr
l4024:
l4019:
	cthis play
l4014:
	end method
	method Cs33
	call timcyk,play
	end method
	end game

	game Sw1
	parent DziejeGame
	method init
	push "sw1"
	clparent DziejeGame,init
	push "swiatynia"
	cthis EgiptSave
	cthis gamebg
	push A
	push "bg.pyz"
	cthis imgs=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	call grels,setz
	call grels,hash
	push X1
	push Y1
	push X2
	push Y2
	new ConRewinder,clrew
	push "scripts/sw1/strzalki.pyz"
	push 5
	push "imglobcurs"
	push "up"
	push 10
	push "grels"
	call clrew,build
	push "sfx/przesun.wav"
	call clrew,setfxrew
	push A
	push "snd1"
	push "Kamienie przywiezione przez Chetiego miay posuy do budowy wityni; Cheti sam kierowa budow"
	push "mstart"
	push "sndend"
	push "Doskonale; Brya wityni gotowa; Teraz musimy j pomalowa"
	push "Sw10"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Sw10
	push "Sw11"
	call ccs,close
	end method
	method Sw11
	call gameapi,getgamename
	pop sgmlastscene
	push "sw2"
	pop sgmglobpath
	push "gamesw2"
	pop sgmgame
	push sgmgame
	call gameapi,play
	end method
	method mstart
	call clrew,unlock
	push 1
	pop igmstate
	push "flet.ogg -v 70"
	call mus,playstr
	end method
	method clrew_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4026
	ret
l4026:
	call fxgetpuz,play
	cthis mspickup
	popax
	end method
	method clrew_PUT
	localdef $1
	cthis getmoved
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 20
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4028
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	call clrew,freeitem
	call grels,empty
	cmp0
	je l4030
	push 2
	pop igmstate
	push "sndend"
	cthis cbplay
l4030:
	jmp l4027
l4028:
	call clrew,retitem
l4027:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4032
	push 1
	cthis cactsndstop
l4032:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4034
	push "sndend"
	cthis cbplay
l4034:
	end method
	end game

	game Maluje
	parent DziejeGame
	parent TPainter
	method init
	push "maluje"
	clparent DziejeGame,init
	cthis gamebg
	push "null"
	push "null"
	push "bkg.pyz"
	push "pedzel.pyz"
	push "draw.pyz"
	push "farby.pyz"
	push "ld"
	cthis tinit
	call anbkg,advclip
	push "sw2"
	cthis path=
	new gmimgvec,grobw
	push "grobw"
	push "kolory.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 50
	call grobw,setz
	push "maluje"
	cthis path=
	push "Maluje0"
	call grdraw,eval
	new string,skolor
	push "null"
	pop skolor
	push A
	push "pedzel 50"
	push "pedzel2 50"
	cthis sfxs=
	push A
	push "snd1"
	push "Pomaluj pylon z prawej strony identycznie jak ten z lewej"
	push "Maluje1"
	push "sndend"
	push "Prosz jaka pikna witynia"
	push "Maluje2"
	cthis sounds=
	cthis lock
	push "Maluje4"
	call ccs,enter
	end method
	method Maluje0
	cthis white
	push 64
	push 0
	cthis paint
	push "kolor"
	push "null"
	cthis var2
	end method
	method Maluje1
	push GAME
	spushs
	spop $a
	call [$a],unlock
	end method
	method Maluje2
	push "Maluje3"
	call ccs,close
	end method
	method Maluje3
	push 4
	pop BajkaNr
	push "Bajka"
	call gameapi,play
	end method
	method Maluje4
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4036
	push 1
	cthis cactsndstop
l4036:
	cthis tp_mouse_lclick
	end method
	method mouse_move
	cthis tp_mouse_move
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4038
	push "sndend"
	cthis cbplay
l4038:
	end method
	method onpaint
	push skolor
	push "null"
	cmpjne
	cmp0
	je l4040
	call fxpedzel2,play
	call grdraw,getsfound
	spushs
	push skolor
	spop $a
	call [$a],kolor=
	push 1
	push "Maluje5"
	call grdraw,each
	cmp0
	je l4045
	cthis lock
	push "sndend"
	cthis cbplay
l4045:
l4040:
	end method
	method Maluje5
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $2
	cmp0
	je l4042
	cthis actionname
	spushs
	push 4
	spop $h
	call $h,strsubb
	push kolor
	cmpje
	jmp l4044
l4042:
	push 0
	jmp l4044
l4043:
	push 1
l4044:
	end method
	method onsetbrush
	call grpaleta,getsfound
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 2
	spop $h
	call $h,strsubb
	pop skolor
	call fxpedzel,play
	end method
	method game_exit
	cthis tp_exit
	end method
	end game

	game Naszyjnik
	parent DziejeGame
	method init
	push "naszyjnik"
	clparent DziejeGame,init
	push "naszyjnik"
	cthis EgiptSave
	cthis gamebg
	push A
	push "getpuz 40"
	push "putpuz 40"
	cthis sfxs=
	push A
	push "bkg.pyz"
	push "start.pyz 5"
	cthis imgs=
	new DelayMover,cmov
	new gmimgvec,grel1
	push "grel1"
	push "el1.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grel1,hash
	call grel1,msetz
	new gmimgvec,grel2
	push "grel2"
	push "el2.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grel2,hash
	call grel2,msetz
	push 129
	spushs
	spop $h
	call $h,igetsc
	push 360
	spushs
	spop $h
	call $h,igetsc
	push 350
	spushs
	spop $h
	call $h,igetsc
	push 290
	spushs
	spop $h
	call $h,igetsc
	new Rect,rec1
	push "grel1"
	call rec1,fitgrouprand
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push 360
	spushs
	spop $h
	call $h,igetsc
	push 350
	spushs
	spop $h
	call $h,igetsc
	push 290
	spushs
	spop $h
	call $h,igetsc
	new Rect,rec2
	push "grel2"
	call rec2,fitgrouprand
	new classplacepointer2,clp
	push A
	push "snd1"
	push "Zrobi dla ksiniczki naszyjnik"
	push "Naszyjnik0"
	push "snd2"
	push "Najpierw uformuj konstrukcj ze zota"
	push "Naszyjnik1"
	push "snd3"
	push "Potem wybior najpikniejsze szlachetne kamienie i powtykam je w pytki"
	push "Naszyjnik2"
	push "sndend"
	push "Naszyjnik gotowy; Pora wychodzi na bal"
	push "Naszyjnik3"
	cthis sounds=
	push "Naszyjnik5"
	call ccs,enter
	end method
	method Naszyjnik0
	push "snd2"
	cthis cbplay
	call grel1,first
	push "ld"
	call clp,showob
	end method
	method Naszyjnik1
	push "snd3"
	cthis cbplay
	call grel2,first
	push "rd"
	call clp,showob
	end method
	method Naszyjnik2
	call clp,stoph
	push 1
	pop igmstate
	call cmov,unlock
	end method
	method Naszyjnik3
	push "Naszyjnik4"
	call ccs,close
	end method
	method Naszyjnik4
	push "Bal"
	call gameapi,play
	end method
	method Naszyjnik5
	push "snd1"
	cthis cbplay
	end method
	method msetz
	push "Naszyjnik6"
	cthis each
	end method
	method Naszyjnik6
	localdef $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method cmov_GET
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localdef $3
	push igmstate
	push 1
	cmpje
	cmp0
	je l4047
	push $1
	push $2
	push 1
	push 1
	call grel1,isin
	cmp0
	je l4049
	call fxgetpuz,play
	call grel1,getsfound
	pop $3
	push $3
	spushs
	push 300
	spop $a
	call [$a],setz
	push $3
	cthis mssetobj
	push $3
	call grel1,remove
l4049:
	jmp l4046
l4047:
	push igmstate
	push 2
	cmpje
	cmp0
	je l4051
	push $1
	push $2
	push 1
	push 1
	call grel2,isin
	cmp0
	je l4053
	call fxgetpuz,play
	call grel2,getsfound
	pop $3
	push $3
	spushs
	push 300
	spop $a
	call [$a],setz
	push $3
	cthis mssetobj
	push $3
	call grel2,remove
l4053:
l4051:
l4046:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	localstring $2
	push "grel"
	push igmstate
	pop $b
	popax
	add $a,$b
	pop $2
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4055
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 7
	spop $a
	call [$a],setz
	push $2
	spushs
	spop $a
	call [$a],empty
	cmp0
	je l4057
	push igmstate
	push 1
	cmpje
	cmp0
	je l4059
	push 2
	pop igmstate
	jmp l4058
l4059:
	call cmov,lock
	push 3
	pop igmstate
	push "sndend"
	cthis cbplay
l4058:
l4057:
	jmp l4054
l4055:
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	spushs
	spop $a
	call [$a],msetz
l4054:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4061
	push 1
	cthis cactsndstop
l4061:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4063
	push "sndend"
	cthis cbplay
l4063:
	end method
	end game

	game Ubior
	parent DziejeGame
	method init
	push "ubior"
	clparent DziejeGame,init
	push "moda"
	cthis EgiptSave
	cthis gamebg
	push A
	push "getpuz 40"
	push "putpuz 40"
	cthis sfxs=
	new DelayMover,cmov
	push A
	push "bkg.pyz"
	push "princess.pyz 5"
	push "powrot.pyz 10"
	cthis imgs=
	push "anprincess"
	push "anmaska"
	cthis copyanima
	push 50
	call anmaska,setz
	push 1
	push 0
	call anmaska,setframe
	new Button,butgo
	call anpowrot,Button_std
	push "butclick"
	push "Ubior0"
	call anpowrot,addmethod
	push "anpowrot"
	call butgo,add
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 10
	call grels,setz
	new string,swac
	push "null"
	pop swac
	new string,sber
	push "null"
	pop sber
	new string,sper
	push "null"
	pop sper
	new string,skos
	push "null"
	pop skos
	push A
	push ":cynth_snd1"
	push "C za pikny i szlachetny modzieniec; Ubior swoje najpikniejsze szaty"
	push "mstart"
	push ":cynth_wac"
	push "Bez wachlarza nie pokarz si publicznie"
	push "null"
	push ":cynth_ber"
	push "Musz mie jakie bero; Wszak jestem ksiniczk"
	push "null"
	push ":cynth_per"
	push "Ojej nie poka si Chetiemu bez nakrycia gowy"
	push "null"
	push ":cynth_kos"
	push "A gdzie mj kostium?"
	push "null"
	cthis sounds=
	push "Ubior2"
	call ccs,enter
	end method
	method Ubior0
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4065
	ret
l4065:
	push skos
	push "null"
	cmpje
	cmp0
	je l4067
	push "cynth_kos"
	cthis cbplay
	jmp l4066
l4067:
	push swac
	push "null"
	cmpje
	cmp0
	je l4069
	push "cynth_wac"
	cthis cbplay
	jmp l4068
l4069:
	push sber
	push "null"
	cmpje
	cmp0
	je l4071
	push "cynth_ber"
	cthis cbplay
	jmp l4070
l4071:
	push sper
	push "null"
	cmpje
	cmp0
	je l4073
	push "cynth_per"
	cthis cbplay
	jmp l4072
l4073:
	push 3
	pop igmstate
	push "bal.db"
	new classfullsave,csav
	push "wac"
	push swac
	spushs
	spop $a
	call [$a],actionname
	call csav,set
	push "ber"
	push sber
	spushs
	spop $a
	call [$a],actionname
	call csav,set
	push "per"
	push sper
	spushs
	spop $a
	call [$a],actionname
	call csav,set
	push "kos"
	push skos
	spushs
	spop $a
	call [$a],actionname
	call csav,set
	call csav,stdsave
	push "Ubior1"
	call ccs,close
l4072:
l4070:
l4068:
l4066:
	end method
	method Ubior1
	push "Balkon"
	call gameapi,play
	end method
	method Ubior2
	push "cynth_snd1"
	cthis cbplay
	end method
	method mput
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	end method
	method mzdejmij
	localstring $1
	pop $1
	push $1
	cthis mput
	push "s"
	push $1
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 3
	spop $a
	call $a,getb
	pop $b
	popax
	add $a,$b
	spushs
	push "null"
	spop $b
	popax
	mov [$b],$a
	end method
	method mubierz
	localstring $1
	pop $1
	localdef $2
	push "s"
	push $1
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 3
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	push $2
	popax
	mov $a,[$a]
	psax
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l4075
	push $3
	cthis mzdejmij
l4075:
	push $2
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $2
	push "swac"
	cmpje
	cmp0
	je l4077
	push $1
	spushs
	push 3
	spop $a
	call [$a],setz
	jmp l4076
l4077:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
l4076:
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4079
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l4081
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localdef $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $1
	cthis mzdejmij
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],ansetbpos
l4081:
	push $1
	spushs
	push 100
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
l4079:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	call mouse,getpos
	push 1
	push 1
	call anprincess,isin
	cmp0
	je l4083
	push $1
	cthis mubierz
	jmp l4082
l4083:
	push $1
	cthis mput
l4082:
	end method
	method mstart
	push 1
	pop igmstate
	call cmov,unlock
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4085
	push "sndend"
	cthis cbplay
l4085:
	end method
	end game

	game Balkon
	parent DziejeGame
	method init
	push "balkon"
	clparent DziejeGame,init
	cthis gamebg
	push A
	push "bkg.pyz"
	push "chmura.pyz 5"
	push "ksiezyc.pyz 2"
	push "ship.pyz 10"
	push "maska.pyz 20"
	push "chetiP.pyz 40"
	push "polikiH.pyz 30"
	push "oczyP.pyz 30"
	cthis imgs=
	call anchmura,advclip
	call anship,advclip
	push 3
	spushs
	spop $h
	call $h,igetsc1
	push 1
	push 0
	call anship,anconstmove
	push 13
	spushs
	spop $h
	call $h,igetsc
	push 1
	popax
	sub 0,$a
	push 0
	call anchmura,anconstmove
	push "bgrnilN 60"
	cthis sfx=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grels,hide
	push 20
	call grels,setz
	push "cynthia"
	cthis mshow
	push "naszyjnik"
	cthis mshow
	push "bal.db"
	new classfullsave,csav
	call csav,stdload
	push "wac"
	call csav,get
	cthis mshow
	push "ber"
	call csav,get
	cthis mshow
	push "per"
	call csav,get
	cthis mshow
	push "kos"
	call csav,get
	cthis mshow
	push A
	push "snd1"
	push "Bal trwa do pnej nocy a Ksiniczka Cynthia i Cheti nie odrywali od siebie oczu; Na koniec Cynthia poprosia Chetiego by wyszed z ni na balkon; Kiedy stanli na tle piknego egipskiego krajobrazu powiedziaa"
	push "Balkon0"
	push ":cynthia1"
	push "Spdziam z tob Cheti najpikniejsze chwile mojego ycia; Przyjmij ode mnie ten piercie na pamitk naszego spotkania"
	push "Balkon1"
	push ":cheti1"
	push "Jestem bardzo wzruszony ksiniczko Cynthio; Czy jeszcze si zobaczymy?"
	push "Balkon7"
	push ":cynthia2"
	push "Nie wiem Cheti nale do krlewskiego rodu i nie mog spotyka si z ludmi z niszych klas; Bardzo chciaabym spotyka si z tob codziennie ale nie wiem co bdzie nam dane"
	push "Balkon8"
	push ":cheti2"
	push "W takim razie zachowam ten piercie i zawsze kiedy na niego spojrz przypomni mi pikne chwile ktre spdziem z tob Cynthio; Teraz musz wraca na okrt do swoich ludzi; egnaj pikna ksiniczko"
	push "Balkon9"
	push ":cynthia3"
	push "egnaj drogi Cheti; Wierz e si jeszcze zobaczymy"
	push "Balkon10"
	cthis sounds=
	push "Balkon12"
	call ccs,enter
	end method
	method Balkon0
	push "cynthia1"
	cthis cbplay
	end method
	method Balkon1
	push 1
	push "Balkon2"
	call ancheti,anplayfin
	end method
	method Balkon2
	push GAME
	spushs
	spop $a
	call [$a],Balkon3
	end method
	method Balkon3
	push A
	push "bgdaje.pyz 100"
	push "chand.pyz 110"
	push "pierscien.pyzH 120"
	push "khand.pyz 130"
	cthis imgs=
	call anchand,advclip
	call anpierscien,advclip
	call ankhand,advclip
	push 326
	spushs
	spop $h
	call $h,igetsc
	popax
	sub 0,$a
	push 516
	spushs
	spop $h
	call $h,igetsc
	popax
	sub 0,$a
	call ankhand,move
	push "cykk"
	push "Balkon4"
	cthis cycle=
	push A
	push "rdx"
	push 6.0
	push 326.0
	push 516.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	mul $a,$b
	spushs
	spop $h
	call $h,igetsc1
	push "rdy"
	push 6
	spushs
	spop $h
	call $h,igetsc1
	push "istate"
	push 0
	call cykk,vars2
	call cykk,play
	end method
	method Balkon4
	push istate
	push 0
	cmpje
	cmp0
	je l4087
	push rdx
	push rdy
	call ankhand,move
	call ankhand,getpy
	call ankhand,lody
	cmpjae
	cmp0
	je l4089
	push 1
	pop istate
	call anpierscien,show
	push 0.0
	pop rdx
l4089:
	cthis play
	jmp l4086
l4087:
	push istate
	push 1
	cmpje
	cmp0
	je l4091
	push rdx
	popax
	sub 0,$a
	push rdy
	popax
	sub 0,$a
	call ankhand,move
	call ankhand,getpy
	call ankhand,lody
	push 516
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cmpjle
	cmp0
	je l4093
	push 2
	pop istate
l4093:
	cthis play
	jmp l4090
l4091:
	push istate
	push 2
	cmpje
	cmp0
	je l4095
	push 0
	push rdy
	call anchand,move
	push 0
	push rdy
	call anpierscien,move
	call anchand,getpy
	push Y2
	cmpja
	cmp0
	je l4097
	push "Balkon5"
	push "Balkon6"
	call ccs,playfin
	jmp l4096
l4097:
	cthis play
l4096:
l4095:
l4090:
l4086:
	end method
	method Balkon5
	delete anbgdaje
	delete anchand
	delete ankhand
	delete anpierscien
	push "stoi"
	call ancheti,play
	end method
	method Balkon6
	push "cheti1"
	cthis cbplay
	end method
	method Balkon7
	push "cynthia2"
	cthis cbplay
	end method
	method Balkon8
	push "cheti2"
	cthis cbplay
	call anpoliki,show
	end method
	method Balkon9
	push "cynthia3"
	cthis cbplay
	end method
	method Balkon10
	push "Balkon11"
	call ccs,close
	end method
	method Balkon11
	push "Areszt1"
	call gameapi,play
	end method
	method Balkon12
	push "snd1"
	cthis cbplay
	end method
	method mshow
	localstring $1
	pop $1
	localdef $2
	push $1
	call grels,findsac
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l4099
	push $2
	call grels,get
	spushs
	spop $a
	call [$a],show
l4099:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4101
	push 1
	cthis cactsndstop
l4101:
	end method
	end game

	game Areszt1
	parent DziejeGame
	method init
	push "areszt1"
	clparent DziejeGame,init
	cthis gamebg
	push A
	push "bgnoc.pyz"
	push "chetinoc.pyz 10"
	push "maska.pyz 20"
	push "noc.pyz 40"
	push "ship.pyz 5"
	push "pomost.pyz 10"
	cthis imgs=
	new gmimgvec,grels
	push A
	push "anchetinoc"
	push "anmaska"
	push "anship"
	call grels,addlist
	new vector,vkol
	push 0
	push 2
	popax
	sub 0,$a
	call grels,move
	call grels,evalclip
	push "bgrnilN 60"
	cthis sfx=
	push "begin"
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	push 0
	push 0
	push 0
	push 0
	call vkol,beginadd
	new int,ilicz
	push 0
	pop ilicz
	push "timkol"
	push 200
	push "Areszt10"
	cthis timer=
	call timkol,play
	push A
	push "snd1"
	push "Cheti wrci na statek i dugo jeszcze rozmyla o niezwykej Cynthii"
	push "Areszt11"
	push "snd2"
	push "Zaoga spaa pod pokadem ale e noc bya ciepa postanowi przespa si na zewntrz"
	push "Areszt12"
	cthis sounds=
	push "Areszt14"
	call ccs,enter
	end method
	method Areszt10
	push 0
	push ilicz
	call vkol,get
	call grels,move
	add ilicz,1
	pop ilicz
	push ilicz
	call vkol,size
	cmpjae
	cmp0
	je l4103
	push 0
	pop ilicz
l4103:
	cthis play
	end method
	method Areszt11
	push "snd2"
	cthis cbplay
	push 1
	call anchetinoc,play
	end method
	method Areszt12
	push "Areszt13"
	call ccs,close
	end method
	method Areszt13
	push "Areszt2"
	call gameapi,play
	end method
	method Areszt14
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4105
	push 1
	cthis cactsndstop
l4105:
	end method
	end game

	game Areszt2
	parent DziejeGame
	method init
	push "areszt2"
	clparent DziejeGame,init
	cthis gamebg
	push A
	push "barimask.pyz 8"
	push "bari.pyzH 7"
	push "bgdzien.pyz"
	push "cheti.pyz 10"
	push "maska.pyz 20"
	push "ship.pyz 5"
	push "statek.pyz 2"
	push "woje.pyzH 10"
	cthis imgs=
	push "anwoje"
	push "anwoj2"
	cthis copyanima
	push "bgrbrzegN 40"
	cthis sfx=
	call anwoj2,hide
	push 60
	call anwoj2,setz
	push 1
	push 0
	call anwoj2,setframe
	call anwoj2,advclip
	push 3
	spushs
	spop $h
	call $h,igetsc1
	push 1
	popax
	sub 0,$a
	push 0
	call anstatek,anconstmove
	call anstatek,advclip
	push A
	push "snd1"
	push "O wicie caa zaoga smacznie spaa"
	push "Areszt20"
	push "snd2"
	push "Nagle na pokad wtargnli stranicy paacu krlewskiego i brutalnie obudzili Chetiego"
	push "Areszt21"
	push "snd3"
	push "Gadaj prdko! Gdzie ksiniczka?"
	push "Areszt22"
	push ":cheti1"
	push "Nie rozumiem; Co si stao?"
	push "Areszt23"
	push "snd4"
	push "Wczoraj widziae j ostatni! Gdzie ona jest?"
	push "Areszt24"
	push ":cheti2"
	push "Tak rozmawiaem z ksiniczk Cynthi ale potem si poegnalimy; Czy co si jej stao?"
	push "Areszt25"
	push "snd5"
	push "Wytumaczysz si przed kapanami; Bra go!"
	push "Areszt26"
	push ":cheti3"
	push "Jestem niewinny; Pozwlcie mi poszuka ksiniczki z wami"
	push "Areszt27"
	push "snd6"
	push "Patrzcie! To piercie ksiniczki Cynthii! Ju my z ciebie wyciniemy co z ni zrobie; Do lochu z nim!"
	push "Areszt29"
	push ":cheti4"
	push "To pomyka pozwlcie mi wytumaczy; Dostaem ten piercie"
	push "Areszt210"
	push ":bari1"
	push "Ale si porobio; Musz uwolni Chetiego i pomc mu odnale ksiniczk"
	push "Areszt214"
	cthis sounds=
	push "Areszt216"
	call ccs,enter
	end method
	method Areszt20
	push "snd2"
	cthis cbplay
	call anbari,show
	call anwoje,show
	call anwoj2,show
	push 1
	call ancheti,play
	end method
	method Areszt21
	push "snd3"
	cthis cbplay
	end method
	method Areszt22
	push "cheti1"
	cthis cbplay
	end method
	method Areszt23
	push "snd4"
	cthis cbplay
	end method
	method Areszt24
	push "cheti2"
	cthis cbplay
	end method
	method Areszt25
	push "snd5"
	cthis cbplay
	end method
	method Areszt26
	push 2
	call ancheti,play
	push "cheti3"
	cthis cbplay
	end method
	method Areszt27
	push GAME
	spushs
	spop $a
	call [$a],Areszt28
	end method
	method Areszt28
	push "snd6"
	cthis cbplay
	push A
	push "bg2.pyz 100"
	push "ring2.pyz 110"
	cthis imgs=
	end method
	method Areszt29
	call anbg2,hide
	call anring2,hide
	push "cheti4"
	cthis cbplay
	end method
	method Areszt210
	push "Areszt211"
	push "Areszt212"
	call ccs,playfin
	end method
	method Areszt211
	call ancheti,hide
	call anwoje,hide
	call anwoj2,hide
	call anbari,show
	end method
	method Areszt212
	push 0
	push "Areszt213"
	call anbari,anplayfin
	end method
	method Areszt213
	push "bari1"
	cthis cbplay
	end method
	method Areszt214
	push "Areszt215"
	call ccs,close
	end method
	method Areszt215
	call clsave,free
	push "bari"
	cthis EgiptSave
	push "loch"
	push "gameloch1"
	cthis gotoadv
	end method
	method Areszt216
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4107
	push 1
	cthis cactsndstop
l4107:
	end method
	end game

	game City
	parent DziejeGame
	method init
	push "city"
	clparent DziejeGame,init
	push "miasto"
	cthis EgiptSave
	cthis gamebg
	new gmimgvec,gral
	new gmimgvec,grtmp
	new gmimgvec,grpt1
	new gmimgvec,grpt2
	new gmimgvec,grups
	push "step1"
	push "step2.wav"
	cthis newsfx
	push 20
	call step1,setvol
	push "step2"
	push "step2.wav"
	cthis newsfx
	push 20
	call step2,setvol
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	new int,W
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	pop W
	new int,H
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop H
	localint $7
	push 1
	pop $7
l4108:
	push $7
	push 9
	cmpjle
	cmp0
	je l4109
	jmp l4111
l4110:
	add $7,1
	pop $7
	jmp l4108
l4111:
	push "anbg"
	push $7
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push "bg"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	push $1
	spushs
	spop $a
	call [$a],getw
	pop W
	push $1
	spushs
	spop $a
	call [$a],geth
	pop H
	push $1
	spushs
	push $5
	push $6
	spop $a
	call [$a],setpos
	push $1
	call gral,add
	cthis getgraphpath
	push "mask"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l4113
	push "grtmp"
	push "mask"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $5
	push $6
	call grtmp,move
	push 10
	call grtmp,setz
	push 1
	popax
	sub 0,$a
	call grtmp,nplay
	push "grtmp"
	call gral,addgr
	call grtmp,free
l4113:
	cthis getgraphpath
	push "mask2"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l4115
	push "grtmp"
	push "mask2"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $5
	push $6
	call grtmp,move
	push 20
	call grtmp,setz
	push 1
	popax
	sub 0,$a
	call grtmp,nplay
	push "grtmp"
	call gral,addgr
	call grtmp,free
l4115:
	cthis getgraphpath
	push "path"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l4117
	push "grtmp"
	push "path"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $5
	push $6
	call grtmp,move
	call grtmp,hide
	push "grtmp"
	call gral,addgr
	push "grtmp"
	call grpt1,addgr
	call grtmp,free
l4117:
	cthis getgraphpath
	push "path2"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l4119
	push "grtmp"
	push "path2"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $5
	push $6
	call grtmp,move
	call grtmp,hide
	push "grtmp"
	call gral,addgr
	push "grtmp"
	call grpt2,addgr
	call grtmp,free
l4119:
	cthis getgraphpath
	push "ups"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l4121
	push "grtmp"
	push "ups"
	push $7
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $5
	push $6
	call grtmp,move
	call grtmp,hide
	push "grtmp"
	call gral,addgr
	push "grtmp"
	call grups,addgr
	call grtmp,free
l4121:
	push $7
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	cmp0
	je l4123
	push W
	popax
	add $5,$a
	pop $5
	jmp l4122
l4123:
	push H
	popax
	add $6,$a
	pop $6
	push 0
	pop $5
l4122:
	jmp l4110
l4109:
	call grtmp,free
	call gral,evalclip
	push X1
	push W
	pop $b
	popax
	sub $a,$b
	push Y1
	push 2
	push H
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call gral,move
	new int,borx
	call anbg1,getpx
	pop borx
	new int,bory
	call anbg1,getpy
	pop bory
	new int,borex
	call anbg9,getex
	pop borex
	new int,borey
	call anbg9,getey
	pop borey
	push A
	push "cheti.pyz"
	push "bari.pyz"
	cthis imgs=
	new string,sdir
	push "l"
	pop sdir
	new Button,butpad
	new gmimgvec,grpad
	new int,butpadclicked
	push 0
	pop butpadclicked
	push "grpad"
	push "klaw2.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "City0"
	call grpad,eval
	push 783
	spushs
	spop $h
	call $h,igetsc
	push 425
	spushs
	spop $h
	call $h,igetsc
	cthis mpos
	push "onendframe"
	push "City1"
	call ancheti,addmethod
	call ancheti,anloopfin
	call anbari,anloopfin
	call ancheti,advclip
	call anbari,advclip
	push "timrownaj"
	push "City2"
	cthis cycle=
	push A
	push "snd1"
	push "witao kiedy Cheti i Bari wyszli z lochu; Mieszkacy stolicy jeszcze spali ale ulice przeczesywali stranicy w poszukiwaniu ksiniczki Cynthii"
	push "City3"
	push ":cheti1"
	push "Trzymaj si blisko mnie Bari; Musimy unika stranikw"
	push "mstart"
	push ":woje1"
	push "Hej wy tam!!"
	push "City4"
	push ":cheti2"
	push "O rany zauwayli nas! Uciekamy na start!"
	push "City5"
	push ":cheti3"
	push "Nasz okrt jest pusty; Ale spjrz; Tam s jakie schody"
	push "mendcs"
	push ":bari1"
	push "Wchod pierwszy ja bd zabezpiecza tyy"
	push "mendcs"
	push ":cheti4"
	push "Czybymy dotarli do lepego zauka?"
	push "City7"
	push ":bari2"
	push "Gdzie tu musi by przejcie"
	push "mendcs"
	push ":cheti5"
	push "Stj! Widz stranikw za rogiem tego domu; Musimy ich omin"
	push "mendcs"
	push ":cheti6"
	push "Stranicy nas nie zauwayli; Idziemy dalej"
	push "mendcs"
	push ":cheti7"
	push "Wrota do wityni s zamknite; Moe tam poszukamy?"
	push "City8"
	push ":bari3"
	push "onierze przeszukuj wszystkie domy ale nikt nie szuka w wityni; Tylko jak przejdziemy przez te wielkie wrota?"
	push "mendcs"
	push ":bari4"
	push "Na Skarabeusza! Z dachu wityni wida cae miasto"
	push "City9"
	push ":cheti8"
	push "Cii; Sysz tam jakie gosy; Chodmy"
	push "mendcs"
	push ":cheti9"
	push "Jestem pewien e sysz gos Haseta; Wejdmy przez okno do tej wityni"
	push "City10"
	cthis sounds=
	call timrownaj,play
	push "standl"
	cthis mplay
	push "City12"
	call ccs,enter
	end method
	method City0
	push 15
	cthis setz
	cthis Button_std
	cthis getname
	call butpad,add
	end method
	method City1
	push "up"
	call keyboard,iskeydown
	cmp0
	jne l4126
	push "up"
	cthis mpushed
	jmp l4127
l4125:
	push 0
	jmp l4127
l4126:
	push 1
l4127:
	cmp0
	je l4128
	push "u"
	cthis mgo
	jmp l4124
l4128:
	push "left"
	call keyboard,iskeydown
	cmp0
	jne l4131
	push "left"
	cthis mpushed
	jmp l4132
l4130:
	push 0
	jmp l4132
l4131:
	push 1
l4132:
	cmp0
	je l4133
	push "l"
	cthis mgo
	jmp l4129
l4133:
	push "right"
	call keyboard,iskeydown
	cmp0
	jne l4136
	push "right"
	cthis mpushed
	jmp l4137
l4135:
	push 0
	jmp l4137
l4136:
	push 1
l4137:
	cmp0
	je l4138
	push "r"
	cthis mgo
	jmp l4134
l4138:
	push "down"
	call keyboard,iskeydown
	cmp0
	jne l4141
	push "down"
	cthis mpushed
	jmp l4142
l4140:
	push 0
	jmp l4142
l4141:
	push 1
l4142:
	cmp0
	je l4143
	push "d"
	cthis mgo
	jmp l4139
l4143:
	push "stand"
	call ancheti,actionname
	spushs
	push 0
	push 1
	spop $h
	call $h,gete
	pop $b
	popax
	add $a,$b
	cthis mplay
l4139:
l4134:
l4129:
l4124:
	end method
	method City2
	localdef $1
	push 3
	pop $1
	localdef $2
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	pop $2
	localdef $3
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	pop $3
	localdef $4
	push $1
	pop $4
	localdef $5
	push $1
	pop $5
	call ancheti,getposx
	push X1
	push $2
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4145
	push borx
	push $4
	pop $b
	popax
	add $a,$b
	push X1
	cmpjle
	cmp0
	je l4147
	push $4
	push 0
	cthis amov
l4147:
	jmp l4144
l4145:
	call ancheti,getposx
	push X2
	push $2
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l4149
	push borex
	push $4
	pop $b
	popax
	sub $a,$b
	push X2
	cmpjae
	cmp0
	je l4151
	push $4
	popax
	sub 0,$a
	push 0
	cthis amov
l4151:
l4149:
l4144:
	call ancheti,getposy
	push Y1
	push $3
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4153
	push bory
	push $5
	pop $b
	popax
	add $a,$b
	push Y1
	cmpjle
	cmp0
	je l4155
	push 0
	push $5
	cthis amov
l4155:
	jmp l4152
l4153:
	call ancheti,getposy
	push Y2
	push $3
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l4157
	push borey
	push $5
	pop $b
	popax
	sub $a,$b
	push Y2
	cmpjae
	cmp0
	je l4159
	push 0
	push $5
	popax
	sub 0,$a
	cthis amov
l4159:
l4157:
l4152:
	cthis play
	end method
	method City3
	push "cheti1"
	cthis cbplay
	end method
	method City4
	push "cheti2"
	cthis cbplay
	end method
	method City5
	push "City6"
	call ccs,close
	end method
	method City6
	push "City"
	call gameapi,play
	end method
	method City7
	push "bari2"
	cthis cbplay
	end method
	method City8
	push "bari3"
	cthis cbplay
	end method
	method City9
	push "cheti8"
	cthis cbplay
	end method
	method City10
	push "City11"
	call ccs,close
	end method
	method City11
	push "golden"
	cthis EgiptSave
	push "MK1"
	call gameapi,play
	end method
	method City12
	push "snd1"
	cthis cbplay
	end method
	method grptisin
	localint $1
	localint $2
	pop $2
	pop $1
	push iResX
	push 1024
	cmpja
	cmp0
	je l4161
	push $1
	push $2
	push 0
	push 1
	cthis isroundin
	jmp l4160
l4161:
	push $1
	push $2
	push 0
	push 1
	cthis isin
l4160:
	end method
	method butpad_lclick
	push 1
	pop butpadclicked
	end method
	method butpad_lrel
	push 0
	pop butpadclicked
	end method
	method mpushed
	localstring $1
	pop $1
	push butpadclicked
	cmp0
	je l4163
	call mouse,getpos
	push 1
	push 1
	call grpad,isin
	jmp l4165
l4163:
	push 0
	jmp l4165
l4164:
	push 1
l4165:
	cmp0
	je l4166
	call grpad,getsfound
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	jmp l4162
l4166:
	push 0
l4162:
	end method
	method mstart
	push 1
	pop igmstate
	end method
	method mend
	push "null"
	call ccs,close
	end method
	method mgo
	localstring $1
	pop $1
	localdef $2
	call ancheti,getposx
	pop $2
	localdef $3
	call ancheti,getposy
	pop $3
	localdef $4
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $4
	localdef $5
	push $4
	pop $5
	localdef $6
	push $4
	pop $6
	push $1
	spushs
	push "u"
	cmpst
	jne l4168
	spop $a
	push $6
	popax
	sub $3,$a
	pop $3
	push 0
	pop $5
	push $6
	popax
	sub 0,$a
	pop $6
	jmp l4167
l4168:
	push "l"
	cmpst
	jne l4169
	spop $a
	push $5
	popax
	sub $2,$a
	pop $2
	push $5
	popax
	sub 0,$a
	pop $5
	push 0
	pop $6
	jmp l4167
l4169:
	push "r"
	cmpst
	jne l4170
	spop $a
	push $5
	popax
	add $2,$a
	pop $2
	push 0
	pop $6
	jmp l4167
l4170:
	push "d"
	cmpst
	jne l4171
	spop $a
	push $6
	popax
	add $3,$a
	pop $3
	push 0
	pop $5
	jmp l4167
l4171:
	spop $a
l4167:
	localint $7
	push 0
	pop $7
	push $1
	pop sdir
	localstring $8
	push igmstate
	push 1
	cmpje
	cmp0
	je l4173
	push $2
	push $3
	push 0
	push 1
	call grups,isin
	cmp0
	je l4175
	call grups,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $8
	push $8
	cthis mcs
	push $8
	spushs
	push "woj"
	cmpst
	jne l4177
	spop $a
	push "woje1"
	jmp l4176
l4177:
	push "pomost"
	cmpst
	jne l4178
	spop $a
	push "cheti3"
	jmp l4176
l4178:
	push "schody1"
	cmpst
	jne l4179
	spop $a
	push "bari1"
	jmp l4176
l4179:
	push "nadach"
	cmpst
	jne l4180
	spop $a
	push "cheti4"
	jmp l4176
l4180:
	push "uwagawoj"
	cmpst
	jne l4181
	spop $a
	push "cheti5"
	jmp l4176
l4181:
	push "drabina"
	cmpst
	jne l4182
	spop $a
	push "cheti6"
	jmp l4176
l4182:
	push "wrota"
	cmpst
	jne l4183
	spop $a
	push "bari3"
	jmp l4176
l4183:
	push "swiatynia"
	cmpst
	jne l4184
	spop $a
	push "bari4"
	jmp l4176
l4184:
	push "end"
	cmpst
	jne l4185
	spop $a
	push "cheti9"
	jmp l4176
l4185:
	spop $a
l4176:
	pop $8
	push $8
	cthis cbplay
	jmp l4174
l4175:
	push $2
	push $3
	call grpt1,grptisin
	cmp0
	je l4187
	push 5
	cthis mz
	push $5
	push $6
	cthis mpos
	push 1
	pop $7
	jmp l4186
l4187:
	push $2
	push $3
	call grpt2,grptisin
	cmp0
	je l4189
	push 15
	cthis mz
	push $5
	push $6
	cthis mpos
	push 1
	pop $7
l4189:
l4186:
l4174:
l4173:
	push $7
	cmp0
	je l4191
	push "go"
	push $1
	pop $b
	popax
	add $a,$b
	jmp l4190
l4191:
	push "stand"
	push $1
	pop $b
	popax
	add $a,$b
l4190:
	cthis mplay
	end method
	method mcs
	localstring $1
	pop $1
	push $1
	push "woj"
	cmpjne
	cmp0
	je l4193
	push $1
	push "end"
	cmpjne
	jmp l4195
l4193:
	push 0
	jmp l4195
l4194:
	push 1
l4195:
	cmp0
	je l4196
	push "grtmp"
	push "bg"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push 400
	call grtmp,setz
	push X1
	push Y1
	call grtmp,move
	push 1
	popax
	sub 0,$a
	call grtmp,nplay
	call grups,getfound
	call grups,removeat
l4196:
	push 2
	pop igmstate
	end method
	method mendcs
	call grtmp,deleteallgm
	call grtmp,free
	push 1
	pop igmstate
	end method
	method amov
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call gral,move
	push $1
	push $2
	call ancheti,move
	push $1
	push $2
	call anbari,move
	push $1
	popax
	add borx,$a
	pop borx
	push $1
	popax
	add borex,$a
	pop borex
	push $2
	popax
	add bory,$a
	pop bory
	push $2
	popax
	add borey,$a
	pop borey
	end method
	method mplay
	localstring $1
	pop $1
	push $1
	call ancheti,isplaying
	neg
	cmp0
	je l4198
	push $1
	call ancheti,play
	push $1
	call anbari,play
l4198:
	end method
	method mz
	localint $1
	pop $1
	push $1
	call ancheti,setz
	push $1
	call anbari,setz
	end method
	method mpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ancheti,move
	localdef $3
	call ancheti,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 4
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $3
	localdef $4
	call ancheti,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 4
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	pop $4
	call ancheti,getposx
	pop $1
	call ancheti,getposy
	pop $2
	localdef $5
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $5
	push sdir
	spushs
	push "u"
	cmpst
	jne l4200
	spop $a
	push $1
	push $5
	pop $b
	popax
	sub $a,$b
	push $2
	push $4
	pop $b
	popax
	add $a,$b
	call anbari,setpos
	jmp l4199
l4200:
	push "r"
	cmpst
	jne l4201
	spop $a
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	push $2
	push $5
	pop $b
	popax
	sub $a,$b
	call anbari,setpos
	jmp l4199
l4201:
	push "d"
	cmpst
	jne l4202
	spop $a
	push $1
	push $5
	pop $b
	popax
	add $a,$b
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	call anbari,setpos
	jmp l4199
l4202:
	push "l"
	cmpst
	jne l4203
	spop $a
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	call anbari,setpos
	jmp l4199
l4203:
	spop $a
l4199:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4205
	push 1
	cthis cactsndstop
l4205:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4207
	push "sndend"
	cthis cbplay
l4207:
	end method
	end game

	game MK1
	parent DziejeGame
	method init
	push "mk1"
	clparent DziejeGame,init
	push "mk"
	cthis path=
	cthis gamebg
	push A
	push "bg1.pyz"
	push "chlopy1.pyz 10"
	push "cynthia1.pyz 10"
	push "straz1.pyz 10"
	push "straz2.pyz 10"
	push "haset1.pyz 10"
	cthis imgs=
	push "onfinish"
	push "MK10"
	call anhaset1,addmethod
	push A
	push ":cyn1"
	push "Uwolnij mnie otrze a daruj ci ycie"
	push "MK11"
	push ":haset1"
	push "Nie rozmieszaj mnie Cynthio; Nikt nie wie e to ja ci porwaem a caa wina posza na Chetiego; Ha ha jaka sodka jest zemsta"
	push "MK12"
	push ":cyn2"
	push "Och zapacisz za to! Nie doceniasz Chetiego on przyjdzie mnie uwolni"
	push "MK13"
	push ":haset2"
	push "Ten chopta? Raz udao mu si mnie wykiwa ale tym razem bdzie musia sobie poradzi z krokodylami; achacha"
	push "MK14"
	push ":cheti1"
	push "Oby si nie zdziwi wieprzu!"
	push "MK16"
	push ":cyn3"
	push "Cheti!!"
	push "MK18"
	push ":cheti2"
	push "Id po ciebie Cynthio"
	push "MK110"
	push ":haset3"
	push "Bra go! Tym razem si nie wywinie! Zrbcie z niego papirus!"
	push "MK112"
	cthis sounds=
	push "MK114"
	call ccs,enter
	end method
	method MK10
	cthis actionname
	spushs
	push "talk"
	cmpst
	je l4210
	push "krzycz"
	cmpst
	je l4210
	jmp l4209
l4210:
	spop $a
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l4208
l4209:
	push "patrz"
	cmpst
	jne l4211
	spop $a
	push "krzycz"
	call anhaset1,play
	push "haset3"
	cthis cbplay
	push 1
	call anstraz1,play
	push 1
	call anstraz2,play
	jmp l4208
l4211:
	spop $a
l4208:
	end method
	method MK11
	push "haset1"
	cthis hasplay
	end method
	method MK12
	cthis hastop
	push "cyn2"
	cthis cbplay
	end method
	method MK13
	push "haset2"
	cthis hasplay
	end method
	method MK14
	push GAME
	spushs
	spop $a
	call [$a],MK15
	end method
	method MK15
	push "cheti1"
	cthis cbplay
	cthis hastop
	push A
	push "cheti21.pyz 100"
	push "cheti31.pyz 110"
	cthis imgs=
	end method
	method MK16
	push GAME
	spushs
	spop $a
	call [$a],MK17
	end method
	method MK17
	delete ancheti31
	push "cynthia21.pyz 120"
	cthis img=
	call ancynthia21,advclip
	push "cyn3"
	cthis cbplay
	end method
	method MK18
	push GAME
	spushs
	spop $a
	call [$a],MK19
	end method
	method MK19
	delete ancynthia21
	push "cheti2"
	cthis cbplay
	end method
	method MK110
	push GAME
	spushs
	spop $a
	call [$a],MK111
	end method
	method MK111
	delete ancheti21
	push "patrz"
	call anhaset1,play
	end method
	method MK112
	cthis hastop
	push "MK113"
	call ccs,close
	end method
	method MK113
	push "MK2"
	call gameapi,play
	end method
	method MK114
	push "cyn1"
	cthis cbplay
	end method
	method hastop
	push "talk"
	call anhaset1,isplaying
	cmp0
	je l4213
	push "stand"
	call anhaset1,play
	jmp l4212
l4213:
	push "standup"
	call anhaset1,play
l4212:
	end method
	method hasplay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhaset1,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4215
	push 1
	cthis cactsndstop
l4215:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4217
	push "sndend"
	cthis cbplay
l4217:
	end method
	end game

	class mklive
	method init
	localstring $1
	pop $1
	new img,im1
	push 150
	call im1,setz
	push 100
	spushs
	spop $h
	call $h,igetsc
	push 6
	spushs
	spop $h
	call $h,igetsc1
	cthis red
	push 192
	call im1,create
	new string,san
	push $1
	pop san
	new img,im2
	push 96
	spushs
	spop $h
	call $h,igetsc
	push 4
	spushs
	spop $h
	call $h,igetsc1
	cthis green
	push 255
	call im2,create
	push 160
	call im2,setz
	new int,damage
	push 0
	pop damage
	push san
	spushs
	push "mklive"
	cthis getname
	spop $a
	call [$a],var2
	end method
	method update
	push san
	spushs
	spop $a
	call [$a],getposx
	call im1,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push san
	spushs
	spop $a
	call [$a],getposy
	push 250
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call im1,setpos
	call im1,getpx
	push 2
	spushs
	spop $h
	call $h,igetsc1
	pop $b
	popax
	add $a,$b
	call im1,getpy
	push 1
	pop $b
	popax
	add $a,$b
	call im2,setpos
	push damage
	popax
	sub 0,$a
	push 0
	call im2,move
	call im1,getpx
	push 2
	spushs
	spop $h
	call $h,igetsc1
	pop $b
	popax
	add $a,$b
	push 0
	call im1,getex
	push 2
	spushs
	spop $h
	call $h,igetsc1
	pop $b
	popax
	sub $a,$b
	push iResY
	call im2,clip
	end method
	method lup
	localint $1
	pop $1
	push $1
	popax
	add damage,$a
	pop damage
	cthis update
	push damage
	call im2,getw
	cmpjae
	end method
	method refresh
	push damage
	popax
	sub 0,$a
	cthis lup
	popax
	end method
	method end
	call im1,hide
	call im2,hide
	end method
	end class

	game MK2
	parent DziejeGame
	method init
	push "mk2"
	clparent DziejeGame,init
	push "mk"
	cthis path=
	cthis gamebg
	push A
	push "bg1.pyz"
	push "woj1.pyzL 50"
	push "woj2.pyz 70"
	push "bari3.pyzP 5"
	push "haset3.pyzP 5"
	push "cheti3.pyz 60"
	push "cyn3P.pyz 5"
	push "klawisze.pyz 10"
	cthis imgs=
	cthis minitpos
	new Button,butpad
	new gmimgvec,grpad
	new int,butpadclicked
	push 0
	pop butpadclicked
	push "grpad"
	push "klaw2.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "MK20"
	call grpad,eval
	push igmipad
	neg
	cmp0
	je l4219
	call grpad,hide
l4219:
	push "cntbum"
	push "bums"
	push "bum.pyz"
	push 200
	push 10
	cthis newancounterh
	push A
	push "zbijaszklo 50"
	push "wyrzut 50"
	push "zwiewa 50"
	push "au1 30"
	push "au2 30"
	cthis sfxs=
	new classsndbank,bbum
	push "sfx/cios"
	push 1
	push 3
	push 0
	push 1
	call bbum,load
	push 40
	call bbum,setvol
	push "hit"
	push "bum"
	call anwoj1,ansetsframe
	push "hit"
	push "bum"
	call anwoj2,ansetsframe
	push "hit"
	push "bum"
	call ancheti3,ansetsframe
	localint $1
	localint $2
	push "anwoj1"
	clparent classansearcher,firstnotrexy1
	pop $2
	pop $1
	push A
	push "ihit"
	push 230
	spushs
	spop $h
	call $h,igetsc
	push "borl"
	push 360
	spushs
	spop $h
	call $h,igetsc
	push "borr"
	push 618
	spushs
	spop $h
	call $h,igetsc
	push "dir"
	push "r"
	push "speed"
	push 8
	spushs
	spop $h
	call $h,igetsc
	push "wojx"
	push $1
	call anwoj1,getpx
	pop $b
	popax
	sub $a,$b
	push "wojy"
	push $2
	call anwoj1,getpy
	pop $b
	popax
	sub $a,$b
	call anwoj1,vars2
	push "anwoj2"
	clparent classansearcher,firstnotrexy1
	pop $2
	pop $1
	push A
	push "ihit"
	push 296
	spushs
	spop $h
	call $h,igetsc
	push "borl"
	push 243
	spushs
	spop $h
	call $h,igetsc
	push "borr"
	push 618
	spushs
	spop $h
	call $h,igetsc
	push "dir"
	push "r"
	push "speed"
	push 7
	spushs
	spop $h
	call $h,igetsc
	push "wojx"
	push $1
	call anwoj2,getpx
	pop $b
	popax
	sub $a,$b
	push "wojy"
	push $2
	call anwoj2,getpy
	pop $b
	popax
	sub $a,$b
	call anwoj2,vars2
	push "ancheti3"
	clparent classansearcher,firstnotrxy1
	pop $2
	pop $1
	push A
	push "ihit"
	push 112
	spushs
	spop $h
	call $h,igetsc
	push "borl"
	push 529
	spushs
	spop $h
	call $h,igetsc
	push "borr"
	push 793
	spushs
	spop $h
	call $h,igetsc
	push "dir"
	push "l"
	push "speed"
	push 9
	spushs
	spop $h
	call $h,igetsc
	push "wojx"
	push $1
	call ancheti3,getpx
	pop $b
	popax
	sub $a,$b
	push "wojy"
	push $2
	call ancheti3,getpy
	pop $b
	popax
	sub $a,$b
	call ancheti3,vars2
	push "kick"
	push "bum"
	call ancheti3,ansetsframe
	push "ancheti3"
	clparent classansearcher,firstnotrxy1
	pop $2
	pop $1
	push A
	push "kickx"
	push $1
	call ancheti3,getpx
	pop $b
	popax
	sub $a,$b
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push "kicky"
	push $2
	call ancheti3,getpy
	pop $b
	popax
	sub $a,$b
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	call ancheti3,vars2
	push "onfinish"
	push "finwoj"
	call anwoj1,addmethod
	push "onfinish"
	push "finwoj"
	call anwoj2,addmethod
	push "onendframe"
	push "framewoj"
	call anwoj1,addmethod
	push "onendframe"
	push "framewoj"
	call anwoj2,addmethod
	new gmimgvec,grwoj
	push "anwoj1"
	call grwoj,add
	push "anwoj2"
	call grwoj,add
	push "stand"
	call anwoj2,play
	push "stand"
	call anwoj1,play
	push "onfinish"
	push "chetiend"
	call ancheti3,addmethod
	push "onendframe"
	push "framecheti"
	call ancheti3,addmethod
	push "stand"
	call ancheti3,play
	push "anwoj1"
	new mklive,mkw1
	push "anwoj2"
	new mklive,mkw2
	push "ancheti3"
	new mklive,mkch
	push A
	push ":bari1"
	push "Trzymaj si Cheti zaraz ci pomog!"
	push "MK21"
	push ":bari2"
	push "Hurra! Zwyciylimy!"
	push "MK27"
	cthis sounds=
	push 1
	pop igmstate
	end method
	method MK20
	push 15
	cthis setz
	cthis Button_std
	cthis getname
	call butpad,add
	end method
	method MK21
	push 1
	push "MK22"
	call anbari3,anplayfin
	end method
	method MK22
	push GAME
	spushs
	spop $a
	call [$a],MK23
	end method
	method MK23
	push A
	push "bgrzut.pyz 400"
	push "rzut.pyz 410"
	push "wazon.pyzH 420"
	push "maska3.pyz"
	push "bari4.pyz 5"
	cthis imgs=
	cthis minitpos
	call fxwyrzut,playloop
	push 0
	push "MK24"
	call anrzut,anplayfin
	end method
	method MK24
	push GAME
	spushs
	spop $a
	call [$a],MK25
	end method
	method MK25
	delete anbgrzut
	delete anbari3
	call anrzut,hide
	push "onendframe"
	push "MK26"
	call anwazon,addmethod
	push 0
	call anwazon,play
	end method
	method MK26
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l4221
	push 4
	pop igmstate
	push 0
	call fxwyrzut,stop
	call fxzbijaszklo,play
	push "bum"
	call anwoj1,play
	push "bum"
	call anwoj2,play
l4221:
	end method
	method MK27
	push "MK28"
	call ccs,close
	end method
	method MK28
	push "MK3"
	call gameapi,play
	end method
	method minitpos
	push 382
	spushs
	spop $h
	call $h,igetsc
	push 612
	spushs
	spop $h
	call $h,igetsc
	call anwoj1,setpos
	push 273
	spushs
	spop $h
	call $h,igetsc
	push 638
	spushs
	spop $h
	call $h,igetsc
	call anwoj2,setpos
	push 781
	spushs
	spop $h
	call $h,igetsc
	push 621
	spushs
	spop $h
	call $h,igetsc
	call ancheti3,setpos
	end method
	method butpad_lclick
	push 1
	pop butpadclicked
	end method
	method butpad_lrel
	push 0
	pop butpadclicked
	end method
	method mpushed
	localstring $1
	pop $1
	push butpadclicked
	cmp0
	je l4223
	call mouse,getpos
	push 1
	push 1
	call grpad,isin
	jmp l4225
l4223:
	push 0
	jmp l4225
l4224:
	push 1
l4225:
	cmp0
	je l4226
	call grpad,getsfound
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	jmp l4222
l4226:
	push 0
l4222:
	end method
	method chetiend
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4228
	push "stand"
	cthis play
	ret
l4228:
	push "z"
	call keyboard,iskeydown
	cmp0
	jne l4231
	push "punch"
	cthis mpushed
	jmp l4232
l4230:
	push 0
	jmp l4232
l4231:
	push 1
l4232:
	cmp0
	je l4233
	push "hit"
	cthis play
	jmp l4229
l4233:
	push "x"
	call keyboard,iskeydown
	cmp0
	jne l4236
	push "kick"
	cthis mpushed
	jmp l4237
l4235:
	push 0
	jmp l4237
l4236:
	push 1
l4237:
	cmp0
	je l4238
	push "kick"
	cthis play
	jmp l4234
l4238:
	push "left"
	call keyboard,iskeydown
	cmp0
	jne l4241
	push "left"
	cthis mpushed
	jmp l4242
l4240:
	push 0
	jmp l4242
l4241:
	push 1
l4242:
	cmp0
	je l4243
	push "l"
	cthis mgo
	jmp l4239
l4243:
	push "right"
	call keyboard,iskeydown
	cmp0
	jne l4246
	push "right"
	cthis mpushed
	jmp l4247
l4245:
	push 0
	jmp l4247
l4246:
	push 1
l4247:
	cmp0
	je l4248
	push "r"
	cthis mgo
	jmp l4244
l4248:
	push "stand"
	cthis play
l4244:
l4239:
l4234:
l4229:
	end method
	method chetister
	push "stand"
	cthis isplaying
	cmp0
	je l4250
	cthis chetiend
l4250:
	end method
	method fromcheti
	call ancheti3,getposx
	cthis getposx
	pop $b
	popax
	sub $a,$b
	end method
	method finwoj
	push igmstate
	push 3
	cmpje
	cmp0
	je l4252
	push "stand"
	cthis play
	ret
	jmp l4251
l4252:
	push igmstate
	push 4
	cmpje
	cmp0
	je l4254
	cthis getname
	push "anwoj2"
	cmpje
	cmp0
	je l4256
	cthis hide
	push "bari2"
	cthis cbplay
	push 0
	call anbari4,play
l4256:
	ret
l4254:
l4251:
	localdef $1
	cthis fromcheti
	pop $1
	localdef $2
	push ihit
	call ancheti3,ihit
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	push $2
	cmpjl
	cmp0
	je l4258
	localdef $3
	push 4
	spushs
	spop $h
	call $h,rand
	pop $3
	push $3
	push 0
	cmpje
	cmp0
	je l4260
	push "l"
	cthis mgo
	jmp l4259
l4260:
	push $3
	push 1
	cmpje
	cmp0
	je l4262
	push "unik"
	cthis play
	jmp l4261
l4262:
	push "hit"
	cthis play
l4261:
l4259:
	jmp l4257
l4258:
	push $1
	push $2
	push 50
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	cmpjle
	cmp0
	je l4264
	push 3
	spushs
	spop $h
	call $h,rand
	cmp0
	je l4266
	push "hit"
	cthis play
	jmp l4265
l4266:
	push "l"
	cthis mgo
l4265:
	jmp l4263
l4264:
	push 2
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l4268
	push "r"
	cthis mgo
	jmp l4267
l4268:
	push "stand"
	cthis play
l4267:
l4263:
l4257:
	end method
	method mgo
	localstring $1
	pop $1
	push $1
	pop dir
	push "go"
	cthis play
	end method
	method framewoj
	localdef $1
	push mklive
	spushs
	spop $a
	call [$a],update
	push "go"
	cthis isplaying
	cmp0
	je l4270
	push dir
	push "l"
	cmpje
	cmp0
	je l4272
	cthis getposx
	push borl
	cmpja
	cmp0
	je l4274
	push speed
	popax
	sub 0,$a
	push 0
	cthis move
l4274:
	jmp l4271
l4272:
	cthis getposx
	push borr
	cmpjl
	cmp0
	je l4276
	push speed
	push 0
	cthis move
l4276:
l4271:
	jmp l4269
l4270:
	push "hit"
	cthis isplaying
	cmp0
	je l4278
	cthis framename
	push "bum"
	cmpje
	jmp l4280
l4278:
	push 0
	jmp l4280
l4279:
	push 1
l4280:
	cmp0
	je l4281
	localdef $2
	cthis getpx
	push wojx
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	cthis getpy
	push wojy
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	push $3
	push 1
	push 1
	call ancheti3,isin
	cmp0
	je l4283
	call cntbum,get
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 0
	spop $a
	call [$a],play
	call bbum,play
	push "ups"
	call ancheti3,play
	push 12
	call ancheti3,damage
	call mkch,lup
	cmp0
	je l4285
	push 2
	pop igmstate
	push 0
	call ancheti3,stop
	push 0
	call anwoj1,stop
	push 0
	call anwoj2,stop
	push "MK29"
	push "MK210"
	call ccs,playfin
l4285:
l4283:
l4281:
l4269:
	end method
	method MK29
	call mkch,refresh
	call mkw1,refresh
	call mkw2,refresh
	call anwoj1,borl
	call anwoj1,getposy
	call anwoj1,setpos
	call anwoj2,borl
	call anwoj2,getposy
	call anwoj2,setpos
	call ancheti3,borr
	call ancheti3,getposy
	call ancheti3,setpos
	push "stand"
	call ancheti3,play
	push "stand"
	call anwoj1,play
	push "stand"
	call anwoj2,play
	end method
	method MK210
	push 1
	pop igmstate
	end method
	method framecheti
	localdef $1
	push mklive
	spushs
	spop $a
	call [$a],update
	push "go"
	cthis isplaying
	cmp0
	je l4287
	push dir
	push "l"
	cmpje
	cmp0
	je l4289
	cthis getposx
	push borl
	cmpja
	cmp0
	je l4291
	push speed
	popax
	sub 0,$a
	push 0
	cthis move
l4291:
	jmp l4288
l4289:
	cthis getposx
	push borr
	cmpjl
	cmp0
	je l4293
	push speed
	push 0
	cthis move
l4293:
l4288:
	jmp l4286
l4287:
	push "hit"
	cthis isplaying
	cmp0
	je l4295
	cthis framename
	push "bum"
	cmpje
	jmp l4297
l4295:
	push 0
	jmp l4297
l4296:
	push 1
l4297:
	cmp0
	je l4298
	localdef $2
	cthis getpx
	push wojx
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	cthis getpy
	push wojy
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	push $3
	push 1
	push 1
	call grwoj,isin
	cmp0
	je l4300
	localdef $4
	call grwoj,getsfound
	pop $4
	push "fxau"
	call grwoj,getfound
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],playif
	call cntbum,get
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 0
	spop $a
	call [$a],play
	call bbum,play
	push $4
	push 10
	cthis mdamage
l4300:
	jmp l4294
l4298:
	push "kick"
	cthis isplaying
	cmp0
	je l4302
	cthis framename
	push "bum"
	cmpje
	jmp l4304
l4302:
	push 0
	jmp l4304
l4303:
	push 1
l4304:
	cmp0
	je l4305
	localdef $2
	cthis getpx
	push wojx
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	cthis getpy
	push wojy
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	push $3
	push 1
	push 1
	call grwoj,isin
	cmp0
	je l4307
	localdef $4
	call grwoj,getsfound
	pop $4
	push "fxau"
	call grwoj,getfound
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],playif
	call cntbum,get
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 0
	spop $a
	call [$a],play
	call bbum,play
	push $4
	push 20
	cthis mdamage
l4307:
l4305:
l4294:
l4286:
	end method
	method mdamage
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	spushs
	spop $h
	call $h,igetsc1
	pop $2
	push $1
	spushs
	push "ups"
	spop $a
	call [$a],play
	localstring $3
	push $1
	spushs
	spop $a
	call [$a],mklive
	pop $3
	push $3
	spushs
	push $2
	spop $a
	call [$a],damage
	push $3
	spushs
	spop $a
	call [$a],lup
	cmp0
	je l4309
	push 3
	pop igmstate
	push 0
	call ancheti3,stop
	push 0
	call anwoj1,stop
	push 0
	call anwoj2,stop
	push "stand"
	call anwoj1,play
	push "stand"
	call anwoj2,play
	push "stand"
	call ancheti3,play
	call mkw1,end
	call mkw2,end
	call mkch,end
	push "bari1"
	cthis cbplay
l4309:
	end method
	method keyboard_keydown
	push igmstate
	push 1
	cmpje
	cmp0
	je l4311
	call ancheti3,chetister
l4311:
	end method
	end game

	game MK3
	parent DziejeGame
	method init
	push "mk3"
	clparent DziejeGame,init
	push "mk"
	cthis path=
	cthis gamebg
	push A
	push "bg5.pyz"
	push "bari5P.pyz 5"
	push "cheti5.pyz 5"
	push "cynthia5.pyz 5"
	push "haset5.pyz 5"
	cthis imgs=
	push A
	push ":haset1"
	push "Cheti; Wybacz! Nie mam nic na swoje usprawiedliwienie; Nie pozwl rzuci mnie krokodylom na poarcie; buu"
	push "MK30"
	push ":cheti1"
	push "Masz szczcie Hasecie e ksiniczka Cynthia nie jest mciwa; Ale twoja kariera w Egipcie si skoczya"
	push "MK31"
	push ":cheti2"
	push "Masz 5 obrotw klepsydry eby znikn z Egiptu inaczej skoczysz jako przynta w Nilu"
	push "MK32"
	cthis sounds=
	push "MK34"
	call ccs,enter
	end method
	method MK30
	push "cheti1"
	cthis cbplay
	push 1
	call anhaset5,play
	push 0
	call ancheti5,play
	end method
	method MK31
	push "cheti2"
	cthis cbplay
	push 1
	call ancheti5,play
	end method
	method MK32
	push "MK33"
	call ccs,close
	end method
	method MK33
	push "MK4"
	call gameapi,play
	end method
	method MK34
	push 0
	call anhaset5,play
	push "haset1"
	cthis cbplay
	end method
	end game

	game MK4
	parent DziejeGame
	method init
	push "mk4"
	clparent DziejeGame,init
	push "mk"
	cthis path=
	cthis gamebg
	push A
	push "bg6.pyz"
	push "ptak6.pyz 5"
	push "ship6.pyz 10"
	cthis imgs=
	call anbg6,advclip
	call anptak6,advclip
	call anship6,advclip
	push X2
	call anbg6,getw
	pop $b
	popax
	sub $a,$b
	push Y1
	call anbg6,ansetbpos
	push X1
	push Y1
	call anship6,ansetbpos
	push X1
	call anptak6,getw
	pop $b
	popax
	sub $a,$b
	push Y1
	push 60
	pop $b
	popax
	add $a,$b
	call anptak6,ansetbpos
	new int,ikoniec
	push 0
	pop ikoniec
	push A
	push "snd1"
	push "Jeszcze tego samego wieczora Haset zbieg z Egiptu do Fenicji; Wkrtce i stamtd musia ucieka kiedy okazao si e zaoony przez niego bank poycza podrabiane zoto; Ale to ju temat na inn opowie"
	push "mcheckend"
	cthis sounds=
	push 1
	pop igmstate
	push "MK40"
	call ccs,enter
	end method
	method MK40
	push "snd1"
	cthis cbplay
	push 0
	call anptak6,play
	push "timcyk"
	push "MK41"
	cthis cycle=
	call timcyk,play
	end method
	method MK41
	push igmstate
	spushs
	push 1
	cmpst
	jne l4313
	spop $a
	push 1
	push 0
	call anbg6,move
	push 2
	push 0
	call anptak6,move
	call anbg6,getpx
	push X1
	cmpje
	cmp0
	je l4315
	push 2
	pop igmstate
l4315:
	jmp l4312
l4313:
	push 2
	cmpst
	jne l4316
	spop $a
	push 1
	popax
	sub 0,$a
	push 0
	call anship6,move
	push 1
	push 0
	call anptak6,move
	call anship6,getex
	push X1
	cmpjl
	cmp0
	je l4318
	push 3
	pop igmstate
l4318:
	jmp l4312
l4316:
	push 3
	cmpst
	jne l4319
	spop $a
	cthis mcheckend
	jmp l4312
l4319:
	spop $a
l4312:
	cthis play
	end method
	method mcheckend
	add ikoniec,1
	pop ikoniec
	push ikoniec
	push 2
	cmpje
	cmp0
	je l4321
	push "MK42"
	call ccs,close
l4321:
	end method
	method MK42
	push "CSend1"
	call gameapi,play
	end method
	end game

	game CSend1
	parent DziejeGame
	method init
	push "csend"
	clparent DziejeGame,init
	cthis gamebg
	push "bg1.pyz"
	cthis img=
	push A
	push "snd1"
	push "Faraon by tak szczliwy e Cheti uratowa jego ukochan crk e pozwoli im si pobra; Cheti zosta te ksiciem jednej z prowincji"
	push "CSend10"
	push "snd2"
	push "Pod panowaniem Chetiego i Cynthii prowincja szybko rozkwitaa; Ludzie si bogacili budowali paace witynie i piramidy; A ja codziennie dreptaem do szkoy"
	push "mend2"
	push "snd3"
	push "Pilnie uczyem si hieroglifw; Postanowiem zosta kronikarzem i latami wiczyem sztuk pisania"
	push "CSend14"
	push "snd4"
	push "Cheti z Cynthi bardzo si kochali do koca ziemskiego ycia; Byli moimi najlepszymi przyjacimi"
	push "CSend16"
	push "snd5"
	push "Teraz poczyli si na wieki a ja niedugo do nich docz; Najpierw jednak ukocz dom dla ich ziemskich cia"
	push "CSend18"
	push "snd6"
	push "Ostatnie obrazy wiecz dzieo mojego ycia; Oto ja Bari uwolniony przez Chetiego dzikuj mu za przyja i wyksztacenie; Niech moje obrazy towarzysz jemu i Cynthii na wieczno; egnajcie najdrosi"
	push "CSend111"
	push ":prof1"
	push "Wspaniaa historia; Witaj pikna Cynthio witaj dzielny Cheti witaj utalentowany Bari; Jestem szczliwy e was poznaem"
	push "CSend112"
	cthis sounds=
	push "CSend116"
	call ccs,enter
	end method
	method CSend10
	push GAME
	spushs
	spop $a
	call [$a],CSend11
	end method
	method CSend11
	delete anbg1
	new gmimgvec,grel2
	push "grel2"
	push "bg2.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grel2,hide
	call grel2,first
	spushs
	spop $a
	call [$a],show
	push "bari2.pyzP"
	cthis img=
	push X1
	push Y2
	call anbari2,setpos
	call anbari2,advclip
	push "onendframe"
	push "CSend12"
	call anbari2,addmethod
	new int,idtim2
	push 1
	pop idtim2
	new int,iend2
	push 0
	pop iend2
	push "tim2"
	push 500
	push "CSend13"
	cthis timer=
	call tim2,play
	push "snd2"
	cthis cbplay
	end method
	method CSend12
	push 10
	push 0
	cthis move
	end method
	method CSend13
	push idtim2
	call grel2,get
	spushs
	spop $a
	call [$a],show
	add idtim2,1
	pop idtim2
	push idtim2
	call grel2,size
	cmpjl
	cmp0
	je l4323
	cthis play
	jmp l4322
l4323:
	cthis mend2
l4322:
	end method
	method CSend14
	push GAME
	spushs
	spop $a
	call [$a],CSend15
	end method
	method CSend15
	delete anbg3
	delete anbari3
	push A
	push "bg4.pyz"
	push "bari4P.pyz 5"
	cthis imgs=
	push "snd4"
	cthis cbplay
	end method
	method CSend16
	push GAME
	spushs
	spop $a
	call [$a],CSend17
	end method
	method CSend17
	delete anbg4
	delete anbari4
	push A
	push "bg5.pyz"
	push "bari5P.pyz 5"
	cthis imgs=
	push "snd5"
	cthis cbplay
	end method
	method CSend18
	push GAME
	spushs
	spop $a
	call [$a],CSend19
	end method
	method CSend19
	delete anbg5
	delete anbari5
	push A
	push "bg6.pyz"
	push "bari6P.pyz 5"
	push "prof6H.pyz 5"
	cthis imgs=
	push "snd6"
	cthis cbplay
	new filter,ftbari
	new filter,ftprof
	push "anbari6"
	call ftbari,link
	push "anprof6"
	call ftprof,link
	push "tim6"
	push 600
	push "CSend110"
	cthis timer=
	end method
	method CSend110
	localdef $1
	call ftbari,getopacity
	push 50
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l4325
	push 255
	push $1
	pop $b
	popax
	sub $a,$b
	call ftprof,setopacity
	push $1
	call ftbari,setopacity
	cthis play
	jmp l4324
l4325:
	push 0
	call anbari6,stop
	call anbari6,hide
	push 255
	call ftprof,setopacity
	call ftprof,unlink
	call ftbari,unlink
	push "prof1"
	cthis cbplay
l4324:
	end method
	method CSend111
	call tim6,play
	push 0
	call ftprof,setopacity
	call anprof6,show
	end method
	method CSend112
	push "CSend113"
	call ccs,close
	end method
	method CSend113
	call ccs,show
	new string,sfont
	push 64
	cthis stdfont
	pop sfont
	push "dbend"
	push "end"
	cthis lang_db
	push "txtend"
	push 0
	push 0
	call dbend,get
	push sfont
	cthis white
	cthis newtext
	call ccs,getz
	push 1
	pop $b
	popax
	add $a,$b
	call txtend,setz
	push iResX
	call txtend,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	call txtend,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call txtend,setpos
	new int,igrey
	push 255
	pop igrey
	push "tim7"
	push "CSend114"
	cthis cycle=
	push "tim72"
	push 3000
	push "CSend115"
	cthis timer=
	call tim72,play
	end method
	method CSend114
	push 5
	popax
	sub igrey,$a
	pop igrey
	push igrey
	push 0
	cmpjae
	cmp0
	je l4327
	push igrey
	cthis grey
	call txtend,createtxt
	cthis play
	jmp l4326
l4327:
	cthis mkoniec
l4326:
	end method
	method CSend115
	call tim7,play
	end method
	method CSend116
	push "snd1"
	cthis cbplay
	end method
	method mend2
	push GAME
	spushs
	spop $a
	call [$a],CSend117
	end method
	method CSend117
	add iend2,1
	pop iend2
	push iend2
	push 2
	cmpje
	cmp0
	je l4329
	delete anbari2
	call grel2,deleteallgm
	delete grel2
	push A
	push "bg3.pyz"
	push "bari3.pyzP 5"
	cthis imgs=
	push "snd3"
	cthis cbplay
l4329:
	end method
	method mkoniec
	call ccs,hide
	push "MenuBaj"
	call gameapi,play
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4331
	cthis mend2
l4331:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4333
	push 1
	cthis cactsndstop
l4333:
	end method
	end game

	new string,QuizMode
	push "t"
	pop QuizMode
	game Quiz
	parent DziejeGame
	method init
	push "quiz"
	clparent DziejeGame,init
	push "quizy.db"
	new classfullsave,csav
	call csav,stdload
	push A
	push "sndl1"
	push "ktry obrazek przedstawia pieczywo wypiekane w Egipcie?"
	push "mgo"
	push "sndl2"
	push "wska gowic egipskiej kolumny"
	push "mgo"
	push "sndl3"
	push "jaka broni posugiwa si egipski ucznik?"
	push "mgo"
	push "sndl4"
	push "wska insygnia krlewskie faraona"
	push "mgo"
	push "sndl5"
	push "podobizny ktrych zwierzt widzisz na koronie faraona?"
	push "mgo"
	push "sndl6"
	push "ktr koron faraon nosi podczas bitwy?"
	push "mgo"
	push "sndl7"
	push "ktry obrazek przedstawia kontynent afrykaski?"
	push "mgo"
	push "sndl8"
	push "podobizn ktrego zwierzcia mona rozpozna na widocznym stole ceremonialnym?"
	push "mgo"
	push "sndl9"
	push "ktre rzeczy widoczne na obrazkach wytwarzano z lnu?"
	push "mgo"
	push "sndl10"
	push "wska rydwan egipski"
	push "mgo"
	push "sndl11"
	push "wska rydwan egipski"
	push "mgo"
	push "sndl12"
	push "Ktre narzdzie zastpowao egipcjanom wspczesn wiertark elektyczn?"
	push "mgo"
	push "sndl13"
	push "Poka wiertark do robienia duych otworw w kamieniu"
	push "mgo"
	push "sndl14"
	push "Ktre narzdzia zastpiy egipsk pi?"
	push "mgo"
	push "sndl15"
	push "ktre narzdzia zastpiy egipsk pi?"
	push "mgo"
	push "sndl16"
	push "ktre zwierzta egipcjanie wpuszczali do fosy?"
	push "mgo"
	push "sndl17"
	push "wska mumi"
	push "mgo"
	push "sndl18"
	push "do ktrego zwierzcia naley czaszka widoczna na obrazku?"
	push "mgo"
	push "sndl19"
	push "Ktre zwierz zastpowao egipcjanom wspczesny cignik?"
	push "mgo"
	push "sndl20"
	push "Ktre zwierz zastpowao egipcjanom wspczesnyy cignik?"
	push "mgo"
	push "sndl21"
	push "Ktra figura geometryczna podobna jest do piramidy?"
	push "mgo"
	push "sndl22"
	push "wska egipski wachlarz"
	push "mgo"
	push "sndl23"
	push "wska egipsk fryzur"
	push "mgo"
	push "sndl24"
	push "wska egipski statek"
	push "mgo"
	push "sndl25"
	push "wska obelisk"
	push "mgo"
	push "sndl26"
	push "wska piramid"
	push "mgo"
	push "sndl27"
	push "wska wityni"
	push "mgo"
	push "sndl28"
	push "wskaz egipskiego ucznika"
	push "mgo"
	push "sndl29"
	push "wska lektyk egipsk"
	push "mgo"
	push "sndl30"
	push "wska egipsk biuteri"
	push "mgo"
	push "sndl31"
	push "wska egipskie ubranie"
	push "mgo"
	push "sndl32"
	push "wskaz egipski wachlarz"
	push "mgo"
	push "sndl33"
	push "wska egipsk fryzur"
	push "mgo"
	push "sndl34"
	push "wska szkielet kota"
	push "mgo"
	push "snds1"
	push "wskaz egipski sposb zapisywania liczb"
	push "mgo"
	push "snds2"
	push "wskaz egipski sposb liczenia"
	push "mgo"
	push "snds3"
	push "ktre zwierz byo czczone w egipcie?"
	push "mgo"
	push "snds4"
	push "wska posg nefretete"
	push "mgo"
	push "snds5"
	push "wsaka posta o ciele lwa i czowieka"
	push "mgo"
	push "snds6"
	push "wsaka posta o ciele lwa i czowieka"
	push "mgo"
	push "snds7"
	push "wskaz nemes"
	push "mgo"
	push "snds8"
	push "wskaz egipskie nakrycie gowy krla"
	push "mgo"
	push "snds9"
	push "wskaz egipskie nakrycie gowy krla"
	push "mgo"
	push "snds10"
	push "jak dugo ma klawiatura komputera wg egipskich miar dugoci?"
	push "mgo"
	push "snds11"
	push "wska gowic egipskiej kolumny"
	push "mgo"
	push "snds12"
	push "wska gowic egipskiej kolumny"
	push "mgo"
	push "snds13"
	push "wska egipskie kolumny"
	push "mgo"
	push "snds14"
	push "wska egipski topr piechoty"
	push "mgo"
	push "snds15"
	push "w jakich naczyniach egipcjanie przechowywali wino?"
	push "mgo"
	push "snds16"
	push "wska egipski hem chronicy gow onierza"
	push "mgo"
	push "snds17"
	push "ktry helm nie pasuje do epoki starozytnego egiptu?"
	push "mgo"
	push "snds18"
	push "wska bero krlowej egiptu"
	push "mgo"
	push "snds19"
	push "ktra tarcza nie pochodzi ze starozytnego egiptu?"
	push "mgo"
	push "snds20"
	push "ktra tarcza nie pochodzi ze starozytnego egiptu?"
	push "mgo"
	push "snds21"
	push "wskaz tarcze egipsk wg wzoru hetyckiego?"
	push "mgo"
	push "snds22"
	push "wskaz tarcze urzywane przez egipcjan?"
	push "mgo"
	push "snds23"
	push "wskaz egipskie odwaniki do wagi"
	push "mgo"
	push "snds24"
	push "wskaz egipskiego zonierza"
	push "mgo"
	push "snds25"
	push "wskaz egipskiego zonierza"
	push "mgo"
	push "snds26"
	push "ktry wojownik nie pasuje do epoki staroytnego egiptu"
	push "mgo"
	push "snds27"
	push "ktra waga nie pasuje do staroytnego egiptu"
	push "mgo"
	push "snds28"
	push "ktry obrazek przedstawia egipcjank?"
	push "mgo"
	push "snds29"
	push "ktry obrazek przedstawia egipcjank?"
	push "mgo"
	push "snds30"
	push "jak wysoko miaa piramida heopsa?"
	push "mgo"
	push "snds31"
	push "wska miecz egipskiego wojownika; Uwaaj jedna z broni to egipska szabla"
	push "mgo"
	push "snds32"
	push "wska obuwie egipskie"
	push "mgo"
	push "snds33"
	push "wska egipski odpowiednik wspczesnej gitary"
	push "mgo"
	push "snds34"
	push "wska egipski odpowiednik wspczesnej perkusji"
	push "mgo"
	push "snds35"
	push "przy pomocy jakich metod budowano piramidy?"
	push "mgo"
	push "snds36"
	push "z jakiego materiau robiono egipskie lekkie odzie rybackie"
	push "mgo"
	push "snds37"
	push "co wspczesnemu rolnikowi zastpuje egipsk soch?"
	push "mgo"
	push "snds38"
	push "ktre z widocznych poniej polowych prac egipskiego rolnika wykonuje wspczesny kombajn?"
	push "mgo"
	push "snds39"
	push "ktre z widocznych poniej polowych prac egipskiego rolnika wykonuje wspczesny kombajn?"
	push "mgo"
	push "snds40"
	push "Ktra brya geometryczna podobna jest do piramidy?"
	push "mgo"
	push "snds41"
	push "z czego egipcjanie robili mk?"
	push "mgo"
	push "snds42"
	push "z jakiej roliny wykonywano papirus do pisania"
	push "mgo"
	push "snds43"
	push "ktre zwierz nie wystpuje w egipcie?"
	push "mgo"
	push "snds44"
	push "ktre zwierze nie wystpuje w egipcie?"
	push "mgo"
	push "snds45"
	push "w ktrej wityni znajduj si kolumny z gowicami widocznymi na obrazku?"
	push "mgo"
	push "snds46"
	push "wska pastwo egipt na kontynencie afrykskim"
	push "mgo"
	push "snds47"
	push "na ktrym kontynencie rozwina si cywilizacja staroytnych egipcjan"
	push "mgo"
	push "snds48"
	push "egipcjanie wierzyli e ksiyc porusza si po niebie"
	push "mgo"
	push "snds49"
	push "wska egipskiego pisarza"
	push "mgo"
	push "snds50"
	push "wska egipskie przyrzdy do pisania"
	push "mgo"
	push "snds51"
	push "ktre zwierz przystosowane jest do dugich wdrwek po pustyni"
	push "mgo"
	push "snds52"
	push "wska szkielet wielbda"
	push "mgo"
	push "snds53"
	push "wska szkielet konia"
	push "mgo"
	push "sndt1"
	push "Ile okci wysokoci ma Piramida hufu, zwana te piramid heopsa"
	push "mgo"
	push "sndt2"
	push "wska wityni ramzesa"
	push "mgo"
	push "sndt3"
	push "wska wityni ramzesa"
	push "mgo"
	push "sndt4"
	push "ktry fragment tekstu kamiena z rozety jest napisany grek?"
	push "mgo"
	push "sndt5"
	push "ktra wspczesna budowla jest wysza od piramidy heopsa?"
	push "mgo"
	push "sndt6"
	push "ktra wspczesna budowla jest wysza od piramidy heopsa?"
	push "mgo"
	push "sndt7"
	push "wska wityni hator w denderze"
	push "mgo"
	push "sndt8"
	push "wska pismo egipskie"
	push "mgo"
	push "sndt9"
	push "wska pismo egipskie"
	push "mgo"
	push "sndt10"
	push "wska pismo piktograficzne"
	push "mgo"
	push "sndt11"
	push "Wsa statek faraona heopsa"
	push "mgo"
	push "sndt12"
	push "co symbolizuja insygnia krlweskie"
	push "mgo"
	push "sndt13"
	push "wska ureusz"
	push "mgo"
	push "sndt14"
	push "wskaz karusz"
	push "mgo"
	push "sndt15"
	push "wskaz wielk harf obrzdow"
	push "mgo"
	push "sndt16"
	push "jaka to liczba?"
	push "mgo"
	push "sndt17"
	push "jaka to liczba?"
	push "mgo"
	push "sndt18"
	push "ktry obrazek przedstawia lir?"
	push "mgo"
	push "sndt19"
	push "ktry zaznaczony na czerwono obszar wskazuje morze rdziemne"
	push "mgo"
	push "sndt20"
	push "ktry zaznaczony na czerwono obszar wsazuje morze czerwone"
	push "mgo"
	push "sndt21"
	push "ktre palny przedstawiaj wityni egipsk"
	push "mgo"
	push "sndt22"
	push "ktrym kolorem zaznaczono grny bieg rzeki nil?"
	push "mgo"
	push "sndt23"
	push "z jakich owocw egipcjanie wytwarzali wino?"
	push "mgo"
	push "sndt24"
	push "w ktrej czci afryki obfite deszcze powodoway wylewy nilu w egipcie?"
	push "mgo"
	push "sndt25"
	push "wska szkielety zwierzt wystpujcych w egipcie"
	push "mgo"
	push "sndt26"
	push "wska wielbda wystpujcego w egipcie"
	push "mgo"
	push "sndgo"
	push "Witaj w tecie wiedzy o Staroytnym Egipcie; Kliknij na mnie jeli chcesz ebym powtrzy pytanie; Uwaaj; Poprawna moe by wicej ni jedna odpowied; Zaczynamy"
	push "mfight"
	push "sndno"
	push "Niee"
	push "null"
	push "sndyes"
	push "Tak "
	push "null"
	push "sndend"
	push "Twj wynik"
	push "Quiz0"
	push "sndend2"
	push "Test zaliczony; W nagrod odblokowuj"
	push "Quiz2"
	push "sndgamel"
	push "zestaw gier Archeolog"
	push "Quiz3"
	push "sndgames"
	push "zestaw gier Szkielety"
	push "Quiz4"
	push "sndgamet"
	push "zestaw gier Konstruktor"
	push "Quiz5"
	cthis sounds=
	push A
	push "bkg.pyz"
	push "kolo.pyz 5"
	push "lapki.pyz 5"
	push "$scripts/common/logo.pyz 5"
	push "prof.pyz 10"
	cthis imgs=
	new int,iwynik
	new Button,buts
	call anprof,Button_isinalpha
	call anprof,Button_moveonms
	call anprof,Button_moveoffms
	push "butclick"
	push "Quiz6"
	call anprof,addmethod
	push "anprof"
	call buts,add
	new gmimgvec,grok
	push "grok"
	push "okeje.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 50
	call grok,setz
	call grok,hide
	new int,ifontpoint
	push 32
	pop ifontpoint
	new string,sfont
	push ifontpoint
	cthis stdfont
	pop sfont
	push "txtpyt"
	push ""
	push sfont
	push 255
	push 253
	push 178
	cthis newtext
	push "txtok"
	push ""
	push sfont
	push 255
	push 253
	push 178
	cthis newtext
	push "txtbad"
	push ""
	push sfont
	push 255
	push 253
	push 178
	cthis newtext
	new gmimgvec,grels
	new vector,vtmp
	new int,ilepyt
	new int,idpyt
	push 1
	popax
	sub 0,$a
	pop idpyt
	new string,sbgimg
	push "null"
	pop sbgimg
	new int,badodp
	push 0
	pop badodp
	new int,okodp
	push 0
	pop okodp
	push QuizMode
	spushs
	push "l"
	cmpst
	jne l4342
	spop $a
	push 34
	call vtmp,vecnewint
	push 10
	pop ilepyt
	jmp l4341
l4342:
	push "s"
	cmpst
	jne l4343
	spop $a
	push 53
	call vtmp,vecnewint
	push 20
	pop ilepyt
	jmp l4341
l4343:
	push "t"
	cmpst
	jne l4344
	spop $a
	push 26
	call vtmp,vecnewint
	push 26
	pop ilepyt
	jmp l4341
l4344:
	spop $a
l4341:
	call vtmp,hash
	localint $1
	push 0
	pop $1
l4345:
	push $1
	push ilepyt
	cmpjl
	cmp0
	je l4346
	jmp l4348
l4347:
	add $1,1
	pop $1
	jmp l4345
l4348:
	push QuizMode
	push $1
	call vtmp,get
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	call grels,add
	jmp l4347
l4346:
	new gmimgvec,grsq
	push "grsq"
	push "kwadraty.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grsq,hide
	push "Quiz7"
	call grsq,eval
	new gmimgvec,grodp
	push "grprzyc"
	push "przyciski.pyz"
	push "Quiz9"
	call buts,load
	call buts,unlock
	push "timwait"
	push 1000
	push "mfight"
	cthis timer=
	push "onfinish"
	push "Quiz11"
	call anprof,addmethod
	push "sndgo"
	cthis mprof
	end method
	method Quiz0
	push GAME
	spushs
	spop $a
	call [$a],Quiz1
	end method
	method Quiz1
	push "enable_"
	cthis mlevelsav
	pop $b
	popax
	add $a,$b
	call csav,bis
	neg
	cmp0
	je l4335
	push iwynik
	push 6
	cmpjae
	jmp l4337
l4335:
	push 0
	jmp l4337
l4336:
	push 1
l4337:
	cmp0
	je l4338
	new gmimgvec,grend
	push "grend"
	push "blok"
	push QuizMode
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push "sndend2"
	cthis cbplay
l4338:
	end method
	method Quiz2
	call grend,last
	spushs
	spop $a
	call [$a],hide
	push "sndgame"
	push QuizMode
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Quiz3
	push "archeo"
	cthis msave
	end method
	method Quiz4
	push "szkielety"
	cthis msave
	end method
	method Quiz5
	push "konstruktor"
	cthis msave
	end method
	method Quiz6
	push igmstate
	push 1
	cmpje
	cmp0
	je l4340
	cthis mpytaj
l4340:
	end method
	method Quiz7
	cthis Button_isinvis
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Quiz8"
	cthis addmethod
	cthis getname
	call buts,add
	end method
	method Quiz8
	push igmstate
	push 1
	cmpje
	cmp0
	je l4350
	cthis isvisible
	cmp0
	je l4352
	push 1
	popax
	sub 0,$a
	cthis actionnr
	call grok,get
	spushs
	spop $a
	call [$a],hide
	cthis hide
	jmp l4351
l4352:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	call grok,get
	spushs
	spop $a
	call [$a],show
	cthis show
l4351:
l4350:
	end method
	method Quiz9
	localdef $1
	pop $1
	cthis Button_stdalpha
	push "butclick"
	push "Quiz10"
	cthis addmethod
	end method
	method Quiz10
	push igmstate
	push 1
	cmpje
	cmp0
	je l4354
	localint $1
	push 1
	pop $1
	localint $2
	push 0
	pop $2
l4355:
	push $2
	push 3
	cmpjl
	cmp0
	je l4356
	jmp l4358
l4357:
	add $2,1
	pop $2
	jmp l4355
l4358:
	localdef $3
	push $2
	call grodp,get
	spushs
	spop $a
	call [$a],framename
	pop $3
	localdef $4
	push $2
	call grsq,get
	pop $4
	push $4
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l4360
	push "ok"
	call $3,contains
	jmp l4362
l4360:
	push 0
	jmp l4362
l4361:
	push 1
l4362:
	cmp0
	jne l4364
	push $4
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l4365
	push "ok"
	call $3,contains
	neg
	jmp l4367
l4365:
	push 0
	jmp l4367
l4366:
	push 1
l4367:
	jmp l4368
l4363:
	push 0
	jmp l4368
l4364:
	push 1
l4368:
	cmp0
	je l4369
	jmp l4359
l4369:
	push 0
	pop $1
l4359:
	jmp l4357
l4356:
	push 0
	pop igmstate
	push $1
	cmp0
	je l4371
	add okodp,1
	pop okodp
	push "yes"
	call anprof,play
	push "sndyes"
	cthis cbplay
	jmp l4370
l4371:
	add badodp,1
	pop badodp
	push "no"
	call anprof,play
	push "sndno"
	cthis cbplay
l4370:
l4354:
	end method
	method Quiz11
	cthis actionname
	push "yes"
	cmpje
	cmp0
	jne l4374
	cthis actionname
	push "no"
	cmpje
	jmp l4375
l4373:
	push 0
	jmp l4375
l4374:
	push 1
l4375:
	cmp0
	je l4376
	call timwait,play
l4376:
	end method
	method mlevelsav
	push QuizMode
	spushs
	push "l"
	cmpst
	jne l4378
	spop $a
	push "archeo"
	jmp l4377
l4378:
	push "s"
	cmpst
	jne l4379
	spop $a
	push "szkielety"
	jmp l4377
l4379:
	push "t"
	cmpst
	jne l4380
	spop $a
	push "konstruktor"
	jmp l4377
l4380:
	spop $a
l4377:
	end method
	method msave
	localstring $1
	pop $1
	push "enable_"
	push $1
	pop $b
	popax
	add $a,$b
	call csav,bset
	call csav,stdsave
	end method
	method mgetpyt
	push idpyt
	call grels,get
	end method
	method mpytaj
	push "snd"
	cthis mgetpyt
	pop $b
	popax
	add $a,$b
	cthis mprof
	end method
	method mprof
	localstring $1
	pop $1
	push "talk"
	call anprof,play
	push 0
	pop igmstate
	push $1
	cthis cbplay
	end method
	method mendpro
	push "stand"
	call anprof,play
	end method
	method mgo
	push 1
	pop igmstate
	cthis mendpro
	end method
	method mprepare
	push GAME
	spushs
	spop $a
	call [$a],Quiz12
	end method
	method Quiz12
	add idpyt,1
	pop idpyt
	call grok,hide
	call grodp,deleteallgm
	call grodp,free
	push sbgimg
	push "null"
	cmpjne
	cmp0
	je l4382
	push sbgimg
	spushs
	spop $d
	delete [$d]
	push "null"
	pop sbgimg
l4382:
	push "grodp"
	cthis mgetpyt
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	call grodp,first
	pop sbgimg
	call grodp,removefirst
	call grodp,hash
	call grsq,hide
	localdef $1
	call grsq,first
	spushs
	spop $a
	call [$a],getpx
	pop $1
	localint $2
	push 0
	pop $2
l4383:
	push $2
	push 3
	cmpjl
	cmp0
	je l4384
	jmp l4386
l4385:
	add $2,1
	pop $2
	jmp l4383
l4386:
	localdef $3
	push $2
	call grodp,get
	pop $3
	localdef $4
	push $2
	call grsq,get
	pop $4
	push $3
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],setpos
	jmp l4385
l4384:
	push ""
	push idpyt
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	call grels,size
	pop $b
	popax
	add $a,$b
	call txtpyt,txtset
	push 91
	spushs
	spop $h
	call $h,igetsc
	call txtpyt,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 751
	spushs
	spop $h
	call $h,igetsc
	call txtpyt,geth
	pop $b
	popax
	sub $a,$b
	call txtpyt,setpos
	cthis msetpoint
	end method
	method msetpoint
	push okodp
	call txtok,txtset
	push 256
	spushs
	spop $h
	call $h,igetsc
	call txtok,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 751
	spushs
	spop $h
	call $h,igetsc
	call txtok,geth
	pop $b
	popax
	sub $a,$b
	call txtok,setpos
	push badodp
	call txtbad,txtset
	push 406
	spushs
	spop $h
	call $h,igetsc
	call txtbad,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 751
	spushs
	spop $h
	call $h,igetsc
	call txtbad,geth
	pop $b
	popax
	sub $a,$b
	call txtbad,setpos
	end method
	method mfight
	push idpyt
	call grels,size
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjae
	cmp0
	je l4388
	push 2
	pop igmstate
	cthis msetpoint
	push GAME
	spushs
	spop $a
	call [$a],Quiz13
	jmp l4387
l4388:
	cthis mprepare
	cthis mpytaj
l4387:
	end method
	method Quiz13
	call grok,hide
	call grodp,hide
	call grsq,hide
	push sbgimg
	push "null"
	cmpjne
	cmp0
	je l4390
	push sbgimg
	spushs
	spop $a
	call [$a],hide
l4390:
	call okodp,to_r
	call ilepyt,to_r
	pop $b
	popax
	div $a,$b
	psax
	push 100.0
	pop $b
	popax
	mul $a,$b
	pop iwynik
	push "txtend"
	push ""
	push iwynik
	pop $b
	popax
	add $a,$b
	push "%"
	pop $b
	popax
	add $a,$b
	push 64
	spushs
	spop $h
	call $h,igetsc
	cthis stdbold
	push 245
	push 245
	push 151
	cthis newtext
	new img,imgb
	call txtend,getw
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	call txtend,geth
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push 248
	push 108
	push 0
	push 255
	call imgb,create
	push 500
	call imgb,setz
	call imgb,ancenterscreen
	push 0
	push 150
	spushs
	spop $h
	call $h,igetsc
	popax
	sub 0,$a
	call imgb,move
	push 2
	spushs
	spop $h
	call $h,igetsc1
	push 0
	push 32
	push 224
	push 255
	call imgb,imgborders
	push 510
	call txtend,setz
	push iResX
	call txtend,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	call txtend,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 150
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call txtend,setpos
	push "sndend"
	cthis cbplay
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4392
	push 1
	cthis cactsndstop
l4392:
	end method
	end game

	new string,sArcheo
	push "cytra"
	pop sArcheo
	game Archeo
	parent DziejeGame
	method init
	push "archeo"
	clparent DziejeGame,init
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkaarcheo.pyz"
	cthis img=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push sArcheo
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	new string,slastob
	call grels,last
	pop slastob
	call grels,removelast
	push slastob
	spushs
	spop $a
	call [$a],hide
	push slastob
	spushs
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],setpos
	call grels,hash
	push 10
	call grels,sortz
	localint $1
	call grels,size
	spushs
	spop $h
	call $h,rand
	pop $1
	new string,srand
	push $1
	call grels,get
	pop srand
	push $1
	call grels,removeat
	push srand
	spushs
	push 5
	spop $a
	call [$a],setz
	push srand
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	pop $b
	popax
	add $a,$b
	push Y1
	push X2
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	push "grels"
	call rec1,fitgrouprand
	new classplacepointer2,clp
	new DelayMover,cmov
	call cmov,unlock
	push A
	push "snd1"
	push "Archeolodzy znaleli staroytny przedmiot egipski; Z go w cao wiedzc e"
	push "Archeo0"
	push "snd2"
	push "ta cz ley ju na swoim miejscu"
	push "Archeo1"
	push "sndcytra"
	push "Zoylimy egipsk cytr"
	push "null"
	push "snddzban"
	push "Oto pikny dzban; Suy egipskiej gospodyni wiele lat nim si zbi a dzi go zrekonstruowalimy"
	push "null"
	push "sndobrazek"
	push "Po cikiej pracy zrekonstruowalimy egipski fresk"
	push "null"
	push "sndpisarz"
	push "Zrekonstruowalimy posek egipskiego pisarza"
	push "null"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Archeo0
	push "snd2"
	cthis cbplay
	push srand
	push "ld"
	call clp,showob
	end method
	method Archeo1
	call clp,stoph
	push 1
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4394
	ret
l4394:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4396
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4396:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4398
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l4400
	push 2
	pop igmstate
	push slastob
	spushs
	spop $a
	call [$a],show
	push "snd"
	push sArcheo
	pop $b
	popax
	add $a,$b
	cthis cbplay
l4400:
	jmp l4397
l4398:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4397:
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4402
	push "sndend"
	cthis cbplay
l4402:
	end method
	end game

	new string,sSzkielet
	push "kon"
	pop sSzkielet
	game Szkielety
	parent DziejeGame
	method init
	push "szkielety"
	clparent DziejeGame,init
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	push sSzkielet
	push "krokodyl"
	cmpje
	cmp0
	je l4404
	push "anbutx"
	push "xkrok.pyz"
	push 100
	cthis newanima
	jmp l4403
l4404:
	push "anbutx"
	push "butx.pyz"
	push 100
	cthis newanima
l4403:
	new Button,butx
	call anbutx,Button_std
	push "anbutx"
	call butx,add
	cthis clogo
	cthis subgamebg
	push A
	push "$scripts/menus/belkaszkielety.pyz"
	cthis imgs=
	push "anend"
	push sSzkielet
	push "end.pyz"
	pop $b
	popax
	add $a,$b
	push 50
	cthis newanima
	push "anpodpo"
	push "podpo"
	push sSzkielet
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 100
	cthis newanima
	call anpodpo,hide
	call anend,hide
	new classfadeinout,clfio
	call anend,anaddfilter
	new gmimgvec,grels
	push "grels"
	push sSzkielet
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	new string,slastob
	call grels,last
	pop slastob
	call grels,hash
	push 10
	call grels,sortz
	localint $1
	call grels,size
	spushs
	spop $h
	call $h,rand
	pop $1
	new string,srand
	push $1
	call grels,get
	pop srand
	push $1
	call grels,removeat
	push srand
	spushs
	push 5
	spop $a
	call [$a],setz
	push srand
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	pop $b
	popax
	add $a,$b
	push Y1
	push X2
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	push "grels"
	call rec1,fitgrouprand
	new classplacepointer2,clp
	new DelayMover,cmov
	call cmov,unlock
	push A
	push "snd1"
	push "Z koci egipskiego zwierzcia wiedzc e"
	push "Szkielety0"
	push "snd2"
	push "ta ko ley ju na swoim miejscu"
	push "Szkielety1"
	push "snd3"
	push "Najed tutaj eby zobaczy szkielet"
	push "Szkielety2"
	cthis sounds=
	push "snd1"
	cthis cbplay
	push "egipt1.ogg -v 40"
	call mus,playstr
	end method
	method Szkielety0
	push "snd2"
	cthis cbplay
	push srand
	push "ld"
	call clp,showob
	end method
	method Szkielety1
	call clp,stoph
	push 1
	pop igmstate
	end method
	method Szkielety2
	call clp,stoph
	end method
	method butx_moveon
	push 1
	popax
	sub 0,$a
	push 1
	call anend,setframe
	end method
	method butx_moveoff
	push 1
	popax
	sub 0,$a
	push 0
	call anend,setframe
	end method
	method clbuts_help_butmoveon
	push igmstate
	push 1
	cmpje
	cmp0
	je l4406
	call anpodpo,show
l4406:
	end method
	method clbuts_help_butmoveoff
	call anpodpo,hide
	call anpodpo,ansetnextfr
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4408
	ret
l4408:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4410
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4410:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4412
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l4414
	push 2
	pop igmstate
	push 0
	call anend,setopacity
	call anend,show
	push 1
	push 10
	push "anend"
	push "Szkielety3"
	call clfio,setopacity
l4414:
	jmp l4411
l4412:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4411:
	end method
	method Szkielety3
	call anend,unlink
	push "anbutx"
	push "lu"
	call clp,showob
	push "snd3"
	cthis cbplay
	end method
	end game

	game Rydwan
	parent DziejeGame
	method init
	push "rydwan"
	clparent DziejeGame,init
	push "kons"
	cthis path=
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkakonstruktor.pyz"
	cthis img=
	push "rydwanp.pyz"
	cthis img=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push "rydwan.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "a6_6"
	cthis mwyjmij
	push "b1_6"
	cthis mwyjmij
	push "c3_6"
	cthis mwyjmij
	call grels,hash
	push 10
	call grels,sortz
	push 0
	push Y1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	push "grels"
	call rec1,fitgrouprand
	new DelayMover,cmov
	call cmov,unlock
	push A
	push "snd1"
	push "Z odpowiednie rzuty rydwanu; Dla uatwienia koa zostay ustawione na swoim miejscu"
	push "Rydwan0"
	push "sndend"
	push "Dobrze"
	push "null"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Rydwan0
	push 1
	pop igmstate
	end method
	method mwyjmij
	localstring $1
	pop $1
	localint $2
	push $1
	call grels,findsac
	pop $2
	push $2
	call grels,get
	pop $1
	push $2
	call grels,removeat
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4416
	ret
l4416:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4418
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4418:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4420
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l4422
	push 2
	pop igmstate
	push "sndend"
	cthis cbplay
l4422:
	jmp l4419
l4420:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4419:
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4424
	push "sndend"
	cthis cbplay
l4424:
	end method
	end game

	new string,sLutnia
	push "gitara"
	pop sLutnia
	game Lutnia
	parent DziejeGame
	method init
	push "lutnia"
	clparent DziejeGame,init
	push "kons"
	cthis path=
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkakonstruktor.pyz"
	cthis img=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push sLutnia
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	new string,srand
	call grels,first
	pop srand
	push "1_start"
	cthis mwyjmij
	new int,wysyp
	push 2
	pop wysyp
	new gmimgvec,grplus
	localint $1
	push "grels"
	push "plus"
	cthis mcontains
	pop $1
l4425:
	push $1
	push 0
	cmpjae
	cmp0
	je l4426
	push $1
	call grels,get
	call grplus,add
	push $1
	call grels,removeat
	push "grels"
	push "plus"
	cthis mcontains
	pop $1
	jmp l4425
l4426:
	call grplus,hide
	push sLutnia
	push "gitara"
	cmpje
	cmp0
	je l4428
	push 0
	push Y1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 150
	pop $b
	popax
	add $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	jmp l4427
l4428:
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 150
	pop $b
	popax
	sub $a,$b
	push Y1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 140
	pop $b
	popax
	add $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
l4427:
	push "grels"
	call rec1,fitgrouprand
	new DelayMover,cmov
	call cmov,unlock
	new classplacepointer2,clp
	push A
	push "sndlutnia"
	push "Z egipsk lutni; Uwaga;"
	push "Lutnia0"
	push "sndgitara"
	push "Odpowiednikiem egipskiej lutni jest dzisiejsza gitara"
	push "Lutnia1"
	push "snd2"
	push "Czci ukadaj po kolei poczwszy od tej ktra ley ju na swoim miejscu"
	push "Lutnia2"
	push "sndend"
	push "Dobrze"
	push "null"
	cthis sounds=
	push "snd"
	push sLutnia
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Lutnia0
	push "snd2"
	cthis cbplay
	push srand
	push "ld"
	call clp,showob
	end method
	method Lutnia1
	push "snd2"
	cthis cbplay
	push srand
	push "ld"
	call clp,showob
	end method
	method Lutnia2
	push 1
	pop igmstate
	call clp,stoph
	end method
	method mcontains
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l4429:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4430
	jmp l4432
l4431:
	add $3,1
	pop $3
	jmp l4429
l4432:
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	spushs
	spop $a
	call [$a],framename
	spushs
	push $2
	spop $h
	call $h,contains
	cmp0
	je l4434
	push $3
	ret
l4434:
	jmp l4431
l4430:
	push 1
	popax
	sub 0,$a
	end method
	method mwyjmij
	localstring $1
	pop $1
	localint $2
	push $1
	call grels,findsac
	pop $2
	push $2
	call grels,get
	pop $1
	push $2
	call grels,removeat
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4436
	ret
l4436:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4438
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4438:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4440
	push wysyp
	push $1
	spushs
	spop $a
	call [$a],actionname
	cmpje
	jmp l4442
l4440:
	push 0
	jmp l4442
l4441:
	push 1
l4442:
	cmp0
	je l4443
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	localdef $2
	push "grplus"
	push $1
	spushs
	spop $a
	call [$a],framename
	push "_plus"
	pop $b
	popax
	add $a,$b
	cthis mcontains
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l4445
	localdef $3
	push $2
	call grplus,get
	pop $3
	push $2
	call grplus,removeat
	push $3
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 5
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],show
l4445:
	push wysyp
	call grels,findsac
	push 0
	cmpjl
	cmp0
	je l4447
	add wysyp,1
	pop wysyp
l4447:
	call grels,empty
	cmp0
	je l4449
	push 2
	pop igmstate
	push "sndend"
	cthis cbplay
l4449:
	jmp l4439
l4443:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4439:
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4451
	push "sndend"
	cthis cbplay
l4451:
	end method
	end game

	game Ship
	parent DziejeGame
	method init
	push "ship"
	clparent DziejeGame,init
	push "kons"
	cthis path=
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkakonstruktor.pyz"
	cthis img=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push "ship.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	new string,slastob
	call grels,last
	pop slastob
	call grels,removelast
	push slastob
	spushs
	spop $a
	call [$a],hide
	push slastob
	spushs
	push 20
	spop $a
	call [$a],setz
	call grels,hash
	push 10
	call grels,sortz
	localint $1
	call grels,size
	spushs
	spop $h
	call $h,rand
	pop $1
	new string,srand
	push $1
	call grels,get
	pop srand
	push $1
	call grels,removeat
	push srand
	spushs
	push 5
	spop $a
	call [$a],setz
	push srand
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	pop $b
	popax
	sub $a,$b
	push Y1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	pop $b
	popax
	add $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	push "grels"
	call rec1,fitgrouprand
	new classplacepointer2,clp
	new DelayMover,cmov
	call cmov,unlock
	push A
	push "snd1"
	push "Zbuduj egipski okrt"
	push "Ship0"
	push "snd2"
	push "ta cz ley ju na swoim miejscu"
	push "Ship1"
	push "sndend"
	push "Brawo!"
	push "null"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Ship0
	push "snd2"
	cthis cbplay
	push srand
	push "ld"
	call clp,showob
	end method
	method Ship1
	call clp,stoph
	push 1
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4453
	ret
l4453:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4455
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4455:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4457
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l4459
	push 2
	pop igmstate
	push slastob
	spushs
	spop $a
	call [$a],show
	push "sndend"
	cthis cbplay
l4459:
	jmp l4456
l4457:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4456:
	end method
	end game

	game Swiatynia
	parent DziejeGame
	method init
	push "swiatynia"
	clparent DziejeGame,init
	push "kons"
	cthis path=
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkakonstruktor.pyz"
	cthis img=
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	new gmimgvec,grels
	push "grels"
	push "swiatynia.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	new string,srand
	call grels,first
	pop srand
	push 0
	call grels,removeat
	new gmimgvec,grplus
	localint $1
	push "grels"
	push "plus"
	cthis mcontains
	pop $1
l4460:
	push $1
	push 0
	cmpjae
	cmp0
	je l4461
	push $1
	call grels,get
	call grplus,add
	push $1
	call grels,removeat
	push "grels"
	push "plus"
	cthis mcontains
	pop $1
	jmp l4460
l4461:
	call grplus,hide
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 150
	pop $b
	popax
	sub $a,$b
	push Y1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 140
	pop $b
	popax
	add $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	new Rect,rec1
	push "grels"
	call rec1,fitgrouprand
	new DelayMover,cmov
	call cmov,unlock
	new classplacepointer2,clp
	new vector,vcheck
	push "string"
	call vcheck,type
	push A
	push "sndgo"
	push "Zbuduj fragment egipskiej wityni"
	push "Swiatynia0"
	push "sndend"
	push "wietnie; Gratuluj"
	push "null"
	cthis sounds=
	push "sndgo"
	cthis cbplay
	end method
	method Swiatynia0
	push 1
	pop igmstate
	end method
	method mcontains
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l4462:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4463
	jmp l4465
l4464:
	add $3,1
	pop $3
	jmp l4462
l4465:
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	spushs
	spop $a
	call [$a],framename
	spushs
	push $2
	spop $h
	call $h,contains
	cmp0
	je l4467
	push $3
	ret
l4467:
	jmp l4464
l4463:
	push 1
	popax
	sub 0,$a
	end method
	method mwyjmij
	localstring $1
	pop $1
	localint $2
	push $1
	call grels,findsac
	pop $2
	push $2
	call grels,get
	pop $1
	push $2
	call grels,removeat
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4469
	ret
l4469:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4471
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4471:
	end method
	method mnot
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l4472:
	push $2
	call grels,size
	cmpjl
	cmp0
	je l4473
	jmp l4475
l4474:
	add $2,1
	pop $2
	jmp l4472
l4475:
	push $2
	call grels,get
	spushs
	spop $a
	call [$a],framenr
	push $1
	cmpje
	cmp0
	je l4477
	push 1
	ret
l4477:
	jmp l4474
l4473:
	push 0
	end method
	method menabled
	localstring $1
	pop $1
	call vcheck,free
	push $1
	push "_"
	call vcheck,vecbuildfromstring
	localint $2
	push 0
	pop $2
l4478:
	push $2
	call vcheck,size
	cmpjl
	cmp0
	je l4479
	jmp l4481
l4480:
	add $2,1
	pop $2
	jmp l4478
l4481:
	push $2
	call vcheck,get
	cthis mnot
	cmp0
	je l4483
	push 0
	ret
l4483:
	jmp l4480
l4479:
	push 1
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4485
	push $1
	spushs
	spop $a
	call [$a],framename
	cthis menabled
	jmp l4487
l4485:
	push 0
	jmp l4487
l4486:
	push 1
l4487:
	cmp0
	je l4488
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	localdef $2
	push "grplus"
	push "x"
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop $b
	popax
	add $a,$b
	push "_plus"
	pop $b
	popax
	add $a,$b
	cthis mcontains
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l4490
	localdef $3
	push $2
	call grplus,get
	pop $3
	push $2
	call grplus,removeat
	push $3
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 5
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],show
l4490:
	call grels,empty
	cmp0
	je l4492
	push 2
	pop igmstate
	push "sndend"
	cthis cbplay
l4492:
	jmp l4484
l4488:
	push $1
	call grels,add
	push 10
	call grels,sortz
l4484:
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4494
	push "sndend"
	cthis cbplay
l4494:
	end method
	end game

	game Wejscie
	parent DziejeGame
	method init
	push "wejscie"
	clparent DziejeGame,init
	push A
	push "getpuz 60"
	push "putpuz 60"
	cthis sfxs=
	cthis clogo
	cthis subgamebg
	push "$scripts/menus/belkakonstruktor.pyz"
	cthis img=
	new gmimgvec,gr1
	push "gr1"
	push "wej1.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	new gmimgvec,gr2
	push "gr2"
	push "wej2.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call gr1,hide
	call gr2,hide
	new DelayMover,cmov
	call cmov,unlock
	localstring $1
	localstring $2
	new gmimgvec,grels
	localint $3
	push 3
	pop $3
l4495:
	push $3
	push 9
	cmpjle
	cmp0
	je l4496
	jmp l4498
l4497:
	add $3,1
	pop $3
	jmp l4495
l4498:
	push "gr"
	push $3
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	push "wej"
	push $3
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	call grels,addgr
	jmp l4497
l4496:
	push 10
	call grels,sortz
	new gmimgvec,gready
	call gr1,first
	spushs
	spop $a
	call [$a],show
	new int,shiftx
	new int,shifty
	push A
	push "snd1"
	push "Zbudujemy zamknicie komory grobowej w piramidzie"
	push "Wejscie0"
	push "snd2"
	push "Oto ciana komnaty z maym wejciem"
	push "Wejscie2"
	push "snd3"
	push "Wok wejcia stoj tysice kamieni uytych do budowy piramidy"
	push "Wejscie4"
	push "snd4"
	push "Po prawej stronie wejcia ustaw kamienn cian"
	push "Wejscie5"
	push "snd5"
	push "Teraz postaw 6 mocnych drewnianych klockw"
	push "Wejscie6"
	push "snd6"
	push "Na klockach postaw 3 kamienne bloki"
	push "Wejscie7"
	push "snd7"
	push "Postaw drug cian po lewej stronie wejcia"
	push "Wejscie8"
	push "snd8"
	push "Teraz po w odpowiednim miejscu 3 kamienne belki w ksztacie walcw"
	push "Wejscie9"
	push "snd9"
	push "W w otwory w cianie ostatni belk"
	push "Wejscie10"
	push "snd10"
	push "Przywi grubymi linami kamienne bloki tak aby zawisy na belkach"
	push "Wejscie11"
	push "sndend"
	push "Brawo; Wejcie zbudowane; Budowniczowie zabior drewniane klocki"
	push "Wejscie12"
	push "sndend2"
	push "i 3 kamienne bloki zawisn na linach; Po przeciciu lin bloki spadn i zatarasuj wejcie"
	push "Wejscie13"
	cthis sounds=
	push "snd1"
	cthis cbplay
	end method
	method Wejscie0
	new int,ilicz1
	push 0
	pop ilicz1
	push "tim1"
	push 500
	push "Wejscie1"
	cthis timer=
	call tim1,play
	push "snd2"
	cthis cbplay
	end method
	method Wejscie1
	push ilicz1
	call gr1,get
	spushs
	spop $a
	call [$a],show
	add ilicz1,1
	pop ilicz1
	push ilicz1
	call gr1,size
	cmpjl
	cmp0
	je l4500
	cthis play
l4500:
	end method
	method Wejscie2
	new int,ilicz2
	push 0
	pop ilicz2
	push "tim2"
	push 500
	push "Wejscie3"
	cthis timer=
	call tim2,play
	push "snd3"
	cthis cbplay
	end method
	method Wejscie3
	push ilicz2
	call gr2,get
	spushs
	spop $a
	call [$a],show
	add ilicz2,1
	pop ilicz2
	push ilicz2
	call gr2,size
	cmpjl
	cmp0
	je l4502
	cthis play
l4502:
	end method
	method Wejscie4
	push "snd4"
	cthis cbplay
	end method
	method Wejscie5
	push 1
	pop igmstate
	end method
	method Wejscie6
	push 2
	pop igmstate
	end method
	method Wejscie7
	push 3
	pop igmstate
	end method
	method Wejscie8
	push 4
	pop igmstate
	end method
	method Wejscie9
	push 5
	pop igmstate
	end method
	method Wejscie10
	push 6
	pop igmstate
	end method
	method Wejscie11
	push 7
	pop igmstate
	end method
	method Wejscie12
	push "15_2a"
	cthis mhide
	push "16_2b"
	cthis mhide
	push "16_2c"
	cthis mhide
	push "sndend2"
	cthis cbplay
	end method
	method Wejscie13
	push "21_7a"
	cthis mhide
	push "21_7b"
	cthis mhide
	push "21_7c"
	cthis mhide
	push "timput"
	push 1
	push 42
	cthis newtimer
	localint $1
	push 280
	spushs
	spop $h
	call $h,igetsc
	pop $1
	push "17_3a"
	cthis mget
	spushs
	push $1
	push Y1
	push X2
	push Y2
	spop $a
	call [$a],clip
	push "17_3b"
	cthis mget
	spushs
	push $1
	push Y1
	push X2
	push Y2
	spop $a
	call [$a],clip
	push "17_3c"
	cthis mget
	spushs
	push $1
	push Y1
	push X2
	push Y2
	spop $a
	call [$a],clip
	push "ontick"
	push "Wejscie14"
	call timput,addmethod
	call timput,play
	end method
	method Wejscie14
	push "17_3a"
	cthis mget
	spushs
	push 0
	push 1
	spop $a
	call [$a],move
	push "17_3b"
	cthis mget
	spushs
	push 0
	push 1
	spop $a
	call [$a],move
	push "17_3c"
	cthis mget
	spushs
	push 0
	push 1
	spop $a
	call [$a],move
	end method
	method mget
	localstring $1
	pop $1
	push $1
	call gready,findsfr
	call gready,get
	end method
	method mhide
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],hide
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjl
	cmp0
	jne l4505
	push igmstate
	push 7
	cmpja
	jmp l4506
l4504:
	push 0
	jmp l4506
l4505:
	push 1
l4506:
	cmp0
	je l4507
	ret
l4507:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4509
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 300
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop shiftx
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop shifty
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],getpx
	popax
	sub shiftx,$a
	pop shiftx
	push $1
	spushs
	spop $a
	call [$a],getpy
	popax
	sub shifty,$a
	pop shifty
	push $1
	spushs
	push shiftx
	push shifty
	spop $a
	call [$a],move
	push $1
	cthis mssetobj
	push $1
	call grels,remove
l4509:
	end method
	method menabled
	localstring $1
	pop $1
	localdef $2
	push "gr"
	push igmstate
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	push $1
	spop $a
	call [$a],contains
	cmp0
	je l4511
	push $2
	spushs
	push $1
	spop $a
	call [$a],remove
	push 1
	jmp l4510
l4511:
	push 0
l4510:
	end method
	method clbuts_help_butclick
	push igmstate
	push 1
	cmpjl
	cmp0
	jne l4514
	push igmstate
	push 7
	cmpja
	jmp l4515
l4513:
	push 0
	jmp l4515
l4514:
	push 1
l4515:
	cmp0
	je l4516
	ret
l4516:
	push "snd"
	push igmstate
	push 3
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push 15
	pop igmstate
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	spushs
	push 30
	spushs
	spop $h
	call $h,igetsc
	spop $a
	call [$a],aninlod
	cmp0
	je l4518
	push $1
	cthis menabled
	jmp l4520
l4518:
	push 0
	jmp l4520
l4519:
	push 1
l4520:
	cmp0
	je l4521
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call gready,add
	push "gr"
	push igmstate
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],empty
	cmp0
	je l4523
	add igmstate,1
	pop igmstate
	push igmstate
	push 8
	cmpje
	cmp0
	je l4525
	push "sndend"
	cthis cbplay
	jmp l4524
l4525:
	push "snd"
	push igmstate
	push 3
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push 15
	pop igmstate
l4524:
l4523:
	jmp l4517
l4521:
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grels,add
	push 10
	call grels,sortz
l4517:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4527
	push 1
	cthis cactsndstop
l4527:
	end method
	end game

	game MainMenu
	parent DziejeGame
	method init
	push "mainmenu"
	clparent DziejeGame,init
	push A
	push "bkg.pyz"
	push "$scripts/quiz/prof.pyz 10"
	push "menu1.pyz 5"
	push "menu2.pyz 5"
	push "menu3.pyz 5"
	push "menu4.pyz 5"
	cthis imgs=
	push igmmystery
	cmp0
	je l4529
	new gmimgvec,grmyst
	push "mystery"
	cthis path=
	push "grmyst"
	push "mainmenu.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 8
	call grmyst,setz
	push "mainmenu"
	cthis path=
l4529:
	push 3
	spushs
	spop $h
	call $h,igetsc
	push 8
	spushs
	spop $h
	call $h,igetsc
	popax
	sub 0,$a
	call anprof,move
	push A
	push "putpuz2 50"
	cthis sfxs=
	push A
	push "sndgo"
	push "Witam w programie Dzieje Ludzi Egipt"
	push "mendpro"
	push "sndmenu1"
	push "ycie ludzi w staroytnym Egipcie"
	push "mendpro"
	push "sndmenu2"
	push "Niesamowite przygody Chetiego"
	push "mendpro"
	push "sndmenu3"
	push "Wielki test wiedzy o Egipcie"
	push "mendpro"
	push "sndmenu4"
	push "Gry nagrody za rozwizanie quizu"
	push "mendpro"
	cthis sounds=
	localstring $1
	localstring $2
	new Button,buts
	localint $3
	push 24
	spushs
	spop $h
	call $h,igetsc
	pop $3
	new string,sfont
	push $3
	cthis stdbold
	pop sfont
	push "dbtyt"
	push "tytuly"
	cthis lang_db
	localint $4
	push 1
	pop $4
l4530:
	push $4
	push 4
	cmpjle
	cmp0
	je l4531
	jmp l4533
l4532:
	add $4,1
	pop $4
	jmp l4530
l4533:
	push "anmenu"
	push $4
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	push "podklad"
	push 0
	spop $a
	call [$a],setframe
	push "ankon"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push 20
	spop $a
	call [$a],setz
	push $2
	spushs
	push "kontur"
	push 0
	spop $a
	call [$a],setframe
	push "angomenu"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	spop $a
	call [$a],hide
	push $2
	spushs
	push 10
	spop $a
	call [$a],setz
	push $2
	spushs
	push 6
	spop $a
	call [$a],setdelay
	push "annapmenu"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push "napis"
	push $4
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 100
	cthis newanima
	push $1
	spushs
	spop $a
	call [$a],Button_isin
	push $1
	spushs
	push "butmoveon"
	push "MainMenu0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveoff"
	push "MainMenu1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butclick"
	push "MainMenu2"
	spop $a
	call [$a],addmethod
	push $1
	call buts,add
	jmp l4532
l4531:
	push "eg1wstep.ogg -v 50 eg1petla.ogg -v 50 -l"
	call mus,playstr
	push igmbegin
	cmp0
	je l4577
	push 0
	pop igmbegin
	push "sndgo"
	cthis mprof
l4577:
	push igmipad
	cmp0
	je l4579
	push 1
	call buts,bcheck2klik=
l4579:
	end method
	method MainMenu0
	call advmouse,setact
	localdef $1
	cthis getname
	spushs
	push 2
	spop $h
	call $h,strsubb
	pop $1
	push "annap"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push "ango"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "up"
	spop $a
	call [$a],play
	call fxputpuz2,play
	push igmdemo
	cmp0
	je l4535
	push $1
	push "menu3"
	cmpje
	cmp0
	jne l4538
	push $1
	push "menu4"
	cmpje
	jmp l4539
l4537:
	push 0
	jmp l4539
l4538:
	push 1
l4539:
	jmp l4540
l4535:
	push 0
	jmp l4540
l4536:
	push 1
l4540:
	cmp0
	je l4541
	cthis getcx
	cthis getcy
	push 80
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	cthis inpiecz
l4541:
	call sndgo,isplaying
	neg
	cmp0
	je l4543
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l4546
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l4547
l4545:
	push 0
	jmp l4547
l4546:
	push 1
l4547:
	cmp0
	je l4548
	push $1
	cthis mprof
l4548:
l4543:
	end method
	method MainMenu1
	call advmouse,setstd
	localdef $1
	cthis getname
	spushs
	push 2
	spop $h
	call $h,strsubb
	pop $1
	push "annap"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push "ango"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "down"
	spop $a
	call [$a],play
	push igmdemo
	cmp0
	je l4550
	push $1
	push "menu3"
	cmpje
	cmp0
	jne l4553
	push $1
	push "menu4"
	cmpje
	jmp l4554
l4552:
	push 0
	jmp l4554
l4553:
	push 1
l4554:
	jmp l4555
l4550:
	push 0
	jmp l4555
l4551:
	push 1
l4555:
	cmp0
	je l4556
	cthis outpiecz
l4556:
	end method
	method MainMenu2
	push igmdemo
	cmp0
	je l4558
	cthis getname
	push "anmenu3"
	cmpje
	cmp0
	jne l4561
	cthis getname
	push "anmenu4"
	cmpje
	jmp l4562
l4560:
	push 0
	jmp l4562
l4561:
	push 1
l4562:
	jmp l4563
l4558:
	push 0
	jmp l4563
l4559:
	push 1
l4563:
	cmp0
	je l4564
	ret
	jmp l4557
l4564:
	push igmtheory
	cmp0
	je l4566
	cthis getname
	push "anmenu1"
	cmpje
	cmp0
	je l4568
	push "Egipt"
	call gameapi,play
	jmp l4567
l4568:
	ret
l4567:
	jmp l4565
l4566:
	cthis getname
	spushs
	push "anmenu1"
	cmpst
	jne l4570
	spop $a
	push "Egipt"
	jmp l4569
l4570:
	push "anmenu2"
	cmpst
	jne l4571
	spop $a
	push igmmystery
	cmp0
	je l4573
	push "MenuBajA"
	jmp l4572
l4573:
	push "MenuBaj"
l4572:
	jmp l4569
l4571:
	push "anmenu3"
	cmpst
	jne l4574
	spop $a
	push "MenuTest"
	jmp l4569
l4574:
	push "anmenu4"
	cmpst
	jne l4575
	spop $a
	push "MenuGry"
	jmp l4569
l4575:
	spop $a
l4569:
	call gameapi,play
l4565:
l4557:
	end method
	method mprof
	localstring $1
	pop $1
	push 0
	cthis cactsndstop
	push $1
	cthis cbplay
	push "talk"
	call anprof,play
	end method
	method mendpro
	push "stand"
	call anprof,play
	end method
	end game

	game MenuGry
	parent DziejeGame
	method init
	push "menugry"
	clparent DziejeGame,init
	push "menus"
	cthis path=
	push A
	push "putpuz2 50"
	cthis sfxs=
	cthis subgamebg
	push "grybelka.pyz"
	cthis img=
	push "grybuts.pyz"
	new Buttons,cbut
	push "quizy.db"
	new classfullsave,csav
	call csav,stdload
	new gmimgvec,grstop
	push "grstop"
	push "stopy.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 100
	call grstop,setz
	localint $1
	push 0
	pop $1
l4580:
	push $1
	call grstop,size
	cmpjl
	cmp0
	je l4581
	jmp l4583
l4582:
	add $1,1
	pop $1
	jmp l4580
l4583:
	push "enable_"
	push $1
	call grstop,get
	spushs
	spop $a
	call [$a],actionname
	pop $b
	popax
	add $a,$b
	call csav,bis
	cmp0
	je l4585
	push $1
	call grstop,get
	spushs
	spop $a
	call [$a],hide
l4585:
	jmp l4582
l4581:
	push A
	push "sndarcheo"
	push "Aby zagra w t gr musisz zaliczy atwy quiz"
	push "null"
	push "sndszkielety"
	push "Aby zagra w t gr musisz zaliczy redni quiz"
	push "null"
	push "sndkonstruktor"
	push "Aby zagra w t gr musisz zaliczy trudny quiz"
	push "null"
	cthis sounds=
	push igmipad
	cmp0
	je l4587
	push 1
	call cbut,bcheck2klik=
l4587:
	end method
	method cbut_lclick
	push "enable_"
	push sobject
	pop $b
	popax
	add $a,$b
	call csav,bis
	cmp0
	je l4589
	push sobject
	pop sSubMenu
	push "SubMenu"
	call gameapi,play
	jmp l4588
l4589:
	push "snd"
	push sobject
	pop $b
	popax
	add $a,$b
	cthis cbplay
l4588:
	end method
	method cbut_moveon
	call fxputpuz2,play
	end method
	end game

	new string,sSubMenu
	push "archeo"
	pop sSubMenu
	game SubMenu
	parent DziejeGame
	method init
	push "submenu"
	clparent DziejeGame,init
	push "menus"
	cthis path=
	cthis subgamebg
	push A
	push "putpuz2 50"
	cthis sfxs=
	push "belka"
	push sSubMenu
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis img=
	push sSubMenu
	push "buts.pyz"
	pop $b
	popax
	add $a,$b
	new Buttons,cbut
	push igmipad
	cmp0
	je l4591
	push 1
	call cbut,bcheck2klik=
l4591:
	end method
	method cbut_lclick
	push sSubMenu
	spushs
	push "archeo"
	cmpst
	jne l4593
	spop $a
	push sobject
	pop sArcheo
	push "Archeo"
	call gameapi,play
	jmp l4592
l4593:
	push "szkielety"
	cmpst
	jne l4594
	spop $a
	push sobject
	pop sSzkielet
	push "Szkielety"
	call gameapi,play
	jmp l4592
l4594:
	push "konstruktor"
	cmpst
	jne l4595
	spop $a
	push sobject
	spushs
	push "rydwan"
	cmpst
	jne l4597
	spop $a
	push "Rydwan"
	jmp l4596
l4597:
	push "lutnia"
	cmpst
	jne l4598
	spop $a
	push "Lutnia"
	push "lutnia"
	pop sLutnia
	jmp l4596
l4598:
	push "gitara"
	cmpst
	jne l4599
	spop $a
	push "Lutnia"
	push "gitara"
	pop sLutnia
	jmp l4596
l4599:
	push "ship"
	cmpst
	jne l4600
	spop $a
	push "Ship"
	jmp l4596
l4600:
	push "swiatynia"
	cmpst
	jne l4601
	spop $a
	push "Swiatynia"
	jmp l4596
l4601:
	push "wejscie"
	cmpst
	jne l4602
	spop $a
	push "Wejscie"
	jmp l4596
l4602:
	spop $a
l4596:
	call gameapi,play
	jmp l4592
l4595:
	spop $a
l4592:
	end method
	method cbut_moveon
	call fxputpuz2,play
	end method
	end game

	game MenuTest
	parent DziejeGame
	method init
	push "menutest"
	clparent DziejeGame,init
	push "menus"
	cthis path=
	push A
	push "putpuz2 50"
	cthis sfxs=
	push A
	push "bgtest.pyz"
	push "napisytest.pyzH 10"
	cthis imgs=
	push "menutest.pyz"
	new Buttons,cbut
	push igmipad
	cmp0
	je l4604
	push 1
	call cbut,bcheck2klik=
l4604:
	end method
	method cbut_moveon
	push sobject
	push 0
	call annapisytest,setframe
	call annapisytest,show
	call fxputpuz2,play
	end method
	method cbut_moveoff
	call annapisytest,hide
	end method
	method cbut_lclick
	push sobject
	spushs
	push "latwy"
	cmpst
	jne l4606
	spop $a
	push "l"
	jmp l4605
l4606:
	push "sredni"
	cmpst
	jne l4607
	spop $a
	push "s"
	jmp l4605
l4607:
	push "trudny"
	cmpst
	jne l4608
	spop $a
	push "t"
	jmp l4605
l4608:
	spop $a
l4605:
	pop QuizMode
	push "Quiz"
	call gameapi,play
	end method
	end game

	game MenuBajA
	parent DziejeGame
	method init
	push "menubaja"
	clparent DziejeGame,init
	push "mystery"
	cthis path=
	push "imbg"
	push "1024.jpg"
	push 10
	cthis newimg
	push "tim1"
	push 3000
	push "mend"
	cthis timer=
	push "MenuBajA0"
	call ccs,enter
	end method
	method MenuBajA0
	call tim1,play
	end method
	method mend
	push igmstate
	push 0
	cmpje
	cmp0
	je l4610
	push 1
	pop igmstate
	push "MenuBajA1"
	call ccs,close
l4610:
	end method
	method MenuBajA1
	push "MenuBaj"
	call gameapi,play
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

	new int,bMenubaj
	push 1
	pop bMenubaj
	game MenuBaj
	parent DziejeGame
	method init
	push igmdebug
	cmp0
	je l4612
	cthis EgiptSet
l4612:
	push "menubaj"
	clparent DziejeGame,init
	push A
	push "bkg.pyz"
	push "start.pyz 10"
	cthis imgs=
	push A
	push "globbutmovon 50"
	cthis sfxs=
	new Button,buts
	call anstart,Button_isinalpha
	push "butmoveon"
	push "MenuBaj0"
	call anstart,addmethod
	call anstart,Button_moveoff
	push "butclick"
	push "MenuBaj1"
	call anstart,addmethod
	push A
	push "sndgo"
	push "Rozpocznij przygody Chetiego od nowa lub wczytaj ostatni gr"
	push "null"
	push "sndstart"
	push "Rozpocznij gr"
	push "null"
	cthis sounds=
	new gmimgvec,grels
	push "grels"
	push "buts.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "bajka.db"
	new classfullsave,csav
	call csav,stdload
	push "MenuBaj2"
	call grels,each
	push "anstart"
	call buts,add
	push "grels"
	call buts,addgroup
	push bMenubaj
	cmp0
	je l4642
	push 0
	pop bMenubaj
	push "sndgo"
	cthis cbplay
l4642:
	push igmipad
	cmp0
	je l4644
	push 1
	call buts,bcheck2klik=
l4644:
	end method
	method MenuBaj0
	push "sndstart"
	cthis cbselfplay
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	call fxglobbutmovon,play
	end method
	method MenuBaj1
	push "cs1"
	call gameapi,play
	end method
	method MenuBaj2
	localdef $1
	pop $1
	cthis Button_stdalpha
	cthis actionname
	call csav,bis
	neg
	cmp0
	je l4614
	cthis hide
l4614:
	push igmdemo
	cmp0
	je l4616
	push $1
	push 0
	cmpja
	jmp l4618
l4616:
	push 0
	jmp l4618
l4617:
	push 1
l4618:
	cmp0
	je l4619
	new anima,anp
	push "anpieczatka"
	call anp,copy
	cthis getcx
	cthis getcy
	call anp,setpos
	call anp,show
l4619:
	push "butclick"
	push "MenuBaj3"
	cthis addmethod
	end method
	method MenuBaj3
	push igmstate
	push 0
	cmpjne
	cmp0
	jne l4622
	push igmdemo
	jmp l4623
l4621:
	push 0
	jmp l4623
l4622:
	push 1
l4623:
	cmp0
	je l4624
	ret
l4624:
	push 0
	cthis cactsndstop
	push 1
	pop igmstate
	call clsave,free
	cthis actionname
	spushs
	push "pole"
	cmpst
	jne l4626
	spop $a
	push "MenuBaj4"
	call ccs,close
	jmp l4625
l4626:
	push "gospodarstwo"
	cmpst
	jne l4627
	spop $a
	push "MenuBaj5"
	call ccs,close
	jmp l4625
l4627:
	push "dom"
	cmpst
	jne l4628
	spop $a
	push "MenuBaj6"
	call ccs,close
	jmp l4625
l4628:
	push "kanaly"
	cmpst
	jne l4629
	spop $a
	push "MenuBaj7"
	call ccs,close
	jmp l4625
l4629:
	push "kamieniolom"
	cmpst
	jne l4630
	spop $a
	push "MenuBaj8"
	call ccs,close
	jmp l4625
l4630:
	push "liczby"
	cmpst
	jne l4631
	spop $a
	push "MenuBaj9"
	call ccs,close
	jmp l4625
l4631:
	push "sztabki"
	cmpst
	jne l4632
	spop $a
	push "MenuBaj10"
	call ccs,close
	jmp l4625
l4632:
	push "statek"
	cmpst
	jne l4633
	spop $a
	push "MenuBaj11"
	call ccs,close
	jmp l4625
l4633:
	push "swiatynia"
	cmpst
	jne l4634
	spop $a
	push "MenuBaj12"
	call ccs,close
	jmp l4625
l4634:
	push "maluje"
	cmpst
	jne l4635
	spop $a
	push "MenuBaj13"
	call ccs,close
	jmp l4625
l4635:
	push "naszyjnik"
	cmpst
	jne l4636
	spop $a
	push "MenuBaj14"
	call ccs,close
	jmp l4625
l4636:
	push "moda"
	cmpst
	jne l4637
	spop $a
	push "MenuBaj15"
	call ccs,close
	jmp l4625
l4637:
	push "bari"
	cmpst
	jne l4638
	spop $a
	push "MenuBaj16"
	call ccs,close
	jmp l4625
l4638:
	push "miasto"
	cmpst
	jne l4639
	spop $a
	push "MenuBaj17"
	call ccs,close
	jmp l4625
l4639:
	push "golden"
	cmpst
	jne l4640
	spop $a
	push "MenuBaj18"
	call ccs,close
	jmp l4625
l4640:
	spop $a
l4625:
	end method
	method MenuBaj4
	push "pole"
	push "gamepole0"
	cthis gotoadv
	end method
	method MenuBaj5
	push "gospodarstwo"
	push "gamegospodarstwo"
	cthis madv
	end method
	method MenuBaj6
	push "domek"
	push "gamedomek"
	cthis madv
	end method
	method MenuBaj7
	push "Kanaly"
	call gameapi,play
	end method
	method MenuBaj8
	push "namiestnik"
	push "gamenamiestnik"
	cthis gotoadv
	end method
	method MenuBaj9
	push "kam3"
	push "gamekam3"
	cthis gotoadv
	end method
	method MenuBaj10
	push "epizod"
	push "namiestnik_sztabki"
	call clsave,set
	push "namiestnik"
	push "gamenamiestnik"
	cthis gotoadv
	end method
	method MenuBaj11
	push 2
	pop BajkaNr
	push "Bajka"
	call gameapi,play
	end method
	method MenuBaj12
	push 3
	pop BajkaNr
	push "Bajka"
	call gameapi,play
	end method
	method MenuBaj13
	push "sw2"
	push "gamesw2"
	cthis madv
	end method
	method MenuBaj14
	push 4
	pop BajkaNr
	push "Bajka"
	call gameapi,play
	end method
	method MenuBaj15
	push "Bal"
	call gameapi,play
	end method
	method MenuBaj16
	push "Areszt1"
	call gameapi,play
	end method
	method MenuBaj17
	push "City"
	call gameapi,play
	end method
	method MenuBaj18
	push "MK1"
	call gameapi,play
	end method
	method madv
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push $2
	call gameapi,play
	end method
	end game

	game Outro
	parent DziejeGame
	method init
	push "outro"
	clparent DziejeGame,init
	push "bkg.pyz"
	cthis img=
	new gmimgvec,grnap
	push "grnap"
	push "napisy.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push igmmystery
	cmp0
	je l4646
	push "mystery"
	cthis path=
	new gmimgvec,grmyst
	push "grmyst"
	push "outro.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 100
	call grmyst,setz
	push "outro"
	cthis path=
	push "dbend"
	push "napisymystery"
	cthis lang_db
	jmp l4645
l4646:
	push "dbend"
	push "napisy"
	cthis lang_db
l4645:
	push LANG
	push ""
	cmpje
	cmp0
	je l4648
	new gmimgvec,grob
	push "grob"
	push "programy.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "dbgry"
	push "gry"
	cthis lang_db
l4648:
	new int,ystart
	push Y2
	push 100
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	pop ystart
	new int,ystop
	push 177
	spushs
	spop $h
	call $h,igetsc
	pop ystop
	localdef $1
	push 24
	spushs
	spop $h
	call $h,igetsc
	pop $1
	localdef $2
	push $1
	cthis stdfont
	pop $2
	push $2
	push $1
	push "$var:dbend"
	cthis mcol
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push ystart
	push 2
	spushs
	spop $h
	call $h,igetsc1
	push 5
	spushs
	spop $h
	call $h,igetsc1
	push "center"
	new TextDb,tdend
	call tdend,mtxtclip
	call tdend,W
	popax
	sub 0,$a
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call tdend,move
	push LANG
	push ""
	cmpje
	cmp0
	je l4650
	call grob,mclip
	localdef $3
	call grob,first
	pop $3
	localdef $4
	push 50
	spushs
	spop $h
	call $h,igetsc
	pop $4
	new gmimgvec,grels
	localint $5
	push 0
	pop $5
l4651:
	push $5
	call grob,size
	cmpjl
	cmp0
	je l4652
	jmp l4654
l4653:
	add $5,1
	pop $5
	jmp l4651
l4654:
	push $5
	call grob,get
	pop $3
	push $5
	push 0
	cmpje
	cmp0
	je l4656
	push $3
	spushs
	push 0
	call tdend,getey
	push $4
	pop $b
	popax
	add $a,$b
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	jmp l4655
l4656:
	push $3
	spushs
	push 0
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	call grob,get
	spushs
	spop $a
	call [$a],getey
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l4655:
	localdef $6
	push "tdg"
	push $5
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	push $2
	push $1
	push "$row:dbgry,"
	push $5
	pop $b
	popax
	add $a,$b
	cthis mcol
	push $3
	spushs
	spop $a
	call [$a],getex
	push 50
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push $3
	spushs
	spop $a
	call [$a],getpy
	push 2
	spushs
	spop $h
	call $h,igetsc1
	push 5
	spushs
	spop $h
	call $h,igetsc
	push "left"
	spop $e
	new TextDb,[$e]
	push $6
	spushs
	spop $a
	call [$a],mtxtclip
	push $3
	call grels,add
	push $6
	call grels,add
	jmp l4653
l4652:
l4650:
	push "timcyk"
	push "Outro0"
	cthis cycle=
	push 2
	call timcyk,setcycle
	call timcyk,play
	push "monoton.ogg -v 50 -l"
	call mus,playstr
	end method
	method Outro0
	push 0
	push 1
	popax
	sub 0,$a
	call tdend,move
	push LANG
	push ""
	cmpje
	cmp0
	je l4658
	push 0
	push 1
	popax
	sub 0,$a
	call grels,move
	call grob,last
	spushs
	spop $a
	call [$a],getey
	push ystop
	cmpjl
	cmp0
	je l4660
	push igmstate
	push 0
	cmpje
	jmp l4662
l4660:
	push 0
	jmp l4662
l4661:
	push 1
l4662:
	cmp0
	je l4663
	cthis mouse_lclick
	jmp l4659
l4663:
	cthis play
l4659:
	jmp l4657
l4658:
	call tdend,getey
	push ystop
	cmpjl
	cmp0
	je l4665
	push igmstate
	push 0
	cmpje
	jmp l4667
l4665:
	push 0
	jmp l4667
l4666:
	push 1
l4667:
	cmp0
	je l4668
	cthis mouse_lclick
	jmp l4664
l4668:
	cthis play
l4664:
l4657:
	end method
	method mcol
	push 0
	push 32
	push 224
	ret
	end method
	method mtxtclip
	call grtxt,mclip
	end method
	method mclip
	push "Outro1"
	cthis eval
	end method
	method Outro1
	push 0
	push ystop
	push iResX
	push ystart
	cthis clip
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l4670
	push 1
	pop igmstate
	push 1000
	call mus,fadeout
	push "Outro2"
	call ccs,close
l4670:
	end method
	method Outro2
	call gameapi,exit
	end method
	end game

	game Intro
	parent DziejeGame
	method init
	push "intro"
	clparent DziejeGame,init
	new int,bgraj
	push 1
	pop bgraj
	push "d1.pyz"
	cthis img=
	push A
	push "zamykaloch"
	push "otwieradrzwi1"
	push "wlacznik 30"
	push "podnapis 70"
	cthis sfxs=
	localstring $1
	localint $2
	push 0
	pop $2
l4671:
	push $2
	push 4
	cmpjle
	cmp0
	je l4672
	jmp l4674
l4673:
	add $2,1
	pop $2
	jmp l4671
l4674:
	push "fxdzwon"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push "dzwon.wav"
	cthis newsfx
	push $1
	spushs
	push 30
	spop $a
	call [$a],setvol
	jmp l4673
l4672:
	push "tim1"
	push 2000
	push "Intro0"
	cthis timer=
	push "onfinish"
	push "Intro1"
	call fxzamykaloch,addmethod
	push "sounds/bgr/dzungla.wav"
	call gameapi,playmusic
	push 10
	call gameapi,setmusicvol
	push "Intro13"
	call ccs,enter
	end method
	method Intro0
	call fxzamykaloch,play
	end method
	method Intro1
	push GAME
	spushs
	spop $a
	call [$a],Intro2
	end method
	method Intro2
	delete and1
	push "d2.pyz"
	cthis img=
	call fxotwieradrzwi1,play
	push 20
	call gameapi,setmusicvol
	push 1
	popax
	sub 0,$a
	push "Intro3"
	call and2,anplayfin
	end method
	method Intro3
	push GAME
	spushs
	spop $a
	call [$a],Intro4
	end method
	method Intro4
	push "tim2"
	push 1500
	push "Intro5"
	cthis timer=
	call tim2,play
	end method
	method Intro5
	push GAME
	spushs
	spop $a
	call [$a],Intro6
	end method
	method Intro6
	delete and2
	push "d3.pyz"
	cthis img=
	call fxwlacznik,play
	push 1
	popax
	sub 0,$a
	push "Intro7"
	call and3,anplayfin
	end method
	method Intro7
	push GAME
	spushs
	spop $a
	call [$a],Intro8
	end method
	method Intro8
	push igmmystery
	cmp0
	je l4676
	push "mystery"
	cthis path=
	new gmimgvec,graut
	push "graut"
	push "intro.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call graut,hide
	call fxdzwon0,play
	call graut,first
	spushs
	spop $a
	call [$a],show
	push 1
	pop igmstate
	push "tim3"
	push 1200
	push "Intro9"
	cthis timer=
	call tim3,play
	jmp l4675
l4676:
	push A
	push "bgtxtH.pyz"
	push "logo.pyz 5"
	push "tytulH.pyz 5"
	cthis imgs=
	new gmimgvec,graut
	push "graut"
	push "autorzy.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call graut,hide
	call fxdzwon0,play
	push "tim3"
	push 700
	push "Intro11"
	cthis timer=
	call tim3,play
l4675:
	end method
	method Intro9
	push igmstate
	spushs
	push 1
	cmpst
	je l4679
	push 2
	cmpst
	je l4679
	jmp l4678
l4679:
	spop $a
	push igmstate
	call graut,get
	spushs
	spop $a
	call [$a],show
	add igmstate,1
	pop igmstate
	push "fxdzwon"
	push igmstate
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	call tim3,play
	jmp l4677
l4678:
	push 3
	cmpst
	jne l4680
	spop $a
	call fxpodnapis,play
	call graut,last
	spushs
	push 1
	popax
	sub 0,$a
	push "Intro10"
	spop $a
	call [$a],anplayfin
	jmp l4677
l4680:
	spop $a
l4677:
	end method
	method Intro10
	push "timend"
	push 3000
	push "mend"
	cthis timer=
	call timend,play
	end method
	method Intro11
	push igmstate
	spushs
	push 0
	cmpst
	je l4683
	push 1
	cmpst
	je l4683
	push 2
	cmpst
	je l4683
	push 3
	cmpst
	je l4683
	jmp l4682
l4683:
	spop $a
	cthis mview
	jmp l4681
l4682:
	push 4
	cmpst
	jne l4684
	spop $a
	call anbgtxt,show
	call fxpodnapis,play
	push 1
	popax
	sub 0,$a
	push "Intro12"
	call antytul,anplayfin
	jmp l4681
l4684:
	spop $a
l4681:
	end method
	method Intro12
	push "timend"
	push 3000
	push "mend"
	cthis timer=
	call timend,play
	end method
	method Intro13
	call tim1,play
	end method
	method mview
	push igmstate
	call graut,get
	spushs
	spop $a
	call [$a],show
	add igmstate,1
	pop igmstate
	push igmstate
	push 1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	cmp0
	je l4686
	push "fxdzwon"
	push igmstate
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l4686:
	call tim3,play
	end method
	method mend
	push bgraj
	cmp0
	je l4688
	push 0
	pop bgraj
	push "Intro14"
	call ccs,close
l4688:
	end method
	method Intro14
	push "MainMenu"
	call gameapi,play
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

