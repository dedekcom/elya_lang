; Dominik Dagiel   ix 2005

	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	new int,BYTESPACE
	push " "
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTESPACE
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l2
	push $1
	push $2
	cthis varnew
l2:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l4
	push $1
	cthis vardel
l4:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global0"
	cthis addmethod
	end method
	method global0
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global1"
	cthis addmethod
	end method
	method global1
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l5:
	push A
	push $2
	cmpjne
	cmp0
	je l6
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l5
l6:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l7:
	push A
	push $2
	cmpjne
	cmp0
	je l8
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l7
l8:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l9:
	push A
	push $3
	cmpjne
	cmp0
	je l10
	push $1
	neg
	cmp0
	je l12
	push $2
	push $3
	cmpje
	pop $1
l12:
	localdef $3
	pop $3
	jmp l9
l10:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l13:
	push $2
	push A
	cmpjne
	cmp0
	je l14
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l13
l14:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global2"
	cthis addmethod
	end method
	method global2
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l15:
	push $2
	push A
	cmpjne
	cmp0
	je l16
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l15
l16:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l18
	ret
l18:
l19:
	push $1
	push $2
	cmpjle
	cmp0
	je l20
	jmp l22
l21:
	add $1,1
	pop $1
	jmp l19
l22:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l21
l20:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l24
	ret
l24:
l25:
	push $1
	push $2
	cmpjae
	cmp0
	je l26
	jmp l28
l27:
	sub $1,1
	pop $1
	jmp l25
l28:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l27
l26:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l29:
	push $5
	push $1
	cmpjl
	cmp0
	je l30
	jmp l32
l31:
	add $5,1
	pop $5
	jmp l29
l32:
	push 0
	pop $4
l33:
	push $4
	push $2
	cmpjl
	cmp0
	je l34
	jmp l36
l35:
	add $4,1
	pop $4
	jmp l33
l36:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l35
l34:
	jmp l31
l30:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	end method
	method get
	add _iile,1
	pop _iile
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	method getid
	localint $1
	pop $1
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	method setaslocker
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlocker"
	push "classlocker0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlocker
	push $1
	spushs
	push "lock"
	push "lock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlock"
	push "unlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setlock"
	push "setlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getlock"
	push "getlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlocked"
	push "unlocked"
	spop $a
	call [$a],addmethod
	end method
	method classlocker0
	new int,_block
	push 1
	pop _block
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l37:
	push $2
	push $3
	cmpjl
	cmp0
	je l38
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l37
l38:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l40
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l40:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l43
	push $3
	push 0
	cmpjle
	jmp l44
l42:
	push 0
	jmp l44
l43:
	push 1
l44:
	cmp0
	je l45
	ret
l45:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l46:
	push $2
	push 0
	cmpja
	cmp0
	je l47
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l46
l47:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	neg
	cmp0
	je l49
	push $1
	cthis add
l49:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l51
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l51:
	end method
	method free
	call vn,free
	call vec,free
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l52:
	push $2
	push $3
	cmpjl
	cmp0
	je l53
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l55
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l57
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l59
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l59:
	jmp l56
l57:
	push 100
	call gameapi,setmusicvol
l56:
	push $6
	call gameapi,playmusic
	jmp l54
l55:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l61
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l63
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l65
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l65:
	jmp l62
l63:
	push 100
	call _sndbgr,setvol
l62:
	cthis playbgr
	jmp l60
l61:
	add $2,1
	pop $2
l60:
l54:
	jmp l52
l53:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	class Music
	method init
	new vector,vmus
	push "string"
	call vmus,type
	new int,ilastid
	end method
	method playdb
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	call vmus,free
l66:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l67
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l66
l67:
	push 0
	pop ilastid
	cthis play
	end method
	method playvec
	localstring $1
	localint $2
	pop $2
	pop $1
	call vmus,free
l68:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l69
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call vmus,add
	add $2,1
	pop $2
	jmp l68
l69:
	push 0
	pop ilastid
	cthis play
	end method
	method playstr
	localstring $1
	pop $1
	push $1
	push " "
	call vmus,vecbuildfromstring
	push 0
	pop ilastid
	cthis play
	end method
	method play
	push ilastid
	call vmus,size
	cmpjae
	cmp0
	je l71
	ret
l71:
	localdef $1
	push MUSICPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
	add ilastid,1
	pop ilastid
	localint $2
	push 0
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push 100
	pop $5
	localint $6
	push ilastid
	pop $6
l72:
	push $6
	call vmus,size
	cmpjl
	cmp0
	je l73
	jmp l75
l74:
	add $6,1
	pop $6
	jmp l72
l75:
	localdef $7
	push $6
	call vmus,get
	pop $7
	push $7
	spushs
	push "-l"
	cmpst
	jne l77
	spop $a
	push 1
	pop $2
	jmp l76
l77:
	push "-v"
	cmpst
	jne l78
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $5
	jmp l76
l78:
	push "-fin"
	cmpst
	jne l79
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $3
	jmp l76
l79:
	push "-fout"
	cmpst
	jne l80
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $4
	jmp l76
l80:
	push "-p"
	cmpst
	jne l81
	spop $a
	jmp l76
l81:
	spop $a
	push $6
	pop ilastid
	call vmus,size
	pop $6
l76:
	jmp l74
l73:
	push $5
	call gameapi,setmusicvol
	push $2
	cmp0
	je l83
	push $1
	call gameapi,playmusic
	call vmus,size
	pop ilastid
	ret
l83:
	push $1
	call gameapi,loadmusic
	push $3
	cmp0
	je l85
	push $3
	call gameapi,fadeinmusic
	jmp l84
l85:
	call gameapi,startmusic
l84:
	push $4
	cmp0
	je l87
	push $4
	call gameapi,fadeoutmusic
l87:
	end method
	method fadeout
	localint $1
	pop $1
	call gameapi,ismusicplaying
	cmp0
	je l89
	push $1
	call gameapi,fadeoutmusic
	call vmus,size
	pop ilastid
l89:
	end method
	end class

	new int,igmstate
	new int,igmdebug
	new int,igmeasy
	new int,igmdemo
	new int,igmbegin
	new string,sgmfontfile
	push "configs/fonts/normal.ttf"
	pop sgmfontfile
	new string,sgmfontmono
	push "configs/fonts/mono.ttf"
	pop sgmfontmono
	new string,sgmfontmonobold
	push "configs/fonts/monobold.ttf"
	pop sgmfontmonobold
	new string,sgmfontbold
	push "configs/fonts/monobold.ttf"
	pop sgmfontbold
	new string,sgmfontitalic
	push "configs/fonts/timesit.ttf"
	pop sgmfontitalic
	new string,SFXPATH
	push "sounds/sfx/"
	pop SFXPATH
	new string,BGRPATH
	push "sounds/bgr/"
	pop BGRPATH
	new string,MUSICPATH
	push "sounds/music/"
	pop MUSICPATH
	new string,LANG
	push "pl"
	pop LANG
	new string,SNDPATH
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l91
	push ""
	pop LANG
l91:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l93
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l93:
	new int,iResX
	push 800
	pop iResX
	new int,iResY
	push 600
	pop iResY
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l95
	push sgmfontfile
	pop $1
l95:
	push ".ttf"
	call $1,contains
	cmp0
	je l97
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l97:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l99
	ret
l99:
	sub $3,1
	pop $3
l100:
	push $3
	push 0
	cmpjae
	cmp0
	je l101
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l100
l101:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	ret
	end method
	method getsndpath
	push _sclwavpath
	ret
	end method
	method getpath
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l103
	push 1
	call $1,strsubb
	jmp l102
l103:
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
l102:
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l105
	ret
l105:
	localint $5
	push 0
	pop $5
l106:
	push $5
	push $4
	cmpjl
	cmp0
	je l107
	jmp l109
l108:
	add $5,1
	pop $5
	jmp l106
l109:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l108
l107:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l111
	ret
l111:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l112:
	push $6
	push $5
	cmpjl
	cmp0
	je l113
	jmp l115
l114:
	add $6,1
	pop $6
	jmp l112
l115:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l117
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l117:
	jmp l114
l113:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push "."
	call $2,contains
	neg
	cmp0
	je l119
	push ".wav"
	popax
	add $2,$a
	pop $2
l119:
	push $2
	call engine,fileexist
	neg
	cmp0
	je l121
	push "wav"
	call $2,strsubes
	push "ogg"
	pop $b
	popax
	add $a,$b
	pop $2
l121:
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l123
	push $1
	push $2
	call subtitle,register
l123:
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l124:
	push $8
	push $7
	cmpjl
	cmp0
	je l125
	jmp l127
l126:
	add $8,1
	pop $8
	jmp l124
l127:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l126
l125:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l129
	push $1
	cthis looponfinish
	jmp l128
l129:
	push "H"
	call $2,contains
	cmp0
	je l131
	push $1
	cthis hideonfinish
l131:
l128:
	push "P"
	call $2,contains
	cmp0
	je l133
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l133:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l134:
	push $6
	push $4
	cmpjl
	cmp0
	je l135
	jmp l137
l136:
	add $6,1
	pop $6
	jmp l134
l137:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l139
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l139:
	jmp l136
l135:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l140:
	push $5
	push $4
	cmpjl
	cmp0
	je l141
	jmp l143
l142:
	add $5,1
	pop $5
	jmp l140
l143:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l142
l141:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],loadscritp
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l145
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l145:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push msid
	push 1
	cmpjne
	cmp0
	je l147
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
l147:
	end method
	method setact
	push msid
	push 2
	cmpjne
	cmp0
	je l149
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
l149:
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l150
	push $1
	push $5
	cmpjle
	cmp0
	je l150
	push $2
	push $4
	cmpjae
	cmp0
	je l150
	push $2
	push $6
	cmpjle
	jmp l152
l150:
	push 0
	jmp l152
l151:
	push 1
l152:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l153
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l153
	push $2
	push $4
	cmpjae
	cmp0
	je l153
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l155
l153:
	push 0
	jmp l155
l154:
	push 1
l155:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l157
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l157
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l157
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l158
l156:
	push 0
	jmp l158
l157:
	push 1
l158:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l160
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l161
l159:
	push 0
	jmp l161
l160:
	push 1
l161:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l162
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l162
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l162
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l164
l162:
	push 0
	jmp l164
l163:
	push 1
l164:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l165
	push ilx
	push $6
	cmpjle
	cmp0
	je l165
	push ily
	push $5
	cmpjae
	cmp0
	je l165
	push ily
	push $7
	cmpjle
	jmp l167
l165:
	push 0
	jmp l167
l166:
	push 1
l167:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l168:
	push $2
	push $6
	cmpjne
	cmp0
	je l169
	push $3
	push $7
	cmpjne
	jmp l171
l169:
	push 0
	jmp l171
l170:
	push 1
l171:
	cmp0
	je l172
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l174
	push $2
	push $3
	ret
l174:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l168
l172:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class ImagePos
	method init
	end method
	method getex
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	end class

	class ImageVisible
	method init
	new int,_isvisible
	push 1
	pop _isvisible
	end method
	method isvisible
	push _isvisible
	end method
	method show
	push 1
	pop _isvisible
	end method
	method hide
	push 0
	pop _isvisible
	end method
	end class

	class Image
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push A
	push "getz"
	push 0
	push "getpx"
	push 0
	push "getpy"
	push 0
	push "getw"
	push 0
	push "geth"
	push 0
	push "isvisible"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "show"
	push "Image0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "hide"
	push "Image1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setz"
	push "Image2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpos"
	push "Image3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "move"
	push "Image4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getex"
	push "Image5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getey"
	push "Image6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcx"
	push "Image7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcy"
	push "Image8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isin"
	push "Image9"
	spop $a
	call [$a],addmethod
	end method
	method Image0
	push 1
	pop isvisible
	end method
	method Image1
	push 0
	pop isvisible
	end method
	method Image2
	localint $1
	pop $1
	push $1
	pop getz
	end method
	method Image3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop getpx
	push $2
	pop getpy
	end method
	method Image4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add getpx,$a
	pop getpx
	push $2
	popax
	add getpy,$a
	pop getpy
	end method
	method Image5
	push getpx
	push getw
	pop $b
	popax
	add $a,$b
	end method
	method Image6
	push getpy
	push geth
	pop $b
	popax
	add $a,$b
	end method
	method Image7
	push getpx
	push getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image8
	push getpy
	push geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	neg
	cmp0
	je l176
	push $3
	neg
	cmp0
	jne l179
	push $3
	cmp0
	je l180
	push isvisible
	jmp l182
l180:
	push 0
	jmp l182
l181:
	push 1
l182:
	jmp l183
l178:
	push 0
	jmp l183
l179:
	push 1
l183:
	cmp0
	je l184
	push $1
	push getpx
	cmpjae
	cmp0
	je l185
	push $1
	cthis getex
	cmpjl
	cmp0
	je l185
	push $2
	push getpy
	cmpjae
	cmp0
	je l185
	push $2
	cthis getey
	cmpjl
	jmp l187
l185:
	push 0
	jmp l187
l186:
	push 1
l187:
	jmp l177
l184:
	push 0
l177:
	jmp l175
l176:
	push 0
l175:
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l189
	push $1
	cthis play
l189:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l190
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l192
l190:
	push 0
	jmp l192
l191:
	push 1
l192:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l193:
	push $2
	cthis size
	cmpjl
	cmp0
	je l194
	jmp l196
l195:
	add $2,1
	pop $2
	jmp l193
l196:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l195
l194:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l197:
	push $1
	push iile
	cmpjl
	cmp0
	je l198
	jmp l200
l199:
	add $1,1
	pop $1
	jmp l197
l200:
	push $1
	call _vs,get
	neg
	cmp0
	je l202
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l202:
	jmp l199
l198:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _pos
	push 10
	call $1,getb
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l204
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l206
	spop $a
	push $1
	cthis copy
	jmp l205
l206:
	push "gmobjvec"
	cmpst
	jne l207
	spop $a
	push $1
	cthis copy
	jmp l205
l207:
	push "gmimgvec"
	cmpst
	jne l208
	spop $a
	push $1
	cthis copy
	jmp l205
l208:
	spop $a
	cthis free
	push $1
	cthis add
l205:
	jmp l203
l204:
	cthis free
	push $1
	cthis add
l203:
	end method
	method save
	localstring $1
	pop $1
	push $1
	call lsim,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call lsim,load
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l209:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l210
	jmp l212
l211:
	add $2,1
	pop $2
	jmp l209
l212:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l211
l210:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l213:
	push $2
	cthis size
	cmpjl
	cmp0
	je l214
	jmp l216
l215:
	add $2,1
	pop $2
	jmp l213
l216:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l215
l214:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l217:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l218
	jmp l220
l219:
	add $2,1
	pop $2
	jmp l217
l220:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l219
l218:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	call lsim,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method set
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,set
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l221:
	push $3
	push 0
	cmpja
	cmp0
	je l222
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l221
l222:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l223:
	push $1
	cthis size
	cmpjl
	cmp0
	je l224
	jmp l226
l225:
	add $1,1
	pop $1
	jmp l223
l226:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l225
l224:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l227:
	push $2
	cthis size
	cmpjl
	cmp0
	je l228
	jmp l230
l229:
	add $2,1
	pop $2
	jmp l227
l230:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l229
l228:
	end method
	method deleteallgmobj
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l231:
	push $2
	cthis size
	cmpjl
	cmp0
	je l232
	jmp l234
l233:
	add $2,1
	pop $2
	jmp l231
l234:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],deletegmobj
	jmp l233
l232:
	end method
	method lockall
	push "lock"
	cthis eval
	cthis print
	end method
	method unlockall
	push "unlock"
	cthis eval
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l236
	push $1
	call lsim,add
l236:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l237:
	push $2
	push $1
	cmpjne
	cmp0
	je l238
	push $2
	cthis addbegin
	pop $2
	jmp l237
l238:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method removelist
	push "remove"
	cthis withlist
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l240
	push $1
	cthis addbegin
	jmp l239
l240:
	push $2
	push $3
	cmpjae
	cmp0
	je l242
	push $1
	cthis add
	jmp l241
l242:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l243:
	push $4
	push $2
	cmpja
	cmp0
	je l244
	jmp l246
l245:
	sub $4,1
	pop $4
	jmp l243
l246:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l245
l244:
	push $2
	push $1
	cthis set
l241:
l239:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l247:
	push $1
	cthis contains
	cmp0
	je l248
	push $1
	cthis remove
	jmp l247
l248:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l249:
	push $2
	cthis size
	cmpjl
	cmp0
	je l250
	jmp l252
l251:
	add $2,1
	pop $2
	jmp l249
l252:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l254
	push $2
	cthis removeat
l254:
	jmp l251
l250:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l255:
	push $2
	push $3
	cmpjle
	cmp0
	je l256
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l255
l256:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l258
	call $1,rand
	cthis get
	jmp l257
l258:
	push "null"
l257:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l260
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l261:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l262
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l264
	push "null"
	ret
l264:
	jmp l261
l262:
	push $3
	cthis get
	ret
l260:
	push "null"
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l266
l267:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l268
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l267
l268:
l266:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l269:
	push $5
	push 0
	cmpjae
	cmp0
	je l270
	jmp l272
l271:
	sub $5,1
	pop $5
	jmp l269
l272:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l274
	push $5
	call lsim,get
	ret
l274:
	jmp l271
l270:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l275:
	push $5
	push 0
	cmpjae
	cmp0
	je l276
	jmp l278
l277:
	sub $5,1
	pop $5
	jmp l275
l278:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l280
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l280:
	jmp l277
l276:
	push 0
	ret
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l281:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l282
	jmp l284
l283:
	add $2,1
	pop $2
	jmp l281
l284:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l283
l282:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l285:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l286
	jmp l288
l287:
	add $3,1
	pop $3
	jmp l285
l288:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l287
l286:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l289:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l290
	jmp l292
l291:
	add $4,1
	pop $4
	jmp l289
l292:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l291
l290:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l293:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l294
	jmp l296
l295:
	add $5,1
	pop $5
	jmp l293
l296:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l295
l294:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l297:
	push $3
	cthis size
	cmpjl
	cmp0
	je l298
	jmp l300
l299:
	add $3,1
	pop $3
	jmp l297
l300:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l302
	push $3
	ret
l302:
	jmp l299
l298:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l303:
	push $3
	cthis size
	cmpjl
	cmp0
	je l304
	jmp l306
l305:
	add $3,1
	pop $3
	jmp l303
l306:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l308
	push $3
	ret
l308:
	jmp l305
l304:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l309:
	push $2
	cthis size
	cmpjl
	cmp0
	je l310
	jmp l312
l311:
	add $2,1
	pop $2
	jmp l309
l312:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l311
l310:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l313:
	push $3
	cthis size
	cmpjl
	cmp0
	je l314
	jmp l316
l315:
	add $3,1
	pop $3
	jmp l313
l316:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l315
l314:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l317:
	push $4
	cthis size
	cmpjl
	cmp0
	je l318
	jmp l320
l319:
	add $4,1
	pop $4
	jmp l317
l320:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l319
l318:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l321:
	push $2
	cthis size
	cmpjl
	cmp0
	je l322
	jmp l324
l323:
	add $2,1
	pop $2
	jmp l321
l324:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l326
	push 0
	ret
l326:
	jmp l323
l322:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l328
	ret
l328:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l329:
	push $6
	cthis size
	cmpjl
	cmp0
	je l330
	jmp l332
l331:
	add $6,1
	pop $6
	jmp l329
l332:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l334
	push $6
	pop $3
	push $5
	pop $4
l334:
	jmp l331
l330:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l336
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l337
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l339
l337:
	push 0
	jmp l339
l338:
	push 1
l339:
	jmp l340
l335:
	push 0
	jmp l340
l336:
	push 1
l340:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l342
	push _ix
	ret
l342:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l343:
	push $4
	push $1
	cmpjl
	cmp0
	je l344
	jmp l346
l345:
	add $4,1
	pop $4
	jmp l343
l346:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l348
	push $3
	pop $2
l348:
	jmp l345
l344:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l350
	push _iy
	ret
l350:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l351:
	push $4
	push $1
	cmpjl
	cmp0
	je l352
	jmp l354
l353:
	add $4,1
	pop $4
	jmp l351
l354:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l356
	push $3
	pop $2
l356:
	jmp l353
l352:
	push $2
	ret
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l358
	push _ix
	ret
l358:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l359:
	push $4
	push $1
	cmpjl
	cmp0
	je l360
	jmp l362
l361:
	add $4,1
	pop $4
	jmp l359
l362:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l364
	push $3
	pop $2
l364:
	jmp l361
l360:
	push $2
	ret
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l366
	push _iy
	ret
l366:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l367:
	push $4
	push $1
	cmpjl
	cmp0
	je l368
	jmp l370
l369:
	add $4,1
	pop $4
	jmp l367
l370:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l372
	push $3
	pop $2
l372:
	jmp l369
l368:
	push $2
	ret
	end method
	method _getw
	cthis getex
	cthis _getpx
	pop $b
	popax
	sub $a,$b
	end method
	method _geth
	cthis getey
	cthis _getpy
	pop $b
	popax
	sub $a,$b
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l374
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l374:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l375:
	push $3
	cthis size
	cmpjl
	cmp0
	je l376
	jmp l378
l377:
	add $3,1
	pop $3
	jmp l375
l378:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l377
l376:
	end method
	method nplay
	localint $1
	pop $1
	push "play"
	push $1
	cthis eval1
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l379:
	push $1
	cthis size
	cmpjl
	cmp0
	je l380
	jmp l382
l381:
	add $1,1
	pop $1
	jmp l379
l382:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l381
l380:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l383:
	push $5
	push 0
	cmpjae
	cmp0
	je l384
	jmp l386
l385:
	sub $5,1
	pop $5
	jmp l383
l386:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l388
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l388:
	jmp l385
l384:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l389:
	push $4
	push 0
	cmpjae
	cmp0
	je l390
	jmp l392
l391:
	sub $4,1
	pop $4
	jmp l389
l392:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l394
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l394:
	jmp l391
l390:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l395:
	push $5
	push 0
	cmpjae
	cmp0
	je l396
	jmp l398
l397:
	sub $5,1
	pop $5
	jmp l395
l398:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l400
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l402
l400:
	push 0
	jmp l402
l401:
	push 1
l402:
	cmp0
	je l403
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l403:
	jmp l397
l396:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "actionnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method getsac
	localstring $1
	pop $1
	push $1
	cthis findsac
	cthis get
	end method
	method getsacfr
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l404:
	push $3
	cthis size
	cmpjl
	cmp0
	je l405
	jmp l407
l406:
	add $3,1
	pop $3
	jmp l404
l407:
	push $3
	cthis get
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	cmp0
	je l409
	push $3
	cthis get
	spushs
	spop $a
	call [$a],framenr
	push $2
	cmpje
	jmp l411
l409:
	push 0
	jmp l411
l410:
	push 1
l411:
	cmp0
	je l412
	push $3
	cthis get
	ret
l412:
	jmp l406
l405:
	push "null"
	end method
	method blitto
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l413:
	push $2
	cthis size
	cmpjl
	cmp0
	je l414
	jmp l416
l415:
	add $2,1
	pop $2
	jmp l413
l416:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],blit
	jmp l415
l414:
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l418
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l417
l418:
	push $1
	pop $3
l417:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l420
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l419
l420:
	push $1
	pop $3
l419:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	end class

	class gmadvvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l421:
	push $5
	push 0
	cmpjae
	cmp0
	je l422
	jmp l424
l423:
	sub $5,1
	pop $5
	jmp l421
l424:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],butisin
	cmp0
	je l426
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l426:
	jmp l423
l422:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	end class

	class gmmaskvec
	parent gmadvvec
	method init
	clparent gmadvvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,butisin
	end method
	end class

	class Subtitle
	method init
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $7
	push 0.5
	pop $7
	localint $8
	localint $9
	localint $10
	push 255
	pop $8
	push 255
	pop $9
	push 255
	pop $10
	new int,iborx
	push $5
	pop iborx
	new int,ibory
	push $6
	pop ibory
	new font,fnt
	push $3
	push $4
	call fnt,load
	new int,ifontsize
	push $4
	pop ifontsize
	new db,dbl
	push "lang/"
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,load
	localstring $11
	localstring $12
	new vector,v1
	push "string"
	call v1,type
	localint $13
	push iResX
	push 2
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $7
	push $4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop $13
	localint $14
	localint $15
	localint $16
	push 0
	pop $16
	localint $17
	push 0
	pop $17
l427:
	push $17
	call dbl,getrowsno
	cmpjl
	cmp0
	je l428
	jmp l430
l429:
	add $17,1
	pop $17
	jmp l427
l430:
	push $17
	push 0
	call dbl,get
	pop $11
	push 0
	push 4
	call $11,gete
	push ".wav"
	cmpjne
	cmp0
	je l432
	push ".wav"
	popax
	add $11,$a
	pop $11
l432:
	push $17
	push 0
	push $2
	push $11
	pop $b
	popax
	add $a,$b
	call dbl,set
	push $17
	push 1
	call dbl,get
	pop $11
	push $11
	push " "
	call v1,vecbuildfromstring
	push ""
	pop $12
	push 1
	pop $14
	push 0
	pop $15
l433:
	push $15
	call v1,size
	cmpjl
	cmp0
	je l434
	jmp l436
l435:
	add $15,1
	pop $15
	jmp l433
l436:
	call $12,length
	push $15
	call v1,get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	push $13
	cmpjle
	cmp0
	je l438
	push " "
	push $15
	call v1,get
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l437
l438:
	push $14
	push 1
	cmpje
	cmp0
	je l440
	push $17
	push $14
	push $12
	call dbl,set
	jmp l439
l440:
	push $17
	push $12
	call dbl,add
l439:
	push $15
	call v1,get
	pop $12
	add $14,1
	pop $14
l437:
	jmp l435
l434:
	push $14
	push 1
	cmpje
	cmp0
	je l442
	push $17
	push $14
	push $12
	call dbl,set
	jmp l441
l442:
	push $17
	push $12
	call dbl,add
l441:
	push $14
	push $16
	cmpja
	cmp0
	je l444
	push $14
	pop $16
l444:
	jmp l429
l428:
	new gmimgvec,grtxt
	localint $17
	push 0
	pop $17
l445:
	push $17
	push $16
	cmpjl
	cmp0
	je l446
	jmp l448
l447:
	add $17,1
	pop $17
	jmp l445
l448:
	push "txt"
	push $17
	pop $b
	popax
	add $a,$b
	pop $11
	push "txts"
	push $17
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	push ""
	push "fnt"
	cthis black
	clparent classgame,newtext
	push $11
	push ""
	push "fnt"
	push $8
	push $9
	push $10
	clparent classgame,newtext
	push $11
	call grtxt,add
	push $12
	call grtxt,add
	jmp l447
l446:
	new db,dbsnd
	new timer,timtxt
	push 1
	call timtxt,settick
	push 1
	call timtxt,setcycle
	push "onfinish"
	push "Subtitle0"
	call timtxt,addmethod
	push 12000
	cthis setz
	end method
	method Subtitle0
	cthis cisplaying
	neg
	cmp0
	je l450
	cthis hidesubs
	jmp l449
l450:
	cthis play
l449:
	end method
	method reset
	cthis stop
	call dbsnd,free
	end method
	method hidesubs
	call grtxt,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	call grtxt,setz
	end method
	method stop
	cthis hidesubs
	push 0
	call timtxt,stop
	end method
	method register
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l452
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l454
	push $4
	push 1
	push $3
	call dbsnd,set
	jmp l453
l454:
	localdef $4
	call dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push $4
	push $1
	call dbsnd,add
	push $4
	push $3
	call dbsnd,add
l453:
l452:
	push "register "
	push $1
	pop $b
	popax
	add $a,$b
	push " "
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push " "
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
	end method
	method play
	localstring $1
	pop $1
	cthis stop
	localdef $2
	push $1
	call dbsnd,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l456
	push $2
	push 1
	call dbsnd,get
	pop $2
	localdef $3
	push $2
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	localstring $5
	localint $6
	push 0
	push 0
	call grtxt,setpos
	localint $7
	push 2
	pop $7
	localint $8
	push 0
	pop $8
l457:
	push $8
	push $3
	cmpjl
	cmp0
	je l458
	jmp l460
l459:
	add $8,1
	pop $8
	jmp l457
l460:
	push 2
	push $8
	pop $b
	popax
	mul $a,$b
	pop $6
	push $6
	call grtxt,get
	pop $4
	push $4
	spushs
	push $2
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	call dbl,get
	spop $a
	call [$a],txtset
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	call grtxt,get
	pop $5
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push iResX
	push $4
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $8
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $4
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push 2
	pop $b
	popax
	add $a,$b
	push $4
	spushs
	spop $a
	call [$a],getpy
	push 2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	jmp l459
l458:
	push 0
	push iResY
	push $3
	push ifontsize
	push $7
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push ibory
	pop $b
	popax
	sub $a,$b
	call grtxt,move
	call timtxt,play
l456:
	end method
	end class

	new int,igmsubtitle
	push 1
	pop igmsubtitle
	push igmsubtitle
	cmp0
	je l462
	push "sub_turniej.db"
	push "sounds/"
	push sgmfontbold
	push 22
	push 50
	push 15
	new Subtitle,subtitle
l462:
	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	push igmsubtitle
	cmp0
	je l464
	call subtitle,reset
l464:
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l466
	push $1
	cthis cbplay
	jmp l465
l466:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l468
	push $1
	cthis cbplay
l468:
l465:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l471
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l472
l470:
	push 0
	jmp l472
l471:
	push 1
l472:
	cmp0
	je l473
	push $1
	cthis cbplay
l473:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l475
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l475:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l477
	push $1
	cthis csubplay
l477:
	end method
	method cbsplay
	localstring $1
	pop $1
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l479
	push $1
	cthis csubplay
l479:
	end method
	method cbplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	push $1
	cthis cbplay
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l481
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l481:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l483
	push $1
	cthis csubplay
l483:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l485
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l487
l485:
	push 0
	jmp l487
l486:
	push 1
l487:
	cmp0
	je l488
	ret
l488:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l490
	push $1
	cthis csubplay
l490:
	end method
	method cbplayif
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l492
	push $1
	cthis cbplay
l492:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l494
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l496
l494:
	push 0
	jmp l496
l495:
	push 1
l496:
	cmp0
	je l497
	push $1
	cthis csubplay
l497:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l499
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l499:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l501
	push $3
	push "null"
	cmpjne
	jmp l503
l501:
	push 0
	jmp l503
l502:
	push 1
l503:
	cmp0
	je l504
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l504:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l506
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l506:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l508
	cthis cisplaying
	jmp l510
l508:
	push 0
	jmp l510
l509:
	push 1
l510:
	cmp0
	je l511
	push $1
	cthis cactsndstop
l511:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l513
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l512
l513:
	push 0
l512:
	end method
	method csubplay
	localstring $1
	pop $1
	push igmsubtitle
	cmp0
	je l515
	push $1
	call subtitle,play
l515:
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l517
	push 0
	pop iile
	ret
l517:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l518:
	push $3
	push $2
	cmpjl
	cmp0
	je l519
	jmp l521
l520:
	add $3,1
	pop $3
	jmp l518
l521:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l520
l519:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l523
	push 0
	pop iile
	ret
l523:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l525
	call iile,rand
	pop ilicz
l525:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l526:
	push $3
	push iile
	cmpjl
	cmp0
	je l527
	jmp l529
l528:
	add $3,1
	pop $3
	jmp l526
l529:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l528
l527:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l531
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l531:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l533
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l532
l533:
	push 0
l532:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l535
	cthis play
l535:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l537
	cthis bgplay
l537:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l539
	cthis play
l539:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l541
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l540
l541:
	push itype
	push 1
	cmpje
	cmp0
	je l543
	call iile,rand
	pop ilicz
l543:
l540:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l544:
	push $2
	push iile
	cmpjl
	cmp0
	je l545
	jmp l547
l546:
	add $2,1
	pop $2
	jmp l544
l547:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l546
l545:
	end method
	end class

	class SoundSource
	method init
	end method
	method setvol
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call $5,abs
	push $4
	cmpjae
	cmp0
	je l549
	push $1
	spushs
	push $3
	spop $a
	call [$a],setvol
	jmp l548
l549:
	push $1
	spushs
	push 1.0
	call $5,abs
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setvol
l548:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l551
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l550
l551:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l550:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l553
	push "L"
	call $1,strremove
	push 1
	pop $2
l553:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l555
	push "P"
	call $1,strremove
	push 1
	pop $3
l555:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l557
	push "H"
	call $1,strremove
	push 1
	pop $4
l557:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push 0
	pop $5
	push " "
	call $1,contains
	cmp0
	je l559
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l559:
	localstring $6
	push 4
	call $1,strsube
	pop $6
	localstring $7
	push ".pyz"
	call $1,contains
	cmp0
	je l561
	push "an"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newanima
	jmp l560
l561:
	push "img"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newimg
l560:
	push $2
	cmp0
	je l563
	push $7
	spushs
	spop $a
	call [$a],anloopfin
l563:
	push $3
	cmp0
	je l565
	push $7
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l565:
	push $4
	cmp0
	je l567
	push $7
	spushs
	spop $a
	call [$a],hide
l567:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l568:
	push A
	push $2
	cmpjne
	cmp0
	je l569
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l568
l569:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localint $2
	push "N"
	call $1,contains
	pop $2
	push $2
	cmp0
	je l571
	push "N"
	call $1,strremove
l571:
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	popax
	pop $4
	pop $3
	pop $1
	localdef $5
	push 100
	pop $5
	push " "
	call $1,contains
	cmp0
	je l573
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l573:
	localstring $6
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $6
	spushs
	push $5
	spop $a
	call [$a],setvol
	push $3
	cmp0
	je l575
	push $6
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l575:
	push $4
	cmp0
	je l577
	push $6
	spushs
	spop $a
	call [$a],play
	jmp l576
l577:
	push $2
	cmp0
	je l579
	push $6
	spushs
	spop $a
	call [$a],playloop
l579:
l576:
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l581
	new TicksCounter,__timspeed
l581:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l583
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l583:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method newfontbold
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontbold
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method stdmono
	localint $1
	pop $1
	push sgmfontmono
	push $1
	cthis snewfont
	end method
	method stdbold
	localint $1
	pop $1
	push sgmfontbold
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l584:
	push $2
	push $3
	cmpjle
	cmp0
	je l585
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l584
l585:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l586:
	push $6
	push $5
	cmpjl
	cmp0
	je l587
	jmp l589
l588:
	add $6,1
	pop $6
	jmp l586
l589:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l588
l587:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l590:
	push $7
	push $5
	cmpjl
	cmp0
	je l591
	jmp l593
l592:
	add $7,1
	pop $7
	jmp l590
l593:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l592
l591:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l594:
	push $7
	push $5
	cmpjl
	cmp0
	je l595
	jmp l597
l596:
	add $7,1
	pop $7
	jmp l594
l597:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l596
l595:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l598:
	push $3
	push $4
	cmpjl
	cmp0
	je l599
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l601
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l604
	push $12
	push "sfx"
	cmpje
	jmp l605
l603:
	push 0
	jmp l605
l604:
	push 1
l605:
	cmp0
	je l606
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l608
	push $14
	push $13
	cthis newsfx
	jmp l607
l608:
	push $14
	push $13
	cthis newsnd
l607:
	push $7
	push $6
	cmpjl
	cmp0
	je l610
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l612
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l611
l612:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l614
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l613
l614:
	push $12
	push "vol"
	cmpje
	cmp0
	je l616
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l616:
l613:
l611:
l610:
	jmp l602
l606:
	push $12
	push "group"
	cmpje
	cmp0
	je l618
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l620
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l622
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l622:
	jmp l619
l620:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l619:
	jmp l617
l618:
	push $12
	push "bank"
	cmpje
	cmp0
	je l624
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l626
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l628
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l627
l628:
	push $12
	push "vol"
	cmpje
	cmp0
	je l630
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l630:
l627:
l626:
	jmp l623
l624:
	push $12
	push "method"
	cmpje
	cmp0
	je l632
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l633:
	push $8
	push $9
	cmpjle
	cmp0
	je l634
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l633
l634:
	jmp l631
l632:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l636
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l635
l636:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l638
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l640
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l642
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l642:
l640:
	jmp l637
l638:
	push $12
	push "music"
	cmpje
	cmp0
	je l644
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l646
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l648
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l648:
l646:
l644:
l637:
l635:
l631:
l623:
l617:
l602:
l601:
	add $3,1
	pop $3
	jmp l598
l599:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l649:
	push $2
	push $3
	cmpjle
	cmp0
	je l650
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l652
	push $2
	ret
l652:
	add $2,1
	pop $2
	jmp l649
l650:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l654
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l654:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l655:
	push $14
	push $6
	cmpjl
	cmp0
	je l656
	jmp l658
l657:
	add $14,1
	pop $14
	jmp l655
l658:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l659:
	push $8
	push $7
	cmpjle
	cmp0
	je l660
	jmp l662
l661:
	add $8,1
	pop $8
	jmp l659
l662:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l664
	push $13
	pop $10
	jmp l663
l664:
	push $8
	push 2
	cmpje
	cmp0
	je l666
	push $13
	pop $11
	jmp l665
l666:
	push $8
	push 3
	cmpje
	cmp0
	je l668
	push $13
	pop $12
l668:
l665:
l663:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l661
l660:
	push $4
	push "null"
	cmpjne
	cmp0
	je l670
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l672
l670:
	push 0
	jmp l672
l671:
	push 1
l672:
	cmp0
	je l673
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l669
l673:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l669:
	jmp l657
l656:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l675
	push sfxmon
	spushs
	spop $a
	call [$a],play
l675:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l677
	ret
l677:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l678:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l679
	jmp l681
l680:
	add $5,1
	pop $5
	jmp l678
l681:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l680
l679:
	end method
	method print
	localint $1
	push 0
	pop $1
l682:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l683
	jmp l685
l684:
	add $1,1
	pop $1
	jmp l682
l685:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l684
l683:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l686:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l687
	jmp l689
l688:
	add $2,1
	pop $2
	jmp l686
l689:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l688
l687:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l690:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l691
	jmp l693
l692:
	add $3,1
	pop $3
	jmp l690
l693:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l692
l691:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l695
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l694
l695:
	push "null"
l694:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l696:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l697
	jmp l699
l698:
	add $2,1
	pop $2
	jmp l696
l699:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l698
l697:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l701
	push iilebut
	pop $2
l701:
	localint $3
	push 0
	pop $3
l702:
	push $3
	push $2
	cmpjl
	cmp0
	je l703
	jmp l705
l704:
	add $3,1
	pop $3
	jmp l702
l705:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l704
l703:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l707
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l706
l707:
	push "null"
l706:
	ret
	end method
	method callimgfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getimg
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l709
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l709:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l711
	ret
l711:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l713
	push sfxmon
	spushs
	spop $a
	call [$a],play
l713:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l715
	push 0
	jmp l714
l715:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l714:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l717
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l719
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l719:
	push $10
	push 2
	cmpja
	cmp0
	je l721
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l721:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l716
l717:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l716:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l722:
	push $4
	push $3
	cmpjl
	cmp0
	je l723
	jmp l725
l724:
	add $4,1
	pop $4
	jmp l722
l725:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l724
l723:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l727
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l726
l727:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l726:
	push $4
	cmp0
	je l729
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l729:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l731
	push $1
	push "null"
	cmpje
	cmp0
	je l733
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l732
l733:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l732:
l731:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l735
	cthis get
	jmp l734
l735:
	push 0
	push $2
	cthis getb
l734:
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l736:
	push $4
	cthis length
	cmpjl
	cmp0
	je l737
	jmp l739
l738:
	add $4,1
	pop $4
	jmp l736
l739:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l742
	push $3
	push $2
	cmpja
	jmp l743
l741:
	push 0
	jmp l743
l742:
	push 1
l743:
	cmp0
	je l744
	push 0
	ret
l744:
	jmp l738
l737:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l745:
	push $3
	cthis length
	cmpjl
	cmp0
	je l746
	jmp l748
l747:
	add $3,1
	pop $3
	jmp l745
l748:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l747
l746:
	end method
	method strdotpos
	localint $1
	pop $1
	push "."
	cthis strgetto
	push "."
	pop $b
	popax
	add $a,$b
	push "."
	cthis strgetfrom
	spushs
	push 0
	push $1
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l750
	push 0
	jmp l749
l750:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l749:
	end method
	method between
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l752
	push $1
	jmp l751
l752:
	push $2
	push $3
	cmpja
	cmp0
	je l754
	push $3
	jmp l753
l754:
	push $2
l753:
l751:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l756
	push $1
	jmp l755
l756:
	push $2
l755:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l758
	push $1
	jmp l757
l758:
	push $2
l757:
	end method
	method imgborders
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push "1111"
	cthis imgborderss
	end method
	method imgborderss
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new img,_img_bor
	cthis getw
	push $1
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 3
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l760
	push "_img_bor"
	cthis blit
l760:
	push 0
	cthis geth
	push $1
	pop $b
	popax
	sub $a,$b
	call _img_bor,move
	push 1
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l762
	push "_img_bor"
	cthis blit
l762:
	push $1
	cthis geth
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 0
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l764
	push "_img_bor"
	cthis blit
l764:
	cthis getw
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	call _img_bor,move
	push 2
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l766
	push "_img_bor"
	cthis blit
l766:
	delete _img_bor
	end method
	method imgroundborder
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis imgborders
	cthis imgerasecorners
	end method
	method imgerasecorners
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push $1
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	push $1
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	end method
	method imgdrawline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "blit"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgeraseline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "erase"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgputoncenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method imgfuncline
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $9
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	pop $9
	localdef $10
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	pop $10
	localreal $11
	push $9
	push 0
	cmpje
	cmp0
	je l768
	push $10
	push 0
	cmpjl
	cmp0
	je l770
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l771:
	push $11
	push $6
	cmpjae
	cmp0
	je l772
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	sub $11,$a
	pop $11
	jmp l771
l772:
	push $6
	push $11
	pop $b
	popax
	sub $a,$b
	jmp l769
l770:
	push $10
	push 0
	cmpja
	cmp0
	je l774
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l775:
	push $11
	push $6
	cmpjle
	cmp0
	je l776
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $11,$a
	pop $11
	jmp l775
l776:
	push $11
	push $6
	pop $b
	popax
	sub $a,$b
	jmp l773
l774:
	push $8
l773:
l769:
	jmp l767
l768:
	push $9
	push $10
	call $8,length
	pop $11
	localreal $12
l777:
	push $8
	push $11
	cmpjle
	cmp0
	je l778
	push 1.0
	push $11
	push $8
	pop $b
	popax
	sub $a,$b
	push $11
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $12
	push $2
	spushs
	push $12
	push $9
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $12
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $8,$a
	pop $8
	jmp l777
l778:
	push $8
	push $11
	pop $b
	popax
	sub $a,$b
l767:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ancenterscreen
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis ansetcpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l779:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l780
	cthis framename
	push $2
	cmpjne
	jmp l782
l780:
	push 0
	jmp l782
l781:
	push 1
l782:
	cmp0
	je l783
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l779
l783:
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localint $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method anisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l784:
	push $5
	cthis nofactions
	cmpjl
	cmp0
	je l785
	jmp l787
l786:
	add $5,1
	pop $5
	jmp l784
l787:
	push $5
	push 0
	cthis setframe
	push $1
	push $2
	push $3
	push $4
	cthis isin
	cmp0
	je l789
	push $5
	ret
l789:
	jmp l786
l785:
	push 1
	popax
	sub 0,$a
	end method
	method anreload
	localstring $1
	pop $1
	localint $2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $2
	localint $3
	cthis framenr
	pop $3
	localint $4
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	pop $4
	localint $5
	localint $6
	cthis getpos
	pop $6
	pop $5
	localint $7
	cthis getz
	pop $7
	push $1
	cthis getpath
	cthis load
	push $5
	push $6
	cthis setpos
	push $7
	cthis setz
	push $2
	cthis nofactions
	cmpjl
	cmp0
	je l791
	push $4
	cmp0
	je l793
	push $2
	cthis play
l793:
	push $2
	push $3
	cthis setframe
	jmp l790
l791:
	push 0
	push 0
	cthis setframe
l790:
	end method
	method anclipob
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	cthis clip
	end method
	method ancopyan
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cthis setframe
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l795
	cthis show
	jmp l794
l795:
	cthis hide
l794:
	push $1
	spushs
	spop $a
	call [$a],getpos
	cthis setpos
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l797
	new text,txts
	push $2
	call txts,setfont
l797:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l799
	call txts,hide
l799:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l800
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l800
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l800
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l802
l800:
	push 0
	jmp l802
l801:
	push 1
l802:
	end method
	method txtcenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtright
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	cthis getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l804
	localint $2
	push 0
	pop $2
l805:
	push $2
	push $1
	cmpjl
	cmp0
	je l806
	jmp l808
l807:
	add $2,1
	pop $2
	jmp l805
l808:
	push $2
	cthis add
	jmp l807
l806:
l804:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l809:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l810
	jmp l812
l811:
	add $2,1
	pop $2
	jmp l809
l812:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l811
l810:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l814
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l814:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l816
	sub $2,1
	pop $2
	jmp l815
l816:
	push $2
	push 0
	cmpje
	cmp0
	je l818
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l818:
l815:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l819
	push $1
	cthis size
	cmpjl
	jmp l821
l819:
	push 0
	jmp l821
l820:
	push 1
l821:
	cmp0
	je l823
	push $1
	cthis get
	jmp l822
l823:
	push "null"
l822:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l825
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l824
l825:
	push "null"
l824:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l826:
	cthis size
	push $1
	cmpja
	cmp0
	je l827
	cthis vecpop
	popax
	jmp l826
l827:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method vecreplace
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l829
	push $3
	push $2
	cthis set
l829:
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l831
	ret
l831:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l832:
	push $8
	push $1
	cmpjl
	cmp0
	je l833
	jmp l835
l834:
	add $8,1
	pop $8
	jmp l832
l835:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l836:
	push $9
	push $1
	cmpjl
	cmp0
	je l837
	jmp l839
l838:
	add $9,1
	pop $9
	jmp l836
l839:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l841
	push $6
	pop $5
	push $9
	pop $7
l841:
	jmp l838
l837:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l834
l833:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l842:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l843
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l842
l843:
	call $1,length
	push 0
	cmpja
	cmp0
	je l845
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l845:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l846:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l847
	push $4
	push 0
	cmpja
	cmp0
	je l849
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l849:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l846
l847:
	call $1,length
	push 0
	cmpja
	cmp0
	je l851
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l851:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l852:
	push $2
	push $1
	cmpjl
	cmp0
	je l853
	jmp l855
l854:
	add $2,1
	pop $2
	jmp l852
l855:
	push 0
	cthis removeat
	jmp l854
l853:
	end method
	method vecremovefrom
	localint $1
	pop $1
l856:
	push $1
	cthis size
	cmpjl
	cmp0
	je l857
	push $1
	cthis removeat
	jmp l856
l857:
	end method
	method vecfindfrom
	localint $1
	localdef $2
	pop $2
	pop $1
l858:
	push $1
	cthis size
	cmpjl
	cmp0
	je l859
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l861
	push $1
	ret
	jmp l860
l861:
	add $1,1
	pop $1
l860:
	jmp l858
l859:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l864
	cthis size
	push 0
	cmpje
	jmp l865
l863:
	push 0
	jmp l865
l864:
	push 1
l865:
	cmp0
	je l866
	ret
l866:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l868
	localint $4
	push $1
	pop $4
l869:
	push $4
	push $2
	cmpja
	cmp0
	je l870
	jmp l872
l871:
	sub $4,1
	pop $4
	jmp l869
l872:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l871
l870:
	jmp l867
l868:
	push $1
	push $2
	cmpjl
	cmp0
	je l874
	localint $4
	push $1
	pop $4
l875:
	push $4
	push $2
	cmpjl
	cmp0
	je l876
	jmp l878
l877:
	add $4,1
	pop $4
	jmp l875
l878:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l877
l876:
l874:
l867:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l880
	push $2
	push 0
	cthis vecposfromto
	jmp l879
l880:
	push $1
	cthis addbegin
l879:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l882
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l881
l882:
	push $1
	cthis addbegin
l881:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l884
	push $3
	push $2
	cthis set
l884:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l886
	push 0
	ret
l886:
	localint $3
	push 0
	pop $3
l887:
	push $3
	push $2
	cmpjl
	cmp0
	je l888
	jmp l890
l889:
	add $3,1
	pop $3
	jmp l887
l890:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l892
	push 0
	ret
l892:
	jmp l889
l888:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	cthis vecadddbrow
	end method
	method vecadddbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l893:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l894
	jmp l896
l895:
	add $3,1
	pop $3
	jmp l893
l896:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l895
l894:
	end method
	method vecchecknext
	localint $1
	pop $1
	add $1,1
	pop $1
	push $1
	cthis size
	cmpjl
	cmp0
	je l898
	push $1
	cthis get
	jmp l897
l898:
	push "null"
l897:
	end method
	method vecsum
	cthis size
	cmp0
	je l900
	localdef $1
	push 0
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
l901:
	push $2
	cthis size
	cmpjl
	cmp0
	je l902
	jmp l904
l903:
	add $2,1
	pop $2
	jmp l901
l904:
	push $2
	cthis get
	popax
	add $1,$a
	pop $1
	jmp l903
l902:
	push $1
	jmp l899
l900:
	push 0
l899:
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l906
	ret
l906:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l907:
	push $2
	push A
	cmpjne
	cmp0
	je l908
	jmp l910
l909:
	jmp l907
l910:
	push $4
	push 0
	cmpje
	cmp0
	je l912
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l912:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l914
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l913
l914:
	push 0
l913:
	pop $4
	jmp l909
l908:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l915:
	push $1
	push A
	cmpjne
	cmp0
	je l916
	push $1
	push "null"
	cmpje
	cmp0
	je l918
	cthis addbeginrow
	popax
	jmp l917
l918:
	push 0
	push $1
	cthis addbegin
l917:
	pop $1
	jmp l915
l916:
	end method
	method dbaddvec
	localstring $1
	pop $1
	localdef $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l919:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l920
	jmp l922
l921:
	add $3,1
	pop $3
	jmp l919
l922:
	push $2
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l921
l920:
	end method
	method dbcopy
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis dbcopyfromto
	end method
	method dbcopyrow
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis dbcopyfromto
	end method
	method dbcopyfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis free
	localint $4
	localint $5
	localint $6
	push $2
	pop $4
l923:
	push $4
	push $3
	cmpjl
	cmp0
	je l924
	jmp l926
l925:
	add $4,1
	pop $4
	jmp l923
l926:
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push 0
	pop $5
l927:
	push $5
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l928
	jmp l930
l929:
	add $5,1
	pop $5
	jmp l927
l930:
	push $6
	push $1
	spushs
	push $4
	push $5
	spop $a
	call [$a],get
	cthis add
	jmp l929
l928:
	jmp l925
l924:
	end method
	method dbadddbrowtorow
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l931:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l932
	jmp l934
l933:
	add $4,1
	pop $4
	jmp l931
l934:
	push $1
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	cthis add
	jmp l933
l932:
	end method
	method dbremovecol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l935:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l936
	jmp l938
l937:
	add $2,1
	pop $2
	jmp l935
l938:
	push $2
	cthis getcolsno
	push $1
	cmpja
	cmp0
	je l940
	push $2
	push $1
	cthis removeat
l940:
	jmp l937
l936:
	end method
	method dbcopyfromtos
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis dbcopyfromto
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l942
l943:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l944
	cthis dbremovelast
	jmp l943
l944:
	jmp l941
l942:
	cthis free
l941:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbgetstringrow
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push $1
	cthis getcolsno
	pop $3
	localint $4
	push 0
	pop $4
l945:
	push $4
	push $3
	cmpjl
	cmp0
	je l946
	jmp l948
l947:
	add $4,1
	pop $4
	jmp l945
l948:
	push $1
	push $4
	cthis get
	popax
	add $2,$a
	pop $2
	jmp l947
l946:
	push $2
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l949:
	push A
	push $2
	cmpjne
	cmp0
	je l950
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l949
l950:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l952
	push $3
	push 0
	cmpjae
	jmp l954
l952:
	push 0
	jmp l954
l953:
	push 1
l954:
	cmp0
	je l955
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l956:
	push $3
	push $5
	cmpjl
	cmp0
	je l957
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l956
l957:
l955:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l959
	push $1
	push $2
	cthis get
	jmp l958
l959:
	push "null"
l958:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l960:
	push $2
	push 0
	cmpjae
	cmp0
	je l961
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l963
	push $2
	ret
l963:
	sub $2,1
	pop $2
	jmp l960
l961:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l965
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l965:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l967
	localint $3
	push 0
	pop $3
l968:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l969
	jmp l971
l970:
	add $3,1
	pop $3
	jmp l968
l971:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l973
	push $3
	ret
l973:
	jmp l970
l969:
l967:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l974:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l975
	jmp l977
l976:
	add $3,1
	pop $3
	jmp l974
l977:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l979
	push $3
	ret
l979:
	jmp l976
l975:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l980:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l981
	jmp l983
l982:
	add $2,1
	pop $2
	jmp l980
l983:
	localdef $3
	push 0
	pop $3
l984:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l985
	jmp l987
l986:
	add $3,1
	pop $3
	jmp l984
l987:
	push $2
	push $3
	push $1
	cthis set
	jmp l986
l985:
	jmp l982
l981:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l988:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l989
	jmp l991
l990:
	add $2,1
	pop $2
	jmp l988
l991:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l990
l989:
	end method
	method dbeq
	localstring $1
	pop $1
	cthis getrowsno
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjne
	cmp0
	je l993
	push 0
	ret
l993:
	localint $2
	localint $3
	localint $4
	push 0
	pop $4
l994:
	push $4
	cthis getrowsno
	cmpjl
	cmp0
	je l995
	jmp l997
l996:
	add $4,1
	pop $4
	jmp l994
l997:
	push $4
	cthis getcolsno
	pop $2
	push $2
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjne
	cmp0
	je l999
	push 0
	ret
l999:
	push 0
	pop $3
l1000:
	push $3
	push $2
	cmpjl
	cmp0
	je l1001
	jmp l1003
l1002:
	add $3,1
	pop $3
	jmp l1000
l1003:
	push $4
	push $3
	cthis get
	push $1
	spushs
	push $4
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1005
	push 0
	ret
l1005:
	jmp l1002
l1001:
	jmp l996
l995:
	push 1
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1007
	push 1
	popax
	sub 0,$a
	ret
l1007:
	localint $3
	call $1,rand
	pop $3
l1008:
	push $3
	push $2
	cmpje
	cmp0
	je l1009
	jmp l1011
l1010:
	call $1,rand
	pop $3
	jmp l1008
l1011:
	jmp l1010
l1009:
	push $3
	ret
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1012:
	push $4
	push 0
	cmpjae
	cmp0
	je l1013
	jmp l1015
l1014:
	sub $4,1
	pop $4
	jmp l1012
l1015:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l1017
	push $2
	popax
	add $3,$a
	pop $3
l1017:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l1014
l1013:
	push $3
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l1019
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l1019:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1021
	ret
l1021:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l1023
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l1025
	cthis onfinish
l1025:
l1023:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l1027
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l1026
l1027:
	push 0
l1026:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	new timer,__dblclick
	push 250
	call __dblclick,delay
	push 1
	call __dblclick,settick
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1029
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l1028
l1029:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l1028:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l1031
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1033
	push 1
	call $1,strsubb
	pop $1
l1033:
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l1031:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l1035
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	call subtitle,register
l1035:
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1037
	push 1
	call $1,strsubb
	pop $1
	push _sndbase
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l1036
l1037:
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
l1036:
	localstring $5
	call gameapi,getgamename
	pop $5
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l1039
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l1038
l1039:
	push $5
	spushs
	push $1
	call $2,length
	push 40
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l1038:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l1040:
	push $3
	push A
	cmpjne
	cmp0
	je l1041
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l1043
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l1043:
	pop $3
	jmp l1040
l1041:
	end method
	method exportbank
	localstring $1
	pop $1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l1045
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l1045:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l1047
	push $1
	call _dbsnd,save
l1047:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l1048:
	push A
	push $3
	cmpjne
	cmp0
	je l1049
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1051
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l1053
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l1052
l1053:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l1052:
l1051:
	localdef $3
	pop $3
	jmp l1048
l1049:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1054:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1055
	jmp l1057
l1056:
	add $2,1
	pop $2
	jmp l1054
l1057:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l1056
l1055:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l1058:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l1059
	jmp l1061
l1060:
	add $7,1
	pop $7
	jmp l1058
l1061:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l1064
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l1065
l1063:
	push 0
	jmp l1065
l1064:
	push 1
l1065:
	cmp0
	je l1066
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l1068
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l1068:
l1066:
	jmp l1060
l1059:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method isgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,contains
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1070
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l1070:
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method lock=
	localint $1
	pop $1
	push $1
	cmp0
	je l1072
	cthis gmlockall
	jmp l1071
l1072:
	cthis gmunlockall
l1071:
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	call __dblclick,isplaying
	cmp0
	je l1074
	cthis mouse_dblclick
	jmp l1073
l1074:
	call __dblclick,play
l1073:
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l1076
	push $1
	call vqst,add
l1076:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	new string,sstdfile
	push $1
	cthis setfile
	end method
	method save
	localstring $1
	pop $1
	push $1
	call dbsav,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1078
	call dbsav,free
	push $1
	call dbsav,load
l1078:
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1080
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l1079
l1080:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l1079:
	cthis stdsave
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1082
	push $2
	push 1
	call dbsav,get
	jmp l1081
l1082:
	push "null"
l1081:
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1084
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l1083
l1084:
	push 0
l1083:
	ret
	end method
	method bis
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1086
	push $2
	push 1
	call dbsav,get
	push 0
	cmpjne
	jmp l1085
l1086:
	push 0
l1085:
	ret
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l1088
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l1089
l1087:
	push 0
	jmp l1089
l1088:
	push 1
l1089:
	ret
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	ret
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	ret
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l1090
	push "."
	call $1,contains
	jmp l1092
l1090:
	push 0
	jmp l1092
l1091:
	push 1
l1092:
	ret
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	ret
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	ret
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	localint $2
	push 0
	pop $2
l1093:
	push $2
	push 10
	cmpjl
	cmp0
	je l1094
	jmp l1096
l1095:
	add $2,1
	pop $2
	jmp l1093
l1096:
	push "ARG"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	jmp l1095
l1094:
	push $1
	cthis load
	end method
	method ARG=
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method ARG
	localint $1
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1098
	ret
l1098:
	push "."
	call $1,contains
	cmp0
	je l1100
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l1099
l1100:
	push $1
	pop __sdb
l1099:
	call __mp,free
	localint $2
	push 0
	pop $2
l1101:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1102
	jmp l1104
l1103:
	add $2,1
	pop $2
	jmp l1101
l1104:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l1106
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l1106:
	jmp l1103
l1102:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method isvar
	localstring $1
	pop $1
	push "$"
	call $1,contains
	ret
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l1108
	push $1
	spushs
	spop $e
	new def,[$e]
l1108:
	push $1
	ret
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l1109
	push $1
	call __csc,isreal
	neg
	jmp l1111
l1109:
	push 0
	jmp l1111
l1110:
	push 1
l1111:
	ret
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	ret
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1113
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	ret
l1113:
	push 0
	ret
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l1115
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l1115:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l1117
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1117:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l1119
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1119:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l1120:
	push $4
	push ")"
	cmpjne
	cmp0
	je l1121
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l1120
l1121:
	push $2
	push "this"
	cmpje
	cmp0
	je l1123
	push "null"
	pop $2
l1123:
	push $2
	push $3
	cthis callfun
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l1125
	push $1
	cthis getvar
	pop $1
	jmp l1124
l1125:
	push $1
	call __csc,isdigit
	cmp0
	je l1127
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l1126
l1127:
	push $1
	call __csc,isstring
	cmp0
	je l1129
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
	jmp l1128
l1129:
	push $1
	call __csc,isreal
	cmp0
	je l1131
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
l1131:
l1128:
l1126:
l1124:
	push $1
	ret
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	ret
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	ret
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l1133
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l1132
l1133:
	push $1
	cthis isfunc
	cmp0
	je l1135
	push $1
	cthis interpcall
	jmp l1134
l1135:
	push $1
	cthis isscriptfun
	cmp0
	je l1137
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l1136
l1137:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l1136:
l1134:
l1132:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l1139
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l1138
l1139:
	push "!="
	cmpst
	jne l1140
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l1138
l1140:
	push "<"
	cmpst
	jne l1141
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l1138
l1141:
	push ">"
	cmpst
	jne l1142
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l1138
l1142:
	push "<="
	cmpst
	jne l1143
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l1138
l1143:
	push ">="
	cmpst
	jne l1144
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l1138
l1144:
	spop $a
l1138:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l1146
	push $1
	cmp0
	jne l1148
	cthis cmp
	jmp l1149
l1147:
	push 0
	jmp l1149
l1148:
	push 1
l1149:
	ret
	jmp l1145
l1146:
	push $3
	push "&&"
	cmpje
	cmp0
	je l1151
	push $1
	cmp0
	je l1152
	cthis cmp
	jmp l1154
l1152:
	push 0
	jmp l1154
l1153:
	push 1
l1154:
	ret
	jmp l1150
l1151:
	push $1
	ret
l1150:
l1145:
	end method
	method containsfun
	localstring $1
	pop $1
	push $1
	call __mp,contains
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l1156
	ret
l1156:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l1157:
	push $2
	cmp0
	je l1158
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l1160
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l1162
	push __sreads
	push "["
	cmpje
	cmp0
	je l1164
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l1165:
	push $12
	push $11
	cmpjl
	cmp0
	je l1166
	jmp l1168
l1167:
	add $12,1
	pop $12
	jmp l1165
l1168:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l1167
l1166:
	jmp l1163
l1164:
	add __icol,1
	pop __icol
l1169:
	cthis isnext
	cmp0
	je l1170
	push __sreads
	push ")"
	cmpjne
	jmp l1172
l1170:
	push 0
	jmp l1172
l1171:
	push 1
l1172:
	cmp0
	je l1173
	cthis _get
	cthis getexpr
	jmp l1169
l1173:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1163:
	jmp l1161
l1162:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1161:
	add __irow,1
	pop __irow
	jmp l1159
l1160:
	push "delete"
	cmpst
	jne l1174
	spop $a
	cthis _get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	add __irow,1
	pop __irow
	jmp l1159
l1174:
	push $8
	push "if"
	cmpje
	cmp0
	jne l1176
	push $6
	cmp0
	jne l1176
	push $5
	jmp l1177
l1175:
	push 0
	jmp l1177
l1176:
	push 1
l1177:
	cmp0
	je l1179
	push $8
	jmp l1178
l1179:
	push ""
l1178:
	cmpst
	jne l1180
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l1182
	push 1
	pop $3
l1182:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l1184
	push 1
	pop $12
l1185:
	push $12
	cmp0
	je l1186
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l1189
	push $8
	push "elif"
	cmpje
	cmp0
	jne l1189
	push $8
	push "fi"
	cmpje
	cmp0
	jne l1189
	push $8
	push "done"
	cmpje
	jmp l1190
l1188:
	push 0
	jmp l1190
l1189:
	push 1
l1190:
	cmp0
	je l1191
	push 0
	pop $12
	jmp l1187
l1191:
	add __irow,1
	pop __irow
l1187:
	jmp l1185
l1186:
l1184:
	jmp l1159
l1180:
	push "else"
	cmpst
	jne l1192
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l1194
l1195:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1196
	add __irow,1
	pop __irow
	jmp l1195
l1196:
l1194:
	jmp l1159
l1192:
	push "fi"
	cmpst
	jne l1197
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l1159
l1197:
	push "elif"
	cmpst
	jne l1198
	spop $a
	push $4
	cmp0
	je l1200
	add __irow,1
	pop __irow
l1201:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1202
	add __irow,1
	pop __irow
	jmp l1201
l1202:
	jmp l1199
l1200:
	push 1
	pop $6
l1199:
	jmp l1159
l1198:
	push "end"
	cmpst
	jne l1203
	spop $a
	push 0
	pop $2
	jmp l1159
l1203:
	push "while"
	cmpst
	jne l1204
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l1159
l1204:
	push "done"
	cmpst
	jne l1205
	spop $a
	push $4
	cmp0
	je l1207
	push $7
	pop __irow
	jmp l1206
l1207:
	add __irow,1
	pop __irow
l1206:
	jmp l1159
l1205:
	push "print"
	cmpst
	jne l1208
	spop $a
	push ""
	pop $8
l1209:
	cthis isnext
	cmp0
	je l1210
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l1209
l1210:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l1159
l1208:
	push "return"
	cmpst
	jne l1211
	spop $a
	cthis isnext
	cmp0
	je l1213
	push __sreads
	cthis getexpr
l1213:
	ret
	jmp l1159
l1211:
	spop $a
	push "$"
	call $8,contains
	cmp0
	je l1215
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l1216:
	cthis isnext
	cmp0
	je l1217
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l1219
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l1218
l1219:
	push "-"
	cmpst
	jne l1220
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l1218
l1220:
	push "*"
	cmpst
	jne l1221
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l1218
l1221:
	push "/"
	cmpst
	jne l1222
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l1218
l1222:
	push "%"
	cmpst
	jne l1223
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l1218
l1223:
	spop $a
l1218:
	jmp l1216
l1217:
	jmp l1214
l1215:
	push $8
	cthis getexpr
l1214:
	add __irow,1
	pop __irow
l1159:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l1225
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l1225:
	jmp l1157
l1158:
	end method
	end class

	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	method yellow
	push 255
	push 255
	push 0
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l1227
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l1226
l1227:
	push $1
	push "no"
	cmpje
	cmp0
	je l1229
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l1229:
l1226:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l1231
	ret
l1231:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l1233
	push sfuncyes
	push "null"
	cmpjne
	jmp l1235
l1233:
	push 0
	jmp l1235
l1234:
	push 1
l1235:
	cmp0
	je l1236
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1232
l1236:
	push $1
	push "no"
	cmpje
	cmp0
	je l1238
	push sfuncno
	push "null"
	cmpjne
	jmp l1240
l1238:
	push 0
	jmp l1240
l1239:
	push 1
l1240:
	cmp0
	je l1241
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1241:
l1232:
	end method
	method disabled
	call buts,disabled
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l1242:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l1243
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1242
l1243:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l1245
	push $1
	popax
	add $7,$a
	pop $7
l1245:
	push $5
	cmp0
	je l1247
	push $4
	cmp0
	je l1249
	push ":"
	jmp l1248
l1249:
	push ""
l1248:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1247:
	push $6
	cmp0
	je l1251
	push $4
	cmp0
	jne l1253
	push $5
	jmp l1254
l1252:
	push 0
	jmp l1254
l1253:
	push 1
l1254:
	cmp0
	je l1256
	push ":"
	jmp l1255
l1256:
	push ""
l1255:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1251:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l1257:
	push $1
	push 0
	cmpja
	cmp0
	je l1258
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l1257
l1258:
	push $2
	ret
	end method
	method bintohex
	localstring $1
	pop $1
	localstring $2
	call $1,length
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 3
	cmpst
	jne l1260
	spop $a
	push "0"
	jmp l1259
l1260:
	push 2
	cmpst
	jne l1261
	spop $a
	push "00"
	jmp l1259
l1261:
	push 1
	cmpst
	jne l1262
	spop $a
	push "000"
	jmp l1259
l1262:
	spop $a
	push ""
l1259:
	pop $2
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1263:
	push $3
	call $1,length
	cmpjl
	cmp0
	je l1264
	jmp l1266
l1265:
	push 4
	popax
	add $3,$a
	pop $3
	jmp l1263
l1266:
	push $3
	push 4
	call $1,getb
	spushs
	push "0000"
	cmpst
	jne l1268
	spop $a
	push "0"
	jmp l1267
l1268:
	push "0001"
	cmpst
	jne l1269
	spop $a
	push "1"
	jmp l1267
l1269:
	push "0010"
	cmpst
	jne l1270
	spop $a
	push "2"
	jmp l1267
l1270:
	push "0011"
	cmpst
	jne l1271
	spop $a
	push "3"
	jmp l1267
l1271:
	push "0100"
	cmpst
	jne l1272
	spop $a
	push "4"
	jmp l1267
l1272:
	push "0101"
	cmpst
	jne l1273
	spop $a
	push "5"
	jmp l1267
l1273:
	push "0110"
	cmpst
	jne l1274
	spop $a
	push "6"
	jmp l1267
l1274:
	push "0111"
	cmpst
	jne l1275
	spop $a
	push "7"
	jmp l1267
l1275:
	push "1000"
	cmpst
	jne l1276
	spop $a
	push "8"
	jmp l1267
l1276:
	push "1001"
	cmpst
	jne l1277
	spop $a
	push "9"
	jmp l1267
l1277:
	push "1010"
	cmpst
	jne l1278
	spop $a
	push "A"
	jmp l1267
l1278:
	push "1011"
	cmpst
	jne l1279
	spop $a
	push "B"
	jmp l1267
l1279:
	push "1100"
	cmpst
	jne l1280
	spop $a
	push "C"
	jmp l1267
l1280:
	push "1101"
	cmpst
	jne l1281
	spop $a
	push "D"
	jmp l1267
l1281:
	push "1110"
	cmpst
	jne l1282
	spop $a
	push "E"
	jmp l1267
l1282:
	push "1111"
	cmpst
	jne l1283
	spop $a
	push "F"
	jmp l1267
l1283:
	spop $a
l1267:
	popax
	add $2,$a
	pop $2
	jmp l1265
l1264:
	push $2
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1285
	push sgmfontfile
	pop $1
l1285:
	push ".ttf"
	call $1,contains
	cmp0
	je l1287
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l1287:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	new int,itime
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	push 1
	cthis update
	cthis play
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method reset
	push itime
	popax
	sub 0,$a
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	clparent SecCounter,init
	cthis reset
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1289
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l1288
l1289:
	push w
	push h
	cthis get
	call _img1,create
l1288:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l1291
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l1290
l1291:
	push $1
	push 0
	call _img2,move
l1290:
	push $2
	push 0
	cmpjl
	cmp0
	je l1293
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l1292
l1293:
	push 0
	push $2
	call _img2,move
l1292:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1295
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l1294
l1295:
	push w
	push h
	cthis get
	call _img,create
l1294:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l1297
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1299
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1299:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1301
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1301:
	jmp l1296
l1297:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1303
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1303:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1305
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1305:
l1296:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1307
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1307:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l1309
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1309:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1310:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1311
	jmp l1313
l1312:
	add $2,1
	pop $2
	jmp l1310
l1313:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l1312
l1311:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1314:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1315
	jmp l1317
l1316:
	add $2,1
	pop $2
	jmp l1314
l1317:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l1316
l1315:
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	new string,_sobfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l1319
	push _sobfin
	push "null"
	cmpje
	cmp0
	je l1321
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
	jmp l1320
l1321:
	push _sobfin
	spushs
	push _sfunfin
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1320:
l1319:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l1323
	push _ib2
	cthis _cfinito
	jmp l1322
l1323:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l1325
	push _ib1
	cthis _cfinito
	jmp l1324
l1325:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l1324:
l1322:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sobfin
	push $8
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $9
	call $2,abs
	pop $9
	push $1
	push 0
	cmpjle
	cmp0
	jne l1328
	push $9
	push $5
	cmpje
	cmp0
	jne l1328
	push $9
	push $6
	cmpja
	jmp l1329
l1327:
	push 0
	jmp l1329
l1328:
	push 1
l1329:
	cmp0
	je l1330
	ret
l1330:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l1332
	push _ib1
	pop _ival
	jmp l1331
l1332:
	push $2
	push 0
	cmpjl
	cmp0
	je l1334
	push _ib2
	pop _ival
	jmp l1333
l1334:
	ret
l1333:
l1331:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push "null"
	push $4
	cthis _play
	end method
	method isplaying
	call timf,isplaying
	end method
	end class

	class CutScene
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	new img,_gsq
	push $1
	push $2
	push $3
	push $4
	cthis build
	push "_gsq"
	clparent gfxObject,init
	new string,_sfunc1
	new string,_sob1
	new string,_sfunc2
	new string,_sob2
	new int,_idelay
	push 10
	pop _idelay
	new classfadeinout,_clfio
	end method
	method build
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop Y2
	pop X2
	pop Y1
	pop X1
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call _gsq,create
	push X1
	push Y1
	call _gsq,setpos
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method delay
	localint $1
	pop $1
	push $1
	pop _idelay
	end method
	method transparency
	localint $1
	pop $1
	push $1
	call _gsq,transparency
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "null"
	push $1
	push "null"
	push $2
	cthis playobfin
	end method
	method playobfin
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1336
	call gameapi,getgamename
	jmp l1335
l1336:
	push $1
l1335:
	pop _sob1
	push $2
	pop _sfunc1
	push $3
	push "null"
	cmpje
	cmp0
	je l1338
	call gameapi,getgamename
	jmp l1337
l1338:
	push $3
l1337:
	pop _sob2
	push $4
	pop _sfunc2
	call _gsq,show
	push 0
	call _gsq,transparency
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene0"
	call _clfio,_play
	end method
	method CutScene0
	push _sob1
	push _sfunc1
	cthis callfun
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method close
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obclose
	end method
	method obclose
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob1
	push $2
	pop _sfunc1
	push 0
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene1"
	call _clfio,_play
	end method
	method CutScene1
	call _gsq,hide
	push _sob1
	push _sfunc1
	cthis callfun
	end method
	method enter
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obenter
	end method
	method obenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob2
	push $2
	pop _sfunc2
	push 255
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method _callfun2
	call _gsq,hide
	push _sob2
	push _sfunc2
	cthis callfun
	end method
	method isplaying
	call _clfio,isplaying
	end method
	end class

	method allchars
	push "a0 t_!@#$%^&*()_+-=[]\\|}{;':\",./<>?`~"
	end method
	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	push A
	push "Sdir"
	push "left"
	push "W"
	push 0
	push "iFontSize"
	push $2
	push "X"
	push 0
	push "Y"
	push 0
	cthis vars2
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new text,txtpass
	push $1
	call txtpass,setfont
	call txtpass,hide
	new int,bpass
	push 0
	pop bpass
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method setaspasswd
	push 1
	pop bpass
	call txt1,hide
	call txt1,getz
	call txtpass,setz
	call txtpass,show
	cthis copytopass
	end method
	method copytopass
	localdef $1
	call txt1,get
	spushs
	spop $h
	call $h,length
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1339:
	push $3
	push $1
	cmpjl
	cmp0
	je l1340
	jmp l1342
l1341:
	add $3,1
	pop $3
	jmp l1339
l1342:
	push "*"
	popax
	add $2,$a
	pop $2
	jmp l1341
l1340:
	push $2
	call txtpass,txtset
	call txt1,getpx
	call txt1,getpy
	call txtpass,setpos
	end method
	method setastext
	push 0
	pop bpass
	call txt1,show
	call txtpass,hide
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l1344
	ret
l1344:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l1346
	call txt2,hide
	jmp l1345
l1346:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l1345:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	cthis get
	cthis updatetxt
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push X
	push $1
	pop $b
	popax
	add $a,$b
	push Y
	push $2
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l1348
	push $1
	jmp l1347
l1348:
	push ""
l1347:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method getcx
	call txt1,getcx
	end method
	method getcy
	call txt1,getcy
	end method
	method geth
	call txt1,geth
	end method
	method getey
	call txt1,getpy
	push iFontSize
	pop $b
	popax
	add $a,$b
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,clip
	push $1
	push $2
	push $3
	push $4
	call txt2,clip
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1350
	ret
l1350:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1352
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	cthis getname
	push "_onenter"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	ret
l1352:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l1354
	push "tab"
	call keyboard,iskey
	jmp l1356
l1354:
	push 0
	jmp l1356
l1355:
	push 1
l1356:
	cmp0
	je l1357
	push " "
	pop $1
	jmp l1353
l1357:
	call keyboard,getkey
	pop $1
l1353:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1359
	push "a"
	call sChars,contains
	jmp l1361
l1359:
	push 0
	jmp l1361
l1360:
	push 1
l1361:
	cmp0
	jne l1363
	call keyboard,isdigit
	cmp0
	je l1364
	push "0"
	call sChars,contains
	jmp l1366
l1364:
	push 0
	jmp l1366
l1365:
	push 1
l1366:
	cmp0
	jne l1363
	push $1
	call sChars,contains
	jmp l1367
l1362:
	push 0
	jmp l1367
l1363:
	push 1
l1367:
	cmp0
	je l1368
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1371
	push iLimit
	call $2,length
	cmpja
	jmp l1372
l1370:
	push 0
	jmp l1372
l1371:
	push 1
l1372:
	jmp l1373
l1368:
	push 0
	jmp l1373
l1369:
	push 1
l1373:
	cmp0
	je l1374
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	cthis updatetxt
	cthis updatecyk
	jmp l1358
l1374:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1376
	call $2,length
	push 0
	cmpja
	jmp l1378
l1376:
	push 0
	jmp l1378
l1377:
	push 1
l1378:
	cmp0
	je l1379
	push 1
	call $2,strsube
	cthis updatetxt
	cthis updatecyk
l1379:
l1358:
	end method
	method updatetxt
	localstring $1
	pop $1
	push $1
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	push Sdir
	push "center"
	cmpje
	cmp0
	je l1381
	push X
	push W
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push Y
	call txt1,setpos
	jmp l1380
l1381:
	push Sdir
	push "right"
	cmpje
	cmp0
	je l1383
	push X
	push W
	pop $b
	popax
	add $a,$b
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push Y
	call txt1,setpos
	jmp l1382
l1383:
	push X
	push Y
	call txt1,setpos
l1382:
l1380:
	push bpass
	cmp0
	je l1385
	cthis copytopass
l1385:
	cthis getname
	push "_onwrite"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	new string,sTextBoxTyperSys
	push "null"
	pop sTextBoxTyperSys
	class TextBoxTyper
	parent LObjController
	parent ImagePos
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	clparent ImagePos,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	push "Rows"
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push "X"
	push $8
	push "Y"
	push $9
	push "Row"
	push 0
	push "enablemove"
	push 1
	push "W"
	push $10
	push "insystem"
	push 0
	push "H"
	push $11
	push "isvisible"
	push 1
	push "clipx1"
	push $8
	push "clipy1"
	push $9
	push "clipx2"
	push 0
	push "clipy2"
	push 0
	push "clipped"
	push 0
	cthis vars2
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1386:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1387
	jmp l1389
l1388:
	add $14,1
	pop $14
	jmp l1386
l1389:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $10
	spop $a
	call [$a],W=
	push $13
	spushs
	push "left"
	spop $a
	call [$a],Sdir=
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1388
l1387:
	end method
	method settyper
	localint $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $10
	localint $11
	localstring $12
	localstring $13
	push ""
	pop $13
	push $1
	push 0
	cmpjl
	cmp0
	je l1391
	call grtt,last
	spushs
	spop $a
	call [$a],X
	pop $10
	call grtt,last
	spushs
	spop $a
	call [$a],getey
	push Dy
	pop $b
	popax
	add $a,$b
	pop $11
	call grtt,size
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	call grtt,add
	jmp l1390
l1391:
	push $1
	call grtt,get
	pop $12
	push $12
	spushs
	spop $a
	call [$a],X
	pop $10
	push $12
	spushs
	spop $a
	call [$a],getpy
	pop $11
	push $12
	spushs
	spop $a
	call [$a],get
	pop $13
	push $12
	push 0
	push $3
	push $12
	spushs
	spop $a
	call [$a],iFontSize
	pop $b
	popax
	sub $a,$b
	call grtt,movefrom
	push $12
	spushs
	spop $d
	delete [$d]
l1390:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	push $2
	push $3
	push $5
	push $6
	push $7
	push $8
	push W
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $e
	new TextTyper,[$e]
	push $12
	spushs
	push W
	spop $a
	call [$a],W=
	push $12
	spushs
	push $9
	spop $a
	call [$a],Sdir=
	push $12
	spushs
	push $13
	spop $a
	call [$a],updatetxt
	push $12
	spushs
	push Z
	spop $a
	call [$a],setz
	push $12
	spushs
	push $10
	push $11
	spop $a
	call [$a],setpos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grtt,move
	push $1
	push $2
	call gren,move
	push $1
	popax
	add X,$a
	pop X
	push $2
	popax
	add Y,$a
	pop Y
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	push 1
	pop isvisible
	call grtt,show
	end method
	method hide
	push 0
	pop isvisible
	call grtt,hide
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 1
	pop clipped
	push $1
	pop clipx1
	push $2
	pop clipy1
	push $3
	pop clipx2
	push $4
	pop clipy2
	localint $5
	push 0
	pop $5
l1392:
	push $5
	call grtt,size
	cmpjl
	cmp0
	je l1393
	jmp l1395
l1394:
	add $5,1
	pop $5
	jmp l1392
l1395:
	push $5
	call grtt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1394
l1393:
	end method
	method getw
	push W
	end method
	method geth
	push H
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1396:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1397
	jmp l1399
l1398:
	add $4,1
	pop $4
	jmp l1396
l1399:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1398
l1397:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1401
	push $1
	push Rows
	cmpjl
	jmp l1403
l1401:
	push 0
	jmp l1403
l1402:
	push 1
l1403:
	cmp0
	je l1404
	push insystem
	cmp0
	je l1406
	push GAME
	spushs
	push sTextBoxTyperSys
	spop $a
	call [$a],isgmobj
	cmp0
	je l1408
	push sTextBoxTyperSys
	cthis getname
	cmpjne
	jmp l1410
l1408:
	push 0
	jmp l1410
l1409:
	push 1
l1410:
	cmp0
	je l1411
	push sTextBoxTyperSys
	spushs
	spop $a
	call [$a],deactivate
l1411:
	cthis getname
	pop sTextBoxTyperSys
l1406:
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	cthis getname
	push "_activate"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1404:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1413
	ret
l1413:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1415
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1417
	push enablemove
	jmp l1419
l1417:
	push 0
	jmp l1419
l1418:
	push 1
l1419:
	cmp0
	je l1420
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1421:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1422
	jmp l1424
l1423:
	sub $2,1
	pop $2
	jmp l1421
l1424:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1423
l1422:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	push Rows
	cmpjl
	cmp0
	je l1426
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1426:
l1420:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1414
l1415:
	push "up"
	call keyboard,iskey
	cmp0
	je l1428
	push Row
	push 0
	cmpja
	jmp l1430
l1428:
	push 0
	jmp l1430
l1429:
	push 1
l1430:
	cmp0
	je l1431
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1427
l1431:
	push "down"
	call keyboard,iskey
	cmp0
	je l1433
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1435
l1433:
	push 0
	jmp l1435
l1434:
	push 1
l1435:
	cmp0
	je l1436
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1432
l1436:
	push "pgdown"
	call keyboard,iskey
	cmp0
	je l1438
	push Row
	push Rows
	push 10
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1440
	push Row
	push 10
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1439
l1440:
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1439:
	jmp l1437
l1438:
	push "pgup"
	call keyboard,iskey
	cmp0
	je l1442
	push Row
	push 9
	cmpja
	cmp0
	je l1444
	push Row
	push 10
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1443
l1444:
	push 0
	cthis activate
l1443:
	jmp l1441
l1442:
	push "backspace"
	call keyboard,iskey
	cmp0
	jne l1447
	push "delete"
	call keyboard,iskey
	jmp l1448
l1446:
	push 0
	jmp l1448
l1447:
	push 1
l1448:
	cmp0
	je l1449
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1451
l1449:
	push 0
	jmp l1451
l1450:
	push 1
l1451:
	cmp0
	je l1452
	push enablemove
	cmp0
	je l1454
	localdef $2
	push Row
	pop $2
l1455:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1456
	jmp l1458
l1457:
	add $2,1
	pop $2
	jmp l1455
l1458:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1457
l1456:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
l1454:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1460
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1460:
	jmp l1445
l1452:
	push "onkeydown"
	call grtt,eval
l1445:
l1441:
l1437:
l1432:
l1427:
l1414:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1462
	ret
l1462:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push clipped
	cmp0
	je l1464
	push $1
	push $2
	push clipx1
	push clipy1
	push clipx2
	push clipy2
	call clsurf,isin
	jmp l1466
l1464:
	push 0
	jmp l1466
l1465:
	push 1
l1466:
	cmp0
	jne l1468
	push clipped
	neg
	cmp0
	je l1469
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	jmp l1471
l1469:
	push 0
	jmp l1471
l1470:
	push 1
l1471:
	jmp l1472
l1467:
	push 0
	jmp l1472
l1468:
	push 1
l1472:
	cmp0
	je l1473
	cthis deactivate
	localint $3
	push 0
	pop $3
l1474:
	push $3
	cthis size
	cmpjl
	cmp0
	je l1475
	jmp l1477
l1476:
	add $3,1
	pop $3
	jmp l1474
l1477:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getey
	push $2
	cmpja
	cmp0
	je l1479
	push $3
	cthis activate
	ret
l1479:
	jmp l1476
l1475:
	jmp l1463
l1473:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1463:
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	cmp0
	je l1481
	push isvisible
	neg
	jmp l1483
l1481:
	push 0
	jmp l1483
l1482:
	push 1
l1483:
	cmp0
	je l1484
	push 0
	ret
l1484:
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method getact
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method idpx
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpx
	end method
	method idpy
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	end method
	method getpx
	push X
	end method
	method getpy
	push Y
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	push $1
	push ""
	cthis getlinesfrom
	end method
	method getlinesfrom
	localint $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push ""
	pop $3
	localint $4
	push $1
	pop $4
l1485:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1486
	jmp l1488
l1487:
	add $4,1
	pop $4
	jmp l1485
l1488:
	push "tt"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	push $2
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l1487
l1486:
	push $3
	end method
	method getlines
	push 0
	push " "
	cthis getlinesfrom
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1489:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l1490
	jmp l1492
l1491:
	add $1,1
	pop $1
	jmp l1489
l1492:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l1494
	push $1
	ret
l1494:
	jmp l1491
l1490:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l1496
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l1496:
	end method
	method settext
	localint $1
	pop $1
l1497:
	push $1
	push 0
	cmpja
	cmp0
	je l1498
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l1497
l1498:
	end method
	method copytodb
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
	localint $2
	push 0
	pop $2
l1499:
	push $2
	call grtt,size
	cmpjl
	cmp0
	je l1500
	jmp l1502
l1501:
	add $2,1
	pop $2
	jmp l1499
l1502:
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	call grtt,get
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],add
	jmp l1501
l1500:
	end method
	method copyfromdb
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis copyfromdbii
	end method
	method copyfromdbss
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis copyfromdbii
	end method
	method copyfromdbii
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	jne l1505
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l1506
l1504:
	push 0
	jmp l1506
l1505:
	push 1
l1506:
	cmp0
	je l1507
	ret
l1507:
	cthis clear
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	cthis size
	cmpja
	cmp0
	je l1509
	push $2
	cthis size
	pop $b
	popax
	add $a,$b
	pop $3
l1509:
	localint $4
	push $2
	pop $4
l1510:
	push $4
	push $3
	cmpjl
	cmp0
	je l1511
	jmp l1513
l1512:
	add $4,1
	pop $4
	jmp l1510
l1513:
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmp0
	je l1515
	push $1
	spushs
	push $4
	push 0
	spop $a
	call [$a],get
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis setid
l1515:
	jmp l1512
l1511:
	end method
	method copyfromdbrow
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $4
	push $4
	cthis size
	cmpja
	cmp0
	je l1517
	cthis size
	pop $4
l1517:
	localint $5
	push $3
	pop $5
l1518:
	push $5
	push $4
	cmpjl
	cmp0
	je l1519
	jmp l1521
l1520:
	add $5,1
	pop $5
	jmp l1518
l1521:
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],get
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	cthis setid
	jmp l1520
l1519:
	end method
	method save
	localstring $1
	pop $1
	new db,__tmpdb
	push "__tmpdb"
	cthis copytodb
	push "|"
	call __tmpdb,setseparator
	push $1
	call __tmpdb,save
	delete __tmpdb
	end method
	method load
	localstring $1
	pop $1
	new db,__tmpdb
	push $1
	call __tmpdb,load
	push "__tmpdb"
	cthis copyfromdb
	delete __tmpdb
	end method
	end class

	class GUITextBoxTyper
	parent TextBoxTyper
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	push $9
	push $10
	push $11
	push $12
	clparent TextBoxTyper,init
	push A
	push "rewinder"
	push "null"
	push "rewinderbg"
	push "null"
	cthis vars2
	end method
	method setrewinder
	localstring $1
	pop $1
	push $1
	pop rewinder
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop rewinderbg
	end method
	method activate
	localint $1
	pop $1
	push $1
	clparent TextBoxTyper,activate
	cthis updaterewactual
	end method
	method updaterewactual
	push Row
	cthis updaterewpos
	end method
	method updaterewpos
	localint $1
	pop $1
	push rewinder
	push "null"
	cmpjne
	cmp0
	je l1523
	localdef $2
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpy
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	cmpjl
	cmp0
	je l1525
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
	jmp l1524
l1525:
	push $2
	spushs
	spop $a
	call [$a],getey
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l1527
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
l1527:
l1524:
l1523:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	new int,bclickrel
	push 1
	pop bclickrel
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	pop bclickrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push bclickrel
	cmp0
	je l1529
	call timwez,play
	push 0
	pop bonrel
	jmp l1528
l1529:
	push 1
	pop bonrel
l1528:
	push 1
	pop bstart
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1530
	push bonrel
	neg
	jmp l1532
l1530:
	push 0
	jmp l1532
l1531:
	push 1
l1532:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1533
	push bonrel
	jmp l1535
l1533:
	push 0
	jmp l1535
l1534:
	push 1
l1535:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method setcobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setobj
	end method
	method setpobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setobj
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1537
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1537:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1539
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1539:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	ret
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	ret
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1541
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1541:
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1543
	ret
l1543:
	call cldt,isonclick
	cmp0
	je l1545
	cthis _put
	jmp l1544
l1545:
	call cldt,istaken
	neg
	cmp0
	je l1547
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1547:
l1544:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1549
	ret
l1549:
	call cldt,isonrel
	cmp0
	je l1551
	cthis _put
l1551:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push 800
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push 600
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push 800
	push 600
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1554
	push sorientation
	push "down"
	cmpje
	jmp l1555
l1553:
	push 0
	jmp l1555
l1554:
	push 1
l1555:
	cmp0
	je l1556
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1552
l1556:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1552:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1558
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1558:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1560
	call clmv,msftmove
	jmp l1559
l1560:
	call clmv,msmove
l1559:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1563
	push sorientation
	push "down"
	cmpje
	jmp l1564
l1562:
	push 0
	jmp l1564
l1563:
	push 1
l1564:
	cmp0
	je l1565
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1561
l1565:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1561:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1568
	push sorientation
	push "down"
	cmpje
	jmp l1569
l1567:
	push 0
	jmp l1569
l1568:
	push 1
l1569:
	cmp0
	je l1570
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1572
	push 0
	push 600
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push 0
	push 600
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1571
l1572:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownact,setpos
	push 0
	pop $7
l1571:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1566
l1570:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1574
	push 800
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupstd,setpos
	push 800
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1573
l1574:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 0
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 0
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push 0
	pop $8
l1573:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1566:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1575:
	push $13
	push $11
	cmpjl
	cmp0
	je l1576
	jmp l1578
l1577:
	add $13,1
	pop $13
	jmp l1575
l1578:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1580
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1579
l1580:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1582
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1581
l1582:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1584
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1583
l1584:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1586
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1586:
l1583:
l1581:
l1579:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1577
l1576:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1588
	push bvertical
	push 0
	cmpje
	cmp0
	je l1590
	push "left"
	pop _sdir
	jmp l1589
l1590:
	push "up"
	pop _sdir
l1589:
	jmp l1587
l1588:
	push $2
	push "down"
	cmpje
	cmp0
	je l1592
	push bvertical
	push 0
	cmpje
	cmp0
	je l1594
	push "right"
	pop _sdir
	jmp l1593
l1594:
	push "down"
	pop _sdir
l1593:
l1592:
l1587:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1596
	ret
l1596:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1598
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1600
l1598:
	push 0
	jmp l1600
l1599:
	push 1
l1600:
	cmp0
	je l1601
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1603
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1605
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1605:
	jmp l1602
l1603:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1607
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1609
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1609:
	jmp l1606
l1607:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1611
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1613
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1613:
	jmp l1610
l1611:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1615
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1617
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1617:
l1615:
l1610:
l1606:
l1602:
l1601:
	push $1
	cmp0
	je l1619
	call fxrew,isplaying
	neg
	cmp0
	je l1621
	call fxrew,play
l1621:
	jmp l1618
l1619:
	push 0
	call fxrew,stop
l1618:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1623
	ret
l1623:
	call cldt,isonrel
	cmp0
	je l1625
	cthis _put
l1625:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1627
	ret
l1627:
	call cldt,isonclick
	cmp0
	je l1629
	cthis _put
	jmp l1628
l1629:
	call cldt,istaken
	neg
	cmp0
	je l1631
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1631:
l1628:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push A
	push "sobject"
	push "null"
	push "sclicked"
	push "null"
	cthis vars2
	end method
	method sort
	call grbuts,sortimgs
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method addlocker
	localstring $1
	pop $1
	push $1
	cthis add
	push $1
	clparent classlocker,setaslocker
	end method
	method removebutlist
	push "removebut"
	cthis withlist
	end method
	method removebut
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	push $1
	push sobject
	cmpje
	cmp0
	je l1633
	push "null"
	pop sobject
l1633:
	push $1
	push sclicked
	cmpje
	cmp0
	je l1635
	push "null"
	pop sclicked
l1635:
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1637
	push $1
	call grbuts,removegr
l1637:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1639
	ret
l1639:
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1641
	push sobject
	pop sclicked
	push sobject
	spushs
	push "butclick"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1643
	push sobject
	spushs
	spop $a
	call [$a],butclick
l1643:
l1641:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1645
	ret
l1645:
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1647
	push sclicked
	spushs
	push "butlrel"
	spop $a
	call [$a],hasaddedmet
	jmp l1649
l1647:
	push 0
	jmp l1649
l1648:
	push 1
l1649:
	cmp0
	je l1650
	push sclicked
	spushs
	spop $a
	call [$a],butlrel
	jmp l1646
l1650:
	push "null"
	pop sclicked
l1646:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1652
	ret
l1652:
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1654
	push sclicked
	spushs
	push "butmoving"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1656
	push sclicked
	spushs
	spop $a
	call [$a],butmoving
l1656:
l1654:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l1658
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l1660
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	push "butmoveon"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1662
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l1662:
l1660:
	jmp l1657
l1658:
	cthis lastoff
l1657:
	end method
	method lastoff
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1664
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	push "butmoveoff"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1666
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
l1666:
	push "null"
	pop sobject
l1664:
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global3"
	cthis addmethod
	end method
	method global3
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global4"
	cthis addmethod
	end method
	method global4
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global5"
	cthis addmethod
	end method
	method global5
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1668
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1668:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global6"
	cthis addmethod
	end method
	method global6
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_moveonms
	push "butmoveon"
	push "global7"
	cthis addmethod
	end method
	method global7
	call advmouse,setbut
	end method
	method Button_moveoffms
	push "butmoveoff"
	push "global8"
	cthis addmethod
	end method
	method global8
	call advmouse,setstd
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1670
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1669
l1670:
	push 0
l1669:
	end method
	method _release
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call bsms,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1672
	ret
l1672:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1674
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1674:
	push $1
	cmp0
	je l1676
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1678
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1680
	cthis _release
l1680:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call bsms,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1678:
	jmp l1675
l1676:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1682
	cthis _release
l1682:
l1675:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1684
	ret
l1684:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1686
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1686:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1688
	ret
l1688:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1690
	cthis copyobj
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1690:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1692
	call bsms,setstd
	push "null"
	pop slastb
l1692:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iFontSize
	push $2
	pop iFontSize
	localstring $12
	localint $13
	localint $14
	push "Z"
	push $10
	cthis var2
	push ".db"
	call $3,contains
	cmp0
	je l1694
	push 0
	push 6
	call $3,getb
	push "$path:"
	cmpje
	cmp0
	je l1696
	new db,dbtxt
	push 6
	call $3,strsubb
	call dbtxt,load
	jmp l1695
l1696:
	push "dbtxt"
	push $3
	cthis newdb
l1695:
	jmp l1693
l1694:
	new db,dbtxt
	push 0
	push 5
	call $3,getb
	spushs
	push "$var:"
	cmpst
	jne l1698
	spop $a
	push 5
	call $3,strsubb
	call dbtxt,dbcopy
	jmp l1697
l1698:
	push "$row:"
	cmpst
	jne l1699
	spop $a
	push 5
	call $3,strsubb
	spushs
	push ","
	spop $h
	call $h,strgetto
	pop $12
	push ","
	call $3,strgetfrom
	pop $13
	push 0
	pop $14
l1700:
	push $14
	push $12
	spushs
	push $13
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1701
	jmp l1703
l1702:
	add $14,1
	pop $14
	jmp l1700
l1703:
	call dbtxt,addrow
	popax
	push $14
	push $12
	spushs
	push $13
	push $14
	spop $a
	call [$a],get
	call dbtxt,add
	jmp l1702
l1701:
	jmp l1697
l1699:
	spop $a
	push $3
	call dbtxt,dbaddlast
l1697:
l1693:
	localint $15
	push 0
	pop $15
	localint $16
	call dbtxt,getrowsno
	pop $16
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	push 0
	pop $14
l1704:
	push $14
	push $16
	cmpjl
	cmp0
	je l1705
	jmp l1707
l1706:
	add $14,1
	pop $14
	jmp l1704
l1707:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $14
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $15
	cmpja
	cmp0
	je l1709
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $15
l1709:
	push $12
	call grtxt,add
	jmp l1706
l1705:
	push $11
	push "right"
	cmpje
	cmp0
	jne l1712
	push $11
	push "center"
	cmpje
	jmp l1713
l1711:
	push 0
	jmp l1713
l1712:
	push 1
l1713:
	cmp0
	je l1714
	push 0
	pop $14
l1715:
	push $14
	push $16
	cmpjl
	cmp0
	je l1716
	jmp l1718
l1717:
	add $14,1
	pop $14
	jmp l1715
l1718:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l1720
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l1719
l1720:
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l1719:
	jmp l1717
l1716:
l1714:
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l1721:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1722
	jmp l1724
l1723:
	add $8,1
	pop $8
	jmp l1721
l1724:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l1723
l1722:
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtxt,setz
	end method
	method getz
	push Z
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call grtxt,isin
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l1725:
	push A
	push $1
	cmpjne
	cmp0
	je l1726
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l1728
	push $2
	spushs
	spop $a
	call [$a],show
l1728:
	localdef $1
	pop $1
	jmp l1725
l1726:
	end method
	method blitto
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l1729:
	push $3
	call grtxt,size
	cmpjl
	cmp0
	je l1730
	jmp l1732
l1731:
	add $3,1
	pop $3
	jmp l1729
l1732:
	push $3
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],buildfullname
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],blit
	push GAME
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],vardel
	jmp l1731
l1730:
	end method
	method setcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1733:
	push $4
	call grtxt,size
	cmpjl
	cmp0
	je l1734
	jmp l1736
l1735:
	add $4,1
	pop $4
	jmp l1733
l1736:
	push $4
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	jmp l1735
l1734:
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	new string,_literal_char
	push "\""
	pop _literal_char
	end method
	method setliteralchar
	localstring $1
	pop $1
	push $1
	pop _literal_char
	end method
	method getliteralchar
	push _literal_char
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l1737:
	push $3
	cthis length
	cmpjl
	cmp0
	je l1738
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l1740
	push $4
	push $2
	cmpjle
	jmp l1742
l1740:
	push 0
	jmp l1742
l1741:
	push 1
l1742:
	cmp0
	je l1743
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l1739
l1743:
	push $4
	push BYTEa
	cmpjae
	cmp0
	je l1745
	push $4
	push BYTEz
	cmpjle
	jmp l1747
l1745:
	push 0
	jmp l1747
l1746:
	push 1
l1747:
	cmp0
	jne l1749
	push $4
	push BYTEA
	cmpjae
	cmp0
	je l1750
	push $4
	push BYTEZ
	cmpjle
	jmp l1752
l1750:
	push 0
	jmp l1752
l1751:
	push 1
l1752:
	cmp0
	jne l1749
	push $4
	push BYTE_
	cmpje
	jmp l1753
l1748:
	push 0
	jmp l1753
l1749:
	push 1
l1753:
	cmp0
	je l1754
	push ""
	pop found
l1754:
	cthis length
	pop $3
l1739:
	jmp l1737
l1738:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l1755:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1756
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1758
	push $2
	push BYTE9
	cmpjle
	jmp l1760
l1758:
	push 0
	jmp l1760
l1759:
	push 1
l1760:
	cmp0
	jne l1762
	push $2
	push dot
	cmpje
	cmp0
	je l1763
	push $3
	jmp l1765
l1763:
	push 0
	jmp l1765
l1764:
	push 1
l1765:
	jmp l1766
l1761:
	push 0
	jmp l1766
l1762:
	push 1
l1766:
	cmp0
	je l1767
	push $2
	push dot
	cmpje
	cmp0
	je l1769
	push 0
	pop $3
l1769:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1757
l1767:
	cthis length
	pop $1
l1757:
	jmp l1755
l1756:
	push $3
	cmp0
	jne l1772
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l1772
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l1773
l1771:
	push 0
	jmp l1773
l1772:
	push 1
l1773:
	cmp0
	je l1774
	push ""
	pop found
l1774:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l1775:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1776
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l1778
	push $2
	push BYTEz
	cmpjle
	jmp l1780
l1778:
	push 0
	jmp l1780
l1779:
	push 1
l1780:
	cmp0
	jne l1782
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l1783
	push $2
	push BYTEZ
	cmpjle
	jmp l1785
l1783:
	push 0
	jmp l1785
l1784:
	push 1
l1785:
	cmp0
	jne l1782
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l1782
	push $1
	push id
	cmpja
	cmp0
	je l1786
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1786
	push $2
	push BYTE9
	cmpjle
	jmp l1788
l1786:
	push 0
	jmp l1788
l1787:
	push 1
l1788:
	jmp l1789
l1781:
	push 0
	jmp l1789
l1782:
	push 1
l1789:
	cmp0
	je l1790
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1777
l1790:
	cthis length
	pop $1
l1777:
	jmp l1775
l1776:
	call found,length
	end method
	method isliteral
	cthis check
	cthis getliteralchar
	cmpjne
	cmp0
	je l1792
	push 0
	ret
l1792:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l1793:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1794
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	cthis getliteralchar
	cmpje
	cmp0
	je l1796
	push 1
	ret
	jmp l1795
l1796:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l1795:
	jmp l1793
l1794:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l1797:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l1798
	jmp l1800
l1799:
	add $3,1
	pop $3
	jmp l1797
l1800:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l1802
	push $1
	push found
	cmpje
	cmp0
	je l1804
	push 1
	ret
l1804:
	jmp l1801
l1802:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l1806
	push 1
	ret
l1806:
l1801:
	jmp l1799
l1798:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l1807:
	cthis notend
	cmp0
	je l1808
	cthis check
	push " "
	cmpje
	cmp0
	je l1810
	add id,1
	pop id
	jmp l1809
l1810:
	cthis isconst
	cmp0
	je l1812
	push $1
	spushs
	push "$const"
	spop $a
	call [$a],add
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l1811
l1812:
	cthis isreal
	cmp0
	je l1814
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1816
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1816:
	jmp l1813
l1814:
	cthis isint
	cmp0
	je l1818
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1820
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1820:
	jmp l1817
l1818:
	cthis isident
	cmp0
	je l1822
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1824
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1824:
	jmp l1821
l1822:
	cthis isliteral
	cmp0
	je l1826
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l1828
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1828:
	jmp l1825
l1826:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l1825:
l1821:
l1817:
l1813:
l1811:
l1809:
	jmp l1807
l1808:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l1829:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1830
	jmp l1832
l1831:
	add $5,1
	pop $5
	jmp l1829
l1832:
	call vtmp2,free
	push 0
	pop $3
l1833:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1834
	jmp l1836
l1835:
	add $3,1
	pop $3
	jmp l1833
l1836:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l1838
	push $4
	call vtmp2,add
l1838:
	jmp l1835
l1834:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l1840
	push $5
	ret
l1840:
	jmp l1831
l1830:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setliteralchar"
	push "setliteralchar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getliteralchar"
	push "getliteralchar"
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l1842
	push "null"
	ret
l1842:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l1844
	push "null"
	ret
l1844:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l1845:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l1846
	jmp l1848
l1847:
	add $1,1
	pop $1
	jmp l1845
l1848:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l1847
l1846:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1850
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l1850:
	end method
	end class

	class Localize
	method init
	end method
	method _lang_db
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push "load"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method lang_db
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push ""
	cthis _lang_db
	end method
	method lang_dbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "script"
	cthis _lang_db
	end method
	method lang_dbbeh
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "beh"
	cthis _lang_db
	end method
	method lang_path
	localstring $1
	pop $1
	push "lang/"
	call gameapi,getgamename
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	end method
	end class

	class RPN
	method init
	new vector,vout
	push "string"
	call vout,type
	new vector,vs
	push "string"
	call vs,type
	new vector,vr
	push "real"
	call vr,type
	new int,ierror
	push 0
	pop ierror
	new vector,vvar
	push "string"
	call vvar,type
	end method
	method error
	push ierror
	end method
	method perror
	push ierror
	spushs
	push 0
	cmpst
	jne l1852
	spop $a
	push "OK"
	jmp l1851
l1852:
	push 1
	cmpst
	jne l1853
	spop $a
	push "missing )"
	jmp l1851
l1853:
	push 2
	cmpst
	jne l1854
	spop $a
	push "unknown operator"
	jmp l1851
l1854:
	push 3
	cmpst
	jne l1855
	spop $a
	push "missing )"
	jmp l1851
l1855:
	push 4
	cmpst
	jne l1856
	spop $a
	push "bad output"
	jmp l1851
l1856:
	push 5
	cmpst
	jne l1857
	spop $a
	push "division by 0"
	jmp l1851
l1857:
	spop $a
	push "unknown"
l1851:
	end method
	method start
	call vout,free
	call vs,free
	call vvar,free
	push 0
	pop ierror
	end method
	method num
	localstring $1
	pop $1
	push $1
	call vout,add
	end method
	method op
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	push "("
	cmpst
	jne l1859
	spop $a
	push $1
	call vs,add
	jmp l1858
l1859:
	push ")"
	cmpst
	jne l1860
	spop $a
l1861:
	call vs,size
	push 0
	cmpja
	cmp0
	je l1862
	call vs,last
	push "("
	cmpjne
	jmp l1864
l1862:
	push 0
	jmp l1864
l1863:
	push 1
l1864:
	cmp0
	je l1865
	call vs,pop
	call vout,add
	jmp l1861
l1865:
	call vs,size
	cmp0
	je l1867
	call vs,pop
	popax
	jmp l1866
l1867:
	push 1
	pop ierror
l1866:
	jmp l1858
l1860:
	push "+"
	cmpst
	je l1869
	push "-"
	cmpst
	je l1869
	jmp l1868
l1869:
	spop $a
l1870:
	call vs,size
	push 0
	cmpja
	cmp0
	je l1871
	call vs,last
	push "("
	cmpjne
	jmp l1873
l1871:
	push 0
	jmp l1873
l1872:
	push 1
l1873:
	cmp0
	je l1874
	call vs,pop
	call vout,add
	jmp l1870
l1874:
	push $1
	call vs,add
	jmp l1858
l1868:
	push "*"
	cmpst
	je l1876
	push "/"
	cmpst
	je l1876
	push "%"
	cmpst
	je l1876
	jmp l1875
l1876:
	spop $a
l1877:
	call vs,size
	push 0
	cmpja
	cmp0
	je l1878
	call vs,last
	push "*"
	cmpje
	cmp0
	jne l1881
	call vs,last
	push "/"
	cmpje
	cmp0
	jne l1881
	call vs,last
	push "%"
	cmpje
	jmp l1882
l1880:
	push 0
	jmp l1882
l1881:
	push 1
l1882:
	jmp l1883
l1878:
	push 0
	jmp l1883
l1879:
	push 1
l1883:
	cmp0
	je l1884
	call vs,pop
	call vout,add
	jmp l1877
l1884:
	push $1
	call vs,add
	jmp l1858
l1875:
	spop $a
	push 2
	pop ierror
l1858:
	end method
	method var
	localstring $1
	pop $1
	call vout,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vvar,add
	push $1
	call vvar,add
	end method
	method end
	localstring $1
l1885:
	call vs,size
	cmp0
	je l1886
	call vs,pop
	pop $1
	push $1
	push "("
	cmpje
	cmp0
	je l1888
	push 3
	pop ierror
	jmp l1887
l1888:
	push $1
	call vout,add
l1887:
	jmp l1885
l1886:
	call vout,size
	end method
	method get
	localint $1
	pop $1
	push $1
	call vout,get
	end method
	method getvar
	localint $1
	pop $1
	push $1
	call vvar,get
	end method
	method varsize
	call vvar,size
	end method
	method size
	call vout,size
	end method
	method copy
	localstring $1
	pop $1
	cthis start
	push $1
	call vout,veccopy
	end method
	method copyvars
	localstring $1
	pop $1
	push $1
	cthis copy
	localint $2
	push 0
	pop $2
l1889:
	push $2
	push $1
	spushs
	spop $a
	call [$a],varsize
	cmpjl
	cmp0
	je l1890
	jmp l1892
l1891:
	push 2
	popax
	add $2,$a
	pop $2
	jmp l1889
l1892:
	push $1
	spushs
	push $2
	spop $a
	call [$a],getvar
	push $1
	spushs
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],getvar
	popax
	mov $a,[$a]
	psax
	call vout,set
	jmp l1891
l1890:
	end method
	method print
	call vout,print
	end method
	method _get
	call vs,size
	cmp0
	je l1894
	call vs,pop
	spushs
	spop $h
	call $h,to_r
	jmp l1893
l1894:
	push 4
	pop ierror
	push 0.0
l1893:
	end method
	method count
	call vs,free
	localreal $1
	push 0
	pop $1
l1895:
	call vout,size
	cmp0
	je l1896
	push ierror
	push 0
	cmpje
	jmp l1898
l1896:
	push 0
	jmp l1898
l1897:
	push 1
l1898:
	cmp0
	je l1899
	call vout,first
	spushs
	push "+"
	cmpst
	jne l1901
	spop $a
	cthis _get
	cthis _get
	pop $b
	popax
	add $a,$b
	call vs,add
	jmp l1900
l1901:
	push "-"
	cmpst
	jne l1902
	spop $a
	cthis _get
	popax
	sub 0,$a
	cthis _get
	pop $b
	popax
	add $a,$b
	call vs,add
	jmp l1900
l1902:
	push "*"
	cmpst
	jne l1903
	spop $a
	cthis _get
	cthis _get
	pop $b
	popax
	mul $a,$b
	call vs,add
	jmp l1900
l1903:
	push "/"
	cmpst
	jne l1904
	spop $a
	cthis _get
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1906
	push 5
	pop ierror
	jmp l1905
l1906:
	cthis _get
	push $1
	pop $b
	popax
	div $a,$b
	psax
	call vs,add
l1905:
	jmp l1900
l1904:
	push "%"
	cmpst
	jne l1907
	spop $a
	cthis _get
	spushs
	spop $h
	call $h,to_i
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1909
	push 5
	pop ierror
	jmp l1908
l1909:
	cthis _get
	spushs
	spop $h
	call $h,to_i
	push $1
	spushs
	spop $h
	call $h,to_i
	pop $b
	popax
	div $a,$b
	push $d
	call vs,add
l1908:
	jmp l1900
l1907:
	spop $a
	call vout,first
	call vs,add
l1900:
	push 0
	call vout,removeat
	jmp l1895
l1899:
	push ierror
	push 0
	cmpje
	cmp0
	je l1911
	call vs,size
	push 1
	cmpjne
	cmp0
	je l1913
	push 6
	pop ierror
	push 1
	popax
	sub 0,$a
	jmp l1912
l1913:
	call vs,pop
	spushs
	spop $h
	call $h,to_r
l1912:
	jmp l1910
l1911:
	push 1
	popax
	sub 0,$a
l1910:
	end method
	method countok
	localreal $1
l1914:
	call vout,size
	cmp0
	je l1915
	call vout,first
	spushs
	push "+"
	cmpst
	jne l1917
	spop $a
	call vr,pop
	call vr,pop
	pop $b
	popax
	add $a,$b
	call vr,add
	jmp l1916
l1917:
	push "-"
	cmpst
	jne l1918
	spop $a
	call vr,pop
	popax
	sub 0,$a
	call vr,pop
	pop $b
	popax
	add $a,$b
	call vr,add
	jmp l1916
l1918:
	push "*"
	cmpst
	jne l1919
	spop $a
	call vr,pop
	call vr,pop
	pop $b
	popax
	mul $a,$b
	call vr,add
	jmp l1916
l1919:
	push "/"
	cmpst
	jne l1920
	spop $a
	call vr,pop
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1922
	push 5
	pop ierror
	call vr,free
	push 1
	popax
	sub 0,$a
	ret
	jmp l1921
l1922:
	call vr,pop
	push $1
	pop $b
	popax
	div $a,$b
	psax
	call vr,add
l1921:
	jmp l1916
l1920:
	push "%"
	cmpst
	jne l1923
	spop $a
	call vr,pop
	spushs
	spop $h
	call $h,to_i
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1925
	push 5
	pop ierror
	call vr,free
	push 1
	popax
	sub 0,$a
	ret
	jmp l1924
l1925:
	call vr,pop
	spushs
	spop $h
	call $h,to_i
	push $1
	spushs
	spop $h
	call $h,to_i
	pop $b
	popax
	div $a,$b
	push $d
	call vr,add
l1924:
	jmp l1916
l1923:
	spop $a
	call vout,first
	call vr,add
l1916:
	push 0
	call vout,removeat
	jmp l1914
l1915:
	call vr,pop
	end method
	end class

	class GUI
	method init
	localstring $1
	pop $1
	push "sGui"
	push $1
	cthis var2
	push $1
	push "null"
	cmpjne
	cmp0
	je l1927
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	jmp l1929
l1927:
	push 0
	jmp l1929
l1928:
	push 1
l1929:
	cmp0
	je l1930
	push $1
	spushs
	spop $e
	new Button,[$e]
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	spushs
	push $1
	push "_lclick"
	pop $b
	popax
	add $a,$b
	push "GUI0"
	spop $a
	call [$a],addmethod
l1930:
	new gmobjvec,grouter
	new Color,wndcol
	push 239
	cthis grey
	push 255
	call wndcol,set
	new Color,wndconcave
	push 199
	cthis grey
	push 255
	call wndconcave,set
	new Color,wndact
	push 103
	push 141
	push 178
	push 255
	call wndact,set
	new Color,wndtextcol
	cthis white
	push 255
	call wndtextcol,set
	new Color,wndborder
	cthis black
	push 255
	call wndborder,set
	new Color,wndborderL
	cthis white
	push 255
	call wndborderL,set
	new int,bround
	push 0
	pop bround
	new Color,wndshadow
	cthis black
	push 128
	call wndshadow,set
	new Color,wndbar
	push 60
	push 132
	push 204
	push 255
	call wndbar,set
	new Color,wndbarb
	push 32
	push 71
	push 110
	push 255
	call wndbarb,set
	push A
	push "iwndshadow"
	push 1
	push "swndshadow"
	push "0110"
	push "ititlebar"
	push 24
	push "ibar"
	push 4
	push "iytextlength"
	push 2
	push "istdfont"
	push 13
	push "iwndborder"
	push 1
	cthis vars2
	new font,stdfont
	push sgmfontfile
	push istdfont
	call stdfont,load
	call stdfont,buildfullname
	new font,stdmonofont
	push sgmfontmono
	push istdfont
	call stdmonofont,load
	call stdmonofont,buildfullname
	new text,txt1
	push "stdmonofont"
	call txt1,setfont
	push "a"
	call txt1,txtset
	new int,monowidth
	call txt1,getw
	pop monowidth
	delete txt1
	new Color,fontcol
	cthis black
	push 255
	call fontcol,set
	new font,stitlefont
	push sgmfontbold
	push istdfont
	call stitlefont,load
	new Color,titlecol
	cthis white
	push 255
	call titlecol,set
	new img,imgquit
	push 20
	push 20
	push 93
	push 152
	push 211
	push 255
	call imgquit,create
	push 1
	call wndbarb,get
	call imgquit,imgroundborder
	call imgquit,hide
	new img,imgquitact
	push 20
	push 20
	push 143
	push 202
	push 251
	push 255
	call imgquitact,create
	push 1
	cthis white
	push 128
	call imgquitact,imgroundborder
	call imgquitact,hide
	new string,squit
	cthis getname
	push "quit"
	pop $b
	popax
	add $a,$b
	pop squit
	push squit
	call imgquit,addtogamevars
	push squit
	push "act"
	pop $b
	popax
	add $a,$b
	call imgquitact,addtogamevars
	new img,im3
	push 2
	push 2
	call wndbarb,get
	call im3,create
	push 1
	call imgquit,drawX
	push 1
	call imgquitact,drawX
	push 2
	push 2
	cthis white
	push 255
	call im3,create
	push 0
	call imgquit,drawX
	push 0
	call imgquitact,drawX
	push "arrowleft"
	push "null"
	push 20
	push 20
	push 0
	cthis buildguibut
	push "arrowleftact"
	push "null"
	push 20
	push 20
	push 1
	cthis buildguibut
	push "arrowright"
	push "imgarrowleft"
	push 0
	push 0
	push 0
	cthis buildguibut
	push "arrowrightact"
	push "imgarrowleftact"
	push 0
	push 0
	push 0
	cthis buildguibut
	push "arrowup"
	push "null"
	push 20
	push 20
	push 0
	cthis buildguibut
	push "arrowupact"
	push "null"
	push 20
	push 20
	push 1
	cthis buildguibut
	push "arrowdown"
	push "imgarrowleft"
	push 0
	push 0
	push 0
	cthis buildguibut
	push "arrowdownact"
	push "imgarrowleftact"
	push 0
	push 0
	push 0
	cthis buildguibut
	push 1
	push 1
	cthis black
	push 255
	call im3,create
	push "left"
	call imgarrowleft,drawarrow
	push "left"
	call imgarrowleftact,drawarrow
	push "right"
	call imgarrowright,drawarrow
	push "right"
	call imgarrowrightact,drawarrow
	push "up"
	call imgarrowup,drawarrow
	push "up"
	call imgarrowupact,drawarrow
	push "down"
	call imgarrowdown,drawarrow
	push "down"
	call imgarrowdownact,drawarrow
	new timer,timbutclick
	push 100
	call timbutclick,delay
	push 1
	call timbutclick,settick
	new string,sButClick
	push "null"
	pop sButClick
	push "onfinish"
	push "GUI1"
	call timbutclick,addmethod
	cthis reset
	end method
	method GUI0
	push "butouterclick"
	call grouter,eval
	cthis getname
	push "_gui_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method GUI1
	push sButClick
	push "null"
	cmpjne
	cmp0
	je l1932
	localdef $1
	push sButClick
	pop $1
	push "null"
	pop sButClick
	push $1
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1932:
	end method
	method drawarrow
	localstring $1
	pop $1
	localdef $2
	cthis getcx
	pop $2
	localdef $3
	cthis getcy
	pop $3
	push $1
	spushs
	push "left"
	cmpst
	jne l1934
	spop $a
	push "im3"
	push $2
	push 2
	pop $b
	popax
	sub $a,$b
	push $3
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push $3
	push 2
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	push 2
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 3
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 3
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	jmp l1933
l1934:
	push "right"
	cmpst
	jne l1935
	spop $a
	push "im3"
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 3
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 3
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push $3
	push 2
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	push 2
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	push 0
	cthis imgdrawline
	popax
	jmp l1933
l1935:
	push "up"
	cmpst
	jne l1936
	spop $a
	push "im3"
	push $2
	push $3
	push 2
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 2
	pop $b
	popax
	sub $a,$b
	push $3
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 3
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	push 3
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	jmp l1933
l1936:
	push "down"
	cmpst
	jne l1937
	spop $a
	push "im3"
	push $2
	push 3
	pop $b
	popax
	sub $a,$b
	push $3
	push 2
	pop $b
	popax
	sub $a,$b
	push $2
	push 3
	pop $b
	popax
	add $a,$b
	push $3
	push 2
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 2
	pop $b
	popax
	sub $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	push $2
	push $3
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	jmp l1933
l1937:
	spop $a
l1933:
	end method
	method drawX
	localint $1
	pop $1
	localint $2
	push 4
	pop $2
	push "im3"
	cthis getpx
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis getex
	push $2
	pop $b
	popax
	sub $a,$b
	call im3,getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis getey
	push $2
	pop $b
	popax
	sub $a,$b
	call im3,geth
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	push "im3"
	cthis getex
	push $2
	pop $b
	popax
	sub $a,$b
	call im3,getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getpy
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpx
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push $2
	pop $b
	popax
	sub $a,$b
	call im3,geth
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	push 0
	cthis imgdrawline
	popax
	end method
	method buildguibut
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	push "img"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new img,[$e]
	push $2
	push "null"
	cmpje
	cmp0
	je l1939
	push $5
	cmp0
	je l1941
	push $6
	spushs
	push $3
	push $4
	call wndconcave,get
	spop $a
	call [$a],create
	push $6
	spushs
	push 2
	call wndshadow,get
	push "1001"
	spop $a
	call [$a],imgborderss
	push $6
	spushs
	push 1
	cthis black
	push 255
	push "1001"
	spop $a
	call [$a],imgborderss
	push $6
	spushs
	push 1
	cthis white
	push 255
	push "0110"
	spop $a
	call [$a],imgborderss
	jmp l1940
l1941:
	push $6
	spushs
	push $3
	push $4
	call wndcol,get
	spop $a
	call [$a],create
	push $6
	spushs
	push 2
	call wndshadow,get
	push "0110"
	spop $a
	call [$a],imgborderss
	push $6
	spushs
	push 1
	cthis black
	push 255
	push "0110"
	spop $a
	call [$a],imgborderss
	push $6
	spushs
	push 1
	cthis white
	push 255
	push "1001"
	spop $a
	call [$a],imgborderss
l1940:
	jmp l1938
l1939:
	push $6
	spushs
	push $2
	spop $a
	call [$a],clone
l1938:
	push $6
	spushs
	spop $a
	call [$a],hide
	localstring $7
	push "s"
	push $1
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	spushs
	spop $e
	new string,[$e]
	push $7
	spushs
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	spop $b
	popax
	mov [$b],$a
	push $6
	spushs
	push $7
	popax
	mov $a,[$a]
	psax
	spop $a
	call [$a],addtogamevars
	end method
	method addtogui
	push sGui
	push "null"
	cmpjne
	cmp0
	je l1943
	push sGui
	spushs
	cthis getname
	spop $a
	call [$a],add
l1943:
	end method
	method removefromgui
	push sGui
	push "null"
	cmpjne
	cmp0
	je l1945
	push sGui
	spushs
	cthis getname
	spop $a
	call [$a],removebut
l1945:
	end method
	method reset
	end method
	method dellist
	push "delobj"
	cthis withlist
	end method
	method delobj
	localstring $1
	pop $1
	push "del"
	push $1
	spushs
	spop $a
	call [$a],guitype
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
	end method
	method newwnd
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "wndborder"
	push "wndborder"
	push "wndcol"
	push iwndborder
	push swndshadow
	cthis _newwnd
	end method
	method newwndconvex
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "wndborderL"
	push "wndborder"
	push "wndcol"
	push iwndborder
	push swndshadow
	cthis _newwnd
	end method
	method newwndconcave
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "wndborder"
	push "wndborderL"
	push "wndconcave"
	push 2
	push "1001"
	cthis _newwnd
	end method
	method newwndtext
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "wndborder"
	push "wndborderL"
	push "wndtextcol"
	push 2
	push "1001"
	cthis _newwnd
	end method
	method _newwnd
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	localint $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	spushs
	push $2
	push $3
	push $6
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],create
	push $1
	spushs
	push "guitype"
	push "wnd"
	spop $a
	call [$a],var2
	push $7
	cmp0
	je l1947
	new img,im1
	push $2
	push $7
	push $4
	spushs
	spop $a
	call [$a],get
	call im1,create
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $2
	push $7
	push $5
	spushs
	spop $a
	call [$a],get
	call im1,create
	push 0
	push $1
	spushs
	spop $a
	call [$a],getey
	push $7
	pop $b
	popax
	sub $a,$b
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $7
	push $3
	push $4
	spushs
	spop $a
	call [$a],get
	call im1,create
	push 0
	push 0
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $7
	push $3
	push $5
	spushs
	spop $a
	call [$a],get
	call im1,create
	push $1
	spushs
	spop $a
	call [$a],getex
	push $7
	pop $b
	popax
	sub $a,$b
	push 0
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	delete im1
l1947:
	push $1
	push 0
	push $7
	push $7
	push $2
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push iwndshadow
	push $8
	cthis _mk_shadow
	push $1
	push 1
	push $1
	spushs
	spop $a
	call [$a],getex
	push $7
	pop $b
	popax
	sub $a,$b
	push iwndshadow
	pop $b
	popax
	sub $a,$b
	push $7
	push iwndshadow
	push $3
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $8
	cthis _mk_shadow
	push $1
	push 2
	push $7
	push $1
	spushs
	spop $a
	call [$a],getey
	push $7
	pop $b
	popax
	sub $a,$b
	push iwndshadow
	pop $b
	popax
	sub $a,$b
	push $2
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push iwndshadow
	push $8
	cthis _mk_shadow
	push $1
	push 3
	push $7
	push $7
	push iwndshadow
	push $3
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $8
	cthis _mk_shadow
	end method
	method _mk_shadow
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $8
	push $2
	push 1
	call $7,getb
	pop $8
	push $8
	cmp0
	je l1949
	push $5
	cmp0
	je l1949
	push $6
	jmp l1951
l1949:
	push 0
	jmp l1951
l1950:
	push 1
l1951:
	cmp0
	je l1952
	new img,im1
	push $5
	push $6
	call wndshadow,get
	call im1,create
	push $3
	push $4
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	delete im1
l1952:
	end method
	method newwndtitle
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	spushs
	push "guitype"
	push "wnd"
	spop $a
	call [$a],var2
	localdef $6
	push 2
	push ibar
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	pop $6
	localdef $7
	push ibar
	push ititlebar
	pop $b
	popax
	add $a,$b
	push $5
	pop $b
	popax
	add $a,$b
	pop $7
	push $1
	spushs
	push $6
	push $7
	call wndcol,get
	spop $a
	call [$a],create
	new img,im1
	push $6
	push ititlebar
	call wndbar,get
	call im1,create
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $6
	push ibar
	call wndbar,get
	call im1,create
	push 0
	push $1
	spushs
	spop $a
	call [$a],getey
	push ibar
	pop $b
	popax
	sub $a,$b
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push ibar
	push $7
	call wndbar,get
	call im1,create
	push 0
	push 0
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $1
	spushs
	spop $a
	call [$a],getex
	push ibar
	pop $b
	popax
	sub $a,$b
	push 0
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $1
	spushs
	push 0
	push 0
	cthis transparent
	spop $a
	call [$a],putrgba
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push 0
	cthis transparent
	spop $a
	call [$a],putrgba
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	spop $a
	call [$a],putrgba
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	spop $a
	call [$a],putrgba
	push $6
	push 2
	pop $b
	popax
	sub $a,$b
	push 1
	call wndbarb,get
	call im1,create
	push 1
	push 0
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push 1
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push 1
	push $7
	push 2
	pop $b
	popax
	sub $a,$b
	call wndbarb,get
	call im1,create
	push 0
	push 1
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	call im1,setpos
	push $1
	spushs
	push "im1"
	spop $a
	call [$a],blit
	delete im1
	push $2
	push "null"
	cmpjne
	cmp0
	je l1954
	push $2
	spushs
	push 7
	push 4
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $a
	call [$a],blit
l1954:
	new text,txt1
	push "stitlefont"
	call txt1,setfont
	push $3
	call wndbarb,rgb
	call txt1,txtsetcol
	push 33
	push 8
	call txt1,setpos
	push $1
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	push 32
	push 7
	call txt1,setpos
	push $3
	call titlecol,rgb
	call txt1,txtsetcol
	push $1
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	delete txt1
	push $1
	spushs
	push squit
	spop $a
	call [$a],GUI2
	push $1
	spushs
	spop $a
	call [$a],stdlocker
	push $1
	spushs
	push "isbutin"
	push "GUI3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winmove"
	push "GUI4"
	spop $a
	call [$a],addmethod
	push $1
	cthis stdwinsetpos
	push $1
	spushs
	push "winsetz"
	push "GUI5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveon"
	push "GUI6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveoff"
	push "GUI7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butclick"
	push "stdclick"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],addtogui
	end method
	method GUI2
	localstring $1
	pop $1
	new img,imquit
	push $1
	call imquit,copy
	call imquit,show
	cthis getex
	call imquit,getw
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	cthis getpx
	push 3
	pop $b
	popax
	add $a,$b
	call imquit,setpos
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	call imquit,setz
	new img,imquitact
	push $1
	push "act"
	pop $b
	popax
	add $a,$b
	call imquitact,copy
	call imquit,getpx
	call imquit,getpy
	call imquitact,setpos
	call imquit,getz
	call imquitact,setz
	call imquitact,hide
	end method
	method GUI3
	localint $1
	localint $2
	pop $2
	pop $1
	cthis unlocked
	cmp0
	je l1955
	push $1
	push $2
	push 0
	push 0
	call imquit,isin
	jmp l1957
l1955:
	push 0
	jmp l1957
l1956:
	push 1
l1957:
	end method
	method GUI4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	push $1
	push $2
	call imquit,move
	push $1
	push $2
	call imquitact,move
	end method
	method GUI5
	localint $1
	pop $1
	push $1
	cthis setz
	push $1
	call imquit,setz
	push $1
	call imquitact,setz
	push sGui
	spushs
	spop $a
	call [$a],sort
	end method
	method GUI6
	call imquit,hide
	call imquitact,show
	end method
	method GUI7
	call imquit,show
	call imquitact,hide
	end method
	method stdwinsetpos
	localstring $1
	pop $1
	push $1
	spushs
	push "winsetpos"
	push "GUI8"
	spop $a
	call [$a],addmethod
	end method
	method GUI8
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis winmove
	end method
	method stdwinmove
	localstring $1
	pop $1
	push $1
	spushs
	push "winmove"
	push "GUI9"
	spop $a
	call [$a],addmethod
	end method
	method GUI9
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	end method
	method stdwinsetz
	localstring $1
	pop $1
	push $1
	spushs
	push "winsetz"
	push "GUI10"
	spop $a
	call [$a],addmethod
	end method
	method GUI10
	localint $1
	pop $1
	push $1
	cthis setz
	push sGui
	spushs
	spop $a
	call [$a],sort
	end method
	method print
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	cthis getstdtext
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $3
	pop $b
	popax
	add $a,$b
	call txt1,setpos
	push $1
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	delete txt1
	end method
	method getstdtext
	localstring $1
	pop $1
	new text,txt1
	push "stdfont"
	call txt1,setfont
	push $1
	call fontcol,rgb
	call txt1,txtsetcol
	end method
	method stdlocker
	cthis getname
	clparent classlocker,setaslocker
	cthis unlock
	end method
	method stdbutin
	localint $1
	localint $2
	pop $2
	pop $1
	cthis unlocked
	cmp0
	je l1958
	push $1
	push $2
	push 1
	push 0
	cthis isin
	jmp l1960
l1958:
	push 0
	jmp l1960
l1959:
	push 1
l1960:
	end method
	method stdclick
	cthis unlocked
	cmp0
	je l1962
	push sButClick
	push "null"
	cmpje
	jmp l1964
l1962:
	push 0
	jmp l1964
l1963:
	push 1
l1964:
	cmp0
	je l1965
	cthis getname
	pop sButClick
	call timbutclick,play
l1965:
	end method
	method stdmoveon
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdmoveoff
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method newbutton
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	push $4
	cthis newwndconvex
	push $2
	cthis getstdtext
	push $2
	call txt1,txtset
	push $1
	call txt1,txtcenter
	push $1
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	localdef $5
	push $1
	push "clicked"
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $3
	push $4
	cthis newwndconcave
	push $5
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	push $5
	spushs
	spop $a
	call [$a],hide
	delete txt1
	push $1
	spushs
	spop $a
	call [$a],stdlocker
	push $1
	spushs
	push "isbutin"
	push "stdbutin"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveon"
	push "stdmoveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveoff"
	push "stdmoveoff"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push A
	push "butstate"
	push "std"
	push "guitype"
	push "button"
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "butclick"
	push "GUI11"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unclick"
	push "GUI12"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "clicked"
	push "GUI13"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unclicked"
	push "GUI14"
	spop $a
	call [$a],addmethod
	push $1
	cthis stdwinsetz
	push $1
	spushs
	spop $a
	call [$a],addtogui
	end method
	method GUI11
	cthis unlocked
	cmp0
	je l1967
	push sButClick
	push "null"
	cmpje
	jmp l1969
l1967:
	push 0
	jmp l1969
l1968:
	push 1
l1969:
	cmp0
	je l1970
	push butstate
	push "std"
	cmpje
	cmp0
	je l1972
	cthis getname
	pop sButClick
	cthis hide
	localdef $1
	push sButClick
	push "clicked"
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	cthis getpx
	cthis getpy
	spop $a
	call [$a],setpos
	push $1
	spushs
	cthis getz
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],show
	push "clicked"
	pop butstate
	call timbutclick,play
	jmp l1971
l1972:
	push butstate
	push "clicked"
	cmpje
	cmp0
	je l1974
	push "clickclicked"
	pop butstate
	cthis getname
	pop sButClick
	call timbutclick,play
l1974:
l1971:
l1970:
	end method
	method GUI12
	cthis show
	cthis getname
	push "clicked"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push "std"
	pop butstate
	end method
	method GUI13
	push butstate
	push "clicked"
	cmpje
	end method
	method GUI14
	push butstate
	push "clickclicked"
	cmpje
	end method
	method delbutton
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],removefromgui
	push GAME
	spushs
	push $1
	spop $a
	call [$a],vardel
	push GAME
	spushs
	push $1
	push "clicked"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],vardel
	push $1
	spushs
	spop $d
	delete [$d]
	push $1
	push "clicked"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method delwnd
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],removefromgui
	push GAME
	spushs
	push $1
	spop $a
	call [$a],vardel
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method newmenubut
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	call wndcol,get
	spop $a
	call [$a],create
	localdef $5
	push $1
	push "act"
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new img,[$e]
	push $4
	cthis getstdtext
	push $1
	call txt1,txtcenter
	push $1
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	push $5
	spushs
	push $2
	push $3
	call wndact,get
	spop $a
	call [$a],create
	push $5
	spushs
	push "txt1"
	spop $a
	call [$a],blit
	push $5
	spushs
	spop $a
	call [$a],hide
	delete txt1
	end method
	method newsubmenu
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _newmenu
	push $1
	spushs
	spop $a
	call [$a],stdlocker
	push $1
	spushs
	push A
	push "active"
	push "null"
	push "movedon"
	push "null"
	push "idclicked"
	push 1
	popax
	sub 0,$a
	push "iwbut"
	push $2
	push "ihbut"
	push $3
	push "dir"
	push $5
	push "idmoved"
	push 1
	popax
	sub 0,$a
	push "hideonouter"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push $4
	spop $a
	call [$a],GUI15
	push $1
	spushs
	push "hidesubmenus"
	push "GUI16"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "viewsubmenu"
	push "GUI17"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbutin"
	push "GUI18"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "deactivate"
	push "GUI19"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "activate"
	push "GUI20"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveon"
	push "stdmoveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoveoff"
	push "stdmoveoff"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butclick"
	push "GUI21"
	spop $a
	call [$a],addmethod
	push $1
	call grouter,add
	push $1
	spushs
	push "butouterclick"
	push "GUI22"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],addtogui
	end method
	method GUI15
	localstring $1
	pop $1
	new vector,vsubmenu
	push "string"
	call vsubmenu,type
	push $1
	spushs
	spop $a
	call [$a],size
	push "null"
	call vsubmenu,resize
	end method
	method GUI16
	localdef $1
	localint $2
	push 0
	pop $2
l1975:
	push $2
	call vsubmenu,size
	cmpjl
	cmp0
	je l1976
	jmp l1978
l1977:
	add $2,1
	pop $2
	jmp l1975
l1978:
	push $2
	call vsubmenu,get
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l1980
	push $1
	spushs
	spop $a
	call [$a],hide
l1980:
	jmp l1977
l1976:
	end method
	method GUI17
	localint $1
	pop $1
	localdef $2
	push $1
	call vsubmenu,get
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l1982
	cthis hidesubmenus
	push $2
	spushs
	spop $a
	call [$a],show
	push 1
	jmp l1981
l1982:
	push 0
l1981:
	end method
	method GUI18
	localint $1
	localint $2
	pop $2
	pop $1
	cthis getlock
	cmp0
	je l1984
	ret
l1984:
	localdef $3
	push 0
	cthis get
	pop $3
	push 0
	cthis removeat
	localdef $4
	push $1
	push $2
	cthis stdbutin
	pop $4
	push $4
	cmp0
	je l1986
	cthis getsfound
	pop movedon
	cthis getfound
	pop idmoved
	push movedon
	cthis activate
	jmp l1985
l1986:
	cthis deactivate
l1985:
	push $3
	cthis addbegin
	push $4
	end method
	method GUI19
	push active
	push "null"
	cmpjne
	cmp0
	je l1988
	push active
	push "act"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push "null"
	pop active
l1988:
	end method
	method GUI20
	localstring $1
	pop $1
	push $1
	push active
	cmpjne
	cmp0
	je l1990
	cthis deactivate
	push $1
	pop active
	localdef $2
	push $1
	push "act"
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push $2
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $2
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
l1990:
	end method
	method GUI21
	push movedon
	push "null"
	cmpjne
	cmp0
	je l1992
	push idmoved
	pop idclicked
l1992:
	push idclicked
	cthis viewsubmenu
	neg
	cmp0
	je l1994
	cthis stdclick
l1994:
	end method
	method GUI22
	cthis deactivate
	push hideonouter
	cmp0
	je l1996
	cthis hide
l1996:
	end method
	method _newmenu
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	localint $6
	push iwndborder
	push iwndshadow
	pop $b
	popax
	add $a,$b
	pop $6
	localint $7
	push $6
	pop $7
	localdef $8
	push $1
	push "bkg"
	pop $b
	popax
	add $a,$b
	pop $8
	localint $9
	push $4
	spushs
	spop $a
	call [$a],size
	pop $9
	push $5
	push "horizontal"
	cmpje
	cmp0
	je l1998
	push $8
	push $9
	push $2
	pop $b
	popax
	mul $a,$b
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $3
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis newwnd
	jmp l1997
l1998:
	push $8
	push $2
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $9
	push $3
	pop $b
	popax
	mul $a,$b
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis newwnd
l1997:
	push $1
	spushs
	push $8
	spop $a
	call [$a],add
	localint $10
	push 0
	pop $10
l1999:
	push $10
	push $9
	cmpjl
	cmp0
	je l2000
	jmp l2002
l2001:
	add $10,1
	pop $10
	jmp l1999
l2002:
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $10
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $2
	push $3
	push $4
	spushs
	push $10
	spop $a
	call [$a],get
	cthis newmenubut
	push $8
	spushs
	push $6
	push $7
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $8
	spop $a
	call [$a],add
	push $5
	push "horizontal"
	cmpje
	cmp0
	je l2004
	push $2
	popax
	add $6,$a
	pop $6
	jmp l2003
l2004:
	push $3
	popax
	add $7,$a
	pop $7
l2003:
	jmp l2001
l2000:
	end method
	method addsubmenu
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push $1
	spushs
	spop $a
	call [$a],dir
	push "horizontal"
	cmpje
	cmp0
	je l2006
	push "vertical"
	jmp l2005
l2006:
	push "horizontal"
l2005:
	pop $5
	localdef $6
	push $1
	spushs
	spop $a
	call [$a],iwbut
	pop $6
	localdef $7
	push $1
	spushs
	spop $a
	call [$a],ihbut
	pop $7
	push $3
	push $6
	push $7
	push $4
	push $5
	cthis newsubmenu
	push $1
	spushs
	push $3
	push $2
	spop $a
	call [$a],GUI23
	push $3
	spushs
	push 1
	spop $a
	call [$a],hideonouter=
	push $5
	push "horizontal"
	cmpje
	cmp0
	je l2008
	push $3
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
	jmp l2007
l2008:
	push $3
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $7
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l2007:
	push $3
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method GUI23
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $2
	push $1
	call vsubmenu,set
	end method
	method newtextbox
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push $1
	push "wnd"
	pop $b
	popax
	add $a,$b
	pop $5
	localdef $6
	push iwndborder
	push iwndshadow
	pop $b
	popax
	add $a,$b
	pop $6
	push $5
	push $3
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $4
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis newwndtext
	push $1
	spushs
	call stdmonofont,getfullname
	push istdfont
	push monowidth
	call fontcol,rgb
	push $2
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push iytextlength
	spop $e
	new TextBoxTyper,[$e]
	push $1
	spushs
	push 1
	spop $a
	call [$a],insystem=
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	spushs
	push "winsetz"
	push "GUI24"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winmove"
	push "GUI25"
	spop $a
	call [$a],addmethod
	push $1
	cthis stdwinsetpos
	push $1
	spushs
	push "guitype"
	push "textbox"
	spop $a
	call [$a],var2
	push $1
	spushs
	spop $a
	call [$a],unlock
	end method
	method GUI24
	localint $1
	pop $1
	push $1
	cthis setz
	cthis getname
	push "wnd"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setz
	push sGui
	spushs
	spop $a
	call [$a],sort
	end method
	method GUI25
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	cthis getname
	push "wnd"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	end method
	method deltextbox
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],deletegmobj
	push $1
	spushs
	spop $d
	delete [$d]
	push $1
	push "wnd"
	pop $b
	popax
	add $a,$b
	cthis delwnd
	end method
	method newsqltable
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	push 0
	cmpje
	cmp0
	jne l2011
	push $2
	spushs
	push 0
	spop $a
	call [$a],getcolsno
	push 0
	cmpje
	jmp l2012
l2010:
	push 0
	jmp l2012
l2011:
	push 1
l2012:
	cmp0
	je l2013
	ret
l2013:
	new AlgImg,alg1
	localint $4
	localint $5
	localint $6
	localint $7
	new vector,vh
	new vector,vw
	localint $8
	push $2
	spushs
	push 0
	spop $a
	call [$a],getcolsno
	pop $8
	localint $9
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	pop $9
	localint $10
	push 2
	pop $10
	localint $11
	push iwndshadow
	push iwndborder
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	mul $a,$b
	pop $11
	push 0
	pop $5
l2014:
	push $5
	push $8
	cmpjl
	cmp0
	je l2015
	jmp l2017
l2016:
	add $5,1
	pop $5
	jmp l2014
l2017:
	push 0.6
	push istdfont
	pop $b
	popax
	mul $a,$b
	push $2
	spushs
	push 0
	push $5
	spop $a
	call [$a],get
	pop $b
	popax
	mul $a,$b
	push $11
	pop $b
	popax
	add $a,$b
	call vw,add
	jmp l2016
l2015:
	localint $12
	push 1
	pop $12
l2018:
	push $12
	push $9
	cmpjl
	cmp0
	je l2019
	jmp l2021
l2020:
	add $12,1
	pop $12
	jmp l2018
l2021:
	push 0
	pop $4
	push 0
	pop $5
l2022:
	push $5
	push $8
	cmpjl
	cmp0
	je l2023
	jmp l2025
l2024:
	add $5,1
	pop $5
	jmp l2022
l2025:
	push $2
	spushs
	push $12
	push $5
	spop $a
	call [$a],get
	push $2
	spushs
	push 0
	push $5
	spop $a
	call [$a],get
	call alg1,counttextrows
	pop $6
	push $4
	push $6
	cmpjl
	cmp0
	je l2027
	push $6
	pop $4
l2027:
	jmp l2024
l2023:
	push $4
	push istdfont
	pop $b
	popax
	mul $a,$b
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $11
	pop $b
	popax
	add $a,$b
	call vh,add
	jmp l2020
l2019:
	push $1
	call vw,vecsum
	push $11
	pop $b
	popax
	add $a,$b
	call vh,vecsum
	push $11
	pop $b
	popax
	add $a,$b
	cthis newwnd
	localint $13
	push iwndborder
	push iwndshadow
	pop $b
	popax
	add $a,$b
	pop $13
	localint $14
	push $13
	pop $14
	localint $15
	push $13
	pop $15
	new text,txt1
	push "stdfont"
	call txt1,setfont
	cthis black
	call txt1,createtxt
	push 0
	pop $5
l2028:
	push $5
	push $8
	cmpjl
	cmp0
	je l2029
	jmp l2031
l2030:
	add $5,1
	pop $5
	jmp l2028
l2031:
	push $1
	push $14
	push $15
	push "txt1"
	push $2
	spushs
	push 1
	push $5
	spop $a
	call [$a],get
	push $2
	spushs
	push 0
	push $5
	spop $a
	call [$a],get
	push istdfont
	push 0.6
	push istdfont
	pop $b
	popax
	mul $a,$b
	push $10
	push $3
	call alg1,textbox
	push $5
	call vw,get
	popax
	add $14,$a
	pop $14
	jmp l2030
l2029:
	push 0
	call vh,get
	popax
	add $15,$a
	pop $15
	localstring $16
	push $1
	push "tab"
	pop $b
	popax
	add $a,$b
	pop $16
	push 2
	pop $12
l2032:
	push $12
	push $9
	cmpjl
	cmp0
	je l2033
	jmp l2035
l2034:
	add $12,1
	pop $12
	jmp l2032
l2035:
	push $12
	push 1
	pop $b
	popax
	sub $a,$b
	call vh,get
	pop $4
	push $13
	pop $14
	push 0
	pop $5
l2036:
	push $5
	push $8
	cmpjl
	cmp0
	je l2037
	jmp l2039
l2038:
	add $5,1
	pop $5
	jmp l2036
l2039:
	push $16
	push $5
	call vw,get
	push $4
	cthis newwndtext
	push $16
	push 2
	push 2
	push "txt1"
	push $2
	spushs
	push $12
	push $5
	spop $a
	call [$a],get
	push $2
	spushs
	push 0
	push $5
	spop $a
	call [$a],get
	push istdfont
	push 0.6
	push istdfont
	pop $b
	popax
	mul $a,$b
	push $10
	push $3
	call alg1,textbox
	push $16
	spushs
	push $14
	push $15
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $16
	spop $a
	call [$a],blit
	push $16
	cthis delobj
	push $5
	call vw,get
	popax
	add $14,$a
	pop $14
	jmp l2038
l2037:
	push $12
	push 1
	pop $b
	popax
	sub $a,$b
	call vh,get
	popax
	add $15,$a
	pop $15
	jmp l2034
l2033:
	delete txt1
	delete vh
	delete vw
	delete alg1
	push $1
	cthis stdwinsetz
	push $1
	cthis stdwinmove
	push $1
	cthis stdwinsetpos
	end method
	method getbrzeg
	push iwndshadow
	push iwndborder
	pop $b
	popax
	add $a,$b
	end method
	method newrewinder
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	cthis getbrzeg
	pop $8
	localint $9
	push $4
	push 0
	cmpjne
	cmp0
	je l2040
	push $4
	push $6
	spushs
	spop $a
	call [$a],getw
	cmpjl
	jmp l2042
l2040:
	push 0
	jmp l2042
l2041:
	push 1
l2042:
	pop $9
	localint $10
	push $5
	push 0
	cmpjne
	cmp0
	je l2043
	push $5
	push $6
	spushs
	spop $a
	call [$a],geth
	cmpjl
	jmp l2045
l2043:
	push 0
	jmp l2045
l2044:
	push 1
l2045:
	pop $10
	push $9
	neg
	cmp0
	je l2047
	push $6
	spushs
	spop $a
	call [$a],getw
	pop $4
l2047:
	push $10
	neg
	cmp0
	je l2049
	push $6
	spushs
	spop $a
	call [$a],geth
	pop $5
l2049:
	push $7
	push $4
	push $5
	cthis newwnd
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	spushs
	push A
	push "guitype"
	push "rewinder"
	push "srewinded"
	push $6
	push "bisw"
	push $9
	push "bish"
	push $10
	push "imover"
	push 10
	spop $a
	call [$a],vars2
	localstring $11
	localstring $12
	push $9
	cmp0
	je l2051
	localstring $13
	push $1
	push "w"
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	push $4
	push 20
	cthis newwndconcave
	push $13
	spushs
	push 0
	push $5
	spop $a
	call [$a],move
	localreal $14
	push $6
	spushs
	spop $a
	call [$a],getw
	pop $14
	push $1
	spushs
	push "rwmover"
	push $14
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],var2
	push $1
	spushs
	spop $a
	call [$a],rwmover
	push 1
	cmpjl
	cmp0
	je l2053
	push $1
	spushs
	push 1
	spop $a
	call [$a],rwmover=
l2053:
	localreal $15
	push $4
	push $14
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push 40.0
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $15
	push $15
	push $14
	cmpja
	cmp0
	je l2055
	push $14
	pop $15
	jmp l2054
l2055:
	push $15
	push 1
	cmpjl
	cmp0
	je l2057
	push 1
	push $8
	pop $b
	popax
	add $a,$b
	pop $15
l2057:
l2054:
	push $1
	push "tmpsuw"
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	push $15
	push $13
	spushs
	spop $a
	call [$a],geth
	cthis newwndconvex
	push $11
	spushs
	push 0
	push $5
	spop $a
	call [$a],move
	jmp l2050
l2051:
	push "null"
	pop $11
l2050:
	push $10
	cmp0
	je l2059
	localstring $16
	push $1
	push "h"
	pop $b
	popax
	add $a,$b
	pop $16
	push $16
	push 20
	push $5
	cthis newwndconcave
	push $16
	spushs
	push $4
	push 0
	spop $a
	call [$a],move
	localreal $17
	push $6
	spushs
	spop $a
	call [$a],geth
	pop $17
	push $1
	spushs
	push "rhmover"
	push $17
	push $5
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],var2
	push $1
	spushs
	spop $a
	call [$a],rhmover
	push 1
	cmpjl
	cmp0
	je l2061
	push $1
	spushs
	push 1
	spop $a
	call [$a],rhmover=
l2061:
	localreal $18
	push $5
	push $17
	pop $b
	popax
	div $a,$b
	psax
	push $5
	push 40.0
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $18
	push $18
	push $17
	cmpja
	cmp0
	je l2063
	push $17
	pop $18
	jmp l2062
l2063:
	push $18
	push 1
	cmpjl
	cmp0
	je l2065
	push 1
	push $8
	pop $b
	popax
	add $a,$b
	pop $18
l2065:
l2062:
	push $1
	push "tmpsuwh"
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	push $16
	spushs
	spop $a
	call [$a],getw
	push $18
	cthis newwndconvex
	push $12
	spushs
	push $4
	push 0
	spop $a
	call [$a],move
	jmp l2058
l2059:
	push "null"
	pop $12
l2058:
	push $1
	spushs
	push $11
	push $12
	spop $a
	call [$a],GUI26
	push $11
	push "null"
	cmpjne
	cmp0
	je l2071
	push $11
	cthis delwnd
l2071:
	push $12
	push "null"
	cmpjne
	cmp0
	je l2073
	push $12
	cthis delwnd
l2073:
	push $1
	push "tim"
	pop $b
	popax
	add $a,$b
	push "GUI27"
	cthis cycle=
	push $1
	spushs
	spop $a
	call [$a],stdlocker
	push $1
	spushs
	push "isbutin"
	push "GUI28"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winmove"
	push "GUI29"
	spop $a
	call [$a],addmethod
	push $1
	cthis stdwinsetpos
	push $1
	spushs
	push "winmoveall"
	push "GUI30"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winsetallpos"
	push "GUI31"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],winmove
	push $1
	spushs
	push "winsetz"
	push "GUI32"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setactsuw"
	push "GUI33"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butclick"
	push "GUI34"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butlrel"
	push "GUI35"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winrewind"
	push "GUI36"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rewind"
	push "GUI37"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "stabilizerew"
	push "GUI38"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butmoving"
	push "GUI39"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrewinded"
	push "GUI40"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],setrewinded
	push $1
	spushs
	spop $a
	call [$a],addtogui
	end method
	method GUI26
	localstring $1
	localstring $2
	pop $2
	pop $1
	new gmimgvec,grels
	cthis getname
	push "bg"
	pop $b
	popax
	add $a,$b
	call grels,add
	localstring $3
	push A
	push "bsuwakx"
	push 0
	push "bsuwaky"
	push 0
	push "suwakx"
	push 0
	push "suwaky"
	push 0
	push "ssuwed"
	push "null"
	cthis vars2
	push bisw
	cmp0
	je l2067
	cthis getname
	push "w"
	pop $b
	popax
	add $a,$b
	pop $3
	push "reww"
	push $3
	cthis var2
	push $3
	call grels,add
	new img,imgleft
	push sarrowleft
	call imgleft,copy
	call imgleft,show
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	call imgleft,setpos
	push "imgleft"
	call grels,add
	new img,imgleftact
	push sarrowleftact
	call imgleftact,copy
	call imgleftact,hide
	call imgleft,getpx
	call imgleft,getpy
	call imgleftact,setpos
	push "imgleftact"
	call grels,add
	new img,imgright
	push sarrowright
	call imgright,copy
	call imgright,show
	push "imgright"
	call grels,add
	push $3
	spushs
	spop $a
	call [$a],getex
	call imgright,getw
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getpy
	call imgright,setpos
	new img,imgrightact
	push sarrowrightact
	call imgrightact,copy
	call imgrightact,hide
	call imgright,getpx
	call imgright,getpy
	call imgrightact,setpos
	push "imgrightact"
	call grels,add
	new img,imgsuwak
	push $1
	call imgsuwak,clone
	call imgleft,getex
	call imgleft,getpy
	call imgsuwak,setpos
	push "imgsuwak"
	call grels,add
	new real,wsuw
	call imgright,getpx
	call imgleft,getex
	pop $b
	popax
	sub $a,$b
	pop wsuw
l2067:
	push bish
	cmp0
	je l2069
	cthis getname
	push "h"
	pop $b
	popax
	add $a,$b
	pop $3
	push "rewh"
	push $3
	cthis var2
	push $3
	call grels,add
	new img,imgup
	push sarrowup
	call imgup,copy
	call imgup,show
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	call imgup,setpos
	push "imgup"
	call grels,add
	new img,imgupact
	push sarrowupact
	call imgupact,copy
	call imgup,getpx
	call imgup,getpy
	call imgupact,setpos
	call imgupact,hide
	push "imgupact"
	call grels,add
	new img,imgdown
	push sarrowdown
	call imgdown,copy
	call imgdown,show
	push "imgdown"
	call grels,add
	call imgup,getpx
	push $3
	spushs
	spop $a
	call [$a],getey
	call imgdown,geth
	pop $b
	popax
	sub $a,$b
	call imgdown,setpos
	new img,imgdownact
	push sarrowdownact
	call imgdownact,copy
	call imgdownact,hide
	call imgdown,getpx
	call imgdown,getpy
	call imgdownact,setpos
	push "imgdownact"
	call grels,add
	new img,imgsuwaky
	push $2
	call imgsuwaky,clone
	call imgup,getpx
	call imgup,getpy
	call imgsuwaky,setpos
	push "imgsuwaky"
	call grels,add
	new real,hsuw
	call imgdown,getpy
	call imgup,getey
	pop $b
	popax
	sub $a,$b
	pop hsuw
l2069:
	end method
	method GUI27
	cthis getname
	spushs
	push "tim"
	spop $a
	call $a,strsubes
	spushs
	spop $a
	call [$a],winrewind
	cthis play
	end method
	method GUI28
	localint $1
	localint $2
	pop $2
	pop $1
	cthis unlocked
	cmp0
	je l2074
	push $1
	push $2
	push 1
	push 0
	call grels,isin
	jmp l2076
l2074:
	push 0
	jmp l2076
l2075:
	push 1
l2076:
	end method
	method GUI29
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	push $1
	push $2
	call grels,move
	localdef $3
	cthis getname
	push "bg"
	pop $b
	popax
	add $a,$b
	pop $3
	push srewinded
	spushs
	push $3
	spushs
	spop $a
	call [$a],getpx
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	push $3
	spushs
	spop $a
	call [$a],getpy
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	push $3
	spushs
	spop $a
	call [$a],getex
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],clip
	end method
	method GUI30
	localint $1
	localint $2
	pop $2
	pop $1
	push srewinded
	spushs
	push "winmove"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2078
	push srewinded
	spushs
	push $1
	push $2
	spop $a
	call [$a],winmove
	jmp l2077
l2078:
	push srewinded
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
l2077:
	push $1
	push $2
	cthis winmove
	end method
	method GUI31
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis winmoveall
	end method
	method GUI32
	localint $1
	pop $1
	push $1
	cthis setz
	push $1
	call grels,setz
	push sGui
	spushs
	spop $a
	call [$a],sort
	end method
	method GUI33
	localstring $1
	pop $1
	push $1
	pop ssuwed
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	push "act"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	cthis getname
	push "tim"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	end method
	method GUI34
	call grels,getsfound
	spushs
	push "imgleft"
	cmpst
	jne l2080
	spop $a
	push "imgleft"
	cthis setactsuw
	jmp l2079
l2080:
	push "imgright"
	cmpst
	jne l2081
	spop $a
	push "imgright"
	cthis setactsuw
	jmp l2079
l2081:
	push "imgsuwak"
	cmpst
	jne l2082
	spop $a
	push 1
	pop bsuwakx
	call mouse,getposx
	call imgsuwak,getpx
	pop $b
	popax
	sub $a,$b
	pop suwakx
	jmp l2079
l2082:
	push "imgup"
	cmpst
	jne l2083
	spop $a
	push "imgup"
	cthis setactsuw
	jmp l2079
l2083:
	push "imgdown"
	cmpst
	jne l2084
	spop $a
	push "imgdown"
	cthis setactsuw
	jmp l2079
l2084:
	push "imgsuwaky"
	cmpst
	jne l2085
	spop $a
	push 1
	pop bsuwaky
	call mouse,getposy
	call imgsuwaky,getpy
	pop $b
	popax
	sub $a,$b
	pop suwaky
	jmp l2079
l2085:
	spop $a
l2079:
	end method
	method GUI35
	cthis getname
	push "tim"
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssuwed
	push "null"
	cmpjne
	cmp0
	je l2087
	push ssuwed
	push "act"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push ssuwed
	spushs
	spop $a
	call [$a],show
	push "null"
	pop ssuwed
l2087:
	push 0
	pop bsuwakx
	push 0
	pop bsuwaky
	end method
	method GUI36
	push bisw
	cmp0
	je l2089
	call imgleftact,isvisible
	cmp0
	je l2091
	push srewinded
	spushs
	push imover
	push 0
	spop $a
	call [$a],move
	jmp l2090
l2091:
	call imgrightact,isvisible
	cmp0
	je l2093
	push srewinded
	spushs
	push imover
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
l2093:
l2090:
l2089:
	push bish
	cmp0
	je l2095
	call imgupact,isvisible
	cmp0
	je l2097
	push srewinded
	spushs
	push 0
	push imover
	spop $a
	call [$a],move
	jmp l2096
l2097:
	call imgdownact,isvisible
	cmp0
	je l2099
	push srewinded
	spushs
	push 0
	push imover
	popax
	sub 0,$a
	spop $a
	call [$a],move
l2099:
l2096:
l2095:
	cthis stabilizerew
	cthis setrewinded
	end method
	method GUI37
	localint $1
	localint $2
	pop $2
	pop $1
	push bisw
	cmp0
	je l2101
	push srewinded
	spushs
	push $1
	push 0
	spop $a
	call [$a],move
l2101:
	push bish
	cmp0
	je l2103
	push srewinded
	spushs
	push 0
	push $2
	spop $a
	call [$a],move
l2103:
	cthis stabilizerew
	cthis setrewinded
	end method
	method GUI38
	push bisw
	cmp0
	je l2105
	push srewinded
	spushs
	spop $a
	call [$a],getpx
	push reww
	spushs
	spop $a
	call [$a],getpx
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l2107
	push srewinded
	spushs
	push reww
	spushs
	spop $a
	call [$a],getpx
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	push srewinded
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	jmp l2106
l2107:
	push srewinded
	spushs
	spop $a
	call [$a],getex
	push reww
	spushs
	spop $a
	call [$a],getex
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l2109
	push srewinded
	spushs
	push reww
	spushs
	spop $a
	call [$a],getex
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	push srewinded
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l2109:
l2106:
l2105:
	push bish
	cmp0
	je l2111
	push srewinded
	spushs
	spop $a
	call [$a],getpy
	push rewh
	spushs
	spop $a
	call [$a],getpy
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l2113
	push srewinded
	spushs
	push srewinded
	spushs
	spop $a
	call [$a],getpx
	push rewh
	spushs
	spop $a
	call [$a],getpy
	cthis getbrzeg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l2112
l2113:
	push srewinded
	spushs
	spop $a
	call [$a],getey
	push rewh
	spushs
	spop $a
	call [$a],getey
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l2115
	push srewinded
	spushs
	push 0
	push rewh
	spushs
	spop $a
	call [$a],getey
	cthis getbrzeg
	pop $b
	popax
	sub $a,$b
	push srewinded
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],move
l2115:
l2112:
l2111:
	end method
	method GUI39
	push bsuwakx
	cmp0
	je l2117
	localreal $1
	call imgsuwak,getpx
	pop $1
	call mouse,getposx
	push suwakx
	pop $b
	popax
	sub $a,$b
	call imgsuwak,getpy
	call imgsuwak,setpos
	push srewinded
	spushs
	push rwmover
	push $1
	call imgsuwak,getpx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	push 0
	spop $a
	call [$a],move
	cthis stabilizerew
	cthis setrewinded
	jmp l2116
l2117:
	push bsuwaky
	cmp0
	je l2119
	localreal $2
	call imgsuwaky,getpy
	pop $2
	call imgsuwaky,getpx
	call mouse,getposy
	push suwaky
	pop $b
	popax
	sub $a,$b
	call imgsuwaky,setpos
	push srewinded
	spushs
	push 0
	push rhmover
	push $2
	call imgsuwaky,getpy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],move
	cthis stabilizerew
	cthis setrewinded
l2119:
l2116:
	end method
	method GUI40
	push bisw
	cmp0
	je l2121
	localreal $1
	push reww
	spushs
	spop $a
	call [$a],getpx
	push srewinded
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push srewinded
	spushs
	spop $a
	call [$a],getw
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	call imgleft,getex
	push $1
	push wsuw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call imgsuwak,getpy
	call imgsuwak,setpos
	call imgright,getpx
	call imgsuwak,getex
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l2123
	push $1
	push 0
	call imgsuwak,move
l2123:
l2121:
	push bish
	cmp0
	je l2125
	localreal $2
	push rewh
	spushs
	spop $a
	call [$a],getpy
	push srewinded
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push srewinded
	spushs
	spop $a
	call [$a],geth
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	call imgsuwaky,getpx
	call imgup,getey
	push $2
	push hsuw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call imgsuwaky,setpos
	call imgdown,getpy
	call imgsuwaky,getey
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l2127
	push 0
	push $2
	call imgsuwaky,move
l2127:
l2125:
	end method
	method delrewinder
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],bisw
	cmp0
	je l2129
	push $1
	push "w"
	pop $b
	popax
	add $a,$b
	cthis delobj
l2129:
	push $1
	spushs
	spop $a
	call [$a],bish
	cmp0
	je l2131
	push $1
	push "h"
	pop $b
	popax
	add $a,$b
	cthis delobj
l2131:
	push $1
	spushs
	spop $a
	call [$a],removefromgui
	push GAME
	spushs
	push $1
	spop $a
	call [$a],deletegmobj
	push GAME
	spushs
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],deletegmobj
	push $1
	spushs
	spop $d
	delete [$d]
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	push $1
	push "tim"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method newcheckbox
	localstring $1
	pop $1
	push $1
	push 15
	push 15
	cthis newwndtext
	push $1
	spushs
	spop $a
	call [$a],GUI41
	push $1
	spushs
	spop $a
	call [$a],stdlocker
	push $1
	spushs
	push "butclick"
	push "GUI42"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "GUI43"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "uncheck"
	push "GUI44"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "checked"
	push "GUI45"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "winmove"
	push "GUI46"
	spop $a
	call [$a],addmethod
	push $1
	cthis stdwinsetpos
	push $1
	spushs
	push "winsetz"
	push "GUI47"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbutin"
	push "stdbutin"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],addtogui
	end method
	method GUI41
	new img,imcheck
	push 15
	push 15
	cthis transparent
	call imcheck,create
	new img,im1
	push 2
	push 2
	cthis black
	push 255
	call im1,create
	push "im1"
	push 4
	push 7
	push 6
	push 9
	push 1
	push 0
	call imcheck,imgdrawline
	popax
	push "im1"
	push 6
	push 9
	push 10
	push 5
	push 1
	push 0
	call imcheck,imgdrawline
	popax
	delete im1
	call imcheck,hide
	end method
	method GUI42
	cthis getlock
	cmp0
	je l2133
	ret
l2133:
	cthis checked
	cmp0
	je l2135
	cthis uncheck
	jmp l2134
l2135:
	cthis check
l2134:
	end method
	method GUI43
	call imcheck,show
	end method
	method GUI44
	call imcheck,hide
	end method
	method GUI45
	call imcheck,isvisible
	end method
	method GUI46
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	push $1
	push $2
	call imcheck,move
	end method
	method GUI47
	localint $1
	pop $1
	push $1
	cthis setz
	push $1
	call imcheck,setz
	end method
	end class

	class AlgImg
	method init
	end method
	method makehistogram
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new vector,vhis
	push 256
	push 0
	call vhis,resize
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localdef $11
	push $4
	spushs
	spop $a
	call [$a],getpx
	pop $11
	localdef $12
	push $4
	spushs
	spop $a
	call [$a],getpy
	pop $12
	localdef $13
	push $4
	spushs
	spop $a
	call [$a],getw
	pop $13
	localdef $14
	push $4
	spushs
	spop $a
	call [$a],geth
	pop $14
	push $4
	spushs
	push $11
	popax
	sub 0,$a
	push $12
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 0
	pop $5
l2136:
	push $5
	push $14
	cmpjl
	cmp0
	je l2137
	jmp l2139
l2138:
	add $5,1
	pop $5
	jmp l2136
l2139:
	push 0
	pop $6
l2140:
	push $6
	push $13
	cmpjl
	cmp0
	je l2141
	jmp l2143
l2142:
	add $6,1
	pop $6
	jmp l2140
l2143:
	push $4
	spushs
	push $6
	push $5
	spop $a
	call [$a],getrgb
	pop $10
	pop $9
	pop $8
	push 0.3
	push $8
	pop $b
	popax
	mul $a,$b
	push 0.59
	push $9
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 0.11
	push $10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $7
	call vhis,get
	push 1
	pop $b
	popax
	add $a,$b
	call vhis,set
	jmp l2142
l2141:
	jmp l2138
l2137:
	push $4
	spushs
	push $11
	push $12
	spop $a
	call [$a],move
	push 1
	pop $6
	push 0
	pop $5
l2144:
	push $5
	push 256
	cmpjl
	cmp0
	je l2145
	jmp l2147
l2146:
	add $5,1
	pop $5
	jmp l2144
l2147:
	push $5
	call vhis,get
	push $6
	cmpja
	cmp0
	je l2149
	push $5
	call vhis,get
	pop $6
l2149:
	jmp l2146
l2145:
	localreal $8
	call $3,to_r
	call $6,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop $8
	push $1
	spushs
	push $2
	push $3
	cthis white
	push 255
	spop $a
	call [$a],create
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],getw
	push 256
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $11
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	pop $12
	push 0
	pop $5
l2150:
	push $5
	push 256
	cmpjl
	cmp0
	je l2151
	jmp l2153
l2152:
	add $5,1
	pop $5
	jmp l2150
l2153:
	push $8
	push $5
	call vhis,get
	pop $b
	popax
	mul $a,$b
	pop $7
	push 0
	pop $6
l2154:
	push $6
	push $7
	cmpjl
	cmp0
	je l2155
	jmp l2157
l2156:
	add $6,1
	pop $6
	jmp l2154
l2157:
	push $1
	spushs
	push $11
	push $5
	pop $b
	popax
	add $a,$b
	push $12
	push $6
	pop $b
	popax
	sub $a,$b
	cthis black
	spop $a
	call [$a],putrgb
	jmp l2156
l2155:
	jmp l2152
l2151:
	delete vhis
	end method
	method makegreypallete
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push 256
	pop $b
	popax
	mul $a,$b
	push $3
	cthis white
	push 255
	spop $a
	call [$a],create
	localdef $4
	cthis _newim1
	pop $4
	localint $5
	push 0
	pop $5
l2158:
	push $5
	push 256
	cmpjl
	cmp0
	je l2159
	jmp l2161
l2160:
	add $5,1
	pop $5
	jmp l2158
l2161:
	push $2
	push $3
	push $5
	cthis grey
	push 255
	call im1,create
	push $5
	push $2
	pop $b
	popax
	mul $a,$b
	push 0
	call im1,setpos
	push $1
	spushs
	push $4
	spop $a
	call [$a],blit
	jmp l2160
l2159:
	cthis _delim1
	end method
	method linexy
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $10
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	push 1
	pop $b
	popax
	add $a,$b
	pop $10
	localdef $11
	push $3
	push $5
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	push 1
	pop $b
	popax
	add $a,$b
	pop $11
	localdef $12
	cthis _newim1
	pop $12
	push $1
	spushs
	push $10
	push $11
	cthis transparent
	spop $a
	call [$a],create
	push $1
	spushs
	push $2
	push $4
	cthis min
	push $3
	push $5
	cthis min
	spop $a
	call [$a],setpos
	push 1
	push 1
	push $6
	push $7
	push $8
	push $9
	call im1,create
	push $1
	spushs
	push $12
	push $2
	push $3
	push $4
	push $5
	push 1
	push 0
	spop $a
	call [$a],imgdrawline
	popax
	cthis _delim1
	end method
	method blittxt
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $7
	localdef $8
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $8
	push $6
	spushs
	push "right"
	cmpst
	jne l2163
	spop $a
	push $2
	spushs
	push $7
	push $5
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l2162
l2163:
	push "center"
	cmpst
	jne l2164
	spop $a
	push $2
	spushs
	push $7
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l2162
l2164:
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],setpos
l2162:
	push $1
	spushs
	push $2
	spop $a
	call [$a],blit
	end method
	method textbox
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localint $6
	localint $7
	localint $8
	localint $9
	localstring $10
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	push 0
	cmpjle
	cmp0
	je l2166
	ret
l2166:
	new vector,v1
	push "string"
	call v1,type
	push $5
	push " "
	call v1,vecbuildfromstring
	localstring $11
	push ""
	pop $11
	localstring $12
	localdef $13
	push $6
	push $8
	pop $b
	popax
	mul $a,$b
	pop $13
	localint $14
	push 0
	pop $14
l2167:
	push $14
	call v1,size
	cmpjl
	cmp0
	je l2168
	jmp l2170
l2169:
	add $14,1
	pop $14
	jmp l2167
l2170:
	push $11
	push " "
	pop $b
	popax
	add $a,$b
	push $14
	call v1,get
	pop $b
	popax
	add $a,$b
	pop $12
	call $12,length
	push $6
	cmpjle
	cmp0
	je l2172
	push $12
	pop $11
	jmp l2171
l2172:
	push $4
	spushs
	push $11
	spop $a
	call [$a],txtset
	push $1
	push $4
	push $2
	push $3
	push $2
	push $13
	pop $b
	popax
	add $a,$b
	push $10
	cthis blittxt
	push $7
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	push $14
	call v1,get
	pop $11
l2171:
	jmp l2169
l2168:
	push $4
	spushs
	push $11
	spop $a
	call [$a],txtset
	push $1
	push $4
	push $2
	push $3
	push $2
	push $13
	pop $b
	popax
	add $a,$b
	push $10
	cthis blittxt
	delete v1
	end method
	method counttextrows
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l2174
	push 0
	ret
l2174:
	localint $3
	push 1
	pop $3
	new vector,v1
	push "string"
	call v1,type
	push $1
	push " "
	call v1,vecbuildfromstring
	localstring $4
	push ""
	pop $4
	localstring $5
	localint $6
	push 0
	pop $6
l2175:
	push $6
	call v1,size
	cmpjl
	cmp0
	je l2176
	jmp l2178
l2177:
	add $6,1
	pop $6
	jmp l2175
l2178:
	push $4
	push " "
	pop $b
	popax
	add $a,$b
	push $6
	call v1,get
	pop $b
	popax
	add $a,$b
	pop $5
	call $5,length
	push $2
	cmpjle
	cmp0
	je l2180
	push $5
	pop $4
	jmp l2179
l2180:
	add $3,1
	pop $3
	push $6
	call v1,get
	pop $4
l2179:
	jmp l2177
l2176:
	delete v1
	push $3
	end method
	method _newim1
	new img,im1
	call im1,buildfullname
	call im1,getfullname
	end method
	method _delim1
	push GAME
	spushs
	call im1,getfullname
	spop $a
	call [$a],vardel
	delete im1
	end method
	end class

	class LangTxt
	method init
	localstring $1
	pop $1
	push "dblt"
	push $1
	cthis lang_db
	end method
	method get
	localstring $1
	pop $1
	push $1
	call dblt,findbyrow
	push 1
	call dblt,get
	end method
	method getvec
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dblt,findbyrow
	pop $3
	push $1
	spushs
	spop $a
	call [$a],free
	localint $4
	push 1
	pop $4
l2181:
	push $4
	push $3
	call dblt,getcolsno
	cmpjl
	cmp0
	je l2182
	jmp l2184
l2183:
	add $4,1
	pop $4
	jmp l2181
l2184:
	push $1
	spushs
	push $3
	push $4
	call dblt,get
	spop $a
	call [$a],add
	jmp l2183
l2182:
	end method
	end class

	class SQL
	method init
	new db,dbtables
	new string,sscript
	push "sscript"
	clparent Lexer,setas
	push "'"
	call sscript,setliteralchar
	push A
	push "("
	push ")"
	push "/"
	push "%"
	push "*"
	push "+"
	push "-"
	push ";"
	push "."
	push ","
	push "OR"
	push "SELECT"
	push "FROM"
	push "WHERE"
	push "ORDER"
	push "BY"
	push "ASC"
	push "DESC"
	push "AND"
	push "NULL"
	push "="
	push "<="
	push "=>"
	push "<>"
	push "<"
	push ">"
	call sscript,consts=
	new vector,vscr
	push "string"
	call vscr,type
	new vector,vtab
	push "string"
	call vtab,type
	new vector,vtabid
	push "string"
	call vtabid,type
	new vector,vtabn
	push "string"
	call vtabn,type
	new vector,vrow
	push "string"
	call vrow,type
	new vector,vrowid
	push "string"
	call vrowid,type
	new vector,vrowint
	new vector,vtabprzesun
	new db,dboutnames
	call dboutnames,buildfullname
	new db,dbout
	call dbout,buildfullname
	new vector,vouttab
	push "string"
	call vouttab,type
	new vector,veq
	push "string"
	call veq,type
	new vector,veq2
	push "string"
	call veq2,type
	new vector,vcnt
	push "string"
	call vcnt,type
	new int,ilicz
	new int,basc
	new int,isortcol
	push "serror"
	push "null"
	cthis var2
	end method
	method load
	localstring $1
	pop $1
	localdef $2
	cthis getname
	pop $2
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push ".tables"
	pop $b
	popax
	add $a,$b
	call dbtables,load
	localstring $3
	localint $4
	push 0
	pop $4
l2185:
	push $4
	call dbtables,getrowsno
	cmpjl
	cmp0
	je l2186
	jmp l2188
l2187:
	add $4,1
	pop $4
	jmp l2185
l2188:
	push $2
	push "_"
	pop $b
	popax
	add $a,$b
	push $4
	push 0
	call dbtables,get
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new db,[$e]
	push $3
	spushs
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l2187
l2186:
	end method
	method save
	localstring $1
	pop $1
	localdef $2
	cthis getname
	pop $2
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push ".tables"
	pop $b
	popax
	add $a,$b
	call dbtables,save
	localstring $3
	localint $4
	push 0
	pop $4
l2189:
	push $4
	call dbtables,size
	cmpjl
	cmp0
	je l2190
	jmp l2192
l2191:
	add $4,1
	pop $4
	jmp l2189
l2192:
	push $2
	push $4
	push 0
	call dbtables,get
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],save
	jmp l2191
l2190:
	end method
	method insertvalues
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis getname
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],dbaddstringrow
	end method
	method query
	localstring $1
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l2194
	push 1
	push "null"
	cthis cerrors
	ret
l2194:
	call $1,to_u
	call sscript,start
	push "vscr"
	push 1
	call sscript,gettoken
	push 0
	call vscr,get
	spushs
	push "$const"
	cmpst
	jne l2196
	spop $a
	push 1
	call vscr,get
	spushs
	push "SELECT"
	cmpst
	jne l2198
	spop $a
	cthis ord_select
	jmp l2197
l2198:
	spop $a
	push 3
	push 1
	cthis cerror
l2197:
	jmp l2195
l2196:
	spop $a
	push 2
	push 0
	cthis cerror
l2195:
	end method
	method droptable
	localstring $1
	pop $1
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis vardelif
	end method
	method ord_select
	localstring $1
	localstring $2
	localstring $3
	call vtab,free
	call vtabid,free
	call vrow,free
	call vrowid,free
	call vrowint,free
	call vtabprzesun,free
	call veq,free
	call dbout,free
	localint $4
	call vscr,size
	pop $4
	localint $5
	localint $6
	localint $7
	push 0
	push "NULL"
	call vscr,vecfindfrom
	pop $5
l2199:
	push $5
	push 0
	cmpjae
	cmp0
	je l2200
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	push "$literal"
	call vscr,set
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	push "NULL"
	call vscr,vecfindfrom
	pop $5
	jmp l2199
l2200:
	localint $8
	push 10
	pop $8
	localint $9
	push 2
	pop $9
l2201:
	push $9
	push $4
	cmpjl
	cmp0
	je l2202
	jmp l2204
l2203:
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2201
l2204:
	push $9
	call vscr,get
	pop $1
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	pop $2
	push $1
	spushs
	push "$const"
	cmpst
	jne l2206
	spop $a
	push $8
	push 10
	cmpje
	cmp0
	je l2208
	push $2
	push "*"
	cmpje
	cmp0
	je l2210
	push 11
	pop $8
	push $2
	call vrow,add
	push $2
	call vrowid,add
	jmp l2209
l2210:
	push 9
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2209:
	jmp l2207
l2208:
	push $8
	push 11
	cmpje
	cmp0
	je l2212
	push $2
	push "FROM"
	cmpje
	cmp0
	je l2214
	push $9
	push 2
	pop $b
	popax
	add $a,$b
	pop $5
	push $4
	pop $9
	push 15
	pop $8
	jmp l2213
l2214:
	push 11
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2213:
	jmp l2211
l2212:
	push $8
	push 12
	cmpje
	cmp0
	jne l2217
	push $8
	push 16
	cmpje
	jmp l2218
l2216:
	push 0
	jmp l2218
l2217:
	push 1
l2218:
	cmp0
	je l2219
	push $2
	push "."
	cmpje
	cmp0
	je l2221
	push 13
	pop $8
	jmp l2220
l2221:
	push $2
	push ","
	cmpje
	cmp0
	je l2223
	push $8
	push 12
	cmpje
	cmp0
	je l2225
	call vrow,last
	call vrowid,add
	call vrow,size
	push 1
	pop $b
	popax
	sub $a,$b
	push "null"
	call vrow,set
l2225:
	push 14
	pop $8
	jmp l2222
l2223:
	push $2
	push "FROM"
	cmpje
	cmp0
	je l2227
	push $8
	push 12
	cmpje
	cmp0
	je l2229
	call vrow,last
	call vrowid,add
	call vrow,size
	push 1
	pop $b
	popax
	sub $a,$b
	push "null"
	call vrow,set
l2229:
	push $9
	push 2
	pop $b
	popax
	add $a,$b
	pop $5
	push $4
	pop $9
	push 15
	pop $8
	jmp l2226
l2227:
	push 12
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2226:
l2222:
l2220:
	jmp l2215
l2219:
	push 10
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2215:
l2211:
l2207:
	jmp l2205
l2206:
	push "$alpha"
	cmpst
	jne l2230
	spop $a
	push $8
	push 10
	cmpje
	cmp0
	jne l2233
	push $8
	push 14
	cmpje
	jmp l2234
l2232:
	push 0
	jmp l2234
l2233:
	push 1
l2234:
	cmp0
	je l2235
	push 12
	pop $8
	push $2
	call vrow,add
	jmp l2231
l2235:
	push $8
	push 13
	cmpje
	cmp0
	je l2237
	push 16
	pop $8
	push $2
	call vrowid,add
	jmp l2236
l2237:
	push 13
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2236:
l2231:
	jmp l2205
l2230:
	spop $a
l2205:
	jmp l2203
l2202:
	push $8
	push 15
	cmpjne
	cmp0
	je l2239
	push 14
	push "null"
	cthis cerrors
	ret
l2239:
	push 0
	pop $8
	push $5
	pop $9
l2240:
	push $9
	push $4
	cmpjl
	cmp0
	je l2241
	jmp l2243
l2242:
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2240
l2243:
	push $9
	call vscr,get
	pop $1
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	pop $2
	push $1
	push "$alpha"
	cmpje
	cmp0
	je l2245
	push $8
	push 0
	cmpje
	cmp0
	jne l2248
	push $8
	push 3
	cmpje
	jmp l2249
l2247:
	push 0
	jmp l2249
l2248:
	push 1
l2249:
	cmp0
	je l2250
	push $2
	call vtab,contains
	cmp0
	je l2252
	push 27
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2252:
	push $2
	call vtab,add
	push 1
	pop $8
	jmp l2246
l2250:
	push $8
	push 1
	cmpje
	cmp0
	je l2254
	push $2
	call vtabid,add
	push 2
	pop $8
	jmp l2253
l2254:
	push 5
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2253:
l2246:
	jmp l2244
l2245:
	push $1
	push "$const"
	cmpje
	cmp0
	je l2256
	push $8
	push 1
	cmpje
	cmp0
	jne l2259
	push $8
	push 2
	cmpje
	jmp l2260
l2258:
	push 0
	jmp l2260
l2259:
	push 1
l2260:
	cmp0
	je l2261
	push $2
	push ","
	cmpje
	cmp0
	je l2263
	push $8
	push 1
	cmpje
	cmp0
	je l2265
	call vtab,last
	call vtabid,add
l2265:
	push 3
	pop $8
	jmp l2262
l2263:
	push $2
	push "WHERE"
	cmpje
	cmp0
	jne l2268
	push $2
	push ";"
	cmpje
	cmp0
	jne l2268
	push $2
	push "ORDER"
	cmpje
	jmp l2269
l2267:
	push 0
	jmp l2269
l2268:
	push 1
l2269:
	cmp0
	je l2270
	push $8
	push 1
	cmpje
	cmp0
	je l2272
	call vtab,last
	call vtabid,add
l2272:
	push $2
	push ";"
	cmpje
	cmp0
	je l2274
	push $9
	push 2
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	push "null"
	cmpjne
	jmp l2276
l2274:
	push 0
	jmp l2276
l2275:
	push 1
l2276:
	cmp0
	je l2277
	push 37
	push $9
	push 2
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	cthis cerrors
	ret
l2277:
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	pop $5
	push $4
	pop $9
	push 10
	pop $8
l2270:
l2262:
	jmp l2257
l2261:
	push 6
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2257:
	jmp l2255
l2256:
	push 7
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2255:
l2244:
	jmp l2242
l2241:
	push $8
	push 10
	cmpjne
	cmp0
	je l2279
	push 8
	push "null"
	cthis cerrors
	ret
l2279:
	cthis getname
	pop $1
	call vtabn,free
	push 0
	call vtabprzesun,add
	push 0
	pop $9
l2280:
	push $9
	call vtab,size
	cmpjl
	cmp0
	je l2281
	jmp l2283
l2282:
	add $9,1
	pop $9
	jmp l2280
l2283:
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $9
	call vtab,get
	spushs
	spop $h
	call $h,to_l
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call vtabn,add
	push $2
	cthis hasvar
	neg
	cmp0
	je l2285
	push 24
	push $9
	call vtab,get
	cthis cerrors
	ret
l2285:
	push $2
	spushs
	push 0
	spop $a
	call [$a],getcolsno
	call vtabprzesun,last
	pop $b
	popax
	add $a,$b
	call vtabprzesun,add
	jmp l2282
l2281:
	push 0
	call vrowid,vecget
	push "*"
	cmpje
	cmp0
	je l2287
	push 0
	call vrowid,removeat
	push 0
	call vrow,removeat
	push 0
	pop $9
l2288:
	push $9
	call vtab,size
	cmpjl
	cmp0
	je l2289
	jmp l2291
l2290:
	add $9,1
	pop $9
	jmp l2288
l2291:
	push $9
	call vtab,get
	pop $3
	push $9
	call vtabn,get
	pop $2
	push $2
	push 1
	call vrowid,vecadddbrow
	push 0
	pop $6
l2292:
	push $6
	push $2
	spushs
	push 1
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2293
	jmp l2295
l2294:
	add $6,1
	pop $6
	jmp l2292
l2295:
	push $3
	call vrow,add
	jmp l2294
l2293:
	jmp l2290
l2289:
l2287:
	push 0
	pop $9
l2296:
	push $9
	call vrow,size
	cmpjl
	cmp0
	je l2297
	jmp l2299
l2298:
	add $9,1
	pop $9
	jmp l2296
l2299:
	push $9
	call vrowid,get
	pop $2
	push $9
	call vrow,get
	push "null"
	cmpje
	cmp0
	je l2301
	push $9
	call vtab,first
	call vrow,set
l2301:
	push $9
	call vrow,get
	call vtabid,find
	pop $6
	push $6
	push 0
	cmpjae
	cmp0
	je l2303
	push $6
	call vtab,get
	pop $3
	push $9
	push $6
	call vrow,set
	push $6
	call vtabn,get
	spushs
	push 1
	push $2
	spop $a
	call [$a],dbfindinrow
	pop $7
	push $7
	push 0
	cmpjl
	cmp0
	je l2305
	push 26
	push $3
	push "."
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	cthis cerrors
	ret
l2305:
	push $7
	call vrowint,add
	jmp l2302
l2303:
	push 25
	push $9
	call vrow,get
	cthis cerrors
	ret
l2302:
	jmp l2298
l2297:
	push $5
	call vscr,get
	spushs
	push "WHERE"
	cmpst
	jne l2307
	spop $a
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l2308:
	push $9
	push $4
	cmpjl
	cmp0
	je l2309
	push $9
	call vscr,get
	pop $1
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	pop $2
	push $1
	push "$alpha"
	cmpje
	cmp0
	je l2311
	push $8
	push 10
	cmpje
	cmp0
	jne l2314
	push $8
	push 16
	cmpje
	cmp0
	jne l2314
	push $8
	push 17
	cmpje
	jmp l2315
l2313:
	push 0
	jmp l2315
l2314:
	push 1
l2315:
	cmp0
	je l2316
	push $2
	call veq,add
	push $8
	push 17
	cmpje
	cmp0
	je l2318
	push 18
	pop $8
	jmp l2317
l2318:
	push 11
	pop $8
l2317:
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2312
l2316:
	push $8
	push 12
	cmpje
	cmp0
	jne l2321
	push $8
	push 19
	cmpje
	jmp l2322
l2320:
	push 0
	jmp l2322
l2321:
	push 1
l2322:
	cmp0
	je l2323
	call veq,last
	call vtabid,find
	pop $6
	push $6
	push 0
	cmpjae
	cmp0
	je l2325
	call veq,size
	push 1
	pop $b
	popax
	sub $a,$b
	push $6
	call vtab,get
	call veq,set
	push $2
	call veq,add
	push $8
	push 12
	cmpje
	cmp0
	je l2327
	push 14
	pop $8
	jmp l2326
l2327:
	push 15
	pop $8
l2326:
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2324
l2325:
	push 17
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2324:
	jmp l2319
l2323:
	push $8
	push 13
	cmpje
	cmp0
	je l2329
	push 17
	pop $8
	jmp l2328
l2329:
	push 18
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2328:
l2319:
l2312:
	jmp l2310
l2311:
	push $1
	push "$const"
	cmpje
	cmp0
	je l2331
	push $8
	push 11
	cmpje
	cmp0
	jne l2334
	push $8
	push 18
	cmpje
	jmp l2335
l2333:
	push 0
	jmp l2335
l2334:
	push 1
l2335:
	cmp0
	je l2336
	push $2
	push "."
	cmpje
	cmp0
	je l2338
	call veq,last
	call vtabid,find
	push 0
	cmpjl
	cmp0
	je l2340
	push 17
	push $9
	push 1
	pop $b
	popax
	sub $a,$b
	cthis cerror
	ret
l2340:
	push $8
	push 11
	cmpje
	cmp0
	je l2342
	push 12
	pop $8
	jmp l2341
l2342:
	push 19
	pop $8
l2341:
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2337
l2338:
	call vtab,first
	call veq,last
	cthis table_has_col
	neg
	cmp0
	je l2344
	push 26
	call veq,last
	cthis cerrors
	ret
l2344:
	call veq,last
	call veq,add
	call veq,size
	push 2
	pop $b
	popax
	sub $a,$b
	call vtab,first
	call veq,set
	push $8
	push 11
	cmpje
	cmp0
	je l2346
	push 14
	pop $8
	jmp l2345
l2346:
	push 15
	pop $8
l2345:
l2337:
	jmp l2332
l2336:
	push $8
	push 14
	cmpje
	cmp0
	je l2348
	push A
	push "="
	push "<>"
	push "<"
	push ">"
	push "<="
	push ">="
	call $2,in
	cmp0
	je l2350
	push $2
	call veq,add
	push 13
	pop $8
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2349
l2350:
	push 16
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2349:
	jmp l2347
l2348:
	push $8
	push 15
	cmpje
	cmp0
	je l2352
	push $2
	spushs
	push "AND"
	cmpst
	je l2355
	push "OR"
	cmpst
	je l2355
	jmp l2354
l2355:
	spop $a
	push $2
	call veq,add
	push 16
	pop $8
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2353
l2354:
	push ";"
	cmpst
	jne l2356
	spop $a
	push 20
	pop $8
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2353
l2356:
	push "ORDER"
	cmpst
	jne l2357
	spop $a
	push $9
	push 2
	pop $b
	popax
	add $a,$b
	cthis ord_order
	ret
	jmp l2353
l2357:
	spop $a
	push 19
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2353:
	jmp l2351
l2352:
	push 23
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2351:
l2347:
l2332:
	jmp l2330
l2331:
	push $1
	push "$int"
	cmpje
	cmp0
	jne l2360
	push $1
	push "$real"
	cmpje
	cmp0
	jne l2360
	push $1
	push "$literal"
	cmpje
	jmp l2361
l2359:
	push 0
	jmp l2361
l2360:
	push 1
l2361:
	cmp0
	je l2362
	push $8
	push 13
	cmpje
	cmp0
	je l2364
	push $1
	push "$literal"
	cmpje
	cmp0
	je l2366
	call veq,last
	spushs
	push A
	push "="
	push "<>"
	spop $h
	call $h,in
	neg
	jmp l2368
l2366:
	push 0
	jmp l2368
l2367:
	push 1
l2368:
	cmp0
	je l2369
	push 20
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2369:
	push $1
	call veq,add
	push $2
	call veq,add
	push 15
	pop $8
	push 2
	popax
	add $9,$a
	pop $9
	jmp l2363
l2364:
	push 21
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2363:
	jmp l2358
l2362:
	push 15
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2358:
l2330:
l2310:
	jmp l2308
l2309:
	push $8
	push 20
	cmpje
	cmp0
	je l2371
	cthis count
	ret
l2371:
	push 22
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
	jmp l2306
l2307:
	push ";"
	cmpst
	jne l2372
	spop $a
	cthis count
	ret
	jmp l2306
l2372:
	push "ORDER"
	cmpst
	jne l2373
	spop $a
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	cthis ord_order
	ret
	jmp l2306
l2373:
	spop $a
l2306:
	push 0
	end method
	method table_has_col
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	call $1,to_l
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	push $2
	spop $a
	call [$a],dbrowcontains
	end method
	method ord_order
	localint $1
	pop $1
	cthis count
	push 0
	cmpje
	cmp0
	je l2375
	localint $2
	push 0
	pop $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	push 1
	pop basc
l2376:
	push $1
	call vscr,size
	cmpjl
	cmp0
	je l2377
	push $1
	call vscr,get
	pop $3
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vscr,vecget
	pop $4
	push $3
	push "$const"
	cmpje
	cmp0
	je l2379
	push $2
	push 0
	cmpje
	cmp0
	je l2381
	push $4
	push "BY"
	cmpje
	cmp0
	je l2383
	push 1
	pop $2
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2382
l2383:
	push 29
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2382:
	jmp l2380
l2381:
	push $2
	push 2
	cmpje
	cmp0
	je l2385
	push $4
	push "."
	cmpje
	cmp0
	je l2387
	push 3
	pop $2
	push $6
	pop $5
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2386
l2387:
	push $4
	push ";"
	cmpje
	cmp0
	je l2389
	push 5
	pop $2
	call vtab,first
	pop $5
	jmp l2388
l2389:
	push $4
	push "ASC"
	cmpje
	cmp0
	jne l2392
	push $4
	push "DESC"
	cmpje
	jmp l2393
l2391:
	push 0
	jmp l2393
l2392:
	push 1
l2393:
	cmp0
	je l2394
	push 4
	pop $2
	call vtab,first
	pop $5
	jmp l2390
l2394:
	push 31
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2390:
l2388:
l2386:
	jmp l2384
l2385:
	push $2
	push 4
	cmpje
	cmp0
	je l2396
	push $4
	push ";"
	cmpje
	cmp0
	je l2398
	push 5
	pop $2
	jmp l2397
l2398:
	push $4
	push "ASC"
	cmpje
	cmp0
	jne l2401
	push $4
	push "DESC"
	cmpje
	jmp l2402
l2400:
	push 0
	jmp l2402
l2401:
	push 1
l2402:
	cmp0
	je l2403
	push $4
	push "ASC"
	cmpje
	pop basc
	push 5
	pop $2
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2399
l2403:
	push 32
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2399:
l2397:
	jmp l2395
l2396:
	push $2
	push 5
	cmpje
	cmp0
	je l2405
	push $4
	push ";"
	cmpje
	cmp0
	je l2407
	push 10
	pop $2
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2406
l2407:
	push 33
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2406:
	jmp l2404
l2405:
	push 30
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2404:
l2395:
l2384:
l2380:
	jmp l2378
l2379:
	push $3
	push "$alpha"
	cmpje
	cmp0
	je l2409
	push $2
	push 1
	cmpje
	cmp0
	je l2411
	push $4
	pop $6
	push 2
	pop $2
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2410
l2411:
	push $2
	push 3
	cmpje
	cmp0
	je l2413
	push $4
	pop $6
	push 4
	pop $2
	push 2
	popax
	add $1,$a
	pop $1
	jmp l2412
l2413:
	push 34
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2412:
l2410:
	jmp l2408
l2409:
	push 28
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis cerror
	ret
l2408:
l2378:
	jmp l2376
l2377:
	push $2
	push 10
	cmpjne
	cmp0
	je l2415
	push 35
	push $2
	cthis cerrors
	ret
l2415:
	push "_"
	push $6
	pop $b
	popax
	add $a,$b
	popax
	add $5,$a
	pop $5
	push $5
	call vouttab,find
	pop isortcol
	push isortcol
	push 0
	cmpjl
	cmp0
	je l2417
	push 36
	push $6
	cthis cerrors
	ret
l2417:
	call dbout,getrowsno
	push "dboutcol"
	push basc
	cmp0
	je l2419
	push "dbcmpasc"
	jmp l2418
l2419:
	push "dbcmpdesc"
l2418:
	push "swap"
	call dbout,insertsort
	push 0
	jmp l2374
l2375:
	push 1
l2374:
	end method
	method dboutcol
	localint $1
	pop $1
	push $1
	push isortcol
	cthis get
	end method
	method dbcmpasc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	call $1,cmpalph
	push 0
	cmpjl
	end method
	method dbcmpdesc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	call $1,cmpalph
	push 0
	cmpja
	end method
	method count
	call dbout,free
	call vcnt,free
	call vouttab,free
	push 0
	pop ilicz
	call dboutnames,free
	call dboutnames,addrow
	popax
	call dboutnames,addrow
	popax
	localstring $1
	localint $2
	localint $3
	push 0
	pop $3
l2420:
	push $3
	call vrowid,size
	cmpjl
	cmp0
	je l2421
	jmp l2423
l2422:
	add $3,1
	pop $3
	jmp l2420
l2423:
	push $3
	call vrow,get
	call vtabn,get
	pop $1
	push $3
	call vrowint,get
	pop $2
	push 0
	push $1
	spushs
	push 0
	push $2
	spop $a
	call [$a],get
	call dboutnames,add
	push 1
	push $1
	spushs
	push 1
	push $2
	spop $a
	call [$a],get
	call dboutnames,add
	push $3
	call vrow,get
	call vtabid,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	call vrowid,get
	pop $b
	popax
	add $a,$b
	call vouttab,add
	jmp l2422
l2421:
	call veq2,free
	push 0
	pop $3
l2424:
	push $3
	call veq,size
	cmpjl
	cmp0
	je l2425
	push $3
	cthis getpoletabid
	push $3
	push 2
	pop $b
	popax
	add $a,$b
	call veq,get
	call veq2,add
	push $3
	push 3
	pop $b
	popax
	add $a,$b
	cthis getpoletabid
	push $3
	push 5
	pop $b
	popax
	add $a,$b
	call veq,size
	cmpjl
	cmp0
	je l2427
	push $3
	push 5
	pop $b
	popax
	add $a,$b
	call veq,get
	call veq2,add
l2427:
	push 6
	popax
	add $3,$a
	pop $3
	jmp l2424
l2425:
	push 0
	call vtab,size
	cthis countrow
	push 0
	end method
	method getpoletabid
	localint $1
	pop $1
	push $1
	call veq,get
	spushs
	push "$int"
	cmpst
	je l2430
	push "$literal"
	cmpst
	je l2430
	push "$real"
	cmpst
	je l2430
	jmp l2429
l2430:
	spop $a
	push $1
	call veq,get
	call veq2,add
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq,get
	call veq2,add
	jmp l2428
l2429:
	spop $a
	push "$cell"
	call veq2,add
	localdef $2
	push $1
	call veq,get
	call vtab,find
	pop $2
	push $2
	call vtabprzesun,get
	push $2
	call vtabn,get
	spushs
	push 1
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq,get
	spop $a
	call [$a],dbfindinrow
	pop $b
	popax
	add $a,$b
	call veq2,add
l2428:
	end method
	method countrow
	localint $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push $1
	call vtabn,get
	pop $3
	localdef $4
	push "vtmp"
	push ilicz
	pop $b
	popax
	add $a,$b
	pop $4
	add ilicz,1
	pop ilicz
	push $4
	spushs
	spop $e
	new vector,[$e]
	push $4
	spushs
	push "string"
	spop $a
	call [$a],type
	push $4
	spushs
	push "vcnt"
	spop $a
	call [$a],copy
	localint $5
	push 2
	pop $5
l2431:
	push $5
	push $3
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l2432
	jmp l2434
l2433:
	add $5,1
	pop $5
	jmp l2431
l2434:
	push $3
	push $5
	call vcnt,vecadddbrow
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	cmpjl
	cmp0
	je l2436
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	cthis countrow
	push $4
	call vcnt,copy
	jmp l2435
l2436:
	localint $6
	push 0
	cthis calcrow
	pop $6
	push $6
	cmp0
	je l2438
	localdef $7
	call dbout,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l2439:
	push $8
	call vrow,size
	cmpjl
	cmp0
	je l2440
	jmp l2442
l2441:
	add $8,1
	pop $8
	jmp l2439
l2442:
	push $7
	push $8
	call vrow,get
	call vtabprzesun,get
	push $8
	call vrowint,get
	pop $b
	popax
	add $a,$b
	call vcnt,get
	call dbout,add
	jmp l2441
l2440:
l2438:
	push $4
	call vcnt,copy
l2435:
	jmp l2433
l2432:
	push $4
	spushs
	spop $d
	delete [$d]
	sub ilicz,1
	pop ilicz
	end method
	method calcrow
	localint $1
	pop $1
	push $1
	call veq2,size
	cmpjl
	cmp0
	je l2444
	localdef $2
	push $1
	cthis getpole
	pop $2
	localdef $3
	push $1
	push 3
	pop $b
	popax
	add $a,$b
	cthis getpole
	pop $3
	push $1
	push 2
	pop $b
	popax
	add $a,$b
	call veq2,get
	spushs
	push "="
	cmpst
	jne l2446
	spop $a
	push $2
	push $3
	cmpje
	jmp l2445
l2446:
	push "<>"
	cmpst
	jne l2447
	spop $a
	push $2
	push $3
	cmpjne
	jmp l2445
l2447:
	push "<"
	cmpst
	jne l2448
	spop $a
	push $2
	push $3
	cmpjl
	jmp l2445
l2448:
	push ">"
	cmpst
	jne l2449
	spop $a
	push $2
	push $3
	cmpja
	jmp l2445
l2449:
	push "<="
	cmpst
	jne l2450
	spop $a
	push $2
	push $3
	cmpjle
	jmp l2445
l2450:
	push ">="
	cmpst
	jne l2451
	spop $a
	push $2
	push $3
	cmpjae
	jmp l2445
l2451:
	spop $a
l2445:
	localint $4
	pop $4
	push $1
	push 5
	pop $b
	popax
	add $a,$b
	call veq2,vecget
	spushs
	push "AND"
	cmpst
	jne l2453
	spop $a
	push $4
	cmp0
	je l2454
	push $1
	push 6
	pop $b
	popax
	add $a,$b
	cthis calcrow
	jmp l2456
l2454:
	push 0
	jmp l2456
l2455:
	push 1
l2456:
	ret
	jmp l2452
l2453:
	push "OR"
	cmpst
	jne l2457
	spop $a
	push $4
	cmp0
	jne l2459
	push $1
	push 6
	pop $b
	popax
	add $a,$b
	cthis calcrow
	jmp l2460
l2458:
	push 0
	jmp l2460
l2459:
	push 1
l2460:
	ret
	jmp l2452
l2457:
	spop $a
	push $4
	ret
l2452:
l2444:
	push 1
	end method
	method getpole
	localint $1
	pop $1
	push $1
	call veq2,get
	spushs
	push "$literal"
	cmpst
	jne l2462
	spop $a
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq2,get
	jmp l2461
l2462:
	push "$int"
	cmpst
	jne l2463
	spop $a
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq2,get
	spushs
	spop $h
	call $h,to_i
	jmp l2461
l2463:
	push "$real"
	cmpst
	jne l2464
	spop $a
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq2,get
	spushs
	spop $h
	call $h,to_r
	jmp l2461
l2464:
	push "$cell"
	cmpst
	jne l2465
	spop $a
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call veq2,get
	call vcnt,get
	jmp l2461
l2465:
	spop $a
l2461:
	end method
	method cerror
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call vscr,vecget
	cthis cerrors
	end method
	method cerrors
	localint $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop serror
	push $1
	spushs
	push 0
	cmpst
	jne l2467
	spop $a
	push "OK"
	jmp l2466
l2467:
	push 1
	cmpst
	jne l2468
	spop $a
	push "empty code"
	jmp l2466
l2468:
	push 2
	cmpst
	jne l2469
	spop $a
	push "unknown start"
	jmp l2466
l2469:
	push 3
	cmpst
	jne l2470
	spop $a
	push "bad key word on start"
	jmp l2466
l2470:
	push 4
	cmpst
	jne l2471
	spop $a
	push "no FROM"
	jmp l2466
l2471:
	push 5
	cmpst
	jne l2472
	spop $a
	push "no FROM tab"
	jmp l2466
l2472:
	push 6
	cmpst
	jne l2473
	spop $a
	push "key word after ',' in FROM"
	jmp l2466
l2473:
	push 7
	cmpst
	jne l2474
	spop $a
	push "no tab or ',' after FROM"
	jmp l2466
l2474:
	push 8
	cmpst
	jne l2475
	spop $a
	push "wrong end of FROM"
	jmp l2466
l2475:
	push 9
	cmpst
	jne l2476
	spop $a
	push "wrong const initial after SELECT"
	jmp l2466
l2476:
	push 10
	cmpst
	jne l2477
	spop $a
	push "wrong const after SELECT"
	jmp l2466
l2477:
	push 11
	cmpst
	jne l2478
	spop $a
	push "no FROM after SELECT"
	jmp l2466
l2478:
	push 12
	cmpst
	jne l2479
	spop $a
	push "wrong const after SELECT list"
	jmp l2466
l2479:
	push 13
	cmpst
	jne l2480
	spop $a
	push "wrong alpha after SELECT"
	jmp l2466
l2480:
	push 14
	cmpst
	jne l2481
	spop $a
	push "wrong end SELECT state"
	jmp l2466
l2481:
	push 15
	cmpst
	jne l2482
	spop $a
	push "wrong ident starting WHERE"
	jmp l2466
l2482:
	push 16
	cmpst
	jne l2483
	spop $a
	push "wrong const after table.row in WHERE"
	jmp l2466
l2483:
	push 17
	cmpst
	jne l2484
	spop $a
	push "no existing table in WHERE"
	jmp l2466
l2484:
	push 18
	cmpst
	jne l2485
	spop $a
	push "wrong alpha in WHERE"
	jmp l2466
l2485:
	push 19
	cmpst
	jne l2486
	spop $a
	push "wrong const after equation in WHERE"
	jmp l2466
l2486:
	push 20
	cmpst
	jne l2487
	spop $a
	push "no = or <> before literal in WHERE"
	jmp l2466
l2487:
	push 21
	cmpst
	jne l2488
	spop $a
	push "literal, int or real before equation in WHERE"
	jmp l2466
l2488:
	push 22
	cmpst
	jne l2489
	spop $a
	push "bad end after WHERE"
	jmp l2466
l2489:
	push 23
	cmpst
	jne l2490
	spop $a
	push "wrong const after WHERE"
	jmp l2466
l2490:
	push 24
	cmpst
	jne l2491
	spop $a
	push "FROM: no such table"
	jmp l2466
l2491:
	push 25
	cmpst
	jne l2492
	spop $a
	push "SELECT: no such table"
	jmp l2466
l2492:
	push 26
	cmpst
	jne l2493
	spop $a
	push "SELECT: no such row in table"
	jmp l2466
l2493:
	push 27
	cmpst
	jne l2494
	spop $a
	push "FROM: table already exist"
	jmp l2466
l2494:
	push 28
	cmpst
	jne l2495
	spop $a
	push "ORDER: wrong word"
	jmp l2466
l2495:
	push 29
	cmpst
	jne l2496
	spop $a
	push "ORDER: no BY word"
	jmp l2466
l2496:
	push 30
	cmpst
	jne l2497
	spop $a
	push "ORDER BY: wrong const"
	jmp l2466
l2497:
	push 31
	cmpst
	jne l2498
	spop $a
	push "ORDER BY: wrong const after alpha"
	jmp l2466
l2498:
	push 32
	cmpst
	jne l2499
	spop $a
	push "ORDER BY: expected ';' or 'ASC', 'DESC'"
	jmp l2466
l2499:
	push 33
	cmpst
	jne l2500
	spop $a
	push "ORDER BY: expected ';'"
	jmp l2466
l2500:
	push 34
	cmpst
	jne l2501
	spop $a
	push "ORDER BY: wrong alpha"
	jmp l2466
l2501:
	push 35
	cmpst
	jne l2502
	spop $a
	push "ORDER BY: wrong end"
	jmp l2466
l2502:
	push 36
	cmpst
	jne l2503
	spop $a
	push "ORDER BY: no field to sort"
	jmp l2466
l2503:
	push 37
	cmpst
	jne l2504
	spop $a
	push "words after ';'"
	jmp l2466
l2504:
	spop $a
	push ""
l2466:
	localstring $3
	pop $3
	push $2
	push "null"
	cmpjne
	cmp0
	je l2506
	push ": '"
	push $2
	pop $b
	popax
	add $a,$b
	push "'"
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
l2506:
	push igmdebug
	cmp0
	je l2508
	call $3,print
l2508:
	push $1
	end method
	method copyresult
	localstring $1
	pop $1
	localdef $2
	call dbout,getfullname
	pop $2
	localdef $3
	call dboutnames,getfullname
	pop $3
	push $1
	spushs
	push $3
	push 0
	push 0
	spop $a
	call [$a],dbaddrowfrom
	push $1
	spushs
	push $3
	push 1
	push 0
	spop $a
	call [$a],dbaddrowfrom
	localint $4
	push 0
	pop $4
l2509:
	push $4
	call dbout,getrowsno
	cmpjl
	cmp0
	je l2510
	jmp l2512
l2511:
	add $4,1
	pop $4
	jmp l2509
l2512:
	push $1
	spushs
	push $2
	push $4
	push 0
	spop $a
	call [$a],dbaddrowfrom
	jmp l2511
l2510:
	end method
	end class

	module advmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "normal"
	cthis set
	end method
	method setactive
	push "active"
	cthis set
	end method
	method setbut
	push "active"
	cthis set
	end method
	method setexit
	push "exit"
	cthis set
	end method
	method setwait
	push "wait"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	class classadvobject
	method init
	cthis addasadvobject
	end method
	method addasadvobject
	push AdventureGame
	neg
	cmp0
	je l2514
	ret
l2514:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,add
	push $1
	call grmslrel,add
	push $1
	call grmslclick,add
	push $1
	call grmsrclick,add
	end method
	method removefromadvobjs
	push AdventureGame
	neg
	cmp0
	je l2516
	ret
l2516:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,remove
	push $1
	call grmslrel,remove
	push $1
	call grmslclick,remove
	push $1
	call grmsrclick,remove
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselrel
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	end class

	class classadvanhero
	method init
	end method
	method setashero
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "buildhero"
	push "buildhero"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onendframe"
	push "heroendframe1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildhero
	push $1
	spushs
	push "buildheroframe"
	push "buildheroframe"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onfinish"
	push "herofinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getdir"
	push "getdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setdir"
	push "setdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "thisfinish"
	push "thisfinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec"
	push "playspec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec2"
	push "playspec2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostop"
	push "herostop"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostart"
	push "herostart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostand"
	push "herostand"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstdfin"
	push "setstdfin"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "getpocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "haspocket"
	push "haspocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstandbase"
	push "setstandbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	spop $a
	call [$a],setstdfin
	end method
	method buildheroframe
	localstring $1
	pop $1
	push $1
	spushs
	push "onendframe"
	push "heroendframe"
	spop $a
	call [$a],addmethod
	end method
	method setstdfin
	localstring $1
	pop $1
	push "onstdfinish"
	push $1
	cthis addmethod
	end method
	method setstandbase
	localstring $1
	pop $1
	push $1
	pop _sstandbase
	end method
	method buildhero
	new string,_sbase
	new int,_istate
	push 0
	pop _istate
	new string,_sfinfun
	new string,_sobfin
	new int,_bplaystop
	new int,_iiloscsek
	new int,_itypsort
	new int,idsort
	new string,_sobstart
	new string,_sfunfinstart
	new int,bthisfin
	push 0
	pop bthisfin
	new string,_sstandbase
	push "stand"
	pop _sstandbase
	end method
	method getpocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	ret
	end method
	method haspocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	call engine,varexist
	ret
	end method
	method thisfinish
	localint $1
	pop $1
	push $1
	pop bthisfin
	end method
	method getdir
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	ret
	end method
	method setdir
	localstring $1
	pop $1
	cthis actionname
	spushs
	push 2
	spop $h
	call $h,strsube
	push $1
	pop $b
	popax
	add $a,$b
	cthis framenr
	cthis setframe
	end method
	method playspec
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop _sbase
	push $2
	pop _iiloscsek
	push $3
	pop _itypsort
	push $7
	pop _bplaystop
	push $8
	pop _sobfin
	push $9
	pop _sfinfun
	push $5
	pop _sobstart
	push $6
	pop _sfunfinstart
	push $2
	push 0
	cmpja
	cmp0
	je l2518
	push $3
	push 0
	cmpje
	cmp0
	je l2520
	push 1
	pop idsort
	jmp l2519
l2520:
	push $3
	push 1
	cmpje
	cmp0
	je l2522
	call $2,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l2522:
l2519:
l2518:
	push $4
	cmp0
	je l2524
	push 1
	pop _istate
	push $1
	push "start"
	pop $b
	popax
	add $a,$b
	push $10
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l2523
l2524:
	push $1
	push $2
	push 0
	cmpja
	cmp0
	je l2526
	push "1"
	push $10
	pop $b
	popax
	add $a,$b
	jmp l2525
l2526:
	push $10
l2525:
	pop $b
	popax
	add $a,$b
	push 0
	cthis setframe
	cthis herostart
l2523:
	end method
	method playspec2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call $1,length
	push 2
	cmpjl
	cmp0
	je l2528
	push ""
	jmp l2527
l2528:
	push 2
	call $1,strsube
l2527:
	pop $4
	push $4
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push $2
	push $3
	push 0
	push 2
	call $1,gete
	cthis playspec
	end method
	method herostop
	push 3
	pop _istate
	push _bplaystop
	cmp0
	je l2530
	push 0
	pop _bplaystop
	push 1
	cthis thisfinish
	push _sbase
	push "stop"
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l2529
l2530:
	push 1
	cthis stop
l2529:
	end method
	method herostart
	push 2
	pop _istate
	push _sbase
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l2532
	push idsort
	jmp l2531
l2532:
	push ""
l2531:
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	end method
	method herofinish
	push _istate
	push 2
	cmpje
	cmp0
	je l2534
	push bthisfin
	jmp l2536
l2534:
	push 0
	jmp l2536
l2535:
	push 1
l2536:
	cmp0
	je l2537
	push 3
	pop _istate
l2537:
	push _istate
	push 0
	cmpje
	cmp0
	je l2539
	cthis herostand
	cthis onstdfinish
	localstring $1
	cthis getname
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push $1
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $1
	push "_ACTION_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l2538
l2539:
	push _istate
	push 1
	cmpje
	cmp0
	je l2541
	cthis herostart
	push _sobstart
	push _sfunfinstart
	cthis callfun
	jmp l2540
l2541:
	push _istate
	push 2
	cmpje
	cmp0
	je l2543
	localstring $3
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l2545
	push _itypsort
	push 0
	cmpje
	cmp0
	je l2547
	push idsort
	push _iiloscsek
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
	jmp l2546
l2547:
	push _itypsort
	push 1
	cmpje
	cmp0
	je l2549
	call _iiloscsek,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l2549:
l2546:
	push _sbase
	push idsort
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l2544
l2545:
	cthis actionname
	pop $3
l2544:
	push $3
	cthis play
	jmp l2542
l2543:
	push _istate
	push 3
	cmpje
	cmp0
	je l2551
	push 0
	pop _istate
	cthis herostand
	push 1
	cthis thisfinish
	push _sobfin
	push _sfinfun
	cthis callfun
l2551:
l2542:
l2540:
l2538:
	end method
	method herostand
	localstring $1
	push _sstndpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2553
	push _sstandbase
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	pop $b
	popax
	add $a,$b
	cthis play
	push $1
	spushs
	spop $a
	call [$a],play
l2553:
	end method
	method heroendframe1
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method heroendframe
	cthis getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	cthis setz
	cthis haspocket
	cmp0
	je l2555
	cthis getpocket
	spushs
	cthis getposx
	cthis getposy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],pocketpos
l2555:
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classadvhero
	method init
	new string,_sanim
	new int,_bisvecile
	push 0
	pop _bisvecile
	new string,_sbase
	push "null"
	pop _sbase
	new string,_sbase2
	push "null"
	pop _sbase2
	new int,izakres
	push 0
	pop izakres
	new string,_sbs2
	new string,_sbutoper
	new string,_smetpart
	new string,_simgbut
	new string,_sptfname
	cthis getname
	pop _sptfname
	end method
	method getptfname
	push _sptfname
	ret
	end method
	method link
	localstring $1
	pop $1
	push $1
	pop _sanim
	end method
	method link2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	cthis checkamounts
	end method
	method anstand
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method ansay
	push _sanim
	spushs
	push "talk"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method getdir
	push _sanim
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	end method
	method nofpieces
	cthis getdir
	cthis nofpiecesdir
	ret
	end method
	method nofpiecesdir
	localstring $1
	pop $1
	push _bisvecile
	cmp0
	je l2557
	push $1
	call vecdirs,find
	call vecile,get
	jmp l2556
l2557:
	push 0
l2556:
	ret
	end method
	method setbase2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbase
	push $2
	pop _sbase2
	end method
	method setbase
	localstring $1
	pop $1
	push $1
	pop _sbase
	call $1,length
	pop izakres
	end method
	method getpropdir
	localstring $1
	pop $1
	push $1
	push "auto"
	cmpje
	cmp0
	je l2559
	cthis getdir
	jmp l2558
l2559:
	push $1
l2558:
	ret
	end method
	method _buildamounts
	push _bisvecile
	neg
	cmp0
	je l2561
	push 1
	pop _bisvecile
	new vector,vecdirs
	push "string"
	call vecdirs,type
	push "begin"
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call vecdirs,beginadd
	new vector,vecile
l2561:
	end method
	method _clearvecile
	call vecile,free
	push 8
	push 0
	call vecile,resize
	end method
	method checkamounts
	localstring $1
	pop $1
	push $1
	cthis setbase
	cthis _buildamounts
	cthis _clearvecile
	push _sanim
	push "null"
	cmpje
	cmp0
	je l2563
	ret
l2563:
	localint $2
	push _sanim
	spushs
	spop $a
	call [$a],nofactions
	pop $2
	localstring $3
	localint $4
	localint $5
	push 0
	pop $5
l2564:
	push $5
	push $2
	cmpjl
	cmp0
	je l2565
	jmp l2567
l2566:
	add $5,1
	pop $5
	jmp l2564
l2567:
	push _sanim
	spushs
	push $5
	spop $a
	call [$a],nameofaction
	pop $3
	push 0
	push izakres
	call $3,getb
	push $1
	cmpje
	cmp0
	je l2569
	push izakres
	push 10
	call $3,getb
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l2571
	push 0
	push 2
	call $3,gete
	call vecdirs,find
	call vecile,vecinc
l2571:
l2569:
	jmp l2566
l2565:
	end method
	method getanim
	push _sanim
	end method
	method calllastfun
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	push _simgbut
	spushs
	spop $a
	call [$a],checkonce
	end method
	method _calllastfunfin
	cthis calllastfunfin
	cthis advmsunlock
	end method
	method calllastfunfin
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method getcallfin
	push _sanim
	push _smetpart
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	ret
	end method
	method _cplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis advmslock
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push $1
	push "null"
	cmpje
	cmp0
	je l2573
	push _sanim
	spushs
	push $3
	cthis getpropdir
	spop $a
	call [$a],setdir
	push $2
	push "null"
	cmpjne
	cmp0
	je l2575
	push $2
	spushs
	spop $d
	cthis [$d]
l2575:
	jmp l2572
l2573:
	push _sanim
	spushs
	push $1
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	cthis getname
	push $2
	push $3
	cthis getpropdir
	spop $a
	call [$a],playspec
l2572:
	end method
	method _cplay1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "_cplay1_2"
	push $2
	cthis _cplay
	end method
	method _cplay1_2
	cthis calllastfun
	cthis _callbehs
	end method
	method _callbehs
	cthis advmsunlock
	cthis callbehs
	end method
	method callbehs
	localstring $1
	cthis getcallfin
	pop $1
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2577
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getname
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2576
l2577:
	cthis _calllastfunfin
l2576:
	end method
	method _cplay2_2
	cthis calllastfun
	push _sbs2
	push "_callbehs"
	cthis getdir
	cthis _cplay
	end method
	method _cplay2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sbs2
	push $1
	push "_cplay2_2"
	push $3
	cthis _cplay
	end method
	method no_turn
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push _sanim
	pop $b
	popax
	add $a,$b
	pop $2
	localstring $3
	push _simgbut
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	pop $3
	push $2
	call engine,varexist
	cmp0
	je l2579
	cthis getdir
	push $3
	cmpjne
	jmp l2581
l2579:
	push 0
	jmp l2581
l2580:
	push 1
l2581:
	cmp0
	je l2582
	push $2
	spushs
	push $3
	cthis getname
	push $1
	spop $a
	call [$a],heroturn
	push 0
	jmp l2578
l2582:
	push 1
l2578:
	end method
	method _heroplay1
	push _simgbut
	cthis heroplay1
	end method
	method _heroplay2
	push _simgbut
	cthis heroplay2
	end method
	method heroplay1
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay1"
	cthis no_turn
	cmp0
	je l2584
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay1
l2584:
	end method
	method heroplay2
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay2"
	cthis no_turn
	cmp0
	je l2586
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbase2
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
l2586:
	end method
	method _setbase2
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	push $1
	push 2
	call modadv,get
	cthis setbase2
	end method
	method _setbase
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	cthis setbase
	end method
	method heroplay3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $1
	spushs
	push $2
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	push $1
	cthis heroplay2
	end method
	end class

	new snd,_fxtakeitem
	class classherotaker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_PICKUP_"
	pop _smetpart
	end method
	method herotake
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method calllastfun
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2588
	call _fxtakeitem,play
	push _simgbut
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l2590
	push _simgbut
	spushs
	spop $a
	call [$a],hide
	jmp l2589
l2590:
	push _simgbut
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l2589:
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push _sbutoper
	push _simgbut
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
l2588:
	clparent classadvhero,calllastfun
	end method
	end class

	class classherolooker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_OPERATE_"
	pop _smetpart
	end method
	method herolook
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method herooperate
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method heroopendoor
	localstring $1
	pop $1
	push $1
	push "open:"
	cthis heroplay3
	end method
	method heroclosedoor
	localstring $1
	pop $1
	push $1
	push "close:"
	cthis heroplay3
	end method
	end class

	class classherouser
	parent classadvhero
	method init
	clparent classadvhero,init
	new string,_stool
	end method
	method herouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stool
	push "_USE_"
	push _stool
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	pop _smetpart
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],itemhide
	push $2
	pop _simgbut
	push $2
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $2
	spushs
	spop $a
	call [$a],baseuse1
	push $2
	spushs
	spop $a
	call [$a],baseuse2
	push $2
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
	end method
	method calllastfun
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	end method
	method calllastfunfin
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method callbehs
	localstring $1
	cthis getname
	pop $1
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2592
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2591
l2592:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2594
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2593
l2594:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2596
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2595
l2596:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2598
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2597
l2598:
	cthis _calllastfunfin
l2597:
l2595:
l2593:
l2591:
	end method
	end class

	class classpathf
	parent classadvhero
	method init
	clparent classadvhero,init
	new path,ptf
	new string,swalkto
	push "null"
	pop swalkto
	new string,_sfunnopath
	push "null"
	pop _sfunnopath
	new string,_sfunvisit
	push "null"
	pop _sfunvisit
	new int,destx
	new int,desty
	new int,bzmien
	push 0
	pop bzmien
	new int,bzatrzym
	push 0
	pop bzatrzym
	new string,_sitem
	push "null"
	pop _sitem
	new string,_sobzmien
	push "null"
	pop _sobzmien
	new string,_sfunzmien
	push "null"
	pop _sfunzmien
	new int,_istep
	new int,_itmpspeed
	push "onfinish"
	push "_cptffin"
	call ptf,addmethod
	push "onvisit"
	push "_cptvisit"
	call ptf,addmethod
	push "_cptfstdreach"
	push "_cptfstdarrive"
	cthis addsigs
	push "go:"
	cthis _setbase
	end method
	method _buildan
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	push $1
	cthis link
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	pop _istep
	push $2
	push $3
	push $4
	push $5
	push $6
	call ptf,build
	push $1
	cthis _buildan
	end method
	method buildfrom
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	pop _istep
	push $2
	push $3
	call ptf,copy
	push $1
	cthis _buildan
	end method
	method addsigs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2600
	push "onreach"
	push $1
	call ptf,addmethod
l2600:
	push $2
	push "null"
	cmpjne
	cmp0
	je l2602
	push "onarrive"
	push $2
	call ptf,addmethod
l2602:
	end method
	method sigonnopath
	localstring $1
	pop $1
	push $1
	pop _sfunnopath
	end method
	method sigonvisit
	localstring $1
	pop $1
	push $1
	pop _sfunvisit
	end method
	method _cptfstdreach
	localstring $1
	pop $1
	end method
	method _cptfstdarrive
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,move
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,setpos
	end method
	method show
	call ptf,show
	end method
	method hide
	call ptf,hide
	end method
	method enable
	localint $1
	pop $1
	push $1
	call ptf,enable
	end method
	method disable
	localint $1
	pop $1
	push $1
	call ptf,disable
	end method
	method setanstep
	localint $1
	pop $1
	push $1
	pop _istep
	push $1
	call ptf,setanstep
	end method
	method mulspeed
	localint $1
	pop $1
	push $1
	push _istep
	pop $b
	popax
	mul $a,$b
	pop _itmpspeed
	push _itmpspeed
	call ptf,setanstep
	end method
	method retstep
	push _istep
	cthis setanstep
	end method
	method getanstep
	push _istep
	ret
	end method
	method getposx
	call ptf,getposx
	ret
	end method
	method getposy
	call ptf,getposy
	ret
	end method
	method getpx
	call ptf,getpx
	ret
	end method
	method getpy
	call ptf,getpy
	ret
	end method
	method getidan
	call ptf,getidan
	ret
	end method
	method getidan2
	call ptf,getidan2
	ret
	end method
	method getidgo
	call ptf,getidgo
	ret
	end method
	method getidanpath
	call ptf,getidanpath
	ret
	end method
	method getidan2path
	call ptf,getidan2path
	ret
	end method
	method getidgopath
	call ptf,getidgopath
	ret
	end method
	method excludev
	localint $1
	pop $1
	push $1
	call ptf,excludev
	end method
	method linkfilter
	call ptf,linkfilter
	end method
	method unlinkfilter
	call ptf,unlinkfilter
	end method
	method unlinkanima
	call ptf,unlinkanima
	end method
	method linkanima
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	end method
	method setscalepower
	localreal $1
	pop $1
	push $1
	call ptf,setscalepower
	end method
	method setzsize
	localreal $1
	pop $1
	push $1
	call ptf,setzsize
	end method
	method iswayto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,iswayto
	ret
	end method
	method scalean
	call ptf,scalean
	end method
	method getfromver
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	call ptf,getfromver
	ret
	end method
	method getgover
	localint $1
	pop $1
	push $1
	call ptf,getgover
	ret
	end method
	method getanver
	localint $1
	pop $1
	push $1
	call ptf,getanver
	ret
	end method
	method getxver
	localint $1
	pop $1
	push $1
	call ptf,getxver
	ret
	end method
	method getyver
	localint $1
	pop $1
	push $1
	call ptf,getyver
	ret
	end method
	method getbyname
	localint $1
	pop $1
	push $1
	call ptf,getbyname
	ret
	end method
	method walkbase
	localstring $1
	pop $1
	push $1
	call ptf,setbase
	end method
	method letturn
	localint $1
	pop $1
	push $1
	call ptf,letturn
	end method
	method canturn
	call ptf,canturn
	end method
	method vecdir
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,vecdir
	end method
	method ptfgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,goto
	end method
	method walkto2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $2
	push $3
	cthis cangoto
	cmp0
	je l2604
	push $2
	push $3
	call ptf,goto
	pop $2
	jmp l2603
l2604:
	push _sfunnopath
	push "null"
	cmpjne
	cmp0
	je l2606
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
l2606:
l2603:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $1
	push "null"
	cmpje
	cthis letturn
	cthis iswalking
	cmp0
	je l2608
	push $2
	push $3
	call ptf,iswayto
	cmp0
	je l2610
	push 1
	pop bzmien
	push $2
	pop destx
	push $3
	pop desty
	push 0
	ret
	jmp l2609
l2610:
	push 1
	pop bzatrzym
	push 1
	popax
	sub 0,$a
	ret
l2609:
	jmp l2607
l2608:
	push $2
	push $3
	call ptf,goto
	ret
l2607:
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	ret
	end method
	method gotorel
	localint $1
	localint $2
	pop $2
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],getpx
	push $1
	pop $b
	popax
	add $a,$b
	push _sanim
	spushs
	spop $a
	call [$a],getey
	push $2
	pop $b
	popax
	add $a,$b
	cthis goto
	ret
	end method
	method turn
	localstring $1
	pop $1
	push $1
	call ptf,turn
	end method
	method iswalking
	call ptf,iswalking
	ret
	end method
	method stand
	call ptf,stand
	end method
	method stop
	localint $1
	pop $1
	push $1
	call ptf,stop
	end method
	method getidpath
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,getidpath
	ret
	end method
	method cangoto
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	call ptf,getidpath
	pop $3
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2612
	push 0
	jmp l2611
l2612:
	push $3
	call ptf,isenabled
l2611:
	ret
	end method
	method _cptfreachpocket
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachbut
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachdoors
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herooperate
	end method
	method _cptfreachitem
	cthis getptfname
	push "take"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herotake
	end method
	method _cptfherofin
	cthis herostand
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2614
	push _sanim
	push "_REACH_"
	pop $b
	popax
	add $a,$b
	push swalkto
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	cthis ismainhero
	cmp0
	je l2616
	localstring $1
	push "null"
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2618
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],getitem
	pop $1
l2618:
	push $1
	push "null"
	cmpjne
	cmp0
	je l2620
	cthis getptfname
	push "use"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push swalkto
	spop $a
	call [$a],herouse
	jmp l2619
l2620:
	push "_cptfreach"
	push swalkto
	spushs
	spop $a
	call [$a],gettyp
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2619:
l2616:
	push "null"
	pop swalkto
	jmp l2613
l2614:
	push _sanim
	push "_ARRIVE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis _cptheroendpath
l2613:
	end method
	method sigonzmien
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sobzmien
	push $2
	pop _sfunzmien
	end method
	method _cptheroendpath
	push _sfinob
	push _sfinfun
	cthis callfun
	push _bylfin
	cmp0
	je l2622
	push 0
	pop _bylfin
	jmp l2621
l2622:
	push "null"
	pop _sfinfun
	push "null"
	pop _sfinob
l2621:
	end method
	method _cptfnopath
	push _sanim
	push "_NOPATH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _cptfvisit
	push _sanim
	push "_VISIT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method prepareforhero
	push "onfinish"
	push "_cptfherofin"
	call ptf,addmethod
	new string,_sfinob
	new string,_sfinfun
	new int,_bylfin
	push "_cptfnopath"
	cthis sigonnopath
	push "_cptfvisit"
	cthis sigonvisit
	end method
	method herowalkto2
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	push $3
	push $4
	cthis herowalkto
	end method
	method herowalkto
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sstndpref
	push _sanim
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],stop
	push $4
	pop _sfinob
	push $5
	pop _sfinfun
	push $5
	push "null"
	cmpjne
	cmp0
	je l2624
	push 1
	pop _bylfin
l2624:
	push $1
	push $2
	push $3
	cthis walkto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2626
l2626:
	end method
	method heroturn
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sfinob
	push $3
	pop _sfinfun
	push $3
	push "null"
	cmpjne
	cmp0
	je l2628
	push 1
	pop _bylfin
l2628:
	push $1
	cthis turn
	end method
	method advgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	push "null"
	cthis herowalkto2
	end method
	method advwalkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	push "null"
	cthis herowalkto
	end method
	method advvisit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2630
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis advwalkto
l2630:
	end method
	method herostand
	cthis retstep
	cthis stand
	push _sanim
	spushs
	spop $a
	call [$a],herostand
	end method
	method stophero
	cthis herostand
	push 1
	pop bzatrzym
	end method
	method _cptvisit
	push _sfunvisit
	spushs
	spop $d
	cthis [$d]
	push bzmien
	cmp0
	je l2632
	push 0
	pop bzmien
	push destx
	push desty
	cthis goto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2634
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
	jmp l2633
l2634:
	push _sobzmien
	push _sfunzmien
	cthis callfun
l2633:
	jmp l2631
l2632:
	push bzatrzym
	cmp0
	je l2636
	push 0
	pop bzatrzym
	push 1
	cthis stop
l2636:
l2631:
	end method
	method _cptffin
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2638
	push swalkto
	call ptf,onreach
	push "null"
	pop swalkto
	jmp l2637
l2638:
	call ptf,onarrive
l2637:
	end method
	method anposx
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	end method
	method anposy
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	end method
	method bzmien
	push bzmien
	end method
	method bzmien=
	localint $1
	pop $1
	push $1
	pop bzmien
	end method
	end class

	class classwalkerqueue
	method init
	new timer,timwq
	push 1
	call timwq,settick
	push 1
	call timwq,setcycle
	push "onfinish"
	push "_timwqfin"
	call timwq,addmethod
	new vector,vecpt
	push "string"
	call vecpt,type
	new int,iverlen
	push 1
	pop iverlen
	new int,igox
	new int,igoy
	new string,_simg
	new int,bniezmien
	push 1
	pop bniezmien
	end method
	method _timwqfin
	cthis checkqueue
	cthis play
	end method
	method start
	end method
	method ptpos
	localstring $1
	pop $1
	push $1
	call vecpt,find
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	cthis ptpos
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2640
	push $2
	push 0
	cmpje
	cmp0
	je l2642
	call vecpt,first
	spushs
	push "null"
	push "null"
	spop $a
	call [$a],sigonzmien
	push 0
	call vecpt,removeat
	call vecpt,size
	cmp0
	je l2644
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2644:
	jmp l2641
l2642:
	push $2
	call vecpt,removeat
l2641:
l2640:
	end method
	method stop
	push 0
	call timwq,stop
	end method
	method add
	localstring $1
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],anposx
	push $1
	spushs
	spop $a
	call [$a],anposy
	spop $a
	call [$a],iswayto
	popax
	push $1
	call vecpt,add
	call vecpt,size
	push 1
	cmpje
	cmp0
	je l2646
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2646:
	end method
	method ptzmien
	push 0
	pop bniezmien
	push _simg
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis walkto
	call vecpt,first
	spushs
	push 0
	spop $a
	call [$a],bzmien=
	push 1
	pop bniezmien
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	end method
	method visit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2648
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis walkto
l2648:
	end method
	method setverlen
	localint $1
	pop $1
	push $1
	pop iverlen
	end method
	method stand
	localint $1
	push 0
	pop $1
l2649:
	push $1
	call vecpt,size
	cmpjl
	cmp0
	je l2650
	jmp l2652
l2651:
	add $1,1
	pop $1
	jmp l2649
l2652:
	push $1
	call vecpt,get
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	call vecpt,get
	spushs
	spop $a
	call [$a],herostand
	jmp l2651
l2650:
	end method
	method mulspeed
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l2653:
	push $2
	call vecpt,size
	cmpjl
	cmp0
	je l2654
	jmp l2656
l2655:
	add $2,1
	pop $2
	jmp l2653
l2656:
	push $2
	call vecpt,get
	spushs
	push $1
	spop $a
	call [$a],mulspeed
	jmp l2655
l2654:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop igox
	push $3
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop igoy
	push $1
	pop _simg
	push 1
	pop iverlen
	localint $4
	call vecpt,size
	pop $4
	push $4
	push 0
	cmpjle
	cmp0
	je l2658
	ret
l2658:
	localstring $5
	call vecpt,first
	pop $5
	push $5
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	localint $6
	localint $7
	localstring $8
	localint $9
	push 1
	pop $9
l2659:
	push $9
	push $4
	cmpjl
	cmp0
	je l2660
	jmp l2662
l2661:
	add $9,1
	pop $9
	jmp l2659
l2662:
	push $9
	call vecpt,get
	pop $8
	push $5
	spushs
	spop $a
	call [$a],getidgo
	pop $7
	push bniezmien
	cmp0
	je l2664
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	jmp l2663
l2664:
	push $8
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	push $8
	spushs
	push $9
	push iverlen
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],getgover
	pop $6
l2663:
	push $6
	push 0
	cmpjl
	cmp0
	je l2666
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	push $6
	push 0
	cmpjl
	cmp0
	je l2668
	push $5
	spushs
	spop $a
	call [$a],getidan
	pop $6
l2668:
l2666:
	push $6
	push $7
	cmpje
	cmp0
	je l2670
	push bniezmien
	jmp l2672
l2670:
	push 0
	jmp l2672
l2671:
	push 1
l2672:
	cmp0
	je l2673
	push 1
	popax
	sub 0,$a
	pop $6
l2673:
	push $8
	pop $5
	push $6
	push 0
	cmpjae
	cmp0
	je l2675
	push $8
	spushs
	push "null"
	push $8
	spushs
	push $6
	spop $a
	call [$a],getxver
	push $8
	spushs
	push $6
	spop $a
	call [$a],getyver
	spop $a
	call [$a],advwalkto
	jmp l2674
l2675:
	push $8
	spushs
	push 0
	spop $a
	call [$a],stop
	push $8
	spushs
	spop $a
	call [$a],herostand
l2674:
	jmp l2661
l2660:
	end method
	method checkqueue
	localint $1
	call vecpt,size
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l2677
	ret
l2677:
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localint $7
	push 0
	pop $7
l2678:
	push $7
	push $1
	cmpjl
	cmp0
	je l2679
	jmp l2681
l2680:
	add $7,1
	pop $7
	jmp l2678
l2681:
	push $7
	call vecpt,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2683
	push $3
	spushs
	spop $a
	call [$a],getidan
	pop $5
	push $3
	spushs
	spop $a
	call [$a],getidan2
	pop $6
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $2
l2684:
	push $2
	push $1
	cmpjl
	cmp0
	je l2685
	jmp l2687
l2686:
	add $2,1
	pop $2
	jmp l2684
l2687:
	push $2
	call vecpt,get
	pop $4
	push $4
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2689
	push $4
	spushs
	push $5
	spop $a
	call [$a],excludev
	push $4
	spushs
	push $6
	spop $a
	call [$a],excludev
l2689:
	jmp l2686
l2685:
l2683:
	jmp l2680
l2679:
	end method
	end class

	class classstndgroup
	method init
	new gmobjvec,grstnd
	end method
	method pause
	push "lock"
	call grstnd,eval
	cthis stop
	end method
	method resume
	push igmstate
	push 0
	cmpje
	cmp0
	je l2691
	push "unlock"
	call grstnd,eval
	cthis play
l2691:
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grstnd,add
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call grstnd,remove
	end method
	method stop
	push "stop"
	call grstnd,eval
	end method
	method play
	push "play"
	call grstnd,eval
	end method
	method reset
	push "reset"
	call grstnd,eval
	end method
	end class

	class classadvstander
	parent classlocker
	method init
	clparent classlocker,init
	new timer,timstand
	push 1
	call timstand,settick
	push 20000
	call timstand,delay
	push "onfinish"
	push "_timstandfin"
	call timstand,addmethod
	new string,sanim
	cthis getname
	pop sanim
	push _sstndpref
	call sanim,strsubbs
	pop sanim
	new string,_sbeh
	push "beh_"
	push sanim
	pop $b
	popax
	add $a,$b
	push "_IDLE"
	pop $b
	popax
	add $a,$b
	pop _sbeh
	cthis getname
	call modstnd,add
	end method
	method _timstandfin
	localstring $1
	call gameapi,getgamename
	pop $1
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],behexist
	cmp0
	je l2693
	cthis getlock
	neg
	jmp l2695
l2693:
	push 0
	jmp l2695
l2694:
	push 1
l2695:
	cmp0
	je l2696
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],playbeh
l2696:
	end method
	method play
	cthis getlock
	neg
	cmp0
	je l2698
	call timstand,isplaying
	neg
	jmp l2700
l2698:
	push 0
	jmp l2700
l2699:
	push 1
l2700:
	cmp0
	je l2701
	call timstand,play
l2701:
	end method
	method stop
	push 0
	call timstand,stop
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timstand,setdelay
	end method
	method reset
	cthis stop
	cthis play
	end method
	end class

	class classtalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new snd,sndtalk
	push 0
	push 1
	call sndtalk,setstartstopflag
	push "onfinish"
	push "_ctalkfin"
	call sndtalk,addmethod
	new timer,timtalk
	push 1
	call timtalk,settick
	new real,rdelay
	push 1.0
	pop rdelay
	push "onfinish"
	push "_ctalkfin"
	call timtalk,addmethod
	new gmimgvec,txttalk
	new int,_iletxt
	push 10
	pop _iletxt
	localstring $1
	localint $2
	push 0
	pop $2
l2702:
	push $2
	push _iletxt
	cmpjl
	cmp0
	je l2703
	jmp l2705
l2704:
	add $2,1
	pop $2
	jmp l2702
l2705:
	push "txttalk"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call txttalk,add
	jmp l2704
l2703:
	new font,fonttalk
	call txttalk,hide
	new vector,vecpom
	push "string"
	call vecpom,type
	new int,iTxtLim
	push 30
	pop iTxtLim
	new int,irtxt
	new int,igtxt
	new int,ibtxt
	new string,stextdb
	new string,_swav
	cthis buildfullname
	new string,stalktype
	push "snd"
	cthis settalktype
	end method
	method set
	localstring $1
	pop $1
	push $1
	cthis link
	end method
	method settextdb
	localstring $1
	pop $1
	push $1
	pop stextdb
	end method
	method setfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call fonttalk,load
	push "setfont"
	push "fonttalk"
	call txttalk,eval1
	end method
	method setsnd
	localstring $1
	pop $1
	push ".wav"
	call $1,contains
	neg
	cmp0
	je l2707
	push $1
	pop _swav
	push ".wav"
	popax
	add $1,$a
	pop $1
	jmp l2706
l2707:
	push ".wav"
	call $1,strsubes
	pop _swav
l2706:
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call sndtalk,load
	end method
	method herosay1
	localstring $1
	pop $1
	push 1
	push 1
	push 1
	push "null"
	push $1
	cthis herosay
	end method
	method herosay
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push $2
	neg
	cmp0
	je l2709
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	push "null"
	push "null"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
	push stalktype
	spushs
	spop $d
	cthis [$d]
	jmp l2708
l2709:
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	cthis getfullname
	push "_ctalkstart"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
l2708:
	end method
	method thisfinish
	localint $1
	pop $1
	push _sanim
	spushs
	push $1
	spop $a
	call [$a],thisfinish
	end method
	method stop
	localint $1
	pop $1
	push "snd"
	call stalktype,contains
	cmp0
	je l2711
	push $1
	call sndtalk,stop
	push 0
	call timtalk,stop
	jmp l2710
l2711:
	push $1
	call timtalk,stop
l2710:
	end method
	method settalktype
	localstring $1
	pop $1
	push "_cplay"
	pop stalktype
	push "snd"
	call $1,contains
	cmp0
	je l2713
	push "snd"
	popax
	add stalktype,$a
	pop stalktype
l2713:
	push "txt"
	call $1,contains
	cmp0
	je l2715
	push "txt"
	popax
	add stalktype,$a
	pop stalktype
l2715:
	push "film"
	call $1,contains
	cmp0
	je l2717
	push "film"
	popax
	add stalktype,$a
	pop stalktype
l2717:
	end method
	method _csay
	push stextdb
	push "null"
	cmpjne
	cmp0
	je l2719
	localint $1
	push stextdb
	spushs
	push _swav
	spop $a
	call [$a],findbyrow
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l2721
	ret
l2721:
	push stextdb
	spushs
	push $1
	push 2
	spop $a
	call [$a],get
	push " "
	call vecpom,vecbuildfromstring
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push "txt"
	call stalktype,contains
	cmp0
	je l2723
	push _sanim
	spushs
	spop $a
	call [$a],getcx
	pop $4
	push _sanim
	spushs
	spop $a
	call [$a],getpy
	pop $5
	jmp l2722
l2723:
	push 400
	pop $4
	push 590
	pop $5
l2722:
	localint $6
	push 0
	pop $6
	localint $7
	push iResX
	pop $7
	localint $8
	push 0
	pop $8
	localint $9
	push iResY
	pop $9
	localstring $10
	localint $11
	push 0
	pop $11
l2724:
	push $11
	call vecpom,size
	cmpjl
	cmp0
	je l2725
	jmp l2727
l2726:
	add $11,1
	pop $11
	jmp l2724
l2727:
	push $11
	call vecpom,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	call $2,length
	push iTxtLim
	cmpja
	cmp0
	je l2729
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2731
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2731:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2733
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2733:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2735
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2735:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2737
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2737:
	push ""
	pop $2
	add $3,1
	pop $3
l2729:
	jmp l2726
l2725:
	call $2,length
	push 0
	cmpja
	cmp0
	je l2739
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2741
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2741:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2743
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2743:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2745
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2745:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2747
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2747:
	add $3,1
	pop $3
l2739:
	push iResX
	popax
	sub $7,$a
	pop $7
	push iResY
	popax
	sub $9,$a
	pop $9
	push $6
	push 0
	cmpja
	cmp0
	je l2749
	push 0
	pop $6
l2749:
	push $8
	push 0
	cmpja
	cmp0
	je l2751
	push 0
	pop $6
l2751:
	push 0
	push $6
	pop $b
	popax
	sub $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push $3
	popax
	sub 0,$a
	call txttalk0,geth
	pop $b
	popax
	mul $a,$b
	push $8
	pop $b
	popax
	sub $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	call txttalk,move
	call txttalk0,getpy
	push 0
	cmpjl
	cmp0
	je l2753
	push 0
	call txttalk0,getpy
	popax
	sub 0,$a
	call txttalk,move
l2753:
	push rdelay
	push 500
	pop $b
	popax
	mul $a,$b
	call vecpom,size
	pop $b
	popax
	mul $a,$b
	call timtalk,delay
l2719:
	end method
	method _cprinttxt
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push irtxt
	push igtxt
	push ibtxt
	cthis createtxt
	push $2
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setpos
	push 2000
	cthis setz
	cthis show
	end method
	method _cplaysnd
	call sndtalk,play
	end method
	method _cplaysndtxt
	call sndtalk,play
	cthis _csay
	end method
	method _cplaysndtxtfilm
	call sndtalk,play
	cthis _csay
	end method
	method _cplaysndfilm
	cthis _csay
	end method
	method _cplaytxt
	cthis _csay
	call timtalk,play
	end method
	method _cplaytxtfilm
	cthis _csay
	call timtalk,play
	end method
	method _cplayfilm
	cthis _csay
	call timtalk,play
	end method
	method setdelay
	localreal $1
	pop $1
	push $1
	pop rdelay
	end method
	method settxtcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop irtxt
	push $2
	pop igtxt
	push $3
	pop ibtxt
	end method
	method _ctalkstart
	push stalktype
	spushs
	spop $d
	cthis [$d]
	end method
	method _ctalkfin
	call txttalk,hide
	push _sanim
	spushs
	spop $a
	call [$a],herostop
	end method
	end class

	class classtxttalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new int,iR
	new int,iG
	new int,iB
	new int,ibR
	new int,ibG
	new int,ibB
	new int,ibA
	new int,ibrr
	new int,ibrg
	new int,ibrb
	new int,ibra
	new int,ibw
	new db,dbtxt
	new int,iSize
	new gmimgvec,grtxt
	new gmimgvec,grtxt2
	localstring $1
	localint $2
	push 0
	pop $2
l2754:
	push $2
	push 25
	cmpjl
	cmp0
	je l2755
	jmp l2757
l2756:
	add $2,1
	pop $2
	jmp l2754
l2757:
	push "txt"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call grtxt,add
	push $1
	spushs
	spop $a
	call [$a],hide
	jmp l2756
l2755:
	new text,imgtxt
	call imgtxt,hide
	new int,bplaying
	push 0
	pop bplaying
	new string,slang
	push "pol"
	cthis setlang
	end method
	method setlang
	localstring $1
	pop $1
	push $1
	pop slang
	end method
	method isplaying
	push bplaying
	ret
	end method
	method setfont
	localstring $1
	pop $1
	push "setfont"
	push $1
	call grtxt,eval1
	push $1
	spushs
	spop $a
	call [$a],getsize
	pop iSize
	end method
	method setfontcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop iR
	push $2
	pop iG
	push $3
	pop iB
	end method
	method setfontbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop ibR
	push $2
	pop ibG
	push $3
	pop ibB
	push $4
	pop ibA
	end method
	method setbgframe
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	pop ibrr
	push $3
	pop ibrg
	push $4
	pop ibrb
	push 255
	pop ibra
	push $1
	pop ibw
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	call grtxt,setz
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call imgtxt,setz
	end method
	method herosay
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push "auto"
	cmpje
	cmp0
	je l2759
	cthis getdir
	pop $4
l2759:
	push 1
	pop bplaying
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	push slang
	pop $b
	popax
	add $a,$b
	call dbtxt,load
	localstring $5
	call grtxt2,free
	localint $6
	push 0
	pop $6
	localint $7
	call dbtxt,getrowsno
	pop $7
	localint $8
	push 0
	pop $8
l2760:
	push $8
	push $7
	cmpjl
	cmp0
	je l2761
	jmp l2763
l2762:
	add $8,1
	pop $8
	jmp l2760
l2763:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $8
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $5
	spushs
	push iR
	push iG
	push iB
	spop $a
	call [$a],createtxt
	push $5
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push iSize
	popax
	add $3,$a
	pop $3
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	spop $a
	call [$a],getw
	push $6
	cmpja
	cmp0
	je l2765
	push $5
	spushs
	spop $a
	call [$a],getw
	pop $6
l2765:
	push $5
	call grtxt2,add
	jmp l2762
l2761:
	call txt0,getpx
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt0,getpy
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $6
	push iSize
	pop $b
	popax
	add $a,$b
	push iSize
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	push ibR
	push ibG
	push ibB
	push ibA
	call imgtxt,setbkg
	push ibw
	push ibrr
	push ibrg
	push ibrb
	push ibra
	call imgtxt,setborders
	call imgtxt,show
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2767
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push _sbase
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push "null"
	push "null"
	push $4
	spop $a
	call [$a],playspec
l2767:
	end method
	method stop
	push 0
	pop bplaying
	call grtxt2,hide
	call imgtxt,hide
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2769
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
l2769:
	end method
	end class

	class classbgplan
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,rpx
	new real,rpy
	new real,scalex
	new real,scaley
	new int,_ix
	new int,_iy
	end method
	method setscale
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop scaley
	pop scalex
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add rpx,$a
	pop rpx
	push $2
	popax
	add rpy,$a
	pop rpy
	localint $3
	push rpx
	pop $3
	localint $4
	push rpy
	pop $4
	push $3
	popax
	sub rpx,$a
	pop rpx
	push $4
	popax
	sub rpy,$a
	pop rpy
	push $3
	cmp0
	jne l2772
	push $4
	jmp l2773
l2771:
	push 0
	jmp l2773
l2772:
	push 1
l2773:
	cmp0
	je l2774
	push $3
	popax
	add _ix,$a
	pop _ix
	push $4
	popax
	add _iy,$a
	pop _iy
	push $3
	push $4
	clparent gmobjvec,move
l2774:
	end method
	method movebgr
	localreal $1
	localreal $2
	pop $2
	pop $1
	push scalex
	push $1
	pop $b
	popax
	mul $a,$b
	push scaley
	push $2
	pop $b
	popax
	mul $a,$b
	cthis move
	end method
	method getpx
	push _ix
	end method
	method getpy
	push _iy
	end method
	end class

	class classgrplans
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,_rxp
	new real,_ryp
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "movebgr"
	push $1
	push $2
	cthis eval2
	end method
	method getposx
	push _rxp
	ret
	end method
	method getposy
	push _ryp
	ret
	end method
	method shift
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	end class

	class CameraPos
	method init
	localint $1
	localint $2
	pop $2
	pop $1
	new int,_x
	new int,_y
	push $1
	push $2
	cthis setpos
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _x
	push $2
	pop _y
	end method
	method getposx
	push _x
	end method
	method getposy
	push _y
	end method
	end class

	class classadvcamera
	method init
	new classgrplans,grbgrs
	new string,sancamera
	push "null"
	pop sancamera
	new string,smsmvfun
	push "null"
	pop smsmvfun
	new real,_rxmod
	new real,_rymod
	push 0.05
	push 0.05
	pop _rymod
	pop _rxmod
	new real,rleft
	new real,rtop
	new real,rright
	new real,rbottom
	push 0.0
	push 0.0
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbottom
	pop rright
	pop rtop
	pop rleft
	new int,icamx
	new int,icamy
	push 400
	push 300
	pop icamy
	pop icamx
	new real,rborx
	new real,rbory
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbory
	pop rborx
	new real,_lastx
	push 0
	pop _lastx
	new real,_lasty
	push 0
	pop _lasty
	new string,_sfunxedge
	push "null"
	pop _sfunxedge
	new string,_sfunyedge
	push "null"
	pop _sfunyedge
	push 0
	push 0
	new CameraPos,_campos
	new timer,timcamera
	push 1
	call timcamera,settick
	push 1
	call timcamera,setcycle
	push "onfinish"
	push "_camerafin"
	call timcamera,addmethod
	end method
	method _camerafin
	cthis checkcamera
	cthis play
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l2775:
	push $2
	call grbgrs,size
	cmpjl
	cmp0
	je l2776
	jmp l2778
l2777:
	add $2,1
	pop $2
	jmp l2775
l2778:
	push $2
	call grbgrs,get
	spushs
	push $1
	spop $a
	call [$a],remove
	jmp l2777
l2776:
	end method
	method funxedge
	localstring $1
	pop $1
	push $1
	pop _sfunxedge
	end method
	method funyedge
	localstring $1
	pop $1
	push $1
	pop _sfunyedge
	end method
	method setcenter
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop icamy
	pop icamx
	end method
	method setborders
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop rbottom
	pop rright
	end method
	method countcenter
	push rright
	push rleft
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push rbottom
	push rtop
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis setcenter
	end method
	method getposx
	call grbgrs,getposx
	ret
	end method
	method getposy
	call grbgrs,getposy
	ret
	end method
	method setmetonmsmove
	localstring $1
	pop $1
	push $1
	pop smsmvfun
	end method
	method start
	call timcamera,play
	end method
	method stop
	push 0
	call timcamera,stop
	end method
	method setactor
	localstring $1
	pop $1
	push $1
	pop sancamera
	end method
	method setcampos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call _campos,setpos
	push "_campos"
	cthis setactor
	end method
	method isactor
	localstring $1
	pop $1
	push $1
	push sancamera
	cmpje
	ret
	end method
	method getactor
	push sancamera
	ret
	end method
	method scalemodifiers
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop _rymod
	pop _rxmod
	end method
	method newbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbgplan,[$e]
	push $1
	push $2
	push $3
	cthis addbgr
	end method
	method addbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setscale
	push $1
	call grbgrs,add
	end method
	method addtobgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	end method
	method setscene
	push 1.0
	push 1.0
	cthis _setscene
	end method
	method _setscene
	localreal $1
	localreal $2
	pop $2
	pop $1
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2780
	ret
l2780:
	localreal $3
	push icamx
	push sancamera
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $3
	push $1
	popax
	mul $3,$a
	pop $3
	localreal $4
	push icamy
	push sancamera
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $4
	push $2
	popax
	mul $4,$a
	pop $4
	localreal $5
	cthis getposx
	push $3
	pop $b
	popax
	add $a,$b
	pop $5
	localreal $6
	cthis getposy
	push $4
	pop $b
	popax
	add $a,$b
	pop $6
	push $5
	push rleft
	cmpjae
	cmp0
	je l2782
	cthis getposx
	popax
	sub 0,$a
	pop $3
	jmp l2781
l2782:
	push $5
	push rright
	pop $b
	popax
	add $a,$b
	push rborx
	cmpjl
	cmp0
	je l2784
	push rborx
	cthis getposx
	push rright
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $3
l2784:
l2781:
	push $6
	push rtop
	cmpjae
	cmp0
	je l2786
	cthis getposy
	popax
	sub 0,$a
	pop $4
	jmp l2785
l2786:
	push $6
	push rbottom
	pop $b
	popax
	add $a,$b
	push rbory
	cmpjl
	cmp0
	je l2788
	push rbory
	cthis getposy
	push rbottom
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $4
l2788:
l2785:
	push $3
	cmp0
	jne l2791
	push $4
	jmp l2792
l2790:
	push 0
	jmp l2792
l2791:
	push 1
l2792:
	cmp0
	je l2793
	push $3
	push $4
	call grbgrs,move
	push smsmvfun
	push "null"
	cmpjne
	cmp0
	je l2795
	push smsmvfun
	spushs
	spop $d
	cthis [$d]
l2795:
l2793:
	push $3
	push 0
	cmpje
	cmp0
	je l2797
	push _lastx
	push 0
	cmpjne
	cmp0
	je l2797
	push _sfunxedge
	push "null"
	cmpjne
	jmp l2799
l2797:
	push 0
	jmp l2799
l2798:
	push 1
l2799:
	cmp0
	je l2800
	push _sfunxedge
	spushs
	spop $d
	cthis [$d]
l2800:
	push $4
	push 0
	cmpje
	cmp0
	je l2802
	push _lasty
	push 0
	cmpjne
	cmp0
	je l2802
	push _sfunyedge
	push "null"
	cmpjne
	jmp l2804
l2802:
	push 0
	jmp l2804
l2803:
	push 1
l2804:
	cmp0
	je l2805
	push _sfunyedge
	spushs
	spop $d
	cthis [$d]
l2805:
	push $3
	pop _lastx
	push $4
	pop _lasty
	end method
	method checkcamera
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2807
	ret
l2807:
	push _rxmod
	push _rymod
	cthis _setscene
	end method
	method moveplans
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add rleft,$a
	pop rleft
	push $1
	popax
	add rright,$a
	pop rright
	push $2
	popax
	add rtop,$a
	pop rtop
	push $2
	popax
	add rbottom,$a
	pop rbottom
	push $1
	popax
	add rborx,$a
	pop rborx
	push $2
	popax
	add rbory,$a
	pop rbory
	push $1
	popax
	add icamx,$a
	pop icamx
	push $2
	popax
	add icamy,$a
	pop icamy
	push $1
	push $2
	call grbgrs,shift
	end method
	end class

	class classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "but"
	cthis setadvbutmets
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "but"
	clparent classadvbut,setasbutton2
	end method
	method setasbutton2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setadvbutmets"
	push "setadvbutmets"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbuttyp"
	push "setbuttyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setadvbutpos"
	push "setadvbutpos"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutdir"
	push "setbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase1"
	push "setbutbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase2"
	push "setbutbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase"
	push "setbutbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase1"
	push "getbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase2"
	push "getbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutdir"
	push "getbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutname"
	push "getbutname"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettyp"
	push "gettyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "reachable"
	push "reachable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setreach"
	push "setreach"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgox"
	push "getgox"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgoy"
	push "getgoy"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enable"
	push "enable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "disable"
	push "disable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enabled"
	push "enabled"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setonce"
	push "setonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "checkonce"
	push "checkonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpocket"
	push "classadvbut0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "classadvbut1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveoff"
	push "moveoff"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "clickon"
	push "clickon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "lrel"
	push "lrel"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomebut"
	push "classadvbut2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomeitem"
	push "classadvbut3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomedoors"
	push "classadvbut4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "copyposfrompt"
	push "classadvbut5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butisin"
	push "classadvbut6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setadvbutmets
	push $1
	spushs
	push 1
	spop $a
	call [$a],setreach
	end method
	method classadvbut0
	localstring $1
	pop $1
	push $1
	pop _spocket
	end method
	method classadvbut1
	push _spocket
	end method
	method classadvbut2
	cthis getname
	clparent classadvbut,setasbut
	end method
	method classadvbut3
	cthis getname
	clparent classadvbut,setasitem
	end method
	method classadvbut4
	cthis getname
	clparent classadvbut,setasdoors
	end method
	method classadvbut5
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getbyname
	pop $3
	push $1
	spushs
	push $3
	spop $a
	call [$a],getxver
	push $1
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],getyver
	push $1
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	cthis setadvbutpos
	end method
	method classadvbut6
	cthis isin
	end method
	method setonce
	localstring $1
	pop $1
	push $1
	pop _sonce
	end method
	method checkonce
	push _sonce
	push "null"
	cmpjne
	cmp0
	je l2809
	push _sonce
	call clsave,bis
	neg
	jmp l2811
l2809:
	push 0
	jmp l2811
l2810:
	push 1
l2811:
	cmp0
	je l2812
	push _sonce
	call clsave,bset
	cthis disable
l2812:
	end method
	method setadvbutmets
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_styp
	push $2
	pop _styp
	new string,_sname
	push $1
	pop _sname
	new int,igox
	cthis getposx
	pop igox
	new int,igoy
	cthis getposy
	pop igoy
	new string,sgox
	push "null"
	pop sgox
	new string,sgoy
	push "null"
	pop sgoy
	new string,_sbutdir
	push "auto"
	pop _sbutdir
	new string,_sbase1
	push "look:"
	push 1
	call modadv,get
	pop _sbase1
	new string,_sbase2
	push "look:"
	push 2
	call modadv,get
	pop _sbase2
	new int,breachable
	push 0
	pop breachable
	new string,_spocket
	push $1
	pop _spocket
	new string,_sonce
	push "null"
	pop _sonce
	push A
	push "baseuse1"
	push _sbase1
	push "baseuse2"
	push _sbase2
	push "hideontake"
	push 1
	cthis vars2
	cthis enable
	end method
	method setasmask
	localstring $1
	pop $1
	push $1
	spushs
	push "butisin"
	push "classadvbut7"
	spop $a
	call [$a],addmethod
	end method
	method classadvbut7
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	cthis isin
	end method
	method enable
	push AdventureGame
	neg
	cmp0
	je l2814
	ret
l2814:
	cthis getname
	call grbuts,addonce
	end method
	method disable
	push AdventureGame
	neg
	cmp0
	je l2816
	ret
l2816:
	cthis getname
	call grbuts,remove
	end method
	method enabled
	push AdventureGame
	neg
	cmp0
	je l2818
	ret
l2818:
	cthis getname
	call grbuts,contains
	ret
	end method
	method setbutbase
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbutbase1
	push $2
	cthis setbutbase2
	end method
	method setreach
	localint $1
	pop $1
	push $1
	pop breachable
	end method
	method reachable
	push breachable
	ret
	end method
	method setbuttyp
	localstring $1
	pop $1
	push $1
	pop _styp
	end method
	method lrel
	end method
	method clickon
	cthis reachable
	cmp0
	je l2820
	cthis getname
	call clwalkq,visit
l2820:
	end method
	method moveon
	call advmouse,setactive
	end method
	method moveoff
	call advmouse,setstd
	end method
	method setadvbutpos
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sgox
	push $2
	pop sgoy
	push $1
	pop igox
	push $2
	pop igoy
	end method
	method setbutdir
	localstring $1
	pop $1
	push $1
	pop _sbutdir
	end method
	method setbutbase1
	localstring $1
	pop $1
	push $1
	pop _sbase1
	push $1
	pop baseuse1
	end method
	method setbutbase2
	localstring $1
	pop $1
	push $1
	pop _sbase2
	push $1
	pop baseuse2
	end method
	method getbase1
	push _sbase1
	ret
	end method
	method getbase2
	push _sbase2
	ret
	end method
	method getbutdir
	push _sbutdir
	ret
	end method
	method getbutname
	push _sname
	ret
	end method
	method gettyp
	push _styp
	ret
	end method
	method getgox
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2822
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2824
	push smainhero
	spushs
	spop $a
	call [$a],getposx
	jmp l2823
l2824:
	push sgoy
	spushs
	spop $a
	call [$a],getposx
l2823:
	jmp l2821
l2822:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2826
	push sgoy
	spushs
	spop $a
	call [$a],getcx
	jmp l2825
l2826:
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
l2825:
l2821:
	end method
	method getgoy
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2828
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2830
	push smainhero
	spushs
	spop $a
	call [$a],getposy
	jmp l2829
l2830:
	push sgoy
	spushs
	spop $a
	call [$a],getposy
l2829:
	jmp l2827
l2828:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2832
	push sgoy
	spushs
	spop $a
	call [$a],getey
	jmp l2831
l2832:
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
l2831:
l2827:
	end method
	method getposx
	push 0
	ret
	end method
	method getposy
	push 0
	ret
	end method
	method getz
	push 0
	ret
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 0
	ret
	end method
	method setasbut
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasitem
	localstring $1
	pop $1
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasdoors
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "classadvbut8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method classadvbut8
	call advmouse,setexit
	end method
	end class

	class classadvitem
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "item"
	clparent classadvbut,init
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "item"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	end class

	class classadvdoors
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "doors"
	clparent classadvbut,init
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "doors"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method moveon
	call advmouse,setexit
	end method
	end class

	class classbehhero
	method init
	new string,_snextbeh
	push "null"
	pop _snextbeh
	new string,_stdfinfun
	push "null"
	pop _stdfinfun
	new string,_stdfinobj
	push "null"
	pop _stdfinobj
	new string,_stype
	push "null"
	pop _stype
	new string,_scaller
	new int,bblock
	push 1
	pop bblock
	new int,bparal
	push 0
	pop bparal
	end method
	method gonext
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	push bparal
	cmp0
	je l2834
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],behret
	pop $2
	jmp l2833
l2834:
	push _sstarter
	spushs
	spop $a
	call [$a],isenumer
	cmp0
	je l2836
	push _sstarter
	cthis getname
	cmpjne
	jmp l2838
l2836:
	push 0
	jmp l2838
l2837:
	push 1
l2838:
	cmp0
	je l2839
	push 1
	pop $2
	jmp l2835
l2839:
	push _snextbeh
	push "null"
	cmpjne
	cmp0
	je l2841
	push _snextbeh
	spushs
	push $1
	spop $a
	call [$a],eval
	jmp l2840
l2841:
	push 1
	pop $2
l2840:
l2835:
l2833:
	push $2
	cmp0
	je l2843
	push $1
	cthis finishbeh
l2843:
	end method
	method finishbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2845
	push $1
	spushs
	spop $a
	call [$a],reteval
	jmp l2844
l2845:
	call modstnd,resume
	localstring $2
	cthis getactbeh
	pop $2
	push _sstarter
	spushs
	spop $a
	call [$a],callbehfin
	cthis getactbeh
	push $2
	cmpje
	cmp0
	je l2847
	push "null"
	cthis setactbeh
l2847:
l2844:
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setfinfun
	cthis advgetlock
	pop _bmslock
	push bblock
	cthis advmssetlock
	call modstnd,pause
	push "null"
	cthis eval
	end method
	method eval
	localstring $1
	pop $1
	cthis getname
	cthis setactbeh
	push $1
	pop _scaller
	cthis _eval
	end method
	method rewind
	push "_rew"
	cthis hasaddedmet
	cmp0
	je l2849
	cthis _rew
l2849:
	end method
	method reteval
	push _scaller
	cthis gonext
	end method
	method callbehfin
	push _bmslock
	cthis advmssetlock
	push _stdfinobj
	push _stdfinfun
	cthis callfun
	push "null"
	pop _stdfinobj
	push "null"
	pop _stdfinfun
	cthis getname
	spushs
	push _sbeh
	spop $a
	call $a,strsubbs
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _evalenter
	cthis getname
	push "reteval"
	call ccs,obenter
	end method
	method _evalclose
	cthis getname
	push "reteval"
	call ccs,obclose
	end method
	method _evalmusic
	call vmus,getfullname
	push 0
	call _music,playvec
	cthis reteval
	end method
	method _evalscript
	push _id
	push 0
	cmpjae
	cmp0
	je l2851
	localint $1
	push _id
	pop $1
	localdef $2
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
l2852:
	push $2
	push ")"
	cmpjne
	cmp0
	je l2853
	push _sscr
	spushs
	push $1
	push _id
	pop $b
	popax
	sub $a,$b
	push $2
	spop $a
	call [$a],ARG=
	add $1,1
	pop $1
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
	jmp l2852
l2853:
l2851:
	push _sscr
	spushs
	push _sfun2
	spop $a
	call [$a],call
	cthis reteval
	end method
	method _evalmet
	push _sob2
	push _sfun2
	cthis callfun
	cthis reteval
	end method
	method _evalsave
	push ssavvar
	push ssavval
	call clsave,set
	cthis reteval
	end method
	method _evalgame
	localstring $1
	call gameapi,getgamename
	pop $1
	push _styp
	spushs
	push "-def"
	cmpst
	jne l2855
	spop $a
	push $1
	spushs
	push _spath
	push _sgame
	spop $a
	call [$a],playfromscript
	jmp l2854
l2855:
	push "-adv"
	cmpst
	jne l2856
	spop $a
	push $1
	spushs
	push _sgame
	push _spath
	spop $a
	call [$a],playnewgamepath
	jmp l2854
l2856:
	spop $a
	push $1
	spushs
	push _sgame
	spop $a
	call [$a],playnewgame
l2854:
	cthis reteval
	end method
	method _evalread
	push _sread
	push _ix
	push _iy
	push _sdir
	call clhilarytxt,herosaydir
	end method
	method _rewread
	call clhilarytxt,stop
	cthis reteval
	end method
	method _evalwait
	call timwait,play
	end method
	method _evaltalk
	localstring $1
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $1
	localstring $2
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	call engine,varexist
	cmp0
	je l2858
	push $2
	spushs
	spop $a
	call [$a],getdir
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	cmpjne
	jmp l2860
l2858:
	push 0
	jmp l2860
l2859:
	push 1
l2860:
	cmp0
	je l2861
	push $1
	spushs
	push _sdir
	cthis getname
	push "_evaltalk"
	spop $a
	call [$a],heroturn
	ret
l2861:
	push _san
	cthis advanstand
	push $2
	spushs
	call modadv,gettalktype
	spop $a
	call [$a],settalktype
	push $2
	spushs
	push __swav
	spop $a
	call [$a],setsnd
	push $2
	spushs
	push __sbase
	spop $a
	call [$a],checkamounts
	push $2
	spushs
	push isort
	push bstt
	push bstp
	cthis getname
	push "reteval"
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	spop $a
	call [$a],herosaydir
	end method
	method _rewtalk
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],stop
	end method
	method _evalsetpos
	localint $1
	localint $2
	localstring $3
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $3
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2863
	push $3
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push $3
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push $3
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push _san
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	jmp l2862
l2863:
	push _idestx
	pop $1
	push _idesty
	pop $2
	push _san
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l2862:
	push _bssc
	cmp0
	je l2865
	call clcamera,setscene
l2865:
	push $3
	call engine,varexist
	cmp0
	je l2867
	push $3
	spushs
	spop $a
	call [$a],scalean
l2867:
	push _san
	spushs
	push _san
	spushs
	spop $a
	call [$a],getposy
	spop $a
	call [$a],setz
	push _sdir
	push "auto"
	cmpjne
	cmp0
	je l2869
	push _san
	spushs
	push _sdir
	spop $a
	call [$a],setdir
l2869:
	cthis reteval
	end method
	method _evalwalk
	localint $1
	localint $2
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2871
	push _sptf
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	push _sptf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	push _sptf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $2
	jmp l2870
l2871:
	push _idestx
	push "-hero"
	cmpje
	cmp0
	je l2873
	push _idesty
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push _idesty
	spushs
	spop $a
	call [$a],getposy
	pop $2
	localint $3
	push 1
	pop $3
	push _sptf
	spushs
	push $1
	push $2
	spop $a
	call [$a],ptfgoto
	push 0
	cmpjae
	cmp0
	je l2875
	push _sptf
	spushs
	push 1
	spop $a
	call [$a],getgover
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2877
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push 0
	pop $3
l2877:
l2875:
	push _sptf
	spushs
	push 0
	spop $a
	call [$a],stop
	push $3
	cmp0
	je l2879
	localdef $4
	push _spathpref
	call _sptf,strsubbs
	pop $4
	push $4
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push $4
	spushs
	spop $a
	call [$a],getposy
	pop $2
l2879:
	jmp l2872
l2873:
	push _idestx
	pop $1
	push _idesty
	pop $2
l2872:
l2870:
	push _sptf
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis getname
	push "reteval"
	spop $a
	call [$a],herowalkto2
	end method
	method _evalturn
	localstring $1
	push _sdir
	pop $1
	push A
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call $1,in
	neg
	cmp0
	je l2881
	localstring $2
	push _sptf
	spushs
	spop $a
	call [$a],getanim
	pop $2
	push _sptf
	spushs
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $2
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $2
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],vecdir
	pop $1
l2881:
	push _sptf
	spushs
	push $1
	cthis getname
	push "reteval"
	spop $a
	call [$a],heroturn
	end method
	method _evalanorder
	push _san
	cthis advanstand
	push _sdb
	push _irow
	push _icol
	push _san
	cthis analizeaninstr
	popax
	cthis reteval
	end method
	method _evalanplay
	push _san
	spushs
	push "bthisfin"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2883
	push _san
	spushs
	spop $a
	call [$a],setasadvanima
l2883:
	push _san
	cthis advanstand
	push _san
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sact
	clparent StringChecker,isdigit
	cmp0
	je l2885
	push _san
	spushs
	push _sact
	spop $a
	call [$a],nameofaction
	pop _sact
l2885:
	push _san
	spushs
	push _sact
	cthis getname
	push "reteval"
	spop $a
	call [$a],playspec2
	end method
	method _rewanplay
	end method
	method _evalsndbg
	call _sndbg,play
	cthis reteval
	end method
	method _evalsndplay
	call sndp,play
	end method
	method _rewsndplay
	push 1
	call sndp,stop
	end method
	method _evalcall
	localstring $1
	push scallobj
	pop $1
	push "$"
	call $1,contains
	cmp0
	je l2887
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2889
	push $1
	popax
	mov $a,[$a]
	psax
	jmp l2888
l2889:
	push sscript
	spushs
	push $1
	spop $a
	call [$a],get
l2888:
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l2891
	cthis reteval
	ret
l2891:
l2887:
	push $1
	cthis getbeh
	pop $1
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],eval
	end method
	method _evalnull
	cthis reteval
	end method
	method _evalstart
	localint $1
	localstring $2
	call vbif,free
	push bonce
	push "null"
	cmpjne
	cmp0
	je l2893
	push bonce
	call clsave,bis
	neg
	cmp0
	je l2895
	push bonce
	call clsave,bset
	jmp l2894
l2895:
	push _scaller
	cthis finishbeh
	ret
l2894:
l2893:
	push iisifsave
	push 0
	cmpje
	cmp0
	je l2897
	push sisifsave
	push sisifvar
	call clsave,is
	jmp l2899
l2897:
	push 0
	jmp l2899
l2898:
	push 1
l2899:
	cmp0
	jne l2901
	push iisifsave
	push 1
	cmpje
	cmp0
	je l2902
	push sisifsave
	push sisifvar
	call clsave,is
	neg
	jmp l2904
l2902:
	push 0
	jmp l2904
l2903:
	push 1
l2904:
	jmp l2905
l2900:
	push 0
	jmp l2905
l2901:
	push 1
l2905:
	cmp0
	je l2906
	push _scaller
	cthis finishbeh
	ret
l2906:
	push brand
	cmp0
	je l2908
	call vecbehs,size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2910
	call $1,rand
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2909
l2910:
	cthis reteval
l2909:
	jmp l2907
l2908:
	push bparal
	cmp0
	je l2912
	push "vecbehs"
	call vecbehs2,veccopy
	push 0
	pop $1
l2913:
	push $1
	call vecbehs,size
	cmpjl
	cmp0
	je l2914
	jmp l2916
l2915:
	add $1,1
	pop $1
	jmp l2913
l2916:
	push $1
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2915
l2914:
	jmp l2911
l2912:
	push ienumer
	push 0
	cmpja
	cmp0
	je l2918
	cthis nextenum
	push 1
	pop $b
	popax
	sub $a,$b
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2917
l2918:
	cthis reteval
l2917:
l2911:
l2907:
	end method
	method _ifst
	localint $1
	localint $2
	pop $2
	pop $1
	push ifst
	spushs
	push 1
	cmpst
	jne l2920
	spop $a
	push $1
	cmp0
	je l2921
	push $2
	jmp l2923
l2921:
	push 0
	jmp l2923
l2922:
	push 1
l2923:
	jmp l2919
l2920:
	push 2
	cmpst
	jne l2924
	spop $a
	push $1
	cmp0
	jne l2926
	push $2
	jmp l2927
l2925:
	push 0
	jmp l2927
l2926:
	push 1
l2927:
	jmp l2919
l2924:
	spop $a
	push $1
l2919:
	end method
	method _oper_check
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l2929
	spop $a
	push 2
	jmp l2928
l2929:
	push "&"
	cmpst
	jne l2930
	spop $a
	push 1
	jmp l2928
l2930:
	spop $a
	push 0
l2928:
	end method
	method _ifcheck
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	push istart
	pop $5
	push 0
	pop ifst
l2931:
	push $5
	push istop
	cmpjl
	cmp0
	je l2932
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	pop $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	pop $4
	push $4
	spushs
	push "="
	cmpst
	jne l2934
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2936
	add $5,1
	pop $5
l2936:
	jmp l2933
l2934:
	push "!="
	cmpst
	jne l2937
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	neg
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2939
	add $5,1
	pop $5
l2939:
	jmp l2933
l2937:
	push "&"
	cmpst
	jne l2940
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2942
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2941
l2942:
	push $3
	call clsave,bis
l2941:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 1
	pop ifst
	jmp l2933
l2940:
	push "|"
	cmpst
	jne l2943
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2945
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2944
l2945:
	push $3
	call clsave,bis
l2944:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 2
	pop ifst
	jmp l2933
l2943:
	spop $a
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2947
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2946
l2947:
	push $3
	call clsave,bis
l2946:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
l2933:
	add $5,1
	pop $5
	jmp l2931
l2932:
	push _sstarter
	spushs
	push $1
	spop $a
	call [$a],bif=
	push $1
	end method
	method _checkif
	cthis _ifcheck
	cmp0
	je l2949
	cthis reteval
	jmp l2948
l2949:
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],classbehhero0
l2948:
	end method
	method classbehhero0
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call vecbehs,size
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $5
l2950:
	push $5
	push $3
	cmpjl
	cmp0
	je l2951
	jmp l2953
l2952:
	add $5,1
	pop $5
	jmp l2950
l2953:
	push $5
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2955
	spop $a
	add $2,1
	pop $2
	jmp l2954
l2955:
	push "FI"
	cmpst
	jne l2956
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2958
	push $5
	pop $4
	push $3
	pop $5
	jmp l2957
l2958:
	sub $2,1
	pop $2
l2957:
	jmp l2954
l2956:
	push "ELSE"
	cmpst
	je l2960
	push "ELIF"
	cmpst
	je l2960
	jmp l2959
l2960:
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2962
	push $5
	pop $4
	push $3
	pop $5
l2962:
	jmp l2954
l2959:
	spop $a
l2954:
	jmp l2952
l2951:
	push $4
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	end method
	method _evalIF
	push _sstarter
	spushs
	spop $a
	call [$a],ifpush
	cthis _checkif
	end method
	method _gotofi
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
l2963:
	push $3
	call vecbehs,size
	cmpjl
	cmp0
	je l2964
	jmp l2966
l2965:
	add $3,1
	pop $3
	jmp l2963
l2966:
	push $3
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2968
	spop $a
	add $2,1
	pop $2
	jmp l2967
l2968:
	push "FI"
	cmpst
	jne l2969
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2971
	push $3
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	ret
	jmp l2970
l2971:
	sub $2,1
	pop $2
l2970:
	jmp l2967
l2969:
	spop $a
l2967:
	jmp l2965
l2964:
	end method
	method _evalELIF
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2973
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2972
l2973:
	cthis _checkif
l2972:
	end method
	method _evalELSE
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2975
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2974
l2975:
	cthis reteval
l2974:
	end method
	method _evalFI
	push _sstarter
	spushs
	spop $a
	call [$a],ifpop
	cthis reteval
	end method
	method gettyp
	push _stype
	end method
	method settype
	localstring $1
	pop $1
	push $1
	pop _stype
	push "_eval"
	push "_eval"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasmet
	cmp0
	je l2977
	push "_rew"
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
l2977:
	end method
	method setflags
	localstring $1
	pop $1
	push $1
	pop _snextbeh
	end method
	method setfinfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stdfinobj
	push $2
	pop _stdfinfun
	end method
	method setasstarter
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "start"
	cthis settype
	new string,_sstarter
	cthis getname
	pop _sstarter
	new int,brand
	push $2
	pop brand
	new int,_bmslock
	new vector,vecbehs
	push $4
	pop bblock
	push "string"
	call vecbehs,type
	new string,bonce
	push $1
	pop bonce
	push $3
	pop bparal
	new int,ienumer
	push $5
	pop ienumer
	push $5
	push 0
	cmpja
	cmp0
	je l2979
	new int,_iencnt
	push 1
	pop _iencnt
	jmp l2978
l2979:
	push $3
	cmp0
	je l2981
	new vector,vecbehs2
	push "string"
	call vecbehs2,type
l2981:
l2978:
	new int,iisifsave
	push $6
	pop iisifsave
	push $6
	push 0
	cmpjae
	cmp0
	je l2983
	new string,sisifsave
	push $7
	pop sisifsave
	push $8
	push "null"
	cmpjne
	cmp0
	je l2985
	new string,sisifvar
	push $8
	pop sisifvar
l2985:
l2983:
	new vector,vbif
	end method
	method bif
	call vbif,last
	end method
	method bif=
	localint $1
	pop $1
	call vbif,size
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	call vbif,set
	end method
	method ifpush
	push 1
	call vbif,add
	end method
	method ifpop
	call vbif,pop
	popax
	end method
	method isenumer
	push ienumer
	ret
	end method
	method nextenum
	push _iencnt
	call vecbehs,size
	cmpja
	cmp0
	je l2987
	push ienumer
	push 1
	pop $b
	popax
	add $a,$b
	pop _iencnt
	jmp l2986
l2987:
	add _iencnt,1
	pop _iencnt
l2986:
	push _iencnt
	push 1
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method addtostarter
	localstring $1
	pop $1
	push $1
	call vecbehs,add
	end method
	method getblock
	push bblock
	ret
	end method
	method addflags
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	new string,_sstarter
	push $1
	pop _sstarter
	push _stype
	push "read"
	cmpje
	cmp0
	je l2989
	push 0
	jmp l2988
l2989:
	push $2
l2988:
	pop bblock
	push $3
	pop bparal
	end method
	method behret
	localstring $1
	pop $1
	push $1
	call vecbehs2,remove
	call vecbehs2,size
	push 0
	cmpje
	ret
	end method
	method _setasif
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,istart
	push $3
	pop istart
	new int,istop
	push $4
	pop istop
	new string,_db
	push $1
	pop _db
	new int,irow
	push $2
	pop irow
	new int,ifst
	push 0
	pop ifst
	end method
	method setasIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "IF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setasELIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "ELIF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setas
	localstring $1
	pop $1
	push $1
	cthis settype
	end method
	method setasscript
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "script"
	cthis settype
	new string,_sscr
	push $1
	pop _sscr
	new string,_sfun2
	push $2
	pop _sfun2
	new int,_id
	push $5
	pop _id
	new string,_sdb
	push $3
	pop _sdb
	new int,_row
	push $4
	pop _row
	end method
	method setasuse
	localstring $1
	pop $1
	push "use"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	end method
	method _evaluse
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	spop $a
	call [$a],pckremove
	cthis reteval
	end method
	method _evaltopck
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	push _sfile
	spop $a
	call [$a],additem
	cthis reteval
	end method
	method setastopck
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "topck"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	new string,_sfile
	push $2
	pop _sfile
	end method
	method setasmet
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "met"
	cthis settype
	new string,_sob2
	push $1
	pop _sob2
	new string,_sfun2
	push $2
	pop _sfun2
	end method
	method setassaver
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "save"
	cthis settype
	new string,ssavvar
	push $1
	pop ssavvar
	new string,ssavval
	push $2
	pop ssavval
	end method
	method setasnewgamer
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "game"
	cthis settype
	new string,_sgame
	push $3
	pop _sgame
	new string,_styp
	push $1
	pop _styp
	new string,_spath
	push $2
	pop _spath
	end method
	method setasreader
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "read"
	cthis settype
	new string,_sread
	push $1
	pop _sread
	new int,_ix
	push $2
	pop _ix
	new int,_iy
	push $3
	pop _iy
	new string,_sdir
	push $4
	pop _sdir
	end method
	method setaswaiter
	localint $1
	pop $1
	push "wait"
	cthis settype
	new timer,timwait
	push 1
	call timwait,settick
	push $1
	call timwait,delay
	cthis getname
	push "reteval"
	call timwait,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call timwait,addmethod
	end method
	method setassndbg
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndbg"
	cthis settype
	new snd,_sndbg
	push 0
	push 1
	call _sndbg,setstartstopflag
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call _sndbg,load
	push $2
	call _sndbg,setvol
	end method
	method setasanorder
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "anorder"
	cthis settype
	new string,_sdb
	push $1
	pop _sdb
	new int,_irow
	push $2
	pop _irow
	new int,_icol
	push $3
	pop _icol
	new string,_san
	push $4
	pop _san
	end method
	method setascaller
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "call"
	cthis settype
	new string,scallobj
	push $1
	pop scallobj
	new string,sscript
	push $2
	pop sscript
	end method
	method _csplbuild
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sobj
	push $1
	pop _sobj
	new string,_sfinfun
	push $2
	pop _sfinfun
	end method
	method _csplfinish
	push _sobj
	push _sfinfun
	cthis callfun
	end method
	method setassndplayer
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndplay"
	cthis settype
	new snd,sndp
	push 0
	push 1
	call sndp,setstartstopflag
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndp,load
	cthis getname
	push "reteval"
	call sndp,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call sndp,addmethod
	push $2
	call sndp,setvol
	end method
	method setasposer
	localstring $1
	localstring $2
	localint $3
	localint $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "setpos"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_idestx
	push $2
	pop _idestx
	new int,_idesty
	push $3
	pop _idesty
	new int,_bssc
	push $4
	pop _bssc
	new string,_sdir
	push $5
	pop _sdir
	end method
	method setasturn
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "turn"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_sdir
	push $2
	pop _sdir
	end method
	method setaswalker
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "walk"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_idestx
	push $2
	pop _idestx
	new string,_idesty
	push $3
	pop _idesty
	end method
	method setasanplayer
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "anplay"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_sact
	push $2
	pop _sact
	end method
	method setastalker
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "talk"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,__swav
	push $2
	pop __swav
	new string,__sbase
	push $3
	pop __sbase
	new int,isort
	push $4
	pop isort
	new int,bstt
	push $5
	pop bstt
	new int,bstp
	push $6
	pop bstp
	new string,_sdir
	push $7
	pop _sdir
	end method
	method setasenter
	push "enter"
	cthis settype
	end method
	method setasclose
	push "close"
	cthis settype
	end method
	method setasmusic
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "music"
	cthis settype
	new vector,vmus
	push "string"
	call vmus,type
	call vmus,buildfullname
l2990:
	push $3
	push 0
	cmpjae
	cmp0
	je l2991
	push $3
	push $4
	cmpjl
	jmp l2993
l2991:
	push 0
	jmp l2993
l2992:
	push 1
l2993:
	cmp0
	je l2994
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l2990
l2994:
	end method
	end class

	new snd,_fx_pocket
	push "sounds/sfx/harfa.wav"
	call _fx_pocket,load
	class classadvpocket
	parent classadvobject
	parent classadvbut
	parent gmimgvec
	method init
	localstring $1
	pop $1
	clparent classadvobject,init
	push $1
	clparent classadvbut,init
	clparent gmimgvec,init
	push "pocket"
	cthis setbuttyp
	push 1
	cthis setreach
	push "-hero"
	push "-main"
	cthis setadvbutpos
	new int,iX
	new int,iY
	new int,iNumItems
	push 0
	pop iNumItems
	new int,iMaxItems
	push 14
	pop iMaxItems
	new int,iScale
	new string,sState
	push "closed"
	pop sState
	new string,_sanim
	cthis getname
	pop _sanim
	push _spocketpref
	call _sanim,strsubbs
	pop _sanim
	new string,sItem
	push "null"
	pop sItem
	new string,sFocusItem
	push "null"
	pop sFocusItem
	new string,_sbase
	push "anpocket"
	pop _sbase
	new int,_ibase
	call _sbase,length
	pop _ibase
	push 1000
	cthis setz
	new string,sitempath
	new vector,arPocket
	push "string"
	call arPocket,type
	new vector,arPocketFile
	push "string"
	call arPocketFile,type
	push "tim"
	push 1
	push 1
	push "evalpocket"
	cthis cnewtimercyclefin
	push "itempath:"
	push 1
	call modadv,get
	pop sitempath
	localint $2
	cthis getz
	pop $2
	new anima,imitem
	call imitem,anloopfin
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	new img,immarker
	push sitempath
	push "itemmarker.png"
	pop $b
	popax
	add $a,$b
	call immarker,load
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call immarker,setz
	call immarker,hide
	cthis hide
	new int,bskip
	push 0
	pop bskip
	end method
	method addtoadv
	cthis getname
	cthis addtogamevars
	cthis enable
	cthis addasadvobject
	end method
	method removefromadv
	cthis disable
	cthis removefromadvobjs
	end method
	method hidepocket
	push sState
	push "closed"
	cmpjne
	cmp0
	je l2996
	push sState
	push "close"
	cmpjne
	cmp0
	je l2998
	cthis pockettoggle
	push 0
	call tim,stop
l2998:
l2999:
	push sState
	push "closed"
	cmpjne
	cmp0
	je l3000
	call tim,evalpocket
	push 0
	call tim,stop
	jmp l2999
l3000:
l2996:
	end method
	method exitpocket
	push "closed"
	pop sState
	push 0
	call tim,stop
	cthis hide
	end method
	method skip
	push 1
	pop bskip
	end method
	method skipitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3002
	push 1
	pop bskip
l3002:
	end method
	method additem
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call arPocket,contains
	cmp0
	je l3004
	ret
l3004:
	push $1
	call arPocket,add
	push $2
	call arPocketFile,add
	localstring $3
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new anima,[$e]
	push $3
	cthis add
	push $3
	spushs
	push sitempath
	push $2
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
	push $3
	spushs
	cthis getz
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],hide
	add iNumItems,1
	pop iNumItems
	end method
	method savestate
	localstring $1
	pop $1
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call arPocket,save
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call arPocketFile,save
	end method
	method loadstate
	localstring $1
	pop $1
	new vector,vpcp
	push "string"
	call vpcp,type
	new vector,vpcf
	push "string"
	call vpcf,type
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call vpcp,load
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call vpcf,load
	localint $2
	push 0
	pop $2
l3005:
	push $2
	call vpcp,size
	cmpjl
	cmp0
	je l3006
	jmp l3008
l3007:
	add $2,1
	pop $2
	jmp l3005
l3008:
	push $2
	call vpcp,get
	push $2
	call vpcf,get
	cthis additem
	jmp l3007
l3006:
	delete vpcp
	delete vpcf
	end method
	method removeitem
	localstring $1
	pop $1
	localdef $2
	push _sbase
	call $1,strsubbs
	call arPocket,find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l3010
	ret
l3010:
	push $2
	call arPocket,removeat
	push $2
	call arPocketFile,removeat
	push $1
	cthis remove
	push $1
	spushs
	spop $d
	delete [$d]
	sub iNumItems,1
	pop iNumItems
	push sState
	push "opened"
	cmpje
	cmp0
	je l3012
	cthis hide
l3012:
	end method
	method useitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3014
	push sItem
	cthis removeitem
	cthis itemhide
l3014:
	end method
	method pckremove
	localstring $1
	pop $1
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	cthis removeitem
	end method
	method evalpocket
	cthis play
	push sState
	push "open"
	cmpje
	cmp0
	je l3016
	push 16
	popax
	add iScale,$a
	pop iScale
	jmp l3015
l3016:
	push sState
	push "close"
	cmpje
	cmp0
	je l3018
	push 16
	popax
	sub iScale,$a
	pop iScale
l3018:
l3015:
	push iScale
	push 116
	cmpja
	cmp0
	je l3020
	push 0
	cthis stop
	push 116
	pop iScale
	push "opened"
	pop sState
	jmp l3019
l3020:
	push iScale
	push 0
	cmpjl
	cmp0
	je l3022
	push 0
	cthis stop
	push 0
	pop iScale
	push "closed"
	pop sState
l3022:
l3019:
	localreal $1
	push iScale
	push iScale
	pop $b
	popax
	mul $a,$b
	push 550
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localreal $2
	localstring $3
	localint $4
	push 0
	pop $4
l3023:
	push $4
	push iNumItems
	cmpjl
	cmp0
	je l3024
	jmp l3026
l3025:
	add $4,1
	pop $4
	jmp l3023
l3026:
	push $1
	push $4
	pop $b
	popax
	mul $a,$b
	push $1
	push iNumItems
	pop $b
	popax
	mul $a,$b
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 90.0
	pop $b
	popax
	sub $a,$b
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $2
	push $4
	cthis get
	pop $3
	push $3
	spushs
	call $2,cos
	push iScale
	pop $b
	popax
	mul $a,$b
	push iX
	pop $b
	popax
	add $a,$b
	push 76
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call $2,sin
	push iScale
	pop $b
	popax
	mul $a,$b
	push iY
	pop $b
	popax
	add $a,$b
	push 75
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l3028
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
l3028:
	jmp l3025
l3024:
	push sState
	push "closed"
	cmpje
	cmp0
	je l3030
	cthis hide
l3030:
	end method
	method pocketpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push iX
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push $2
	push iY
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	cthis move
	push $1
	pop iX
	push $2
	pop iY
	end method
	method pockettoggle
	push sState
	push "opened"
	cmpje
	cmp0
	je l3032
	push "close"
	pop sState
	call immarker,hide
	call tim,play
	jmp l3031
l3032:
	push sState
	push "closed"
	cmpje
	cmp0
	je l3034
	push "open"
	pop sState
	call _fx_pocket,play
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	pop iX
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	push _sanim
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop iY
	cthis itemhide
	cthis show
	call tim,evalpocket
	call tim,play
	jmp l3033
l3034:
	push sState
	push "open"
	cmpje
	cmp0
	je l3036
	push "close"
	pop sState
	jmp l3035
l3036:
	push sState
	push "close"
	cmpje
	cmp0
	je l3038
	push "open"
	pop sState
l3038:
l3035:
l3033:
l3031:
	end method
	method getitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3040
	push _sbase
	call sItem,strsubbs
	jmp l3039
l3040:
	push "null"
l3039:
	ret
	end method
	method itemhide
	push "null"
	pop sFocusItem
	push "null"
	pop sItem
	push 0
	call imitem,stop
	call imitem,hide
	end method
	method itemclick
	cthis skip
	push sState
	push "closed"
	cmpje
	cmp0
	je l3042
	cthis pockettoggle
	jmp l3041
l3042:
	push sState
	push "opened"
	cmpje
	cmp0
	je l3044
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l3046
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3048
	cthis pockettoggle
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
	cthis itemhide
	jmp l3047
l3048:
	push sFocusItem
	pop sItem
	push sItem
	call imitem,copy
	push sFocusItem
	spushs
	spop $a
	call [$a],hide
	push 1
	call imitem,play
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	cthis setitempos
l3047:
	jmp l3045
l3046:
	cthis pockettoggle
l3045:
	jmp l3043
l3044:
	push sState
	push "open"
	cmpje
	cmp0
	je l3050
	cthis pockettoggle
	jmp l3049
l3050:
	push sState
	push "close"
	cmpje
	cmp0
	je l3052
	cthis pockettoggle
l3052:
l3049:
l3043:
l3041:
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	push $2
	push $3
	push $4
	clparent gmimgvec,isin
	pop $5
	push $5
	cmp0
	je l3054
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	pop sFocusItem
	jmp l3053
l3054:
	push "null"
	pop sFocusItem
	push _sanim
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	pop $5
l3053:
	push $5
	ret
	end method
	method hide
	push "stop"
	push 0
	cthis eval1
	push "hide"
	cthis eval
	call immarker,hide
	end method
	method setitempos
	call mouse,getpx
	push 76
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call mouse,getpy
	push 75
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imitem,setpos
	end method
	method itemmoveoff
	push sState
	push "opened"
	cmpje
	cmp0
	je l3056
	call immarker,hide
l3056:
	end method
	method itemmoveon
	push sState
	push "opened"
	cmpje
	cmp0
	je l3058
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l3060
	call immarker,show
	push sFocusItem
	spushs
	spop $a
	call [$a],getcx
	call immarker,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push sFocusItem
	spushs
	spop $a
	call [$a],getcy
	call immarker,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call immarker,setpos
l3060:
l3058:
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	push bskip
	cmp0
	je l3062
	push 0
	pop bskip
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3064
	push sState
	push "opened"
	cmpje
	cmp0
	je l3064
	push sFocusItem
	push "null"
	cmpje
	jmp l3066
l3064:
	push 0
	jmp l3066
l3065:
	push 1
l3066:
	cmp0
	je l3067
	cthis pockettoggle
l3067:
	jmp l3061
l3062:
	cthis getmainhero
	push _sanim
	cmpje
	cmp0
	je l3069
	push sState
	push "opened"
	cmpje
	cmp0
	jne l3071
	push sState
	push "open"
	cmpje
	jmp l3072
l3070:
	push 0
	jmp l3072
l3071:
	push 1
l3072:
	cmp0
	je l3074
	cthis pockettoggle
	jmp l3073
l3074:
	cthis itemhide
l3073:
l3069:
l3061:
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	cmp0
	je l3076
	push sState
	push "opened"
	cmpje
	cmp0
	je l3078
	push sFocusItem
	push "null"
	cmpjne
	jmp l3080
l3078:
	push 0
	jmp l3080
l3079:
	push 1
l3080:
	cmp0
	je l3081
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_ITEM_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
	jmp l3077
l3081:
	push "beh_RCLICK_"
	push _sanim
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
l3077:
l3076:
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	push sItem
	push "null"
	cmpjne
	cmp0
	je l3083
	cthis setitempos
l3083:
	push sState
	push "opened"
	cmpje
	cmp0
	je l3085
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	jmp l3087
l3085:
	push 0
	jmp l3087
l3086:
	push 1
l3087:
	cmp0
	je l3088
	cthis itemmoveon
l3088:
	end method
	method moveoff
	call advmouse,setstd
	cthis itemmoveoff
	end method
	method clickon
	cthis getmainhero
	push _sanim
	cmpje
	cmp0
	je l3090
	call clwalkq,stand
	cthis itemclick
	jmp l3089
l3090:
	cthis getname
	call clwalkq,visit
l3089:
	end method
	end class

	new string,sgmlastscene
	push "null"
	pop sgmlastscene
	new string,sgmglobpath
	push "null"
	pop sgmglobpath
	new string,sgmgame
	push "null"
	pop sgmgame
	new db,gdbsound
	push "saves/save.txt"
	new classfullsave,clsave
	new string,_slhpref
	push "cllh"
	pop _slhpref
	new string,_spathpref
	push "pt"
	pop _spathpref
	new string,_spocketpref
	push "pc"
	pop _spocketpref
	new string,_sstndpref
	push "stnd"
	pop _sstndpref
	new string,_stalkpref
	push "ctlk"
	pop _stalkpref
	new int,AdventureGame
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	module modadv
	method init
	new db,dbload
	new string,stalktype
	push "snd"
	cthis settalktype
	push "null"
	new Script,scrl
	new string,_stalk
	end method
	method execute
	localstring $1
	pop $1
	push $1
	call scrl,call
	end method
	method loadscript
	localstring $1
	pop $1
	push $1
	call scrl,load
	end method
	method loadsounds
	localstring $1
	pop $1
	push $1
	call gdbsound,load
	push igmdebug
	cmp0
	je l3092
	push "exports/adv.dlg"
	call gdbsound,save
l3092:
	end method
	method gettalktype
	push stalktype
	ret
	end method
	method settalktype
	localstring $1
	pop $1
	push $1
	pop stalktype
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbload,loadscript
	push "talk:"
	push 1
	cthis get
	pop _stalk
	end method
	method get
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbload,findbyrow
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l3094
	push "modadv.dbload: can't find "
	push $1
	pop $b
	popax
	add $a,$b
	call engine,print
	push "null"
	ret
	jmp l3093
l3094:
	push $3
	push $2
	call dbload,get
	ret
l3093:
	end method
	end module

	module modadvglob
	method init
	new gmobjvec,grhero
	new gmobjvec,grfiles
	new gmobjvec,grpck
	end method
	method addhero
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 1
	call clsave,set
	localint $4
	push $1
	call grhero,find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l3096
	push $4
	call grfiles,get
	push $2
	cmpjne
	cmp0
	je l3098
	push $4
	push $2
	call grfiles,set
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
l3098:
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $3
	cmp0
	je l3100
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],addtoadv
l3100:
	push 0
	ret
	jmp l3095
l3096:
	push $1
	push $2
	push 0
	cthis newanima
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	call grhero,add
	push $2
	call grfiles,add
	push $3
	cmp0
	je l3102
	localstring $5
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	cthis hasvar
	neg
	cmp0
	je l3104
	push $5
	spushs
	push $1
	spop $e
	new classadvpocket,[$e]
	push $5
	call grpck,add
	push $5
	spushs
	spop $a
	call [$a],addtoadv
	jmp l3103
l3104:
	push $5
	spushs
	spop $a
	call [$a],addtoadv
l3103:
l3102:
	push 1
	ret
l3095:
	end method
	method reloadhero
	localstring $1
	pop $1
	localint $2
	push $1
	call grhero,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3106
	localstring $3
	push $2
	call grfiles,get
	pop $3
	push $1
	push 0
	cthis _delhero
	push $1
	push $3
	push 0
	cthis addhero
	popax
l3106:
	end method
	method delhero
	localstring $1
	pop $1
	push $1
	push 1
	cthis _delhero
	end method
	method delheros
l3107:
	call grhero,size
	cmp0
	je l3108
	call grhero,first
	cthis delhero
	jmp l3107
l3108:
	end method
	method _delhero
	localstring $1
	localint $2
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 0
	call clsave,set
	localint $3
	push $1
	call grhero,find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l3110
	push $1
	spushs
	spop $d
	delete [$d]
	push $3
	call grhero,removeat
	push $3
	call grfiles,removeat
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l3112
	push $2
	jmp l3114
l3112:
	push 0
	jmp l3114
l3113:
	push 1
l3114:
	cmp0
	je l3115
	push $1
	spushs
	spop $d
	delete [$d]
	push $1
	call grpck,remove
l3115:
l3110:
	end method
	method savepck
	localstring $1
	pop $1
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,save
	localint $2
	push 0
	pop $2
l3116:
	push $2
	call grpck,size
	cmpjl
	cmp0
	je l3117
	jmp l3119
l3118:
	add $2,1
	pop $2
	jmp l3116
l3119:
	push $2
	call grpck,get
	spushs
	push $1
	spop $a
	call [$a],savestate
	jmp l3118
l3117:
	end method
	method loadpck
	localstring $1
	pop $1
	localdef $2
	localdef $3
	localint $4
	push 0
	pop $4
l3120:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l3121
	jmp l3123
l3122:
	add $4,1
	pop $4
	jmp l3120
l3123:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	push $2
	spushs
	spop $d
	delete [$d]
	jmp l3122
l3121:
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,load
	push 0
	pop $4
l3124:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l3125
	jmp l3127
l3126:
	add $4,1
	pop $4
	jmp l3124
l3127:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	push _spocketpref
	call $2,strsubbs
	spop $e
	new classadvpocket,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],loadstate
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	jmp l3126
l3125:
	end method
	method onexit
	localstring $1
	localint $2
	push 0
	pop $2
l3128:
	push $2
	call grhero,size
	cmpjl
	cmp0
	je l3129
	jmp l3131
l3130:
	add $2,1
	pop $2
	jmp l3128
l3131:
	push $2
	call grhero,get
	pop $1
	push $1
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	spushs
	spop $a
	call [$a],hide
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	cmp0
	je l3133
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],exitpocket
l3133:
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],unlinkanima
	jmp l3130
l3129:
	end method
	end module

	class classloadedhero
	method init
	new string,sanhero
	new int,bplaystart
	push 0
	pop bplaystart
	new int,bplaystop
	push 0
	pop bplaystop
	end method
	method setplaystart
	localint $1
	pop $1
	push $1
	pop bplaystart
	end method
	method setplaystop
	localint $1
	pop $1
	push $1
	pop bplaystop
	end method
	method getstartstop
	push bplaystart
	push bplaystop
	ret
	end method
	end class

	class classadvcontroller
	parent classadv
	method init
	push 1
	pop AdventureGame
	clparent classadv,init
	push "sndpath:"
	push 1
	call modadv,get
	cthis setwavpath
	new snd,__sndplay
	call __sndplay,classadvcontroller0
	push 0
	pop igmstate
	new classstndgroup,modstnd
	new Music,_music
	new timer,_tim_dbclk
	push 200
	call _tim_dbclk,setdelay
	new int,_if_pos
	push 1
	popax
	sub 0,$a
	pop _if_pos
	push "_dbbh"
	new classobjcounter,clcbeh
	new string,_sbeh
	push "clbeh"
	pop _sbeh
	new int,iidbeh
	push "dbadv"
	new classobjcounter,clcadv
	new db,dbmacros
	new vector,_vecarg
	push "string"
	call _vecarg,type
	new classadvcamera,clcamera
	push "advmsmove"
	call clcamera,setmetonmsmove
	new classwalkerqueue,clwalkq
	new gmadvvec,grbuts
	new gmimgvec,grmsmove
	new gmimgvec,grmslclick
	new gmimgvec,grmsrclick
	new gmimgvec,grmslrel
	new string,_susetool
	push "null"
	pop _susetool
	new string,_slastms
	push "null"
	pop _slastms
	new int,bmslock
	push 0
	pop bmslock
	new int,_b_rewind
	push 1
	pop _b_rewind
	new string,sactbeh
	push "null"
	pop sactbeh
	new string,slastpathf
	new int,licznik
	push 0
	pop licznik
	new string,smainhero
	push "null"
	pop smainhero
	cthis advsaveonstart
	localstring $1
	localstring $2
	push sgmgame
	push "null"
	cmpje
	cmp0
	je l3135
	cthis getname
	pop sgmgame
l3135:
	new string,sprivgame
	push sgmgame
	pop sprivgame
	push "null"
	pop sgmgame
	push "game"
	call sprivgame,strsubbs
	pop $2
	push sgmglobpath
	push "null"
	cmpjne
	cmp0
	je l3137
	push sgmglobpath
	pop $1
	push "null"
	pop sgmglobpath
	jmp l3136
l3137:
	push $2
	pop $1
l3136:
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	push $2
	push ".adv"
	pop $b
	popax
	add $a,$b
	cthis loadadventure
	call grbuts,sortimgs
	push smainhero
	push "null"
	cmpje
	cmp0
	je l3139
	call clcamera,getactor
	pop smainhero
l3139:
	call clcamera,start
	call clcamera,setscene
	call clwalkq,start
	push 1
	call clwalkq,setverlen
	call advmouse,setstd
	push "preinit"
	cthis behexist
	cmp0
	je l3141
	push "preinit"
	cthis getname
	push "playbehinit"
	cthis playbehobfin
	jmp l3140
l3141:
	cthis playbehinit
l3140:
	call grbuts,sortimgs
	end method
	method classadvcontroller0
	push A
	push "sfun"
	push "null"
	push "sob"
	push "null"
	cthis vars2
	push 0
	push 1
	cthis setstartstopflag
	push "onfinish"
	push "classadvcontroller1"
	cthis addmethod
	end method
	method classadvcontroller1
	push sob
	push sfun
	cthis callfun
	end method
	method playbehinit
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l3143
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l3145
	jmp l3144
l3145:
	push "behinit"
	cthis playpostinit
	cmp0
	je l3147
l3147:
l3144:
	jmp l3142
l3143:
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bset
	push "behinit0_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l3149
	jmp l3148
l3149:
	push "behinit0"
	cthis playpostinit
	cmp0
	je l3151
	jmp l3150
l3151:
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l3153
	jmp l3152
l3153:
	push "behinit"
	cthis playpostinit
	cmp0
	je l3155
l3155:
l3152:
l3150:
l3148:
l3142:
	end method
	method getmainhero
	push smainhero
	ret
	end method
	method setmainhero
	localstring $1
	pop $1
	push $1
	pop smainhero
	end method
	method ismainhero
	localstring $1
	pop $1
	push smainhero
	push $1
	cmpje
	ret
	end method
	method setactbeh
	localstring $1
	pop $1
	push $1
	pop sactbeh
	end method
	method getactbeh
	push sactbeh
	ret
	end method
	method advgetlock
	push bmslock
	ret
	end method
	method advmslock
	push 1
	pop bmslock
	call advmouse,setwait
	end method
	method advmsunlock
	push 0
	pop bmslock
	call advmouse,setstd
	end method
	method advmssetlock
	localint $1
	pop $1
	push $1
	cmp0
	je l3157
	cthis advmslock
	jmp l3156
l3157:
	cthis advmsunlock
l3156:
	end method
	method setusetool
	localstring $1
	pop $1
	push $1
	pop _susetool
	end method
	method getusetool
	push _susetool
	ret
	end method
	method playpostinit
	localstring $1
	pop $1
	push $1
	call gameapi,getgamename
	push "postinit"
	cthis playbehobfinif
	ret
	end method
	method playbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playbehfin
	end method
	method playbehif
	localstring $1
	pop $1
	push $1
	cthis behexist
	cmp0
	je l3159
	push $1
	push "null"
	cthis playbehfin
	push 1
	ret
l3159:
	push 0
	ret
	end method
	method playbehfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis playbehobfin
	end method
	method playbehfinif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l3161
	push $1
	push $2
	cthis playbehfin
	push 1
	ret
l3161:
	push 0
	ret
	end method
	method playbehobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis getbeh
	spushs
	push $2
	push $3
	spop $a
	call [$a],playfin
	end method
	method playbehobfinif
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l3163
	push $1
	push $2
	push $3
	cthis playbehobfin
	push 1
	ret
l3163:
	push 0
	ret
	end method
	method playnewgamepath
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmglobpath
	push sprivgame
	pop sgmlastscene
	push "lastscene"
	push sgmlastscene
	call clsave,set
	push $1
	call gameapi,play
	end method
	method playnewgame
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playnewgamepath
	end method
	method playfromscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmgame
	push "defaultadv:"
	push 1
	call modadv,get
	push $1
	cthis playnewgamepath
	end method
	method getheroloader
	localstring $1
	pop $1
	push _slhpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l3165
	push $1
	jmp l3164
l3165:
	push "null"
l3164:
	end method
	method advanstand
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l3167
	push $2
	spushs
	spop $a
	call [$a],iswalking
	jmp l3169
l3167:
	push 0
	jmp l3169
l3168:
	push 1
l3169:
	cmp0
	je l3170
	push $2
	spushs
	push 0
	spop $a
	call [$a],stop
	push $2
	spushs
	spop $a
	call [$a],stand
l3170:
	end method
	method reloadhero
	localstring $1
	pop $1
	push $1
	cthis _getheropath
	cthis anreload
	localstring $2
	push _spathpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	cthis getname
	spop $a
	call [$a],linkanima
	push $2
	spushs
	spop $a
	call [$a],linkfilter
	push $2
	spushs
	spop $a
	call [$a],scalean
	end method
	method analizeanopts
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $8
	localreal $9
	localstring $10
	localstring $11
	localint $12
	push 0
	pop $12
	localint $13
	push 0
	pop $13
	localint $14
	localint $15
	localint $16
	localint $17
	push 0
	pop $17
l3171:
	push $3
	push $4
	cmpjl
	cmp0
	je l3172
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-stt"
	cmpst
	jne l3174
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $12
	add $3,1
	pop $3
	jmp l3173
l3174:
	push "-stp"
	cmpst
	jne l3175
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $13
	add $3,1
	pop $3
	jmp l3173
l3175:
	push "-wav"
	cmpst
	jne l3176
	spop $a
	push _slhpref
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	pop $10
	add $3,1
	pop $3
	push $10
	spushs
	spop $e
	new classloadedhero,[$e]
	push $10
	spushs
	push "sanhero"
	push $5
	spop $a
	call [$a],varset
	push $6
	spushs
	push $10
	spop $a
	call [$a],add
	jmp l3173
l3176:
	push "-path"
	cmpst
	jne l3177
	spop $a
	push $5
	clparent classadvanhero,buildheroframe
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $8
	add $3,1
	pop $3
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	push $5
	push $10
	push $8
	cthis newclpathfcopy
	push $11
	spushs
	spop $a
	call [$a],prepareforhero
	push $11
	push "look"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherolooker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "use"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherouser,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "take"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherotaker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	jmp l3173
l3177:
	push "-ft"
	cmpst
	jne l3178
	spop $a
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $8
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $11
	spushs
	spop $a
	call [$a],linkfilter
	push $11
	spushs
	push $8
	spop $a
	call [$a],setzsize
	push $11
	spushs
	push $9
	spop $a
	call [$a],setscalepower
	jmp l3173
l3178:
	push "-stnd"
	cmpst
	jne l3179
	spop $a
	push _sstndpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
	add $3,1
	pop $3
	jmp l3173
l3179:
	push "-txt"
	cmpst
	jne l3180
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $14
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $15
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $16
	add $3,1
	pop $3
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $15
	push $16
	spop $a
	call [$a],settxtcolor
	jmp l3173
l3180:
	push "-font"
	cmpst
	jne l3181
	spop $a
	push 1
	pop $17
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $7
	push "hero:"
	cmpje
	cmp0
	je l3183
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $10
	push $11
	spop $a
	call [$a],setfont
l3183:
	jmp l3173
l3181:
	spop $a
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	cthis analizeaninstr
	pop $3
l3173:
	jmp l3171
l3172:
	push $17
	neg
	cmp0
	je l3185
	push $7
	push "hero:"
	cmpje
	jmp l3187
l3185:
	push 0
	jmp l3187
l3186:
	push 1
l3187:
	cmp0
	je l3188
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push "font:"
	push 1
	call modadv,get
	push "font:"
	push 2
	call modadv,get
	spop $a
	call [$a],setfont
l3188:
	push $6
	spushs
	push "setplaystart"
	push $12
	spop $a
	call [$a],eval1
	push $6
	spushs
	push "setplaystop"
	push $13
	spop $a
	call [$a],eval1
	push $6
	spushs
	spop $a
	call [$a],free
	end method
	method setasadvanima
	cthis getname
	push "cadvherofinish"
	clparent classadvanhero,setashero
	end method
	method analizebut
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	localint $8
	localint $9
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $6
	add $4,1
	pop $4
	push ".pyz"
	call $6,contains
	cmp0
	je l3190
	push $6
	pop $7
	push "an"
	push 4
	call $6,strsube
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $7
	push 0
	cthis newanima
l3190:
	push 1
	call $1,strsube
	pop $1
	push $6
	push $5
	push $1
	clparent classadvbut,setasbutton2
	push "setas"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spop $d
	clparent classadvbut,[$d]
	push $6
	spushs
	push $6
	spushs
	spop $a
	call [$a],getcx
	push $6
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setadvbutpos
l3191:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l3192
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-pos"
	cmpst
	jne l3194
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	push $5
	push "-id"
	cmpje
	cmp0
	je l3196
	push slastpathf
	push "null"
	cmpjne
	jmp l3198
l3196:
	push 0
	jmp l3198
l3197:
	push 1
l3198:
	cmp0
	je l3199
	push slastpathf
	spushs
	push $7
	spop $a
	call [$a],getbyname
	pop $8
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getxver
	push slastpathf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $5
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getyver
	push slastpathf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $7
l3199:
	push $6
	spushs
	push $5
	push $7
	spop $a
	call [$a],setadvbutpos
	jmp l3193
l3194:
	push "-bs1"
	cmpst
	jne l3200
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
	add $4,1
	pop $4
	jmp l3193
l3200:
	push "-bs2"
	cmpst
	jne l3201
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
	add $4,1
	pop $4
	jmp l3193
l3201:
	push "-us1"
	cmpst
	jne l3202
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse1=
	add $4,1
	pop $4
	jmp l3193
l3202:
	push "-us2"
	cmpst
	jne l3203
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse2=
	add $4,1
	pop $4
	jmp l3193
l3203:
	push "-useon"
	cmpst
	jne l3204
	spop $a
	push $6
	spushs
	push "use:"
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $6
	spushs
	push "use:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	jmp l3193
l3204:
	push "-dir"
	cmpst
	jne l3205
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutdir
	add $4,1
	pop $4
	jmp l3193
l3205:
	push "-noreach"
	cmpst
	jne l3206
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],setreach
	jmp l3193
l3206:
	push "-nh"
	cmpst
	jne l3207
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],hideontake=
	jmp l3193
l3207:
	push "-pck"
	cmpst
	jne l3208
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setpocket
	add $4,1
	pop $4
	jmp l3193
l3208:
	push "-mask"
	cmpst
	jne l3209
	spop $a
	push $6
	clparent classadvbut,setasmask
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l3193
l3209:
	push "-inpck"
	cmpst
	jne l3210
	spop $a
	push $6
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l3212
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l3211
l3212:
	push $6
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l3211:
	cthis getmainhero
	pop $5
	push $5
	push "null"
	cmpje
	cmp0
	je l3214
	call clcamera,getactor
	pop $5
l3214:
	push $5
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push $6
	spushs
	spop $a
	call [$a],getbutname
	push $6
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
	jmp l3193
l3210:
	push "-disable"
	cmpst
	jne l3215
	spop $a
	push $6
	spushs
	spop $a
	call [$a],disable
	jmp l3193
l3215:
	push "-once"
	cmpst
	jne l3216
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $6
	spushs
	push $5
	spop $a
	call [$a],setonce
	push $5
	call clsave,bis
	cmp0
	je l3218
	push $6
	spushs
	spop $a
	call [$a],disable
l3218:
	jmp l3193
l3216:
	spop $a
l3193:
	jmp l3191
l3192:
	end method
	method _getheropath
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis getpath
	pop $2
	push $2
	call engine,fileexist
	cmp0
	je l3220
	push "$"
	push $2
	pop $b
	popax
	add $a,$b
	jmp l3219
l3220:
	push "$"
	push "heropath:"
	push 1
	call modadv,get
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
l3219:
	end method
	method loadadventure
	localstring $1
	pop $1
	localstring $2
	call clcadv,get
	pop $2
	localstring $3
	push "grpers"
	call clcadv,size
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localint $4
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	localstring $10
	localstring $11
	localint $12
	localint $13
	localint $14
	localreal $15
	localreal $16
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $2
	spop $e
	new Script,[$e]
	localstring $17
	push ""
	pop $17
	push $3
	spushs
	spop $e
	new gmobjvec,[$e]
	localint $18
	push 0
	pop $18
l3221:
	push $18
	push $4
	cmpjl
	cmp0
	je l3222
	jmp l3224
l3223:
	add $18,1
	pop $18
	jmp l3221
l3224:
	push 0
	pop $5
	push $2
	spushs
	push $18
	spop $a
	call [$a],getcolsno
	pop $6
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	spushs
	push "setpath:"
	cmpst
	jne l3226
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $17
	cthis setgraphpath
	jmp l3225
l3226:
	push "nopath:"
	cmpst
	jne l3227
	spop $a
	push ""
	pop $17
	push $17
	cthis setgraphpath
	jmp l3225
l3227:
	push "func"
	cmpst
	jne l3228
	spop $a
l3229:
	push $2
	spushs
	push $18
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l3230
	add $18,1
	pop $18
	jmp l3229
l3230:
	jmp l3225
l3228:
	push "sndpath:"
	cmpst
	jne l3231
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	cthis setwavpath
	jmp l3225
l3231:
	push "hero:"
	cmpst
	je l3233
	push "an:"
	cmpst
	je l3233
	jmp l3232
l3233:
	spop $a
	push $2
	spushs
	push $18
	push "-global"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push "-pck"
	spop $a
	call [$a],dbdelvar
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push ".pyz"
	call $11,contains
	cmp0
	je l3235
	push $11
	pop $10
	push "an"
	push ".pyz"
	call $11,strsubes
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l3234
l3235:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l3234:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l3237
	push ".pyz"
	call $10,contains
	cmp0
	je l3239
	push $10
	cthis _getheropath
	pop $10
l3239:
l3237:
	push ".pyz"
	call $10,contains
	cmp0
	je l3241
	push $7
	cmp0
	je l3243
	push $11
	push $10
	push $8
	call modadvglob,addhero
	cmp0
	je l3245
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
l3245:
	sub $6,1
	pop $6
	jmp l3242
l3243:
	push $11
	push $10
	push 0
	cthis newanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l3247
	push $8
	jmp l3249
l3247:
	push 0
	jmp l3249
l3248:
	push 1
l3249:
	cmp0
	je l3250
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l3250:
l3242:
	jmp l3240
l3241:
	push $10
	push $11
	cthis copyanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l3252
	push $8
	jmp l3254
l3252:
	push 0
	jmp l3254
l3253:
	push 1
l3254:
	cmp0
	je l3255
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l3255:
l3240:
	push $8
	cmp0
	je l3257
	sub $6,1
	pop $6
l3257:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l3259
	push _sstndpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new classadvstander,[$e]
	push _stalkpref
	push $11
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classtalker,[$e]
	push $10
	spushs
	push $11
	spop $a
	call [$a],set
	push $10
	spushs
	push "gdbsound"
	spop $a
	call [$a],settextdb
l3259:
	push $2
	push $18
	push $5
	push $6
	push $11
	push $3
	push $9
	cthis analizeanopts
	jmp l3225
l3232:
	push "anaac:"
	cmpst
	jne l3260
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push 0
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l3262
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l3261
l3262:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l3261:
	push $7
	cmp0
	je l3264
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l3263
l3264:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l3263:
	push ".pyz"
	call $10,contains
	cmp0
	je l3266
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
	push 1
	pop $8
l3266:
	push $10
	push $9
	push $9
	cthis newanactionsgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	push $8
	cmp0
	je l3268
	push $10
	spushs
	spop $a
	call [$a],hide
l3268:
	jmp l3225
l3260:
	push "anaf:"
	cmpst
	jne l3269
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l3271
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l3270
l3271:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l3270:
	push $9
	spushs
	spop $e
	new gmimgvec,[$e]
	push ".pyz"
	call $10,contains
	cmp0
	je l3273
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
l3273:
	push $10
	push $9
	push $9
	cthis newanfrbyactgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3269:
	push "anfac:"
	cmpst
	jne l3274
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $7
	cmp0
	je l3276
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l3275
l3276:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l3275:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $10
	push $9
	push $10
	spushs
	push $11
	spop $a
	call [$a],actionnr
	push $9
	cthis newanframesgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3274:
	push "anac:"
	cmpst
	jne l3277
	spop $a
	push $2
	spushs
	push $18
	push "-adv"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $11
	clparent StringChecker,isdigit
	cmp0
	je l3279
	push $10
	spushs
	push $11
	spop $a
	call [$a],nameofaction
	pop $11
l3279:
	push $10
	push $9
	push $11
	cthis copyanimaact
	push $7
	cmp0
	je l3281
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l3281:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3277:
	push "anf:"
	cmpst
	jne l3282
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $10
	push $9
	cthis copyanima
	push $9
	spushs
	push $11
	push $8
	spop $a
	call [$a],setframe
	push $7
	cmp0
	je l3284
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l3284:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3282:
	push "anorder:"
	cmpst
	jne l3285
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3285:
	push "behfile:"
	cmpst
	jne l3286
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l3225
l3286:
	push "include:"
	cmpst
	jne l3287
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadadventure
	add $5,1
	pop $5
	jmp l3225
l3287:
	push "walkqueue:"
	cmpst
	jne l3288
	spop $a
l3289:
	push $5
	push $6
	cmpjl
	cmp0
	je l3290
	push _spathpref
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call clwalkq,add
	add $5,1
	pop $5
	jmp l3289
l3290:
	jmp l3225
l3288:
	push "font:"
	cmpst
	jne l3291
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new font,[$e]
	push $9
	spushs
	push $10
	push $7
	spop $a
	call [$a],load
	jmp l3225
l3291:
	push "bkg:"
	cmpst
	jne l3292
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l3294
	push "imgbkg"
	push $9
	push 0
	cthis newanima
	jmp l3293
l3294:
	push "imgbkg"
	push $9
	push 0
	cthis newimg
l3293:
	push $2
	push $18
	push $5
	push "imgbkg"
	cthis analizeaninstr
	pop $5
	jmp l3225
l3292:
	push "img:"
	cmpst
	jne l3295
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push 0
	push 4
	call $9,gete
	spushs
	push A
	push ".jpg"
	push ".png"
	spop $h
	call $h,in
	cmp0
	je l3297
	push $9
	pop $10
	push "img"
	push 4
	call $9,strsube
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l3296
l3297:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l3296:
	push $9
	push $10
	push 0
	cthis newimg
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l3225
l3295:
	push "but:"
	cmpst
	je l3299
	push "doors:"
	cmpst
	je l3299
	push "item:"
	cmpst
	je l3299
	jmp l3298
l3299:
	spop $a
	push $9
	push $2
	push $18
	push $5
	cthis analizebut
	jmp l3225
l3298:
	push "camera:"
	cmpst
	jne l3300
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $15
	push $16
	call clcamera,scalemodifiers
l3301:
	push $5
	push $6
	cmpjl
	cmp0
	je l3302
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push "-size"
	cmpje
	cmp0
	je l3304
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	push $8
	call clcamera,setborders
	jmp l3303
l3304:
	push $9
	push "-center"
	cmpje
	cmp0
	je l3306
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	push $8
	call clcamera,setcenter
	jmp l3305
l3306:
	push $9
	push "-sizebg"
	cmpje
	cmp0
	je l3308
	call imgbkg,getw
	call imgbkg,geth
	call clcamera,setborders
l3308:
l3305:
l3303:
	jmp l3301
l3302:
	jmp l3225
l3300:
	push "actor:"
	cmpst
	jne l3309
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clcamera,setactor
	add $5,1
	pop $5
	jmp l3225
l3309:
	push "bgr:"
	cmpst
	jne l3310
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new classbgplan,[$e]
	push $9
	push $15
	push $16
	call clcamera,addbgr
	jmp l3225
l3310:
	push "pathfinder:"
	cmpst
	jne l3311
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push ".ptf"
	call $10,contains
	cmp0
	je l3313
	push 20
	pop $7
	push 20
	pop $8
	jmp l3312
l3313:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
l3312:
	push slastpathf
	push $10
	push $7
	push $8
	cthis newpathf
	jmp l3225
l3311:
	push "script:"
	cmpst
	jne l3314
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	spushs
	push $10
	spop $e
	new Script,[$e]
	jmp l3225
l3314:
	push "func:"
	cmpst
	jne l3315
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	sub $6,1
	pop $6
	call clcadv,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $7
l3316:
	push $7
	push 0
	cmpjae
	cmp0
	je l3317
	jmp l3319
l3318:
	sub $7,1
	pop $7
	jmp l3316
l3319:
	push $7
	call clcadv,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $10
	spop $a
	call [$a],containsfun
	cmp0
	je l3321
	push 3
	pop $7
l3322:
	push $7
	push $6
	cmpjl
	cmp0
	je l3323
	jmp l3325
l3324:
	add $7,1
	pop $7
	jmp l3322
l3325:
	push $9
	spushs
	push $7
	push 3
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	push $18
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],ARG=
	jmp l3324
l3323:
	push 1
	popax
	sub 0,$a
	pop $7
	push $9
	spushs
	push $10
	spop $a
	call [$a],call
l3321:
	jmp l3318
l3317:
	jmp l3225
l3315:
	push "IF"
	cmpst
	jne l3326
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $18
	push $5
	push $6
	cthis _found_if
	pop $18
	jmp l3225
l3326:
	push "ELSE"
	cmpst
	jne l3327
	spop $a
	push $2
	push $18
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $18
	jmp l3225
l3327:
	push "FI"
	cmpst
	jne l3328
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l3330
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l3330:
	jmp l3225
l3328:
	push "bsave:"
	cmpst
	jne l3331
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clsave,bset
	add $5,1
	pop $5
	jmp l3225
l3331:
	push "save:"
	cmpst
	jne l3332
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	push $10
	call clsave,set
	jmp l3225
l3332:
	push "stdptf:"
	cmpst
	jne l3333
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	jmp l3225
l3333:
	push "sfxs:"
	cmpst
	jne l3334
	spop $a
l3335:
	push $5
	push $6
	cmpjl
	cmp0
	je l3336
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	push 1
	pop $7
	push 100
	pop $8
	push 0
	pop $12
	push 0
	pop $13
	push 0.0
	pop $15
l3337:
	push $7
	cmp0
	je l3338
	push $5
	push $6
	cmpjl
	jmp l3340
l3338:
	push 0
	jmp l3340
l3339:
	push 1
l3340:
	cmp0
	je l3341
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	push $10
	spushs
	push "-f"
	cmpst
	jne l3343
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l3342
l3343:
	push "-v"
	cmpst
	jne l3344
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	jmp l3342
l3344:
	push "-l"
	cmpst
	jne l3345
	spop $a
	push 1
	pop $12
	jmp l3342
l3345:
	push "-p"
	cmpst
	jne l3346
	spop $a
	push 1
	pop $13
	jmp l3342
l3346:
	push "-pl"
	cmpst
	jne l3347
	spop $a
	push 1.0
	pop $15
	jmp l3342
l3347:
	spop $a
	sub $5,1
	pop $5
	push 0
	pop $7
l3342:
	add $5,1
	pop $5
	jmp l3337
l3341:
	push $9
	push $11
	cthis newsfx
	push $9
	spushs
	push $8
	spop $a
	call [$a],setvol
	push $12
	cmp0
	je l3349
	push $9
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l3349:
	push $13
	cmp0
	je l3351
	push $9
	spushs
	spop $a
	call [$a],play
	jmp l3350
l3351:
	push $15
	cmp0
	je l3353
	push $9
	spushs
	spop $a
	call [$a],playloop
l3353:
l3350:
	jmp l3335
l3336:
	jmp l3225
l3334:
	spop $a
l3225:
	jmp l3223
l3222:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method _found_if
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	add $3,1
	pop $3
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	sub $4,1
	pop $4
	localstring $7
	localstring $8
l3354:
	push $3
	push $4
	cmpjl
	cmp0
	je l3355
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	pop $8
	push $8
	spushs
	push ")"
	cmpst
	je l3358
	push "|"
	cmpst
	je l3358
	push "&"
	cmpst
	je l3358
	jmp l3357
l3358:
	spop $a
	push $5
	push $6
	push 0
	push 1
	call $7,getb
	push "!"
	cmpje
	cmp0
	je l3360
	push 1
	call $7,strsubb
	call clsave,bis
	neg
	jmp l3359
l3360:
	push $7
	call clsave,bis
l3359:
	cthis _check_if
	pop $6
	push $8
	push "|"
	cmpje
	cmp0
	je l3362
	push 1
	pop $5
	jmp l3361
l3362:
	push $8
	push "&"
	cmpje
	cmp0
	je l3364
	push 2
	pop $5
l3364:
l3361:
	jmp l3356
l3357:
	push "="
	cmpst
	jne l3365
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l3356
l3365:
	push "!="
	cmpst
	jne l3366
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	neg
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l3356
l3366:
	spop $a
l3356:
	push 2
	popax
	add $3,$a
	pop $3
	jmp l3354
l3355:
	push $6
	neg
	cmp0
	je l3368
	push $1
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	jmp l3367
l3368:
	push $2
l3367:
	end method
	method _goto_fi
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push _if_pos
	pop $3
l3369:
	push 1
	cmp0
	je l3370
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	spushs
	push "IF"
	cmpst
	jne l3372
	spop $a
	add $3,1
	pop $3
	jmp l3371
l3372:
	push "ELSE"
	cmpst
	jne l3373
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l3375
	push $2
	ret
l3375:
	jmp l3371
l3373:
	push "FI"
	cmpst
	jne l3376
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l3378
	sub _if_pos,1
	pop _if_pos
	push $2
	ret
	jmp l3377
l3378:
	sub $3,1
	pop $3
l3377:
	jmp l3371
l3376:
	spop $a
l3371:
	add $2,1
	pop $2
	jmp l3369
l3370:
	end method
	method _check_if2
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l3380
	spop $a
	push 1
	jmp l3379
l3380:
	push "&"
	cmpst
	jne l3381
	spop $a
	push 2
	jmp l3379
l3381:
	spop $a
	push 0
l3379:
	end method
	method _check_if
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push 1
	cmpst
	jne l3383
	spop $a
	push $2
	cmp0
	jne l3385
	push $3
	jmp l3386
l3384:
	push 0
	jmp l3386
l3385:
	push 1
l3386:
	jmp l3382
l3383:
	push 2
	cmpst
	jne l3387
	spop $a
	push $2
	cmp0
	je l3388
	push $3
	jmp l3390
l3388:
	push 0
	jmp l3390
l3389:
	push 1
l3390:
	jmp l3382
l3387:
	spop $a
	push $3
l3382:
	end method
	method behrewind
	push sactbeh
	push "null"
	cmpjne
	cmp0
	je l3392
	push sactbeh
	spushs
	spop $a
	call [$a],rewind
l3392:
	end method
	method behplaying
	push sactbeh
	push "null"
	cmpjne
	ret
	end method
	method behexist
	localstring $1
	pop $1
	push $1
	cthis getbeh
	call engine,varexist
	ret
	end method
	method getbeh
	localstring $1
	pop $1
	push _sbeh
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method newbehname
	localstring $1
	push _sbeh
	push "_"
	pop $b
	popax
	add $a,$b
	push iidbeh
	pop $b
	popax
	add $a,$b
	pop $1
	add iidbeh,1
	pop iidbeh
	push $1
	ret
	end method
	method newbeh
	localstring $1
	cthis newbehname
	pop $1
	push $1
	spushs
	spop $e
	new classbehhero,[$e]
	push $1
	ret
	end method
	method _checkvol
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	push "-v"
	cmpje
	cmp0
	je l3394
	push 2
	popax
	add $3,$a
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
	jmp l3393
l3394:
	push 100
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
l3393:
	end method
	method loadbeh
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $9
	localstring $10
	localstring $11
	localstring $12
	localint $13
	push $5
	spushs
	spop $a
	call [$a],getblock
	pop $13
	localint $14
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	cthis newbeh
	pop $10
	localint $15
	localint $16
	push $9
	spushs
	push "IF"
	cmpst
	je l3397
	push "ELIF"
	cmpst
	je l3397
	jmp l3396
l3397:
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $15
l3398:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l3399
	add $4,1
	pop $4
	jmp l3398
l3399:
	push $10
	spushs
	push "setas"
	push $9
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	push $15
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	add $4,1
	pop $4
	jmp l3395
l3396:
	push "FI"
	cmpst
	je l3401
	push "ELSE"
	cmpst
	je l3401
	jmp l3400
l3401:
	spop $a
	push $10
	spushs
	push $9
	spop $a
	call [$a],setas
	jmp l3395
l3400:
	push "call:"
	cmpst
	jne l3402
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l3395
l3402:
	push "walk:"
	cmpst
	jne l3403
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	push $12
	spop $a
	call [$a],setaswalker
	jmp l3395
l3403:
	push "turn:"
	cmpst
	jne l3404
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	spop $a
	call [$a],setasturn
	jmp l3395
l3404:
	push "setpos:"
	cmpst
	jne l3405
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	push 0
	pop $15
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
	push $12
	push "-ssc"
	cmpje
	cmp0
	je l3407
	push 1
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
l3407:
	push $12
	push "-dir"
	cmpje
	cmp0
	je l3409
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l3408
l3409:
	push "auto"
	pop $12
l3408:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $16
	push $15
	push $12
	spop $a
	call [$a],setasposer
	jmp l3395
l3405:
	push "game:"
	cmpst
	jne l3410
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $9
	spushs
	push "-def"
	cmpst
	je l3413
	push "-adv"
	cmpst
	je l3413
	jmp l3412
l3413:
	spop $a
	push $10
	spushs
	push $9
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	spop $a
	call [$a],setasnewgamer
	push 2
	popax
	add $4,$a
	pop $4
	jmp l3411
l3412:
	spop $a
	push $10
	spushs
	push "null"
	push "null"
	push $9
	spop $a
	call [$a],setasnewgamer
l3411:
	jmp l3395
l3410:
	push "ref:"
	cmpst
	jne l3414
	spop $a
	push "_"
	push iidbeh
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $4
	cthis buildbeh
	pop $4
	cthis newbehname
	pop $9
	push $10
	spushs
	push _sbeh
	call $9,strsubbs
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l3395
l3414:
	push "anplay:"
	cmpst
	jne l3415
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasanplayer
	jmp l3395
l3415:
	push "anorder:"
	cmpst
	jne l3416
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $1
	push $2
	push $4
	push $11
	spop $a
	call [$a],setasanorder
	push $1
	push $2
	push $4
	push "null"
	cthis analizeaninstr
	pop $4
	jmp l3395
l3416:
	push "sndbg:"
	cmpst
	jne l3417
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndbg
	jmp l3395
l3417:
	push "sndplay:"
	cmpst
	jne l3418
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l3395
l3418:
	push "fxplay:"
	cmpst
	jne l3419
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $9
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l3395
l3419:
	push "fxbg:"
	cmpst
	jne l3420
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $11
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndbg
	jmp l3395
l3420:
	push "wait:"
	cmpst
	jne l3421
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $10
	spushs
	push $15
	spop $a
	call [$a],setaswaiter
	jmp l3395
l3421:
	push "read:"
	cmpst
	jne l3422
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	add $4,1
	pop $4
	push "auto"
	pop $11
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	push $4
	cmpja
	cmp0
	je l3424
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $11
	push "-dir"
	cmpje
	cmp0
	je l3426
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
l3426:
l3424:
	push $10
	spushs
	push $9
	push $15
	push $16
	push $11
	spop $a
	call [$a],setasreader
	jmp l3395
l3422:
	push "met:"
	cmpst
	jne l3427
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	call gameapi,getgamename
	pop $12
	push "."
	call $9,contains
	cmp0
	je l3429
	push "."
	call $9,strgetto
	pop $11
	push "."
	call $9,strgetfrom
	pop $9
	push $11
	push ""
	cmpje
	cmp0
	jne l3432
	push $11
	push "this"
	cmpje
	jmp l3433
l3431:
	push 0
	jmp l3433
l3432:
	push 1
l3433:
	cmp0
	je l3434
	push $12
	pop $11
l3434:
	jmp l3428
l3429:
	push $12
	pop $11
l3428:
	push $10
	spushs
	push $11
	push $9
	spop $a
	call [$a],setasmet
	jmp l3395
l3427:
	push "bsave:"
	cmpst
	jne l3435
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push "1"
	spop $a
	call [$a],setassaver
	jmp l3395
l3435:
	push "save:"
	cmpst
	jne l3436
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setassaver
	jmp l3395
l3436:
	push "script:"
	cmpst
	jne l3437
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasscript
	jmp l3395
l3437:
	push "func:"
	cmpst
	jne l3438
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	call clcbeh,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $16
l3439:
	push $16
	push 0
	cmpjae
	cmp0
	je l3440
	jmp l3442
l3441:
	sub $16,1
	pop $16
	jmp l3439
l3442:
	push $16
	call clcbeh,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $11
	spop $a
	call [$a],containsfun
	cmp0
	je l3444
	push 1
	popax
	sub 0,$a
	pop $16
l3444:
	jmp l3441
l3440:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "("
	cmpje
	cmp0
	je l3446
	push $4
	push 2
	pop $b
	popax
	add $a,$b
	pop $16
l3447:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l3448
	add $4,1
	pop $4
	jmp l3447
l3448:
	jmp l3445
l3446:
	push 1
	popax
	sub 0,$a
	pop $16
l3445:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $1
	push $2
	push $16
	spop $a
	call [$a],setasscript
	jmp l3395
l3438:
	push "use:"
	cmpst
	jne l3449
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	spop $a
	call [$a],setasuse
	jmp l3395
l3449:
	push "topck:"
	cmpst
	jne l3450
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "-pck"
	cmpje
	cmp0
	je l3452
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l3451
l3452:
	push $11
	pop $12
l3451:
	add $4,1
	pop $4
	push $10
	spushs
	push $11
	push $12
	spop $a
	call [$a],setastopck
	jmp l3395
l3450:
	push "enter:"
	cmpst
	jne l3453
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasenter
	jmp l3395
l3453:
	push "close:"
	cmpst
	jne l3454
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasclose
	jmp l3395
l3454:
	push "music:"
	cmpst
	jne l3455
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $16
l3456:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l3457
	add $4,1
	pop $4
	jmp l3456
l3457:
	push $10
	spushs
	push $1
	push $2
	push $16
	push $4
	spop $a
	call [$a],setasmusic
	add $4,1
	pop $4
	jmp l3395
l3455:
	spop $a
	push "_"
	call $9,strgetto
	pop $12
	push $12
	cthis getheroloader
	pop $11
	push $11
	push "null"
	cmpje
	cmp0
	je l3459
	push igmdebug
	cmp0
	je l3461
	push $10
	push ": "
	pop $b
	popax
	add $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	push " loadbeh error: no hero linked to "
	pop $b
	popax
	add $a,$b
	push $12
	pop $b
	popax
	add $a,$b
	call engine,print
l3461:
	push $10
	push $3
	ret
	jmp l3458
l3459:
	localint $17
	localint $18
	push $11
	spushs
	spop $a
	call [$a],getstartstop
	pop $18
	pop $17
	localstring $19
	push "auto"
	pop $19
	localstring $20
	push "_stalk"
	call modadv,varget
	pop $20
	localint $21
	push 1
	pop $21
	push $4
	push $3
	cmpjl
	pop $14
l3462:
	push $14
	cmp0
	je l3463
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $12
	spushs
	push "-stt"
	cmpst
	jne l3465
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $17
	add $4,1
	pop $4
	jmp l3464
l3465:
	push "-stp"
	cmpst
	jne l3466
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $18
	add $4,1
	pop $4
	jmp l3464
l3466:
	push "-base"
	cmpst
	jne l3467
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $20
	add $4,1
	pop $4
	jmp l3464
l3467:
	push "-r"
	cmpst
	jne l3468
	spop $a
	push 1
	pop $21
	jmp l3464
l3468:
	push "-nr"
	cmpst
	jne l3469
	spop $a
	push 0
	pop $21
	jmp l3464
l3469:
	push "-dir"
	cmpst
	jne l3470
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $19
	add $4,1
	pop $4
	jmp l3464
l3470:
	spop $a
	push 0
	pop $14
	sub $4,1
	pop $4
l3464:
	push $14
	cmp0
	je l3472
	push $4
	push $3
	cmpjae
	jmp l3474
l3472:
	push 0
	jmp l3474
l3473:
	push 1
l3474:
	cmp0
	je l3475
	push 0
	pop $14
l3475:
	jmp l3462
l3463:
	push $10
	spushs
	push $11
	spushs
	push "sanhero"
	spop $a
	call [$a],varget
	push $9
	push $20
	push $21
	push $17
	push $18
	push $19
	spop $a
	call [$a],setastalker
l3458:
l3395:
	push $5
	spushs
	push $10
	spop $a
	call [$a],addtostarter
	push $7
	push 0
	cmpje
	cmp0
	je l3477
	push $6
	spushs
	push $10
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push $8
	spop $a
	call [$a],addflags
	jmp l3476
l3477:
	push $6
	spushs
	push "null"
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push 0
	spop $a
	call [$a],addflags
l3476:
	push $10
	push $4
	ret
	end method
	method buildbeh
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	call dbmacros,findbyrow
	pop $5
	push $5
	push 0
	cmpjl
	cmp0
	je l3479
	push "no such macro: "
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call engine,print
	push 1
	popax
	sub 0,$a
	ret
l3479:
l3480:
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	push "("
	cmpjne
	cmp0
	je l3481
	add $4,1
	pop $4
	jmp l3480
l3481:
	add $4,1
	pop $4
	localint $6
	push $2
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	localstring $7
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	call _vecarg,free
l3482:
	push $7
	push ")"
	cmpjne
	cmp0
	je l3483
	push $7
	call _vecarg,add
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	jmp l3482
l3483:
	localint $8
	push $5
	call dbmacros,getcolsno
	pop $8
	localint $9
	push $2
	spushs
	push $6
	push $1
	spop $a
	call [$a],add
	localint $10
	push 1
	pop $10
l3484:
	push $10
	push $8
	cmpjl
	cmp0
	je l3485
	jmp l3487
l3486:
	add $10,1
	pop $10
	jmp l3484
l3487:
	push $5
	push $10
	call dbmacros,get
	pop $7
	push 0
	push 1
	call $7,getb
	push "$"
	cmpje
	cmp0
	je l3489
	push 1
	push 10
	call $7,getb
	pop $9
	push $2
	spushs
	push $6
	push $9
	push 1
	pop $b
	popax
	sub $a,$b
	call _vecarg,get
	spop $a
	call [$a],add
	jmp l3488
l3489:
	push $2
	spushs
	push $6
	push $7
	spop $a
	call [$a],add
l3488:
	jmp l3486
l3485:
	push $4
	ret
	end method
	method loadbehaviours
	localstring $1
	pop $1
	localstring $2
	call clcbeh,get
	pop $2
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localstring $3
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $2
	spop $e
	new Script,[$e]
	localint $4
	localint $5
	localstring $6
	localstring $7
	localstring $8
	localstring $9
	localint $10
	localint $11
	localstring $12
	localint $13
	localint $14
	localint $15
	localint $16
	localstring $17
	localstring $18
	localint $19
	push 0
	pop $19
l3490:
	push $19
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l3491
	jmp l3493
l3492:
	add $19,1
	pop $19
	jmp l3490
l3493:
	push 0
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $6
	add $5,1
	pop $5
	push $6
	spushs
	push "macro:"
	cmpst
	jne l3495
	spop $a
	push $2
	push $19
	push 1
	call dbmacros,dbaddrowfrom
	jmp l3494
l3495:
	push "include:"
	cmpst
	jne l3496
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l3494
l3496:
	push "build:"
	cmpst
	jne l3497
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	push $2
	push $19
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	cthis buildbeh
	pop $5
	jmp l3494
l3497:
	push "func"
	cmpst
	jne l3498
	spop $a
l3499:
	push $2
	spushs
	push $19
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l3500
	add $19,1
	pop $19
	jmp l3499
l3500:
	jmp l3494
l3498:
	push "IF"
	cmpst
	jne l3501
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $19
	push $5
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	cthis _found_if
	pop $19
	jmp l3494
l3501:
	push "ELSE"
	cmpst
	jne l3502
	spop $a
	push $2
	push $19
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $19
	jmp l3494
l3502:
	push "FI"
	cmpst
	jne l3503
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l3505
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l3505:
	jmp l3494
l3503:
	spop $a
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	pop $4
	push $6
	cthis getbeh
	pop $6
	push $6
	spushs
	spop $e
	new classbehhero,[$e]
	push 0
	pop $10
	push 1
	pop $11
	push "null"
	pop $12
	push 0
	pop $13
	push 1
	pop $14
	push "null"
	pop $18
	push 1
	popax
	sub 0,$a
	pop $16
	push 0
	pop $15
l3506:
	push $11
	cmp0
	je l3507
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $7
	spushs
	push "-nr"
	cmpst
	jne l3509
	spop $a
	push 0
	pop $10
	jmp l3508
l3509:
	push "-once"
	cmpst
	jne l3510
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $12
	add $5,1
	pop $5
	jmp l3508
l3510:
	push "-par"
	cmpst
	jne l3511
	spop $a
	push 1
	pop $13
	jmp l3508
l3511:
	push "-r"
	cmpst
	jne l3512
	spop $a
	push 1
	pop $10
	jmp l3508
l3512:
	push "-nb"
	cmpst
	jne l3513
	spop $a
	push 0
	pop $14
	jmp l3508
l3513:
	push "-b"
	cmpst
	jne l3514
	spop $a
	push 1
	pop $14
	jmp l3508
l3514:
	push "-en"
	cmpst
	jne l3515
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	jmp l3508
l3515:
	push "-bif"
	cmpst
	jne l3516
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l3508
l3516:
	push "-bnif"
	cmpst
	jne l3517
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l3508
l3517:
	push "-if"
	cmpst
	jne l3518
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l3508
l3518:
	push "-nif"
	cmpst
	jne l3519
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l3508
l3519:
	spop $a
	push 0
	pop $11
	push $6
	spushs
	push $12
	push $10
	push $13
	push $14
	push $15
	push $16
	push $17
	push $18
	spop $a
	call [$a],setasstarter
	sub $5,1
	pop $5
	push $6
	pop $7
l3520:
	push $5
	push $4
	cmpjl
	cmp0
	je l3521
	push $2
	push $19
	push $4
	push $5
	push $6
	push $7
	push $10
	push $13
	cthis loadbeh
	pop $5
	pop $7
	jmp l3520
l3521:
l3508:
	jmp l3506
l3507:
l3494:
	jmp l3492
l3491:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method analizeaninstr
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 1
	pop $5
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	cmp0
	je l3523
	push 0
	pop $5
l3523:
	localint $6
	push 0
	pop $6
	push $4
	push "null"
	cmpjne
	cmp0
	je l3525
	push 1
	pop $6
	push $4
	cthis advanstand
l3525:
	localint $7
	localint $8
	localint $9
	localstring $10
	localstring $11
l3526:
	push $5
	cmp0
	je l3527
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $11
	spushs
	push "-z"
	cmpst
	jne l3529
	spop $a
	push $6
	cmp0
	je l3531
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setz
l3531:
	add $3,1
	pop $3
	jmp l3528
l3529:
	push "-pos"
	cmpst
	jne l3532
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $6
	cmp0
	je l3534
	push $10
	push "-id"
	cmpje
	cmp0
	je l3536
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $9
	spop $a
	call [$a],getbyname
	pop $7
	push $10
	spushs
	push $7
	spop $a
	call [$a],getxver
	push $10
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $8
	push $10
	spushs
	push $7
	spop $a
	call [$a],getyver
	push $10
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $9
	jmp l3535
l3536:
	push $10
	pop $8
l3535:
	push $4
	spushs
	push $8
	push $9
	spop $a
	call [$a],setpos
l3534:
	jmp l3528
l3532:
	push "-putgr"
	cmpst
	jne l3537
	spop $a
	push $6
	cmp0
	je l3539
	push $4
	spushs
	spop $a
	call [$a],anputgr
l3539:
	jmp l3528
l3537:
	push "-vis"
	cmpst
	jne l3540
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3542
	push $7
	push 0
	cmpje
	cmp0
	je l3544
	push $4
	spushs
	spop $a
	call [$a],hide
	jmp l3543
l3544:
	push $4
	spushs
	spop $a
	call [$a],show
l3543:
l3542:
	jmp l3528
l3540:
	push "-show"
	cmpst
	jne l3545
	spop $a
	push $6
	cmp0
	je l3547
	push $4
	spushs
	spop $a
	call [$a],show
l3547:
	jmp l3528
l3545:
	push "-hide"
	cmpst
	jne l3548
	spop $a
	push $6
	cmp0
	je l3550
	push $4
	spushs
	spop $a
	call [$a],hide
l3550:
	jmp l3528
l3548:
	push "-dir"
	cmpst
	jne l3551
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3553
	push $4
	spushs
	spop $a
	call [$a],actionname
	pop $11
	push $4
	spushs
	spop $a
	call [$a],framenr
	pop $7
	push $4
	spushs
	push 2
	call $11,strsube
	push $10
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],setframe
l3553:
	jmp l3528
l3551:
	push "-play"
	cmpst
	jne l3554
	spop $a
	push $6
	cmp0
	je l3556
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],play
l3556:
	add $3,1
	pop $3
	jmp l3528
l3554:
	push "-nplay"
	cmpst
	jne l3557
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3559
	push $4
	spushs
	push $7
	spop $a
	call [$a],nplay
l3559:
	jmp l3528
l3557:
	push "-lplay"
	cmpst
	jne l3560
	spop $a
	push $6
	cmp0
	je l3562
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],anloopsplay
l3562:
	add $3,1
	pop $3
	jmp l3528
l3560:
	push "-bgr"
	cmpst
	jne l3563
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $6
	cmp0
	je l3565
	push $11
	spushs
	push $4
	spop $a
	call [$a],add
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3567
	push $11
	spushs
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l3567:
l3565:
	jmp l3528
l3563:
	push "-sc"
	cmpst
	jne l3568
	spop $a
	push $6
	cmp0
	je l3570
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	call engine,varexist
	cmp0
	je l3572
	push $11
	spushs
	spop $a
	call [$a],scalean
l3572:
l3570:
	jmp l3528
l3568:
	push "-ssc"
	cmpst
	jne l3573
	spop $a
	push $6
	cmp0
	je l3575
	call clcamera,setscene
l3575:
	jmp l3528
l3573:
	push "-actor"
	cmpst
	jne l3576
	spop $a
	push $6
	cmp0
	je l3578
	push $4
	call clcamera,setactor
l3578:
	jmp l3528
l3576:
	push "-mhero"
	cmpst
	jne l3579
	spop $a
	push $6
	cmp0
	je l3581
	push $4
	cthis setmainhero
l3581:
	jmp l3528
l3579:
	push "-puty"
	cmpst
	jne l3582
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3584
	push $10
	push "resy"
	cmpje
	cmp0
	je l3586
	push $4
	spushs
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],anputy
	jmp l3585
l3586:
	push $4
	spushs
	push $10
	spop $a
	call [$a],anputy
l3585:
l3584:
	jmp l3528
l3582:
	push "-stopf"
	cmpst
	jne l3587
	spop $a
	push $6
	cmp0
	je l3589
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3589:
	jmp l3528
l3587:
	push "-stoph"
	cmpst
	jne l3590
	spop $a
	push $6
	cmp0
	je l3592
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
	push $4
	spushs
	spop $a
	call [$a],hide
l3592:
	jmp l3528
l3590:
	push "-setaction"
	cmpst
	jne l3593
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3595
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3597
	push $4
	spushs
	call $10,to_i
	push 0
	spop $a
	call [$a],setframe
	jmp l3596
l3597:
	push $4
	spushs
	push $10
	push 0
	spop $a
	call [$a],setframe
l3596:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3595:
	jmp l3528
l3593:
	push "-setframe"
	cmpst
	jne l3598
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3600
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3602
	push $4
	spushs
	call $10,to_i
	push $7
	spop $a
	call [$a],setframe
	jmp l3601
l3602:
	push $4
	spushs
	push $10
	push $7
	spop $a
	call [$a],setframe
l3601:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3600:
	jmp l3528
l3598:
	push "-stand"
	cmpst
	jne l3603
	spop $a
	push $6
	cmp0
	je l3605
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setstandbase
l3605:
	add $3,1
	pop $3
	jmp l3528
l3603:
	push "-delay"
	cmpst
	jne l3606
	spop $a
	push $6
	cmp0
	je l3608
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
l3608:
	add $3,1
	pop $3
	jmp l3528
l3606:
	push "-step"
	cmpst
	jne l3609
	spop $a
	push $6
	cmp0
	je l3611
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setanstep
l3611:
	add $3,1
	pop $3
	jmp l3528
l3609:
	push "-sb1"
	cmpst
	jne l3612
	spop $a
	push $6
	cmp0
	je l3614
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
l3614:
	add $3,1
	pop $3
	jmp l3528
l3612:
	push "-sb2"
	cmpst
	jne l3615
	spop $a
	push $6
	cmp0
	je l3617
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
l3617:
	add $3,1
	pop $3
	jmp l3528
l3615:
	spop $a
	push 0
	pop $5
	sub $3,1
	pop $3
l3528:
	push $5
	cmp0
	je l3619
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	jmp l3621
l3619:
	push 0
	jmp l3621
l3620:
	push 1
l3621:
	cmp0
	je l3622
	push 0
	pop $5
l3622:
	jmp l3526
l3527:
	push $3
	ret
	end method
	method cadvherofinish
	end method
	method butmoveoff
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveoff
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmoveon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveon
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method advmsmove
	cthis advgetlock
	neg
	cmp0
	je l3624
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3626
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	push $4
	push _slastms
	cmpjne
	cmp0
	je l3628
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3630
	push _slastms
	cthis butmoveoff
l3630:
	push $4
	pop _slastms
	push $4
	cthis butmoveon
l3628:
	jmp l3625
l3626:
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3632
	push _slastms
	cthis butmoveoff
	push "null"
	pop _slastms
l3632:
l3625:
	push "onmousemove"
	push $1
	push $2
	call grmsmove,eval2
	call moddbg,msmove
l3624:
	end method
	method butclickon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],clickon
	cthis behplaying
	neg
	cmp0
	je l3634
	push "beh_"
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	push "_LCLICK"
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l3634:
	end method
	method butrelease
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lrel
	end method
	method advmsclick
	call _tim_dbclk,isplaying
	cmp0
	je l3636
	push 2
	call clwalkq,mulspeed
	ret
	jmp l3635
l3636:
	call _tim_dbclk,play
l3635:
	push 1
	pop _b_rewind
	push bmslock
	neg
	cmp0
	je l3638
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3640
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butclickon
	jmp l3639
l3640:
	localstring $4
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	call engine,varexist
	cmp0
	je l3642
	push $4
	spushs
	spop $a
	call [$a],itemhide
l3642:
	push $1
	push $2
	call clwalkq,goto
l3639:
	push "onmouselclick"
	push $1
	push $2
	call grmslclick,eval2
l3638:
	push _b_rewind
	cmp0
	je l3644
	cthis behrewind
l3644:
	call moddbg,mslclick
	end method
	method advmsrclick
	push bmslock
	neg
	cmp0
	je l3646
	push "onmouserclick"
	call mouse,getpos
	call grmsrclick,eval2
l3646:
	end method
	method advmslrel
	push bmslock
	neg
	cmp0
	je l3648
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3650
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butrelease
l3650:
	push "onmouselrel"
	push $1
	push $2
	call grmslrel,eval2
l3648:
	call moddbg,mslrel
	end method
	method mousemove
	push igmstate
	push 0
	cmpje
	cmp0
	je l3652
	cthis advmsmove
l3652:
	cthis mouse_MOVE
	end method
	method mouselclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3654
	cthis advmsclick
l3654:
	cthis mouse_LCLICK
	end method
	method mouselrel
	push igmstate
	push 0
	cmpje
	cmp0
	je l3656
	cthis advmslrel
l3656:
	cthis mouse_LREL
	end method
	method mouserclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3658
	cthis advmsrclick
l3658:
	cthis mouse_RCLICK
	end method
	method keydown
	call moddbg,dbkeydown
	cthis keyboard_KEYDOWN
	end method
	method exit
	call modadvglob,onexit
	end method
	method onmusicfin
	call _music,play
	end method
	method sndplayobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call __sndplay,load
	push $2
	call __sndplay,sob=
	push $3
	call __sndplay,sfun=
	call __sndplay,play
	end method
	method sndplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis sndplayobfin
	end method
	method sndplay
	localstring $1
	pop $1
	push $1
	push "null"
	push "null"
	cthis sndplayobfin
	end method
	method advsaveonstart
	push "GAME_game"
	call gameapi,getgamename
	call clsave,set
	push "GAME_sgmgame"
	push sgmgame
	call clsave,set
	push "GAME_sgmglobpath"
	push sgmglobpath
	call clsave,set
	push "GAME_sgmlastscene"
	push sgmlastscene
	call clsave,set
	push "GAME_ccs"
	call ccs,isvisible
	call clsave,set
	cthis advautosave
	end method
	method advautosave
	push "saves/autosave.txt"
	call clsave,save
	push "autosave"
	call modadvglob,savepck
	end method
	method advautoload
	push "autosave"
	cthis _advload
	end method
	method advcacheload
	push "cache"
	cthis _advload
	end method
	method advcachesave
	push "cache"
	cthis _advsave
	end method
	method _advload
	localstring $1
	pop $1
	call modadvglob,delheros
	push $1
	call modadvglob,loadpck
	push "saves/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call clsave,load
	push "GAME_sgmgame"
	call clsave,get
	pop sgmgame
	push "GAME_sgmglobpath"
	call clsave,get
	pop sgmglobpath
	push "GAME_sgmlastscene"
	call clsave,get
	pop sgmlastscene
	push "GAME_ccs"
	call clsave,bis
	cmp0
	je l3660
	call ccs,show
	jmp l3659
l3660:
	call ccs,hide
l3659:
	push "GAME_game"
	call clsave,get
	call gameapi,play
	end method
	method _advsave
	localstring $1
	pop $1
	push "saves/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	new classfullsave,_saver
	push "saves/autosave.txt"
	call _saver,load
	call _saver,stdsave
	delete _saver
	new vector,_vcsave
	push "string"
	call _vcsave,type
	new vector,_vcsv2
	push "string"
	call _vcsv2,type
	push "saves/grpck_autosave.txt"
	call _vcsave,load
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call _vcsave,save
	localdef $2
	localint $3
	push 0
	pop $3
l3661:
	push $3
	call _vcsave,size
	cmpjl
	cmp0
	je l3662
	jmp l3664
l3663:
	add $3,1
	pop $3
	jmp l3661
l3664:
	push $3
	call _vcsave,get
	pop $2
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push "autosave_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,load
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,save
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push "autosave_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,load
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,save
	jmp l3663
l3662:
	delete _vcsave
	delete _vcsv2
	end method
	end class

	module moddbg
	parent classlocker
	method init
	clparent classlocker,init
	new string,sstate
	push "init"
	pop sstate
	new int,ilastx
	new int,ilasty
	new text,txtpos
	push 5000
	call txtpos,setz
	push 0
	push 0
	call txtpos,setpos
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpos,setbkg
	new text,txtswin
	push 5000
	call txtswin,setz
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtswin,setbkg
	new text,txtpod
	push 5000
	call txtpod,setz
	push 0
	push 0
	push 128
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpod,setbkg
	cthis disable
	end method
	method enable
	cthis unlock
	call txtpos,show
	call txtswin,show
	call txtpod,show
	end method
	method disable
	cthis lock
	call txtpos,hide
	call txtswin,hide
	call txtpod,hide
	end method
	method updatetxtpos
	localint $1
	localint $2
	pop $2
	pop $1
	push ""
	push $1
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtpos,set
	push $1
	push 32
	pop $b
	popax
	sub $a,$b
	push $2
	push 46
	pop $b
	popax
	add $a,$b
	call txtpos,setpos
	push $1
	push 64
	pop $b
	popax
	sub $a,$b
	push $2
	push 30
	pop $b
	popax
	add $a,$b
	call txtpod,setpos
	push $1
	push $2
	push 1
	push 1
	push 1000
	popax
	sub 0,$a
	push 1000
	call engine,getimg
	call txtpod,set
	end method
	method updateswin
	push " "
	call swinka,getposx
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	call swinka,getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtswin,set
	call swinka,getposx
	push 32
	pop $b
	popax
	sub $a,$b
	call swinka,getposy
	call txtswin,setpos
	end method
	method msminit
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmmove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push ilastx
	pop $b
	popax
	sub $a,$b
	push $2
	push ilasty
	pop $b
	popax
	sub $a,$b
	call clcamera,moveplans
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmove
	cthis getlock
	cmp0
	je l3666
	ret
l3666:
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	push "msm"
	push sstate
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $d
	cthis [$d]
	push $1
	pop ilastx
	push $2
	pop ilasty
	end method
	method mslclick
	cthis getlock
	cmp0
	je l3668
	ret
l3668:
	push "space"
	call keyboard,iskeydown
	push 1
	cmpje
	cmp0
	je l3670
	push "move"
	pop sstate
l3670:
	end method
	method mslrel
	cthis getlock
	push 1
	cmpje
	cmp0
	je l3672
	ret
l3672:
	push "init"
	pop sstate
	end method
	method msrclick
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,isin
	pop $3
	push $3
	push 0
	cmpjne
	cmp0
	je l3674
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	call $4,print
l3674:
	end method
	method dbkeydown
	push igmdebug
	neg
	cmp0
	je l3676
	ret
l3676:
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l3678
	push "l"
	call keyboard,iskey
	cmp0
	je l3680
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcacheload
	jmp l3679
l3680:
	push "s"
	call keyboard,iskey
	cmp0
	je l3682
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcachesave
l3682:
l3679:
l3678:
	push "d"
	call keyboard,iskey
	cmp0
	je l3684
	cthis getlock
	cmp0
	je l3686
	cthis enable
	jmp l3685
l3686:
	cthis disable
l3685:
l3684:
	cthis getlock
	cmp0
	je l3688
	ret
l3688:
	push "s"
	call keyboard,iskey
	push 1
	cmpje
	cmp0
	je l3690
	cthis updateswin
l3690:
	end method
	end module

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l3692
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l3693:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l3694
	jmp l3696
l3695:
	add $4,1
	pop $4
	jmp l3693
l3696:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l3695
l3694:
l3692:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l3698
	push "sndintro"
	cthis cbplay
l3698:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3700
	call sndintro,isplaying
	jmp l3702
l3700:
	push 0
	jmp l3702
l3701:
	push 1
l3702:
	cmp0
	je l3703
	ret
l3703:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3705
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l3705:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	method init
	end method
	method tinit
	localstring $1
	pop $1
	push $1
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3707
	call sndintro,isplaying
	jmp l3709
l3707:
	push 0
	jmp l3709
l3708:
	push 1
l3709:
	neg
	cmp0
	je l3710
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3712
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbselfplay
l3712:
l3710:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l3714
	push $1
	clparent GameController,init
l3714:
	cthis unlock
	push $2
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l3716
	push "anbkg"
	push $3
	push 0
	cthis newanima
l3716:
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $8
	localint $9
	push $7
	spushs
	push "ru"
	cmpst
	jne l3718
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getpy
	pop $9
	jmp l3717
l3718:
	push "rd"
	cmpst
	jne l3719
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getey
	pop $9
	jmp l3717
l3719:
	push "ld"
	cmpst
	jne l3720
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getey
	pop $9
	jmp l3717
l3720:
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getpy
	pop $9
l3717:
	push $8
	push $9
	call anbrush1,saverelpos
	push $8
	push $9
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l3721:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l3722
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l3724
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l3724:
	jmp l3721
l3722:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,mouse_move
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method mouse_lclick
	cthis getlock
	neg
	cmp0
	je l3726
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l3728
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l3727
l3728:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l3730
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	cthis onsetbrush
l3730:
l3727:
l3726:
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	new int,iMusic
	push 1
	pop iMusic
	new int,iNutka
	push 1
	pop iNutka
	new string,sAskerGame
	class Computro
	parent classadv
	parent GameController
	parent Localize
	method init
	localstring $1
	pop $1
	push 0
	pop AdventureGame
	push 0
	pop igmstate
	clparent classadv,init
	push $1
	clparent GameController,init
	clparent Localize,init
	push $1
	cthis path=
	push SNDPATH
	cthis setwavpath
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	new Music,mus
	push PrzygodaMode
	cmp0
	je l3732
	clparent classadvcontroller,advsaveonstart
	clparent classadvinfo2,advsave_game
l3732:
	end method
	method cutscene
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	end method
	method cshowbut
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call clbuts,Computro0
	end method
	method Computro0
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push "getcx"
	call buts,callimgfun
	push $1
	push "getcy"
	call buts,callimgfun
	push $2
	call clp,show
	end method
	method napisshow
	localint $1
	localint $2
	pop $2
	pop $1
	cthis show
	push $1
	push $2
	cthis move
	end method
	method napispod
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 5
	pop $b
	popax
	add $a,$b
	cthis napisshow
	end method
	method crect
	push 600
	push 196
	push 403
	push 497
	new Rect,rec
	end method
	method crect2
	push 6
	push 174
	push 1012
	push 530
	new Rect,rec2
	end method
	method gotoadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push "gameadvdef"
	call gameapi,play
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method onmusicfin
	call mus,play
	end method
	method advclick
	push igmdebug
	cmp0
	je l3734
	push igmstate
	push 0
	cmpje
	cmp0
	jne l3737
	push igmstate
	push 5
	cmpje
	jmp l3738
l3736:
	push 0
	jmp l3738
l3737:
	push 1
l3738:
	jmp l3739
l3734:
	push 0
	jmp l3739
l3735:
	push 1
l3739:
	cmp0
	je l3740
	push 1
	cthis cactsndstop
l3740:
	end method
	method key_down
	push igmdebug
	cmp0
	je l3742
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l3742
	push "r"
	call keyboard,iskey
	jmp l3744
l3742:
	push 0
	jmp l3744
l3743:
	push 1
l3744:
	cmp0
	je l3745
	cthis crestart
l3745:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/music.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/sfx/butmovon.wav"
	call sndakskermovon,load
	push 40
	call sndakskermovon,setvol
	class classasker2
	parent classasker
	method init
	clparent classasker,init
	new snd,sndaskexit
	push 0
	push 1
	call sndaskexit,setstartstopflag
	new snd,sndaskexitgame
	push 0
	push 1
	call sndaskexitgame,setstartstopflag
	new snd,sndyes
	push 0
	push 1
	call sndyes,setstartstopflag
	new snd,sndno
	push 0
	push 1
	call sndno,setstartstopflag
	new snd,sndaskrestart
	push 0
	push 1
	call sndaskrestart,setstartstopflag
	new snd,sndaskrestart2
	push 0
	push 1
	call sndaskrestart2,setstartstopflag
	cthis reload
	push "scripts/common/asker.pyz"
	push 12000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method reload
	push SNDPATH
	cthis setwavpath
	localdef $1
	cthis getsndpath
	pop $1
	push $1
	push "narexit.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexit,load
	push $1
	push "narexitgame.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexitgame,load
	push $1
	push "naryes.wav"
	pop $b
	popax
	add $a,$b
	call sndyes,load
	push $1
	push "narno.wav"
	pop $b
	popax
	add $a,$b
	call sndno,load
	push $1
	push "narrestart.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart,load
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askexitgame
	push "sndaskexitgame"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	call modadvglob,delheros
	call clsave,free
	call gameapi,getgamename
	spushs
	push "Menu"
	cmpst
	jne l3747
	spop $a
	push "Outro"
	jmp l3746
l3747:
	spop $a
	push "Menu"
l3746:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "Memo"
	cmpst
	jne l3749
	spop $a
	push "gamemenu"
	jmp l3748
l3749:
	spop $a
	push "Menu"
l3748:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call ccs,isplaying
	neg
	cmp0
	je l3751
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent classasker,ask
l3751:
	end method
	end class

	new classasker2,claskexit
	method LANG=
	localdef $1
	pop $1
	push $1
	pop LANG
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l3753
	push ""
	pop LANG
	jmp l3752
l3753:
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l3752:
	call claskexit,reload
	end method
	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 14000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	push "scripts/common/buts.db"
	call dbb,load
	new snd,sndfxglobon
	push "sounds/sfx/globbutmovon.wav"
	call sndfxglobon,load
	push 50
	call sndfxglobon,setvol
	new def,bvisible
	push 1
	pop bvisible
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3755
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l3756:
	push $4
	push $3
	cmpjl
	cmp0
	je l3757
	jmp l3759
l3758:
	add $4,1
	pop $4
	jmp l3756
l3759:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l3758
l3757:
l3755:
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	push $1
	spushs
	push "ok"
	cmpst
	jne l3761
	spop $a
	cthis cbok_MOVEON
	jmp l3760
l3761:
	push "help"
	cmpst
	je l3763
	push "help2"
	cmpst
	je l3763
	jmp l3762
l3763:
	spop $a
	cthis cbhelp_MOVEON
	jmp l3760
l3762:
	spop $a
l3760:
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l3765
	call mouse,hide
l3765:
	push $1
	spushs
	push "ok"
	cmpst
	jne l3767
	spop $a
	cthis cbok_MOVEOFF
	jmp l3766
l3767:
	push "help"
	cmpst
	je l3769
	push "help2"
	cmpst
	je l3769
	jmp l3768
l3769:
	spop $a
	cthis cbhelp_MOVEOFF
	jmp l3766
l3768:
	spop $a
l3766:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	spushs
	push "pause"
	cmpst
	jne l3771
	spop $a
	call clpause,pause
	jmp l3770
l3771:
	push "exit"
	cmpst
	jne l3772
	spop $a
	call claskexit,askexittomenu
	jmp l3770
l3772:
	push "restart"
	cmpst
	jne l3773
	spop $a
	call claskexit,askrestart
	jmp l3770
l3773:
	push "ok"
	cmpst
	jne l3774
	spop $a
	cthis cbok_CLICK
	jmp l3770
l3774:
	push "help"
	cmpst
	je l3776
	push "help2"
	cmpst
	je l3776
	jmp l3775
l3776:
	spop $a
	cthis cbhelp_CLICK
	jmp l3770
l3775:
	spop $a
l3770:
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push 0
	pop igmstate
	push 0
	push 0
	push 0
	push 1
	pop igmbegin
	pop igmdemo
	pop igmeasy
	pop igmdebug
	call bsms,setstd
	call clbuts,load
	push "scripts/common/save.txt"
	new classfullsave,save
	call save,stdload
	push "scripts/common/cursors.pyz"
	call advmouse,load
	push "scripts/common/defaults.adv"
	call modadv,load
	push "scripts/common/sounds.db"
	call modadv,loadsounds
	push "snd"
	call modadv,settalktype
	push "scripts/common/initscript.dsc"
	call modadv,loadscript
	push "saves/global.txt"
	call clsave,load
	push "null"
	pop sgmlastscene
	push "sounds/sfx/getitem.wav"
	call _fxtakeitem,load
	push 50
	call _fxtakeitem,setvol
	push "main"
	call gameapi,play
	game main
	method init
	push "startgame:"
	push 1
	call modadv,get
	call gameapi,play
	end method
	end game

	class cTur
	method init
	push A
	push "typ"
	push "null"
	push "vi1"
	push 0
	push "vi2"
	push 0
	push "vs1"
	push "null"
	cthis vars2
	end method
	end class

	class cTurtle
	method init
	new real,X
	new real,Y
	new real,dir
	new real,dcos
	new real,dsin
	new real,da
	new int,bPen
	push 1
	pop bPen
	new int,bpion
	new int,bwrap
	push 1
	pop bwrap
	push A
	push "pR"
	push 0
	push "pG"
	push 0
	push "pB"
	push 0
	push "pW"
	push 1
	push "cR"
	push 255
	push "cG"
	push 255
	push "cB"
	push 255
	push "cX"
	push 20
	push "cY"
	push 10
	push "cW"
	push 400
	push "cH"
	push 400
	cthis vars2
	new img,imgdot
	cthis mkdot
	call imgdot,hide
	new img,imgcan
	call imgcan,cTurtle0
	cthis mkcan
	cthis reset
	end method
	method cTurtle0
	push cX
	push cY
	cthis setpos
	push 10
	cthis setz
	end method
	method goto
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	end method
	method gox
	localreal $1
	pop $1
	push $1
	push Y
	cthis goto
	end method
	method goy
	localreal $1
	pop $1
	push X
	push $1
	cthis goto
	end method
	method center
	push cW
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push cH
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis goto
	end method
	method reset
	push 90
	cthis dir=
	cthis center
	cthis show
	cthis wrapon
	end method
	method dir=
	localint $1
	pop $1
	push $1
	push 360
	pop $b
	popax
	div $a,$b
	push $d
	pop dir
	push dir
	push 0
	cmpjl
	cmp0
	je l3778
	push 360
	popax
	add dir,$a
	pop dir
l3778:
	push dir
	spushs
	spop $h
	call $h,cos
	pop dcos
	push dir
	spushs
	spop $h
	call $h,sin
	pop dsin
	call dcos,abs
	push 0
	cmpja
	cmp0
	je l3780
	push 0
	pop bpion
	push dsin
	push dcos
	pop $b
	popax
	div $a,$b
	psax
	pop da
	jmp l3779
l3780:
	push 1
	pop bpion
l3779:
	end method
	method tl
	localint $1
	pop $1
	push dir
	push $1
	pop $b
	popax
	add $a,$b
	cthis dir=
	end method
	method tr
	localint $1
	pop $1
	push dir
	push $1
	pop $b
	popax
	sub $a,$b
	cthis dir=
	end method
	method putpixel
	localreal $1
	localreal $2
	pop $2
	pop $1
	push bPen
	cmp0
	je l3782
	push $1
	push $2
	call imgdot,setpos
	push "imgdot"
	call imgcan,blit
l3782:
	end method
	method fw
	localreal $1
	pop $1
	localreal $2
	call $1,abs
	pop $2
	localint $3
	push 0
	pop $3
	push $1
	push 0
	cmpjl
	cmp0
	je l3784
	push 180
	cthis tl
l3784:
	push $2
	push 5000
	cmpja
	cmp0
	je l3786
	push "outofrange"
	cthis merr
	ret
l3786:
	localreal $4
	push X
	pop $4
	localreal $5
	push Y
	pop $5
	localreal $6
	localreal $7
	push cX
	popax
	sub 0,$a
	push cY
	popax
	sub 0,$a
	call imgcan,move
	push bpion
	cmp0
	je l3788
	push dir
	push 0
	cmpja
	cmp0
	je l3789
	push dir
	push 180
	cmpjl
	jmp l3791
l3789:
	push 0
	jmp l3791
l3790:
	push 1
l3791:
	cmp0
	je l3793
	push 1
	popax
	sub 0,$a
	jmp l3792
l3793:
	push 1
l3792:
	pop $7
	push 0
	pop $6
	jmp l3787
l3788:
	call da,abs
	push 1
	cmpjle
	cmp0
	je l3795
	push dir
	push 90
	cmpja
	cmp0
	je l3796
	push dir
	push 270
	cmpjl
	jmp l3798
l3796:
	push 0
	jmp l3798
l3797:
	push 1
l3798:
	cmp0
	je l3800
	push 1
	popax
	sub 0,$a
	jmp l3799
l3800:
	push 1
l3799:
	pop $6
	call da,abs
	pop $7
	push dir
	push 0
	cmpja
	cmp0
	je l3802
	push dir
	push 180
	cmpjl
	jmp l3804
l3802:
	push 0
	jmp l3804
l3803:
	push 1
l3804:
	cmp0
	je l3805
	push $7
	popax
	sub 0,$a
	pop $7
l3805:
	jmp l3794
l3795:
	push 1.0
	call da,abs
	pop $b
	popax
	div $a,$b
	psax
	pop $6
	push dir
	push 90
	cmpja
	cmp0
	je l3807
	push dir
	push 270
	cmpjl
	jmp l3809
l3807:
	push 0
	jmp l3809
l3808:
	push 1
l3809:
	cmp0
	je l3810
	push $6
	popax
	sub 0,$a
	pop $6
l3810:
	push dir
	push 0
	cmpja
	cmp0
	je l3811
	push dir
	push 180
	cmpjl
	jmp l3813
l3811:
	push 0
	jmp l3813
l3812:
	push 1
l3813:
	cmp0
	je l3815
	push 1
	popax
	sub 0,$a
	jmp l3814
l3815:
	push 1
l3814:
	pop $7
l3794:
l3787:
	localreal $8
	push $6
	push $7
	call da,length
	pop $8
	push bwrap
	cmp0
	je l3817
	push $4
	push 0
	cmpjl
	cmp0
	je l3819
	push cW
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	jmp l3818
l3819:
	push $4
	push cW
	cmpjae
	cmp0
	je l3821
	push 0
	pop $4
l3821:
l3818:
	push $5
	push 0
	cmpjl
	cmp0
	je l3823
	push cH
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
	jmp l3822
l3823:
	push $5
	push cH
	cmpjae
	cmp0
	je l3825
	push 0
	pop $5
l3825:
l3822:
	push $4
	push $5
	cthis putpixel
	jmp l3816
l3817:
	push $4
	push 0
	cmpjae
	cmp0
	je l3827
	push $4
	push cW
	cmpjl
	cmp0
	je l3827
	push $5
	push 0
	cmpjae
	cmp0
	je l3827
	push $5
	push cH
	cmpjl
	jmp l3829
l3827:
	push 0
	jmp l3829
l3828:
	push 1
l3829:
	cmp0
	je l3830
	push $4
	push $5
	cthis putpixel
l3830:
l3816:
l3831:
	push $2
	push 0
	cmpja
	cmp0
	je l3832
	push bpion
	cmp0
	je l3834
	push $7
	popax
	add $5,$a
	pop $5
	jmp l3833
l3834:
	push $6
	popax
	add $4,$a
	pop $4
	push $7
	popax
	add $5,$a
	pop $5
l3833:
	push bwrap
	cmp0
	je l3836
	push $4
	push 0
	cmpjl
	cmp0
	je l3838
	push cW
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	jmp l3837
l3838:
	push $4
	push cW
	cmpjae
	cmp0
	je l3840
	push 0
	pop $4
l3840:
l3837:
	push $5
	push 0
	cmpjl
	cmp0
	je l3842
	push cH
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
	jmp l3841
l3842:
	push $5
	push cH
	cmpjae
	cmp0
	je l3844
	push 0
	pop $5
l3844:
l3841:
	push $4
	push $5
	cthis putpixel
	jmp l3835
l3836:
	push $4
	push 0
	cmpjae
	cmp0
	je l3846
	push $4
	push cW
	cmpjl
	cmp0
	je l3846
	push $5
	push 0
	cmpjae
	cmp0
	je l3846
	push $5
	push cH
	cmpjl
	jmp l3848
l3846:
	push 0
	jmp l3848
l3847:
	push 1
l3848:
	cmp0
	je l3849
	push $4
	push $5
	cthis putpixel
l3849:
l3835:
	push $8
	popax
	sub $2,$a
	pop $2
	jmp l3831
l3832:
	push cX
	push cY
	call imgcan,move
	push $4
	push $5
	cthis goto
	push $1
	push 0
	cmpjl
	cmp0
	je l3851
	push 180
	cthis tr
l3851:
	end method
	method bw
	localreal $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis fw
	end method
	method turshow
	end method
	method turhide
	end method
	method show
	call imgcan,show
	end method
	method hide
	call imgcan,hide
	end method
	method penup
	push 0
	pop bPen
	end method
	method pendown
	push 1
	pop bPen
	end method
	method canvascolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push 0
	push $1
	push 255
	cthis between
	pop cR
	push 0
	push $2
	push 255
	cthis between
	pop cG
	push 0
	push $3
	push 255
	cthis between
	pop cB
	cthis mkcan
	end method
	method pencolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push 0
	push $1
	push 255
	cthis between
	pop pR
	push 0
	push $2
	push 255
	cthis between
	pop pG
	push 0
	push $3
	push 255
	cthis between
	pop pB
	cthis mkdot
	end method
	method penwidth
	localint $1
	pop $1
	push 1
	push $1
	push 20
	cthis between
	pop pW
	cthis mkdot
	end method
	method wrapon
	push 1
	pop bwrap
	end method
	method wrapoff
	push 0
	pop bwrap
	end method
	method mkdot
	push pW
	push pW
	push pR
	push pG
	push pB
	push 255
	call imgdot,create
	end method
	method mkcan
	push cW
	push cH
	push cR
	push cG
	push cB
	push 255
	call imgcan,create
	end method
	method prepare
	push 0
	pop pR
	push 0
	pop pG
	push 0
	pop pB
	push 1
	pop pW
	push 255
	pop cR
	push 255
	pop cG
	push 255
	pop cB
	cthis mkdot
	cthis mkcan
	end method
	end class

	game Turtle
	parent Computro
	method init
	push "turtle"
	clparent Computro,init
	new string,Code
	push "Code"
	clparent Lexer,setas
	new db,dbcode
	new vector,vcode
	push "string"
	call vcode,type
	new int,Line
	push 0
	pop Line
	new string,sError
	new int,iState
	push 0
	pop iState
	push "real"
	new map,cvars
	new real,iarg1
	new real,iarg2
	new real,iarg3
	push "dbparse"
	push "parser"
	cthis lang_db
	new int,ifstack
	new cTurtle,ctur
	new def,ifontsize
	push 10
	pop ifontsize
	push "fnkod"
	push ifontsize
	cthis monofont
	new def,stdfont
	push sgmfontfile
	push ifontsize
	cthis snewfont
	pop stdfont
	push "fnkod"
	push ifontsize
	push 0.6
	push ifontsize
	pop $b
	popax
	mul $a,$b
	cthis black
	push "at0; ,[](){}-+_/=#<>*.\"\\!?%:&"
	push 495
	push 30
	push 282
	push 800
	push 2
	new GUITextBoxTyper,ttk
	push 100
	call ttk,setz
	push A
	push "for"
	push "repeat"
	push "to"
	push "("
	push ")"
	push "["
	push "]"
	push "/"
	push "%"
	push "*"
	push "+"
	push "-"
	push "="
	push ","
	push "#"
	call Code,consts=
	new RPN,rpn
	new img,imgbg
	push 800
	push 600
	push 192
	push 192
	push 255
	push 255
	call imgbg,create
	new int,iParseDelay
	push 10
	pop iParseDelay
	push "timparse"
	push iParseDelay
	push "mparse"
	cthis timer=
	call ctur,prepare
	localdef $1
	push 8
	pop $1
	push "butgame"
	new GUI,gui
	push "rewcode"
	push 493
	push 28
	push 0
	push 500
	push "ttk"
	call gui,newrewinder
	push "rewcode"
	call ttk,setrewinder
	push "butstart"
	push "START"
	push 80
	push 25
	call gui,newbutton
	push "butstop"
	push "STOP"
	push 80
	push 25
	call gui,newbutton
	push "butspeed1"
	push "x1"
	push 25
	push 25
	call gui,newbutton
	push "butspeed2"
	push "x2"
	push 25
	push 25
	call gui,newbutton
	push "butspeed3"
	push "x3"
	push 25
	push 25
	call gui,newbutton
	call rewcodebg,getpx
	call rewcodebg,getey
	push 4
	pop $b
	popax
	add $a,$b
	call butstart,setpos
	call butstart,getex
	push 4
	pop $b
	popax
	add $a,$b
	call butstart,getpy
	call butstop,setpos
	call butstop,getex
	push 14
	pop $b
	popax
	add $a,$b
	call butstart,getpy
	call butspeed1,setpos
	call butspeed1,getex
	push 4
	pop $b
	popax
	add $a,$b
	call butstart,getpy
	call butspeed2,setpos
	call butspeed2,getex
	push 4
	pop $b
	popax
	add $a,$b
	call butstart,getpy
	call butspeed3,setpos
	new string,sbutclick
	push "null"
	pop sbutclick
	call butspeed3,butclick
	push "wincode"
	call rewcodebg,getw
	call rewcodebg,geth
	call gui,newwndtext
	call rewcodebg,getpx
	call rewcodebg,getpy
	call wincode,setpos
	push "wincode"
	call rewcodebg,blit
	push "wincode"
	call gui,delobj
	new img,imgpars
	call ttk,W
	push 10
	pop $b
	popax
	sub $a,$b
	push ifontsize
	cthis yellow
	push 255
	call imgpars,create
	call imgpars,hide
	push "wintxt"
	push 420
	push 170
	call gui,newwnd
	push 20
	push 420
	call wintxt,setpos
	push "txtzolw"
	cthis mturtleoutput
	push stdfont
	cthis black
	cthis newtext
	call wintxt,getpx
	push 20
	pop $b
	popax
	add $a,$b
	call wintxt,getey
	call txtzolw,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call txtzolw,setpos
	push "txtpars"
	cthis mparseoutput
	push stdfont
	cthis black
	cthis newtext
	call wintxt,getpx
	push 20
	pop $b
	popax
	add $a,$b
	call txtzolw,getpy
	call txtpars,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call txtpars,setpos
	new int,izadanie
	push 1
	pop izadanie
	push "dbprog"
	push "progs"
	cthis lang_db
	push "dbzad"
	push "zad"
	cthis lang_db
	push "txt"
	new LangTxt,ltxt
	push "butnext"
	push "next"
	call ltxt,get
	push 150
	push 25
	call gui,newbutton
	push "butprev"
	push "prev"
	call ltxt,get
	push 150
	push 25
	call gui,newbutton
	call wintxt,getex
	push 10
	pop $b
	popax
	add $a,$b
	call wintxt,getey
	call butnext,geth
	pop $b
	popax
	sub $a,$b
	call butprev,setpos
	call butprev,getex
	push 10
	pop $b
	popax
	add $a,$b
	call butprev,getpy
	call butnext,setpos
	cthis mloadzad
	push "mstart"
	call ccs,enter
	end method
	method mparseoutput
	push "Parser output: "
	end method
	method mturtleoutput
	push "Turtle output: "
	end method
	method mloadzad
	push GAME
	spushs
	spop $a
	call [$a],Turtle0
	end method
	method Turtle0
	push igmdebug
	cmp0
	je l3853
	delete dbzad
	push "dbzad"
	push "zad"
	cthis lang_db
	delete dbprog
	push "dbprog"
	push "progs"
	cthis lang_db
l3853:
	push "dbprog"
	push "--start_"
	push izadanie
	pop $b
	popax
	add $a,$b
	push "--"
	pop $b
	popax
	add $a,$b
	push "--end_"
	push izadanie
	pop $b
	popax
	add $a,$b
	push "--"
	pop $b
	popax
	add $a,$b
	call ttk,copyfromdbss
	push "rewzad"
	call gui,hasvar
	cmp0
	je l3855
	push A
	push "rewzad"
	push "winzad"
	call gui,dellist
l3855:
	localdef $1
	call wintxt,getpx
	push 10
	pop $b
	popax
	add $a,$b
	pop $1
	localdef $2
	call wintxt,getpy
	push 10
	pop $b
	popax
	add $a,$b
	pop $2
	push stdfont
	push ifontsize
	push "$row:dbzad,"
	push izadanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	cthis black
	push $1
	push 2
	pop $b
	popax
	add $a,$b
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	push 2
	call wintxt,getz
	push 10
	pop $b
	popax
	add $a,$b
	push "left"
	new TextDb,tdzad
	localdef $3
	call tdzad,getw
	push 4
	pop $b
	popax
	add $a,$b
	pop $3
	localdef $4
	call wintxt,getw
	push 36
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	cmpjl
	cmp0
	je l3857
	push $4
	pop $3
l3857:
	push "winzad"
	push $3
	call tdzad,geth
	push 4
	pop $b
	popax
	add $a,$b
	call gui,newwndtext
	push $1
	push $2
	call winzad,setpos
	push "winzad"
	call tdzad,blitto
	push 30
	call winzad,setz
	push "rewzad"
	push $1
	push 2
	pop $b
	popax
	sub $a,$b
	push $2
	push 2
	pop $b
	popax
	sub $a,$b
	push $4
	call txtpars,getpy
	push $2
	pop $b
	popax
	sub $a,$b
	push 27
	pop $b
	popax
	sub $a,$b
	push "winzad"
	call gui,newrewinder
	push "tdzad"
	cthis deletegmobj
	end method
	method mout
	localstring $1
	pop $1
	cthis mparseoutput
	push $1
	pop $b
	popax
	add $a,$b
	call txtpars,txtset
	end method
	method merr
	localstring $1
	pop $1
	localdef $2
	push $1
	call dbparse,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3859
	push $2
	push 1
	call dbparse,get
	popax
	add sError,$a
	pop sError
l3859:
	end method
	method merr2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis merr
	push $2
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add sError,$a
	pop sError
	end method
	method mload
	localint $1
	pop $1
	call rpn,end
	cmp0
	je l3861
	call rpn,error
	spushs
	push 0
	cmpst
	jne l3863
	spop $a
	push "iarg"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	call rpn,count
	spop $b
	popax
	mov [$b],$a
	call rpn,error
	push 0
	cmpjne
	cmp0
	je l3865
	push "null"
	call rpn,perror
	push "; "
	pop $b
	popax
	add $a,$b
	cthis merr2
	push 0
	ret
	jmp l3864
l3865:
	call rpn,start
	push 1
	ret
l3864:
	jmp l3862
l3863:
	spop $a
	push "null"
	call rpn,perror
	push "; "
	pop $b
	popax
	add $a,$b
	cthis merr2
l3862:
	jmp l3860
l3861:
	push "exexpr"
	cthis merr
l3860:
	push 0
	end method
	method readarg
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 0
	cthis readarg2
	end method
	method readarg2
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localint $6
	push 1
	pop $6
	call rpn,start
	localint $7
	push $1
	pop $7
l3866:
	push $7
	call vcode,size
	cmpjl
	cmp0
	je l3867
	jmp l3869
l3868:
	add $7,1
	pop $7
	jmp l3866
l3869:
	push $7
	call vcode,get
	spushs
	push "$int"
	cmpst
	je l3872
	push "$real"
	cmpst
	je l3872
	jmp l3871
l3872:
	spop $a
	add $7,1
	pop $7
	push $7
	call vcode,get
	call rpn,num
	jmp l3870
l3871:
	push "$const"
	cmpst
	jne l3873
	spop $a
	add $7,1
	pop $7
	push $7
	call vcode,get
	spushs
	push "+"
	cmpst
	je l3876
	push "-"
	cmpst
	je l3876
	push "*"
	cmpst
	je l3876
	push "/"
	cmpst
	je l3876
	push "%"
	cmpst
	je l3876
	push "("
	cmpst
	je l3876
	push ")"
	cmpst
	je l3876
	jmp l3875
l3876:
	spop $a
	push $7
	call vcode,get
	call rpn,op
	jmp l3874
l3875:
	push ","
	cmpst
	jne l3877
	spop $a
	add $6,1
	pop $6
	push $6
	push $2
	cmpjle
	cmp0
	je l3879
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mload
	neg
	cmp0
	je l3881
	push 0
	ret
l3881:
	jmp l3878
l3879:
	push "unex,"
	cthis merr
	push 0
	ret
l3878:
	jmp l3874
l3877:
	push "["
	cmpst
	jne l3882
	spop $a
	push $3
	cmp0
	je l3884
	localdef $8
	push $6
	cthis mload
	pop $8
	push $6
	push $2
	cmpje
	cmp0
	je l3886
	push $7
	ret
	jmp l3885
l3886:
	push 0
	ret
l3885:
	jmp l3883
l3884:
	push "unexfr"
	push "["
	cthis merr2
	push 0
	ret
l3883:
	jmp l3874
l3882:
	push "to"
	cmpst
	jne l3887
	spop $a
	push $4
	cmp0
	je l3889
	localdef $8
	push $6
	cthis mload
	pop $8
	push $6
	push $2
	cmpje
	cmp0
	je l3891
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	ret
	jmp l3890
l3891:
	push 0
	ret
l3890:
	jmp l3888
l3889:
	push "unexfr"
	push "to"
	cthis merr2
	push 0
	ret
l3888:
	jmp l3874
l3887:
	spop $a
	push "unexfr"
	push $7
	call vcode,get
	cthis merr2
	push 0
	ret
l3874:
	jmp l3870
l3873:
	push "$alpha"
	cmpst
	jne l3892
	spop $a
	add $7,1
	pop $7
	push $7
	call vcode,get
	pop $5
	push $5
	call cvars,contains
	cmp0
	je l3894
	push $5
	call cvars,get
	call rpn,num
	jmp l3893
l3894:
	push "novar"
	push $5
	cthis merr2
	push 0
	ret
l3893:
	jmp l3870
l3892:
	spop $a
	push "unexfr"
	push $7
	call vcode,get
	cthis merr2
	push 0
	ret
l3870:
	jmp l3868
l3867:
	localdef $8
	push $6
	cthis mload
	pop $8
	push $6
	push $2
	cmpje
	cmp0
	je l3896
	push $8
	jmp l3895
l3896:
	push "lowargs"
	cthis merr
	push 0
l3895:
	end method
	method mparse
	localstring $1
	localint $2
	localint $3
	localstring $4
	call vcode,free
	localint $5
	push Line
	pop $5
l3897:
	push $5
	call ttk,Rows
	cmpjl
	cmp0
	je l3898
	jmp l3900
l3899:
	add $5,1
	pop $5
	jmp l3897
l3900:
	push $5
	call ttk,getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpja
	cmp0
	je l3902
	push $5
	call ttk,updaterewpos
	call imgpars,show
	push $5
	call ttk,idpx
	push $5
	call ttk,idpy
	call imgpars,setpos
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	pop Line
	push $1
	call Code,start
	push "vcode"
	push 1
	call Code,gettoken
	push 0
	call vcode,get
	spushs
	push "$const"
	cmpst
	jne l3904
	spop $a
	push 1
	call vcode,get
	spushs
	push "for"
	cmpst
	jne l3906
	spop $a
	push 1
	call vcode,vecchecknext
	push "$alpha"
	cmpje
	cmp0
	je l3908
	push 3
	call vcode,get
	pop $1
	push 3
	call vcode,vecchecknext
	push "$const"
	cmpje
	cmp0
	je l3910
	push 4
	call vcode,vecchecknext
	push "="
	cmpje
	jmp l3912
l3910:
	push 0
	jmp l3912
l3911:
	push 1
l3912:
	cmp0
	je l3913
	push 6
	push 1
	push 0
	push 1
	cthis readarg2
	pop $2
	push $2
	cmp0
	je l3915
	push iarg1
	pop $3
	push $2
	push 1
	push 1
	push 0
	cthis readarg2
	pop $2
	push $2
	cmp0
	je l3917
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call vcode,size
	cmpjae
	jmp l3919
l3917:
	push 0
	jmp l3919
l3918:
	push 1
l3919:
	cmp0
	je l3920
	push $1
	push $3
	call cvars,set
	push GAME
	spushs
	push $1
	push iarg1
	spop $a
	call [$a],mpushfor
	jmp l3916
l3920:
	push "badfor4"
	cthis merr
l3916:
	jmp l3914
l3915:
	push "badfor3"
	cthis merr
l3914:
	jmp l3909
l3913:
	push "badfor2"
	cthis merr
l3909:
	jmp l3907
l3908:
	push "badfor"
	cthis merr
l3907:
	jmp l3905
l3906:
	push "repeat"
	cmpst
	jne l3921
	spop $a
	push 2
	push 1
	push 1
	push 0
	cthis readarg2
	cmp0
	je l3923
	push iarg1
	push 0
	cmpjle
	cmp0
	je l3925
	push "badrepeat2"
	cthis merr
	jmp l3924
l3925:
	push GAME
	spushs
	push iarg1
	spop $a
	call [$a],mpushrep
l3924:
	jmp l3922
l3923:
	push "badrepeat"
	cthis merr
l3922:
	jmp l3905
l3921:
	push "]"
	cmpst
	jne l3926
	spop $a
	call vcode,size
	push 2
	cmpja
	cmp0
	je l3928
	push "only]"
	cthis merr
	jmp l3927
l3928:
	push ifstack
	push 0
	cmpja
	cmp0
	je l3930
	push "_ctur"
	push ifstack
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],typ
	spushs
	push "for"
	cmpst
	jne l3932
	spop $a
	push $1
	spushs
	spop $a
	call [$a],vs1
	pop $4
	push $4
	call cvars,get
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],vi1
	cmpjae
	cmp0
	je l3934
	push $4
	call cvars,remove
	push GAME
	spushs
	spop $a
	call [$a],mpop
	jmp l3933
l3934:
	push $4
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call cvars,set
	push $1
	spushs
	spop $a
	call [$a],vi2
	pop Line
l3933:
	jmp l3931
l3932:
	push "repeat"
	cmpst
	jne l3935
	spop $a
	push $1
	spushs
	spop $a
	call [$a],vi1
	pop $2
	sub $2,1
	pop $2
	push $2
	cmp0
	je l3937
	push $1
	spushs
	push $2
	spop $a
	call [$a],vi1=
	push $1
	spushs
	spop $a
	call [$a],vi2
	pop Line
	jmp l3936
l3937:
	push GAME
	spushs
	spop $a
	call [$a],mpop
l3936:
	jmp l3931
l3935:
	spop $a
l3931:
	jmp l3929
l3930:
	push "nostart"
	cthis merr
l3929:
l3927:
	jmp l3905
l3926:
	push "#"
	cmpst
	jne l3938
	spop $a
	jmp l3905
l3938:
	spop $a
	push "wrongcmd"
	push 1
	call vcode,get
	cthis merr2
l3905:
	jmp l3903
l3904:
	push "$alpha"
	cmpst
	jne l3939
	spop $a
	push 1
	call vcode,get
	spushs
	push "forward"
	cmpst
	jne l3941
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3943
	push iarg1
	call ctur,fw
	jmp l3942
l3943:
	push "forward"
	cthis merr
l3942:
	jmp l3940
l3941:
	push "backward"
	cmpst
	jne l3944
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3946
	push iarg1
	call ctur,bw
	jmp l3945
l3946:
	push "backward"
	cthis merr
l3945:
	jmp l3940
l3944:
	push "turnleft"
	cmpst
	jne l3947
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3949
	push iarg1
	call ctur,tl
	jmp l3948
l3949:
	push "turnleft"
	cthis merr
l3948:
	jmp l3940
l3947:
	push "turnright"
	cmpst
	jne l3950
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3952
	push iarg1
	call ctur,tr
	jmp l3951
l3952:
	push "turnright"
	cthis merr
l3951:
	jmp l3940
l3950:
	push "direction"
	cmpst
	jne l3953
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3955
	push iarg1
	push 90
	pop $b
	popax
	add $a,$b
	call ctur,dir=
	jmp l3954
l3955:
	push "direction"
	cthis merr
l3954:
	jmp l3940
l3953:
	push "center"
	cmpst
	jne l3956
	spop $a
	call ctur,center
	jmp l3940
l3956:
	push "go"
	cmpst
	jne l3957
	spop $a
	push 2
	push 2
	cthis readarg
	cmp0
	je l3959
	push iarg1
	push iarg2
	call ctur,goto
	jmp l3958
l3959:
	push "go"
	cthis merr
l3958:
	jmp l3940
l3957:
	push "gox"
	cmpst
	jne l3960
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3962
	push iarg1
	call ctur,gox
	jmp l3961
l3962:
	push "gox"
	cthis merr
l3961:
	jmp l3940
l3960:
	push "goy"
	cmpst
	jne l3963
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3965
	push iarg1
	call ctur,goy
	jmp l3964
l3965:
	push "goy"
	cthis merr
l3964:
	jmp l3940
l3963:
	push "print"
	cmpst
	jne l3966
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3968
	cthis mturtleoutput
	push iarg1
	pop $b
	popax
	add $a,$b
	call txtzolw,txtset
	jmp l3967
l3968:
	push "print"
	cthis merr
l3967:
	jmp l3940
l3966:
	push "penup"
	cmpst
	jne l3969
	spop $a
	call ctur,penup
	jmp l3940
l3969:
	push "pendown"
	cmpst
	jne l3970
	spop $a
	call ctur,pendown
	jmp l3940
l3970:
	push "show"
	cmpst
	jne l3971
	spop $a
	call ctur,turshow
	jmp l3940
l3971:
	push "hide"
	cmpst
	jne l3972
	spop $a
	call ctur,turhide
	jmp l3940
l3972:
	push "wrapon"
	cmpst
	jne l3973
	spop $a
	call ctur,wrapon
	jmp l3940
l3973:
	push "wrapoff"
	cmpst
	jne l3974
	spop $a
	call ctur,wrapoff
	jmp l3940
l3974:
	push "pencolor"
	cmpst
	jne l3975
	spop $a
	push 2
	push 3
	cthis readarg
	cmp0
	je l3977
	push iarg1
	push iarg2
	push iarg3
	call ctur,pencolor
	jmp l3976
l3977:
	push "pencolor"
	cthis merr
l3976:
	jmp l3940
l3975:
	push "penwidth"
	cmpst
	jne l3978
	spop $a
	push 2
	push 1
	cthis readarg
	cmp0
	je l3980
	push iarg1
	call ctur,penwidth
	jmp l3979
l3980:
	push "penwidth"
	cthis merr
l3979:
	jmp l3940
l3978:
	push "canvascolor"
	cmpst
	jne l3981
	spop $a
	push 2
	push 3
	cthis readarg
	cmp0
	je l3983
	push iarg1
	push iarg2
	push iarg3
	call ctur,canvascolor
	jmp l3982
l3983:
	push "canvascolor"
	cthis merr
l3982:
	jmp l3940
l3981:
	spop $a
	push 1
	call vcode,vecchecknext
	push "$const"
	cmpje
	cmp0
	je l3985
	push 2
	call vcode,vecchecknext
	push "="
	cmpje
	cmp0
	je l3985
	push 4
	push 1
	cthis readarg
	jmp l3987
l3985:
	push 0
	jmp l3987
l3986:
	push 1
l3987:
	cmp0
	je l3988
	push 1
	call vcode,get
	push iarg1
	call cvars,set
	jmp l3984
l3988:
	push "wrongcmd"
	push 1
	call vcode,get
	cthis merr2
l3984:
l3940:
	jmp l3903
l3939:
	spop $a
	push "wrongcmd"
	cthis merr
l3903:
	push sError
	push ""
	cmpje
	cmp0
	je l3990
	push iState
	push 0
	cmpje
	cmp0
	je l3992
	call timparse,play
l3992:
	jmp l3989
l3990:
	push sError
	cthis mout
	push GAME
	spushs
	spop $a
	call [$a],mflush
	push 2
	pop iState
l3989:
	ret
l3902:
	jmp l3899
l3898:
	push ifstack
	push 0
	cmpja
	cmp0
	je l3994
	push "noend"
	cthis merr
	push 2
	pop iState
	jmp l3993
l3994:
	push "OK"
	cthis merr
	push 3
	pop iState
l3993:
	push sError
	cthis mout
	cthis startwrite
	end method
	method mpush
	add ifstack,1
	pop ifstack
	localdef $1
	push "_ctur"
	push ifstack
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new cTur,[$e]
	push $1
	end method
	method mpushrep
	localint $1
	pop $1
	push ifstack
	push 50
	cmpjl
	cmp0
	je l3996
	localdef $2
	cthis mpush
	pop $2
	push $2
	spushs
	push "repeat"
	spop $a
	call [$a],typ=
	push $2
	spushs
	push $1
	spop $a
	call [$a],vi1=
	push $2
	spushs
	push Line
	spop $a
	call [$a],vi2=
l3996:
	end method
	method mpushfor
	localstring $1
	localint $2
	pop $2
	pop $1
	push ifstack
	push 50
	cmpjl
	cmp0
	je l3998
	localdef $3
	cthis mpush
	pop $3
	push $3
	spushs
	push "for"
	spop $a
	call [$a],typ=
	push $3
	spushs
	push $1
	spop $a
	call [$a],vs1=
	push $3
	spushs
	push $2
	spop $a
	call [$a],vi1=
	push $3
	spushs
	push Line
	spop $a
	call [$a],vi2=
l3998:
	end method
	method mpop
	push ifstack
	push 0
	cmpja
	cmp0
	je l4000
	push "_ctur"
	push ifstack
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	sub ifstack,1
	pop ifstack
l4000:
	end method
	method mflush
l4001:
	push ifstack
	push 0
	cmpja
	cmp0
	je l4002
	cthis mpop
	jmp l4001
l4002:
	end method
	method mstop
	push 0
	call timparse,stop
	cthis mflush
	delete cvars
	push "real"
	new map,cvars
	end method
	method mstart
	call ttk,enable
	push ""
	pop sError
	push 0
	pop ifstack
	push 1
	pop igmstate
	call imgpars,hide
	end method
	method meval
	call ctur,reset
	cthis mturtleoutput
	call txtzolw,txtset
	push 0
	pop Line
	push 2
	pop igmstate
	push iParseDelay
	call timparse,delay
	push 0
	pop iState
	call ttk,disable
	push iState
	push 0
	cmpje
	cmp0
	je l4004
	cthis mparse
	jmp l4003
l4004:
l4005:
	push iState
	push 1
	cmpje
	cmp0
	je l4006
	cthis mparse
	jmp l4005
l4006:
l4003:
	end method
	method unclicklastspeed
	localint $1
	localint $2
	pop $2
	pop $1
	push sbutclick
	push "null"
	cmpjne
	cmp0
	je l4008
	push sbutclick
	spushs
	spop $a
	call [$a],unclick
l4008:
	push "butspeed"
	push $1
	pop $b
	popax
	add $a,$b
	pop sbutclick
	push $2
	pop iParseDelay
	push iParseDelay
	call timparse,delay
	end method
	method butspeed1_lclick
	push 1
	push 1
	cthis unclicklastspeed
	end method
	method butspeed2_lclick
	push 2
	push 60
	cthis unclicklastspeed
	end method
	method butspeed3_lclick
	push 3
	push 300
	cthis unclicklastspeed
	end method
	method butstart_lclick
	call butstart,unclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4010
	call ctur,prepare
	push GAME
	spushs
	spop $a
	call [$a],meval
l4010:
	end method
	method startwrite
	push GAME
	spushs
	spop $a
	call [$a],Turtle1
	end method
	method Turtle1
	cthis mstop
	cthis mstart
	end method
	method butstop_lclick
	call butstop,unclick
	push igmstate
	push 2
	cmpje
	cmp0
	je l4012
	cthis startwrite
l4012:
	end method
	method butnext_lclick
	call butnext,unclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4014
	push izadanie
	push 10
	cmpjl
	cmp0
	je l4016
	add izadanie,1
	pop izadanie
	cthis mloadzad
	jmp l4015
l4016:
	push 0
	pop igmstate
	push "Turtle2"
	call ccs,close
l4015:
l4014:
	end method
	method Turtle2
	push PrzygodaMode
	cmp0
	je l4018
	push "adxvsala"
	push "gameadxvsala2"
	cthis gotoadv
	jmp l4017
l4018:
	push "Menu"
	call gameapi,play
l4017:
	end method
	method butprev_lclick
	call butprev,unclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4020
	push izadanie
	push 1
	cmpja
	cmp0
	je l4022
	sub izadanie,1
	pop izadanie
	cthis mloadzad
l4022:
l4020:
	end method
	end game

	game Obrazy
	parent Computro
	method init
	push "obrazy"
	clparent Computro,init
	new int,izadanie
	push 1
	pop izadanie
	new int,izad2
	push 0
	pop izad2
	new int,irpn
	push 3
	pop irpn
	new vector,vc1
	push "string"
	call vc1,type
	new vector,vc2
	push "string"
	call vc2,type
	new vector,vc3
	push "string"
	call vc3,type
	new vector,vv1
	push "string"
	call vv1,type
	new vector,vv2
	push "string"
	call vv2,type
	new vector,vv3
	push "string"
	call vv3,type
	new string,Code
	push "Code"
	clparent Lexer,setas
	push A
	push "("
	push ")"
	push "/"
	push "%"
	push "*"
	push "+"
	push "-"
	call Code,consts=
	new RPN,rpn
	new RPN,rpn1
	new RPN,rpn2
	new RPN,rpn3
	push "_rpn"
	push "_rpn"
	call rpn,addmethod
	new real,Cr1
	new real,Cg1
	new real,Cb1
	new real,Ct1
	new int,Cc1
	new int,Cc2
	new int,Cc3
	new int,bylenter
	push A
	push "bkg.pyz"
	push "z1.pyz 10"
	cthis imgs=
	push 19
	push 19
	call anz1,setpos
	new img,imz2
	cthis mloadz2
	new img,imz3
	call anz1,getw
	call anz1,geth
	cthis black
	push 255
	call imz3,create
	push "anz1"
	call imz3,convert
	call imz2,getex
	push 20
	pop $b
	popax
	add $a,$b
	call imz2,getpy
	call imz3,setpos
	push 240
	call imz3,setz
	call imz3,hide
	push 0
	push 0
	push 400
	push 250
	new gfxSquare,ghis
	call ghis,Obrazy0
	new vector,vhis
	new def,ifontsize
	push 10
	pop ifontsize
	push "fnkod"
	push ifontsize
	cthis monofont
	new def,stdfont
	push sgmfontfile
	push ifontsize
	cthis snewfont
	pop stdfont
	push "fnkod"
	push ifontsize
	push 0.6
	push ifontsize
	pop $b
	popax
	mul $a,$b
	cthis black
	push ""
	push 500
	push 30
	push 290
	push 500
	push 2
	new TextBoxTyper,ttk
	new img,imgred
	call imgred,Obrazy1
	push 100
	call ttk,setz
	push "txtr"
	push "r2 = "
	push stdfont
	cthis red
	cthis newtext
	push "txtg"
	push "g2 = "
	push stdfont
	cthis green
	cthis newtext
	push "txtb"
	push "b2 = "
	push stdfont
	cthis blue
	cthis newtext
	push "txtk"
	push "t1 = "
	push stdfont
	push 128
	push 128
	push 0
	cthis newtext
	call txtk,hide
	push "txtrh"
	push ""
	push stdfont
	push 70
	cthis grey
	cthis newtext
	push "txtgh"
	push ""
	push stdfont
	push 70
	cthis grey
	cthis newtext
	push "txtbh"
	push ""
	push stdfont
	push 70
	cthis grey
	cthis newtext
	new gmimgvec,grhelpy
	push A
	push "txtrh"
	push "txtgh"
	push "txtbh"
	call grhelpy,addlist
	cthis loadzad
	new classplacepointer2,clp
	push A
	push "sndintro"
	push "Witam w lekcji powiconej grafice komputerowej; Poznacie na niej najprostsze operacje przetwarzajce obrazy"
	push "Obrazy2"
	push "snd1"
	push "Bdziemy przetwarza to zdjcie"
	push "Obrazy3"
	push "snd2"
	push "A efekty oglda na tym obrazie"
	push "Obrazy4"
	push "snd3"
	push "Programista napisa tutaj program ktry"
	push "Obrazy5"
	push "snd4"
	push "Dla kadej kolumny obrazka pierwszego"
	push "Obrazy6"
	push "snd5"
	push "I dla kadego wiersza"
	push "Obrazy7"
	push "snd6"
	push "Pobiera kolor kolejnego piksela i zapamituje go w zmiennych r 1 g 1 i b 1"
	push "Obrazy8"
	push "snd7"
	push "Twoim zadaniem jest wyliczenie nowych wartoci kolorw piksela i przypisanie ich do zmiennych r 2 g 2 i b 2"
	push "Obrazy9"
	push "snd8"
	push "Nowo wyliczone kolory bd automatycznie ograniczone do zakresu od 0 do 255; Jeli na przykad wyliczysz now warto skadowej czerwonej jako 300 to zostanie ona przycita do maksymalnej dozwolonej wartoci 255"
	push "Obrazy10"
	push "snd9"
	push "Na koniec program wstawia do drugiego obrazka nowo wyliczony piksel"
	push "Obrazy11"
	push "snd10"
	push "Zaczynamy; Przeczytaj pierwsze zadanie i wpisz odpowiednie wartoci kolorw"
	push "Obrazy12"
	push "snd11"
	push "Kiedy uznasz e nowe kolory odpowiadaj treci zadania kliknij przycisk OK"
	push "Obrazy13"
	push "snd12"
	push "Jeli nie moesz poradzi sobie z zadaniem najed na przycisk pomoc"
	push "Obrazy14"
	push "sndok"
	push "Zadanie wykonane poprawnie"
	push "Obrazy15"
	push "sndnon"
	push "Co nie tak; Sprbuj ponownie"
	push "mstart"
	push "sndenter"
	push "Podaj przynajmniej jedn warto i wcinij klawisz enter"
	push "mstart"
	push "sndcheck"
	push "Generuj poprawny obrazek do porwnania"
	push "Obrazy16"
	push "sndprog"
	push "Poznamy teraz kolejny algorytm; Progowanie"
	push "Obrazy17"
	push "snd13"
	push "Tutaj podasz warto od 0 do 255 i wciniesz klawisz enter; Liczba bdzie odcieniem szarego koloru ktrego nazywamy progiem"
	push "Obrazy18"
	push "snd14"
	push "Pobieramy z obrazka 1 piksel i wyliczamy dla niego odpowiednik w szarym kolorze"
	push "Obrazy19"
	push "snd15"
	push "Jeli szary kolor jest ciemniejszy ni podany przez ciebie kolor progowy to zamieniamy go na czarny"
	push "Obrazy20"
	push "snd16"
	push "Jeli jest janiejszy od koloru progowego zamieniamy go na biay"
	push "Obrazy21"
	push "snd17"
	push "I zapisujemy na obrazku 2"
	push "Obrazy22"
	push "sndzoom"
	push "Poka teraz jak w prosty sposb pomniejszy obrazek"
	push "Obrazy23"
	push "snd18"
	push "Tutaj wpiszesz ile razy pomniejszy obrazek i wciniesz klawisz enter"
	push "Obrazy24"
	push "snd19"
	push "Zobaczmy teraz jak dziaa algorytm jeli wpiszesz na przykad 5"
	push "Obrazy25"
	push "snd20"
	push "Oto powikszony wycinek obrazka na ktrym widzimy oko"
	push "Obrazy28"
	push "snd21"
	push "Poniewa chcemy pomniejszy obraz piciokrotnie pobieramy piksele z kwadratu 5 na 5"
	push "Obrazy30"
	push "snd22"
	push "Pikseli jest 25; Dodajemy ich skadowe R G B i wyliczamy redni kolor tych pikseli"
	push "Obrazy32"
	push "snd23"
	push "Na tym obrazku bdziemy umieszczali wyliczone rednie piksele"
	push "Obrazy34"
	push "snd24"
	push "W ten sposb otrzymalimy piciokrotnie pomniejszone oko; Cho wydaje si ono cakowicie nieczytelne zobaczmy jaki bdzie efekt w normalnej skali"
	push "Obrazy37"
	push "snd25"
	push "Teraz dowiesz si co to jest histogram; Histogram atwiej bdzie nam zrozumie to na przykadzie szarego obrazka"
	push "Obrazy39"
	push "snd26"
	push "Szary kolor ma 256 odcieni; Od czerni ktrej odpowiada warto 0 do bieli ktrej odpowiada 255; Jeli policzymy wszystkie odcienie dla danego obrazka i wstawimy je do wykresu otrzymamy histogram"
	push "Obrazy40"
	push "snd27"
	push "Policzmy zatem odcienie szaroci prawego obrazka"
	push "Obrazy41"
	push "snd28"
	push "Oto histogram naszego obrazka; Po lewej stronie znajduj si ciemne kolory; Pierwszy supek od lewej oznacza liczb pikseli czarnych czyli o kolorze 0; Jak widzisz nasz obrazek nie posiada w ogle czarnych pikseli"
	push "Obrazy42"
	push "snd29"
	push "Wiksza grupa ciemnych pikseli nalecych gwnie do ta obrazka znajduje si dopiero w okolicach odcienia szaroci o wartoci 60"
	push "Obrazy43"
	push "snd30"
	push "Najczciej wystpujcym kolorem jest do jasny szary o wartoci 162"
	push "Obrazy44"
	push "snd31"
	push "Podobnie jak czarny rwnie czysto biay kolor nie wystpuje w tym obrazku"
	push "Obrazy45"
	push "snd32"
	push "Na przykadzie tej starej fotografii poka wam jakie korzyci pyn z analizy histogramu; Fotografia jest bardzo nieczytelna; Obejrzyjmy jej histogram"
	push "Obrazy46"
	push "snd33"
	push "Widzimy e piksele maj podobne odcienie i brakuje zarwno jasnych jak i ciemnych pikseli; Sprbujmy przyciemni zdjcie dzielc wartoci kolorw przez 2"
	push "Obrazy47"
	push "snd34"
	push "Zdjcie nie stao si wyraniejsze; Spjrzmy na histogram"
	push "Obrazy48"
	push "snd35"
	push "Histogram przesun si w kierunku pikseli ciemniejszych i zwy; Rozjanijmy teraz obrazek o 25 procent"
	push "Obrazy49"
	push "snd36"
	push "Wyglda troch lepiej; Spjrzmy na histogram"
	push "Obrazy50"
	push "snd37"
	push "Lekko rozcignity ksztat ale tym razem przesunity w kierunku odcieni jasnych; Rozjanijmy zatem o 50 procent"
	push "Obrazy51"
	push "snd38"
	push "Tym razem obrazek jeszcze mniej wyrany; Sprawdmy histogram"
	push "Obrazy52"
	push "snd39"
	push "No tak cz pikseli osigna maksymaln jasno i biel zdominowaa obrazek"
	push "Obrazy53"
	push "snd40"
	push "Komputer wykona teraz algorytm zwany wyrwnaniem histogramu; Algorytm rozcignie histogram na ca szeroko skali; Zobaczmy jeszcze raz oryginalny obrazek"
	push "Obrazy54"
	push "snd41"
	push "I jego histogram"
	push "Obrazy55"
	push "snd42"
	push "Rozpoczynamy rozcignie histogramu"
	push "Obrazy56"
	push "snd43"
	push "Nasza stara fotografia jest teraz wyraniejsza; Zobaczmy na histogramie co si stao"
	push "Obrazy57"
	push "snd44"
	push "Jak widzicie algorytm rozoy piksele od czarnych do biaych i dziki temu fotografia uzyskaa kontrast"
	push "Obrazy58"
	cthis sounds=
	push "Obrazy61"
	call ccs,enter
	end method
	method Obrazy0
	push 224
	cthis grey
	push 255
	cthis set
	cthis build
	push 2
	push 2
	cthis black
	push 255
	cthis border
	push 500
	cthis setz
	localdef $1
	cthis getw
	push 256
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localint $2
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l4023:
	push $2
	push $1
	push 257
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4024
	jmp l4026
l4025:
	add $2,1
	pop $2
	jmp l4023
l4026:
	push $2
	push 25
	cthis blue
	call imggfx,putrgb
	push $2
	push 226
	cthis blue
	call imggfx,putrgb
	jmp l4025
l4024:
	sub $1,1
	pop $1
	push 25
	pop $2
l4027:
	push $2
	push 227
	cmpjl
	cmp0
	je l4028
	jmp l4030
l4029:
	add $2,1
	pop $2
	jmp l4027
l4030:
	push $1
	push $2
	cthis blue
	call imggfx,putrgb
	push $1
	push 257
	pop $b
	popax
	add $a,$b
	push $2
	cthis blue
	call imggfx,putrgb
	jmp l4029
l4028:
	new img,imgx
	push 256
	push 200
	cthis white
	push 255
	call imgx,create
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	push 26
	call imgx,setpos
	call imgx,hide
	cthis hide
	push 200
	push 100
	cthis setpos
	end method
	method Obrazy1
	push 290
	push ifontsize
	cthis red
	push 192
	cthis create
	push 5
	cthis setz
	cthis hide
	end method
	method Obrazy2
	push "snd1"
	cthis cbplay
	push "anz1"
	push "ll"
	call clp,showob
	end method
	method Obrazy3
	push "snd2"
	cthis cbplay
	push "imz2"
	push "rr"
	call clp,showob
	end method
	method Obrazy4
	push 550
	push 50
	push "rr"
	call clp,show
	push "snd3"
	cthis cbplay
	end method
	method Obrazy5
	call clp,stoph
	push "snd4"
	cthis cbplay
	push 6
	cthis mline
	end method
	method Obrazy6
	push "snd5"
	cthis cbplay
	push 7
	cthis mline
	end method
	method Obrazy7
	push "snd6"
	cthis cbplay
	push 8
	cthis mline
	end method
	method Obrazy8
	push "snd7"
	cthis cbplay
	call txtg,getex
	call txtg,getpy
	push 5
	pop $b
	popax
	sub $a,$b
	push "rd"
	call clp,show
	cthis mln
	end method
	method Obrazy9
	push 16
	call ttk,idpx
	push 20
	pop $b
	popax
	add $a,$b
	push 16
	call ttk,idpy
	push "rd"
	call clp,show
	push "snd8"
	cthis cbplay
	end method
	method Obrazy10
	call clp,stoph
	push 21
	cthis mline
	push "snd9"
	cthis cbplay
	end method
	method Obrazy11
	cthis mln
	push "snd10"
	cthis cbplay
	push GAME
	spushs
	spop $a
	call [$a],nextex
	push "tdz"
	push "ld"
	call clp,showob
	end method
	method Obrazy12
	push "ok"
	push "rd"
	cthis cshowbut
	push "snd11"
	cthis cbplay
	end method
	method Obrazy13
	push "help"
	push "rd"
	cthis cshowbut
	push "snd12"
	cthis cbplay
	end method
	method Obrazy14
	call clp,stoph
	cthis mstart
	end method
	method Obrazy15
	push GAME
	spushs
	spop $a
	call [$a],nextex
	end method
	method Obrazy16
	push GAME
	spushs
	spop $a
	call [$a],mcheck
	end method
	method Obrazy17
	push 0
	pop bylenter
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push 6
	cthis mline
	push "snd13"
	cthis cbplay
	end method
	method Obrazy18
	push 13
	cthis mline
	push "snd14"
	cthis cbplay
	end method
	method Obrazy19
	push 15
	cthis mline
	push "snd15"
	cthis cbplay
	end method
	method Obrazy20
	push 16
	cthis mline
	push "snd16"
	cthis cbplay
	end method
	method Obrazy21
	push 18
	cthis mline
	push "snd17"
	cthis cbplay
	end method
	method Obrazy22
	cthis mstart
	cthis mln
	end method
	method Obrazy23
	push 0
	pop bylenter
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push 7
	cthis mline
	push "snd18"
	cthis cbplay
	end method
	method Obrazy24
	cthis mln
	push "snd19"
	cthis cbplay
	end method
	method Obrazy25
	push GAME
	spushs
	spop $a
	call [$a],Obrazy26
	end method
	method Obrazy26
	new int,tmpw
	push 0.3
	call anz1,getw
	pop $b
	popax
	mul $a,$b
	push 5
	pop $b
	popax
	add $a,$b
	pop tmpw
	new int,tmph
	push 0.45
	call anz1,geth
	pop $b
	popax
	mul $a,$b
	push 7
	pop $b
	popax
	add $a,$b
	pop tmph
	new img,im7
	new img,im4
	call im4,Obrazy27
	push "snd20"
	cthis cbplay
	end method
	method Obrazy27
	push 780
	push 500
	push 200
	push 200
	push 255
	push 255
	cthis create
	new img,im5
	localdef $1
	call anz1,getpx
	pop $1
	localdef $2
	call anz1,getpy
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	call anz1,move
	localint $3
	localint $4
	localint $5
	localint $6
	push 0
	pop $6
l4031:
	push $6
	push 20
	cmpjl
	cmp0
	je l4032
	jmp l4034
l4033:
	add $6,1
	pop $6
	jmp l4031
l4034:
	localint $7
	push 0
	pop $7
l4035:
	push $7
	push 37
	cmpjl
	cmp0
	je l4036
	jmp l4038
l4037:
	add $7,1
	pop $7
	jmp l4035
l4038:
	push tmpw
	push $7
	pop $b
	popax
	add $a,$b
	push tmph
	push $6
	pop $b
	popax
	add $a,$b
	call anz1,getrgb
	pop $5
	pop $4
	pop $3
	push 20
	push 20
	push $3
	push $4
	push $5
	push 255
	call im5,create
	push 20
	push $7
	call im5,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 20
	push $6
	call im5,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im5,setpos
	push "im5"
	cthis blit
	jmp l4037
l4036:
	jmp l4033
l4032:
	delete im5
	push $1
	push $2
	call anz1,move
	push 600
	cthis setz
	push 10
	push 10
	cthis move
	end method
	method Obrazy28
	push GAME
	spushs
	spop $a
	call [$a],Obrazy29
	end method
	method Obrazy29
	new img,im5
	push 100
	push 100
	cthis white
	push 32
	call im5,create
	call im4,getpx
	push 20
	pop $b
	popax
	add $a,$b
	call im4,getpy
	push 20
	pop $b
	popax
	add $a,$b
	call im5,setpos
	call im4,getz
	push 10
	pop $b
	popax
	add $a,$b
	call im5,setz
	push "snd21"
	cthis cbplay
	push "im5"
	push "ll"
	call clp,showob
	end method
	method Obrazy30
	call clp,stoph
	push GAME
	spushs
	spop $a
	call [$a],Obrazy31
	end method
	method Obrazy31
	push "tx1"
	push "R = ("
	push stdfont
	cthis red
	cthis newtext
	push "tx2"
	push "G = ("
	push stdfont
	cthis green
	cthis newtext
	push "tx3"
	push "B = ("
	push stdfont
	cthis blue
	cthis newtext
	push "tx4"
	push ""
	push stdfont
	cthis black
	cthis newtext
	call im4,getpx
	push 10
	pop $b
	popax
	add $a,$b
	call im4,getey
	push 80
	pop $b
	popax
	sub $a,$b
	call tx1,setpos
	call im4,getpx
	push 10
	pop $b
	popax
	add $a,$b
	call im4,getey
	push 65
	pop $b
	popax
	sub $a,$b
	call tx2,setpos
	call im4,getpx
	push 10
	pop $b
	popax
	add $a,$b
	call im4,getey
	push 50
	pop $b
	popax
	sub $a,$b
	call tx3,setpos
	call im4,getpx
	push 10
	pop $b
	popax
	add $a,$b
	call im4,getey
	push 35
	pop $b
	popax
	sub $a,$b
	call tx4,setpos
	call im5,getz
	push 10
	pop $b
	popax
	add $a,$b
	call tx1,setz
	call tx1,getz
	call tx2,setz
	call tx1,getz
	call tx3,setz
	call tx1,getz
	call tx4,setz
	push tmpw
	push tmph
	cthis getpix
	push "snd22"
	cthis cbplay
	end method
	method Obrazy32
	push GAME
	spushs
	spop $a
	call [$a],Obrazy33
	end method
	method Obrazy33
	new img,im6
	new int,tmpiw
	push 37
	push 5
	pop $b
	popax
	div $a,$b
	psax
	pop tmpiw
	new int,tmpih
	push 20
	push 5
	pop $b
	popax
	div $a,$b
	psax
	pop tmpih
	new int,tmpliczw
	push 0
	pop tmpliczw
	new int,tmpliczh
	push 0
	pop tmpliczh
	push tmpiw
	push 20
	pop $b
	popax
	mul $a,$b
	push 10
	pop $b
	popax
	add $a,$b
	push tmpih
	push 20
	pop $b
	popax
	mul $a,$b
	push 10
	pop $b
	popax
	add $a,$b
	cthis black
	push 255
	call im6,create
	call im4,getex
	call im6,getw
	pop $b
	popax
	sub $a,$b
	push 15
	pop $b
	popax
	sub $a,$b
	call im4,getey
	call im6,geth
	pop $b
	popax
	sub $a,$b
	push 15
	pop $b
	popax
	sub $a,$b
	call im6,setpos
	call im4,getz
	push 10
	pop $b
	popax
	add $a,$b
	call im6,setz
	push "im6"
	push "rd"
	call clp,showob
	push "snd23"
	cthis cbplay
	end method
	method Obrazy34
	push GAME
	spushs
	spop $a
	call [$a],Obrazy35
	end method
	method Obrazy35
	call clp,stoph
	cthis putpix
	popax
	push "timcyk"
	push 500
	push "Obrazy36"
	cthis timer=
	call timcyk,play
	end method
	method Obrazy36
	cthis putpix
	cmp0
	je l4040
	cthis play
	jmp l4039
l4040:
	push "snd24"
	cthis cbplay
l4039:
	end method
	method Obrazy37
	push GAME
	spushs
	spop $a
	call [$a],Obrazy38
	end method
	method Obrazy38
	push A
	push "tmpiw"
	push "tmpih"
	push "tmpliczw"
	push "tmpliczh"
	push "tx1"
	push "tx2"
	push "tx3"
	push "tx4"
	push "im4"
	push "im5"
	push "im6"
	push "im7"
	push "timcyk"
	push "tmpw"
	push "tmph"
	push "vardel"
	cthis withlist
	cthis mstart
	end method
	method Obrazy39
	cthis generategrey
	push "snd26"
	cthis cbplay
	end method
	method Obrazy40
	push "snd27"
	cthis cbplay
	push GAME
	spushs
	push "imgrey"
	spop $a
	call [$a],vardel
	end method
	method Obrazy41
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd28"
	cthis cbplay
	push 273
	push 324
	push "ld"
	call clp,show
	end method
	method Obrazy42
	push 330
	push 324
	push "ld"
	call clp,show
	push "snd29"
	cthis cbplay
	end method
	method Obrazy43
	push 435
	push 324
	push "uu"
	call clp,show
	push "snd30"
	cthis cbplay
	end method
	method Obrazy44
	push 528
	push 324
	push "rd"
	call clp,show
	push "snd31"
	cthis cbplay
	end method
	method Obrazy45
	call clp,stoph
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd32"
	cthis cbplay
	end method
	method Obrazy46
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd33"
	cthis cbplay
	end method
	method Obrazy47
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd34"
	cthis cbplay
	end method
	method Obrazy48
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd35"
	cthis cbplay
	end method
	method Obrazy49
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd36"
	cthis cbplay
	end method
	method Obrazy50
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd37"
	cthis cbplay
	end method
	method Obrazy51
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd38"
	cthis cbplay
	end method
	method Obrazy52
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd39"
	cthis cbplay
	end method
	method Obrazy53
	call ghis,hide
	push "snd40"
	cthis cbplay
	end method
	method Obrazy54
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd41"
	cthis cbplay
	end method
	method Obrazy55
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd42"
	cthis cbplay
	end method
	method Obrazy56
	push GAME
	spushs
	spop $a
	call [$a],nextzad
	push "snd43"
	cthis cbplay
	end method
	method Obrazy57
	push GAME
	spushs
	spop $a
	call [$a],showhis
	push "snd44"
	cthis cbplay
	end method
	method Obrazy58
	call ghis,hide
	push "timend"
	push 2500
	push "Obrazy59"
	cthis timer=
	call timend,play
	end method
	method Obrazy59
	push "Obrazy60"
	call ccs,close
	end method
	method Obrazy60
	push PrzygodaMode
	cmp0
	je l4042
	push "adxvsala"
	push "gameadxvsala2"
	cthis gotoadv
	jmp l4041
l4042:
	push "Menu"
	call gameapi,play
l4041:
	end method
	method Obrazy61
	push "sndintro"
	cthis cbplay
	end method
	method meval2
	push GAME
	spushs
	spop $a
	call [$a],meval
	popax
	end method
	method putpix
	push tmpw
	push tmpliczw
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push tmph
	push tmpliczh
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis getpix
	localint $1
	localint $2
	call im6,getpos
	pop $2
	pop $1
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	call im6,move
	call im6,getpx
	push 5
	pop $b
	popax
	add $a,$b
	push tmpliczw
	call im7,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im6,getpy
	push 5
	pop $b
	popax
	add $a,$b
	push tmpliczh
	call im7,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im7,setpos
	push "im7"
	call im6,blit
	call im4,getpx
	push 20
	pop $b
	popax
	add $a,$b
	push tmpliczw
	call im5,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im4,getpy
	push 20
	pop $b
	popax
	add $a,$b
	push tmpliczh
	call im5,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im5,setpos
	add tmpliczw,1
	pop tmpliczw
	push tmpliczw
	push tmpiw
	cmpjae
	cmp0
	je l4044
	add tmpliczh,1
	pop tmpliczh
	push 0
	pop tmpliczw
l4044:
	push $1
	push $2
	call im6,move
	push tmpliczh
	push tmpih
	cmpjl
	ret
	end method
	method getpix
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	localint $5
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $5
	localint $6
	localint $7
	localint $8
	push "R = ("
	call tx1,txtset
	push "G = ("
	call tx2,txtset
	push "B = ("
	call tx3,txtset
	localdef $9
	call anz1,getpx
	pop $9
	localdef $10
	call anz1,getpy
	pop $10
	push $9
	popax
	sub 0,$a
	push $10
	popax
	sub 0,$a
	call anz1,move
	localint $11
	push 0
	pop $11
l4045:
	push $11
	push 5
	cmpjl
	cmp0
	je l4046
	jmp l4048
l4047:
	add $11,1
	pop $11
	jmp l4045
l4048:
	localint $12
	push 0
	pop $12
l4049:
	push $12
	push 5
	cmpjl
	cmp0
	je l4050
	jmp l4052
l4051:
	add $12,1
	pop $12
	jmp l4049
l4052:
	push $1
	push $12
	pop $b
	popax
	add $a,$b
	push $2
	push $11
	pop $b
	popax
	add $a,$b
	call anz1,getrgb
	pop $8
	pop $7
	pop $6
	push $6
	popax
	add $3,$a
	pop $3
	push $7
	popax
	add $4,$a
	pop $4
	push $8
	popax
	add $5,$a
	pop $5
	call tx1,get
	push $6
	pop $b
	popax
	add $a,$b
	push "+"
	pop $b
	popax
	add $a,$b
	call tx1,set
	call tx2,get
	push $7
	pop $b
	popax
	add $a,$b
	push "+"
	pop $b
	popax
	add $a,$b
	call tx2,set
	call tx3,get
	push $8
	pop $b
	popax
	add $a,$b
	push "+"
	pop $b
	popax
	add $a,$b
	call tx3,set
	jmp l4051
l4050:
	jmp l4047
l4046:
	push 25
	popax
	div $3,$a
	mov $3,$a
	push 25
	popax
	div $4,$a
	mov $4,$a
	push 25
	popax
	div $5,$a
	mov $5,$a
	call tx1,get
	spushs
	push 1
	spop $h
	call $h,strsube
	push ") / 25 = "
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	call tx1,txtset
	call tx2,get
	spushs
	push 1
	spop $h
	call $h,strsube
	push ") / 25 = "
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	call tx2,txtset
	call tx3,get
	spushs
	push 1
	spop $h
	call $h,strsube
	push ") / 25 = "
	pop $b
	popax
	add $a,$b
	push $5
	pop $b
	popax
	add $a,$b
	call tx3,txtset
	push "new RGB = ("
	push $3
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $5
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call tx4,txtset
	push $9
	push $10
	call anz1,move
	push 20
	push 20
	push $3
	push $4
	push $5
	push 255
	call im7,create
	call im7,hide
	end method
	method mloadz2
	call anz1,getw
	call anz1,geth
	cthis black
	push 255
	call imz2,create
	push "anz1"
	call imz2,convert
	call anz1,getex
	push 20
	pop $b
	popax
	add $a,$b
	call anz1,getpy
	call imz2,setpos
	end method
	method mstart
	push 1
	pop igmstate
	call ttp,enable
	end method
	method mstop
	push 2
	pop igmstate
	call ttp,disable
	end method
	method mline
	localint $1
	pop $1
	push $1
	push 2
	pop $b
	popax
	sub $a,$b
	call ttk,idpx
	push $1
	push 2
	pop $b
	popax
	sub $a,$b
	call ttk,idpy
	push 2
	pop $b
	popax
	add $a,$b
	call imgred,setpos
	call imgred,show
	end method
	method mln
	call imgred,hide
	end method
	method togrey
	localreal $1
	pop $1
	push $1
	push 0
	cthis togrey2
	end method
	method togrey2
	localreal $1
	localint $2
	pop $2
	pop $1
	localdef $3
	call anz1,getw
	pop $3
	localdef $4
	call anz1,geth
	pop $4
	localdef $5
	call anz1,getpx
	pop $5
	localdef $6
	call anz1,getpy
	pop $6
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	call anz1,move
	localdef $7
	call imz2,getpx
	pop $7
	localdef $8
	call imz2,getpy
	pop $8
	push $7
	popax
	sub 0,$a
	push $8
	popax
	sub 0,$a
	call imz2,move
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	push 0
	pop $9
l4053:
	push $9
	push $4
	cmpjl
	cmp0
	je l4054
	jmp l4056
l4055:
	add $9,1
	pop $9
	jmp l4053
l4056:
	push 0
	pop $10
l4057:
	push $10
	push $3
	cmpjl
	cmp0
	je l4058
	jmp l4060
l4059:
	add $10,1
	pop $10
	jmp l4057
l4060:
	push $10
	push $9
	call anz1,getrgb
	pop $13
	pop $12
	pop $11
	push $1
	push 0.3
	push $11
	pop $b
	popax
	mul $a,$b
	push 0.59
	push $12
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 0.11
	push $13
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $11
	push $2
	cmp0
	je l4062
	push $11
	call vD,get
	pop $11
l4062:
	push $10
	push $9
	push $11
	push $11
	push $11
	call imz2,putrgb
	jmp l4059
l4058:
	push $5
	push $6
	call anz1,move
	push $7
	push $8
	call imz2,move
	call engine,redraw
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	call anz1,move
	push $7
	popax
	sub 0,$a
	push $8
	popax
	sub 0,$a
	call imz2,move
	jmp l4055
l4054:
	push $7
	push $8
	call imz2,move
	push $5
	push $6
	call anz1,move
	end method
	method loadzad
	cthis getgraphpath
	push "p"
	pop $b
	popax
	add $a,$b
	push izadanie
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call ttk,load
	cthis rgbpos
	end method
	method ttkpos
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l4063:
	push $2
	call ttk,Rows
	cmpjl
	cmp0
	je l4064
	jmp l4066
l4065:
	add $2,1
	pop $2
	jmp l4063
l4066:
	push $2
	call ttk,getid
	push $1
	cmpje
	cmp0
	je l4068
	push $2
	call ttk,Obrazy62
	ret
l4068:
	jmp l4065
l4064:
	push 0
	end method
	method Obrazy62
	localdef $1
	pop $1
	push ""
	push $1
	cthis setid
	push $1
	call grtt,get
	spushs
	spop $a
	call [$a],getpy
	end method
	method rgbpos
	localint $1
	call ttk,X
	pop $1
	localstring $2
	push izadanie
	spushs
	push 1
	cmpst
	jne l4070
	spop $a
	push 2
	push ifontsize
	pop $b
	popax
	mul $a,$b
	popax
	add $1,$a
	pop $1
	push $1
	push "#r"
	cthis ttkpos
	call txtr,setpos
	push $1
	push "#g"
	cthis ttkpos
	call txtg,setpos
	push $1
	push "#b"
	cthis ttkpos
	call txtb,setpos
	call txtr,getpx
	call txtr,getw
	pop $b
	popax
	add $a,$b
	call txtr,getpy
	call txtrh,setpos
	call txtg,getpx
	call txtg,getw
	pop $b
	popax
	add $a,$b
	call txtg,getpy
	call txtgh,setpos
	call txtb,getpx
	call txtb,getw
	pop $b
	popax
	add $a,$b
	call txtb,getpy
	call txtbh,setpos
	push "txtr"
	pop $2
	jmp l4069
l4070:
	push 2
	cmpst
	je l4072
	push 3
	cmpst
	je l4072
	jmp l4071
l4072:
	spop $a
	push izadanie
	push 2
	cmpje
	cmp0
	je l4074
	push "zoom = "
	call txtk,txtset
	jmp l4073
l4074:
	push "t1 = "
	call txtk,txtset
l4073:
	push $1
	push "#t1"
	cthis ttkpos
	call txtk,setpos
	call txtk,show
	call txtr,hide
	call txtg,hide
	call txtb,hide
	push "txtk"
	pop $2
	jmp l4069
l4071:
	spop $a
l4069:
	push "ttp"
	cthis deletegmobj
	push "fnkod"
	push ifontsize
	push 0.6
	push ifontsize
	pop $b
	popax
	mul $a,$b
	cthis black
	push "at0 ()-+/=*.%"
	push $2
	spushs
	spop $a
	call [$a],getex
	push $2
	spushs
	spop $a
	call [$a],getpy
	push 200
	push irpn
	push ifontsize
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	push 2
	new TextBoxTyper,ttp
	end method
	method merror
	localstring $1
	pop $1
	end method
	method merror2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push " "
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	cthis merror
	end method
	method meval
	push igmstate
	push 1
	cmpje
	cmp0
	je l4076
	push 2
	pop igmstate
	call ttp,disable
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	localint $6
	push 0
	pop $6
	localint $7
	push 0
	pop $7
l4077:
	push $7
	push irpn
	cmpjl
	cmp0
	je l4078
	jmp l4080
l4079:
	add $7,1
	pop $7
	jmp l4077
l4080:
	push $7
	call ttp,getid
	pop $1
	call $1,clear
	call rpn,start
	call $1,length
	push 0
	cmpja
	cmp0
	je l4082
	push $6
	push 0
	cmpje
	jmp l4084
l4082:
	push 0
	jmp l4084
l4083:
	push 1
l4084:
	cmp0
	je l4085
	push $1
	call Code,start
	push "vc"
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $1
	push "rpn"
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $3
	push "vv"
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $a
	call [$a],free
	push $3
	spushs
	spop $a
	call [$a],start
	push $1
	push 1
	call Code,gettoken
	push 0
	pop $2
l4086:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4087
	jmp l4089
l4088:
	add $2,1
	pop $2
	jmp l4086
l4089:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	spushs
	push "$int"
	cmpst
	je l4092
	push "$real"
	cmpst
	je l4092
	jmp l4091
l4092:
	spop $a
	add $2,1
	pop $2
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call rpn,num
	push $3
	spushs
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	spop $a
	call [$a],num
	jmp l4090
l4091:
	push "$const"
	cmpst
	jne l4093
	spop $a
	add $2,1
	pop $2
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call rpn,op
	push $3
	spushs
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	spop $a
	call [$a],op
	jmp l4090
l4093:
	push "$alpha"
	cmpst
	jne l4094
	spop $a
	add $2,1
	pop $2
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	pop $4
	push izadanie
	push 1
	cmpje
	cmp0
	je l4096
	push A
	push "r1"
	push "g1"
	push "b1"
	call $4,in
	jmp l4098
l4096:
	push 0
	jmp l4098
l4097:
	push 1
l4098:
	cmp0
	je l4099
	push 1
	call rpn,num
	push $3
	spushs
	push 1
	spop $a
	call [$a],num
	push $3
	spushs
	push "C"
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],var
	push $5
	spushs
	push $3
	spushs
	spop $a
	call [$a],size
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],add
	push $5
	spushs
	push "C"
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
	jmp l4095
l4099:
	push "novar"
	cthis merror
	push 0
	ret
l4095:
	jmp l4090
l4094:
	spop $a
	push "noperator"
	cthis merror
	push 0
	ret
l4090:
	jmp l4088
l4087:
	jmp l4081
l4085:
	push "empty"
	cthis merror
	push 0
	ret
l4081:
	push $6
	push 0
	cmpje
	cmp0
	je l4101
	call rpn,end
	cmp0
	je l4103
	call rpn,error
	push 0
	cmpje
	jmp l4105
l4103:
	push 0
	jmp l4105
l4104:
	push 1
l4105:
	cmp0
	je l4106
	push $3
	spushs
	spop $a
	call [$a],end
	popax
	call rpn,count
	popax
	call rpn,error
	push 0
	cmpje
	cmp0
	je l4108
	push $1
	spushs
	push $3
	spop $a
	call [$a],veccopy
	call rpn,start
	jmp l4107
l4108:
	push "count"
	call rpn,perror
	cthis merror2
	push 0
	ret
l4107:
	jmp l4102
l4106:
	push "count"
	call rpn,perror
	cthis merror2
	push 0
	ret
l4102:
l4101:
	jmp l4079
l4078:
	push $6
	push 0
	cmpje
	cmp0
	je l4110
	localdef $8
	call anz1,getw
	pop $8
	localdef $9
	call anz1,geth
	pop $9
	localdef $10
	call anz1,getpx
	pop $10
	localdef $11
	call anz1,getpy
	pop $11
	push $10
	popax
	sub 0,$a
	push $11
	popax
	sub 0,$a
	call anz1,move
	localdef $12
	call imz2,getpx
	pop $12
	localdef $13
	call imz2,getpy
	pop $13
	push $12
	popax
	sub 0,$a
	push $13
	popax
	sub 0,$a
	call imz2,move
	localint $14
	localstring $1
	localint $15
	localint $16
	push izadanie
	spushs
	push 3
	cmpst
	jne l4112
	spop $a
	push "rpn1"
	call rpn,copyvars
	push 0
	call rpn,count
	push 255
	cthis between
	pop $14
	push $14
	pop Cc1
	push $14
	pop Cc2
	push $14
	pop Cc3
	jmp l4111
l4112:
	push 2
	cmpst
	jne l4113
	spop $a
	push "rpn1"
	call rpn,copyvars
	push 1
	call rpn,count
	push 10
	cthis between
	pop $14
	jmp l4111
l4113:
	spop $a
l4111:
	localint $17
	localint $18
	localint $19
	push izadanie
	push 2
	cmpje
	cmp0
	je l4115
	localint $20
	push $14
	push $14
	pop $b
	popax
	mul $a,$b
	pop $20
	push 0
	pop $7
l4116:
	push $7
	push $9
	cmpjl
	cmp0
	je l4117
	jmp l4119
l4118:
	push $14
	popax
	add $7,$a
	pop $7
	jmp l4116
l4119:
	push 0
	pop $2
l4120:
	push $2
	push $8
	cmpjl
	cmp0
	je l4121
	jmp l4123
l4122:
	push $14
	popax
	add $2,$a
	pop $2
	jmp l4120
l4123:
	push 0
	pop $17
	push 0
	pop $18
	push 0
	pop $19
	push $7
	pop $16
l4124:
	push $16
	push $7
	push $14
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4125
	jmp l4127
l4126:
	add $16,1
	pop $16
	jmp l4124
l4127:
	push $2
	pop $15
l4128:
	push $15
	push $2
	push $14
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4129
	jmp l4131
l4130:
	add $15,1
	pop $15
	jmp l4128
l4131:
	push $15
	push $16
	call anz1,getrgb
	pop Cb1
	pop Cg1
	pop Cr1
	push Cr1
	popax
	add $17,$a
	pop $17
	push Cg1
	popax
	add $18,$a
	pop $18
	push Cb1
	popax
	add $19,$a
	pop $19
	jmp l4130
l4129:
	jmp l4126
l4125:
	push $2
	push $14
	pop $b
	popax
	div $a,$b
	psax
	push $7
	push $14
	pop $b
	popax
	div $a,$b
	psax
	push $17
	push $20
	pop $b
	popax
	div $a,$b
	psax
	push $18
	push $20
	pop $b
	popax
	div $a,$b
	psax
	push $19
	push $20
	pop $b
	popax
	div $a,$b
	psax
	call imz2,putrgb
	jmp l4122
l4121:
	push $10
	push $11
	call anz1,move
	push $12
	push $13
	call imz2,move
	call engine,redraw
	push $10
	popax
	sub 0,$a
	push $11
	popax
	sub 0,$a
	call anz1,move
	push $12
	popax
	sub 0,$a
	push $13
	popax
	sub 0,$a
	call imz2,move
	jmp l4118
l4117:
	jmp l4114
l4115:
	push 0
	pop $7
l4132:
	push $7
	push $9
	cmpjl
	cmp0
	je l4133
	jmp l4135
l4134:
	add $7,1
	pop $7
	jmp l4132
l4135:
	push 0
	pop $2
l4136:
	push $2
	push $8
	cmpjl
	cmp0
	je l4137
	jmp l4139
l4138:
	add $2,1
	pop $2
	jmp l4136
l4139:
	push $2
	push $7
	call anz1,getrgb
	pop Cb1
	pop Cg1
	pop Cr1
	push izadanie
	spushs
	push 1
	cmpst
	jne l4141
	spop $a
	call rpn,_rpn1
	pop $17
	call rpn,_rpn2
	pop $18
	call rpn,_rpn3
	pop $19
	jmp l4140
l4141:
	push 3
	cmpst
	jne l4142
	spop $a
	push 0.3
	push Cr1
	pop $b
	popax
	mul $a,$b
	push 0.59
	push Cg1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 0.11
	push Cb1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $17
	push $17
	push $14
	cmpjl
	cmp0
	je l4144
	push 0
	jmp l4143
l4144:
	push 255
l4143:
	pop $17
	push $17
	pop $18
	push $17
	pop $19
	jmp l4140
l4142:
	spop $a
l4140:
	push $2
	push $7
	push $17
	push $18
	push $19
	call imz2,putrgb
	jmp l4138
l4137:
	push $10
	push $11
	call anz1,move
	push $12
	push $13
	call imz2,move
	call engine,redraw
	push $10
	popax
	sub 0,$a
	push $11
	popax
	sub 0,$a
	call anz1,move
	push $12
	popax
	sub 0,$a
	push $13
	popax
	sub 0,$a
	call imz2,move
	jmp l4134
l4133:
l4114:
	push $10
	push $11
	call anz1,move
	push $12
	push $13
	call imz2,move
	push 1
	jmp l4109
l4110:
	push 0
	ret
l4109:
	jmp l4075
l4076:
	push 0
	ret
l4075:
	end method
	method _rpn1
	push "vc1"
	call vout,copy
	localint $1
	push 0
	pop $1
l4145:
	push $1
	call vv1,size
	cmpjl
	cmp0
	je l4146
	jmp l4148
l4147:
	push 2
	popax
	add $1,$a
	pop $1
	jmp l4145
l4148:
	push $1
	call vv1,get
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vv1,get
	popax
	mov $a,[$a]
	psax
	call vout,set
	jmp l4147
l4146:
	cthis countok
	end method
	method _rpn2
	push "vc2"
	call vout,copy
	localint $1
	push 0
	pop $1
l4149:
	push $1
	call vv2,size
	cmpjl
	cmp0
	je l4150
	jmp l4152
l4151:
	push 2
	popax
	add $1,$a
	pop $1
	jmp l4149
l4152:
	push $1
	call vv2,get
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vv2,get
	popax
	mov $a,[$a]
	psax
	call vout,set
	jmp l4151
l4150:
	cthis countok
	end method
	method _rpn3
	push "vc3"
	call vout,copy
	localint $1
	push 0
	pop $1
l4153:
	push $1
	call vv3,size
	cmpjl
	cmp0
	je l4154
	jmp l4156
l4155:
	push 2
	popax
	add $1,$a
	pop $1
	jmp l4153
l4156:
	push $1
	call vv3,get
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vv3,get
	popax
	mov $a,[$a]
	psax
	call vout,set
	jmp l4155
l4154:
	cthis countok
	end method
	method _rpn
	localint $1
	pop $1
	push "vc"
	push $1
	pop $b
	popax
	add $a,$b
	call vout,copy
	localstring $2
	push "vv"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l4157:
	push $3
	push $2
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4158
	jmp l4160
l4159:
	push 2
	popax
	add $3,$a
	pop $3
	jmp l4157
l4160:
	push $2
	spushs
	push $3
	spop $a
	call [$a],get
	push $2
	spushs
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	popax
	mov $a,[$a]
	psax
	call vout,set
	jmp l4159
l4158:
	cthis countok
	end method
	method showhis
	call ghis,Obrazy63
	push 256
	push 0
	call vhis,resize
	localdef $1
	call imz2,getw
	pop $1
	localdef $2
	call imz2,geth
	pop $2
	localdef $3
	call imz2,getpx
	pop $3
	localdef $4
	call imz2,getpy
	pop $4
	localdef $5
	call anz1,getpx
	pop $5
	localdef $6
	call anz1,getpy
	pop $6
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	call anz1,move
	localint $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	push $3
	popax
	sub 0,$a
	push $4
	popax
	sub 0,$a
	call imz2,move
	push 0
	pop $7
l4161:
	push $7
	push $2
	cmpjl
	cmp0
	je l4162
	jmp l4164
l4163:
	add $7,1
	pop $7
	jmp l4161
l4164:
	push 0
	pop $8
l4165:
	push $8
	push $1
	cmpjl
	cmp0
	je l4166
	jmp l4168
l4167:
	add $8,1
	pop $8
	jmp l4165
l4168:
	push $8
	push $7
	call imz2,getrgb
	popax
	popax
	pop $9
	push $9
	push $9
	call vhis,get
	push 1
	pop $b
	popax
	add $a,$b
	call vhis,set
	jmp l4167
l4166:
	jmp l4163
l4162:
	push 1
	pop $8
	push 0
	pop $7
l4169:
	push $7
	push 256
	cmpjl
	cmp0
	je l4170
	jmp l4172
l4171:
	add $7,1
	pop $7
	jmp l4169
l4172:
	push $7
	call vhis,get
	push $8
	cmpja
	cmp0
	je l4174
	push $7
	call vhis,get
	pop $8
l4174:
	jmp l4171
l4170:
	localreal $10
	push 200.0
	push $8
	pop $b
	popax
	div $a,$b
	psax
	pop $10
	push $10
	call ghis,Obrazy64
	push $3
	push $4
	call imz2,move
	push $5
	push $6
	call anz1,move
	end method
	method Obrazy63
	push 0
	push 0
	cthis setpos
	push "imgx"
	call imggfx,blit
	cthis show
	end method
	method Obrazy64
	localreal $1
	pop $1
	localdef $2
	call ghis,getw
	push 256
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localint $3
	push 225
	pop $3
	localint $4
	localint $5
	localint $6
	push 0
	pop $4
l4175:
	push $4
	push 256
	cmpjl
	cmp0
	je l4176
	jmp l4178
l4177:
	add $4,1
	pop $4
	jmp l4175
l4178:
	push $1
	push $4
	call vhis,get
	pop $b
	popax
	mul $a,$b
	pop $6
	push 0
	pop $5
l4179:
	push $5
	push $6
	cmpjl
	cmp0
	je l4180
	jmp l4182
l4181:
	add $5,1
	pop $5
	jmp l4179
l4182:
	push $2
	push $4
	pop $b
	popax
	add $a,$b
	push $3
	push $5
	pop $b
	popax
	sub $a,$b
	cthis black
	call imggfx,putrgb
	jmp l4181
l4180:
	jmp l4177
l4176:
	push 200
	push 100
	cthis setpos
	end method
	method mouse_lclick
	push 1
	cthis cactsndstop
	end method
	method nextzad
	push izadanie
	push 3
	cmpjl
	cmp0
	je l4184
	add izadanie,1
	pop izadanie
	push izadanie
	spushs
	push 2
	cmpst
	je l4187
	push 3
	cmpst
	je l4187
	jmp l4186
l4187:
	spop $a
	push 1
	jmp l4185
l4186:
	spop $a
	push 3
l4185:
	pop irpn
	cthis loadzad
	jmp l4183
l4184:
	push 1
	pop igmstate
	add izadanie,1
	pop izadanie
	call ghis,hide
	push izadanie
	spushs
	push 4
	cmpst
	jne l4189
	spop $a
	push "z1"
	cthis mloadan
	call ttk,disable
	call ttk,hide
	call txtk,hide
	call ttp,disable
	call ttp,hide
	push 1
	cthis togrey
	push "snd25"
	cthis cbplay
	jmp l4188
l4189:
	push 5
	cmpst
	jne l4190
	spop $a
	push "z2"
	cthis mloadan
	push 1
	cthis togrey
	jmp l4188
l4190:
	push 6
	cmpst
	jne l4191
	spop $a
	push 0.5
	cthis togrey
	jmp l4188
l4191:
	push 7
	cmpst
	jne l4192
	spop $a
	push 1.25
	cthis togrey
	jmp l4188
l4192:
	push 8
	cmpst
	jne l4193
	spop $a
	push 1.5
	cthis togrey
	jmp l4188
l4193:
	push 9
	cmpst
	jne l4194
	spop $a
	push 1
	cthis togrey
	jmp l4188
l4194:
	push 10
	cmpst
	jne l4195
	spop $a
	call ghis,hide
	new vector,vD
	push "real"
	call vD,type
	localreal $1
	call imz2,getw
	call imz2,geth
	pop $b
	popax
	mul $a,$b
	pop $1
	push 0
	call vhis,get
	call vD,add
	localreal $2
	push 0
	pop $2
	localint $3
	push 1
	pop $3
l4196:
	push $3
	push 256
	cmpjl
	cmp0
	je l4197
	jmp l4199
l4198:
	add $3,1
	pop $3
	jmp l4196
l4199:
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vD,get
	push $3
	call vhis,get
	pop $b
	popax
	add $a,$b
	call vD,add
	push $2
	push 0
	cmpje
	cmp0
	je l4201
	call vD,last
	push 0
	cmpjne
	jmp l4203
l4201:
	push 0
	jmp l4203
l4202:
	push 1
l4203:
	cmp0
	je l4204
	call vD,last
	pop $2
l4204:
	jmp l4198
l4197:
	push $1
	popax
	div $2,$a
	mov $2,$a
	push $2
	push 0
	cmpja
	cmp0
	je l4206
	push $2
	push 1
	cmpjl
	jmp l4208
l4206:
	push 0
	jmp l4208
l4207:
	push 1
l4208:
	cmp0
	je l4209
	push 0
	pop $3
l4210:
	push $3
	push 256
	cmpjl
	cmp0
	je l4211
	jmp l4213
l4212:
	add $3,1
	pop $3
	jmp l4210
l4213:
	push $3
	push $3
	call vD,get
	push $1
	pop $b
	popax
	div $a,$b
	psax
	push $2
	pop $b
	popax
	sub $a,$b
	push 1.0
	push $2
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push 255.0
	pop $b
	popax
	mul $a,$b
	call vD,set
	jmp l4212
l4211:
	push 1
	push 1
	cthis togrey2
	cthis showhis
l4209:
	jmp l4188
l4195:
	spop $a
l4188:
l4183:
	end method
	method mloadan
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anz1,load
	push 20
	call anz1,setz
	push 0
	push 0
	call imz2,setpos
	push "anz1"
	call imz2,clone
	push 20
	push 20
	call anz1,setpos
	call anz1,getex
	push 10
	pop $b
	popax
	add $a,$b
	push 20
	call imz2,setpos
	end method
	method generategrey
	push GAME
	spushs
	spop $a
	call [$a],Obrazy65
	end method
	method Obrazy65
	new img,imgrey
	call imgrey,Obrazy66
	end method
	method Obrazy66
	push 780
	push 500
	push 200
	push 200
	push 255
	push 255
	cthis create
	new img,imc
	localint $1
	push 0
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 15
	pop $3
	localint $4
	push 15
	pop $4
	localint $5
	push 30
	pop $5
	localint $6
	push 15
	pop $6
	localint $7
	push 5
	pop $7
	new text,tnr
	push "fnkod"
	call tnr,setfont
l4214:
	push $2
	cmp0
	je l4215
	push $5
	push $6
	push $1
	cthis grey
	push 255
	call imc,create
	push $1
	push 43
	cthis grey
	call tnr,txtsetcol
	push $3
	push $4
	call imc,setpos
	call imc,getex
	push $7
	pop $b
	popax
	add $a,$b
	push $4
	call tnr,setpos
	push "imc"
	cthis blit
	push "tnr"
	cthis blit
	call imc,geth
	push $7
	pop $b
	popax
	add $a,$b
	popax
	add $4,$a
	pop $4
	push $4
	push 485
	push $7
	pop $b
	popax
	sub $a,$b
	cmpjae
	cmp0
	je l4217
	push 15
	pop $4
	push $5
	push $7
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	mul $a,$b
	popax
	add $3,$a
	pop $3
l4217:
	add $1,1
	pop $1
	push $1
	push 256
	cmpje
	cmp0
	je l4219
	push 0
	pop $2
l4219:
	jmp l4214
l4215:
	push 400
	cthis setz
	push 400
	push 300
	cthis ansetcpos
	end method
	method ttp_boxontype
	cthis mzadnext
	cmp0
	je l4221
	push "enter"
	call keyboard,iskey
	cmp0
	je l4221
	push igmstate
	push 1
	cmpje
	jmp l4223
l4221:
	push 0
	jmp l4223
l4222:
	push 1
l4223:
	cmp0
	je l4224
	push 1
	pop bylenter
	push GAME
	spushs
	spop $a
	call [$a],meval
	cmp0
	je l4226
	cthis mstart
	jmp l4225
l4226:
	push "sndnon"
	cthis cbplay
l4225:
l4224:
	end method
	method cbhelp_MOVEON
	push igmstate
	push 1
	cmpje
	cmp0
	je l4228
	push izadanie
	push 1
	cmpje
	jmp l4230
l4228:
	push 0
	jmp l4230
l4229:
	push 1
l4230:
	cmp0
	je l4231
	push izad2
	spushs
	push 1
	cmpst
	jne l4233
	spop $a
	push "r1"
	push "g1"
	push "b1"
	cthis mhrgb
	jmp l4232
l4233:
	push 2
	cmpst
	jne l4234
	spop $a
	push "r1 - 30"
	push "g1 - 30"
	push "b1 - 30"
	cthis mhrgb
	jmp l4232
l4234:
	push 3
	cmpst
	jne l4235
	spop $a
	push "1.2 * r1"
	push "1.2 * g1"
	push "1.2 * b1"
	cthis mhrgb
	jmp l4232
l4235:
	push 4
	cmpst
	jne l4236
	spop $a
	push "r1"
	push "g1"
	push "0"
	cthis mhrgb
	jmp l4232
l4236:
	push 5
	cmpst
	jne l4237
	spop $a
	push "255 - r1"
	push "255 - g1"
	push "255 - b1"
	cthis mhrgb
	jmp l4232
l4237:
	push 6
	cmpst
	jne l4238
	spop $a
	push "(r1+g1+b1)/3"
	push "(r1+g1+b1)/3"
	push "(r1+g1+b1)/3"
	cthis mhrgb
	jmp l4232
l4238:
	push 7
	cmpst
	jne l4239
	spop $a
	push "0.33*r1+0.59*g1+0.11*b1"
	push "0.33*r1+0.59*g1+0.11*b1"
	push "0.33*r1+0.59*g1+0.11*b1"
	cthis mhrgb
	jmp l4232
l4239:
	spop $a
	push 0
	push 0
	push 0
	cthis mhrgb
l4232:
	call grhelpy,show
l4231:
	end method
	method cbhelp_MOVEOFF
	call grhelpy,hide
	end method
	method mhrgb
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	call txtrh,txtset
	push $2
	call txtgh,txtset
	push $3
	call txtbh,txtset
	end method
	method cbok_CLICK
	push igmstate
	push 1
	cmpjne
	cmp0
	jne l4242
	push izad2
	push 9
	cmpja
	jmp l4243
l4241:
	push 0
	jmp l4243
l4242:
	push 1
l4243:
	cmp0
	je l4244
	ret
l4244:
	push A
	push 2
	push 3
	call izadanie,in
	cmp0
	je l4246
	push bylenter
	neg
	jmp l4248
l4246:
	push 0
	jmp l4248
l4247:
	push 1
l4248:
	cmp0
	je l4249
	push "sndenter"
	cthis cbplay
	push 3
	pop igmstate
	ret
l4249:
	push GAME
	spushs
	spop $a
	call [$a],meval
	cmp0
	je l4251
	push izad2
	push 8
	cmpjl
	cmp0
	je l4253
	push "sndcheck"
	cthis cbplay
	jmp l4252
l4253:
	push izad2
	push 9
	cmpjae
	cmp0
	je l4255
	call tdz,hide
	cthis nextzad
	jmp l4254
l4255:
	push GAME
	spushs
	spop $a
	call [$a],mcheck
l4254:
l4252:
	jmp l4250
l4251:
	push "sndnon"
	cthis cbplay
l4250:
	end method
	method mzadnext
	push A
	push 8
	push 9
	call izad2,in
	end method
	method mcheck
	push izad2
	push 8
	cmpjae
	cmp0
	je l4257
	cthis nextex
	ret
l4257:
	localdef $1
	call anz1,getw
	pop $1
	localdef $2
	call anz1,geth
	pop $2
	localdef $3
	call anz1,getpx
	pop $3
	localdef $4
	call anz1,getpy
	pop $4
	push $3
	popax
	sub 0,$a
	push $4
	popax
	sub 0,$a
	call anz1,move
	localdef $5
	call imz3,getpx
	pop $5
	localdef $6
	call imz3,getpy
	pop $6
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	call imz3,move
	call imz3,show
	localint $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	localint $14
	push 0
	pop $7
l4258:
	push $7
	push $2
	cmpjl
	cmp0
	je l4259
	jmp l4261
l4260:
	add $7,1
	pop $7
	jmp l4258
l4261:
	push 0
	pop $8
l4262:
	push $8
	push $1
	cmpjl
	cmp0
	je l4263
	jmp l4265
l4264:
	add $8,1
	pop $8
	jmp l4262
l4265:
	push $8
	push $7
	call anz1,getrgb
	pop $11
	pop $10
	pop $9
	push izad2
	spushs
	push 1
	cmpst
	jne l4267
	spop $a
	push $9
	pop $12
	push $10
	pop $13
	push $11
	pop $14
	jmp l4266
l4267:
	push 2
	cmpst
	jne l4268
	spop $a
	push $9
	push 30
	pop $b
	popax
	sub $a,$b
	pop $12
	push $10
	push 30
	pop $b
	popax
	sub $a,$b
	pop $13
	push $11
	push 30
	pop $b
	popax
	sub $a,$b
	pop $14
	jmp l4266
l4268:
	push 3
	cmpst
	jne l4269
	spop $a
	push 1.2
	push $9
	pop $b
	popax
	mul $a,$b
	pop $12
	push 1.2
	push $10
	pop $b
	popax
	mul $a,$b
	pop $13
	push 1.2
	push $11
	pop $b
	popax
	mul $a,$b
	pop $14
	jmp l4266
l4269:
	push 4
	cmpst
	jne l4270
	spop $a
	push $9
	pop $12
	push $10
	pop $13
	push 0
	pop $14
	jmp l4266
l4270:
	push 5
	cmpst
	jne l4271
	spop $a
	push 255
	push $9
	pop $b
	popax
	sub $a,$b
	pop $12
	push 255
	push $10
	pop $b
	popax
	sub $a,$b
	pop $13
	push 255
	push $11
	pop $b
	popax
	sub $a,$b
	pop $14
	jmp l4266
l4271:
	push 6
	cmpst
	jne l4272
	spop $a
	push $9
	push $10
	pop $b
	popax
	add $a,$b
	push $11
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop $12
	push $12
	pop $13
	push $12
	pop $14
	jmp l4266
l4272:
	push 7
	cmpst
	jne l4273
	spop $a
	push 0.33
	push $9
	pop $b
	popax
	mul $a,$b
	push 0.59
	push $10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 0.11
	push $11
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	pop $13
	push $12
	pop $14
	jmp l4266
l4273:
	spop $a
l4266:
	push $8
	push $7
	push $12
	push $13
	push $14
	call imz3,putrgb
	jmp l4264
l4263:
	push $3
	push $4
	call anz1,move
	push $5
	push $6
	call imz3,move
	call engine,redraw
	push $3
	popax
	sub 0,$a
	push $4
	popax
	sub 0,$a
	call anz1,move
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	call imz3,move
	jmp l4260
l4259:
	push $5
	push $6
	call imz3,move
	push $3
	push $4
	call anz1,move
	push "imz3"
	call imz2,equal
	cmp0
	je l4275
	push "sndok"
	cthis cbplay
	jmp l4274
l4275:
	push "sndnon"
	cthis cbplay
l4274:
	call imz3,hide
	end method
	method nextex
	add izad2,1
	pop izad2
	push "tdz"
	cthis deletegmobj
	push stdfont
	push 12
	push "$path:"
	push "zad"
	push izad2
	pop $b
	popax
	add $a,$b
	cthis lang_path
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	push 10
	push 10
	push 192
	push 20
	push 335
	push 2
	push 50
	push "left"
	new TextDb,tdz
	push izad2
	spushs
	push 8
	cmpst
	jne l4277
	spop $a
	push "sndzoom"
	cthis cbplay
	jmp l4276
l4277:
	push 9
	cmpst
	jne l4278
	spop $a
	push "sndprog"
	cthis cbplay
	push "z3"
	cthis mloadan
	jmp l4276
l4278:
	spop $a
	cthis mstart
l4276:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4280
	push "sndok"
	cthis cbplay
l4280:
	end method
	end game

	class tesKubel
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	call ankubel,getw
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	new anima,ankub
	push "ankubel"
	call ankub,copy
	push ikubelz
	call ankub,setz
	push $2
	push $3
	call ankub,setpos
	call ankub,show
	localstring $5
	new gmimgvec,gral
	push "ankub"
	call gral,add
	localint $6
	push 0
	pop $6
l4281:
	push $6
	push $4
	cmpjl
	cmp0
	je l4282
	jmp l4284
l4283:
	add $6,1
	pop $6
	jmp l4281
l4284:
	push "ank"
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push "ankubel"
	spop $a
	call [$a],copy
	push $5
	spushs
	push ikubelz
	spop $a
	call [$a],setz
	push $5
	spushs
	push 1
	push $6
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	call gral,add
	jmp l4283
l4282:
	new text,txtk
	push stdfont16
	call txtk,setfont
	push $1
	cthis black
	call txtk,txtsetcol
	call ankub,getcx
	call txtk,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call ankub,getey
	push 5
	pop $b
	popax
	sub $a,$b
	call txtk,setpos
	push ikubelz
	push 1
	pop $b
	popax
	add $a,$b
	call txtk,setz
	end method
	method isin
	call gral,isin
	end method
	method setz
	localint $1
	pop $1
	push $1
	call gral,setz
	push $1
	call ankub,setz
	end method
	end class

	game Test
	parent Computro
	method init
	push "test"
	clparent Computro,init
	push A
	push "bg.pyz"
	push "kubel.pyzH 10"
	cthis imgs=
	new int,ilevel
	push 0
	pop ilevel
	new db,dbpom
	new int,ikubelz
	push 66
	pop ikubelz
	new int,idkubel
	push "gmimgvec"
	push "grkb"
	push 4
	cthis newarray
	new def,stdfont64
	push 64
	cthis stdfont
	pop stdfont64
	new def,stdfont16
	push 16
	cthis stdfont
	pop stdfont16
	push "txnr"
	push "1."
	push stdfont64
	cthis blue
	cthis newtext
	push 10
	call txnr,setz
	push 20
	push 10
	call txnr,setpos
	new int,iy1
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 30
	pop $b
	popax
	sub $a,$b
	pop iy1
	new int,iy3
	push iResY
	push 120
	pop $b
	popax
	sub $a,$b
	pop iy3
	new int,iy2
	push iy3
	push iy1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop iy2
	new gmimgvec,grodp
	cthis mstdodp
	new string,_slast
	push "null"
	pop _slast
	new vector,vecok
	push 10
	push 0
	call vecok,resize
	cthis nextlevel
	push "Test0"
	call ccs,enter
	end method
	method Test0
	push 1
	pop igmstate
	push "main.ogg -v 5 -l"
	call mus,playstr
	end method
	method nextlevel
	push GAME
	spushs
	spop $a
	call [$a],Test1
	end method
	method Test1
	push igmstate
	push 16
	cmpje
	cmp0
	je l4286
	push 1
	pop igmstate
l4286:
	add ilevel,1
	pop ilevel
	push ilevel
	push 10
	cmpja
	cmp0
	je l4288
	push "txtend"
	push " Wynik: "
	call vecok,vecsum
	pop $b
	popax
	add $a,$b
	push "/10"
	pop $b
	popax
	add $a,$b
	push stdfont64
	cthis red
	cthis newtext
	push 1000
	call txtend,setz
	call txnr,getex
	push 50
	pop $b
	popax
	add $a,$b
	call txnr,getpy
	call txtend,setpos
	push "timend"
	push 4000
	push "Test2"
	cthis timer=
	call timend,play
	ret
l4288:
	push ""
	push ilevel
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call txnr,txtset
	push 1
	push stdfont64
	call txnr,txtshadow
	push "dbzad"
	cthis vardelif
	push "dbzad"
	push "zad"
	push ilevel
	pop $b
	popax
	add $a,$b
	cthis lang_db
	push "tdpyt"
	cthis vardelif
	push "tdod1"
	cthis vardelif
	push "tdod2"
	cthis vardelif
	push "tdod3"
	cthis vardelif
	push "dbzad"
	push "<part1>"
	push "</part1>"
	call dbpom,dbcopyfromtos
	localint $1
	push 30
	pop $1
	push stdfont16
	push 16
	push "$var:dbpom"
	push 10
	push 10
	push 192
	push $1
	call txnr,getey
	push 5
	pop $b
	popax
	add $a,$b
	push 2
	push 50
	push "left"
	new TextDb,tdpyt
	push "dbzad"
	push "<part2>"
	push "</part2>"
	call dbpom,dbcopyfromtos
	push stdfont16
	push 16
	push "$var:dbpom"
	cthis mstdcol
	push $1
	push iy1
	push 2
	push 50
	push "left"
	new TextDb,tdod1
	push "dbzad"
	push "<part3>"
	push "</part3>"
	call dbpom,dbcopyfromtos
	push stdfont16
	push 16
	push "$var:dbpom"
	cthis mstdcol
	push $1
	push iy2
	push 2
	push 50
	push "left"
	new TextDb,tdod2
	push "dbzad"
	push "<part4>"
	push "</part4>"
	call dbpom,dbcopyfromtos
	push stdfont16
	push 16
	push "$var:dbpom"
	cthis mstdcol
	push $1
	push iy3
	push 2
	push 50
	push "left"
	new TextDb,tdod3
	push ilevel
	spushs
	push 2
	cmpst
	jne l4290
	spop $a
	push $1
	cthis mkkosz
	push 30
	popax
	add $1,$a
	pop $1
	localint $2
	push iy1
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 1
	pop idkubel
	push $1
	push $2
	push 0
	push 4
	cthis mkosz
	push $1
	push $2
	push 1
	push 2
	cthis mkosz
	push $1
	push $2
	push 2
	push 4
	cthis mkosz
	push $1
	push $2
	push 3
	push 2
	cthis mkosz
	push $1
	push $2
	push 4
	push 0
	cthis mkosz
	push $1
	push $2
	push 5
	push 3
	cthis mkosz
	push $1
	push $2
	push 6
	push 6
	cthis mkosz
	push $1
	push $2
	push 7
	push 8
	cthis mkosz
	push $1
	push $2
	push 8
	push 11
	cthis mkosz
	push $1
	push $2
	push 9
	push 7
	cthis mkosz
	push iy2
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	pop idkubel
	push $1
	push $2
	push 0
	push 4
	cthis mkosz
	push $1
	push $2
	push 1
	push 2
	cthis mkosz
	push $1
	push $2
	push 2
	push 4
	cthis mkosz
	push $1
	push $2
	push 3
	push 5
	cthis mkosz
	push $1
	push $2
	push 4
	push 0
	cthis mkosz
	push $1
	push $2
	push 5
	push 3
	cthis mkosz
	push $1
	push $2
	push 6
	push 6
	cthis mkosz
	push $1
	push $2
	push 7
	push 8
	cthis mkosz
	push $1
	push $2
	push 8
	push 11
	cthis mkosz
	push $1
	push $2
	push 9
	push 7
	cthis mkosz
	push iy3
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 3
	pop idkubel
	push $1
	push $2
	push 0
	push 0
	cthis mkosz
	push $1
	push $2
	push 1
	push 1
	cthis mkosz
	push $1
	push $2
	push 2
	push 2
	cthis mkosz
	push $1
	push $2
	push 3
	push 3
	cthis mkosz
	push $1
	push $2
	push 4
	push 4
	cthis mkosz
	push $1
	push $2
	push 5
	push 5
	cthis mkosz
	push $1
	push $2
	push 6
	push 6
	cthis mkosz
	push $1
	push $2
	push 7
	push 7
	cthis mkosz
	push $1
	push $2
	push 8
	push 8
	cthis mkosz
	push $1
	push $2
	push 9
	push 9
	cthis mkosz
	push 50
	call grkb0,setz
	jmp l4289
l4290:
	push 3
	cmpst
	jne l4291
	spop $a
	cthis mdelkosz
	push $1
	cthis mkkosz
	push 30
	popax
	add $1,$a
	pop $1
	localint $2
	push iy1
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 1
	pop idkubel
	push $1
	push $2
	push 0
	push 2
	cthis mkosz
	push $1
	push $2
	push 1
	push 4
	cthis mkosz
	push $1
	push $2
	push 2
	push 8
	cthis mkosz
	push $1
	push $2
	push 3
	push 6
	cthis mkosz
	push $1
	push $2
	push 4
	push 10
	cthis mkosz
	push $1
	push $2
	push 5
	push 3
	cthis mkosz
	push $1
	push $2
	push 6
	push 12
	cthis mkosz
	push $1
	push $2
	push 7
	push 7
	cthis mkosz
	push $1
	push $2
	push 8
	push 4
	cthis mkosz
	push $1
	push $2
	push 9
	push 7
	cthis mkosz
	push iy2
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	pop idkubel
	push $1
	push $2
	push 0
	push 2
	cthis mkosz
	push $1
	push $2
	push 1
	push 2
	cthis mkosz
	push $1
	push $2
	push 2
	push 8
	cthis mkosz
	push $1
	push $2
	push 3
	push 1
	cthis mkosz
	push $1
	push $2
	push 4
	push 10
	cthis mkosz
	push $1
	push $2
	push 5
	push 1
	cthis mkosz
	push $1
	push $2
	push 6
	push 10
	cthis mkosz
	push $1
	push $2
	push 7
	push 8
	cthis mkosz
	push $1
	push $2
	push 8
	push 4
	cthis mkosz
	push $1
	push $2
	push 9
	push 5
	cthis mkosz
	push iy3
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 3
	pop idkubel
	push $1
	push $2
	push 0
	push 2
	cthis mkosz
	push $1
	push $2
	push 1
	push 4
	cthis mkosz
	push $1
	push $2
	push 2
	push 0
	cthis mkosz
	push $1
	push $2
	push 3
	push 6
	cthis mkosz
	push $1
	push $2
	push 4
	push 10
	cthis mkosz
	push $1
	push $2
	push 5
	push 4
	cthis mkosz
	push $1
	push $2
	push 6
	push 11
	cthis mkosz
	push $1
	push $2
	push 7
	push 1
	cthis mkosz
	push $1
	push $2
	push 8
	push 4
	cthis mkosz
	push $1
	push $2
	push 9
	push 1
	cthis mkosz
	push 50
	call grkb0,setz
	jmp l4289
l4291:
	push 4
	cmpst
	jne l4292
	spop $a
	cthis mdelkosz
	push $1
	cthis mkkosz
	push 30
	popax
	add $1,$a
	pop $1
	localint $2
	push iy1
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 1
	pop idkubel
	localint $3
	push 0
	pop $3
l4293:
	push $3
	push 10
	cmpjl
	cmp0
	je l4294
	jmp l4296
l4295:
	add $3,1
	pop $3
	jmp l4293
l4296:
	push $1
	push $2
	push $3
	push 1
	cthis mkosz
	jmp l4295
l4294:
	push iy2
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	pop idkubel
	push 0
	pop $3
l4297:
	push $3
	push 10
	cmpjl
	cmp0
	je l4298
	jmp l4300
l4299:
	add $3,1
	pop $3
	jmp l4297
l4300:
	push $1
	push $2
	push $3
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	cthis mkosz
	jmp l4299
l4298:
	push iy3
	push 5
	pop $b
	popax
	add $a,$b
	pop $2
	push 3
	pop idkubel
	push 0
	pop $3
l4301:
	push $3
	push 10
	cmpjl
	cmp0
	je l4302
	jmp l4304
l4303:
	add $3,1
	pop $3
	jmp l4301
l4304:
	push $1
	push $2
	push $3
	push 10
	spushs
	spop $h
	call $h,rand
	cthis mkosz
	jmp l4303
l4302:
	push 50
	call grkb0,setz
	jmp l4289
l4292:
	push 5
	cmpst
	jne l4305
	spop $a
	cthis mstdodp
	cthis mdelkosz
	call grkb0,deleteallgm
	call grkb0,free
	push "machina.pyz"
	cthis img=
	jmp l4289
l4305:
	push 6
	cmpst
	jne l4306
	spop $a
	delete anmachina
	jmp l4289
l4306:
	push 7
	cmpst
	jne l4307
	spop $a
	push "robo.pyz"
	cthis img=
	jmp l4289
l4307:
	push 8
	cmpst
	jne l4308
	spop $a
	delete anrobo
	push "pascal.pyz"
	cthis img=
	jmp l4289
l4308:
	push 9
	cmpst
	jne l4309
	spop $a
	delete anpascal
	push "bramki.pyz"
	cthis img=
	push "anbramki"
	push "anbram2"
	cthis copyanima
	push 1
	push 0
	call anbram2,setframe
	jmp l4289
l4309:
	push 10
	cmpst
	jne l4310
	spop $a
	delete anbramki
	delete anbram2
	jmp l4289
l4310:
	spop $a
l4289:
	end method
	method Test2
	push "Test3"
	call ccs,close
	end method
	method Test3
	call ccs,show
	push "done_Test"
	call clsave,bset
	push "Test_points"
	call vecok,vecsum
	call clsave,set
	push "adsala"
	push "gameadsala0"
	cthis gotoadv
	end method
	method mdelkosz
	localint $1
	push 0
	pop $1
l4311:
	push $1
	push 4
	cmpjl
	cmp0
	je l4312
	jmp l4314
l4313:
	add $1,1
	pop $1
	jmp l4311
l4314:
	push "grkb"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],deleteallgm
	push "grkb"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],free
	jmp l4313
l4312:
	end method
	method mkkosz
	localint $1
	pop $1
	call grodp,free
	push A
	push "grkb1"
	push "grkb2"
	push "grkb3"
	call grodp,addlist
	localint $2
	call tdpyt,mgetey
	pop $2
	push 0
	pop idkubel
	push $1
	push $2
	push 0
	push 0
	cthis mkosz
	push $1
	push $2
	push 1
	push 0
	cthis mkosz
	push $1
	push $2
	push 2
	push 0
	cthis mkosz
	push $1
	push $2
	push 3
	push 0
	cthis mkosz
	push $1
	push $2
	push 4
	push 0
	cthis mkosz
	push $1
	push $2
	push 5
	push 0
	cthis mkosz
	push $1
	push $2
	push 6
	push 0
	cthis mkosz
	push $1
	push $2
	push 7
	push 0
	cthis mkosz
	push $1
	push $2
	push 8
	push 0
	cthis mkosz
	push $1
	push $2
	push 9
	push 0
	cthis mkosz
	end method
	method mstdodp
	call grodp,free
	push A
	push "tdod1"
	push "tdod2"
	push "tdod3"
	call grodp,addlist
	end method
	method mkosz
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push "kos_"
	push idkubel
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $3
	push $1
	push $2
	push $4
	spop $e
	new tesKubel,[$e]
	push "grkb"
	push idkubel
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spop $a
	call [$a],add
	end method
	method mstdcol
	push 10
	push 10
	push 192
	ret
	end method
	method mactcol
	push 192
	push 10
	push 10
	ret
	end method
	method mgetey
	call grtxt,getey
	end method
	method mretcol
	push _slast
	push "null"
	cmpjne
	cmp0
	je l4316
	push _slast
	spushs
	cthis mstdcol
	spop $a
	call [$a],msetcol
	push "null"
	pop _slast
l4316:
	end method
	method msetcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "grtxt"
	cthis hasvar
	cmp0
	je l4318
	push "Test4"
	push $1
	push $2
	push $3
	call grtxt,eval3
	jmp l4317
l4318:
	push "tdod"
	push 4
	call _slast,strsubb
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],setcol
l4317:
	localint $4
	localint $5
	localint $6
	cthis mactcol
	pop $6
	pop $5
	pop $4
	push $4
	push $1
	cmpje
	cmp0
	je l4320
	push $5
	push $2
	cmpje
	cmp0
	je l4320
	push $6
	push $3
	cmpje
	jmp l4322
l4320:
	push 0
	jmp l4322
l4321:
	push 1
l4322:
	cmp0
	je l4323
	call bsms,setact
	jmp l4319
l4323:
	call bsms,setstd
l4319:
	end method
	method Test4
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis createtxt
	end method
	method misin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	call grtxt,isin
	end method
	method mouse_move
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4325
	ret
l4325:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	call grodp,isin
	cmp0
	je l4327
	localdef $3
	call grodp,getsfound
	pop $3
	push $3
	push _slast
	cmpjne
	cmp0
	je l4329
	cthis mretcol
	push $3
	pop _slast
	push $3
	spushs
	cthis mactcol
	spop $a
	call [$a],msetcol
l4329:
	jmp l4326
l4327:
	cthis mretcol
l4326:
	end method
	method mouse_lclick
	push igmstate
	push 16
	cmpje
	cmp0
	je l4331
	cthis nextlevel
	ret
l4331:
	push igmstate
	push 1
	cmpjne
	cmp0
	jne l4334
	push ilevel
	push 10
	cmpja
	jmp l4335
l4333:
	push 0
	jmp l4335
l4334:
	push 1
l4335:
	cmp0
	je l4336
	ret
l4336:
	localint $1
	push 0
	pop $1
	localint $2
	push _slast
	push "null"
	cmpjne
	cmp0
	je l4338
	push 4
	call _slast,strsubb
	pop $2
	push 1
	pop $1
l4338:
	push $1
	cmp0
	je l4340
	push ilevel
	spushs
	push 1
	cmpst
	jne l4342
	spop $a
	push 3
	jmp l4341
l4342:
	push 2
	cmpst
	jne l4343
	spop $a
	push 1
	jmp l4341
l4343:
	push 3
	cmpst
	jne l4344
	spop $a
	push 3
	jmp l4341
l4344:
	push 4
	cmpst
	jne l4345
	spop $a
	push 2
	jmp l4341
l4345:
	push 5
	cmpst
	jne l4346
	spop $a
	push 3
	jmp l4341
l4346:
	push 6
	cmpst
	jne l4347
	spop $a
	push 2
	jmp l4341
l4347:
	push 7
	cmpst
	jne l4348
	spop $a
	push 1
	jmp l4341
l4348:
	push 8
	cmpst
	jne l4349
	spop $a
	push 1
	push 0
	call anpascal,setframe
	push 3
	jmp l4341
l4349:
	push 9
	cmpst
	jne l4350
	spop $a
	push 2
	push 0
	call anbram2,setframe
	push 2
	jmp l4341
l4350:
	push 10
	cmpst
	jne l4351
	spop $a
	push 1
	jmp l4341
l4351:
	spop $a
	push 0
l4341:
	localint $3
	pop $3
	push ilevel
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $2
	cmpje
	call vecok,set
	push "tdod"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	cthis green
	spop $a
	call [$a],setcol
	push 16
	pop igmstate
l4340:
	end method
	end game

	game Historia
	parent Computro
	method init
	push "historia"
	clparent Computro,init
	push "bg.pyz"
	cthis img=
	new def,stdfont24
	push 24
	cthis stdfont
	pop stdfont24
	new classplacepointer2,clp
	new gmimgvec,grep
	push "grep"
	push "story1.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grep,hide
	push 0
	cthis mshow
	push A
	push "sndintro"
	push "Komputery wykonuj ogromne iloci oblicze w bardzo krtkim czasie; Kiedy umiejtno liczenia zarezerwowana bya dla nielicznych ludzi"
	push "Historia0"
	push "snd1"
	push "W dawnych czasach ludzie ktrzy potrafili liczy stanowili skarb dla wodzw i krlw; Dziki nim wadca mg oszacowa swoje siy i zapasy; Pierwsi matematycy zapisywali liczby zwyczajnymi kreskami na glinianych tabliczkach; Niestety liczby takie byy trudne do odczytania; Spjrzmy jak duo czasu zajmuje policzenie wszystkich kresek eby odczyta liczb 13"
	push "Historia1"
	push "snd2"
	push "Z czasem pisarze zastpili wiele kresek symbolami; Oto symbole wymylone przez staroytnych Egipcjan oznaczajce liczby dziesitek setek i tysicy"
	push "Historia2"
	push "snd3"
	push "Aby przej dalej kliknij ten przycisk"
	push "Historia4"
	push "snd4"
	push "Wpisz jakie liczby zakodowano w systemie staroegipskim; Liczby zatwierdzaj klawiszem enter; Kiedy skoczysz kliknij przycisk OK"
	push "Historia5"
	push "snd5"
	push "Liczby wpisane niepoprawnie; Prbuj dalej"
	push "Historia6"
	push "snd6"
	push "wietnie"
	push "Historia7"
	push "snd7"
	push "Staroytni Rzymianie zapisywali liczby za pomoc siedmiu cyfr ktre znajdziemy dzi w alfabecie; Cho cyfry rzymskie wygldaj elegancko i uywa si ich  czsto przy datach lub numerach rozdziaw ksiek zostay wyparte przez cyfry arabskie znacznie wygodniejsze przy obliczeniach"
	push "Historia9"
	push "snd8"
	push "Cyfry ktre nazywamy arabskimi w rzeczywistoci wymylili Hindusi; Arabowie poznali je i przekazali Europejczykom"
	push "Historia11"
	push "snd9"
	push "Liczby zapisane cyframi arabskim kodowane s w systemie pozycyjnym; Oznacza to e jeli zmienimy kolejno cyfr otrzymamy inn liczb"
	push "Historia12"
	push "snd10"
	push "W starszym systemie egipskim kolejno cyfr nie ma znaczenia; Liczy si tylko ich skad; Na ekranie widzimy liczb 12 zakodowan na 2 sposoby"
	push "Historia13"
	push "snd11"
	push "Jednak najwikszym odkryciem Hindusw bya liczba 0; Dla wczeniejszych matematykw ta liczba nie istniaa; Nie potrafili wyobrazi sobie e mona nada symbol czemu czego nie mona policzy; Bez liczby 0 ludzie nie wymyliliby komputerw"
	push "Historia14"
	push "snd12"
	push "Obliczenia wykonywano na liczydach i abakusach"
	push "Historia16"
	push "snd13"
	push "Dopiero upowszechnienie praktycznych cyfr arabskich i wymylenie sposobw dodawania odejmowania mnoenia i dzielenia bardzo uatwio obliczenia"
	push "Historia17"
	push "snd14"
	push "Im wicej ludzie potrafili obliczy tym wicej mogli poznawa i przewidywa; Szczeglnie wan rol peniy obliczenia w szyfrowaniu wiadomoci; Aby zama szyfr naleao wykona nieporwnywalnie wicej oblicze zatem istniao cige zapotrzebowanie na rozwj technik i szybkoci liczenia"
	push "Historia18"
	push "snd15"
	push "Matematycy zaczli budowa pierwsze mechaniczne maszyny liczce; Jednak byy one bardzo skomplikowane"
	push "Historia19"
	push "snd16"
	push "Dzisiejsze komputery pracuj w oparciu o prawa logiki matematycznej ktra wzia swoj nazw od angielskiego matematyka Georgesa Boolea"
	push "Historia21"
	push "snd17"
	push "Cho nie sposb wyliczy wszystkich rzeczy ktre moe robi komputer jego praca opiera si na dziaaniu milionw maych elementw wykonujcych bardzo proste operacje; Tak jak te 4 bramki ktre wyliczaj podstawowe funkcje logiczne"
	push "Historia24"
	push "snd18"
	push "Jeli te proste elementy poczymy w wiksze ukady bd wykonyway coraz bardziej zoone operacje"
	push "Historia28"
	push "snd19"
	push "Te zoone operacje rozwija i bada angielski matematyk Alan Turing"
	push "Historia29"
	push "snd20"
	push "Wymyli on hipotetyczny komputer nazywany maszyn Turinga ktry przyczyni si do powstania algorytmw i jzykw programowania"
	push "Historia30"
	push "snd21"
	push "Model dzisiejszego komputera pracuje w oparciu o t sam ide; Sercem komputera jest procesor ktry wykonuje instrukcje"
	push "Historia32"
	push "snd22"
	push "Instrukcje do wykonania czyta z pamici; Ta sama pami przechowuje rwnie dane ktre nie s rozkazami; Na przykad obrazy do wywietlenia na ekranie czy muzyk"
	push "Historia33"
	push "snd23"
	push "Wszystkie podzespoy umocowane s na pycie gwnej ktra umoliwia komunikacj midzy nimi"
	push "Historia34"
	push "snd24"
	push "I doprowadza zasilanie"
	push "Historia35"
	push "snd25"
	push "Specjalne kontrolery interpretuj sygnay urzdze wejciowych takich jak klawiatura"
	push "Historia37"
	push "snd26"
	push "czy mysz; Stan tych urzdze jest widoczny dla procesora poprzez komrki pamici; W informatyce mwimy na klawiatur Standardowe urzdzenie wejciowe w skrcie standardowe wejcie"
	push "Historia38"
	push "snd27"
	push "Dane z pamici czyta take karta graficzna ktra zamienia je na sygnay i wysya do monitora; Monitor jest Standardowym urzdzeniem wyjciowym w skrcie standardowym wyjciem"
	push "Historia40"
	cthis sounds=
	push "sndintro"
	cthis cbplay
	end method
	method Historia0
	push 1
	push 1
	cthis mplay
	end method
	method Historia1
	call grep,hide
	push 2
	push 2
	cthis mplay
	end method
	method Historia2
	push GAME
	spushs
	spop $a
	call [$a],Historia3
	end method
	method Historia3
	push 1
	pop igmstate
	new gmimgvec,greg
	push A
	push "egipskieH.pyz"
	push "cyfryeg.pyz"
	cthis imgs=
	call grep,hide
	localint $1
	push 50
	pop $1
	new int,ilasth
	push 0
	pop ilasth
	new int,iposy
	call ancyfryeg,getey
	push 50
	pop $b
	popax
	add $a,$b
	pop iposy
	push 7
	push $1
	cthis megipt
	pop $1
	push 13
	push $1
	cthis megipt
	pop $1
	push 28
	push $1
	cthis megipt
	pop $1
	push 74
	push $1
	cthis megipt
	pop $1
	push 339
	push $1
	cthis megipt
	pop $1
	push 1003
	push $1
	cthis megipt
	pop $1
	push 3121
	push $1
	cthis megipt
	pop $1
	push 436
	push $1
	cthis megipt
	pop $1
	push 2008
	push $1
	cthis megipt
	pop $1
	push 25
	push $1
	cthis megipt
	pop $1
	push "snd3"
	cthis cbplay
	push "ok"
	push "rd"
	cthis cshowbut
	end method
	method Historia4
	call clp,stoph
	end method
	method Historia5
	push 2
	pop igmstate
	call clp,stoph
	call tc1,enable
	end method
	method Historia6
	push 2
	pop igmstate
	cthis menabl
	end method
	method Historia7
	push GAME
	spushs
	spop $a
	call [$a],Historia8
	end method
	method Historia8
	push 3
	pop igmstate
	push 3
	cthis mshow
	call grtc,deleteallgmobj
	delete grtc
	call greg,deleteallgm
	call greg,free
	delete anegipskie
	call ancyfryeg,getey
	push 50
	pop $b
	popax
	add $a,$b
	pop iposy
	delete ancyfryeg
	push "snd7"
	cthis cbplay
	end method
	method Historia9
	push GAME
	spushs
	spop $a
	call [$a],Historia10
	end method
	method Historia10
	call grep,deleteallgm
	call grep,free
	push "grep"
	push "story2.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grep,hide
	push 0
	cthis mshow
	call greg,deleteallgm
	delete greg
	push "snd8"
	cthis cbplay
	end method
	method Historia11
	push 9
	push 1
	cthis mplay
	end method
	method Historia12
	push 10
	push 2
	cthis mplay
	end method
	method Historia13
	push 11
	push 3
	cthis mplay
	end method
	method Historia14
	push GAME
	spushs
	spop $a
	call [$a],Historia15
	end method
	method Historia15
	call grep,deleteallgm
	call grep,free
	push "grep"
	push "story3.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grep,hide
	push 0
	cthis mshow
	push "snd12"
	cthis cbplay
	end method
	method Historia16
	push 13
	push 1
	cthis mplay
	end method
	method Historia17
	push 14
	push 2
	cthis mplay
	end method
	method Historia18
	push 15
	push 3
	cthis mplay
	end method
	method Historia19
	push GAME
	spushs
	spop $a
	call [$a],Historia20
	end method
	method Historia20
	call grep,deleteallgm
	call grep,free
	push A
	push "story4.pyz"
	push "bramki.pyzH"
	cthis imgs=
	push "snd16"
	cthis cbplay
	end method
	method Historia21
	push GAME
	spushs
	spop $a
	call [$a],Historia22
	end method
	method Historia22
	new gmimgvec,grb
	new db,dbp
	push A
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 20
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 22
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 23
	push 1
	push 4
	call dbp,dbbuild
	cthis mcode
	push "timtik"
	push 500
	push "Historia23"
	cthis timer=
	call timtik,play
	push "snd17"
	cthis cbplay
	end method
	method Historia23
	localint $1
	push 0
	call dbp,getcolsno
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	call dbp,getrowsno
	pop $6
	localint $7
	push 0
	pop $7
l4352:
	push $7
	push $6
	cmpjl
	cmp0
	je l4353
	jmp l4355
l4354:
	add $7,1
	pop $7
	jmp l4352
l4355:
	push $7
	push 0
	call dbp,get
	spushs
	push 1
	cmpst
	je l4358
	push 101
	cmpst
	je l4358
	jmp l4357
l4358:
	spop $a
	push $7
	push 0
	push 2
	spushs
	spop $h
	call $h,rand
	cthis mset
	jmp l4356
l4357:
	spop $a
l4356:
	jmp l4354
l4353:
	localint $8
	push 1
	pop $8
l4359:
	push $8
	push $1
	cmpjl
	cmp0
	je l4360
	jmp l4362
l4361:
	add $8,1
	pop $8
	jmp l4359
l4362:
	localint $7
	push 0
	pop $7
l4363:
	push $7
	push $6
	cmpjl
	cmp0
	je l4364
	jmp l4366
l4365:
	add $7,1
	pop $7
	jmp l4363
l4366:
	push $7
	push $8
	call dbp,get
	pop $2
	push $7
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	call dbp,get
	pop $3
	push $7
	push 0
	cmpja
	cmp0
	je l4368
	push $7
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	call dbp,get
	cthis mbol
	pop $4
l4368:
	push $7
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4370
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	call dbp,get
	cthis mbol
	pop $5
l4370:
	push $2
	spushs
	push 1
	cmpst
	je l4373
	push 2
	cmpst
	je l4373
	push 4
	cmpst
	je l4373
	push 101
	cmpst
	je l4373
	push 102
	cmpst
	je l4373
	push 104
	cmpst
	je l4373
	jmp l4372
l4373:
	spop $a
	push $3
	spushs
	push 1
	cmpst
	je l4376
	push 2
	cmpst
	je l4376
	push 4
	cmpst
	je l4376
	push 20
	cmpst
	je l4376
	push 21
	cmpst
	je l4376
	push 22
	cmpst
	je l4376
	push 23
	cmpst
	je l4376
	jmp l4375
l4376:
	spop $a
	push $7
	push $8
	push 1
	cthis mset
	jmp l4374
l4375:
	push 101
	cmpst
	je l4378
	push 102
	cmpst
	je l4378
	push 104
	cmpst
	je l4378
	push 120
	cmpst
	je l4378
	push 121
	cmpst
	je l4378
	push 122
	cmpst
	je l4378
	push 123
	cmpst
	je l4378
	jmp l4377
l4378:
	spop $a
	push $7
	push $8
	push 0
	cthis mset
	jmp l4374
l4377:
	spop $a
	push $2
	spushs
	push 2
	cmpst
	je l4381
	push 102
	cmpst
	je l4381
	jmp l4380
l4381:
	spop $a
	push $7
	push $8
	push $7
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	call dbp,get
	cthis mbol
	cthis mset
	jmp l4379
l4380:
	push 4
	cmpst
	je l4383
	push 104
	cmpst
	je l4383
	jmp l4382
l4383:
	spop $a
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
l4384:
	push $3
	push $8
	call dbp,get
	spushs
	spop $h
	call $h,to_i
	push 0
	cmpjne
	cmp0
	je l4385
	jmp l4387
l4386:
	add $3,1
	pop $3
	jmp l4384
l4387:
	jmp l4386
l4385:
	push $7
	push $8
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	call dbp,get
	cthis mbol
	cthis mset
	jmp l4379
l4382:
	spop $a
	push $7
	push 0
	cmpja
	cmp0
	je l4389
	push $7
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	call dbp,get
	spushs
	spop $h
	call $h,to_i
	push 0
	cmpja
	jmp l4391
l4389:
	push 0
	jmp l4391
l4390:
	push 1
l4391:
	cmp0
	je l4392
	push $7
	push $8
	push $7
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	call dbp,get
	cthis mbol
	cthis mset
	jmp l4388
l4392:
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
l4393:
	push $3
	push $8
	call dbp,get
	spushs
	spop $h
	call $h,to_i
	push 0
	cmpjne
	cmp0
	je l4394
	jmp l4396
l4395:
	add $3,1
	pop $3
	jmp l4393
l4396:
	jmp l4395
l4394:
	push $7
	push $8
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	call dbp,get
	cthis mbol
	cthis mset
l4388:
l4379:
l4374:
	jmp l4371
l4372:
	push 20
	cmpst
	je l4398
	push 120
	cmpst
	je l4398
	jmp l4397
l4398:
	spop $a
	push $7
	push $8
	push $4
	cmp0
	je l4399
	push $5
	jmp l4401
l4399:
	push 0
	jmp l4401
l4400:
	push 1
l4401:
	cthis mset
	jmp l4371
l4397:
	push 21
	cmpst
	je l4403
	push 121
	cmpst
	je l4403
	jmp l4402
l4403:
	spop $a
	push $7
	push $8
	push $4
	neg
	cmp0
	jne l4405
	push $5
	neg
	jmp l4406
l4404:
	push 0
	jmp l4406
l4405:
	push 1
l4406:
	cthis mset
	jmp l4371
l4402:
	push 22
	cmpst
	je l4408
	push 122
	cmpst
	je l4408
	jmp l4407
l4408:
	spop $a
	push $7
	push $8
	push $4
	cmp0
	jne l4410
	push $5
	jmp l4411
l4409:
	push 0
	jmp l4411
l4410:
	push 1
l4411:
	cthis mset
	jmp l4371
l4407:
	push 23
	cmpst
	je l4413
	push 123
	cmpst
	je l4413
	jmp l4412
l4413:
	spop $a
	push $7
	push $8
	push $3
	cthis mbol
	neg
	cthis mset
	jmp l4371
l4412:
	spop $a
l4371:
	jmp l4365
l4364:
	jmp l4361
l4360:
	cthis play
	end method
	method Historia24
	push GAME
	spushs
	spop $a
	call [$a],Historia25
	end method
	method Historia25
	push 0
	call timtik,stop
	call grb,deleteallgm
	call grb,free
	push A
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 20
	push 1
	push 1
	push 2
	push 0
	push 0
	push 1
	push 1
	push 1
	push 1
	push 1
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 14
	push 0
	push 0
	push 0
	push 0
	push 20
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 1
	push 2
	push 0
	push 0
	push 1
	push 0
	push 0
	push 1
	push 1
	push 23
	push 1
	push 1
	push 0
	push 0
	push 0
	push 2
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 14
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 20
	push 1
	push 1
	push 23
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 21
	push 1
	push 23
	push 1
	push 1
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 0
	push 12
	push 0
	push 0
	push 1
	push 1
	push 23
	push 1
	push 1
	push 1
	push 4
	push 0
	push 0
	push 0
	push 0
	push 2
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 14
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 20
	push 1
	push 1
	push 2
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 2
	push 0
	push 0
	push 0
	push 22
	push 1
	push 2
	push 0
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 1
	push 0
	push 0
	push 1
	push 1
	push 0
	push 0
	push 14
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 1
	push 2
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 0
	push 2
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 1
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 22
	push 1
	push 4
	push 0
	push 0
	push 1
	push 23
	push 1
	push 1
	push 4
	push 0
	push 0
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 1
	push 1
	push 1
	push 1
	push 1
	push 4
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 12
	push 0
	push 0
	push 12
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 2
	push 0
	push 0
	push 1
	push 1
	push 23
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 22
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 21
	push 1
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 1
	push 1
	push 1
	push 1
	push 1
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 0
	push 14
	call dbp,dbbuild
	cthis mcode
	push "snd18"
	cthis cbplay
	push "tim2"
	push 5000
	push "Historia26"
	cthis timer=
	call timtik,play
	end method
	method Historia26
	push GAME
	spushs
	spop $a
	call [$a],Historia27
	end method
	method Historia27
	call grb,deleteallgm
	delete grb
	delete timtik
	delete dbp
	delete anbramki
	delete anstory4
	push "grep"
	push "story5.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grep,hide
	push 0
	cthis mshow
	push "snd19"
	cthis cbplay
	end method
	method Historia28
	call tim2,play
	end method
	method Historia29
	push 20
	push 1
	cthis mplay
	end method
	method Historia30
	push GAME
	spushs
	spop $a
	call [$a],Historia31
	end method
	method Historia31
	call grep,deleteallgm
	call grep,free
	push "grep"
	push "story6.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 5
	call grep,setz
	push 2
	call grep,get
	spushs
	push 4
	spop $a
	call [$a],setz
	push "obudowa6.pyz 3"
	cthis img=
	call grep,hide
	push 21
	push 0
	cthis mplay
	new def,stdfont14
	push 14
	cthis stdfont
	pop stdfont14
	end method
	method Historia32
	push 22
	push 1
	cthis mplay
	end method
	method Historia33
	push 23
	push 2
	cthis mplay
	end method
	method Historia34
	push 24
	push 3
	cthis mplay
	end method
	method Historia35
	push 25
	push 4
	cthis mplay
	push GAME
	spushs
	spop $a
	call [$a],Historia36
	end method
	method Historia36
	push stdfont14
	push 14
	push "$path:"
	push "stdin"
	cthis lang_path
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	push 128
	push 0
	push 0
	push 650
	push 350
	push 5
	push 50
	push "center"
	new TextDb,tdin
	push 1
	call tdin,stdshadow
	end method
	method Historia37
	push 26
	push 5
	cthis mplay
	end method
	method Historia38
	push 27
	push 6
	cthis mplay
	push GAME
	spushs
	spop $a
	call [$a],Historia39
	end method
	method Historia39
	push stdfont14
	push 14
	push "$path:"
	push "stdout"
	cthis lang_path
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	push 128
	push 0
	push 0
	push 10
	push 250
	push 5
	push 50
	push "center"
	new TextDb,tdout
	push 1
	call tdout,stdshadow
	end method
	method Historia40
	push "Historia41"
	call ccs,close
	end method
	method Historia41
	call ccs,show
	push "epizod"
	push "Komputer"
	call clsave,set
	push "adxvsala"
	push "gameadxvsala0"
	cthis gotoadv
	end method
	method mbol
	localint $1
	pop $1
	push $1
	push 100
	cmpjl
	cmp0
	je l4415
	push 1
	jmp l4414
l4415:
	push 0
l4414:
	end method
	method mset
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	call dbp,get
	pop $4
	push $4
	push 100
	cmpja
	cmp0
	je l4417
	push $3
	jmp l4419
l4417:
	push 0
	jmp l4419
l4418:
	push 1
l4419:
	cmp0
	je l4420
	push 100
	popax
	sub $4,$a
	pop $4
	jmp l4416
l4420:
	push $4
	push 100
	cmpjl
	cmp0
	je l4422
	push $3
	neg
	jmp l4424
l4422:
	push 0
	jmp l4424
l4423:
	push 1
l4424:
	cmp0
	je l4425
	push 100
	popax
	add $4,$a
	pop $4
l4425:
l4416:
	push $1
	push $2
	push $4
	call dbp,set
	localstring $5
	push "anb"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $a
	call [$a],gettype
	push "img"
	cmpje
	cmp0
	je l4427
	push $5
	spushs
	push $5
	spushs
	spop $a
	call [$a],getw
	push $5
	spushs
	spop $a
	call [$a],geth
	push $4
	cthis mcol
	push 255
	spop $a
	call [$a],create
l4427:
	end method
	method mcode
	localstring $1
	localint $2
	push 0
	call dbp,getcolsno
	pop $2
	localint $3
	localint $4
	localint $5
	localint $6
	push 0.85
	call anbramki,getw
	pop $b
	popax
	mul $a,$b
	pop $6
	localint $7
	call anbramki,geth
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop $7
	localint $8
	localint $9
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 100
	pop $b
	popax
	sub $a,$b
	pop $9
	localint $10
	push 100
	pop $10
	push 0
	pop $3
l4428:
	push $3
	push $2
	cmpjl
	cmp0
	je l4429
	jmp l4431
l4430:
	add $3,1
	pop $3
	jmp l4428
l4431:
	push 0
	pop $5
l4432:
	push $5
	call dbp,getrowsno
	cmpjl
	cmp0
	je l4433
	jmp l4435
l4434:
	add $5,1
	pop $5
	jmp l4432
l4435:
	push "anb"
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $1
	push $5
	push $3
	call dbp,get
	pop $4
	push $4
	spushs
	push 1
	cmpst
	je l4438
	push 101
	cmpst
	je l4438
	jmp l4437
l4438:
	spop $a
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $6
	push 2
	push $4
	cthis mcol
	push 255
	spop $a
	call [$a],create
	push $1
	spushs
	push 40
	spop $a
	call [$a],setz
	push $1
	spushs
	push $9
	push $6
	push $3
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $10
	push $7
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	call grb,add
	jmp l4436
l4437:
	push 2
	cmpst
	je l4440
	push 4
	cmpst
	je l4440
	push 14
	cmpst
	je l4440
	push 12
	cmpst
	je l4440
	push 102
	cmpst
	je l4440
	push 104
	cmpst
	je l4440
	jmp l4439
l4440:
	spop $a
	push $1
	spushs
	spop $e
	new img,[$e]
	push $4
	push 14
	cmpje
	cmp0
	jne l4443
	push $4
	push 12
	cmpje
	jmp l4444
l4442:
	push 0
	jmp l4444
l4443:
	push 1
l4444:
	cmp0
	je l4445
	push 10
	popax
	sub $4,$a
	pop $4
	push $5
	push $3
	push $4
	call dbp,set
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	pop $8
	jmp l4441
l4445:
	push $7
	pop $8
l4441:
	push $1
	spushs
	push 2
	push $8
	push $4
	cthis mcol
	push 255
	spop $a
	call [$a],create
	push $1
	spushs
	push 40
	spop $a
	call [$a],setz
	push $1
	spushs
	push $9
	push $6
	push $3
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $10
	push $7
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $4
	push 4
	cmpje
	cmp0
	jne l4448
	push $4
	push 104
	cmpje
	jmp l4449
l4447:
	push 0
	jmp l4449
l4448:
	push 1
l4449:
	cmp0
	je l4450
	push $1
	spushs
	push 0
	push $7
	popax
	sub 0,$a
	push 2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
	jmp l4446
l4450:
	push $8
	push $7
	cmpja
	cmp0
	je l4452
	push $1
	spushs
	push 0
	push $7
	popax
	sub 0,$a
	spop $a
	call [$a],move
l4452:
l4446:
	push $1
	call grb,add
	jmp l4436
l4439:
	push 20
	cmpst
	je l4454
	push 21
	cmpst
	je l4454
	push 22
	cmpst
	je l4454
	push 23
	cmpst
	je l4454
	jmp l4453
l4454:
	spop $a
	push "anbramki"
	push $1
	cthis copyanima
	push $1
	spushs
	push $4
	push 20
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	spushs
	push 50
	spop $a
	call [$a],setz
	push $1
	spushs
	push $9
	push $6
	push $3
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $10
	push $7
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	call grb,add
	jmp l4436
l4453:
	spop $a
l4436:
	jmp l4434
l4433:
	jmp l4430
l4429:
	end method
	method mcol
	localint $1
	pop $1
	push $1
	spushs
	push 101
	cmpst
	je l4457
	push 102
	cmpst
	je l4457
	push 104
	cmpst
	je l4457
	push 120
	cmpst
	je l4457
	push 121
	cmpst
	je l4457
	push 122
	cmpst
	je l4457
	push 123
	cmpst
	je l4457
	jmp l4456
l4457:
	spop $a
	cthis blue
	jmp l4455
l4456:
	spop $a
	cthis red
l4455:
	end method
	method madd
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l4459
	push 0
	ret
l4459:
	localdef $4
	push "aneg"
	call greg,size
	pop $b
	popax
	add $a,$b
	pop $4
	push igmstate
	push 3
	cmpje
	cmp0
	je l4461
	push $1
	spushs
	push 7
	cmpst
	jne l4463
	spop $a
	push "VII"
	jmp l4462
l4463:
	push 13
	cmpst
	jne l4464
	spop $a
	push "XIII"
	jmp l4462
l4464:
	push 28
	cmpst
	jne l4465
	spop $a
	push "XXVIII"
	jmp l4462
l4465:
	push 74
	cmpst
	jne l4466
	spop $a
	push "LXXIV"
	jmp l4462
l4466:
	push 339
	cmpst
	jne l4467
	spop $a
	push "CCCXXXIX"
	jmp l4462
l4467:
	push 1003
	cmpst
	jne l4468
	spop $a
	push "MIII"
	jmp l4462
l4468:
	push 3121
	cmpst
	jne l4469
	spop $a
	push "MMMCXXI"
	jmp l4462
l4469:
	push 436
	cmpst
	jne l4470
	spop $a
	push "CDXXXVI"
	jmp l4462
l4470:
	push 2008
	cmpst
	jne l4471
	spop $a
	push "MMVIII"
	jmp l4462
l4471:
	push 25
	cmpst
	jne l4472
	spop $a
	push "XXV"
	jmp l4462
l4472:
	spop $a
	push "MM"
l4462:
	localstring $5
	pop $5
	push $4
	push $5
	push stdfont24
	push 0
	push 0
	push 128
	cthis newtext
	jmp l4460
l4461:
	push "anegipskie"
	push $4
	cthis copyanima
	push $4
	spushs
	push 0
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
l4460:
	push $4
	spushs
	spop $a
	call [$a],show
	push $4
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $4
	call greg,add
	push $4
	spushs
	spop $a
	call [$a],geth
	push ilasth
	cmpja
	cmp0
	je l4474
	push $4
	spushs
	spop $a
	call [$a],geth
	pop ilasth
l4474:
	push $4
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	add $a,$b
	end method
	method megipt
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push iposy
	pop $3
	localstring $4
	localint $5
	localint $6
	push igmstate
	push 3
	cmpje
	cmp0
	je l4476
	push $1
	push $2
	push $3
	cthis madd
	popax
	add $2,$a
	pop $2
	jmp l4475
l4476:
	localint $7
	push 0
	pop $7
l4477:
	push $7
	call $1,length
	cmpjl
	cmp0
	je l4478
	jmp l4480
l4479:
	add $7,1
	pop $7
	jmp l4477
l4480:
	push $7
	push 1
	call $1,getb
	pop $5
	call $1,length
	push $7
	pop $b
	popax
	sub $a,$b
	spushs
	push 0
	cmpst
	jne l4482
	spop $a
	jmp l4481
l4482:
	push 1
	cmpst
	jne l4483
	spop $a
	push $7
	push 1
	call $1,getb
	push $2
	push $3
	cthis madd
	popax
	add $2,$a
	pop $2
	jmp l4481
l4483:
	push 2
	cmpst
	jne l4484
	spop $a
	push 0
	pop $6
l4485:
	push $6
	push $5
	cmpjl
	cmp0
	je l4486
	jmp l4488
l4487:
	add $6,1
	pop $6
	jmp l4485
l4488:
	push 10
	push $2
	push $3
	cthis madd
	popax
	add $2,$a
	pop $2
	jmp l4487
l4486:
	jmp l4481
l4484:
	push 3
	cmpst
	jne l4489
	spop $a
	push 0
	pop $6
l4490:
	push $6
	push $5
	cmpjl
	cmp0
	je l4491
	jmp l4493
l4492:
	add $6,1
	pop $6
	jmp l4490
l4493:
	push 11
	push $2
	push $3
	cthis madd
	popax
	add $2,$a
	pop $2
	jmp l4492
l4491:
	jmp l4481
l4489:
	push 4
	cmpst
	jne l4494
	spop $a
	push 0
	pop $6
l4495:
	push $6
	push $5
	cmpjl
	cmp0
	je l4496
	jmp l4498
l4497:
	add $6,1
	pop $6
	jmp l4495
l4498:
	push 12
	push $2
	push $3
	cthis madd
	popax
	add $2,$a
	pop $2
	jmp l4497
l4496:
	jmp l4481
l4494:
	spop $a
l4481:
	jmp l4479
l4478:
l4475:
	push "txeg"
	call greg,size
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	call greg,add
	push $4
	push " = "
	push $1
	pop $b
	popax
	add $a,$b
	push stdfont24
	cthis black
	cthis newtext
	push igmstate
	push 3
	cmpje
	cmp0
	je l4500
	push $4
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	jmp l4499
l4500:
	push $4
	spushs
	push $2
	push 5
	pop $b
	popax
	add $a,$b
	push $3
	push 10
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l4499:
	push $4
	spushs
	spop $a
	call [$a],getw
	push 50
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push $2
	push iResX
	push 200
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l4502
	push 50
	pop $2
	push 50
	popax
	add iposy,$a
	pop iposy
l4502:
	push $2
	end method
	method mhide
	localint $1
	pop $1
	push $1
	call grep,get
	spushs
	spop $a
	call [$a],hide
	end method
	method mshow
	localint $1
	pop $1
	push $1
	call grep,get
	spushs
	spop $a
	call [$a],show
	end method
	method mplay
	localint $1
	localint $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push $2
	cthis mshow
	end method
	method mtc
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push stdfont24
	push 24
	push 32
	cthis grey
	push "0"
	push 5
	spop $e
	new ConTextTyper,[$e]
	push $3
	push $2
	cthis megipt
	pop $2
	localdef $4
	call greg,last
	pop $4
	push $4
	spushs
	push " = "
	spop $a
	call [$a],txtset
	push $1
	spushs
	push $4
	spushs
	spop $a
	call [$a],getex
	push $4
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $1
	call grtc,add
	push $2
	push 10
	pop $b
	popax
	add $a,$b
	end method
	method cbok_CLICK
	push igmstate
	spushs
	push 1
	cmpst
	jne l4504
	spop $a
	push GAME
	spushs
	spop $a
	call [$a],Historia42
	jmp l4503
l4504:
	push 2
	cmpst
	jne l4505
	spop $a
	push 0
	pop igmstate
	push "disable"
	call grtc,eval
	call tc1,get
	push 26
	cmpje
	cmp0
	je l4507
	call tc2,get
	push 319
	cmpje
	cmp0
	je l4507
	call tc3,get
	push 2215
	cmpje
	jmp l4509
l4507:
	push 0
	jmp l4509
l4508:
	push 1
l4509:
	cmp0
	jne l4511
	push igmdebug
	jmp l4512
l4510:
	push 0
	jmp l4512
l4511:
	push 1
l4512:
	cmp0
	je l4513
	push "snd6"
	cthis cbplay
	jmp l4506
l4513:
	push "snd5"
	cthis cbplay
l4506:
	jmp l4503
l4505:
	spop $a
l4503:
	end method
	method Historia42
	push 0
	pop igmstate
	push "snd4"
	cthis cbplay
	push 15
	popax
	add iposy,$a
	pop iposy
	new gmimgvec,grtc
	localint $1
	push "tc1"
	push 20
	push 26
	cthis mtc
	pop $1
	push "tc2"
	push $1
	push 319
	cthis mtc
	pop $1
	push "tc3"
	push $1
	push 2215
	cthis mtc
	pop $1
	call tc2,getpx
	push 50
	pop $b
	popax
	add $a,$b
	call tc2,getpy
	push "dd"
	call clp,show
	new int,ienabl
	push 0
	pop ienabl
	end method
	method menabl
	push ienabl
	call grtc,get
	spushs
	spop $a
	call [$a],enable
	end method
	method key_down
	push igmstate
	spushs
	push 2
	cmpst
	jne l4515
	spop $a
	push "enter"
	call keyboard,iskey
	cmp0
	je l4517
	push "disable"
	call grtc,eval
	push ienabl
	push 1
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	pop ienabl
	cthis menabl
l4517:
	jmp l4514
l4515:
	spop $a
l4514:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4519
	push 1
	cthis cactsndstop
l4519:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push igmstate
	spushs
	push 2
	cmpst
	jne l4521
	spop $a
	push $1
	push $2
	push 1
	push 0
	call grtc,isin
	cmp0
	je l4523
	push "disable"
	call grtc,eval
	call grtc,getfound
	pop ienabl
	cthis menabl
l4523:
	jmp l4520
l4521:
	spop $a
l4520:
	end method
	end game

	game Komp
	parent Computro
	method init
	push "komp"
	clparent Computro,init
	push A
	push "bg.pyz"
	push "maskiH.pyz"
	push "mask2.Hpyz"
	push "kableH.pyz 100"
	cthis imgs=
	push A
	push "getpuz 50"
	push "putpuz 50"
	cthis sfxs=
	new gmimgvec,grdev
	push "grdev"
	push "devs.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new DelayMover,cmov
	new vector,vkb
	call anmask2,nofactions
	push 1
	call vkb,resize
	new vector,vpt
	call anmaski,nofactions
	push 1
	call vpt,resize
	call cmov,unlock
	push 1
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4525
	ret
l4525:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 0
	push 1
	call anmask2,anisin
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l4527
	push $3
	call vkb,get
	jmp l4529
l4527:
	push 0
	jmp l4529
l4528:
	push 1
l4529:
	cmp0
	je l4530
	push "k"
	push $3
	call anmask2,nameofaction
	spushs
	push "_m2"
	spop $h
	call $h,strsubes
	pop $b
	popax
	add $a,$b
	push 0
	call ankable,setframe
	call ankable,show
	push "ankable"
	cthis setpobj
	cthis msmove
	call fxgetpuz,play
l4530:
	end method
	method cmov_PUT
	cthis getfree
	popax
	call ankable,hide
	localdef $1
	call ankable,actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	pop $1
	push $1
	push "_mask"
	pop $b
	popax
	add $a,$b
	push 0
	call anmaski,setframe
	call mouse,getpos
	push 0
	push 0
	call anmaski,isin
	cmp0
	je l4532
	push 1
	popax
	sub 0,$a
	call anmaski,actionnr
	push 0
	call vpt,set
	push $1
	push "_m2"
	pop $b
	popax
	add $a,$b
	call anmask2,actionnr
	push 0
	call vkb,set
	push $1
	call grdev,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call fxputpuz,play
	call vkb,vecsum
	push 0
	cmpje
	cmp0
	je l4534
	push "Komp0"
	call ccs,close
l4534:
l4532:
	end method
	method Komp0
	call ccs,show
	push "Komputer"
	pop sgmlastscene
	push "epizod"
	push "Siec"
	call clsave,set
	push "adinania"
	push "gameadinania0"
	cthis gotoadv
	end method
	method mouse_move
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	call cmov,moving
	cmp0
	je l4536
	push $1
	push $2
	push 0
	push 0
	call anmaski,anisin
	pop $3
	push $3
	push 3
	cmpje
	cmp0
	je l4538
	push 3
	call vpt,get
	push 0
	cmpje
	jmp l4540
l4538:
	push 0
	jmp l4540
l4539:
	push 1
l4540:
	cmp0
	je l4541
	push 4
	pop $3
l4541:
	push $3
	push 0
	cmpjae
	cmp0
	je l4542
	push $3
	call vpt,get
	jmp l4544
l4542:
	push 0
	jmp l4544
l4543:
	push 1
l4544:
	cmp0
	je l4546
	call bsms,setact
	jmp l4545
l4546:
	call bsms,setstd
l4545:
	jmp l4535
l4536:
	push $1
	push $2
	push 0
	push 1
	call anmask2,anisin
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l4547
	push $3
	call vkb,get
	jmp l4549
l4547:
	push 0
	jmp l4549
l4548:
	push 1
l4549:
	cmp0
	je l4551
	call bsms,setact
	jmp l4550
l4551:
	call bsms,setstd
l4550:
l4535:
	end method
	end game

	game Sysopold
	parent Computro
	method init
	push "sysop"
	clparent Computro,init
	push "bg.pyz"
	cthis img=
	call anbg,anaddfilter
	new real,rsetzoom
	push 1
	pop rsetzoom
	new real,rzoomer
	push 0.01
	pop rzoomer
	new def,stdmono12
	push "configs/fonts/mono.ttf"
	push 12
	cthis snewfont
	pop stdmono12
	new def,stdfont12
	push "configs/fonts/normal.ttf"
	push 12
	cthis snewfont
	pop stdfont12
	new def,stdfont14
	push "configs/fonts/normal.ttf"
	push 14
	cthis snewfont
	pop stdfont14
	new def,cols
	push 40
	pop cols
	push "grti"
	push "text"
	push "txti"
	push cols
	cthis newimgarray
	push "Sysopold0"
	call grti,each
	new def,column
	push 0
	pop column
	new def,ilimit
	push 60
	pop ilimit
	new string,Code
	push "Code"
	clparent Lexer,setas
	push A
	push "../"
	push "./"
	push "/"
	push ".."
	push "."
	push "|"
	push ">"
	push ">>"
	push "<"
	push "<<"
	push "-al"
	push "-la"
	push "-a"
	push "-l"
	push "ls"
	push "'"
	call Code,consts=
	new vector,vec1
	push "string"
	call vec1,type
	push stdmono12
	push 12
	cthis white
	push "at0 !@#$%^&*()-=_+{}|\\[];':\",./<>?"
	push ilimit
	new ConTextTyper,ttp
	push GAME
	push "mcheck"
	call ttp,onenter
	push stdfont12
	push 12
	push "helpos.db"
	push 1
	push 4
	push 52
	push 491
	push 91
	push 2
	push 50
	push "left"
	new TextDb,tdhp
	call tdhp,hide
	new def,Level
	push 0
	pop Level
	new def,HelpLevel
	push 0
	pop HelpLevel
	new def,sublevel
	push 0
	pop sublevel
	new def,benter
	push 0
	pop benter
	new def,spasswd
	push ""
	pop spasswd
	new def,sread
	push ""
	pop sread
	new def,Dir
	push "~"
	pop Dir
	new def,retdir
	push "~"
	pop retdir
	push 50
	push 20
	push 700
	push 525
	new gfxSquare,gsq
	push 0
	push 128
	push 0
	push 220
	call gsq,set
	call gsq,build
	push 500
	call gsq,setz
	call gsq,hide
	push A
	push "pik"
	push "type2 50"
	push "blink 50"
	cthis sfxs=
	push A
	push "sndok"
	push "okej"
	push "null"
	push "sndend"
	push "Doskonale! Wszystkie zadania z tej lekcji wykonane! Przeczytaj wnioski i kliknij aby powrci do menu gwnego"
	push "Sysopold1"
	cthis sounds=
	push "onstart"
	push "Sysopold2"
	call fxpik,addmethod
	push "timtik"
	push 300
	push "Sysopold3"
	cthis timer=
	call timtik,play
	end method
	method Sysopold0
	localdef $1
	pop $1
	push stdmono12
	cthis setfont
	push 12
	push 54
	push $1
	push 12
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setpos
	cthis white
	cthis createtxt
	end method
	method Sysopold1
	push GAME
	spushs
	spop $a
	call [$a],buildopis
	push 11
	pop igmstate
	end method
	method Sysopold2
	cthis mnext
	end method
	method Sysopold3
	cthis tickstart
	push rsetzoom
	push 1.3
	cmpjl
	cmp0
	je l4553
	push 0.01
	popax
	add rsetzoom,$a
	pop rsetzoom
	jmp l4552
l4553:
	push rsetzoom
	push 1.6
	cmpjl
	cmp0
	je l4555
	push 0.02
	popax
	add rsetzoom,$a
	pop rsetzoom
	jmp l4554
l4555:
	push 0.04
	popax
	add rsetzoom,$a
	pop rsetzoom
l4554:
l4552:
	push rsetzoom
	call anbg,setzoom
	call anbg,ancenterscreen
	push rsetzoom
	push 2
	cmpjl
	cmp0
	je l4557
	cthis play
l4557:
	cthis tickstop
	end method
	method mpos
	localint $1
	pop $1
	push ""
	call ttp,txtset
	push 9
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	push 54
	push $1
	push 12
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call ttp,setpos
	push ilimit
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	sub $a,$b
	call ttp,limit=
	end method
	method menable
	push column
	cthis mpos
	call ttp,enable
	end method
	method mout
	localstring $1
	pop $1
	push "txti"
	push column
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
	end method
	method moutln
	localstring $1
	pop $1
	push $1
	cthis mout
	cthis mnewline
	end method
	method mrewind
	localint $1
	push 0
	pop $1
l4558:
	push $1
	push cols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4559
	jmp l4561
l4560:
	add $1,1
	pop $1
	jmp l4558
l4561:
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "txti"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	jmp l4560
l4559:
	push "txti"
	push cols
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	push ""
	spop $a
	call [$a],txtset
	end method
	method mnewline
	add column,1
	pop column
	push column
	push cols
	cmpje
	cmp0
	je l4563
	sub column,1
	pop column
	cthis mrewind
l4563:
	end method
	method ttp_ontype
	call fxtype2,playif
	end method
	method mread
	call ttp,get
	pop Code
	push 0
	call Code,id=
	end method
	method mput
	localdef $1
	push "txti"
	push column
	pop $b
	popax
	add $a,$b
	pop $1
	cthis mread
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],get
	push Code
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],txtset
	push ""
	call ttp,txtset
	cthis mnewline
	end method
	method mclear
	call grti,txtreset
	end method
	method buildopis
	push "dbopis"
	cthis deletegmobj
	push "dbopis"
	push "help"
	push HelpLevel
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	cthis newdb
	push "tdopis"
	cthis deletegmobj
	push stdfont14
	push 10
	push "$var:dbopis"
	push 255
	push 255
	push 0
	push 65
	push 35
	push 4
	push 550
	push "left"
	new TextDb,tdopis
	add HelpLevel,1
	pop HelpLevel
	push 2
	pop igmstate
	call gsq,show
	call tdopis,show
	end method
	method viewzad
	push "dbzad"
	cthis deletegmobj
	push "dbzad"
	push "zad"
	push Level
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	cthis newdb
	push "tdzad"
	cthis deletegmobj
	push stdfont12
	push 10
	push "$var:dbzad"
	push 128
	push 0
	push 0
	push 485
	push 304
	push 3
	push 150
	push "left"
	new TextDb,tdzad
	add Level,1
	pop Level
	end method
	method mget0
	cthis mput
	call Code,clear
	call Code,length
	cmp0
	je l4565
	push 1
	ret
	jmp l4564
l4565:
	cthis mready
l4564:
	push 0
	end method
	method mget
	localstring $1
	pop $1
	cthis mget0
	cmp0
	je l4567
	push Code
	push $1
	cmpje
	cmp0
	je l4569
	push 1
	ret
l4569:
	cthis mno
l4567:
	push 0
	end method
	method mget2
	localstring $1
	pop $1
	cthis mget0
	cmp0
	je l4571
	push $1
	push " "
	push 1
	call Code,expects
	cmp0
	je l4573
	push 1
	ret
l4573:
	cthis mno
l4571:
	push 0
	end method
	method mget3
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis mget0
	cmp0
	je l4575
	push $1
	push " "
	push 1
	call Code,expects
	cmp0
	jne l4578
	push $2
	push " "
	push 1
	call Code,expects
	jmp l4579
l4577:
	push 0
	jmp l4579
l4578:
	push 1
l4579:
	cmp0
	je l4580
	push 1
	ret
l4580:
	cthis mno
l4575:
	push 0
	end method
	method mget4
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis mget0
	cmp0
	je l4582
	push $1
	push " "
	push 1
	call Code,expects
	cmp0
	jne l4585
	push $2
	push " "
	push 1
	call Code,expects
	cmp0
	jne l4585
	push $3
	push " "
	push 1
	call Code,expects
	jmp l4586
l4584:
	push 0
	jmp l4586
l4585:
	push 1
l4586:
	cmp0
	je l4587
	push 1
	ret
l4587:
	cthis mno
l4582:
	push 0
	end method
	method mcheck
	localstring $1
	localstring $2
	push 1
	pop benter
	push sublevel
	spushs
	push 0
	cmpst
	jne l4589
	spop $a
	cthis mput
	push " "
	call Code,contains
	cmp0
	jne l4592
	push "$alpha"
	push " "
	push 0
	call Code,expects
	neg
	jmp l4593
l4591:
	push 0
	jmp l4593
l4592:
	push 1
l4593:
	cmp0
	je l4594
	push "Login incorrect"
	cthis moutln
	cthis mstart
	jmp l4590
l4594:
	add sublevel,1
	pop sublevel
	push ""
	pop spasswd
	push "Password: "
	cthis mout
l4590:
	jmp l4588
l4589:
	push 3
	cmpst
	jne l4595
	spop $a
	push "passwd"
	cthis mget
	cmp0
	je l4597
	add sublevel,1
	pop sublevel
	push ""
	pop spasswd
	push "type current password: "
	cthis mout
l4597:
	jmp l4588
l4595:
	push 6
	cmpst
	jne l4598
	spop $a
	push "pwd"
	cthis mget
	cmp0
	je l4600
	push "/home/jacek"
	cthis moutln
	cthis mok
l4600:
	jmp l4588
l4598:
	push 7
	cmpst
	jne l4601
	spop $a
	push "ls"
	push "ls ."
	push "ls ./"
	cthis mget4
	cmp0
	je l4603
	push "lekcje  Mail  public_html"
	cthis moutln
	cthis mok
l4603:
	jmp l4588
l4601:
	push 8
	cmpst
	je l4605
	push 12
	cmpst
	je l4605
	jmp l4604
l4605:
	spop $a
	push "$alpha man ls"
	cthis mget2
	cmp0
	je l4607
	cthis manls
	cthis mnextsub
l4607:
	jmp l4588
l4604:
	push 9
	cmpst
	jne l4608
	spop $a
	push "ls -a"
	push "ls -a ."
	push "ls -a ./"
	cthis mget4
	cmp0
	je l4610
	push ".  ..  .adresy  lekcje  Mail  public_html  .zajecia"
	cthis moutln
	cthis mok
	jmp l4609
l4610:
	push 8
	pop sublevel
l4609:
	jmp l4588
l4608:
	push 10
	cmpst
	jne l4611
	spop $a
	push "ls $alpha Mail"
	push "ls $alpha Mail /"
	cthis mget3
	cmp0
	je l4613
	push "Mail"
	cthis misdir
	cmp0
	je l4615
	push "mbox"
	cthis moutln
	cthis mnextsub
	jmp l4614
l4615:
	cthis mno
l4614:
l4613:
	jmp l4588
l4611:
	push 11
	cmpst
	jne l4616
	spop $a
	push "ls -a .."
	push "ls -a ../"
	cthis mget3
	cmp0
	je l4618
	push ". .. jacek"
	cthis moutln
	cthis mok
	jmp l4617
l4618:
	push 10
	pop sublevel
l4617:
	jmp l4588
l4616:
	push 13
	cmpst
	jne l4619
	spop $a
	push "ls -l"
	push "ls -l ."
	push "ls -l ./"
	cthis mget4
	cmp0
	je l4621
	push "total 12"
	cthis moutln
	push "-rw-r--r-- 1 jacek jacek  415 2007-05-16 17:10 lekcje"
	cthis moutln
	push "drwx------ 2 jacek jacek 4096 2007-05-16 12:51 Mail"
	cthis moutln
	push "drwxr-xr-x 2 jacek jacek 4096 2007-05-16 13:05 public_html"
	cthis moutln
	cthis mok
	jmp l4620
l4621:
	push 12
	pop sublevel
l4620:
	jmp l4588
l4619:
	push 14
	cmpst
	jne l4622
	spop $a
	push "ls -l $alpha Mail"
	push "ls -l $alpha Mail /"
	cthis mget3
	cmp0
	je l4624
	push "Mail"
	cthis misdir
	cmp0
	je l4626
	push "total 0"
	cthis moutln
	push "-rw-r--r-- 1 jacek jacek 0 2007-05-16 12:51 mbox"
	cthis moutln
	cthis mok
	jmp l4625
l4626:
	cthis mno
l4625:
l4624:
	jmp l4588
l4622:
	push 15
	cmpst
	jne l4627
	spop $a
	push "ls -al"
	push "ls -la"
	cthis mget3
	cmp0
	je l4629
	push "total 28"
	cthis moutln
	push "drwxr-xr-x 4 jacek jacek 4096 2007-05-16 13:03 ."
	cthis moutln
	push "drwxr-xr-x 3 jacek jacek 4096 2007-05-16 11:27 .."
	cthis moutln
	push "-rw-r--r-- 1 jacek jacek  121 2007-05-16 13:03 .adresy"
	cthis moutln
	push "-rw-r--r-- 1 jacek jacek  415 2007-05-16 17:10 lekcje"
	cthis moutln
	push "drwx------ 2 jacek jacek 4096 2007-05-16 12:51 Mail"
	cthis moutln
	push "drwxr-xr-x 2 jacek jacek 4096 2007-05-16 13:05 public_html"
	cthis moutln
	push "-rw-r--r-- 1 jacek jacek  130 2007-05-16 13:00 .zajecia"
	cthis moutln
	cthis mok
l4629:
	jmp l4588
l4627:
	push 16
	cmpst
	jne l4630
	spop $a
	cthis mget0
	cmp0
	je l4632
	push A
	push "ls"
	push "/home/jacek"
	cthis misvec
	cmp0
	jne l4635
	push A
	push "ls"
	push "/home/jacek/"
	cthis misvec
	jmp l4636
l4634:
	push 0
	jmp l4636
l4635:
	push 1
l4636:
	cmp0
	je l4637
	push "lekcje  Mail  public_html"
	cthis moutln
	cthis mok
	jmp l4633
l4637:
	cthis mno
l4633:
l4632:
	jmp l4588
l4630:
	push 17
	cmpst
	jne l4638
	spop $a
	push "$alpha cat $alpha lekcje"
	cthis mget2
	cmp0
	je l4640
	cthis mcatlekcje
	cthis mok
l4640:
	jmp l4588
l4638:
	push 18
	cmpst
	jne l4641
	spop $a
	push "$alpha cat $alpha lekcje > $alpha plik_tmp"
	cthis mget2
	cmp0
	je l4643
	cthis mnextsub
l4643:
	jmp l4588
l4641:
	push 19
	cmpst
	jne l4644
	spop $a
	push "ls"
	push "ls ."
	push "ls ./"
	cthis mget4
	cmp0
	je l4646
	push "lekcje  Mail  plik_tmp  public_html"
	cthis moutln
	cthis mok
	jmp l4645
l4646:
	push 18
	pop sublevel
l4645:
	jmp l4588
l4644:
	push 20
	cmpst
	jne l4647
	spop $a
	push "$alpha cat $alpha lekcje"
	cthis mget2
	cmp0
	je l4649
	cthis mcatlekcje
	cthis mnextsub
l4649:
	jmp l4588
l4647:
	push 21
	cmpst
	jne l4650
	spop $a
	push "$alpha cat $alpha lekcje | $alpha grep $alpha rogramow"
	push "$alpha cat $alpha lekcje | $alpha grep ' $alpha rogramow '"
	cthis mget3
	cmp0
	je l4652
	push 0
	push 1
	call Code,gete
	push "'"
	cmpje
	cmp0
	je l4654
	push 0
	push 10
	call Code,gete
	push "'rogramow'"
	cmpje
	cmp0
	je l4656
	push "grep"
	call Code,find
	push 4
	pop $b
	popax
	add $a,$b
	push 1
	call Code,getb
	push " "
	cmpje
	jmp l4658
l4656:
	push 0
	jmp l4658
l4657:
	push 1
l4658:
	cmp0
	je l4659
	cthis mcatlek2
	cthis mok
	jmp l4655
l4659:
	cthis mno
	push 20
	pop sublevel
l4655:
	jmp l4653
l4654:
	cthis mcatlek2
	cthis mok
l4653:
	jmp l4651
l4652:
	push 20
	pop sublevel
l4651:
	jmp l4588
l4650:
	push 22
	cmpst
	jne l4660
	spop $a
	push "ls -a | $alpha grep $alpha a"
	push "ls -a | $alpha grep ' $alpha a '"
	cthis mget3
	cmp0
	je l4662
	push 0
	push 1
	call Code,gete
	push "'"
	cmpje
	cmp0
	je l4664
	push 0
	push 3
	call Code,gete
	push "'a'"
	cmpje
	cmp0
	je l4666
	push "grep"
	call Code,find
	push 4
	pop $b
	popax
	add $a,$b
	push 1
	call Code,getb
	push " "
	cmpje
	jmp l4668
l4666:
	push 0
	jmp l4668
l4667:
	push 1
l4668:
	cmp0
	je l4669
	push ".adresy"
	cthis moutln
	push "Mail"
	cthis moutln
	push ".zajecia"
	cthis moutln
	cthis mok
	jmp l4665
l4669:
	cthis mno
l4665:
	jmp l4663
l4664:
	push ".adresy"
	cthis moutln
	push "Mail"
	cthis moutln
	push ".zajecia"
	cthis moutln
	cthis mok
l4663:
l4662:
	jmp l4588
l4660:
	push 23
	cmpst
	jne l4670
	spop $a
	push "ls -a"
	push "ls -a ."
	push "ls -a ./"
	cthis mget4
	cmp0
	je l4672
	push ".  ..  .adresy  lekcje  Mail  plik_tmp  public_html  .zajecia"
	cthis moutln
	cthis mnextsub
l4672:
	jmp l4588
l4670:
	push 24
	cmpst
	jne l4673
	spop $a
	cthis mget0
	cmp0
	je l4675
	push A
	push "cat"
	push ".adresy"
	cthis misvec
	cmp0
	je l4677
	push "Magda, ul. Biala 1/5"
	cthis moutln
	push "Janek, ul. Zielona 6"
	cthis moutln
	push "Poziomka prof., ul. Cauchy 1/1"
	cthis moutln
	push "Ania, ul. Wegierska 3/52"
	cthis moutln
	push "Witek, ul. Maliny 6/66"
	cthis moutln
	cthis mnextsub
	jmp l4676
l4677:
	cthis mno
	push 23
	pop sublevel
l4676:
l4675:
	jmp l4588
l4673:
	push 25
	cmpst
	jne l4678
	spop $a
	push "$alpha cat . $alpha adresy | $alpha sort"
	cthis mget2
	cmp0
	je l4680
	push "adresy"
	call Code,find
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	call Code,getb
	push "."
	cmpje
	cmp0
	je l4682
	push "Ania, ul. Wegierska 3/52"
	cthis moutln
	push "Janek, ul. Zielona 6"
	cthis moutln
	push "Magda, ul. Biala 1/5"
	cthis moutln
	push "Poziomka prof., ul. Cauchy 1/1"
	cthis moutln
	push "Witek, ul. Maliny 6/66"
	cthis moutln
	cthis mnextsub
	jmp l4681
l4682:
	cthis mno
	push 23
	pop sublevel
l4681:
	jmp l4679
l4680:
	push 23
	pop sublevel
l4679:
	jmp l4588
l4678:
	push 26
	cmpst
	jne l4683
	spop $a
	push "$alpha cat . $alpha adresy | $alpha sort > $alpha nowe_adresy"
	cthis mget2
	cmp0
	je l4685
	push "adresy"
	call Code,find
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	call Code,getb
	push "."
	cmpje
	cmp0
	je l4687
	cthis mnextsub
	jmp l4686
l4687:
	cthis mno
	push 23
	pop sublevel
l4686:
	jmp l4684
l4685:
	push 23
	pop sublevel
l4684:
	jmp l4588
l4683:
	push 27
	cmpst
	jne l4688
	spop $a
	push "$alpha cat $alpha nowe_adresy"
	cthis mget2
	cmp0
	je l4690
	push "Ania, ul. Wegierska 3/52"
	cthis moutln
	push "Janek, ul. Zielona 6"
	cthis moutln
	push "Magda, ul. Biala 1/5"
	cthis moutln
	push "Poziomka prof., ul. Cauchy 1/1"
	cthis moutln
	push "Witek, ul. Maliny 6/66"
	cthis moutln
	cthis mok
	jmp l4689
l4690:
	push 23
	pop sublevel
l4689:
	jmp l4588
l4688:
	push 28
	cmpst
	jne l4691
	spop $a
	cthis mget0
	cmp0
	je l4693
	push A
	push "cd"
	push "public_html"
	cthis misvec
	cmp0
	jne l4696
	push A
	push "cd"
	push "public_html/"
	cthis misvec
	cmp0
	jne l4696
	push A
	push "cd"
	push "./public_html/"
	cthis misvec
	cmp0
	jne l4696
	push A
	push "cd"
	push "./public_html"
	cthis misvec
	jmp l4697
l4695:
	push 0
	jmp l4697
l4696:
	push 1
l4697:
	cmp0
	je l4698
	push "~/public_html"
	pop Dir
	cthis mnextsub
	jmp l4694
l4698:
	cthis mno
l4694:
l4693:
	jmp l4588
l4691:
	push 29
	cmpst
	jne l4699
	spop $a
	push "pwd"
	cthis mget
	cmp0
	je l4701
	push "/home/jacek/public_html"
	cthis moutln
	cthis mnextsub
	jmp l4700
l4701:
	push 28
	pop sublevel
l4700:
	jmp l4588
l4699:
	push 30
	cmpst
	jne l4702
	spop $a
	push "$alpha cd .."
	push "$alpha cd ../"
	cthis mget3
	cmp0
	je l4704
	push "~"
	pop Dir
	cthis mnextsub
	jmp l4703
l4704:
	push 28
	pop sublevel
l4703:
	jmp l4588
l4702:
	push 31
	cmpst
	jne l4705
	spop $a
	push "pwd"
	cthis mget
	cmp0
	je l4707
	push "/home/jacek"
	cthis moutln
	cthis mok
	jmp l4706
l4707:
	push 28
	pop sublevel
l4706:
	jmp l4588
l4705:
	push 32
	cmpst
	jne l4708
	spop $a
	cthis mget0
	cmp0
	je l4710
	push A
	push "ls"
	push "public_html"
	cthis misvec
	cmp0
	jne l4713
	push A
	push "ls"
	push "./public_html"
	cthis misvec
	cmp0
	jne l4713
	push A
	push "ls"
	push "public_html/"
	cthis misvec
	cmp0
	jne l4713
	push A
	push "ls"
	push "./public_html/"
	cthis misvec
	jmp l4714
l4712:
	push 0
	jmp l4714
l4713:
	push 1
l4714:
	cmp0
	je l4715
	push "index.html"
	cthis moutln
	cthis mnextsub
	jmp l4711
l4715:
	cthis mno
l4711:
l4710:
	jmp l4588
l4708:
	push 33
	cmpst
	jne l4716
	spop $a
	cthis mget0
	cmp0
	je l4718
	push A
	push "cd"
	push "public_html"
	cthis misvec
	cmp0
	jne l4721
	push A
	push "cd"
	push "./public_html"
	cthis misvec
	cmp0
	jne l4721
	push A
	push "cd"
	push "public_html/"
	cthis misvec
	cmp0
	jne l4721
	push A
	push "cd"
	push "./public_html/"
	cthis misvec
	jmp l4722
l4720:
	push 0
	jmp l4722
l4721:
	push 1
l4722:
	cmp0
	je l4723
	push "~/public_html"
	pop Dir
	cthis mnextsub
	jmp l4719
l4723:
	push 32
	pop sublevel
	cthis mno
l4719:
l4718:
	jmp l4588
l4716:
	push 34
	cmpst
	jne l4724
	spop $a
	cthis mget0
	cmp0
	je l4726
	push A
	push "mkdir"
	push "bekap"
	cthis misvec
	cmp0
	jne l4729
	push A
	push "mkdir"
	push "./bekap"
	cthis misvec
	cmp0
	jne l4729
	push A
	push "mkdir"
	push "bekap/"
	cthis misvec
	cmp0
	jne l4729
	push A
	push "mkdir"
	push "./bekap/"
	cthis misvec
	jmp l4730
l4728:
	push 0
	jmp l4730
l4729:
	push 1
l4730:
	cmp0
	je l4731
	cthis mnextsub
	jmp l4727
l4731:
	push 32
	pop sublevel
	cthis mno
l4727:
l4726:
	jmp l4588
l4724:
	push 35
	cmpst
	jne l4732
	spop $a
	cthis mget0
	cmp0
	je l4734
	push A
	push "cp"
	push "index.html"
	push "bekap"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "./index.html"
	push "bekap"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "index.html"
	push "bekap/"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "./index.html"
	push "bekap/"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "index.html"
	push "./bekap"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "./index.html"
	push "./bekap"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "index.html"
	push "./bekap/"
	cthis misvec
	cmp0
	jne l4737
	push A
	push "cp"
	push "./index.html"
	push "./bekap/"
	cthis misvec
	jmp l4738
l4736:
	push 0
	jmp l4738
l4737:
	push 1
l4738:
	cmp0
	je l4739
	cthis mnextsub
	jmp l4735
l4739:
	push 32
	pop sublevel
	cthis mno
l4735:
l4734:
	jmp l4588
l4732:
	push 36
	cmpst
	jne l4740
	spop $a
	cthis mget0
	cmp0
	je l4742
	push A
	push "cd"
	push "bekap"
	cthis misvec
	cmp0
	jne l4745
	push A
	push "cd"
	push "./bekap"
	cthis misvec
	cmp0
	jne l4745
	push A
	push "cd"
	push "bekap/"
	cthis misvec
	cmp0
	jne l4745
	push A
	push "cd"
	push "./bekap/"
	cthis misvec
	jmp l4746
l4744:
	push 0
	jmp l4746
l4745:
	push 1
l4746:
	cmp0
	je l4747
	push "~/public_html/bekap"
	pop Dir
	cthis mnextsub
	jmp l4743
l4747:
	push 32
	pop sublevel
	cthis mno
l4743:
l4742:
	jmp l4588
l4740:
	push 37
	cmpst
	jne l4748
	spop $a
	push "ls"
	push "ls ."
	push "ls ./"
	cthis mget4
	cmp0
	je l4750
	push "index.html"
	cthis moutln
	cthis mnextsub
	jmp l4749
l4750:
	push 32
	pop sublevel
l4749:
	jmp l4588
l4748:
	push 38
	cmpst
	jne l4751
	spop $a
	cthis mget0
	cmp0
	je l4753
	push A
	push "cd"
	push "../../"
	cthis misvec
	cmp0
	jne l4756
	push A
	push "cd"
	cthis misvec
	cmp0
	jne l4756
	push A
	push "cd"
	push "/home/jacek/"
	cthis misvec
	cmp0
	jne l4756
	push A
	push "cd"
	push "~"
	cthis misvec
	cmp0
	jne l4756
	push A
	push "cd"
	push "/home/jacek"
	cthis misvec
	cmp0
	jne l4756
	push A
	push "cd"
	push "../.."
	cthis misvec
	jmp l4757
l4755:
	push 0
	jmp l4757
l4756:
	push 1
l4757:
	cmp0
	je l4758
	push "~"
	pop Dir
	cthis mok
	jmp l4754
l4758:
	push 32
	pop sublevel
	cthis mno
l4754:
l4753:
	jmp l4588
l4751:
	push 39
	cmpst
	jne l4759
	spop $a
	cthis mget0
	cmp0
	je l4761
	push A
	push "rm"
	push ".adresy"
	cthis misvec
	cmp0
	je l4763
	cthis mnextsub
	jmp l4762
l4763:
	cthis mno
l4762:
l4761:
	jmp l4588
l4759:
	push 40
	cmpst
	jne l4764
	spop $a
	cthis mget0
	cmp0
	je l4766
	push A
	push "ls"
	push "public_html"
	cthis misvec
	cmp0
	jne l4769
	push A
	push "ls"
	push "./public_html"
	cthis misvec
	cmp0
	jne l4769
	push A
	push "ls"
	push "public_html/"
	cthis misvec
	cmp0
	jne l4769
	push A
	push "ls"
	push "./public_html/"
	cthis misvec
	jmp l4770
l4768:
	push 0
	jmp l4770
l4769:
	push 1
l4770:
	cmp0
	je l4771
	push "bekap index.html"
	cthis moutln
	cthis mnextsub
	jmp l4767
l4771:
	cthis mno
	push 39
	pop sublevel
l4767:
l4766:
	jmp l4588
l4764:
	push 41
	cmpst
	jne l4772
	spop $a
	push "$alpha man $alpha rm"
	cthis mget2
	cmp0
	je l4774
	push "NAME"
	cthis moutln
	push "   rm - remove files or directories"
	cthis moutln
	push "SYNOPSIS"
	cthis moutln
	push "   rm [OPTION]... FILE..."
	cthis moutln
	push "DESCRIPTION"
	cthis moutln
	push "   Removes FILEs. Use option '-r' to remove"
	cthis moutln
	push "   directory."
	cthis moutln
	push "   OPTION"
	cthis moutln
	push "   -r : remove directories and their contents recursively"
	cthis moutln
	push "END RM"
	cthis moutln
	cthis mnextsub
	jmp l4773
l4774:
	push 39
	pop sublevel
l4773:
	jmp l4588
l4772:
	push 42
	cmpst
	jne l4775
	spop $a
	cthis mget0
	cmp0
	je l4777
	push A
	push "rm"
	push "-r"
	push "public_html/bekap"
	cthis misvec
	cmp0
	jne l4780
	push A
	push "rm"
	push "-r"
	push "./public_html/bekap"
	cthis misvec
	cmp0
	jne l4780
	push A
	push "rm"
	push "-r"
	push "public_html/bekap/"
	cthis misvec
	cmp0
	jne l4780
	push A
	push "rm"
	push "-r"
	push "./public_html/bekap/"
	cthis misvec
	jmp l4781
l4779:
	push 0
	jmp l4781
l4780:
	push 1
l4781:
	cmp0
	je l4782
	cthis mnextsub
	jmp l4778
l4782:
	push 39
	pop sublevel
	cthis mno
l4778:
l4777:
	jmp l4588
l4775:
	push 43
	cmpst
	jne l4783
	spop $a
	cthis mget0
	cmp0
	je l4785
	push A
	push "ls"
	push "public_html"
	cthis misvec
	cmp0
	jne l4788
	push A
	push "ls"
	push "./public_html"
	cthis misvec
	cmp0
	jne l4788
	push A
	push "ls"
	push "public_html/"
	cthis misvec
	cmp0
	jne l4788
	push A
	push "ls"
	push "./public_html/"
	cthis misvec
	jmp l4789
l4787:
	push 0
	jmp l4789
l4788:
	push 1
l4789:
	cmp0
	je l4790
	push "index.html"
	cthis moutln
	push 10
	pop igmstate
	push "sndend"
	cthis cbplay
	jmp l4786
l4790:
	cthis mno
	push 39
	pop sublevel
l4786:
l4785:
	jmp l4588
l4783:
	spop $a
l4588:
	end method
	method mnextsub
	add sublevel,1
	pop sublevel
	cthis mready
	end method
	method misvec
	call Code,clear
	push Code
	push " "
	call vec1,vecbuildfromstring2
	call vec1,veceq2
	end method
	method misdir
	localstring $1
	pop $1
	call Code,clear
	localdef $2
	push $1
	call Code,find
	call $1,length
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call Code,length
	cmpjae
	cmp0
	jne l4792
	push $2
	push 1
	call Code,getb
	push "/"
	cmpje
	jmp l4793
l4791:
	push 0
	jmp l4793
l4792:
	push 1
l4793:
	ret
	end method
	method mcatlek2
	push "Lekcja 5: Programowanie mikroprocesorow - jezyki Asembler."
	cthis moutln
	push "Lekcja 6: Podstawy programowania w jezyku C : obliczenia."
	cthis moutln
	push "Lekcja 7: Podstawy programowania obiektowego."
	cthis moutln
	end method
	method mcatlekcje
	push "Lekcja 1: Podstawy logiki."
	cthis moutln
	push "Lekcja 2: Bramki \"and\" i \"or\"."
	cthis moutln
	push "Lekcja 3: Cwiczenia na bramkach."
	cthis moutln
	push "Lekcja 4: Jednobitowy procesor."
	cthis moutln
	push "Lekcja 5: Programowanie mikroprocesorow - jezyki Asembler."
	cthis moutln
	push "Lekcja 6: Podstawy programowania w jezyku C : obliczenia."
	cthis moutln
	push "Lekcja 7: Podstawy programowania obiektowego."
	cthis moutln
	push "Lekcja 8: Podstawy grafiki komputerowej."
	cthis moutln
	push "Lekcja 9: Praca podzespolow komputera."
	cthis moutln
	push "Lekcja 10: Podstawy systemu operacyjnego Linuks."
	cthis moutln
	end method
	method manls
	push "NAME"
	cthis moutln
	push "  ls - list directory contents;"
	cthis moutln
	push "SYNOPSIS"
	cthis moutln
	push "  ls [OPTION]... [FILE]..."
	cthis moutln
	push "DESCRIPTION"
	cthis moutln
	push "  list informations about the FILEs -"
	cthis moutln
	push "  (the current directory by default)."
	cthis moutln
	push "  OPTION"
	cthis moutln
	push "  -a : don't ignore hidden files"
	cthis moutln
	push "  -l : use a long listing format"
	cthis moutln
	push "END LS"
	cthis moutln
	end method
	method mnos
	localstring $1
	pop $1
	push $1
	cthis moutln
	cthis mready
	end method
	method mno
	call fxblink,play
	push retdir
	pop Dir
	push "Error: repeat whole activity nr "
	push Level
	pop $b
	popax
	add $a,$b
	push " again."
	pop $b
	popax
	add $a,$b
	cthis mnos
	end method
	method mgo
	localdef $1
	pop $1
	push $1
	pop sublevel
	cthis mready
	end method
	method mstart
	push Level
	spushs
	push 1
	cmpst
	jne l4795
	spop $a
	push 0
	pop sublevel
	push "jacek login: "
	cthis mout
	cthis menable
	jmp l4794
l4795:
	push 2
	cmpst
	jne l4796
	spop $a
	push A
	push 0
	call tdhp,view
	push 3
	cthis mgo
	jmp l4794
l4796:
	push 3
	cmpst
	jne l4797
	spop $a
	push A
	push 1
	push 2
	call tdhp,view
	push 6
	cthis mgo
	jmp l4794
l4797:
	push 4
	cmpst
	jne l4798
	spop $a
	push A
	push 3
	push 4
	call tdhp,view
	push 7
	cthis mgo
	jmp l4794
l4798:
	push 5
	cmpst
	jne l4799
	spop $a
	push A
	push 5
	call tdhp,view
	push 8
	cthis mgo
	jmp l4794
l4799:
	push 6
	cmpst
	jne l4800
	spop $a
	push 10
	cthis mgo
	jmp l4794
l4800:
	push 7
	cmpst
	jne l4801
	spop $a
	push 12
	cthis mgo
	jmp l4794
l4801:
	push 8
	cmpst
	jne l4802
	spop $a
	push 14
	cthis mgo
	jmp l4794
l4802:
	push 9
	cmpst
	jne l4803
	spop $a
	push 15
	cthis mgo
	jmp l4794
l4803:
	push 10
	cmpst
	jne l4804
	spop $a
	push 16
	cthis mgo
	jmp l4794
l4804:
	push 11
	cmpst
	jne l4805
	spop $a
	push A
	push 6
	call tdhp,view
	push 17
	cthis mgo
	jmp l4794
l4805:
	push 12
	cmpst
	jne l4806
	spop $a
	push 18
	cthis mgo
	jmp l4794
l4806:
	push 13
	cmpst
	jne l4807
	spop $a
	push A
	push 7
	call tdhp,view
	push 20
	cthis mgo
	jmp l4794
l4807:
	push 14
	cmpst
	jne l4808
	spop $a
	push 22
	cthis mgo
	jmp l4794
l4808:
	push 15
	cmpst
	jne l4809
	spop $a
	push A
	push 8
	call tdhp,view
	push 23
	cthis mgo
	jmp l4794
l4809:
	push 16
	cmpst
	jne l4810
	spop $a
	push A
	push 9
	call tdhp,view
	push 28
	cthis mgo
	jmp l4794
l4810:
	push 17
	cmpst
	jne l4811
	spop $a
	push A
	push 10
	push 11
	call tdhp,view
	push 32
	cthis mgo
	jmp l4794
l4811:
	push 18
	cmpst
	jne l4812
	spop $a
	push A
	push 12
	call tdhp,view
	push 39
	cthis mgo
	jmp l4794
l4812:
	spop $a
	cthis mready
l4794:
	end method
	method mready
	push "jacek@jacek:"
	push Dir
	pop $b
	popax
	add $a,$b
	push "$ "
	pop $b
	popax
	add $a,$b
	cthis mout
	cthis menable
	end method
	method mok
	push 3
	pop igmstate
	call fxpik,play
	push "sndok"
	cthis cbplay
	end method
	method mreadpas
	call fxtype2,playif
	push "enter"
	call keyboard,iskey
	cmp0
	je l4814
	cthis mnewline
	push 1
	ret
	jmp l4813
l4814:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l4816
	push 1
	call spasswd,strsube
	pop spasswd
	jmp l4815
l4816:
	call keyboard,getkey
	popax
	add spasswd,$a
	pop spasswd
l4815:
l4813:
	push 0
	end method
	method key_down
	push benter
	cmp0
	je l4818
	push 0
	pop benter
	ret
l4818:
	push igmstate
	push 2
	cmpje
	cmp0
	je l4820
	cthis mouse_lclick
	ret
l4820:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4822
	ret
l4822:
	push sublevel
	spushs
	push 1
	cmpst
	jne l4824
	spop $a
	cthis mreadpas
	cmp0
	je l4826
	push Code
	push "jacek"
	cmpje
	cmp0
	je l4828
	push spasswd
	push "jacek"
	cmpje
	jmp l4830
l4828:
	push 0
	jmp l4830
l4829:
	push 1
l4830:
	cmp0
	je l4831
	cthis mok
	jmp l4827
l4831:
	push "Login incorrect"
	cthis moutln
	cthis mstart
l4827:
l4826:
	jmp l4823
l4824:
	push 4
	cmpst
	jne l4832
	spop $a
	cthis mreadpas
	cmp0
	je l4834
	push spasswd
	push "jacek"
	cmpje
	cmp0
	je l4836
	add sublevel,1
	pop sublevel
	push ""
	pop spasswd
	push "type new password: "
	cthis mout
	jmp l4835
l4836:
	push 3
	pop sublevel
	push "Incorrect password"
	cthis mnos
l4835:
l4834:
	jmp l4823
l4832:
	push 5
	cmpst
	jne l4837
	spop $a
	cthis mreadpas
	cmp0
	je l4839
	push spasswd
	push "he,35hsu"
	cmpje
	cmp0
	je l4841
	push "Password succesfully changed"
	cthis moutln
	cthis mok
	jmp l4840
l4841:
	push 3
	pop sublevel
	push "Error: write password given in exercise"
	cthis mnos
l4840:
l4839:
	jmp l4823
l4837:
	spop $a
l4823:
	end method
	method mnext
	push GAME
	spushs
	spop $a
	call [$a],Sysopold4
	end method
	method Sysopold4
	push 1
	pop igmstate
	cthis viewzad
	cthis mstart
	end method
	method mouse_lclick
	push igmstate
	spushs
	push 1
	cmpst
	jne l4843
	spop $a
	jmp l4842
l4843:
	push 2
	cmpst
	jne l4844
	spop $a
	call gsq,hide
	call tdopis,hide
	push 1
	pop igmstate
	cthis viewzad
	cthis mstart
	jmp l4842
l4844:
	push 10
	cmpst
	jne l4845
	spop $a
	jmp l4842
l4845:
	push 11
	cmpst
	jne l4846
	spop $a
	push "MenuGlowne"
	call gameapi,play
	jmp l4842
l4846:
	spop $a
	push 1
	cthis cactsndstop
l4842:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4848
	push Level
	push 18
	cmpje
	cmp0
	je l4850
	push "sndend"
	cthis cbplay
	jmp l4849
l4850:
	cthis mok
l4849:
l4848:
	end method
	end game

	game Intro
	parent Computro
	method init
	push "intro"
	clparent Computro,init
	push "bg.png"
	cthis img=
	new real,rsetzoom
	push 0.67
	pop rsetzoom
	new real,rzoomer
	push 0.003
	pop rzoomer
	call imgbg,anaddfilter
	push rsetzoom
	call imgbg,setzoom
	call imgbg,ancenterscreen
	push "dbtxt"
	push "teksty"
	cthis lang_db
	new def,stdfont32
	push 28
	cthis stdfont
	pop stdfont32
	new string,stxtstart
	push "txtstart"
	push 1
	call dbtxt,dbgets
	pop stxtstart
	push "txtdata"
	push stxtstart
	push stdfont32
	push 248
	cthis grey
	cthis newtext
	push 10
	call txtdata,setz
	push iResX
	call txtdata,getw
	pop $b
	popax
	sub $a,$b
	push 20
	pop $b
	popax
	sub $a,$b
	push 20
	call txtdata,setpos
	push ""
	call txtdata,txtset
	push A
	push "rektor1"
	push "Witam was bardzo serdecznie w murach naszej Akademii; Rozpoczynamy kolejny rok zaj w ponad szesetletniej historii szkoy"
	push "mcheck0"
	push "rektor2"
	push "Nazywam si Antoni Bbenek i mam zaszczyt piastowa stanowisko rektora"
	push "Intro0"
	push "rektor3"
	push "Wykadam zajcia od ponad pidziesiciu lat; Budowaem pierwsze komputery lampowe"
	push "Intro1"
	push "rektor4"
	push "Pamitam jak sumator zbudowalimy w 61 ho ho; Mona byo uamki dodawa i mnoy; To byy czasy"
	push "Intro2"
	push "rektor5"
	push "Ale wrmy do dzi; O czym to ja; Acha"
	push "Intro3"
	push "rektor6"
	push "Akademia w ktrej rozpoczynacie nauk jest niezwyka; Jedyna w swoim rodzaju; Caym yciem Akademii zarzdza Komputer Centralny"
	push "Intro4"
	push "rektor7"
	push "Tak tak moi drodzy; Od planw lekcji przydziau pokojw finansw ksigowoci po wzywanie mechanikw i hydraulikw; Wszystko spoczywa na barkach a raczej tranzystorach Komputera Centralnego; Dziki temu moemy skupi wszystkie wysiki na badaniach i nauczaniu"
	push "Intro5"
	push "rektor8"
	push "Oto moi przyjaciele ktrzy poprowadz z wami zajcia"
	push "Intro6"
	push "rektor9"
	push "Profesor Wincenty; Ekspert podstaw informatyki; To on zainicjowa budow Komputera Centralnego w 1973 roku"
	push "Intro7"
	push "winc1"
	push "Wincenty; Mio mi"
	push "Intro8"
	push "rektor11"
	push "Profesor Sp; Sieci neuronowe"
	push "Intro9"
	push "sep1"
	push "Witam uprzejmie"
	push "Intro10"
	push "rektor10"
	push "Doktor Giaro; Specjalista z dziedziny sztucznej inteligencji"
	push "Intro12"
	push "giaro1"
	push "Bardzo mi mio"
	push "Intro13"
	push "rektor12"
	push "Historia Akademii zaczyna si w roku 1405 od przybycia braci Benedyktynw ktrzy zaoyli tu swj klasztor"
	push "Intro14"
	push "rektor13"
	push "Zakonnicy synli z wytwarzanego wina i wysokiego poziomu nauczania"
	push "Intro15"
	push "rektor14"
	push "Do dzi przetrwa po nich gwny budynek i nieczynna ju kaplica"
	push "Intro16"
	push "rektor15"
	push "W roku 1895 na miejscu starych ruin zbudowano nowy gmach w ktrym teraz jestemy"
	push "Intro17"
	push "rektor16"
	push "A nasza szkoa otrzymaa nazw Akademia Maszyn; Wyksztacio si tutaj wielu wspaniaych inynierw i powstaway maszyny ktre potem trafiay do fabryk"
	push "Intro18"
	push "rektor17"
	push "50 lat pniej Akademia przeksztacia si w szko nowoczesnych technologii elektrycznych"
	push "Intro19"
	push "rektor18"
	push "Niedugo potem trafiem tu ja i rozpoczlimy z profesorem Wincentym i profesorem Spem prace nad mzgiem elektronowym"
	push "Intro20"
	push "rektor19"
	push "Naszym dzieem jest Komputer Centralny"
	push "Intro21"
	push "rektor20"
	push "Jednak prawdziwy przeom nastpi kilka lat temu wraz z nadejciem doktora Giaro"
	push "Intro22"
	push "rektor21"
	push "Doktor jest bliski zbudowania pierwszego mylcego robota"
	push "Intro23"
	push "rektor22"
	push "ycz i wam abycie mili swj udzia w przeomowych wynalazkach"
	push "Intro24"
	push "rektor23"
	push "Tymczasem przygotujcie si do pierwszych jutrzejszych zaj"
	push "Intro25"
	push "rektor24"
	push "Komputer Centralny przydzieli kademu z was pokj w Internacie a starsi studenci zanieli tam wasze rzeczy; Kiedy wyjdziecie z auli mj asystent da kademu kart magnetyczn do pokoju i plan lekcji; Dzikuj za uwag"
	push "Intro26"
	cthis sounds=
	new img,im2
	push iResX
	push iResY
	cthis white
	push 255
	call im2,create
	call im2,anaddfilter
	call im2,hide
	new string,simbg
	push "imgbg"
	pop simbg
	push "timstart"
	push 50
	call stxtstart,length
	push 1
	pop $b
	popax
	add $a,$b
	push "Intro28"
	cthis cnewtimerfin
	push "ontick"
	push "Intro29"
	call timstart,addmethod
	new real,RY
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop RY
	push "timtik"
	push 1300
	push "Intro30"
	cthis timer=
	push "Intro32"
	call ccs,enter
	end method
	method Intro0
	cthis mscene2
	push "rektor3"
	cthis mrektor
	end method
	method Intro1
	cthis mscene1
	push "rektor4"
	cthis rektor
	end method
	method Intro2
	push "rektor5"
	cthis rektor
	end method
	method Intro3
	cthis mscene2
	push "rektor6"
	cthis mrektor
	end method
	method Intro4
	push "rektor7"
	cthis mrektor
	end method
	method Intro5
	push "rektor8"
	cthis mrektor
	end method
	method Intro6
	push "rektor9"
	cthis mrektor
	end method
	method Intro7
	cthis mrekfin
	push "winc1"
	call anwinc,_mplay
	end method
	method Intro8
	push "stand"
	call anwinc,play
	push "rektor11"
	cthis mrektor
	end method
	method Intro9
	cthis mrekfin
	push "sep1"
	call ansep,_mplay
	end method
	method Intro10
	push "stand"
	call ansep,play
	push "timgiar"
	push 30
	push "Intro11"
	cthis timer=
	call timgiar,play
	end method
	method Intro11
	call anbgprof,getex
	push 5
	pop $b
	popax
	sub $a,$b
	push iResX
	cmpja
	cmp0
	je l4852
	push 5
	popax
	sub 0,$a
	push 0
	call grsc1,move
	cthis play
	jmp l4851
l4852:
	push "rektor10"
	cthis mrektor
l4851:
	end method
	method Intro12
	cthis mrekfin
	push "giaro1"
	call angiaro,_mplay
	end method
	method Intro13
	cthis mscene1
	push 12
	cthis reks
	end method
	method Intro14
	push 13
	cthis reks
	end method
	method Intro15
	push 14
	cthis reks
	end method
	method Intro16
	push 15
	cthis reks
	end method
	method Intro17
	push 16
	cthis reks
	end method
	method Intro18
	push 17
	cthis reks
	end method
	method Intro19
	push 18
	cthis rek
	end method
	method Intro20
	push 19
	cthis reks
	end method
	method Intro21
	push 20
	cthis rek
	end method
	method Intro22
	push 21
	cthis reks
	end method
	method Intro23
	push 22
	cthis rek
	end method
	method Intro24
	push 23
	cthis rek
	end method
	method Intro25
	call anbgprof,getpx
	popax
	sub 0,$a
	push 0
	call grsc1,move
	cthis mscene2
	push "rektor24"
	cthis mrektor
	end method
	method Intro26
	cthis mrekfin
	push 1000
	call mus,fadeout
	push "Intro27"
	call ccs,close
	end method
	method Intro27
	push "game_day"
	push 1
	call clsave,set
	push "adaula"
	push "gameadaula0"
	cthis gotoadv
	call ccs,show
	end method
	method Intro28
	call timtik,play
	end method
	method Intro29
	push 0
	call txtdata,get
	spushs
	spop $h
	call $h,length
	push 1
	pop $b
	popax
	add $a,$b
	call stxtstart,getb
	call txtdata,txtset
	push 1
	push stdfont32
	call txtdata,txtshadow
	end method
	method Intro30
	cthis getdelay
	push 1300
	cmpje
	cmp0
	je l4854
	push 30
	cthis delay
	cthis play
	ret
l4854:
	push rsetzoom
	push 1
	cmpjl
	cmp0
	je l4856
	push rsetzoom
	popax
	sub RY,$a
	pop RY
l4856:
	push rsetzoom
	push 1
	cmpjl
	cmp0
	je l4858
	push rsetzoom
	push rzoomer
	pop $b
	popax
	add $a,$b
	push 1
	cmpjae
	jmp l4860
l4858:
	push 0
	jmp l4860
l4859:
	push 1
l4860:
	cmp0
	je l4861
	push "im2"
	pop simbg
	push "imgbg"
	call im2,blit
	call imgbg,hide
	call im2,show
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop RY
	push 30
	call gameapi,setmusicvol
	push "rektor1"
	cthis cbplay
	jmp l4857
l4861:
	push 60
	call gameapi,setmusicvol
l4857:
	push rzoomer
	popax
	add rsetzoom,$a
	pop rsetzoom
	push simbg
	spushs
	push rsetzoom
	spop $a
	call [$a],setzoom
	push simbg
	spushs
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push RY
	spop $a
	call [$a],ansetcpos
	push rsetzoom
	push 1.4
	cmpjl
	cmp0
	je l4863
	cthis play
	jmp l4862
l4863:
	push GAME
	spushs
	spop $a
	call [$a],Intro31
l4862:
	end method
	method Intro31
	delete imgbg
	cthis mcheck0
	end method
	method Intro32
	call timstart,play
	push "sala.ogg sala.ogg -l -v 30"
	call mus,playstr
	end method
	method mendintro
	push "game_day"
	push 1
	call clsave,set
	push "adaula"
	push "gameadaula0"
	cthis gotoadv
	call ccs,show
	end method
	method mcheck0
	push GAME
	spushs
	spop $a
	call [$a],Intro33
	end method
	method Intro33
	add igmstate,1
	pop igmstate
	push igmstate
	push 2
	cmpje
	cmp0
	je l4865
	push "Intro34"
	push "Intro35"
	call ccs,playfin
l4865:
	end method
	method Intro34
	delete txtdata
	delete im2
	new gmimgvec,grsala
	push "grsala"
	push "sala.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push A
	push "slajdy.pyzH 10"
	push "bgprof.pyzH"
	push "giaroH.pyz 10"
	push "rektorH.pyz 10"
	push "sepH.pyz 10"
	push "wincH.pyz 10"
	push "reksmall.pyz"
	push "mrok.pyz 20"
	push "swiatlo.pyzH 20"
	cthis imgs=
	push 4
	call grsala,get
	spushs
	push 1
	spop $a
	call [$a],setz
	new gmimgvec,grsc1
	push "anbgprof"
	push "anbiurko"
	cthis copyanima
	push 1
	push 0
	call anbiurko,setframe
	push 15
	call anbiurko,setz
	push A
	push "anbgprof"
	push "angiaro"
	push "anrektor"
	push "ansep"
	push "anwinc"
	push "anbiurko"
	push "answiatlo"
	call grsc1,addlist
	end method
	method Intro35
	push "rektor2"
	cthis rektor
	end method
	method _mplay
	localstring $1
	pop $1
	push "talk"
	cthis play
	push GAME
	spushs
	push $1
	spop $a
	call [$a],cbplay
	end method
	method rek
	localint $1
	pop $1
	push "rektor"
	push $1
	pop $b
	popax
	add $a,$b
	cthis rektor
	end method
	method reks
	localint $1
	pop $1
	push $1
	cthis rek
	cthis mslajd
	end method
	method rektor
	localstring $1
	pop $1
	push $1
	call anreksmall,_mplay
	end method
	method rekfin
	push "stand"
	call anreksmall,play
	end method
	method mrektor
	localstring $1
	pop $1
	push $1
	call anrektor,_mplay
	end method
	method mrekfin
	push "stand"
	call anrektor,play
	end method
	method mscene1
	push 1
	popax
	sub 0,$a
	call anslajdy,actionnr
	push 0
	cmpja
	cmp0
	je l4867
	call anslajdy,show
l4867:
	push "play"
	push 1
	popax
	sub 0,$a
	call grsala,eval1
	call grsc1,anhide
	push "stand"
	call anreksmall,play
	call anmrok,show
	end method
	method mscene2
	call anslajdy,hide
	push "anhide"
	call grsala,eval
	call anreksmall,anhide
	call anmrok,hide
	push 1
	popax
	sub 0,$a
	call grsc1,nplay
	end method
	method mslajd
	call anslajdy,isvisible
	cmp0
	je l4869
	call anslajdy,ansetnextact
	jmp l4868
l4869:
	call anslajdy,show
l4868:
	end method
	method mouse_lclick
	push 1
	cthis cactsndstop
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4871
	cthis mendintro
l4871:
	end method
	end game

	new db,dbplan
	push "lang/PlanLekcji.db"
	call dbplan,load
	new font,fntplan
	push sgmfontfile
	push 24
	call fntplan,load
	new font,fntnotes
	new int,ifntnotes
	push 21
	pop ifntnotes
	new int,inoteslimit
	push 20
	pop inoteslimit
	push sgmfontitalic
	push ifntnotes
	call fntnotes,load
	new int,inotesx
	push 45
	pop inotesx
	new int,inotesy
	push 50
	pop inotesy
	method notescol
	push 10
	push 20
	push 128
	ret
	end method
	class classadvinfo2
	parent classadvcontroller
	method init
	call clbuts,reset
	clparent classadvcontroller,init
	cthis advsave_game
	end method
	method mouse_LCLICK
	push igmstate
	spushs
	push 1
	cmpst
	jne l4873
	spop $a
	cthis hide_plan
	jmp l4872
l4873:
	push 2
	cmpst
	jne l4874
	spop $a
	push "_annot2"
	cthis hasvar
	cmp0
	je l4876
	push 1
	popax
	sub 0,$a
	call _annot2,isplaying
	neg
	jmp l4878
l4876:
	push 0
	jmp l4878
l4877:
	push 1
l4878:
	cmp0
	je l4879
	push 3
	pop igmstate
	push 2
	call _annot2,play
l4879:
	jmp l4872
l4874:
	spop $a
l4872:
	end method
	method hide_plan
	delete _implan
	delete _anpusty
	delete _anplan
	delete _anblysk
	push 0
	pop igmstate
	end method
	method show_plan
	push 1
	pop igmstate
	push "clwalkq"
	call engine,varexist
	cmp0
	je l4881
	call clwalkq,stand
l4881:
	push "_anplan"
	push "$scripts/common/plan.pyz"
	push 3000
	cthis newanima
	new img,_implan
	push "_anplan"
	call _implan,copy
	push "_anplan"
	push "_anpusty"
	cthis copyanima
	push 1
	push 0
	call _anpusty,setframe
	push "_anplan"
	push "_anblysk"
	cthis copyanima
	push 2
	push 0
	call _anblysk,setframe
	call _anplan,hide
	localdef $1
	push "lesson"
	call clsave,get
	call dbplan,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l4883
	call _anpusty,hide
	push "_txtplan"
	push 0
	push 1
	call dbplan,get
	push "fntplan"
	push 240
	cthis grey
	cthis newtext
	localdef $2
	call _implan,getpx
	push 50
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	call _implan,getpy
	push 60
	pop $b
	popax
	add $a,$b
	pop $3
	call _implan,getcx
	call _txtplan,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	call _txtplan,setpos
	push "_txtplan"
	call _implan,blit
	push 50
	popax
	add $3,$a
	pop $3
	localint $4
	push 1
	pop $4
l4884:
	push $4
	push 3
	cmpjle
	cmp0
	je l4885
	jmp l4887
l4886:
	add $4,1
	pop $4
	jmp l4884
l4887:
	push 0
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call dbplan,get
	push $1
	push $4
	call dbplan,get
	pop $b
	popax
	add $a,$b
	call _txtplan,txtset
	push $2
	push $3
	push $4
	call _txtplan,geth
	push 10
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call _txtplan,setpos
	push "_txtplan"
	call _implan,blit
	jmp l4886
l4885:
	delete _txtplan
l4883:
	end method
	method show_notes
	push 2
	pop igmstate
	push "clwalkq"
	call engine,varexist
	cmp0
	je l4889
	call clwalkq,stand
l4889:
	push "_annotes"
	push "$scripts/common/notes.pyz"
	push 3000
	cthis newanima
	localstring $1
	push "anotes_text"
	call clsave,get
	pop $1
	new img,_imgnotes
	push $1
	push "null"
	cmpjne
	cmp0
	je l4891
	new db,dbnotes
	push "_annotes"
	call _imgnotes,copy
	push "lang/anotes_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbnotes,load
	push "_txtnot"
	push ""
	push "fntnotes"
	cthis notescol
	cthis newtext
	localint $2
	call _annotes,getpx
	push inotesx
	pop $b
	popax
	add $a,$b
	pop $2
	localint $3
	call _annotes,getpy
	push inotesy
	pop $b
	popax
	add $a,$b
	pop $3
	localint $4
	push 0
	pop $4
l4892:
	push $4
	call dbnotes,getrowsno
	cmpjl
	cmp0
	je l4893
	jmp l4895
l4894:
	add $4,1
	pop $4
	jmp l4892
l4895:
	push $2
	push $3
	push $4
	push ifntnotes
	push 4
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call _txtnot,setpos
	push $4
	push 0
	call dbnotes,get
	call _txtnot,txtset
	push "_txtnot"
	call _imgnotes,blit
	jmp l4894
l4893:
	delete dbnotes
	delete _txtnot
	call _annotes,hide
l4891:
	push "_annotes"
	push "_annot2"
	cthis copyanima
	push 1
	push 0
	call _annot2,setframe
	call _annot2,show
	end method
	method _annot2_FINISH
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	cmpje
	cmp0
	je l4897
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvinfo20
l4897:
	end method
	method classadvinfo20
	push "_tim_not"
	cthis hasvar
	neg
	cmp0
	je l4899
	push "_tim_not"
	push 50
	push "hide_notes"
	cthis timer=
l4899:
	call _tim_not,play
	end method
	method hide_notes
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvinfo21
	end method
	method classadvinfo21
	delete _imgnotes
	delete _annot2
	delete _annotes
	push 0
	pop igmstate
	end method
	method show_kartka
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvinfo22
	end method
	method classadvinfo22
	new db,dbkartka
	push "lang/kartka_"
	push "kartka_dbname"
	call clsave,get
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbkartka,load
	push "_txtkar"
	push ""
	push "fntnotes"
	cthis notescol
	cthis newtext
	push "_ankartka"
	push "$scripts/common/"
	push "kartka_file"
	call clsave,get
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 3000
	cthis newanima
	new img,_imgkartka
	push "_ankartka"
	call _imgkartka,copy
	call _ankartka,hide
	localint $1
	call _ankartka,getpx
	push "kartka_posx"
	call clsave,get
	pop $b
	popax
	add $a,$b
	pop $1
	localint $2
	call _ankartka,getpy
	push "kartka_posy"
	call clsave,get
	pop $b
	popax
	add $a,$b
	pop $2
	localint $3
	push "kartka_angle"
	call clsave,get
	pop $3
	push $3
	cmp0
	je l4901
	new filter,ftkar
	push "_txtkar"
	call ftkar,link
l4901:
	localint $4
	push 0
	pop $4
l4902:
	push $4
	call dbkartka,getrowsno
	cmpjl
	cmp0
	je l4903
	jmp l4905
l4904:
	add $4,1
	pop $4
	jmp l4902
l4905:
	push $1
	push $2
	push $4
	push ifntnotes
	push 4
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call _txtkar,setpos
	push $4
	push 0
	call dbkartka,get
	call _txtkar,txtset
	push $3
	cmp0
	je l4907
	push $3
	call ftkar,rotate
l4907:
	push "_txtkar"
	call _imgkartka,blit
	jmp l4904
l4903:
	push $3
	cmp0
	je l4909
	delete ftkar
l4909:
	delete _txtkar
	delete dbkartka
	end method
	method hide_kartka
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvinfo23
	end method
	method classadvinfo23
	delete _imgkartka
	delete _ankartka
	end method
	method advload_game
	push "save"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	cthis _advload
	end method
	method advsave_game
	push "save"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	cthis _advsave
	end method
	end class

	game gameadvdef
	parent classadvinfo2
	method init
	clparent classadvinfo2,init
	end method
	end game

	game gameadtyl2
	parent classadvinfo2
	method init
	clparent classadvinfo2,init
	end method
	method feliks_ENDFRAME
	push "bgrmachinel"
	push 80
	push 20
	push 500
	call feliks,getcx
	call imgbkg,getpx
	push 100
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	end method
	end game

	game gameadkor3
	parent classadvinfo2
	method init
	clparent classadvinfo2,init
	end method
	method feliks_ENDFRAME
	push "bgrwiatrak"
	push 90
	push 5
	push 500
	call feliks,getcx
	call imgbkg,getpx
	push 100
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	push "alarm"
	push 30
	push 3
	push 500
	call feliks,getcx
	call imgbkg,getpx
	push 100
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	clparent SoundSource,setvol
	end method
	end game

	game Mapa
	parent Computro
	method init
	push "mapa"
	clparent Computro,init
	push "mapscene"
	push sgmlastscene
	call clsave,set
	push "mapa.pyz"
	new Buttons,butm
	push "game_day"
	call clsave,get
	spushs
	push 1
	cmpst
	je l4912
	push 2
	cmpst
	je l4912
	push 3
	cmpst
	je l4912
	jmp l4911
l4912:
	spop $a
	push 0
	jmp l4910
l4911:
	push 4
	cmpst
	je l4914
	push 5
	cmpst
	je l4914
	jmp l4913
l4914:
	spop $a
	push 2
	jmp l4910
l4913:
	spop $a
	push 0
l4910:
	new string,sprzygoda
	pop sprzygoda
	end method
	method butm_lclick
	push "Mapa"
	pop sgmlastscene
	push "ad"
	push sobject
	pop $b
	popax
	add $a,$b
	push "gamead"
	push sobject
	pop $b
	popax
	add $a,$b
	push sprzygoda
	pop $b
	popax
	add $a,$b
	cthis gotoadv
	end method
	end game

	game Sysop
	parent Computro
	method init
	push "sysop"
	clparent Computro,init
	new string,kcsystem
	push "kcsystem"
	call clsave,get
	pop kcsystem
	new string,subepizod
	push "subepizod"
	call clsave,get
	pop subepizod
	new string,slastact
	push "kcsystem_slastact"
	call clsave,get
	pop slastact
	new int,systate
	push 0
	pop systate
	new int,ihelp
	push "dbhp"
	push "helps"
	cthis lang_db
	new gmimgvec,grhelps
	new int,iconstate
	push "iconstate"
	call clsave,get
	pop iconstate
	new int,benter
	push 0
	pop benter
	push "Sysop"
	pop sgmlastscene
	push A
	push ":ania1"
	push "System si instaluje"
	push "null"
	push ":ania2"
	push "System zainstalowany; Teraz musimy poczy si z sieci"
	push "mgotogame"
	push ":ania3"
	push "To nasz system; Mamy 2 zainstalowane programy; Zak mgby przypomnie co mwi admin?"
	push "Sysop0"
	push ":zak1"
	push "Mam trzy wypowiedzi wybieraj je do odsuchania"
	push "gmunlockall"
	push ":ania4"
	push "Brak poczenia z sieci; To pewnie jaka przegldarka"
	push "Sysop1"
	push ":zak2"
	push "FTP to protok i program do wymiany plikw; Jak bdziemy mieli sie cigniemy za jego pomoc oprogramowanie z serwera"
	push "munlockhelp"
	push ":ania5"
	push "A wic to jest konsola; Ju to widziaam nie raz; Teraz powinnam wpisa polecenie"
	push "null"
	push ":ania6"
	push "Najpierw musz zdoby ten adres MAC"
	push "null"
	push ":ania7"
	push "Hmm to chyba nie to polecenie"
	push "null"
	push ":ania8"
	push "Dobra idziemy zanie adres adminowi"
	push "mexit"
	push ":ania9"
	push "Gdzie w tych danych jest ten adres; Przepisz go do notesu"
	push "mnotes"
	push ":ania10"
	push "To jak Zak? Zanosimy taki adres adminowi?"
	push "null"
	push ":zak3"
	push "Tak zobaczmy co powie"
	push "null"
	push ":zak4"
	push "Sam nie wiem popatrzmy jeszcze troch"
	push "null"
	push ":ania11"
	push "Admin mwi e mamy poczy si z serwerem przez FTP; To pewnie ten drugi program"
	push "gmunlockall"
	push ":ania12"
	push "Ok widz 2 programy; Jeden z nich to edytor tekstu"
	push "null"
	push ":ania14"
	push "Program ju zainstalowany"
	push "null"
	push ":ania_word"
	push "Zainstalowaam edytor tekstu Word"
	push "null"
	push ":ania_calc"
	push "Zainstalowaam arkusz kalkulacyjny"
	push "null"
	push ":ania15"
	push "Najpierw musimy zainstalowa sterowniki do drukarki"
	push "null"
	push ":ania16"
	push "Na razie nie mam czasu na uycie tego programu"
	push "null"
	push ":ania17"
	push "Sprbujmy zalogowa si na to konto; Wcz pomoc"
	push "Sysop2"
	push ":zak5"
	push "Dobra; Wykonuj czynnoci po kolei"
	push "Sysop3"
	push ":zak6"
	push "Ze haso; Wpisz to ktre pokazuj w pomocy"
	push "null"
	push ":ania18"
	push "Udao si; Co teraz?"
	push "Sysop4"
	push ":zak7"
	push "Jestemy w systemie uniksowym; Generuj now pomoc ebymy rozeznali si w sytuacji"
	push "Sysop5"
	push ":zak8"
	push "O rany! Poznaj te pliki; To konto rektora przez ktre wprowadza zakupy do Komputera Centralnego"
	push "Sysop6"
	push ":ania19"
	push "Jak moemy je skopiowa?"
	push "Sysop7"
	push ":zak9"
	push "Musimy si wylogowa i uy programu escepe; Postpuj wedug moich wskazwek"
	push "Sysop8"
	push ":zak10"
	push "Syntax Error"
	push "Sysop9"
	push ":ania20"
	push "Ju przesta z tym syntax error bo mnie denerwujesz"
	push "Sysop10"
	push ":zak11"
	push "Inaczej nie mog"
	push "null"
	push ":zak12"
	push "Super; Otwrz teraz arkusz kalkulacyjny"
	push "Sysop11"
	cthis sounds=
	new int,isyntax
	push 0
	pop isyntax
	push kcsystem
	spushs
	push "install"
	cmpst
	jne l4918
	spop $a
	push A
	push "bginstall.pyz"
	push "logoinstall.pyz 10"
	cthis imgs=
	push "ania1"
	cthis cbplay
	push 0
	push "Sysop12"
	call anlogoinstall,anplayfin
	jmp l4917
l4918:
	push "loading"
	cmpst
	jne l4919
	spop $a
	push A
	push "bgload.pyz"
	push "loading.pyz 10"
	cthis imgs=
	push "anloading"
	push "annapisload"
	cthis copyanima
	push 1
	push 0
	call annapisload,setframe
	push "anloading"
	push "annapison"
	cthis copyanima
	push 2
	push 0
	call annapison,setframe
	call annapison,hide
	new int,ixclip
	call anloading,getpx
	pop ixclip
	push 0
	push 0
	push ixclip
	push iResY
	call anloading,clip
	push "timload"
	push 200
	push "Sysop13"
	cthis timer=
	call timload,play
	jmp l4917
l4919:
	push "ready"
	cmpst
	jne l4922
	spop $a
	push A
	push "bgsys.pyz"
	cthis imgs=
	push subepizod
	push "kcinstall"
	cmpje
	cmp0
	je l4924
	push "ania2"
	cthis cbplay
l4924:
	new Button,butstart
	push "grbutstart"
	push "readybut.pyz"
	push "Sysop14"
	call butstart,load
	jmp l4917
l4922:
	push "go"
	cmpst
	jne l4934
	spop $a
	push A
	push "bgsys.pyz"
	push "syswin.pyz 10"
	cthis imgs=
	new gmimgvec,grwinbut
	new gmimgvec,grdesk
	new Button,butoff
	push "grbutoff"
	push "sysoff.pyz"
	push "Sysop19"
	call butoff,load
	push "con"
	cthis mshow
	push "ftp"
	cthis mshow
	push "print"
	cthis mcheckshow
	push "word"
	cthis mcheckshow
	push "calc"
	cthis mcheckshow
	push subepizod
	spushs
	push "kcifconfig"
	cmpst
	jne l4946
	spop $a
	push "sndh1"
	push "admin_13"
	cthis newsnd
	push "sndh2"
	push "admin_14"
	cthis newsnd
	push "sndh3"
	push "admin_18"
	cthis newsnd
	push "poczatek_kcifconfig"
	call clsave,bis
	neg
	cmp0
	je l4948
	push "poczatek_kcifconfig"
	call clsave,bset
	push "ania3"
	cthis mplay
	jmp l4947
l4948:
	push 3
	cthis mhelps
	cthis gmunlockall
l4947:
	jmp l4945
l4946:
	push "kcword"
	cmpst
	jne l4949
	spop $a
	push "poczatek_kcword"
	call clsave,bis
	neg
	cmp0
	je l4951
	push "poczatek_kcword"
	call clsave,bset
	push "ania11"
	cthis mplay
	jmp l4950
l4951:
	cthis gmunlockall
l4950:
	jmp l4945
l4949:
	push "kcprinter"
	cmpst
	jne l4952
	spop $a
	push "kcsys_print"
	call clsave,bis
	neg
	cmp0
	je l4954
	push "kcsys_print"
	call clsave,bset
	push "anwinprinter"
	push "win_print.pyz"
	push 2000
	cthis newanima
	push 1
	cthis lock=
	push 8
	pop igmstate
	push "timprint"
	push 5000
	push "Sysop23"
	cthis timer=
	call timprint,play
l4954:
	jmp l4945
l4952:
	push "kcssh"
	cmpst
	jne l4955
	spop $a
	push "ania17"
	cthis mplay
	jmp l4945
l4955:
	spop $a
l4945:
	jmp l4917
l4934:
	spop $a
l4917:
	end method
	method Sysop0
	push GAME
	spushs
	push 3
	spop $a
	call [$a],mhelps
	push "zak1"
	cthis cbplay
	end method
	method Sysop1
	push "zak2"
	cthis cbplay
	end method
	method Sysop2
	push "zak5"
	cthis cbplay
	end method
	method Sysop3
	push GAME
	spushs
	push 1
	spop $a
	call [$a],mhelps
	cthis gmunlockall
	end method
	method Sysop4
	push "zak7"
	cthis cbplay
	end method
	method Sysop5
	push "kcssh2"
	pop subepizod
	push GAME
	spushs
	push 1
	spop $a
	call [$a],mhelps
	cthis mconunlock
	end method
	method Sysop6
	push "ania19"
	cthis cbplay
	end method
	method Sysop7
	push "zak9"
	cthis cbplay
	end method
	method Sysop8
	push "kcssh3"
	pop subepizod
	push GAME
	spushs
	push 2
	spop $a
	call [$a],mhelps
	cthis mconunlock
	end method
	method Sysop9
	add isyntax,1
	pop isyntax
	push isyntax
	push 4
	cmpje
	cmp0
	je l4916
	push "ania20"
	cthis cbplay
l4916:
	end method
	method Sysop10
	push "zak10"
	cthis cbplay
	end method
	method Sysop11
	push "kcssh4"
	pop subepizod
	push GAME
	spushs
	push 1
	spop $a
	call [$a],mhelps
	cthis mconunlock
	end method
	method Sysop12
	push "kcsystem"
	push "loading"
	call clsave,set
	push "Sysop"
	call gameapi,play
	end method
	method Sysop13
	push 200
	push 200
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	cthis delay
	push 50
	push 50
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	popax
	add ixclip,$a
	pop ixclip
	push 0
	push 0
	push ixclip
	push iResY
	call anloading,clip
	push ixclip
	push iResX
	cmpjae
	cmp0
	je l4921
	push "kcsystem"
	push "ready"
	call clsave,set
	push "Sysop"
	call gameapi,play
	jmp l4920
l4921:
	cthis play
l4920:
	end method
	method Sysop14
	localdef $1
	pop $1
	cthis Button_isin
	push "butclick"
	push "Sysop15"
	cthis addmethod
	push "butmoveon"
	push "Sysop17"
	cthis addmethod
	push "butmoveoff"
	push "Sysop18"
	cthis addmethod
	end method
	method Sysop15
	cthis framenr
	push 2
	cmpje
	cmp0
	jne l4927
	push subepizod
	push "kcinstall"
	cmpje
	jmp l4928
l4926:
	push 0
	jmp l4928
l4927:
	push 1
l4928:
	cmp0
	je l4929
	ret
l4929:
	push 0
	push 2
	cthis setframe
	push "timstart"
	push 250
	push "Sysop16"
	cthis timer=
	call timstart,play
	end method
	method Sysop16
	push "kcsystem"
	push "go"
	call clsave,set
	push "Sysop"
	call gameapi,play
	end method
	method Sysop17
	cthis framenr
	push 2
	cmpjne
	cmp0
	je l4931
	call bsms,setact
	push 0
	push 1
	cthis setframe
l4931:
	end method
	method Sysop18
	cthis framenr
	push 2
	cmpjne
	cmp0
	je l4933
	call bsms,setstd
	push 0
	push 0
	cthis setframe
l4933:
	end method
	method Sysop19
	localdef $1
	pop $1
	cthis Button_isin
	push "butclick"
	push "Sysop20"
	cthis addmethod
	push "butmoveon"
	push "Sysop21"
	cthis addmethod
	push "butmoveoff"
	push "Sysop22"
	cthis addmethod
	end method
	method Sysop20
	push igmstate
	push 0
	cmpjne
	cmp0
	je l4936
	ret
l4936:
	push subepizod
	spushs
	push "kcifconfig"
	cmpst
	jne l4938
	spop $a
	jmp l4937
l4938:
	spop $a
l4937:
	cthis framenr
	push 2
	cmpje
	cmp0
	je l4940
	ret
l4940:
	push 0
	push 2
	cthis setframe
	push "kcsystem_slastact"
	push slastact
	call clsave,set
	cthis mexit
	end method
	method Sysop21
	cthis framenr
	push 2
	cmpjne
	cmp0
	je l4942
	call bsms,setact
	push 0
	push 1
	cthis setframe
l4942:
	end method
	method Sysop22
	cthis framenr
	push 2
	cmpjne
	cmp0
	je l4944
	call bsms,setstd
	push 0
	push 0
	cthis setframe
l4944:
	end method
	method Sysop23
	call anwinprinter,hide
	push GAME
	spushs
	push "print"
	spop $a
	call [$a],mshow
	push GAME
	spushs
	push 1500
	spop $a
	call [$a],mexit2
	end method
	method mexit
	push 250
	cthis mexit2
	end method
	method mexit2
	localint $1
	pop $1
	push 0
	pop igmstate
	push 1
	cthis lock=
	push "timstart"
	push $1
	push "mgotogame"
	cthis timer=
	call timstart,play
	end method
	method munlockhelp
	push "unlock"
	call grhelps,eval
	end method
	method mlockhelp
	push "lock"
	call grhelps,eval
	end method
	method mplay
	localstring $1
	pop $1
	push 1
	cthis lock=
	push $1
	cthis cbplay
	end method
	method mgotogame
	push "iconstate"
	push iconstate
	call clsave,set
	push "game_day"
	call clsave,get
	push "5"
	cmpje
	cmp0
	je l4957
	push "adinania"
	push "gameadinania2"
	cthis gotoadv
	jmp l4956
l4957:
	push "adinania"
	push "gameadinania0"
	cthis gotoadv
l4956:
	end method
	method mcheckshow
	localstring $1
	pop $1
	push "kcsys_"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l4959
	push $1
	cthis mshow
l4959:
	end method
	method mshow
	localstring $1
	pop $1
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	push "win"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 20
	cthis newanima
	localstring $2
	push "but"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	localstring $3
	push $1
	push "desk"
	pop $b
	popax
	add $a,$b
	pop $3
	push $1
	push $3
	cthis copyanima
	push $1
	push "desk"
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	push 0
	spop $a
	call [$a],setframe
	push $2
	spushs
	spop $e
	new Button,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	spushs
	push $3
	spop $a
	call [$a],add
	push $1
	spushs
	spop $a
	call [$a],Sysop24
	push $3
	spushs
	spop $a
	call [$a],Sysop27
	push slastact
	push $1
	cmpje
	cmp0
	je l4967
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setframe
l4967:
	push $1
	call grwinbut,add
	push $3
	call grdesk,add
	end method
	method Sysop24
	push "isbutin"
	push "Sysop25"
	cthis addmethod
	push "butclick"
	push "Sysop26"
	cthis addmethod
	cthis _msact
	cthis _msstd
	end method
	method Sysop25
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	cthis framenr
	pop $3
	push 0
	push 1
	cthis setframe
	push $1
	push $2
	push 1
	push 0
	cthis isin
	push 0
	push $3
	cthis setframe
	end method
	method Sysop26
	push igmstate
	push 0
	cmpjne
	cmp0
	je l4961
	ret
l4961:
	push slastact
	push "null"
	cmpjne
	cmp0
	je l4963
	push slastact
	spushs
	push 0
	push 0
	spop $a
	call [$a],setframe
l4963:
	cthis getname
	pop slastact
	push 0
	push 1
	cthis setframe
	push GAME
	spushs
	cthis getname
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method Sysop27
	cthis Button_isin
	cthis _msact
	cthis _msstd
	push "butclick"
	push "Sysop28"
	cthis addmethod
	end method
	method Sysop28
	push igmstate
	push 0
	cmpjne
	cmp0
	je l4965
	ret
l4965:
	push GAME
	spushs
	cthis getname
	spushs
	push "desk"
	spop $a
	call $a,strsubes
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _msact
	push "butmoveon"
	push "Sysop29"
	cthis addmethod
	end method
	method Sysop29
	call bsms,setact
	end method
	method _msstd
	push "butmoveoff"
	push "Sysop30"
	cthis addmethod
	end method
	method Sysop30
	call bsms,setstd
	end method
	method _msact2
	push "butmoveon"
	push "Sysop31"
	cthis addmethod
	end method
	method Sysop31
	call bsms,setact
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	end method
	method _msstd2
	push "butmoveoff"
	push "Sysop32"
	cthis addmethod
	end method
	method Sysop32
	call bsms,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method mhelps
	localint $1
	pop $1
	push "ihelpfont"
	cthis hasvar
	cmp0
	je l4969
	cthis delhelps
l4969:
	new int,ihelpfont
	push 14
	pop ihelpfont
	new string,shelpfont
	push ihelpfont
	cthis stdfont
	pop shelpfont
	localstring $2
	localstring $3
	new gmobjvec,grhpdel
	localint $4
	push 1
	pop $4
l4970:
	push $4
	push $1
	cmpjle
	cmp0
	je l4971
	jmp l4973
l4972:
	add $4,1
	pop $4
	jmp l4970
l4973:
	push "anbh"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push "help"
	push $4
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 20
	cthis newanima
	push $2
	call grhpdel,add
	push $2
	spushs
	push $4
	spop $a
	call [$a],Sysop33
	push "buth"
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new Button,[$e]
	push $3
	spushs
	push $2
	spop $a
	call [$a],add
	push $3
	call grhelps,add
	jmp l4972
l4971:
	end method
	method Sysop33
	localdef $1
	pop $1
	new int,ibut
	push $1
	pop ibut
	cthis Button_isin
	cthis _msact
	cthis _msstd
	push "butclick"
	push "Sysop34"
	cthis addmethod
	end method
	method Sysop34
	push GAME
	spushs
	push "imgh"
	spop $a
	call [$a],hasvar
	cmp0
	je l4975
	push GAME
	spushs
	spop $a
	call [$a],delhelp
l4975:
	push igmstate
	push 0
	cmpjne
	cmp0
	jne l4978
	cthis cisplaying
	jmp l4979
l4977:
	push 0
	jmp l4979
l4978:
	push 1
l4979:
	cmp0
	je l4980
	ret
l4980:
	push 2
	pop igmstate
	cthis mlockhelp
	push GAME
	spushs
	push ibut
	spop $a
	call [$a],mhelp
	end method
	method delhelps
	push "imgh"
	cthis hasvar
	cmp0
	je l4982
	cthis delhelp
l4982:
	call grhelps,deleteallgmobj
	call grhelps,free
	call grhpdel,deleteallgm
	delete grhpdel
	delete ihelpfont
	push shelpfont
	spushs
	spop $d
	delete [$d]
	delete shelpfont
	end method
	method mhelp
	localint $1
	pop $1
	push $1
	pop ihelp
	push subepizod
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	call dbhp,findbyrow
	pop $1
	new img,imgh
	push 400
	push 20
	push ihelpfont
	push 4
	pop $b
	popax
	add $a,$b
	push $1
	call dbhp,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 240
	cthis grey
	push 240
	call imgh,create
	push 380
	push "anbh"
	push ihelp
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	push 10
	pop $b
	popax
	sub $a,$b
	call imgh,setpos
	push 1000
	call imgh,setz
	new gmimgvec,grth
	localstring $2
	localint $3
	push 1
	pop $3
l4983:
	push $3
	push $1
	call dbhp,getcolsno
	cmpjl
	cmp0
	je l4984
	jmp l4986
l4985:
	add $3,1
	pop $3
	jmp l4983
l4986:
	push "txth"
	push $3
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	push $3
	call dbhp,get
	push shelpfont
	push 20
	cthis grey
	cthis newtext
	push $2
	spushs
	push 0
	push ihelpfont
	push 4
	pop $b
	popax
	add $a,$b
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setpos
	push $2
	spushs
	push 1010
	spop $a
	call [$a],setz
	push $2
	call grth,add
	jmp l4985
l4984:
	call imgh,getpx
	push 10
	pop $b
	popax
	add $a,$b
	call imgh,getpy
	push 10
	pop $b
	popax
	add $a,$b
	call grth,move
	push "sndh"
	push ihelp
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l4988
	push "sndh"
	push ihelp
	pop $b
	popax
	add $a,$b
	cthis cbplay
l4988:
	end method
	method delhelp
	delete imgh
	call grth,deleteallgm
	delete grth
	end method
	method mouse_lclick
	push igmstate
	spushs
	push 0
	cmpst
	jne l4990
	spop $a
	push 1
	cthis cactsndstop
	jmp l4989
l4990:
	push 1
	cmpst
	jne l4991
	spop $a
	jmp l4989
l4991:
	push 2
	cmpst
	jne l4992
	spop $a
	push 3
	pop igmstate
	jmp l4989
l4992:
	push 3
	cmpst
	jne l4993
	spop $a
	push 0
	pop igmstate
	cthis delhelp
	push 0
	cthis cactsndstop
	cthis munlockhelp
	jmp l4989
l4993:
	push 4
	cmpst
	jne l4994
	spop $a
	push 0
	pop igmstate
	jmp l4989
l4994:
	push 5
	cmpst
	jne l4995
	spop $a
	jmp l4989
l4995:
	spop $a
l4989:
	end method
	method mwinexit
	push 0
	cthis cactsndstop
	push "anwinexit"
	push "closewin.pyz"
	push 110
	cthis newanima
	call anwinexit,Sysop35
	new Button,butclosewin
	push "anwinexit"
	call butclosewin,add
	end method
	method Sysop35
	cthis Button_isin
	cthis _msact2
	cthis _msstd2
	push "butclick"
	push "Sysop36"
	cthis addmethod
	end method
	method Sysop36
	push igmstate
	push 0
	cmpjne
	cmp0
	je l4997
	ret
l4997:
	push 1
	cthis lock=
	push 0
	push 2
	cthis setframe
	push GAME
	spushs
	spop $a
	call [$a],Sysop37
	end method
	method Sysop37
	push "timwinclose"
	cthis hasvar
	neg
	cmp0
	je l4999
	push "timwinclose"
	push 100
	push "Sysop38"
	cthis timer=
l4999:
	call timwinclose,play
	end method
	method Sysop38
	push GAME
	spushs
	spop $a
	call [$a],Sysop39
	end method
	method Sysop39
	push "butclosewin"
	cthis deletegmobj
	delete anwinexit
	call grwindow,deleteallgm
	delete grwindow
	call grgmwin,deleteallgmobj
	delete grgmwin
	push 1
	cthis cactsndstop
	push 0
	cthis lock=
	end method
	method _win_click
	localstring $1
	pop $1
	push 1
	cthis lock=
	call bsms,setstd
	cthis mwinexit
	push "anwindow"
	push "win_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 100
	cthis newanima
	new gmobjvec,grwindow
	new gmobjvec,grgmwin
	push "anwindow"
	call grwindow,add
	push 4
	pop igmstate
	end method
	method anftp_click
	push "ftp"
	cthis _win_click
	push subepizod
	spushs
	push "kcifconfig"
	cmpst
	jne l5001
	spop $a
	new string,sftpfont
	push 20
	cthis stdfont
	pop sftpfont
	push "txtwinftp"
	push "Connection error"
	push sftpfont
	push 20
	cthis grey
	cthis newtext
	call anwindow,getpx
	push 30
	pop $b
	popax
	add $a,$b
	call anwindow,getpy
	push 90
	pop $b
	popax
	add $a,$b
	call txtwinftp,setpos
	call anwindow,getz
	push 10
	pop $b
	popax
	add $a,$b
	call txtwinftp,setz
	push A
	push "txtwinftp"
	push "sftpfont"
	push sftpfont
	call grwindow,addlist
	push "ania4"
	cthis cbplay
	jmp l5000
l5001:
	push "kcword"
	cmpst
	je l5003
	push "kcssh"
	cmpst
	je l5003
	push "kcssh2"
	cmpst
	je l5003
	push "kcssh3"
	cmpst
	je l5003
	push "kcssh4"
	cmpst
	je l5003
	jmp l5002
l5003:
	spop $a
	push "anwindow"
	push "_anword"
	cthis copyanima
	push 1
	push 0
	call _anword,setframe
	push "anwindow"
	push "_ancalc"
	cthis copyanima
	push 1
	push 1
	call _ancalc,setframe
	new DelayMover,cftp
	push 0
	call cftp,setclickrel
	call cftp,unlock
	new gmimgvec,grftp
	push A
	push "_anword"
	push "_ancalc"
	call grftp,addlist
	push "anwindow"
	push "_anword2"
	cthis copyanima
	push 2
	push 0
	call _anword2,setframe
	call _anword2,hide
	push "anwindow"
	push "_ancalc2"
	cthis copyanima
	push 2
	push 1
	call _ancalc2,setframe
	call _ancalc2,hide
	push A
	push "_anword"
	push "_ancalc"
	push "grftp"
	push "_anword2"
	push "_ancalc2"
	call grwindow,addlist
	push "cftp"
	call grgmwin,add
	push subepizod
	push "kcword"
	cmpje
	cmp0
	je l5005
	push "a_zobaczyla_ftp"
	call clsave,bis
	neg
	cmp0
	je l5007
	push "a_zobaczyla_ftp"
	call clsave,bset
	push "ania12"
	cthis cbplay
l5007:
l5005:
	jmp l5000
l5002:
	spop $a
l5000:
	end method
	method cftp_GET
	call mouse,getpos
	push 1
	push 0
	call grftp,isin
	cmp0
	je l5009
	localdef $1
	call grftp,getsfound
	pop $1
	push 2
	popax
	add $1,$a
	pop $1
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	call cftp,mssetobj
	push 5
	pop igmstate
l5009:
	end method
	method cftp_PUT
	localdef $1
	call cftp,getfree
	pop $1
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push 0
	pop igmstate
	call mouse,getpos
	push 1
	push 0
	call anwindow,isin
	neg
	cmp0
	je l5011
	push 4
	pop igmstate
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l5013
	push "calc"
	jmp l5012
l5013:
	push "word"
l5012:
	pop $1
	push "kcsys_"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l5015
	push "ania14"
	cthis cbplay
	jmp l5014
l5015:
	push "kcsys_"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bset
	push GAME
	spushs
	push $1
	spop $a
	call [$a],mshow
	push "but"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],lock
	push "ania_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
l5014:
l5011:
	end method
	method ancon_click
	push "konsola"
	cthis _win_click
	cthis munlockhelp
	new def,stdmono12
	push 12
	cthis stdmono
	pop stdmono12
	new def,cols
	push 25
	pop cols
	localstring $1
	new int,xwin
	call anwindow,getpx
	push 30
	pop $b
	popax
	add $a,$b
	pop xwin
	new int,ywin
	call anwinexit,getpy
	push 68
	pop $b
	popax
	add $a,$b
	pop ywin
	localint $2
	push 0
	pop $2
l5016:
	push $2
	push cols
	cmpjl
	cmp0
	je l5017
	jmp l5019
l5018:
	add $2,1
	pop $2
	jmp l5016
l5019:
	push "txti"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push stdmono12
	spop $a
	call [$a],setfont
	push $1
	spushs
	push xwin
	push ywin
	push $2
	push 12
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	cthis white
	spop $a
	call [$a],createtxt
	push $1
	spushs
	call anwindow,getz
	push 10
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	call grwindow,add
	jmp l5018
l5017:
	new def,column
	push 0
	pop column
	new def,ilimit
	push 70
	pop ilimit
	new def,Dir
	push "~"
	pop Dir
	new def,spasswd
	push ""
	pop spasswd
	new def,suser
	push "student"
	pop suser
	new def,shost
	push "kchost"
	pop shost
	new string,Code
	push "Code"
	clparent Lexer,setas
	push A
	push "../"
	push "./"
	push "/"
	push ".."
	push "."
	push "|"
	push ">"
	push ">>"
	push "<"
	push "<<"
	push "'"
	push "@"
	push ":"
	call Code,consts=
	new vector,vec1
	push "string"
	call vec1,type
	push stdmono12
	push 12
	cthis white
	push "at0 !@#$%^&*()-=_+{}|\\[];':\",./<>?"
	push ilimit
	new ConTextTyper,ttp
	push GAME
	push "mcheckcon"
	call ttp,onenter
	call anwindow,getz
	push 10
	pop $b
	popax
	add $a,$b
	call ttp,setz
	push A
	push "stdmono12"
	push stdmono12
	push "cols"
	push "column"
	push "ilimit"
	push "Code"
	push "vec1"
	push "Dir"
	push "suser"
	push "shost"
	push "xwin"
	push "ywin"
	push "spasswd"
	call grwindow,addlist
	push "ttp"
	call grgmwin,add
	cthis mready
	push subepizod
	push "kcssh"
	cmpje
	cmp0
	je l5021
	push "a_poznala_konsole"
	call clsave,bset
	jmp l5020
l5021:
	push "a_poznala_konsole"
	call clsave,bis
	neg
	cmp0
	je l5023
	push "a_poznala_konsole"
	call clsave,bset
	push "ania5"
	cthis cbplay
l5023:
l5020:
	end method
	method mpos
	localint $1
	pop $1
	push ""
	call ttp,txtset
	push xwin
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	push ywin
	push $1
	push 12
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call ttp,setpos
	push ilimit
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	sub $a,$b
	call ttp,limit=
	end method
	method menable
	push column
	cthis mpos
	call ttp,unlock
	call ttp,enable
	end method
	method mout
	localstring $1
	pop $1
	push "txti"
	push column
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
	end method
	method moutln
	localstring $1
	pop $1
	push $1
	cthis mout
	cthis mnewline
	end method
	method mrewind
	localint $1
	push 0
	pop $1
l5024:
	push $1
	push cols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l5025
	jmp l5027
l5026:
	add $1,1
	pop $1
	jmp l5024
l5027:
	push "txti"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "txti"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	jmp l5026
l5025:
	push "txti"
	push cols
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	push ""
	spop $a
	call [$a],txtset
	end method
	method mclear
	call grti,txtreset
	push 0
	pop column
	end method
	method mnewline
	add column,1
	pop column
	push column
	push cols
	cmpje
	cmp0
	je l5029
	sub column,1
	pop column
	cthis mrewind
l5029:
	end method
	method mread
	call ttp,get
	pop Code
	push 0
	call Code,id=
	call Code,clear
	end method
	method mcode
	localstring $1
	pop $1
	call Code,length
	cmp0
	je l5031
	push $1
	push " "
	push 1
	call Code,expects
	jmp l5030
l5031:
	push 0
l5030:
	end method
	method mput
	localdef $1
	push "txti"
	push column
	pop $b
	popax
	add $a,$b
	pop $1
	cthis mread
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],get
	push Code
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],txtset
	push ""
	call ttp,txtset
	cthis mnewline
	end method
	method mready
	push suser
	push "@"
	pop $b
	popax
	add $a,$b
	push shost
	pop $b
	popax
	add $a,$b
	push ":"
	pop $b
	popax
	add $a,$b
	push Dir
	pop $b
	popax
	add $a,$b
	push "$ "
	pop $b
	popax
	add $a,$b
	cthis mout
	cthis menable
	end method
	method mgocon
	cthis mput
	cthis mready
	end method
	method mcplay
	localstring $1
	pop $1
	call ttp,enable
	push $1
	cthis cbplay
	end method
	method mcheckcon
	push 1
	pop benter
	cthis mread
	push subepizod
	spushs
	push "kcifconfig"
	cmpst
	jne l5033
	spop $a
	push "$alpha ifconfig"
	cthis mcode
	cmp0
	je l5035
	cthis mput
	push "eth0      Link encap:Ethernet  HWaddr 00:10:A4:78:85:80  "
	cthis moutln
	push "          UP BROADCAST MULTICAST  MTU:1500  Metric:1"
	cthis moutln
	push "          RX packets:0 errors:0 dropped:0 overruns:0 frame:0"
	cthis moutln
	push "          TX packets:1 errors:0 dropped:0 overruns:1 carrier:0"
	cthis moutln
	push "          collisions:0 txqueuelen:100 "
	cthis moutln
	push "          RX bytes:0 (0.0 b)  TX bytes:342 (342.0 b)"
	cthis moutln
	push "          Interrupt:11 Base address:0xb000 "
	cthis moutln
	push ""
	cthis moutln
	push "lo        Link encap:Local Loopback  "
	cthis moutln
	push "          inet addr:127.0.0.1  Mask:255.0.0.0"
	cthis moutln
	push "          UP LOOPBACK RUNNING  MTU:16436  Metric:1"
	cthis moutln
	push "          RX packets:44 errors:0 dropped:0 overruns:0 frame:0"
	cthis moutln
	push "          TX packets:44 errors:0 dropped:0 overruns:0 carrier:0"
	cthis moutln
	push "          collisions:0 txqueuelen:0 "
	cthis moutln
	push "          RX bytes:2808 (2.7 KiB)  TX bytes:2808 (2.7 KiB)"
	cthis moutln
	push ""
	cthis moutln
	push "ania9"
	cthis mconplay
	jmp l5034
l5035:
	cthis mnocon
l5034:
	jmp l5032
l5033:
	push "kcword"
	cmpst
	je l5037
	push "kcprinter"
	cmpst
	je l5037
	jmp l5036
l5037:
	spop $a
	cthis mgocon
	jmp l5032
l5036:
	push "kcssh"
	cmpst
	jne l5038
	spop $a
	push iconstate
	push 0
	cmpje
	cmp0
	je l5040
	push "$alpha ssh $alpha shop $const @ $alpha kcentral"
	cthis mcode
	cmp0
	je l5042
	cthis mput
	push "shop@kcentral's password: "
	cthis moutln
	push 1
	pop iconstate
	push ""
	pop spasswd
	jmp l5041
l5042:
	cthis mnocon
l5041:
l5040:
	jmp l5032
l5038:
	push "kcssh2"
	cmpst
	jne l5043
	spop $a
	push "$alpha ls"
	cthis mcode
	cmp0
	je l5045
	cthis mput
	push "Purchase_2008_01_12.cal  Purchase_2008_06_08.cal"
	cthis moutln
	push "Purchase_2008_01_15.cal  Purchase_2008_06_26.cal"
	cthis moutln
	push "Purchase_2008_03_05.cal  Purchase_2008_07_21.cal"
	cthis moutln
	push "Purchase_2008_04_01.cal  Purchase_2008_08_02.cal"
	cthis moutln
	push 2
	pop iconstate
	push "zak8"
	cthis mconplay
	jmp l5044
l5045:
	cthis mnocon
l5044:
	jmp l5032
l5043:
	push "kcssh3"
	cmpst
	jne l5046
	spop $a
	push iconstate
	push 2
	cmpje
	cmp0
	je l5048
	push "$alpha exit"
	cthis mcode
	cmp0
	je l5050
	cthis mput
	push "Connection to kcentral closed."
	cthis moutln
	push "~"
	pop Dir
	push "student"
	pop suser
	push "kchost"
	pop shost
	cthis mgocon
	push 3
	pop iconstate
	cthis mconunlock
	jmp l5049
l5050:
	cthis mnocon
l5049:
	jmp l5047
l5048:
	push iconstate
	push 3
	cmpje
	cmp0
	je l5052
	push "$alpha scp $alpha shop $const @ $alpha kcentral $const : $const ./ $alpha Purchase_2008_08_02 $const . $alpha cal $const ."
	cthis mcode
	cmp0
	je l5054
	cthis mput
	push "shop@kcentral's password: "
	cthis moutln
	push 4
	pop iconstate
	push ""
	pop spasswd
	jmp l5053
l5054:
	cthis mnocon
l5053:
l5052:
l5047:
	jmp l5032
l5046:
	spop $a
l5032:
	end method
	method key_down
	push benter
	cmp0
	je l5056
	push 0
	pop benter
	ret
l5056:
	push iconstate
	push 1
	cmpje
	cmp0
	jne l5059
	push iconstate
	push 4
	cmpje
	jmp l5060
l5058:
	push 0
	jmp l5060
l5059:
	push 1
l5060:
	cmp0
	je l5061
	cthis mreadpas
	cmp0
	je l5063
	push spasswd
	push "io2pb6ku"
	cmpje
	cmp0
	je l5065
	push iconstate
	push 1
	cmpje
	cmp0
	je l5067
	push "Last login: 2008.08.02"
	cthis moutln
	push "~] "
	pop Dir
	push "[shop"
	pop suser
	push "kcentral"
	pop shost
	cthis mgocon
	push "ania18"
	cthis mconplay
	jmp l5066
l5067:
	push "Purchase_2008_08_02.cal              100% 4355     4.3KB/s   00:00"
	cthis moutln
	cthis mgocon
	push "zak12"
	cthis mconplay
l5066:
	jmp l5064
l5065:
	push "Invalid password"
	cthis moutln
	cthis mgocon
	push "zak6"
	cthis mcplay
l5064:
	push iconstate
	push 1
	cmpje
	cmp0
	je l5069
	push 0
	pop iconstate
	jmp l5068
l5069:
	push 3
	pop iconstate
l5068:
l5063:
l5061:
	end method
	method mreadpas
	push "enter"
	call keyboard,iskey
	cmp0
	je l5071
	cthis mnewline
	push 1
	ret
	jmp l5070
l5071:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l5073
	push 1
	call spasswd,strsube
	pop spasswd
	jmp l5072
l5073:
	call keyboard,getkey
	popax
	add spasswd,$a
	pop spasswd
l5072:
l5070:
	push 0
	end method
	method mconunlock
	cthis munlockhelp
	call butclosewin,unlock
	call ttp,enable
	push 0
	pop igmstate
	end method
	method mconplay
	localstring $1
	pop $1
	cthis mready
	call ttp,disable
	call butclosewin,lock
	push 1
	pop igmstate
	cthis mlockhelp
	push $1
	cthis cbplay
	end method
	method mnocon
	call Code,length
	cmp0
	je l5075
	push "ania7"
	cthis mcplay
	jmp l5074
l5075:
	cthis mgocon
l5074:
	end method
	method mnotes
	push GAME
	spushs
	spop $a
	call [$a],Sysop40
	end method
	method Sysop40
	push "annotes"
	push "$scripts/common/notes.pyz"
	push 2000
	cthis newanima
	push "annotes"
	push "annottop"
	cthis copyanima
	push 1
	push "Sysop41"
	call annottop,anplayfin
	end method
	method Sysop41
	push "timtop"
	push "Sysop42"
	cthis cycle=
	call timtop,play
	end method
	method Sysop42
	push 8
	popax
	sub 0,$a
	push 6
	call annotes,move
	push 8
	popax
	sub 0,$a
	push 6
	call annottop,move
	call annotes,getex
	push 350
	cmpja
	cmp0
	je l5077
	cthis play
	jmp l5076
l5077:
	push GAME
	spushs
	spop $a
	call [$a],Sysop43
l5076:
	end method
	method Sysop43
	push "fntnotes"
	push ifntnotes
	cthis notescol
	push "at0 !@#$%^&*()-=_+{}|\\[];':\",./<>?"
	push inoteslimit
	new ConTextTyper,ttmac
	call annotes,getpx
	push inotesx
	pop $b
	popax
	add $a,$b
	call annotes,getpy
	push inotesy
	pop $b
	popax
	add $a,$b
	call ttmac,setpos
	call ttmac,enable
	push 2010
	call ttmac,setz
	push GAME
	push "Sysop44"
	call ttmac,onenter
	push 0
	pop igmstate
	cthis munlockhelp
	end method
	method Sysop44
	localstring $1
	call ttmac,get
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l5079
	ret
l5079:
	push 1
	pop igmstate
	cthis mlockhelp
	push "ania10"
	push "zak3"
	push "zak4"
	push "Sysop45"
	push "Sysop47"
	call claskexit,ask
	end method
	method Sysop45
	push GAME
	spushs
	spop $a
	call [$a],Sysop46
	end method
	method Sysop46
	new db,dbmac
	push A
	call ttmac,get
	push 1
	call dbmac,dbbuild
	push "|"
	call dbmac,setseparator
	push "lang/anotes_MAC.db"
	call dbmac,save
	push "anotes_text"
	push "MAC"
	call clsave,set
	localstring $1
	call ttmac,get
	spushs
	spop $h
	call $h,to_u
	pop $1
	call $1,clear
	push " "
	push ""
	call $1,change
	push "prawidlowy_MAC"
	push $1
	push "00:10:A4:78:85:80"
	cmpje
	call clsave,set
	cthis mgotogame
	end method
	method Sysop47
	push 0
	pop igmstate
	cthis munlockhelp
	call ttmac,enable
	end method
	method anword_click
	push subepizod
	spushs
	push "kcword"
	cmpst
	jne l5081
	spop $a
	push 4
	pop igmstate
	push "kcsys_print"
	call clsave,bis
	cmp0
	je l5083
	push "Word"
	call gameapi,play
	jmp l5082
l5083:
	push "ania15"
	cthis cbplay
l5082:
	jmp l5080
l5081:
	spop $a
l5080:
	end method
	method ancalc_click
	push subepizod
	spushs
	push "kcssh4"
	cmpst
	jne l5085
	spop $a
	push "Calc"
	call gameapi,play
	jmp l5084
l5085:
	spop $a
	push 4
	pop igmstate
	push "ania16"
	cthis cbplay
l5084:
	end method
	end game

	game Word
	parent Computro
	method init
	push "word"
	clparent Computro,init
	push "Word"
	pop sgmlastscene
	push "bkg.pyz"
	cthis img=
	push "buts.pyz"
	new Buttons,buts
	call buts,Word0
	new classplacepointer2,clp
	push A
	push ":zak1"
	push "Aniu przeskanowaem ci wzr podania ale nie umiem go wypeni"
	push "Word1"
	push ":zak2"
	push "Przepisz tutaj podanie i poprawnie je wypenij"
	push "Word2"
	push ":zak3"
	push "Klikaj na te znaki zapytania eby przeczyta jak dokadnie napisa kad lini tekstu"
	push "Word3"
	push ":zak4"
	push "Kiedy podanie bdzie wypenione poprawnie wydrukuj je"
	push "Word4"
	push ":zak5"
	push "Wszystkie opcje takie jak pogrubienie nachylenie czy zmiana rozmiaru tekstu znajduj si tutaj"
	push "Word5"
	push ":zak_err"
	push "Nie moemy drukowa; W tej linii jest bd"
	push "Word6"
	push ":zak_ok"
	push "Super dokument idealnie skopiowany; Pirania nie powinna si czepia; Ustaw jeszcze kilka parametrw i drukujemy"
	push "Word7"
	push ":zak_quit"
	push "Najpierw napiszmy podanie"
	push "null"
	cthis sounds=
	new font,fnital
	push sgmfontitalic
	push 36
	call fnital,load
	new font,fnbold
	push sgmfontmonobold
	push 36
	call fnbold,load
	push "txtitalic"
	push "I"
	push "fnital"
	cthis black
	cthis newtext
	push "txtbold"
	push "B"
	push "fnbold"
	cthis black
	cthis newtext
	call anitalic,getcx
	call txtitalic,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anitalic,getcy
	call txtitalic,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtitalic,setpos
	call anbold,getcx
	call txtbold,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anbold,getcy
	call txtbold,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtbold,setpos
	push 10
	call txtitalic,setz
	push 10
	call txtbold,setz
	new font,fnsize
	new int,ifontsize
	push 10
	pop ifontsize
	new string,senumfont
	push 10
	cthis stdfont
	pop senumfont
	push 0
	cthis mfontsize
	new img,imgtxt
	call imgtxt,Word8
	new img,imszablon
	push "imgtxt"
	call imszablon,copy
	push iResX
	call imszablon,getw
	pop $b
	popax
	sub $a,$b
	call imgtxt,getpx
	pop $b
	popax
	sub $a,$b
	call imgtxt,getpy
	call imszablon,setpos
	new int,ikartax
	push 90
	pop ikartax
	new int,ikartay
	push 170
	pop ikartay
	new int,ienumpos
	push 15
	pop ienumpos
	new string,schars
	push "a0 -.,:"
	pop schars
	new int,idty
	push 3
	pop idty
	push "fnsize"
	push ifontsize
	push 0.6
	push ifontsize
	pop $b
	popax
	mul $a,$b
	cthis black
	push schars
	push ikartax
	push ikartay
	push 217
	push 310
	push idty
	new TextBoxTyper,ttt
	push 17
	call ttt,cut
	push 20
	call ttt,setz
	push 0
	call ttt,enablemove=
	cthis menum
	localstring $1
	localint $2
	push 0
	pop $2
l5086:
	push $2
	call ttt,Rows
	cmpjl
	cmp0
	je l5087
	jmp l5089
l5088:
	add $2,1
	pop $2
	jmp l5086
l5089:
	push "fntt_"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push "i"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new int,[$e]
	push ifontsize
	pop [$e]
	push $1
	spushs
	push sgmfontmono
	push ifontsize
	spop $a
	call [$a],load
	push $1
	spushs
	spop $a
	call [$a],Word9
	push $2
	push $1
	push ifontsize
	push 0.6
	push ifontsize
	pop $b
	popax
	mul $a,$b
	cthis black
	push schars
	push "left"
	call ttt,settyper
	jmp l5088
l5087:
	cthis mfontstd
	push "left"
	cthis mdir
	push "dbsz"
	push "szablon"
	cthis lang_db
	localint $3
	localint $4
	localint $5
	localstring $6
	localstring $7
	localstring $8
	new font,fntp
	new gmimgvec,grel
	new gmimgvec,grhelps
	new string,sfirsthelp
	push "null"
	pop sfirsthelp
	localint $9
	push ikartax
	call imgtxt,getpx
	pop $b
	popax
	sub $a,$b
	call imszablon,getpx
	pop $b
	popax
	add $a,$b
	pop $9
	localint $10
	push ikartay
	pop $10
	push 0
	pop $2
l5090:
	push $2
	push 0
	call dbsz,get
	push "<expect>"
	cmpjne
	cmp0
	je l5091
	jmp l5093
l5092:
	add $2,1
	pop $2
	jmp l5090
l5093:
	push "txen"
	push $2
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push ""
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ":"
	pop $b
	popax
	add $a,$b
	push senumfont
	push 24
	cthis grey
	cthis newtext
	push $8
	spushs
	push $9
	push $8
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push ienumpos
	pop $b
	popax
	sub $a,$b
	push $10
	spop $a
	call [$a],setpos
	push $8
	spushs
	push 40
	spop $a
	call [$a],setz
	push $2
	call dbsz,getcolsno
	push 1
	cmpja
	cmp0
	je l5095
	push $2
	push 1
	call dbsz,get
	pop $6
	push $6
	pop $4
	push "b"
	call $6,contains
	cmp0
	je l5097
	push sgmfontmonobold
	push $4
	call fntp,load
	jmp l5096
l5097:
	push "i"
	call $6,contains
	cmp0
	je l5099
	push sgmfontitalic
	push $4
	call fntp,load
	jmp l5098
l5099:
	push sgmfontmono
	push $4
	call fntp,load
l5098:
l5096:
	call grel,free
	push 0
	pop $5
	push 2
	pop $3
l5100:
	push $3
	push $2
	call dbsz,getcolsno
	cmpjl
	cmp0
	je l5101
	jmp l5103
l5102:
	add $3,1
	pop $3
	jmp l5100
l5103:
	push $2
	push $3
	call dbsz,get
	pop $7
	add $3,1
	pop $3
	push "tx"
	push $2
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $1
	push $7
	spushs
	push "t"
	cmpst
	je l5106
	push "x"
	cmpst
	je l5106
	jmp l5105
l5106:
	spop $a
	push $1
	push $2
	push $3
	call dbsz,get
	push "fntp"
	push $7
	push "t"
	cmpje
	cmp0
	je l5108
	cthis black
	jmp l5107
l5108:
	cthis blue
l5107:
	cthis newtext
	push $1
	spushs
	push $9
	push $5
	pop $b
	popax
	add $a,$b
	push $10
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],getw
	popax
	add $5,$a
	pop $5
	push $1
	spushs
	push 30
	spop $a
	call [$a],setz
	push $1
	call grel,add
	jmp l5104
l5105:
	push "op"
	cmpst
	jne l5109
	spop $a
	push "txh"
	push $2
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $2
	push $3
	call dbsz,get
	push "fntp"
	cthis white
	cthis newtext
	push $7
	spushs
	push $8
	spushs
	spop $a
	call [$a],getpx
	push 5
	pop $b
	popax
	add $a,$b
	push $10
	spop $a
	call [$a],setpos
	push $7
	spushs
	spop $a
	call [$a],getex
	push iResX
	push 20
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l5111
	push $7
	spushs
	push iResX
	push $7
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 20
	pop $b
	popax
	sub $a,$b
	push $10
	spop $a
	call [$a],setpos
l5111:
	push $7
	spushs
	spop $a
	call [$a],Word10
	push "h"
	popax
	add $7,$a
	pop $7
	push sfirsthelp
	push "null"
	cmpje
	cmp0
	je l5113
	push $7
	pop sfirsthelp
l5113:
	push $7
	push "?"
	push "fntp"
	cthis white
	cthis newtext
	push $7
	spushs
	push $8
	spushs
	spop $a
	call [$a],getex
	push 2
	pop $b
	popax
	add $a,$b
	push $10
	spop $a
	call [$a],setpos
	push $7
	spushs
	spop $a
	call [$a],Word11
	push $7
	call grhelps,add
	jmp l5104
l5109:
	spop $a
l5104:
	jmp l5102
l5101:
	push "c"
	call $6,contains
	cmp0
	je l5115
	call ttt,W
	push $5
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call grel,move
	jmp l5114
l5115:
	push "r"
	call $6,contains
	cmp0
	je l5117
	call ttt,W
	push $5
	pop $b
	popax
	sub $a,$b
	push 0
	call grel,move
l5117:
l5114:
	push $4
	push idty
	pop $b
	popax
	add $a,$b
	popax
	add $10,$a
	pop $10
	jmp l5094
l5095:
	push ifontsize
	push idty
	pop $b
	popax
	add $a,$b
	popax
	add $10,$a
	pop $10
l5094:
	jmp l5092
l5091:
	push 0
	pop $3
	push 0
	pop $4
	new gmimgvec,grpod
	push 0
	pop $5
	localdef $11
	push 16
	pop $11
	localdef $12
	push $11
	cthis stdfont
	pop $12
	push "<podp>"
	call dbsz,findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	pop $2
l5118:
	push $2
	call dbsz,getrowsno
	cmpjl
	cmp0
	je l5119
	jmp l5121
l5120:
	add $2,1
	pop $2
	jmp l5118
l5121:
	push "txpod"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push $2
	push 0
	call dbsz,get
	push $12
	push 32
	cthis grey
	cthis newtext
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push $5
	push $11
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],move
	add $5,1
	pop $5
	push $1
	spushs
	spop $a
	call [$a],getw
	push $3
	cmpja
	cmp0
	je l5123
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $3
l5123:
	push $1
	spushs
	spop $a
	call [$a],geth
	popax
	add $4,$a
	pop $4
	push $1
	call grpod,add
	jmp l5120
l5119:
	new img,imgpod
	push $3
	push 30
	pop $b
	popax
	add $a,$b
	push $4
	push 10
	pop $b
	popax
	add $a,$b
	push 244
	cthis grey
	push 222
	call imgpod,create
	push iResX
	push $3
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push $4
	pop $b
	popax
	sub $a,$b
	push 20
	pop $b
	popax
	sub $a,$b
	call grpod,move
	call grpod,first
	spushs
	spop $a
	call [$a],getpx
	push 15
	pop $b
	popax
	sub $a,$b
	call grpod,first
	spushs
	spop $a
	call [$a],getpy
	push 5
	pop $b
	popax
	sub $a,$b
	call imgpod,setpos
	push 190
	call imgpod,setz
	push 1
	push 23
	cthis grey
	push 228
	call imgpod,imgborders
	push 0
	pop igmstate
	push "zak1"
	cthis cbplay
	end method
	method Word0
	push "bold"
	cthis mgetbut
	push "italic"
	cthis mgetbut
	push "left"
	cthis mgetbut
	push "center"
	cthis mgetbut
	push "right"
	cthis mgetbut
	push "print"
	call grbuts,getsac
	spushs
	push "anprint"
	spop $a
	call [$a],addtogamevars
	cthis lock
	end method
	method Word1
	push "imgtxt"
	push "ll"
	call clp,showob
	push "zak2"
	cthis cbplay
	end method
	method Word2
	push sfirsthelp
	spushs
	spop $a
	call [$a],getpx
	push sfirsthelp
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push sfirsthelp
	spushs
	spop $a
	call [$a],getpy
	push "dd"
	call clp,show
	push "zak3"
	cthis cbplay
	end method
	method Word3
	push "anprint"
	push "lu"
	call clp,showob
	push "zak4"
	cthis cbplay
	end method
	method Word4
	push "anbold"
	push "ru"
	call clp,showob
	push "zak5"
	cthis cbplay
	end method
	method Word5
	call clp,stoph
	cthis mstart
	end method
	method Word6
	push GAME
	spushs
	push "imger"
	spop $a
	call [$a],vardel
	cthis mstart
	end method
	method Word8
	push 273
	push 390
	push 242
	cthis grey
	push 255
	cthis create
	push 60
	push 140
	cthis setpos
	push 5
	cthis setz
	new img,im1
	cthis getw
	push 1
	push 192
	cthis grey
	push 240
	call im1,create
	cthis getpx
	cthis getpy
	call im1,setpos
	push "im1"
	cthis blit
	push 0
	cthis geth
	call im1,geth
	pop $b
	popax
	sub $a,$b
	call im1,move
	push "im1"
	cthis blit
	push 1
	cthis geth
	push 192
	cthis grey
	push 240
	call im1,create
	cthis getpx
	cthis getpy
	call im1,setpos
	push "im1"
	cthis blit
	cthis getw
	call im1,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call im1,move
	push "im1"
	cthis blit
	delete im1
	end method
	method Word9
	push A
	push "bold"
	push 0
	push "italic"
	push 0
	cthis vars2
	end method
	method Word10
	push 100
	cthis setz
	new img,imbg
	cthis getw
	push 10
	pop $b
	popax
	add $a,$b
	cthis geth
	push 2
	pop $b
	popax
	add $a,$b
	cthis red
	push 222
	call imbg,create
	cthis getpx
	push 5
	pop $b
	popax
	sub $a,$b
	cthis getpy
	push 1
	pop $b
	popax
	sub $a,$b
	call imbg,setpos
	push 90
	call imbg,setz
	call imbg,hide
	cthis hide
	end method
	method Word11
	push 80
	cthis setz
	new img,imbg
	cthis getw
	push 2
	pop $b
	popax
	add $a,$b
	cthis geth
	push 2
	pop $b
	popax
	add $a,$b
	cthis red
	push 222
	call imbg,create
	push 40
	call imbg,setz
	cthis getpx
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getpy
	push 1
	pop $b
	popax
	sub $a,$b
	call imbg,setpos
	end method
	method mstart
	call ttt,enable
	call buts,unlock
	push 1
	pop igmstate
	end method
	method menum
	localint $1
	push ienumpos
	pop $1
	localstring $2
	push "gren"
	cthis hasvar
	neg
	cmp0
	je l5125
	new gmimgvec,gren
	localint $3
	push 0
	pop $3
l5126:
	push $3
	call ttt,Rows
	cmpjl
	cmp0
	je l5127
	jmp l5129
l5128:
	add $3,1
	pop $3
	jmp l5126
l5129:
	push "txte"
	push $3
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push 20
	spop $a
	call [$a],setz
	push $2
	spushs
	push senumfont
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ":"
	pop $b
	popax
	add $a,$b
	push 24
	cthis grey
	spop $a
	call [$a],txtsetcol
	jmp l5128
l5127:
l5125:
	localint $3
	push 0
	pop $3
l5130:
	push $3
	call gren,size
	cmpjl
	cmp0
	je l5131
	jmp l5133
l5132:
	add $3,1
	pop $3
	jmp l5130
l5133:
	push $3
	call gren,get
	pop $2
	push $2
	spushs
	push ikartax
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push $3
	call ttt,idpy
	spop $a
	call [$a],setpos
	jmp l5132
l5131:
	end method
	method mgetdir
	call ttt,Word12
	end method
	method Word12
	cthis actual
	spushs
	spop $a
	call [$a],Sdir
	end method
	method mupdate
	localstring $1
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	pop $1
	localint $2
	push "i"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	pop $2
	call ttt,Row
	push $1
	push $2
	push 0.6
	push $2
	pop $b
	popax
	mul $a,$b
	cthis black
	push schars
	cthis mgetdir
	call ttt,settyper
	end method
	method ttt_activate
	push GAME
	spushs
	cthis actual
	spushs
	spop $a
	call [$a],iFontSize
	push ifontsize
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],mfontsize
	push GAME
	spushs
	cthis actual
	spushs
	spop $a
	call [$a],Sdir
	spop $a
	call [$a],mdir
	push "fntt_"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],bold
	cmp0
	je l5135
	call anbold,show
	jmp l5134
l5135:
	call anbold,hide
l5134:
	push "fntt_"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],italic
	cmp0
	je l5137
	call anitalic,show
	jmp l5136
l5137:
	call anitalic,hide
l5136:
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	end method
	method ttact
	call ttt,Word13
	end method
	method Word13
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	end method
	method mfontsize
	localint $1
	pop $1
	push 8
	push ifontsize
	push $1
	pop $b
	popax
	add $a,$b
	push 32
	cthis between
	pop $1
	localstring $2
	push "ttt"
	cthis hasvar
	cmp0
	je l5139
	push 0.6
	call ttt,getact
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	mul $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	call ttt,W
	cmpja
	jmp l5141
l5139:
	push 0
	jmp l5141
l5140:
	push 1
l5141:
	cmp0
	je l5142
	ret
l5142:
	push $1
	pop ifontsize
	push "txtsize"
	cthis vardelif
	push sgmfontmono
	push ifontsize
	call fnsize,load
	push "txtsize"
	push ifontsize
	push "fnsize"
	cthis black
	cthis newtext
	push 453
	call txtsize,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 97
	call txtsize,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtsize,setpos
	push 10
	call txtsize,setz
	push "ttt"
	cthis hasvar
	cmp0
	je l5144
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],bold
	cmp0
	je l5146
	push $2
	spushs
	push sgmfontmonobold
	push ifontsize
	spop $a
	call [$a],load
	jmp l5145
l5146:
	push $2
	spushs
	spop $a
	call [$a],italic
	cmp0
	je l5148
	push $2
	spushs
	push sgmfontitalic
	push ifontsize
	spop $a
	call [$a],load
	jmp l5147
l5148:
	push $2
	spushs
	push sgmfontmono
	push ifontsize
	spop $a
	call [$a],load
l5147:
l5145:
	push "i"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push ifontsize
	spop $b
	popax
	mov [$b],$a
	cthis mupdate
	cthis menum
l5144:
	end method
	method mgetbut
	localstring $1
	pop $1
	localstring $2
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	call grbuts,getsac
	push $2
	cthis copyanima
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $2
	spushs
	push $2
	spop $a
	call [$a],addtogamevars
	end method
	method mfontstd
	call anbold,hide
	call anitalic,hide
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	spop $a
	call [$a],bold=
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	spop $a
	call [$a],italic=
	push 0
	cthis mfontsize
	end method
	method mfontbold
	call anbold,show
	call anitalic,hide
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],bold=
	push 0
	cthis mfontsize
	end method
	method mfontitalic
	call anbold,hide
	call anitalic,show
	push "fntt_"
	call ttt,Row
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],italic=
	push 0
	cthis mfontsize
	end method
	method mdir
	localstring $1
	pop $1
	call anleft,hide
	call ancenter,hide
	call anright,hide
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	push $1
	call ttt,Word14
	cmp0
	je l5150
	push $1
	call ttt,Word15
	cthis mupdate
	call ttt,activateact
l5150:
	end method
	method Word14
	localdef $1
	pop $1
	cthis actual
	spushs
	spop $a
	call [$a],Sdir
	push $1
	cmpjne
	end method
	method Word15
	localdef $1
	pop $1
	cthis actual
	spushs
	push $1
	spop $a
	call [$a],Sdir=
	end method
	method buts_lclick
	push sobject
	spushs
	push "up"
	cmpst
	jne l5152
	spop $a
	push GAME
	spushs
	push 1
	spop $a
	call [$a],mfontsize
	cthis ttact
	jmp l5151
l5152:
	push "down"
	cmpst
	jne l5153
	spop $a
	push GAME
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],mfontsize
	cthis ttact
	jmp l5151
l5153:
	push "left"
	cmpst
	je l5155
	push "right"
	cmpst
	je l5155
	push "center"
	cmpst
	je l5155
	jmp l5154
l5155:
	spop $a
	push GAME
	spushs
	push sobject
	spop $a
	call [$a],mdir
	jmp l5151
l5154:
	push "bold"
	cmpst
	jne l5156
	spop $a
	call anitalic,isvisible
	cmp0
	je l5158
	push GAME
	spushs
	spop $a
	call [$a],mfontstd
l5158:
	call anbold,isvisible
	cmp0
	je l5160
	push GAME
	spushs
	spop $a
	call [$a],mfontstd
	jmp l5159
l5160:
	push GAME
	spushs
	spop $a
	call [$a],mfontbold
l5159:
	cthis ttact
	jmp l5151
l5156:
	push "italic"
	cmpst
	jne l5161
	spop $a
	call anbold,isvisible
	cmp0
	je l5163
	push GAME
	spushs
	spop $a
	call [$a],mfontstd
l5163:
	call anitalic,isvisible
	cmp0
	je l5165
	push GAME
	spushs
	spop $a
	call [$a],mfontstd
	jmp l5164
l5165:
	push GAME
	spushs
	spop $a
	call [$a],mfontitalic
l5164:
	cthis ttact
	jmp l5151
l5161:
	push "close"
	cmpst
	jne l5166
	spop $a
	push "zak_quit"
	cthis cbplay
	jmp l5151
l5166:
	push "print"
	cmpst
	jne l5167
	spop $a
	new vector,vec1
	push "string"
	call vec1,type
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localint $7
	localint $8
	push 3
	pop igmstate
	call buts,lock
	call ttt,disable
	localint $9
	localint $10
	localint $11
	push 0
	pop $11
l5168:
	push $11
	call ttt,Rows
	cmpjl
	cmp0
	je l5169
	jmp l5171
l5170:
	add $11,1
	pop $11
	jmp l5168
l5171:
	push $11
	call ttt,getid
	pop $1
	push $11
	call dbsz,getcolsno
	push 1
	cmpje
	cmp0
	je l5173
	call $1,clear
	push $1
	push ""
	cmpjne
	cmp0
	je l5175
	push $11
	cthis merror
	delete vec1
	ret
l5175:
	jmp l5172
l5173:
	push $11
	push 1
	call dbsz,get
	pop $2
	push "fntt_"
	push $11
	pop $b
	popax
	add $a,$b
	pop $3
	push $11
	push "Sdir"
	cthis mttval
	pop $4
	push "r"
	call $2,contains
	pop $10
	push $10
	neg
	cmp0
	je l5176
	push "c"
	call $2,contains
	neg
	jmp l5178
l5176:
	push 0
	jmp l5178
l5177:
	push 1
l5178:
	pop $9
	push "i"
	push $3
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	push 0
	push 2
	call $2,getb
	cmpjne
	cmp0
	jne l5181
	push "b"
	call $2,contains
	cmp0
	je l5182
	push $3
	spushs
	spop $a
	call [$a],bold
	neg
	jmp l5184
l5182:
	push 0
	jmp l5184
l5183:
	push 1
l5184:
	cmp0
	jne l5181
	push "i"
	call $2,contains
	cmp0
	je l5185
	push $3
	spushs
	spop $a
	call [$a],italic
	neg
	jmp l5187
l5185:
	push 0
	jmp l5187
l5186:
	push 1
l5187:
	cmp0
	jne l5181
	push $10
	cmp0
	je l5188
	push $4
	push "right"
	cmpjne
	jmp l5190
l5188:
	push 0
	jmp l5190
l5189:
	push 1
l5190:
	cmp0
	jne l5181
	push "c"
	call $2,contains
	cmp0
	je l5191
	push $4
	push "center"
	cmpjne
	jmp l5193
l5191:
	push 0
	jmp l5193
l5192:
	push 1
l5193:
	cmp0
	jne l5181
	push $9
	cmp0
	je l5194
	push $4
	push "left"
	cmpjne
	jmp l5196
l5194:
	push 0
	jmp l5196
l5195:
	push 1
l5196:
	jmp l5197
l5180:
	push 0
	jmp l5197
l5181:
	push 1
l5197:
	cmp0
	je l5198
	push $11
	cthis merror
	delete vec1
	ret
l5198:
	push ""
	pop $2
	push 0
	pop $7
	push $10
	cmp0
	je l5200
l5201:
	push $7
	push 1
	call $1,getb
	push " "
	cmpje
	cmp0
	je l5202
	add $7,1
	pop $7
	push " "
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	jmp l5201
l5202:
l5200:
	push 2
	pop $5
l5203:
	push $11
	push $5
	call dbsz,get
	push "op"
	cmpjne
	cmp0
	je l5204
	jmp l5206
l5205:
	add $5,1
	pop $5
	jmp l5203
l5206:
	push $11
	push $5
	call dbsz,get
	pop $3
	add $5,1
	pop $5
	push $3
	spushs
	push "t"
	cmpst
	jne l5208
	spop $a
	push $11
	push $5
	call dbsz,get
	pop $4
	push $7
	call $4,length
	call $1,getb
	push $4
	cmpje
	cmp0
	je l5210
	call $4,length
	popax
	add $7,$a
	pop $7
	push $4
	popax
	add $2,$a
	pop $2
	jmp l5209
l5210:
	push $11
	cthis merror
	delete vec1
	ret
l5209:
	jmp l5207
l5208:
	push "x"
	cmpst
	jne l5211
	spop $a
	push "e"
	push $11
	push 0
	call dbsz,get
	pop $b
	popax
	add $a,$b
	call dbsz,findbyrow
	push 1
	call dbsz,get
	push ","
	call vec1,vecbuildfromstring
	push 1
	pop $6
	push 0
	pop $8
l5212:
	push $8
	call vec1,size
	cmpjl
	cmp0
	je l5213
	jmp l5215
l5214:
	add $8,1
	pop $8
	jmp l5212
l5215:
	push $8
	call vec1,get
	pop $4
	push $7
	call $4,length
	call $1,getb
	push $4
	cmpje
	cmp0
	je l5217
	push $7
	call $4,length
	pop $b
	popax
	add $a,$b
	call $1,length
	cmpje
	cmp0
	jne l5220
	push $7
	call $4,length
	pop $b
	popax
	add $a,$b
	push 1
	call $1,getb
	push " "
	cmpje
	jmp l5221
l5219:
	push 0
	jmp l5221
l5220:
	push 1
l5221:
	jmp l5222
l5217:
	push 0
	jmp l5222
l5218:
	push 1
l5222:
	cmp0
	je l5223
	push 0
	pop $6
	call $4,length
	popax
	add $7,$a
	pop $7
	push $4
	popax
	add $2,$a
	pop $2
l5223:
	jmp l5214
l5213:
	push $6
	cmp0
	je l5225
	push $11
	cthis merror
	delete vec1
	ret
l5225:
	jmp l5207
l5211:
	spop $a
l5207:
	jmp l5205
l5204:
	push $1
	push $2
	cmpjne
	cmp0
	je l5227
	call $2,length
	call $1,strsubb
	pop $4
	call $4,clear
	push $9
	cmp0
	je l5229
	push $4
	push ""
	cmpje
	jmp l5231
l5229:
	push 0
	jmp l5231
l5230:
	push 1
l5231:
	neg
	cmp0
	je l5232
	push $11
	cthis merror
	delete vec1
	ret
l5232:
l5227:
l5172:
	jmp l5170
l5169:
	delete vec1
	push 5
	pop igmstate
	cthis mfinish
	jmp l5151
l5167:
	spop $a
l5151:
	end method
	method merror
	localint $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],Word16
	end method
	method Word16
	localdef $1
	pop $1
	new img,imger
	push $1
	push "W"
	cthis mttval
	push $1
	push "iFontSize"
	cthis mttval
	cthis red
	push 192
	call imger,create
	push $1
	push "X"
	cthis mttval
	push $1
	push "Y"
	cthis mttval
	call imger,setpos
	call imgtxt,getz
	call imger,setz
	push "zak_err"
	cthis cbplay
	end method
	method mttval
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call ttt,Word17
	end method
	method Word17
	localdef $1
	localdef $2
	pop $2
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method mshow
	cthis show
	call imbg,show
	end method
	method mhide
	cthis hide
	call imbg,hide
	end method
	method mhelp
	call buts,lock
	push 0
	pop igmstate
	push "zak1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	spushs
	push 0
	cmpst
	je l5235
	push 4
	cmpst
	je l5235
	jmp l5234
l5235:
	spop $a
	push 1
	cthis cactsndstop
	jmp l5233
l5234:
	push 1
	cmpst
	jne l5236
	spop $a
	call mouse,getpos
	push 1
	push 0
	call grhelps,isin
	cmp0
	je l5238
	call grhelps,getsfound
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	spop $a
	call [$a],mshow
	push 2
	pop igmstate
l5238:
	jmp l5233
l5236:
	push 2
	cmpst
	jne l5239
	spop $a
	call grhelps,getsfound
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	spop $a
	call [$a],mhide
	push 1
	pop igmstate
	jmp l5233
l5239:
	push 3
	cmpst
	jne l5240
	spop $a
	push 4
	pop igmstate
	jmp l5233
l5240:
	spop $a
l5233:
	end method
	method mfinish
	push "wydruk_podania"
	push 1
	call clsave,set
	push "adinania"
	push "gameadinania0"
	cthis gotoadv
	end method
	end game

	game CShol
	parent Computro
	method init
	push "cshol"
	clparent Computro,init
	push A
	push "bg.pyz"
	push "giaro.pyz 10"
	push "winc.pyz 10"
	cthis imgs=
	push A
	push ":giaro1"
	push "no i wanie id zobaczy tamten sprzt; Moe to jaka bdna dostawa bya"
	push "CShol0"
	push ":winc1"
	push "Suchaj ja chyba wiem co to za czci; Pewnie chodzi o wyposaenie do pracowni; Zostaw to mnie"
	push "CShol1"
	push ":giaro2"
	push "Acha; Mylaem e to moe jaka pomyka"
	push "CShol2"
	push ":winc2"
	push "Nie wszystko w porzdku ja si tym zajm"
	push "CShol3"
	push ":giaro3"
	push "Dobra dziki"
	push "CShol4"
	cthis sounds=
	push "CShol6"
	call ccs,enter
	end method
	method CShol0
	push 1
	cthis winc
	end method
	method CShol1
	push 2
	cthis giaro
	end method
	method CShol2
	push 2
	cthis winc
	end method
	method CShol3
	push 3
	cthis giaro
	end method
	method CShol4
	push 1000
	call mus,fadeout
	push "CShol5"
	call ccs,close
	end method
	method CShol5
	push "adhol"
	push "gameadhol0"
	cthis gotoadv
	end method
	method CShol6
	push "plama.ogg -v 30"
	call mus,playstr
	push 1
	cthis winc
	end method
	method giaro
	localint $1
	pop $1
	push "giaro"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push "talk"
	call angiaro,play
	push "stand"
	call anwinc,play
	end method
	method winc
	localint $1
	pop $1
	push "winc"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push "stand"
	call angiaro,play
	push "talk"
	call anwinc,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l5242
	push 1
	cthis cactsndstop
l5242:
	end method
	end game

	game CSgim
	parent Computro
	method init
	push "csgim"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "asystent.pyz 10"
	cthis imgs=
	push 0
	push "CSgim0"
	call anasystent,anplayfin
	end method
	method CSgim0
	push "adgim"
	push "gameadgim2"
	cthis gotoadv
	end method
	end game

	game Biurkow
	parent Computro
	method init
	push "biurkow"
	clparent Computro,init
	call advmouse,setstd
	push A
	push "szuflada 60"
	push "kluczyk 70"
	push "getpuz 80"
	push "putpuz 80"
	push "wlaczkomp"
	cthis sfxs=
	push A
	push "bkg.pyz"
	push "czek.pyzH"
	push "ekran.pyzH 10"
	push "pen.pyzH 100"
	push "tablet.pyzH 60"
	push "kurs.pyzH 56"
	push "dogimH.pyz 55"
	push "powrotH.pyz 20"
	cthis imgs=
	push "anczek"
	push "anczek2"
	cthis copyanima
	push 1
	popax
	sub 0,$a
	push 1
	call anczek2,setframe
	new gmimgvec,gramka
	push "gramka"
	push "ramka.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 58
	call gramka,setz
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 50
	call grels,setz
	call grels,hide
	push A
	push "zamek"
	push "zamek2"
	push "komp"
	push "monitor"
	push "mshow"
	cthis withlist
	push "monitor"
	push 5
	cthis msetz
	push "komp"
	push 5
	cthis msetz
	call grels,sortimgs
	new int,bmaklucz
	push "zak_ma_kluczyk"
	call clsave,bis
	pop bmaklucz
	new string,smoved
	push "null"
	pop smoved
	new string,smovac
	new int,bjpg
	push 1
	pop bjpg
	new string,mvjpg
	push "null"
	pop mvjpg
	new int,imisjakarta
	push 0
	pop imisjakarta
	new int,imisjaplik
	push 0
	pop imisjaplik
	push bmaklucz
	cmp0
	je l5244
	new ConImgMover,imov
	new ConImgMover,tmov
	push "anklucz"
	push "$scripts/items/kluczw.pyz"
	push 200
	cthis newanima
	cthis mretklucz
	jmp l5243
l5244:
	call anpowrot,show
	push "anpowrot"
	call grels,add
l5243:
	push A
	push ":zak1"
	push "Zakluczone"
	push "null"
	push ":zak2"
	push "Jaka karta wejciowa; Moe si przyda"
	push "mdali"
	push ":zak3"
	push "To mi wyglda na jakie wane dane; Skopiuj je do pamici"
	push "null"
	push ":zak4"
	push "Doprowadz jeszcze wszystko do porzdku i zmykam"
	push "porzadki"
	cthis sounds=
	cthis menable
	end method
	method mdali
	push 1
	pop igmstate
	end method
	method menable
	push 1
	pop igmstate
	push bmaklucz
	cmp0
	je l5246
	call imov,unlock
	call tmov,unlock
l5246:
	end method
	method mretklucz
	call fxputpuz,play
	call imov,free
	push 0
	push 0
	call anklucz,setframe
	call anklucz,show
	push iResX
	call anklucz,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	call anklucz,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call anklucz,setpos
	push "anklucz"
	call grels,add
	end method
	method mtakeklucz
	call fxgetpuz,play
	push "anklucz"
	call grels,remove
	push 1
	push 0
	call anklucz,setframe
	push "anklucz"
	call imov,mssetobj
	end method
	method mget
	localstring $1
	pop $1
	push $1
	call grels,getsac
	end method
	method mhide
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],hide
	end method
	method mshow
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],show
	end method
	method msetz
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis mget
	spushs
	push $2
	spop $a
	call [$a],setz
	end method
	method mvis
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],isvisible
	end method
	method mouse_move
	push igmstate
	push 5
	cmpje
	cmp0
	je l5248
	ret
l5248:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push bmaklucz
	cmp0
	je l5250
	push igmstate
	push 4
	cmpje
	cmp0
	je l5252
	cthis movpen
	jmp l5251
l5252:
	push $1
	push $2
	push 0
	push 1
	call grels,isin
	cmp0
	je l5254
	cthis mcopy
	cmp0
	je l5256
	push smovac
	spushs
	push "zamek"
	cmpst
	je l5259
	push "zamek2"
	cmpst
	je l5259
	jmp l5258
l5259:
	spop $a
	call advmouse,setbut
	jmp l5257
l5258:
	push "komp"
	cmpst
	je l5261
	push "klucz"
	cmpst
	je l5261
	jmp l5260
l5261:
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 0
	cmpje
	cmp0
	je l5263
	call advmouse,setexit
l5263:
	jmp l5257
l5260:
	push "tablet"
	cmpst
	je l5265
	push "dogim"
	cmpst
	je l5265
	jmp l5264
l5265:
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5267
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 0
	cmpje
	jmp l5269
l5267:
	push 0
	jmp l5269
l5268:
	push 1
l5269:
	cmp0
	je l5270
	call advmouse,setexit
l5270:
	jmp l5257
l5264:
	push "pen"
	cmpst
	je l5272
	push "czek"
	cmpst
	je l5272
	push "powrot"
	cmpst
	je l5272
	jmp l5271
l5272:
	spop $a
	call advmouse,setexit
	jmp l5257
l5271:
	spop $a
	cthis mret
l5257:
l5256:
	jmp l5253
l5254:
	cthis mret
l5253:
l5251:
	jmp l5249
l5250:
	push $1
	push $2
	push 1
	push 1
	call grels,isin
	cmp0
	je l5274
	cthis mcopy
	cmp0
	je l5276
	push smovac
	spushs
	push "zamek"
	cmpst
	je l5279
	push "zamek2"
	cmpst
	je l5279
	jmp l5278
l5279:
	spop $a
	call advmouse,setbut
	jmp l5277
l5278:
	push "powrot"
	cmpst
	jne l5280
	spop $a
	call advmouse,setexit
	jmp l5277
l5280:
	spop $a
	cthis mret
l5277:
l5276:
	jmp l5273
l5274:
	cthis mret
l5273:
l5249:
	end method
	method mcopy
	localstring $1
	call grels,getsfound
	pop $1
	push smoved
	push $1
	cmpjne
	cmp0
	je l5282
	push $1
	pop smoved
	push smoved
	spushs
	spop $a
	call [$a],actionname
	pop smovac
	push 1
	jmp l5281
l5282:
	push 0
l5281:
	end method
	method mret
	push smoved
	push "null"
	cmpjne
	cmp0
	je l5284
	push "null"
	pop smoved
	push "null"
	pop smovac
	call advmouse,setstd
l5284:
	end method
	method putklucz
	call imov,free
	push smovac
	spushs
	push "zamek"
	cmpst
	jne l5286
	spop $a
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call fxszuflada,play
	call antablet,framenr
	push 0
	cmpje
	cmp0
	je l5288
	call antablet,show
	push "antablet"
	call grels,add
l5288:
	call anklucz,hide
	jmp l5285
l5286:
	push "zamek2"
	cmpst
	jne l5289
	spop $a
	call fxszuflada,play
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call andogim,framenr
	push 0
	cmpje
	cmp0
	je l5291
	call andogim,show
	push "andogim"
	call grels,add
	call grels,sortimgs
l5291:
	call anklucz,hide
	jmp l5285
l5289:
	spop $a
	cthis mretklucz
l5285:
	end method
	method mpowrot
	localint $1
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l5293
	push imisjakarta
	neg
	jmp l5295
l5293:
	push 0
	jmp l5295
l5294:
	push 1
l5295:
	cmp0
	je l5296
	push 1
	pop imisjakarta
	jmp l5292
l5296:
	push $1
	push 1
	cmpje
	cmp0
	je l5298
	push imisjaplik
	neg
	jmp l5300
l5298:
	push 0
	jmp l5300
l5299:
	push 1
l5300:
	cmp0
	je l5301
	push 1
	pop imisjaplik
l5301:
l5292:
	push imisjakarta
	cmp0
	je l5303
	push imisjaplik
	jmp l5305
l5303:
	push 0
	jmp l5305
l5304:
	push 1
l5305:
	cmp0
	je l5306
	call anpowrot,show
	push "anpowrot"
	call grels,add
l5306:
	end method
	method puttablet
	call imov,free
	call fxputpuz,play
	push smovac
	spushs
	push "komp"
	cmpst
	jne l5308
	spop $a
	push 1
	popax
	sub 0,$a
	push 1
	call antablet,setframe
	push 0
	push 0
	call antablet,setpos
	call anpen,show
	push "anpen"
	call grels,add
	jmp l5307
l5308:
	spop $a
	push 0
	push 0
	call antablet,setpos
	push "antablet"
	call grels,add
l5307:
	end method
	method mretpen
	call fxputpuz,play
	push "anczek"
	call grels,remove
	push "anpen"
	call grels,add
	call imov,free
	call grels,sortimgs
	push 1
	pop igmstate
	push 0
	push 0
	call anpen,setpos
	end method
	method movpen
	localint $1
	call anpen,getpx
	pop $1
	localint $2
	call anpen,getey
	pop $2
	push $1
	push $2
	push 0
	push 1
	call anczek,isin
	cmp0
	je l5310
	call anczek2,getpx
	push 2
	push $1
	call anczek,getpx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $1
	call anczek2,getpy
	push 2
	push $2
	call anczek,getpy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	push $2
	call ankurs,ansetbpos
	push bjpg
	cmp0
	je l5312
	push $1
	push $2
	push 1
	push 1
	call grels,isin
	jmp l5314
l5312:
	push 0
	jmp l5314
l5313:
	push 1
l5314:
	cmp0
	je l5315
	localdef $3
	call grels,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $3
	push mvjpg
	push $3
	cmpjne
	cmp0
	je l5317
	push $3
	pop mvjpg
	push $3
	spushs
	push "1jpg"
	cmpst
	je l5320
	push "2jpg"
	cmpst
	je l5320
	push "3jpg"
	cmpst
	je l5320
	push "4jpg"
	cmpst
	je l5320
	jmp l5319
l5320:
	spop $a
	push 1
	popax
	sub 0,$a
	push 1
	call ankurs,setframe
	jmp l5318
l5319:
	spop $a
	push "null"
	pop mvjpg
	push 1
	popax
	sub 0,$a
	push 0
	call ankurs,setframe
l5318:
l5317:
l5315:
l5310:
	end method
	method mouse_lclick
	cthis cisplaying
	cmp0
	jne l5323
	push igmstate
	push 5
	cmpje
	jmp l5324
l5322:
	push 0
	jmp l5324
l5323:
	push 1
l5324:
	cmp0
	je l5325
	ret
l5325:
	push bmaklucz
	neg
	cmp0
	je l5327
	push smoved
	push "null"
	cmpjne
	cmp0
	je l5329
	push smovac
	push "powrot"
	cmpje
	cmp0
	je l5331
	push "adrektor"
	push "gameadrektor2"
	cthis gotoadv
	jmp l5330
l5331:
	push "zak1"
	cthis cbplay
l5330:
l5329:
	jmp l5326
l5327:
	push igmstate
	push 2
	cmpje
	cmp0
	je l5333
	cthis putklucz
	push 1
	pop igmstate
	jmp l5332
l5333:
	push igmstate
	push 3
	cmpje
	cmp0
	je l5335
	cthis puttablet
	push 1
	pop igmstate
	jmp l5334
l5335:
	push igmstate
	push 4
	cmpje
	cmp0
	je l5337
	call anekran,isvisible
	cmp0
	je l5339
	localint $1
	call anpen,getpx
	pop $1
	localint $2
	call anpen,getey
	pop $2
	push $1
	push $2
	push 0
	push 1
	call anczek,isin
	cmp0
	je l5341
	push bjpg
	cmp0
	je l5343
	push mvjpg
	push "null"
	cmpjne
	cmp0
	je l5345
	push 0
	pop bjpg
	push mvjpg
	cthis mget
	spushs
	spop $a
	call [$a],Biurkow0
	push mvjpg
	push "4jpg"
	cmpje
	cmp0
	je l5347
	push "zak3"
	cthis cbplay
	push 1
	cthis mpowrot
l5347:
l5345:
	jmp l5342
l5343:
	push mvjpg
	cthis mget
	spushs
	spop $a
	call [$a],Biurkow1
	push 1
	pop bjpg
l5342:
	jmp l5340
l5341:
	cthis mretpen
l5340:
	jmp l5338
l5339:
	cthis mretpen
l5338:
	jmp l5336
l5337:
	push smovac
	spushs
	push "komp"
	cmpst
	jne l5349
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 0
	cmpje
	cmp0
	je l5351
	call fxwlaczkomp,play
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call anekran,show
	call ankurs,show
	push A
	push "1jpg"
	push "2jpg"
	push "3jpg"
	push "4jpg"
	push "mshow"
	cthis withlist
l5351:
	jmp l5348
l5349:
	push "zamek"
	cmpst
	jne l5352
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 1
	cmpje
	cmp0
	je l5354
	call fxszuflada,play
	call antablet,framenr
	push 0
	cmpje
	cmp0
	je l5356
	call antablet,hide
	push "antablet"
	call grels,remove
l5356:
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis mretklucz
l5354:
	jmp l5348
l5352:
	push "zamek2"
	cmpst
	jne l5357
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 1
	cmpje
	cmp0
	je l5359
	call fxszuflada,play
	call andogim,framenr
	push 0
	cmpje
	cmp0
	je l5361
	call andogim,hide
	push "andogim"
	call grels,remove
l5361:
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis mretklucz
l5359:
	jmp l5348
l5357:
	push "klucz"
	cmpst
	jne l5362
	spop $a
	push 2
	pop igmstate
	cthis mtakeklucz
	jmp l5348
l5362:
	push "dogim"
	cmpst
	jne l5363
	spop $a
	push "zak2"
	cthis cbplay
	call andogim,hide
	push 1
	popax
	sub 0,$a
	push 1
	call andogim,setframe
	push "andogim"
	call grels,remove
	push 0
	cthis mpowrot
	jmp l5348
l5363:
	push "tablet"
	cmpst
	jne l5364
	spop $a
	call fxgetpuz,play
	push 3
	pop igmstate
	push "antablet"
	call grels,remove
	push "antablet"
	call imov,mssetobj
	jmp l5348
l5364:
	push "pen"
	cmpst
	jne l5365
	spop $a
	call fxgetpuz,play
	push 4
	pop igmstate
	push "anczek"
	call grels,add
	push "anpen"
	call grels,remove
	push "anpen"
	call imov,mssetobj
	call grels,sortimgs
	jmp l5348
l5365:
	push "powrot"
	cmpst
	jne l5366
	spop $a
	push 5
	pop igmstate
	push "zak_end_rektor"
	call clsave,bset
	push "zak4"
	cthis cbplay
	jmp l5348
l5366:
	spop $a
l5348:
l5336:
l5334:
l5332:
l5326:
	end method
	method Biurkow0
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push 52
	cthis setz
	end method
	method Biurkow1
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push 50
	cthis setz
	end method
	method porzadki
	push "adrektor"
	push "gameadrektor2"
	cthis gotoadv
	end method
	end game

	new int,oldcomputrocnt
	push 0
	pop oldcomputrocnt
	game Oldkomp
	parent Computro
	method init
	push "oldkomp"
	clparent Computro,init
	call advmouse,setstd
	push A
	push "bkg.pyz"
	push "buton.pyz 20"
	push "karta.pyzH 20"
	push "on.pyzH 10"
	push "powrot.pyz 30"
	cthis imgs=
	push A
	push "wlaczkomp"
	push "type2"
	push "bgrwiatrak 20"
	cthis sfxs=
	new gmimgvec,grkl
	push "grkl"
	push "klawisze.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grkl,hide
	new int,bon
	push "oldkomp_on"
	call clsave,get
	pop bon
	new string,snumber
	push "oldkomp_number"
	call clsave,get
	pop snumber
	new int,ikarta
	push "oldkomp_karta"
	call clsave,get
	pop ikarta
	push "fntscreen"
	push 22
	cthis monofont
	push "txtnr"
	push ""
	push "fntscreen"
	push 222
	cthis grey
	cthis newtext
	push 50
	call txtnr,setz
	push bon
	cmp0
	je l5368
	push 1
	popax
	sub 0,$a
	push 1
	call anbuton,setframe
	cthis mwlacz
	push snumber
	push "null"
	cmpjne
	cmp0
	je l5370
	cthis putnumber
l5370:
l5368:
	push ikarta
	push 1
	cmpje
	cmp0
	je l5372
	call ankarta,show
l5372:
	new string,smove
	push "null"
	pop smove
	call anpowrot,Button_std
	push "butclick"
	push "Oldkomp0"
	call anpowrot,addmethod
	new Button,butret
	push "anpowrot"
	call butret,add
	push A
	push ":zak1"
	push "Znowu jaka karta wejciowa; Pamitam e czasami papa Giaro j wyciga"
	push "mret"
	push ":zak2"
	push "Szkoda e tylko cyfry mona podawa; Gdyby dostpne byy te literki mgbym na przykad wpisa sowo helikopter"
	push "mret"
	cthis sounds=
	push 1
	pop igmstate
	end method
	method Oldkomp0
	push igmstate
	push 1
	cmpje
	cmp0
	je l5374
	push "adgiaro"
	push "gameadgiaro2"
	cthis gotoadv
l5374:
	end method
	method mwlacz
	call anon,show
	push 1
	pop bon
	call fxbgrwiatrak,playloop
	end method
	method mwylacz
	push 0
	call fxbgrwiatrak,stop
	call anon,hide
	push 0
	pop bon
	end method
	method putnumber
	push "oldkomp_number"
	push snumber
	call clsave,set
	push snumber
	push "null"
	cmpje
	cmp0
	je l5376
	push ""
	call txtnr,txtset
	jmp l5375
l5376:
	push snumber
	call txtnr,txtset
l5375:
	push 325
	push 143
	call txtnr,setpos
	end method
	method msetmove
	localstring $1
	pop $1
	push smove
	push $1
	cmpjne
	cmp0
	je l5378
	push $1
	pop smove
	call advmouse,setbut
l5378:
	end method
	method mouse_move
	push igmstate
	push 1
	cmpje
	cmp0
	je l5380
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call anbuton,isin
	cmp0
	je l5382
	push "anbuton"
	cthis msetmove
	jmp l5381
l5382:
	push $1
	push $2
	push 1
	push 1
	call ankarta,isin
	cmp0
	je l5384
	push "ankarta"
	cthis msetmove
	jmp l5383
l5384:
	push $1
	push $2
	push 0
	push 1
	call grkl,isin
	cmp0
	je l5386
	call grkl,getsfound
	cthis msetmove
	jmp l5385
l5386:
	push smove
	push "null"
	cmpjne
	cmp0
	je l5388
	push "null"
	pop smove
	call advmouse,setstd
l5388:
l5385:
l5383:
l5381:
l5380:
	end method
	method mplay
	localstring $1
	pop $1
	push 0
	pop igmstate
	push $1
	cthis cbplay
	end method
	method mret
	push 1
	pop igmstate
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l5390
	push smove
	spushs
	push "null"
	cmpst
	jne l5392
	spop $a
	jmp l5391
l5392:
	push "anbuton"
	cmpst
	jne l5393
	spop $a
	call fxwlaczkomp,play
	push bon
	cmp0
	je l5395
	push "oldkomp_on"
	push 0
	call clsave,set
	push "null"
	pop snumber
	cthis putnumber
	cthis mwylacz
	push 1
	popax
	sub 0,$a
	push 0
	call anbuton,setframe
	jmp l5394
l5395:
	cthis mwlacz
	push "oldkomp_on"
	push 1
	call clsave,set
	push 1
	popax
	sub 0,$a
	push 1
	call anbuton,setframe
l5394:
	jmp l5391
l5393:
	push "ankarta"
	cmpst
	jne l5396
	spop $a
	push "oldkomp_karta"
	push 2
	call clsave,set
	call ankarta,hide
	push "null"
	pop smove
	call advmouse,setstd
	call _fxtakeitem,play
	jmp l5391
l5396:
	spop $a
	push bon
	neg
	cmp0
	je l5398
	ret
l5398:
	localdef $1
	push smove
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	pop $1
	call fxtype2,play
	push $1
	push 10
	cmpje
	cmp0
	je l5400
	push snumber
	push "1892"
	cmpje
	cmp0
	je l5402
	push ikarta
	push 0
	cmpje
	jmp l5404
l5402:
	push 0
	jmp l5404
l5403:
	push 1
l5404:
	cmp0
	je l5405
	push 1
	pop ikarta
	push "oldkomp_karta"
	push 1
	call clsave,set
	call ankarta,show
	push "zak1"
	cthis mplay
	jmp l5401
l5405:
	add oldcomputrocnt,1
	pop oldcomputrocnt
	push oldcomputrocnt
	push 5
	cmpje
	cmp0
	je l5407
	push "zak2"
	cthis mplay
l5407:
l5401:
	push "null"
	pop snumber
	cthis putnumber
	jmp l5399
l5400:
	push snumber
	push "null"
	cmpje
	cmp0
	je l5409
	push $1
	pop snumber
	jmp l5408
l5409:
	call snumber,length
	push 10
	cmpjl
	cmp0
	je l5411
	push $1
	popax
	add snumber,$a
	pop snumber
l5411:
l5408:
	cthis putnumber
l5399:
l5391:
l5390:
	end method
	end game

	game Biurkolu
	parent Computro
	method init
	push "biurkolu"
	clparent Computro,init
	call advmouse,setstd
	push A
	push "bkg.pyz"
	push "pacajek.pyzH 40"
	push "szufla.pyzH 10"
	cthis imgs=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 50
	call grels,setz
	call grels,hide
	new ConImgMover,bmov
	push A
	push "mouse"
	push "pacajek"
	push "mshow"
	cthis withlist
	push "pacajek"
	push 20
	cthis msetz
	push A
	push "pacajek"
	push "szuflada 60"
	push "putpuz 60"
	push "zamykaklapke 60"
	push "odklucza 90"
	push "zabawka 30"
	push "klamka 50"
	cthis sfxs=
	push "onfinish"
	push "Biurkolu0"
	call fxpacajek,addmethod
	new string,smoved
	push "null"
	pop smoved
	new string,smovac
	new int,bmabaterie
	push 0
	pop bmabaterie
	push A
	push ":fel1"
	push "O jaka gra komputerowa"
	push "mwroc"
	cthis sounds=
	cthis mgomus
	end method
	method Biurkolu0
	push 1
	pop igmstate
	push "kluczyk"
	cthis mshow
	push 2
	call anpacajek,play
	call fxzabawka,play
	cthis mgomus
	end method
	method mgomus
	push "bitewna.ogg -v 30 -p -l -fin 1000"
	call mus,playstr
	end method
	method mget
	localstring $1
	pop $1
	push $1
	call grels,getsac
	end method
	method mhide
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],hide
	end method
	method mshow
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],show
	end method
	method msetz
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis mget
	spushs
	push $2
	spop $a
	call [$a],setz
	end method
	method mvis
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],isvisible
	end method
	method mwroc
	push 1
	pop igmstate
	end method
	method mouse_move
	push igmstate
	push 5
	cmpje
	cmp0
	je l5413
	ret
l5413:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	call grels,isin
	cmp0
	je l5415
	cthis mcopy
	cmp0
	je l5417
	push smovac
	spushs
	push "mouse"
	cmpst
	je l5420
	push "szuflada"
	cmpst
	je l5420
	push "pacajek"
	cmpst
	je l5420
	jmp l5419
l5420:
	spop $a
	call advmouse,setbut
	jmp l5418
l5419:
	push "battery"
	cmpst
	jne l5421
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5423
	call advmouse,setbut
l5423:
	jmp l5418
l5421:
	push "kluczyk"
	cmpst
	je l5425
	push "piast"
	cmpst
	je l5425
	push "powrot"
	cmpst
	je l5425
	jmp l5424
l5425:
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5427
	call advmouse,setexit
l5427:
	jmp l5418
l5424:
	spop $a
	cthis mret
l5418:
l5417:
	jmp l5414
l5415:
	cthis mret
l5414:
	end method
	method mcopy
	localstring $1
	call grels,getsfound
	pop $1
	push smoved
	push $1
	cmpjne
	cmp0
	je l5429
	push $1
	pop smoved
	push smoved
	spushs
	spop $a
	call [$a],actionname
	pop smovac
	push 1
	jmp l5428
l5429:
	push 0
l5428:
	end method
	method mret
	push smoved
	push "null"
	cmpjne
	cmp0
	je l5431
	push "null"
	pop smoved
	push "null"
	pop smovac
	call advmouse,setstd
l5431:
	end method
	method mplay
	localstring $1
	pop $1
	push 5
	pop igmstate
	push $1
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	push 5
	cmpje
	cmp0
	je l5433
	ret
l5433:
	localdef $1
	push igmstate
	push 3
	cmpje
	cmp0
	je l5435
	call bmov,getfree
	pop $1
	push smovac
	push "pacajek"
	cmpje
	cmp0
	je l5437
	call fxzamykaklapke,play
	push smoved
	spushs
	spop $a
	call [$a],hide
	call anpacajek,show
	push 1
	pop bmabaterie
	push $1
	spushs
	spop $a
	call [$a],hide
	jmp l5436
l5437:
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grels,add
	call grels,sortimgs
l5436:
	push 1
	pop igmstate
	jmp l5434
l5435:
	push igmstate
	push 4
	cmpje
	cmp0
	je l5439
	call bmov,getfree
	pop $1
	push smovac
	push "szuflada"
	cmpje
	cmp0
	je l5441
	push $1
	spushs
	spop $a
	call [$a],hide
	push smoved
	call grels,remove
	push 5
	pop igmstate
	call fxodklucza,play
	push 0
	push "Biurkolu1"
	call anszufla,anplayfin
	jmp l5440
l5441:
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grels,add
	call grels,sortimgs
	push 1
	pop igmstate
l5440:
	jmp l5438
l5439:
	push smovac
	spushs
	push "mouse"
	cmpst
	jne l5443
	spop $a
	call fxputpuz,play
	push smoved
	call grels,remove
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push "battery"
	cthis mshow
	cthis mret
	jmp l5442
l5443:
	push "battery"
	cmpst
	jne l5444
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5446
	call _fxtakeitem,play
	push 3
	pop igmstate
	push smoved
	call grels,remove
	push smoved
	call bmov,mssetobj
l5446:
	jmp l5442
l5444:
	push "pacajek"
	cmpst
	jne l5447
	spop $a
	push bmabaterie
	cmp0
	je l5449
	push smoved
	spushs
	spop $a
	call [$a],hide
	push smoved
	call grels,remove
	push 1
	call anpacajek,play
	call fxpacajek,play
	push 500
	call mus,fadeout
	push 5
	pop igmstate
l5449:
	jmp l5442
l5447:
	push "kluczyk"
	cmpst
	jne l5450
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5452
	push 4
	pop igmstate
	push smoved
	call grels,remove
	push smoved
	call bmov,mssetobj
l5452:
	jmp l5442
l5450:
	push "piast"
	cmpst
	jne l5453
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5455
	call _fxtakeitem,play
	push smoved
	spushs
	spop $a
	call [$a],hide
	push smoved
	call grels,remove
	push "powrot"
	cthis mshow
	push "fel1"
	cthis mplay
l5455:
	jmp l5442
l5453:
	push "powrot"
	cmpst
	jne l5456
	spop $a
	push smoved
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l5458
	push "adinfel"
	push "gameadinfel2"
	cthis gotoadv
l5458:
	jmp l5442
l5456:
	push "szuflada"
	cmpst
	jne l5459
	spop $a
	call fxklamka,play
	jmp l5442
l5459:
	spop $a
l5442:
l5438:
l5434:
	end method
	method Biurkolu1
	push 1
	pop igmstate
	push "piast"
	cthis mshow
	push 1
	push 0
	cthis setframe
	end method
	end game

	game Czujnik
	parent Computro
	method init
	push "czujnik"
	clparent Computro,init
	call advmouse,setstd
	push A
	push "bkg.pyz"
	push "ekran.pyz 40"
	push "mruga.pyzH 10"
	push "kontrolka.pyzP 10"
	push "kontrol2.pyzP 10"
	push "kontrol3.pyzP 10"
	cthis imgs=
	push "anekran"
	push "anczuj"
	cthis copyanima
	push A
	push "hydrant 70"
	push "wyciagabezpiecznik 40"
	push "wsadzabezpiecznik 40"
	cthis sfxs=
	new gmimgvec,grkon
	push A
	push "ankontrolka"
	push "ankontrol2"
	push "ankontrol3"
	call grkon,addlist
	push 10
	call anczuj,setz
	push 1
	push 0
	call anczuj,setframe
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 50
	call grels,setz
	new ConImgMover,bmov
	new string,smoved
	push "null"
	pop smoved
	new string,smovac
	new int,imoved
	new int,ilaststate
	push 1
	pop ilaststate
	call modadvglob,Czujnik0
	localstring $1
	new gmimgvec,grpc
	localint $2
	push 0
	pop $2
l5460:
	push $2
	call vpck,size
	cmpjl
	cmp0
	je l5461
	jmp l5463
l5462:
	add $2,1
	pop $2
	jmp l5460
l5463:
	push "an"
	push $2
	call vpck,get
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push "$scripts/items/"
	push $2
	call vpckfile,get
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 100
	cthis newanima
	push $1
	spushs
	push $2
	spop $a
	call [$a],Czujnik2
	push $1
	call grpc,add
	jmp l5462
l5461:
	push A
	push ":fel1"
	push "To mi wyglda na jakie centrum sterowania"
	push "mwroc"
	push ":fel2"
	push "Nie mog tego przekrci"
	push "mwroc"
	push ":fel3"
	push "Rne bezpieczniki; Ciekawe co oznaczaj liczby na prawym panelu"
	push "mwroc"
	push ":fel4"
	push "Uszkodzony bezpiecznik; Wezm go"
	push "Czujnik4"
	push ":fel5"
	push "Nie mog go wyj; Za mocno siedzi"
	push "mwroc"
	push ":fel6"
	push "Prawidowy bezpiecznik"
	push "mwroc2"
	push ":fel7"
	push "Naprawiony bezpiecznik"
	push "mwroc2"
	push ":fel8"
	push "Powinno teraz dziaa"
	push "mwroc"
	cthis sounds=
	push "timcpos"
	push "Czujnik5"
	cthis cycle=
	call timcpos,play
	cthis mrestore
	push 1
	pop igmstate
	push "wszedl_do_bazyC"
	call clsave,bis
	neg
	cmp0
	je l5477
	push "wszedl_do_bazyC"
	call clsave,bset
	push "fel1"
	cthis mplay
l5477:
	end method
	method Czujnik0
	call pcfeliks,Czujnik1
	end method
	method Czujnik1
	push "vpck"
	call arPocket,addtogamevars
	push "vpckfile"
	call arPocketFile,addtogamevars
	end method
	method Czujnik2
	localdef $1
	pop $1
	new int,posx
	push 50
	push $1
	push 67
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop posx
	new int,posy
	push 540
	pop posy
	push "mpos"
	push "Czujnik3"
	cthis addmethod
	cthis mpos
	end method
	method Czujnik3
	push posx
	push posy
	cthis setpos
	end method
	method Czujnik4
	cthis mwroc2
	push GAME
	spushs
	spop $a
	call [$a],takeuszkodzony
	end method
	method Czujnik5
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $2
	push 540
	cmpjae
	cmp0
	je l5465
	push $1
	push 50
	cmpjl
	cmp0
	je l5467
	call grpc,first
	spushs
	spop $a
	call [$a],getpx
	push 50
	cmpjl
	jmp l5469
l5467:
	push 0
	jmp l5469
l5468:
	push 1
l5469:
	cmp0
	je l5470
	push 10
	push 0
	call grpc,move
	jmp l5466
l5470:
	push $1
	push 750
	cmpja
	cmp0
	je l5472
	call grpc,last
	spushs
	spop $a
	call [$a],getex
	push 750
	cmpja
	jmp l5474
l5472:
	push 0
	jmp l5474
l5473:
	push 1
l5474:
	cmp0
	je l5475
	push 10
	popax
	sub 0,$a
	push 0
	call grpc,move
l5475:
l5466:
l5465:
	cthis play
	end method
	method takeuszkodzony
	call grpc,sortimgs
	push "anbezpiecznik1"
	push "$scripts/items/bezpiecznik1.pyz"
	push 100
	cthis newanima
	call grpc,size
	call anbezpiecznik1,Czujnik6
	push "anbezpiecznik1"
	call grpc,add
	call modadvglob,Czujnik8
	end method
	method Czujnik6
	localdef $1
	pop $1
	new int,posx
	push 50
	push $1
	push 67
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop posx
	new int,posy
	push 540
	pop posy
	push "mpos"
	push "Czujnik7"
	cthis addmethod
	cthis mpos
	end method
	method Czujnik7
	push posx
	push posy
	cthis setpos
	end method
	method Czujnik8
	push "bezpiecznik1"
	push "bezpiecznik1"
	call pcfeliks,additem
	end method
	method mrestore
	call grels,show
	push "powrotb"
	cthis mhide
	call anbkg,show
	call anekran,show
	call anczuj,show
	push 1
	popax
	sub 0,$a
	call grkon,nplay
	cthis mmrugaj
	end method
	method mmrugaj
	call anczuj,framenr
	push 6
	cmpje
	cmp0
	je l5479
	push "bezpiecznik_naprawionyC"
	call clsave,bis
	neg
	jmp l5481
l5479:
	push 0
	jmp l5481
l5480:
	push 1
l5481:
	cmp0
	je l5482
	push 1
	popax
	sub 0,$a
	call anmruga,play
l5482:
	end method
	method mget
	localstring $1
	pop $1
	push $1
	call grels,getsac
	end method
	method mhide
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],hide
	end method
	method mshow
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],show
	end method
	method msetz
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis mget
	spushs
	push $2
	spop $a
	call [$a],setz
	end method
	method mvis
	localstring $1
	pop $1
	push $1
	cthis mget
	spushs
	spop $a
	call [$a],isvisible
	end method
	method mwroc
	push ilaststate
	pop igmstate
	end method
	method mwroc2
	push ilaststate
	pop igmstate
	call gmbezp,mwroc
	end method
	method mouse_move
	push igmstate
	push 5
	cmpje
	cmp0
	je l5484
	ret
l5484:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push igmstate
	push 15
	cmpje
	cmp0
	jne l5487
	push igmstate
	push 3
	cmpje
	cmp0
	je l5488
	push ilaststate
	push 15
	cmpje
	jmp l5490
l5488:
	push 0
	jmp l5490
l5489:
	push 1
l5490:
	jmp l5491
l5486:
	push 0
	jmp l5491
l5487:
	push 1
l5491:
	cmp0
	je l5492
	push $1
	push $2
	push 1
	push 1
	call grpc,isin
	cmp0
	je l5494
	call gmbezp,mzeruj
	cthis mcopy2
	cmp0
	je l5496
	call advmouse,setbut
l5496:
	jmp l5493
l5494:
	call gmbezp,mbezp
	cmp0
	je l5498
	cthis mret
	jmp l5497
l5498:
	call gmbezp,mzeruj
	cthis mret
l5497:
l5493:
	jmp l5485
l5492:
	push ilaststate
	push 15
	cmpjne
	cmp0
	je l5500
	push $1
	push $2
	push 0
	push 1
	call grels,isin
	cmp0
	je l5502
	cthis mcopy
	cmp0
	je l5504
	push smovac
	spushs
	push "powrot"
	cmpst
	jne l5506
	spop $a
	call advmouse,setexit
	jmp l5505
l5506:
	push "powrotb"
	cmpst
	jne l5507
	spop $a
	jmp l5505
l5507:
	spop $a
	call advmouse,setbut
l5505:
l5504:
	jmp l5501
l5502:
	push $1
	push $2
	push 1
	push 1
	call grpc,isin
	cmp0
	je l5509
	cthis mcopy2
	cmp0
	je l5511
	call advmouse,setbut
l5511:
	jmp l5508
l5509:
	cthis mret
l5508:
l5501:
l5500:
l5485:
	end method
	method mcopy
	push "grels"
	cthis _mcopy
	push 1
	pop imoved
	end method
	method mcopy2
	push "grpc"
	cthis _mcopy
	push 2
	pop imoved
	end method
	method _mcopy
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],getsfound
	pop $2
	push smoved
	push $2
	cmpjne
	cmp0
	je l5513
	push $2
	pop smoved
	push smoved
	spushs
	spop $a
	call [$a],actionname
	pop smovac
	push 1
	jmp l5512
l5513:
	push 0
l5512:
	end method
	method mret
	push smoved
	push "null"
	cmpjne
	cmp0
	je l5515
	push "null"
	pop smoved
	push "null"
	pop smovac
	call advmouse,setstd
l5515:
	push 0
	pop imoved
	end method
	method mplay
	localstring $1
	pop $1
	push igmstate
	pop ilaststate
	push 5
	pop igmstate
	push $1
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	push 15
	cmpje
	cmp0
	je l5517
	push imoved
	push 2
	cmpjne
	jmp l5519
l5517:
	push 0
	jmp l5519
l5518:
	push 1
l5519:
	cmp0
	je l5520
	push "powrotb"
	cthis mget
	spushs
	call mouse,getpos
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l5522
	push 0
	cthis cactsndstop
	push "gmbezp"
	cthis deletegmobj
	cthis mrestore
	push 1
	pop ilaststate
	push 1
	pop igmstate
l5522:
	ret
	jmp l5516
l5520:
	push igmstate
	push 5
	cmpje
	cmp0
	je l5524
	ret
l5524:
l5516:
	localstring $1
	localint $2
	push igmstate
	push 3
	cmpje
	cmp0
	je l5526
	call bmov,getfree
	pop $1
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],mpos
	push $1
	call grpc,add
	call grpc,sortimgs
	push $1
	spushs
	call grpc,getpx
	call grpc,getpy
	spop $a
	call [$a],move
	push ilaststate
	push 15
	cmpjne
	cmp0
	je l5528
	push imoved
	push 1
	cmpje
	cmp0
	je l5528
	push $1
	push "ankluczfr"
	cmpje
	jmp l5530
l5528:
	push 0
	jmp l5530
l5529:
	push 1
l5530:
	cmp0
	je l5531
	call fxhydrant,play
	push smovac
	pop $2
	push $2
	push 1
	cmpjae
	cmp0
	je l5533
	push $2
	push 10
	cmpjle
	jmp l5535
l5533:
	push 0
	jmp l5535
l5534:
	push 1
l5535:
	cmp0
	je l5536
	push smoved
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l5538
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	jmp l5537
l5538:
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l5537:
l5536:
	push ilaststate
	pop igmstate
	jmp l5527
l5531:
	push ilaststate
	push 15
	cmpje
	cmp0
	je l5540
	call gmbezp,getsbezp
	push "null"
	cmpjne
	jmp l5542
l5540:
	push 0
	jmp l5542
l5541:
	push 1
l5542:
	cmp0
	je l5543
	push 15
	pop igmstate
	push $1
	call gmbezp,mwyjmij
	jmp l5539
l5543:
	push ilaststate
	pop igmstate
l5539:
l5527:
	jmp l5525
l5526:
	push imoved
	push 1
	cmpje
	cmp0
	je l5545
	push smovac
	spushs
	push "up"
	cmpst
	jne l5547
	spop $a
	call anczuj,framenr
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mczuj
	jmp l5546
l5547:
	push "down"
	cmpst
	jne l5548
	spop $a
	call anczuj,framenr
	push 1
	pop $b
	popax
	add $a,$b
	cthis mczuj
	jmp l5546
l5548:
	push "powrot"
	cmpst
	jne l5549
	spop $a
	push "bezpiecznik_naprawionyC"
	call clsave,bis
	cmp0
	je l5551
	push "naprawil_czujnik"
	push 2
	call clsave,is
	neg
	jmp l5553
l5551:
	push 0
	jmp l5553
l5552:
	push 1
l5553:
	cmp0
	je l5554
	push "naprawil_czujnik"
	push 1
	call clsave,set
	call modadvglob,Czujnik9
l5554:
	push "adghol"
	push "gameadghol"
	cthis gotoadv
	jmp l5546
l5549:
	spop $a
	push smovac
	pop $2
	push $2
	push 1
	cmpjae
	cmp0
	je l5556
	push $2
	push 10
	cmpjle
	jmp l5558
l5556:
	push 0
	jmp l5558
l5557:
	push 1
l5558:
	cmp0
	je l5559
	push smoved
	spushs
	spop $a
	call [$a],framenr
	push 0
	cmpje
	cmp0
	je l5561
	push "fel2"
	cthis mplay
	jmp l5560
l5561:
	push 15
	pop igmstate
	call grels,hide
	push "powrotb"
	cthis mshow
	call anbkg,hide
	call anekran,hide
	call anczuj,hide
	call anmruga,anhide
	push 0
	call grkon,stop
	call grkon,hide
	call advmouse,setstd
	new Bezpieczniki,gmbezp
l5560:
l5559:
l5546:
	jmp l5544
l5545:
	push imoved
	push 2
	cmpje
	cmp0
	je l5563
	push smoved
	call grpc,remove
	push smoved
	spushs
	push 1
	push 0
	spop $a
	call [$a],setframe
	push smoved
	call bmov,mssetobj
	push igmstate
	pop ilaststate
	push 3
	pop igmstate
l5563:
l5544:
l5525:
	end method
	method Czujnik9
	push "bezpiecznik2"
	call pcfeliks,pckremove
	end method
	method mczuj
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l5565
	push $1
	push 1
	popax
	sub 0,$a
	call anczuj,nofframes
	cmpjl
	jmp l5567
l5565:
	push 0
	jmp l5567
l5566:
	push 1
l5567:
	cmp0
	je l5568
	push 1
	popax
	sub 0,$a
	push $1
	call anczuj,setframe
	push $1
	push 6
	cmpje
	cmp0
	je l5570
	cthis mmrugaj
	jmp l5569
l5570:
	call anmruga,anhide
l5569:
l5568:
	end method
	end game

	class Bezpieczniki
	parent LObjController
	method init
	clparent LObjController,init
	push A
	push "bezp.pyz 20"
	push "bgb.pyz"
	push "panel.pyz 10"
	push "czek.pyzH 50"
	cthis imgs=
	call anczek,ancenterscreen
	new int,idczuj
	push smovac
	pop idczuj
	localint $1
	localint $2
	localint $3
	localint $4
	localdef $5
	push "scripts/czujnik/bezpieczniki"
	push idczuj
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	pop $5
	new db,dbb
	push $5
	call engine,fileexist
	neg
	cmp0
	je l5572
	push 1
	pop $1
l5573:
	push $1
	push 10
	cmpjle
	cmp0
	je l5574
	jmp l5576
l5575:
	add $1,1
	pop $1
	jmp l5573
l5576:
	push 0
	pop $2
l5577:
	push $2
	push 8
	cmpjl
	cmp0
	je l5578
	jmp l5580
l5579:
	add $2,1
	pop $2
	jmp l5577
l5580:
	call dbb,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push 0
	pop $3
l5581:
	push $3
	push 8
	cmpjl
	cmp0
	je l5582
	jmp l5584
l5583:
	add $3,1
	pop $3
	jmp l5581
l5584:
	push $4
	push 2
	spushs
	spop $h
	call $h,rand
	call dbb,add
	jmp l5583
l5582:
	jmp l5579
l5578:
	push $1
	push 7
	cmpje
	cmp0
	je l5586
	push 6
	push 6
	push 1
	call dbb,set
l5586:
	push "scripts/czujnik/bezpieczniki"
	push $1
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbb,save
	call dbb,free
	jmp l5575
l5574:
l5572:
	push $5
	call dbb,load
	new gmimgvec,grb
	new vector,vypos
	push "begin"
	push 119
	push 166
	push 211
	push 256
	push 333
	push 378
	push 426
	push 471
	call vypos,beginadd
	push "fnmon"
	push 20
	cthis monofont
	push 0
	pop $1
l5587:
	push $1
	push 8
	cmpjl
	cmp0
	je l5588
	jmp l5590
l5589:
	add $1,1
	pop $1
	jmp l5587
l5590:
	push 0
	pop $2
l5591:
	push $2
	push 8
	cmpjl
	cmp0
	je l5592
	jmp l5594
l5593:
	add $2,1
	pop $2
	jmp l5591
l5594:
	push "anb"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $5
	push "anbezp"
	push $5
	cthis copyanima
	push $5
	spushs
	push $2
	push $1
	call vypos,get
	spop $a
	call [$a],Bezpieczniki0
	push $5
	spushs
	push 0
	push $1
	push $2
	call dbb,get
	spop $a
	call [$a],setframe
	push $5
	spushs
	spop $a
	call [$a],Bezpieczniki1
	push $5
	call grb,add
	jmp l5593
l5592:
	push "txtczuj"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	call dbb,dbgetstringrow
	clparent clstrdigit,bintohex
	push "fnmon"
	push 242
	cthis grey
	cthis newtext
	push $5
	spushs
	push 5
	spop $a
	call [$a],setz
	push $5
	spushs
	push 653
	push $1
	call vypos,get
	spop $a
	call [$a],setpos
	jmp l5589
l5588:
	push idczuj
	push 7
	cmpje
	cmp0
	je l5598
	push 0
	push 0
	call anb6_6,setframe
	push "bezpiecznik_naprawionyC"
	call clsave,bis
	neg
	cmp0
	je l5600
	push "bezpiecznik_wyjetyC"
	push 1
	call clsave,is
	cmp0
	je l5602
	call anb6_6,hide
l5602:
	jmp l5599
l5600:
	cthis mnapraw
l5599:
l5598:
	call anbezp,hide
	new string,sbezp
	push "null"
	pop sbezp
	new string,swyjety
	push "null"
	pop swyjety
	push "otworzyl_czujnikC"
	call clsave,bis
	neg
	cmp0
	je l5604
	push "otworzyl_czujnikC"
	call clsave,bset
	push "fel3"
	cthis mplay
l5604:
	cthis unlock
	end method
	method Bezpieczniki0
	localdef $1
	localdef $2
	pop $2
	pop $1
	new int,xpos
	push 172
	cthis getw
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop xpos
	push $1
	push 4
	cmpjae
	cmp0
	je l5596
	push 6
	popax
	add xpos,$a
	pop xpos
l5596:
	new int,ypos
	push $2
	pop ypos
	end method
	method Bezpieczniki1
	push xpos
	push ypos
	cthis setpos
	end method
	method mnapraw
	push 6
	push 6
	push 0
	call dbb,set
	push 6
	call dbb,dbgetstringrow
	clparent clstrdigit,bintohex
	call txtczuj6,txtset
	end method
	method mwyjmij
	localstring $1
	pop $1
	push $1
	push "anobcegi"
	cmpje
	cmp0
	je l5606
	push sbezp
	spushs
	spop $a
	call [$a],isvisible
	jmp l5608
l5606:
	push 0
	jmp l5608
l5607:
	push 1
l5608:
	cmp0
	je l5609
	call fxwyciagabezpiecznik,play
	push idczuj
	push 7
	cmpje
	cmp0
	je l5611
	push sbezp
	push "anb6_6"
	cmpje
	jmp l5613
l5611:
	push 0
	jmp l5613
l5612:
	push 1
l5613:
	cmp0
	je l5614
	push "bezpiecznik_naprawionyC"
	call clsave,bis
	cmp0
	je l5616
	push 3
	push 0
	call anczek,setframe
	push "fel7"
	cthis mplay
	jmp l5615
l5616:
	push "bezpiecznik_wyjetyC"
	push 1
	call clsave,set
	push 2
	push 0
	call anczek,setframe
	push "fel4"
	cthis mplay
l5615:
	jmp l5610
l5614:
	push sbezp
	spushs
	spop $a
	call [$a],framenr
	push 0
	call anczek,setframe
	push "fel6"
	cthis mplay
l5610:
	call anczek,show
	push sbezp
	spushs
	spop $a
	call [$a],hide
	push sbezp
	pop swyjety
	jmp l5605
l5609:
	push $1
	push "anbezpiecznik2"
	cmpje
	cmp0
	je l5618
	push idczuj
	push 7
	cmpje
	cmp0
	je l5618
	push sbezp
	push "anb6_6"
	cmpje
	jmp l5620
l5618:
	push 0
	jmp l5620
l5619:
	push 1
l5620:
	cmp0
	je l5621
	call fxwsadzabezpiecznik,play
	push "bezpiecznik_wyjetyC"
	push 0
	call clsave,set
	push "bezpiecznik_naprawionyC"
	call clsave,bset
	call anb6_6,show
	cthis mnapraw
	push "anbezpiecznik2"
	call grpc,remove
	call anbezpiecznik2,hide
	push "fel8"
	cthis mplay
	jmp l5617
l5621:
	push ilaststate
	pop igmstate
l5617:
l5605:
	end method
	method getsbezp
	push sbezp
	end method
	method mwroc
	call anczek,hide
	push swyjety
	push "anb6_6"
	cmpje
	cmp0
	je l5623
	push "bezpiecznik_wyjetyC"
	push 1
	call clsave,is
	neg
	cmp0
	je l5625
	push swyjety
	spushs
	spop $a
	call [$a],show
l5625:
	jmp l5622
l5623:
	push swyjety
	spushs
	spop $a
	call [$a],show
l5622:
	end method
	method onmousemove
	end method
	method onmouselclick
	push igmstate
	push 15
	cmpje
	cmp0
	je l5627
	push sbezp
	push "null"
	cmpjne
	cmp0
	je l5627
	push sbezp
	spushs
	spop $a
	call [$a],isvisible
	jmp l5629
l5627:
	push 0
	jmp l5629
l5628:
	push 1
l5629:
	cmp0
	je l5630
	call advmouse,setstd
	push "null"
	pop sbezp
	push "fel5"
	cthis mplay
l5630:
	end method
	method mzeruj
	push "null"
	pop sbezp
	end method
	method mbezp
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	call grb,isin
	cmp0
	je l5632
	localdef $3
	call grb,getsfound
	pop $3
	push sbezp
	push $3
	cmpjne
	cmp0
	je l5634
	push $3
	pop sbezp
	call advmouse,setbut
l5634:
	jmp l5631
l5632:
	push "null"
	pop sbezp
	call advmouse,setstd
l5631:
	push 1
	end method
	end class

	game Obrazrle
	parent Computro
	method init
	push "obrazrle"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "maski.pyz 5"
	push "herbH.pyz"
	cthis imgs=
	new img,imgbkg
	push "anbkg"
	call imgbkg,copy
	call anbkg,hide
	push "anmaski"
	push "anblik"
	cthis copyanima
	push 1
	push 0
	call anblik,setframe
	new vector,vecorigin
	new vector,vecnew
	new int,ilesq
	push 8
	pop ilesq
	new def,sqw
	call anherb,getw
	push ilesq
	pop $b
	popax
	div $a,$b
	psax
	pop sqw
	new def,sqh
	call anherb,geth
	push ilesq
	pop $b
	popax
	div $a,$b
	psax
	pop sqh
	localint $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localint $6
	localint $7
	localstring $8
	localint $9
	localint $10
	call anherb,getpx
	pop $10
	localint $11
	call anherb,getpy
	pop $11
	new gmimgvec,grels
	new gmobjvec,gcols
	new int,ifont
	push 12
	pop ifont
	new string,stdfont12
	push ifont
	cthis stdfont
	pop stdfont12
	localdef $12
	push 80
	pop $12
	localdef $13
	push 40
	pop $13
	push "txtcol"
	push ""
	push stdfont12
	push 15
	cthis grey
	cthis newtext
	call txtcol,hide
	localint $14
	localint $15
	push 1
	popax
	sub 0,$a
	pop $15
	localint $16
	push 0
	pop $16
	localint $17
	localint $18
	push 0
	pop $18
l5635:
	push $18
	push ilesq
	cmpjl
	cmp0
	je l5636
	jmp l5638
l5637:
	add $18,1
	pop $18
	jmp l5635
l5638:
	push $11
	push $18
	push sqh
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $4
	push 140
	pop $17
	push 0
	pop $7
l5639:
	push $7
	push ilesq
	cmpjl
	cmp0
	je l5640
	jmp l5642
l5641:
	add $7,1
	pop $7
	jmp l5639
l5642:
	push $10
	push $7
	push sqw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push 5
	pop $b
	popax
	add $a,$b
	push $4
	push 5
	pop $b
	popax
	add $a,$b
	call anherb,getrgb
	pop $3
	pop $2
	pop $1
	push "img"
	push $18
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new img,[$e]
	call [$e],Obrazrle0
	push $1
	call vecorigin,add
	push $2
	call vecorigin,add
	push $3
	call vecorigin,add
	push $5
	spushs
	push sqw
	push sqh
	push 30
	cthis grey
	push 255
	spop $a
	call [$a],create
	push $5
	spushs
	push $6
	push $4
	spop $a
	call [$a],setpos
	push 1
	popax
	sub 0,$a
	call vecnew,add
	push 1
	popax
	sub 0,$a
	call vecnew,add
	push 1
	popax
	sub 0,$a
	call vecnew,add
	push $5
	call grels,add
	push ""
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call gcols,find
	pop $14
	push $14
	push 0
	cmpjl
	cmp0
	je l5644
	call gcols,size
	pop $9
	push $9
	pop $14
	push $5
	call gcols,add
	push "imgcol"
	push $9
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	spushs
	spop $e
	new img,[$e]
	push $8
	spushs
	push $12
	push $13
	push $1
	push $2
	push $3
	push 255
	spop $a
	call [$a],create
	push $9
	call txtcol,txtset
	push $12
	push ifont
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $13
	push ifont
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call txtcol,setpos
	push $8
	spushs
	push "txtcol"
	spop $a
	call [$a],blit
	push $8
	spushs
	push 143
	push $9
	push $12
	push 8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 122
	spop $a
	call [$a],setpos
	push $8
	spushs
	push $9
	push $1
	push $2
	push $3
	spop $a
	call [$a],Obrazrle1
l5644:
	push $14
	push $15
	cmpje
	cmp0
	je l5646
	add $16,1
	pop $16
	jmp l5645
l5646:
	push $15
	push 1
	popax
	sub 0,$a
	cmpjne
	cmp0
	je l5648
	push $16
	push $15
	push $17
	push $4
	cthis mblitcopies
	pop $17
	push $14
	pop $15
	push 1
	pop $16
	jmp l5647
l5648:
	push $14
	pop $15
	push 1
	pop $16
l5647:
l5645:
	jmp l5641
l5640:
	jmp l5637
l5636:
	push $16
	push 0
	cmpjne
	cmp0
	je l5650
	push $16
	push $15
	push $17
	push $4
	cthis mblitcopies
	popax
l5650:
	push A
	push ":fel1"
	push "Jaki abstrakcyjny ten obraz; Wyglda jak ekran dotykowy"
	push "mret"
	push ":fel2"
	push "Gotowe; To chyba jaki herb"
	push "Obrazrle3"
	cthis sounds=
	push "fel1"
	cthis cbplay
	end method
	method Obrazrle0
	push A
	push "icol"
	push 1
	popax
	sub 0,$a
	push "iid"
	call vecorigin,size
	cthis vars2
	end method
	method Obrazrle1
	localdef $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "id"
	push $1
	push "R"
	push $2
	push "G"
	push $3
	push "B"
	push $4
	cthis vars2
	push "mcol"
	push "Obrazrle2"
	cthis addmethod
	end method
	method Obrazrle2
	push R
	push G
	push B
	ret
	end method
	method Obrazrle3
	push GAME
	spushs
	spop $a
	call [$a],Obrazrle4
	end method
	method Obrazrle4
	push "powrot.pyz"
	new Buttons,butend
	end method
	method butend_lclick
	push "obraz_zlozony"
	call clsave,bset
	push "adkaplica"
	push "gameadkaplica"
	cthis gotoadv
	end method
	method mret
	push 1
	pop igmstate
	end method
	method mblitcopies
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "("
	push $1
	pop $b
	popax
	add $a,$b
	push "*"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push ") "
	pop $b
	popax
	add $a,$b
	call txtcol,txtset
	push $3
	push $4
	call txtcol,setpos
	push "txtcol"
	call imgbkg,blit
	push $3
	call txtcol,getw
	pop $b
	popax
	add $a,$b
	push 4
	pop $b
	popax
	add $a,$b
	end method
	method mnext
	push icol
	push 1
	pop $b
	popax
	add $a,$b
	call gcols,size
	pop $b
	popax
	div $a,$b
	push $d
	cthis mset
	end method
	method mset
	localint $1
	pop $1
	push $1
	pop icol
	localint $2
	localint $3
	localint $4
	push "imgcol"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mcol
	pop $4
	pop $3
	pop $2
	push sqw
	push sqh
	push $2
	push $3
	push $4
	push 255
	cthis create
	cthis getcx
	push ifont
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis getcy
	push ifont
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtcol,setpos
	push $1
	call txtcol,txtset
	push "txtcol"
	cthis blit
	push iid
	push $2
	call vecnew,set
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $3
	call vecnew,set
	push iid
	push 2
	pop $b
	popax
	add $a,$b
	push $4
	call vecnew,set
	push "vecnew"
	call vecorigin,veceq
	cmp0
	je l5652
	push 0
	pop igmstate
	push "fel2"
	cthis cbplay
l5652:
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5654
	ret
l5654:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l5656
	call grels,getsfound
	spushs
	spop $a
	call [$a],mnext
l5656:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l5658
	push "fel2"
	cthis cbplay
l5658:
	end method
	end game

	game Schody
	parent Computro
	method init
	push "schody"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "maska.pyzH 20"
	push "plyta.pyz 10"
	cthis imgs=
	push A
	push "otwiera_wlaz 50"
	push "start_wlaz 50"
	push "end_wlaz 50"
	push "wciska_glaz 70"
	cthis sfxs=
	new img,imgbkg
	push "anbkg"
	call imgbkg,copy
	call anbkg,hide
	push "onendframe"
	push "Schody0"
	call anplyta,addmethod
	push "onfinish"
	push "Schody2"
	call anplyta,addmethod
	new font,fn12
	new int,ifn12
	push 12
	pop ifn12
	push sgmfontitalic
	push ifn12
	call fn12,load
	new font,fn20
	new int,ifn20
	push 20
	pop ifn20
	push sgmfontitalic
	push ifn20
	call fn20,load
	new gmimgvec,grels
	push "grels"
	push "klocki.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 30
	call grels,setz
	push "txtnr"
	push ""
	push "fn12"
	cthis mgold
	cthis newtext
	new img,imblit
	push "Schody5"
	call grels,each
	call imblit,hide
	push "dbc"
	push "tekst"
	cthis lang_db
	new gmimgvec,grtxt
	push "txtup"
	push 0
	cthis mgetdb
	push "fn20"
	cthis mgold
	cthis newtext
	call anplyta,getcx
	call txtup,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anplyta,getpy
	push 17
	pop $b
	popax
	add $a,$b
	call txtup,setpos
	push 12
	call txtup,setz
	push "txtup"
	cthis mtxtshadow
	push "txtdown"
	push 1
	cthis mgetdb
	push "fn20"
	cthis mgold
	cthis newtext
	call anplyta,getcx
	call txtdown,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anplyta,getey
	push 32
	pop $b
	popax
	sub $a,$b
	call txtdown,geth
	pop $b
	popax
	sub $a,$b
	call txtdown,setpos
	push 12
	call txtdown,setz
	push "txtdown"
	cthis mtxtshadow
	push "txtwzor"
	push "-2"
	push "fn20"
	cthis mgold
	cthis newtext
	push 12
	call txtwzor,setz
	call anplyta,getpx
	push 50
	pop $b
	popax
	add $a,$b
	call anplyta,getcy
	call txtwzor,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtwzor,setpos
	push "txtwzor"
	cthis mtxtshadow
	push "txtpodp"
	push "C-2 -> A"
	push "fn12"
	cthis mgold
	cthis newtext
	push 12
	call txtpodp,setz
	call anplyta,getpx
	push 40
	pop $b
	popax
	add $a,$b
	call txtwzor,getpy
	push 26
	pop $b
	popax
	add $a,$b
	call txtpodp,setpos
	push "txtpodp"
	push "fn12"
	cthis _mtxtshadow
	localdef $1
	push "A"
	pop $1
	localdef $2
	push 97
	pop $2
	localdef $3
	call anmaska,getpx
	push 30
	pop $b
	popax
	sub $a,$b
	pop $3
	push "txtalf"
	push "A"
	push "fn12"
	cthis mgold
	cthis newtext
l5663:
	push 0
	call $1,getbyte
	push BYTEZ
	cmpjle
	cmp0
	je l5664
	push $1
	cthis mshadow
	call txtalf,txtsetcol
	push $3
	push $2
	call txtalf,setpos
	push "txtalf"
	call imgbkg,blit
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	call txtalf,move
	cthis mgold
	call txtalf,createtxt
	push "txtalf"
	call imgbkg,blit
	call txtalf,geth
	push 2
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push 0
	push 0
	call $1,getbyte
	push 1
	pop $b
	popax
	add $a,$b
	call $1,setbyte
	jmp l5663
l5664:
	call txtalf,hide
	push A
	push ":fel1"
	push "Co tu mamy; Po lewej stronie alfabet; Na pycie jakie literki; Najpewniej zaszyfrowany napis"
	push "Schody6"
	push ":ania1"
	push "U gry i na dole kamienne przyciski"
	push "Schody7"
	push ":zak1"
	push "A na lewej czci pyty minus 2 i poniej jaki wzr; Kombinujcie ja jestem jeszcze za saby do rozgryzania algorytmw"
	push "Schody8"
	cthis sounds=
	push "fel1"
	cthis cbplay
	end method
	method Schody0
	push "Schody1"
	call grtxt,each
	end method
	method Schody1
	localdef $1
	pop $1
	cthis getpy
	call anplyta,getcy
	push 5
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l5660
	push 2
	push 2
	cthis move
	jmp l5659
l5660:
	push 2
	push 2
	popax
	sub 0,$a
	cthis move
l5659:
	end method
	method Schody2
	call anmaska,show
	call fxotwiera_wlaz,playloop
	push "timcyk"
	push "Schody3"
	cthis cycle=
	call timcyk,play
	end method
	method Schody3
	push 2
	push 0
	call anplyta,move
	push 2
	push 0
	call grtxt,move
	call anplyta,getpx
	push 642
	cmpjl
	cmp0
	je l5662
	cthis play
	jmp l5661
l5662:
	push 1500
	call mus,fadeout
	push "Schody4"
	call fxend_wlaz,objplayfin
l5661:
	end method
	method Schody4
	push "schody_odsloniete"
	call clsave,bset
	push "adkaplica"
	push "gameadkaplica"
	cthis gotoadv
	end method
	method Schody5
	localdef $1
	pop $1
	cthis getname
	call imblit,copy
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	cthis mshadow
	call txtnr,txtsetcol
	call imblit,getcx
	call txtnr,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call imblit,getcy
	call txtnr,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call txtnr,setpos
	push "txtnr"
	call imblit,blit
	cthis mgold
	call txtnr,createtxt
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	call txtnr,move
	push "txtnr"
	call imblit,blit
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	cthis getname
	call imblit,copy
	push 2
	push 2
	call txtnr,move
	cthis mshadow
	call txtnr,createtxt
	push "txtnr"
	call imblit,blit
	cthis mgold
	call txtnr,createtxt
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	call txtnr,move
	push "txtnr"
	call imblit,blit
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Schody6
	push "ania1"
	cthis cbplay
	end method
	method Schody7
	push "zak1"
	cthis cbplay
	end method
	method Schody8
	push 1
	pop igmstate
	end method
	method mtxtshadow
	localstring $1
	pop $1
	push $1
	push "fn20"
	cthis _mtxtshadow
	end method
	method _mtxtshadow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $1
	push "s"
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push $1
	spushs
	spop $a
	call [$a],get
	push $2
	cthis mshadow
	cthis newtext
	push $3
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $3
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $3
	call grtxt,add
	push $1
	call grtxt,add
	end method
	method mgetdb
	localint $1
	pop $1
	localdef $2
	push $1
	push 0
	call dbc,get
	spushs
	spop $h
	call $h,to_u
	pop $2
	localint $3
	push BYTEA
	push 2
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push BYTEZ
	push BYTEA
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $4
	localint $5
	push 0
	pop $5
l5665:
	push $5
	call $2,length
	cmpjl
	cmp0
	je l5666
	jmp l5668
l5667:
	add $5,1
	pop $5
	jmp l5665
l5668:
	push $5
	call $2,getbyte
	push BYTESPACE
	cmpjne
	cmp0
	je l5670
	push $5
	push $5
	call $2,getbyte
	push $3
	pop $b
	popax
	sub $a,$b
	push $4
	pop $b
	popax
	div $a,$b
	push $d
	push BYTEA
	pop $b
	popax
	add $a,$b
	call $2,setbyte
l5670:
	jmp l5667
l5666:
	push $2
	end method
	method mgold
	push 255
	push 204
	push 0
	ret
	end method
	method mshadow
	push 32
	cthis grey
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l5672
	push 1
	cthis cactsndstop
l5672:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5674
	ret
l5674:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l5676
	localdef $1
	call grels,getsfound
	pop $1
	call fxwciska_glaz,play
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push $1
	spushs
	spop $a
	call [$a],framenr
	neg
	spop $a
	call [$a],setframe
	push ""
	pop $1
	localint $2
	push 0
	pop $2
l5677:
	push $2
	call grels,size
	cmpjl
	cmp0
	je l5678
	jmp l5680
l5679:
	add $2,1
	pop $2
	jmp l5677
l5680:
	push $2
	call grels,get
	spushs
	spop $a
	call [$a],framenr
	popax
	add $1,$a
	pop $1
	jmp l5679
l5678:
	push $1
	push 2
	push 0
	call dbc,get
	cmpje
	cmp0
	je l5682
	push 0
	pop igmstate
	call fxstart_wlaz,play
	push 1
	popax
	sub 0,$a
	call anplyta,play
l5682:
l5676:
	end method
	end game

	game Calc
	parent Computro
	method init
	push "calc"
	clparent Computro,init
	push "bkg.pyz"
	cthis img=
	new img,imgbkg
	push "anbkg"
	call imgbkg,copy
	call anbkg,hide
	push "buts.pyz"
	new Buttons,buts
	call buts,lock
	new classplacepointer2,clp
	new string,scell
	push "null"
	pop scell
	new int,izadanie
	push 1
	pop izadanie
	new int,subhelp
	push 0
	pop subhelp
	new string,Code
	push "Code"
	clparent Lexer,setas
	push A
	push "("
	push ")"
	push "/"
	push "%"
	push "*"
	push "+"
	push "-"
	push "$"
	push "="
	push ";"
	call Code,consts=
	push A
	push ":zak_quit"
	push "Jeszcze za wczenie na wyjcie"
	push "mstart"
	push ":zak1"
	push "Przed nami arkusz kalkulacyjny poprzez ktry rektor wprowadza zakupy do Komputera Centralnego"
	push "Calc0"
	push ":zak2"
	push "W tej kolumnie s nazwy zakupw"
	push "Calc1"
	push ":zak3"
	push "Tutaj ceny pojedynczych zakupw"
	push "Calc2"
	push ":zak4"
	push "Tutaj ilo jednostek"
	push "Calc3"
	push ":zak5"
	push "A tutaj koszt wszystkich sztuk; Na przykad w pierwszym wierszu mamy koszt 34 dugopisw"
	push "Calc4"
	push ":zak6"
	push "W tej komrce mamy czny koszt wszystkich artykuw"
	push "Calc5"
	push ":ania1"
	push "Na pierwszy rzut oka nie wida adnych bdw"
	push "Calc6"
	push ":ania2"
	push "Wykonamy tutaj obliczenia i porwnamy wyniki; Umiesz obsugiwa arkusz kalkulacyjny?"
	push "Calc7"
	push ":zak7"
	push "Nie ale wczytam sobie do pamici helpa; Sekunda; Ju; Wykonuj moje polecenia"
	push "Calc8"
	push ":zak8"
	push "Zaczniemy od prostych wicze; Najpierw przepisz tutaj cen pierwszego zakupu i wcinij enter"
	push "Calc9"
	push ":zak9"
	push "Dobrze; Teraz przepiszemy cen ponownie ale wykorzystamy wasno komrek arkusza"
	push "Calc10"
	push ":zak10"
	push "Zaznaczyem komrk Ce 2; Aby pobra jej warto"
	push "Calc11"
	push ":zak11"
	push "Wpisz tutaj znak rwna si i nazw komrki w ktrej jest cena pojedynczego dugopisa; W razie problemw najed na przycisk pomoc"
	push "Calc12"
	push ":zak12"
	push "wietnie; Przeanalizujmy nasz komrk"
	push "Calc13"
	push ":zak13"
	push "Cho wpisalimy pewn formu poprzedzon znakiem rwnoci w komrce widzimy wynik"
	push "Calc14"
	push ":zak14"
	push "A tu widzimy wzr obliczajcy warto tej komrki"
	push "Calc15"
	push ":zak15"
	push "Teraz oblicz w naszej komrce cen dugopisa pomnoon przez 2"
	push "mstart"
	push ":zak16"
	push "Umiesz ju odwoa si do komrki; Obliczmy zatem ile kosztoway wszystkie zakupione dugopisy; Pomn cen jednego dugopisa przez ilo kupionych sztuk"
	push "mstart"
	push ":ania3"
	push "Spjrz! czny koszt si nie zgadza; Kto zawyy cen dugopisw"
	push "Calc16"
	push ":zak17"
	push "Obliczmy pozostae zakupy; eby nie wpisywa za kadym razem formuy od nowa"
	push "Calc17"
	push ":zak18"
	push "Kliknij na ten kwadracik i przecignij go na wszystkie komrki w tej kolumnie w ktrych chcemy dokona oblicze"
	push "Calc18"
	push ":zak19"
	push "Za krtko przecigna"
	push "mstart"
	push ":ania4"
	push "czna cena niemal kadego artykuu jest wpisana wysza ni wyliczylimy; Nie ma mowy o pomyce w obliczeniach rnice s ogromne; Jak moemy sprawdzi ca kwot?"
	push "Calc19"
	push ":zak20"
	push "Tutaj obliczymy czn sum wszystkich zakupw; Skorzystamy z wbudowanych w arkusze funkcji; Jedn z funkcji jest suma; Spjrz w tre zadania jak j zapisujemy"
	push "Calc20"
	push ":ania5"
	push "Ponad 8 tysicy rnicy midzy poniesionymi wydatkami a wynikajcymi z rozpiski! Zao si e w innych plikach kocowe ceny te s inne od rzeczywistych; Musimy wydrukowa ten arkusz"
	push "mstart"
	cthis sounds=
	new int,C
	push 7
	pop C
	new int,R
	push 20
	pop R
	new def,xstart
	push 24
	pop xstart
	new def,ystart
	push 134
	pop ystart
	localdef $1
	localdef $2
	push ystart
	pop $2
	new def,dx
	push 83
	pop dx
	new def,dy
	push 20
	pop dy
	new def,dxname
	push 252
	pop dxname
	localdef $3
	push 750
	pop $3
	localdef $4
	push 400
	pop $4
	push "dbc"
	push "form"
	cthis lang_db
	push "dbzad"
	push "zad"
	cthis lang_db
	new string,smoved
	push "null"
	pop smoved
	new int,ifont
	push 16
	pop ifont
	new def,stdfont16
	push ifont
	cthis stdfont
	pop stdfont16
	push "txt16"
	push ""
	push stdfont16
	cthis black
	cthis newtext
	new def,stdbold16
	push ifont
	cthis stdbold
	pop stdbold16
	push "txtzd"
	push ""
	push stdfont16
	push 240
	cthis grey
	cthis newtext
	push "txtb16"
	push ""
	push stdbold16
	cthis black
	cthis newtext
	push "txtb16c"
	push ""
	push stdbold16
	cthis black
	cthis newtext
	new img,imgc
	push 1
	push $4
	cthis black
	push 255
	call imgc,create
	new img,imgr
	push $3
	push 1
	cthis black
	push 255
	call imgr,create
	localint $5
	localint $6
	new vector,vcode
	push "string"
	call vcode,type
	push stdbold16
	push ifont
	cthis black
	push "a0 -.,:()$*+/=;"
	push 30
	new ConTextTyper,ttp
	push 371
	push 80
	call ttp,setpos
	push "txtname"
	push ""
	push stdbold16
	cthis black
	cthis newtext
	push 290
	push 80
	call txtname,setpos
	new img,im1
	push dx
	push dy
	push 230
	cthis grey
	push 255
	call im1,create
	new img,im2
	push dxname
	push dy
	push 230
	cthis grey
	push 255
	call im2,create
	push 0
	pop $5
l5683:
	push $5
	push R
	cmpjl
	cmp0
	je l5684
	jmp l5686
l5685:
	add $5,1
	pop $5
	jmp l5683
l5686:
	push xstart
	push $2
	call im1,setpos
	push "im1"
	call imgbkg,blit
	push $5
	push 0
	cmpja
	cmp0
	je l5688
	push $5
	call txt16,txtset
	push "im1"
	call txt16,txtcenter
	push "txt16"
	call imgbkg,blit
l5688:
	push dy
	popax
	add $2,$a
	pop $2
	jmp l5685
l5684:
	push xstart
	pop $1
	localdef $7
	push "A"
	pop $7
	push 0
	pop $6
l5689:
	push $6
	push C
	cmpjl
	cmp0
	je l5690
	jmp l5692
l5691:
	add $6,1
	pop $6
	jmp l5689
l5692:
	push $6
	push 2
	cmpje
	cmp0
	je l5694
	push $1
	push ystart
	call im2,setpos
	push "im2"
	call imgbkg,blit
	push 0
	push BYTEA
	push $6
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call $7,setbyte
	push $7
	call txt16,txtset
	push "im2"
	call txt16,txtcenter
	push "txt16"
	call imgbkg,blit
	push dxname
	popax
	add $1,$a
	pop $1
	jmp l5693
l5694:
	push $1
	push ystart
	call im1,setpos
	push "im1"
	call imgbkg,blit
	push $6
	push 0
	cmpja
	cmp0
	je l5696
	push 0
	push BYTEA
	push $6
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call $7,setbyte
	push $7
	call txt16,txtset
	push "im1"
	call txt16,txtcenter
	push "txt16"
	call imgbkg,blit
l5696:
	push dx
	popax
	add $1,$a
	pop $1
l5693:
	jmp l5691
l5690:
	call txt16,hide
	push dx
	push dy
	push 220
	push 220
	push 240
	push 255
	call im1,create
	push 1
	cthis black
	push 255
	call im1,imgborders
	push dxname
	push dy
	push 220
	push 220
	push 240
	push 255
	call im2,create
	push 1
	cthis black
	push 255
	call im2,imgborders
	new img,im1c
	push "im1"
	call im1c,copy
	new img,im2c
	push "im2"
	call im2c,copy
	new gmimgvec,gractb
	push 10
	call txtb16,setz
	push 10
	call txtb16c,setz
	push A
	push "im1"
	push "im2"
	push "txtb16"
	push "txtb16c"
	push "im1c"
	push "im2c"
	call gractb,addlist
	call gractb,hide
	new img,imgsq
	call imgsq,Calc21
	new int,isqx
	new int,isqy
	push "imgsq"
	call buts,Calc24
	new int,bmoving
	push 0
	pop bmoving
	new img,im00
	push dx
	push 2
	cthis black
	push 255
	call im00,create
	new img,im10
	push dx
	push 2
	cthis black
	push 255
	call im10,create
	new img,im01
	push 2
	push dy
	cthis black
	push 255
	call im01,create
	new img,im11
	push 2
	push dy
	cthis black
	push 255
	call im11,create
	new gmimgvec,gract
	push A
	push "im00"
	push "im10"
	push "im01"
	push "im11"
	push "imgsq"
	call gract,addlist
	call gract,hide
	push 20
	call gract,setz
	new img,im20
	push dxname
	push 2
	cthis black
	push 255
	call im20,create
	new img,im30
	push dxname
	push 2
	cthis black
	push 255
	call im30,create
	new gmimgvec,gract2
	push A
	push "im20"
	push "im30"
	push "im01"
	push "im11"
	push "imgsq"
	call gract2,addlist
	call gract2,hide
	push 20
	call gract2,setz
	push ystart
	push dy
	pop $b
	popax
	add $a,$b
	pop $2
	new gmimgvec,gral
	localstring $8
	push "A"
	pop $8
	localstring $9
	localint $10
	call dbc,getrowsno
	pop $10
	localint $11
	push 1
	call dbc,getcolsno
	pop $11
	push 1
	pop $5
l5697:
	push $5
	push R
	cmpjl
	cmp0
	je l5698
	jmp l5700
l5699:
	add $5,1
	pop $5
	jmp l5697
l5700:
	push xstart
	push dx
	pop $b
	popax
	add $a,$b
	pop $1
	push 1
	pop $6
l5701:
	push $6
	push C
	cmpjl
	cmp0
	je l5702
	jmp l5704
l5703:
	add $6,1
	pop $6
	jmp l5701
l5704:
	push "im"
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	spushs
	spop $e
	new img,[$e]
	push 0
	push BYTEA
	push 1
	pop $b
	popax
	sub $a,$b
	push $6
	pop $b
	popax
	add $a,$b
	call $8,setbyte
	push $7
	spushs
	push A
	push "row"
	push $5
	push "col"
	push $6
	push "txtcol"
	push $8
	push "name"
	push $8
	push $5
	pop $b
	popax
	add $a,$b
	push "stekst"
	push ""
	push "sformula"
	push ""
	spop $a
	call [$a],vars2
	push $6
	push 2
	cmpje
	cmp0
	je l5706
	push $7
	spushs
	push dxname
	push dy
	cthis white
	push 255
	spop $a
	call [$a],create
	push $7
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push dxname
	popax
	add $1,$a
	pop $1
	jmp l5705
l5706:
	push $7
	spushs
	push dx
	push dy
	cthis white
	push 255
	spop $a
	call [$a],create
	push $7
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push dx
	popax
	add $1,$a
	pop $1
l5705:
	push $7
	spushs
	push 1
	cthis mcolcol
	spop $a
	call [$a],imgborders
	push $7
	call gral,add
	push $10
	push $11
	push $5
	push $6
	push $7
	cthis mprinton
	jmp l5703
l5702:
	push dy
	popax
	add $2,$a
	pop $2
	jmp l5699
l5698:
	push xstart
	pop $1
	push ystart
	pop $2
	push 0
	pop $6
l5707:
	push $6
	push C
	cmpjle
	cmp0
	je l5708
	jmp l5710
l5709:
	add $6,1
	pop $6
	jmp l5707
l5710:
	push $1
	push $2
	call imgc,setpos
	push "imgc"
	call imgbkg,blit
	push $6
	push 2
	cmpje
	cmp0
	je l5712
	push dxname
	popax
	add $1,$a
	pop $1
	jmp l5711
l5712:
	push dx
	popax
	add $1,$a
	pop $1
l5711:
	jmp l5709
l5708:
	push ystart
	pop $2
	push 0
	pop $5
l5713:
	push $5
	push R
	cmpjle
	cmp0
	je l5714
	jmp l5716
l5715:
	add $5,1
	pop $5
	jmp l5713
l5716:
	push xstart
	push $2
	call imgr,setpos
	push "imgr"
	call imgbkg,blit
	push dy
	popax
	add $2,$a
	pop $2
	jmp l5715
l5714:
	delete imgr
	delete imgc
	push 0
	push 0
	call dbc,get
	call txt17_4,txtset
	push "im17_4"
	call txt17_4,txtcenter
	call txt17_4,get
	call im17_4,stekst=
	call txt17_4,get
	call im17_4,sformula=
	push 0
	push 1
	call dbc,get
	call txt17_5,txtset
	push "im17_5"
	call txt17_5,txtright
	call txt17_5,get
	call im17_5,stekst=
	call txt17_5,get
	call im17_5,sformula=
	new img,imzad
	push "im2_6"
	call imzad,copy
	call imzad,hide
	push "txtzad"
	push ""
	push stdfont16
	push 64
	cthis grey
	cthis newtext
	call txtzad,hide
	push "imzad"
	call txtzad,txtcenter
	new img,imsum
	push "im17_6"
	call imsum,copy
	call imsum,hide
	push "txtsum"
	push ""
	push stdfont16
	push 64
	cthis grey
	cthis newtext
	call txtsum,hide
	push "imsum"
	call txtsum,txtcenter
	push "timend"
	push 3000
	push "Calc25"
	cthis timer=
	cthis mloadzad
	push "zak1"
	cthis cbplay
	end method
	method Calc0
	push "zak2"
	cthis cbplay
	push "im2_2"
	push "dd"
	call clp,showob
	end method
	method Calc1
	push "zak3"
	cthis cbplay
	push "im2_3"
	push "dd"
	call clp,showob
	end method
	method Calc2
	push "zak4"
	cthis cbplay
	push "im2_4"
	push "dd"
	call clp,showob
	end method
	method Calc3
	push "zak5"
	cthis cbplay
	push "im2_5"
	push "dd"
	call clp,showob
	end method
	method Calc4
	push "zak6"
	cthis cbplay
	push "im17_5"
	push "dd"
	call clp,showob
	end method
	method Calc5
	call clp,stoph
	push "ania1"
	cthis cbplay
	end method
	method Calc6
	push "im2_6"
	push "dd"
	call clp,showob
	push "ania2"
	cthis cbplay
	end method
	method Calc7
	call clp,stoph
	push "zak7"
	cthis cbplay
	end method
	method Calc8
	push "im2_6"
	push "dd"
	call clp,showob
	push "zak8"
	cthis cbplay
	end method
	method Calc9
	call clp,stoph
	cthis mstart
	end method
	method Calc10
	push 309
	push 82
	push "lu"
	call clp,show
	push "im2_3"
	cthis msetact
	push "zak10"
	cthis cbplay
	end method
	method Calc11
	push "im2_6"
	push "dd"
	call clp,showob
	push "zak11"
	cthis cbplay
	end method
	method Calc12
	call clp,stoph
	cthis mstart
	end method
	method Calc13
	push "im2_6"
	push "rd"
	call clp,showob
	push "zak13"
	cthis cbplay
	end method
	method Calc14
	push 510
	push 91
	push "lu"
	call clp,show
	push "zak14"
	cthis cbplay
	end method
	method Calc15
	call clp,stoph
	push "zak15"
	cthis cbplay
	end method
	method Calc16
	push "zak17"
	cthis cbplay
	end method
	method Calc17
	push "imgsq"
	push "rd"
	call clp,showob
	push "zak18"
	cthis cbplay
	end method
	method Calc18
	call clp,stoph
	cthis mstart
	end method
	method Calc19
	push "zak20"
	cthis cbplay
	push "im17_6"
	cthis msetact
	push "im17_6"
	push "rd"
	call clp,showob
	end method
	method Calc20
	call clp,stoph
	cthis mstart
	end method
	method Calc21
	push 6
	push 6
	cthis black
	push 255
	cthis create
	push "actionname"
	push "Calc22"
	cthis addmethod
	push "setframe"
	push "Calc23"
	cthis addmethod
	end method
	method Calc22
	push "imgsq"
	end method
	method Calc23
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method Calc24
	localdef $1
	pop $1
	push $1
	call grbuts,add
	end method
	method Calc25
	push "epizod"
	push "Sep"
	call clsave,set
	push "adinania"
	push "gameadinania2"
	cthis gotoadv
	end method
	method mprinton
	localint $1
	localint $2
	localint $3
	localint $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	push "txt"
	push $3
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	pop $6
	push $4
	push $2
	cmpjle
	cmp0
	je l5718
	push $3
	push $1
	cmpjl
	jmp l5720
l5718:
	push 0
	jmp l5720
l5719:
	push 1
l5720:
	cmp0
	je l5721
	push $6
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	call dbc,get
	push stdfont16
	cthis black
	cthis newtext
	jmp l5717
l5721:
	push $6
	push ""
	push stdfont16
	cthis black
	cthis newtext
l5717:
	push $6
	spushs
	push 20
	spop $a
	call [$a],setz
	push $4
	push 3
	cmpje
	cmp0
	jne l5724
	push $4
	push 5
	cmpje
	cmp0
	jne l5724
	push $3
	push 0
	cmpje
	cmp0
	je l5725
	push $4
	push 2
	cmpje
	jmp l5727
l5725:
	push 0
	jmp l5727
l5726:
	push 1
l5727:
	jmp l5728
l5723:
	push 0
	jmp l5728
l5724:
	push 1
l5728:
	cmp0
	je l5729
	push $6
	spushs
	push $5
	spop $a
	call [$a],txtright
	push $6
	spushs
	push 2
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	jmp l5722
l5729:
	push $6
	spushs
	push $5
	spop $a
	call [$a],txtcenter
l5722:
	push $5
	spushs
	push $6
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],stekst=
	push $5
	spushs
	push $6
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],sformula=
	end method
	method mcolcol
	push 148
	push 148
	push 192
	push 255
	ret
	end method
	method msetact
	localstring $1
	pop $1
	cthis msetstd
	push $1
	pop scell
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],row
	pop $2
	localdef $3
	push $1
	spushs
	spop $a
	call [$a],col
	pop $3
	push xstart
	push ystart
	push $2
	push dy
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call im1,setpos
	call im1,show
	push $2
	call txtb16,txtset
	push "im1"
	call txtb16,txtcenter
	call txtb16,show
	push $3
	push 2
	cmpje
	cmp0
	je l5731
	push $1
	spushs
	spop $a
	call [$a],getpx
	push ystart
	call im2c,setpos
	call im2c,show
	push $1
	spushs
	spop $a
	call [$a],txtcol
	call txtb16c,txtset
	push "im2c"
	call txtb16c,txtcenter
	call txtb16c,show
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	call im20,setpos
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	call im10,geth
	pop $b
	popax
	sub $a,$b
	call im30,setpos
	call im30,getex
	call imgsq,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call im30,getey
	call imgsq,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgsq,setpos
	call gract2,show
	jmp l5730
l5731:
	push $1
	spushs
	spop $a
	call [$a],getpx
	push ystart
	call im1c,setpos
	call im1c,show
	push $1
	spushs
	spop $a
	call [$a],txtcol
	call txtb16c,txtset
	push "im1c"
	call txtb16c,txtcenter
	call txtb16c,show
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	call im00,setpos
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	call im10,geth
	pop $b
	popax
	sub $a,$b
	call im10,setpos
	call im10,getex
	call imgsq,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call im10,getey
	call imgsq,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgsq,setpos
	call gract,show
l5730:
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	call im01,setpos
	push $1
	spushs
	spop $a
	call [$a],getex
	call im11,getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	call im11,setpos
	push $1
	spushs
	spop $a
	call [$a],name
	call txtname,txtset
	push $1
	spushs
	spop $a
	call [$a],sformula
	call ttp,txtset
	push "txt"
	push $2
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],stekst
	spop $a
	call [$a],txtset
	push A
	push 1
	push 2
	push 3
	push 4
	call izadanie,in
	cmp0
	je l5733
	push $2
	push 2
	cmpje
	cmp0
	je l5733
	push $3
	push 6
	cmpje
	jmp l5735
l5733:
	push 0
	jmp l5735
l5734:
	push 1
l5735:
	cmp0
	jne l5737
	push izadanie
	push 6
	cmpje
	cmp0
	je l5738
	push $2
	push 17
	cmpje
	cmp0
	je l5738
	push $3
	push 6
	cmpje
	jmp l5740
l5738:
	push 0
	jmp l5740
l5739:
	push 1
l5740:
	jmp l5741
l5736:
	push 0
	jmp l5741
l5737:
	push 1
l5741:
	cmp0
	je l5742
	call ttp,enable
l5742:
	end method
	method ttp_onwrite
	push scell
	push "null"
	cmpje
	cmp0
	je l5744
	ret
l5744:
	localdef $1
	push "txt"
	push scell
	spushs
	spop $a
	call [$a],row
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push scell
	spushs
	spop $a
	call [$a],col
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	cthis get
	spop $a
	call [$a],txtset
	push $1
	spushs
	push scell
	spop $a
	call [$a],txtcenter
	push $1
	spushs
	push scell
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push scell
	spushs
	spop $a
	call [$a],getpy
	push 1
	pop $b
	popax
	add $a,$b
	push scell
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push scell
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],clip
	end method
	method ttp_onenter
	push scell
	push "null"
	cmpje
	cmp0
	je l5746
	ret
l5746:
	localdef $1
	push "txt"
	push scell
	spushs
	spop $a
	call [$a],row
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push scell
	spushs
	spop $a
	call [$a],col
	pop $b
	popax
	add $a,$b
	pop $1
	push scell
	spushs
	cthis get
	spop $a
	call [$a],stekst=
	push scell
	spushs
	cthis get
	spop $a
	call [$a],sformula=
	localstring $2
	push izadanie
	spushs
	push 1
	cmpst
	jne l5748
	spop $a
	push $1
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	push $2
	push 2
	push 2
	call dbc,get
	cmpje
	cmp0
	je l5750
	push "zak9"
	cthis mnext
l5750:
	jmp l5747
l5748:
	push 2
	cmpst
	je l5752
	push 3
	cmpst
	je l5752
	push 4
	cmpst
	je l5752
	push 6
	cmpst
	je l5752
	jmp l5751
l5752:
	spop $a
	push $1
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,to_u
	call Code,start
	call Code,clear
	push "vcode"
	push 1
	call Code,gettoken
	push izadanie
	push 2
	cmpje
	cmp0
	je l5754
	push A
	push "$const"
	push "="
	push "$alpha"
	push "C2"
	call vcode,veceq2
	cmp0
	je l5756
	push scell
	spushs
	push 2
	push 2
	call dbc,get
	spop $a
	call [$a],stekst=
	push scell
	spushs
	push "= C2"
	spop $a
	call [$a],sformula=
	push scell
	cthis msetact
	push "zak12"
	cthis mnext
l5756:
	jmp l5753
l5754:
	push izadanie
	push 3
	cmpje
	cmp0
	je l5758
	push A
	push "$const"
	push "="
	push "$int"
	push 2
	push "$const"
	push "*"
	push "$alpha"
	push "C2"
	call vcode,veceq2
	cmp0
	jne l5761
	push A
	push "$const"
	push "="
	push "$alpha"
	push "C2"
	push "$const"
	push "*"
	push "$int"
	push 2
	call vcode,veceq2
	jmp l5762
l5760:
	push 0
	jmp l5762
l5761:
	push 1
l5762:
	cmp0
	je l5763
	push 2.0
	push 2
	push 2
	call dbc,get
	pop $b
	popax
	mul $a,$b
	pop $2
	push 2
	call $2,strdotpos
	pop $2
	push scell
	spushs
	push $2
	spop $a
	call [$a],stekst=
	push scell
	spushs
	push "= 2 * C2"
	spop $a
	call [$a],sformula=
	push $2
	call txt2_6,txtset
	push "im2_6"
	call txt2_6,txtright
	push scell
	cthis msetact
	push "zak16"
	cthis mnext
l5763:
	jmp l5757
l5758:
	push izadanie
	push 4
	cmpje
	cmp0
	je l5765
	push A
	push "$const"
	push "="
	push "$alpha"
	push "D2"
	push "$const"
	push "*"
	push "$alpha"
	push "C2"
	call vcode,veceq2
	cmp0
	jne l5768
	push A
	push "$const"
	push "="
	push "$alpha"
	push "C2"
	push "$const"
	push "*"
	push "$alpha"
	push "D2"
	call vcode,veceq2
	jmp l5769
l5767:
	push 0
	jmp l5769
l5768:
	push 1
l5769:
	cmp0
	je l5770
	push 2
	push 2
	call dbc,get
	spushs
	spop $h
	call $h,to_r
	push 2
	push 3
	call dbc,get
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	mul $a,$b
	pop $2
	push 2
	call $2,strdotpos
	pop $2
	push scell
	spushs
	push $2
	spop $a
	call [$a],stekst=
	push scell
	spushs
	push "= C2 * D2"
	spop $a
	call [$a],sformula=
	push $2
	call txt2_6,txtset
	push "im2_6"
	call txt2_6,txtright
	push scell
	cthis msetact
	push "ania3"
	cthis mnext
l5770:
	jmp l5764
l5765:
	push izadanie
	push 6
	cmpje
	cmp0
	je l5772
	push A
	push "$const"
	push "="
	push "$alpha"
	push "SUM"
	push "$const"
	push "("
	push "$alpha"
	push "F2"
	push "$const"
	push ";"
	push "$alpha"
	push "F16"
	push "$const"
	push ")"
	call vcode,veceq2
	cmp0
	je l5774
	localreal $3
	push 0.0
	pop $3
	localint $4
	push 2
	pop $4
l5775:
	push $4
	push 16
	cmpjle
	cmp0
	je l5776
	jmp l5778
l5777:
	add $4,1
	pop $4
	jmp l5775
l5778:
	push "im"
	push $4
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],stekst
	popax
	add $3,$a
	pop $3
	jmp l5777
l5776:
	push $3
	pop $2
	push 2
	call $2,strdotpos
	pop $2
	push scell
	spushs
	push $2
	spop $a
	call [$a],stekst=
	push scell
	spushs
	push "= SUM(F2;F16)"
	spop $a
	call [$a],sformula=
	push $2
	call txt17_6,txtset
	push "im17_6"
	call txt17_6,txtright
	push scell
	cthis msetact
	push "ania5"
	cthis mnext
l5774:
l5772:
l5764:
l5757:
l5753:
	jmp l5747
l5751:
	spop $a
l5747:
	end method
	method mnext
	localstring $1
	pop $1
	push 0
	pop igmstate
	add izadanie,1
	pop izadanie
	cthis mloadzad
	call ttp,disable
	push $1
	cthis cbplay
	end method
	method mloadzad
	push izadanie
	push 1
	pop $b
	popax
	sub $a,$b
	push 0
	call dbzad,get
	call txtzd,txtset
	push 15
	push iResY
	call txtzd,geth
	pop $b
	popax
	sub $a,$b
	push 4
	pop $b
	popax
	sub $a,$b
	call txtzd,setpos
	push 1
	push stdfont16
	call txtzd,txtshadow
	end method
	method msetstd
	call gract,hide
	call gract2,hide
	call gractb,hide
	push ""
	call txtname,txtset
	push ""
	call ttp,txtset
	call ttp,disable
	push "null"
	pop scell
	end method
	method mstart
	call buts,unlock
	push 1
	pop igmstate
	end method
	method buts_lclick
	push sobject
	spushs
	push "close"
	cmpst
	jne l5780
	spop $a
	push "zak_quit"
	cthis cbplay
	jmp l5779
l5780:
	push "print"
	cmpst
	jne l5781
	spop $a
	push izadanie
	push 7
	cmpje
	cmp0
	je l5783
	push 0
	pop igmstate
	call buts,lock
	call timend,play
l5783:
	jmp l5779
l5781:
	push "imgsq"
	cmpst
	jne l5784
	spop $a
	push izadanie
	push 5
	cmpje
	cmp0
	je l5786
	push 1
	pop bmoving
	push scell
	pop smoved
l5786:
	jmp l5779
l5784:
	spop $a
l5779:
	end method
	method mouse_lrel
	push izadanie
	push 5
	cmpje
	cmp0
	je l5788
	push bmoving
	jmp l5790
l5788:
	push 0
	jmp l5790
l5789:
	push 1
l5790:
	cmp0
	je l5791
	push 0
	pop bmoving
	localstring $1
	localint $2
	push 2
	pop $2
l5792:
	push $2
	push 15
	cmpjle
	cmp0
	je l5793
	jmp l5795
l5794:
	add $2,1
	pop $2
	jmp l5792
l5795:
	push "im"
	push $2
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 5
	pop $b
	popax
	add $a,$b
	push 1
	push 1
	call im01,isin
	neg
	cmp0
	je l5797
	push 0
	cthis msetbord
	push 0
	pop igmstate
	push "zak19"
	cthis cbplay
	ret
l5797:
	jmp l5794
l5793:
	push 0
	cthis msetbord
	localint $3
	localstring $4
	push 3
	pop $3
l5798:
	push $3
	push 16
	cmpjle
	cmp0
	je l5799
	jmp l5801
l5800:
	add $3,1
	pop $3
	jmp l5798
l5801:
	push "im"
	push $3
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	pop $4
	push $3
	push 2
	call dbc,get
	spushs
	spop $h
	call $h,to_r
	push $3
	push 3
	call dbc,get
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	mul $a,$b
	pop $1
	push $4
	spushs
	push 2
	call $1,strdotpos
	spop $a
	call [$a],stekst=
	push $4
	spushs
	push "= C"
	push $3
	pop $b
	popax
	add $a,$b
	push " * D"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],sformula=
	push "txt"
	push $3
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	spushs
	spop $a
	call [$a],stekst
	spop $a
	call [$a],txtset
	push "txt"
	push $3
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	spushs
	push "im"
	push $3
	pop $b
	popax
	add $a,$b
	push "_6"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],txtright
	jmp l5800
l5799:
	push "ania4"
	cthis mnext
l5791:
	end method
	method msetbord
	localint $1
	pop $1
	localdef $2
	push smoved
	spushs
	spop $a
	call [$a],getpy
	pop $2
	push $1
	push $2
	cmpjl
	cmp0
	je l5803
	push $2
	pop $1
l5803:
	push $1
	call im16_6,getey
	cmpja
	cmp0
	je l5805
	call im16_6,getey
	pop $1
l5805:
	localdef $3
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push dy
	pop $b
	popax
	div $a,$b
	psax
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
	push 2
	push $3
	push dy
	pop $b
	popax
	mul $a,$b
	cthis black
	push 255
	call im01,create
	push 2
	push $3
	push dy
	pop $b
	popax
	mul $a,$b
	cthis black
	push 255
	call im11,create
	push smoved
	spushs
	spop $a
	call [$a],getpx
	push smoved
	spushs
	spop $a
	call [$a],getpy
	call im01,setpos
	push smoved
	spushs
	spop $a
	call [$a],getex
	push smoved
	spushs
	spop $a
	call [$a],getpy
	call im11,setpos
	push smoved
	spushs
	spop $a
	call [$a],getpx
	call im11,getey
	call im10,setpos
	call im10,getex
	call imgsq,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call im10,getey
	call imgsq,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgsq,setpos
	end method
	method mmove
	localint $1
	localint $2
	pop $2
	pop $1
	push scell
	push "null"
	cmpjne
	cmp0
	je l5807
	push scell
	spushs
	spop $a
	call [$a],row
	push $1
	pop $b
	popax
	add $a,$b
	push scell
	spushs
	spop $a
	call [$a],col
	push $2
	pop $b
	popax
	add $a,$b
	cthis msetpos
l5807:
	end method
	method msetpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l5809
	push $1
	push R
	cmpjl
	cmp0
	je l5809
	push $2
	push 0
	cmpja
	cmp0
	je l5809
	push $2
	push C
	cmpjl
	jmp l5811
l5809:
	push 0
	jmp l5811
l5810:
	push 1
l5811:
	cmp0
	je l5812
	cthis msetstd
	push "im"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	cthis msetact
l5812:
	end method
	method cbhelp_MOVEON
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5814
	ret
l5814:
	push izadanie
	spushs
	push 1
	cmpst
	jne l5816
	spop $a
	push 2
	push 2
	call dbc,get
	cthis mhelp
	jmp l5815
l5816:
	push 2
	cmpst
	jne l5817
	spop $a
	push "= C2"
	cthis mhelp
	jmp l5815
l5817:
	push 3
	cmpst
	jne l5818
	spop $a
	push "= 2 * C2"
	cthis mhelp
	jmp l5815
l5818:
	push 4
	cmpst
	jne l5819
	spop $a
	push "= C2 * D2"
	cthis mhelp
	jmp l5815
l5819:
	push 5
	cmpst
	jne l5820
	spop $a
	push "imgsq"
	push "rd"
	call clp,showob
	push "zak18"
	cthis cbplay
	jmp l5815
l5820:
	push 6
	cmpst
	jne l5821
	spop $a
	push "= SUM(F2;F16)"
	cthis mhelp2
	jmp l5815
l5821:
	push 7
	cmpst
	jne l5822
	spop $a
	jmp l5815
l5822:
	spop $a
l5815:
	end method
	method cbhelp_MOVEOFF
	call imzad,hide
	call imsum,hide
	call txtzad,hide
	call txtsum,hide
	end method
	method mhelp
	localstring $1
	pop $1
	call imzad,show
	call txtzad,show
	push $1
	call txtzad,txtset
	push "imzad"
	call txtzad,txtcenter
	end method
	method mhelp2
	localstring $1
	pop $1
	call imsum,show
	call txtsum,show
	push $1
	call txtsum,txtset
	push "imsum"
	call txtsum,txtcenter
	end method
	method key_down
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5824
	ret
l5824:
	push "up"
	call keyboard,iskey
	cmp0
	je l5826
	push 1
	popax
	sub 0,$a
	push 0
	cthis mmove
	jmp l5825
l5826:
	push "down"
	call keyboard,iskey
	cmp0
	je l5828
	push 1
	push 0
	cthis mmove
	jmp l5827
l5828:
	push "left"
	call keyboard,iskey
	cmp0
	je l5830
	push 0
	push 1
	popax
	sub 0,$a
	cthis mmove
	jmp l5829
l5830:
	push "right"
	call keyboard,iskey
	cmp0
	je l5832
	push 0
	push 1
	cthis mmove
l5832:
l5829:
l5827:
l5825:
	end method
	method mouse_move
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5834
	ret
l5834:
	push izadanie
	push 5
	cmpje
	cmp0
	je l5836
	push bmoving
	cmp0
	je l5838
	call mouse,getposy
	cthis msetbord
l5838:
l5836:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l5840
	push 1
	cthis cactsndstop
l5840:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5842
	ret
l5842:
	push izadanie
	push 5
	cmpjne
	cmp0
	je l5844
	call mouse,getpos
	push 1
	push 1
	call gral,isin
	jmp l5846
l5844:
	push 0
	jmp l5846
l5845:
	push 1
l5846:
	cmp0
	je l5847
	localdef $1
	call gral,getsfound
	pop $1
	push $1
	cthis msetact
l5847:
	end method
	end game

	game Gimp
	parent Computro
	method init
	push "gimp"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "kolor.pyz 10"
	push "layer.pyzH 10"
	push "tools.pyz 5"
	push "kursory.pyzH"
	cthis imgs=
	localdef $1
	push 100
	pop $1
	push $1
	push 0
	call antools,move
	new int,iprevx
	new int,iprevy
	new real,rpozyczka
	new int,izadanie
	push 1
	pop izadanie
	new int,isubzad
	push 1
	pop isubzad
	new string,sactpen
	push "null"
	pop sactpen
	push "dbl"
	push "txt"
	cthis lang_db
	push "dbzad"
	push "zad"
	cthis lang_db
	new def,stdfont12
	push 12
	cthis stdfont
	pop stdfont12
	new int,ilayers
	push 0
	pop ilayers
	new int,iactlayer
	push 0
	pop iactlayer
	new gmimgvec,grlay
	new string,slastname
	new string,styped
	push "null"
	pop styped
	new gmimgvec,grdraws
	new int,imgW
	push 450
	pop imgW
	new int,imgH
	push 360
	pop imgH
	push "butgame"
	new GUI,gui
	new vector,vm1
	push "string"
	call vm1,type
	push "menu1"
	cthis mloadvec
	localdef $2
	push 100
	pop $2
	localdef $3
	push 17
	pop $3
	localdef $4
	push 8
	pop $4
	localdef $5
	push 50
	pop $5
	localdef $6
	push 20
	pop $6
	push "menu1"
	push $2
	push $6
	push "vm1"
	push "horizontal"
	call gui,newsubmenu
	push $5
	call menu1,setz
	push $3
	push $4
	call menu1,move
	push "menuplik"
	cthis mloadvec
	push "menu1"
	push 0
	push "menuplik"
	push "vm1"
	call gui,addsubmenu
	push "menuedycja"
	cthis mloadvec
	push "menu1"
	push 1
	push "menuedycja"
	push "vm1"
	call gui,addsubmenu
	push "menuobraz"
	cthis mloadvec
	push "menu1"
	push 2
	push "menuobraz"
	push "vm1"
	call gui,addsubmenu
	push "menuwarstwa"
	cthis mloadvec
	push "menu1"
	push 3
	push "menuwarstwa"
	push "vm1"
	call gui,addsubmenu
	push "ankolor"
	push "anrgbcol"
	cthis copyanima
	push 1
	push 0
	call anrgbcol,setframe
	new Color,pencolor
	cthis black
	push 255
	call pencolor,set
	new img,imgcolor
	push "color"
	push 0
	call ankolor,setframe
	push "ankolor"
	call imgcolor,clone
	push "rgbtitle"
	push 0
	call ankolor,setframe
	push "txtr"
	push 0
	push stdfont12
	cthis black
	cthis newtext
	push 61
	push 432
	call txtr,setpos
	push 30
	call txtr,setz
	push "txtg"
	push 0
	push stdfont12
	cthis black
	cthis newtext
	push 61
	push 456
	call txtg,setpos
	push 30
	call txtg,setz
	push "txtb"
	push 0
	push stdfont12
	cthis black
	cthis newtext
	push 61
	push 480
	call txtb,setpos
	push 30
	call txtb,setz
	push "ankolor"
	push "anrgbpaleta"
	cthis copyanima
	push "rgbpaleta"
	push 0
	call anrgbpaleta,setframe
	call anrgbpaleta,Button_isin
	call anrgbpaleta,stdbutmoveon
	call anrgbpaleta,stdbutmoveoff
	push 20
	call anrgbpaleta,setz
	push "butclick"
	push "Gimp0"
	call anrgbpaleta,addmethod
	cthis msetcolor
	push "anrgbpaleta"
	call butgame,add
	push "ankolor"
	push "anpaleta"
	cthis copyanima
	push "paleta"
	push 0
	call anpaleta,setframe
	push 20
	call anpaleta,setz
	call anpaleta,hide
	new gmimgvec,grsize
	new int,ibutsize
	push 1
	pop ibutsize
	push "grsize"
	push "pedzle.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 5
	call grsize,setz
	push $1
	push 0
	call grsize,move
	call grsize,hide
	call grsize,Button_isin
	push ibutsize
	call grsize,get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call grsize,stdbutmoveon
	call grsize,stdbutmoveoff
	push "butclick"
	push "Gimp2"
	call grsize,addmethod
	push "grsize"
	call butgame,add
	new gmimgvec,grtool
	push "grtool"
	push "pens.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new ConImgMover,cpen
	new img,imgpen
	push 5
	call grtool,setz
	push "Gimp3"
	call grtool,each
	push "rotate"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp6"
	spop $a
	call [$a],addmethod
	push "bucket"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp7"
	spop $a
	call [$a],addmethod
	push "scale"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp8"
	spop $a
	call [$a],addmethod
	push "move"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp9"
	spop $a
	call [$a],addmethod
	push "erase"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp10"
	spop $a
	call [$a],addmethod
	push "pen"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp11"
	spop $a
	call [$a],addmethod
	push "circle"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp12"
	spop $a
	call [$a],addmethod
	push "square"
	cthis mgetpen
	spushs
	push "butclick"
	push "Gimp13"
	spop $a
	call [$a],addmethod
	new gmimgvec,grlayopt
	push "grlayopt"
	push "layopts.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "Gimp14"
	call grlayopt,each
	cthis msetcolor
	push "move"
	cthis mgetpen
	spushs
	spop $a
	call [$a],stdpenclick
	new string,slayeropt
	push "null"
	pop slayeropt
	push A
	push ":ania1"
	push "Musimy jako oczyci ten obraz"
	push "null"
	push ":ania2"
	push "Spjrzcie! Pod tymi zanieczyszczeniami wida kontur"
	push "Gimp18"
	push ":fel1"
	push "Po prawej jest budynek klasztorny i kaplica; Z kaplicy biegnie poczenie z innym budynkiem"
	push "Gimp19"
	push ":ania3"
	push "Zamiast ktrego mamy dzi Gmach Gwny; Zagadka rozwizana! Kiedy asystent zostawi adunek w oranerii Wincenty ukrad strowi klucz do kaplicy i przenis adunek podziemnym przejciem do zamurowanej piwnicy"
	push "Gimp20"
	push ":fel2"
	push "No to teraz musimy wej do tej kaplicy"
	push "Gimp21"
	cthis sounds=
	push PrzygodaMode
	cmp0
	je l5881
	push "epizod"
	push "Sep"
	call clsave,is
	jmp l5883
l5881:
	push 0
	jmp l5883
l5882:
	push 1
l5883:
	cmp0
	je l5884
	push 11
	pop izadanie
	push 50
	pop isubzad
	push "anmapa"
	push "mapka.pyz"
	push 10
	cthis newanima
	call anmapa,getw
	pop imgW
	call anmapa,geth
	pop imgH
	push "windraw"
	push "null"
	push "PICT_00235.jpg "
	push imgW
	pop $b
	popax
	add $a,$b
	push "x"
	pop $b
	popax
	add $a,$b
	push imgH
	pop $b
	popax
	add $a,$b
	push imgW
	push imgH
	call gui,newwndtitle
	push 380
	call windraw,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 360
	call windraw,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call windraw,winmove
	push 0
	push "bkg"
	cthis mtekst
	cthis newlayer
	cthis msetkursor
	localdef $7
	cthis activelayer
	pop $7
	push $7
	spushs
	spop $a
	call [$a],getpx
	push $7
	spushs
	spop $a
	call [$a],getpy
	call anmapa,setpos
	push $7
	spushs
	push "anmapa"
	spop $a
	call [$a],blit
	delete anmapa
	push "ania1"
	cthis cbplay
l5884:
	cthis mloadzad
	push "Gimp23"
	call ccs,enter
	end method
	method Gimp0
	push GAME
	spushs
	spop $a
	call [$a],Gimp1
	end method
	method Gimp1
	push isubzad
	push 8
	cmpje
	cmp0
	jne l5850
	push isubzad
	push 16
	cmpje
	cmp0
	jne l5850
	push isubzad
	push 23
	cmpje
	cmp0
	jne l5850
	push isubzad
	push 35
	cmpje
	jmp l5851
l5849:
	push 0
	jmp l5851
l5850:
	push 1
l5851:
	cmp0
	je l5852
	push "wincolor"
	push "null"
	push "setcolor"
	cthis mtekst
	call anpaleta,getw
	call anpaleta,geth
	call gui,newwndtitle
	call anpaleta,getpx
	call wincolor,ibar
	pop $b
	popax
	sub $a,$b
	call anpaleta,getpy
	call wincolor,ititlebar
	pop $b
	popax
	sub $a,$b
	call wincolor,winmove
	call anpaleta,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call wincolor,winsetz
	call anpaleta,show
	add isubzad,1
	pop isubzad
l5852:
	end method
	method Gimp2
	localdef $1
	cthis getfound
	pop $1
	push ibutsize
	cthis get
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push $1
	pop ibutsize
	push $1
	cthis get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis msetkursor
	push isubzad
	push 7
	cmpje
	cmp0
	je l5854
	push ibutsize
	push 3
	cmpje
	jmp l5856
l5854:
	push 0
	jmp l5856
l5855:
	push 1
l5856:
	cmp0
	je l5857
	push 8
	pop isubzad
	jmp l5853
l5857:
	push isubzad
	push 19
	cmpje
	cmp0
	je l5859
	push ibutsize
	push 0
	cmpje
	jmp l5861
l5859:
	push 0
	jmp l5861
l5860:
	push 1
l5861:
	cmp0
	je l5862
	push 20
	pop isubzad
l5862:
l5853:
	end method
	method Gimp3
	localdef $1
	pop $1
	push "butmoveon"
	push "Gimp4"
	cthis addmethod
	push "butmoveoff"
	push "Gimp5"
	cthis addmethod
	cthis Button_isin
	cthis getname
	call butgame,add
	end method
	method Gimp4
	cthis actionname
	push sactpen
	cmpjne
	cmp0
	je l5864
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l5864:
	end method
	method Gimp5
	cthis actionname
	push sactpen
	cmpjne
	cmp0
	je l5866
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l5866:
	end method
	method Gimp6
	cthis stdpenclick
	push isubzad
	push 43
	cmpje
	cmp0
	je l5868
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newrotatewin
l5868:
	end method
	method Gimp7
	cthis stdpenclick
	end method
	method Gimp8
	cthis stdpenclick
	push isubzad
	push 40
	cmpje
	cmp0
	je l5870
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newscalewin
l5870:
	end method
	method Gimp9
	cthis stdpenclick
	end method
	method Gimp10
	cthis stdpenclick
	end method
	method Gimp11
	cthis stdpenclick
	push isubzad
	push 6
	cmpje
	cmp0
	je l5872
	push 7
	pop isubzad
l5872:
	end method
	method Gimp12
	cthis stdpenclick
	end method
	method Gimp13
	cthis stdpenclick
	end method
	method Gimp14
	localdef $1
	pop $1
	cthis Button_isin
	push "butmoveon"
	push "Gimp15"
	cthis addmethod
	push "butmoveoff"
	push "Gimp16"
	cthis addmethod
	push "butclick"
	push "Gimp17"
	cthis addmethod
	cthis getname
	call butgame,add
	end method
	method Gimp15
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	end method
	method Gimp16
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Gimp17
	cthis actionname
	spushs
	push "newlayer"
	cmpst
	jne l5874
	spop $a
	push isubzad
	push 14
	cmpje
	cmp0
	jne l5877
	push isubzad
	push 33
	cmpje
	jmp l5878
l5876:
	push 0
	jmp l5878
l5877:
	push 1
l5878:
	cmp0
	je l5879
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newlayerwin
l5879:
	jmp l5873
l5874:
	spop $a
l5873:
	end method
	method Gimp18
	push "fel1"
	cthis cbplay
	end method
	method Gimp19
	push "ania3"
	cthis cbplay
	end method
	method Gimp20
	push "fel2"
	cthis cbplay
	end method
	method Gimp21
	push "Gimp22"
	call ccs,close
	end method
	method Gimp22
	push "adsala"
	push "gameadsala2"
	cthis gotoadv
	end method
	method Gimp23
	push 1
	pop igmstate
	end method
	method _empty_
	end method
	method stdbutmoveon
	push "butmoveon"
	push "_empty_"
	cthis addmethod
	end method
	method stdbutmoveoff
	push "butmoveoff"
	push "_empty_"
	cthis addmethod
	end method
	method msetcolor
	call pencolor,get
	push 0
	call imgcolor,paint
	call pencolor,r
	call txtr,txtset
	call pencolor,g
	call txtg,txtset
	call pencolor,b
	call txtb,txtset
	push sactpen
	push "pen"
	cmpje
	cmp0
	je l5886
	call pencolor,get
	push 0
	call imgpen,paint
l5886:
	end method
	method msetkursor
	push A
	push "pen"
	push "erase"
	call sactpen,in
	cmp0
	je l5888
	push sactpen
	push ibutsize
	call ankursory,setframe
	jmp l5887
l5888:
	push sactpen
	push 0
	call ankursory,setframe
l5887:
	push GAME
	spushs
	push "windraw"
	spop $a
	call [$a],hasvar
	cmp0
	je l5890
	push "ankursory"
	call imgpen,clone
	call windraw,getz
	push 1
	pop $b
	popax
	add $a,$b
	call imgpen,setz
	call imgpen,show
	push "windraw"
	call imgpen,anclipob
	push sactpen
	push "pen"
	cmpje
	cmp0
	je l5892
	call pencolor,get
	push 0
	call imgpen,paint
l5892:
	push "imgpen"
	call ankursory,getw
	call ankursory,geth
	push 0
	push 0
	call cpen,set
l5890:
	end method
	method stdpenclick
	localdef $1
	cthis actionname
	pop $1
	push sactpen
	push $1
	cmpjne
	cmp0
	je l5894
	push sactpen
	push "null"
	cmpjne
	cmp0
	je l5896
	call grsize,hide
	push sactpen
	cthis mgetpen
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l5896:
	push $1
	pop sactpen
	push A
	push "pen"
	push "erase"
	call $1,in
	cmp0
	je l5898
	call grsize,show
l5898:
	push $1
	push 0
	call antools,setframe
	push 1
	popax
	sub 0,$a
	push 2
	cthis setframe
l5894:
	cthis msetkursor
	end method
	method mgetpen
	localstring $1
	pop $1
	push $1
	call grtool,getsac
	end method
	method mtekst
	localstring $1
	pop $1
	push $1
	call dbl,findbyrow
	push 1
	call dbl,get
	end method
	method mloadvec
	localstring $1
	pop $1
	localdef $2
	push $1
	call dbl,findbyrow
	pop $2
	call vm1,free
	localint $3
	push 1
	pop $3
l5899:
	push $3
	push $2
	call dbl,getcolsno
	cmpjl
	cmp0
	je l5900
	jmp l5902
l5901:
	add $3,1
	pop $3
	jmp l5899
l5902:
	push $2
	push $3
	call dbl,get
	call vm1,add
	jmp l5901
l5900:
	end method
	method mloadzad
	push GAME
	spushs
	spop $a
	call [$a],Gimp24
	end method
	method Gimp24
	push "tdzad"
	cthis hasvar
	cmp0
	je l5904
	push "tdzad"
	cthis deletegmobj
l5904:
	push stdfont12
	push 12
	push "$row:dbzad,"
	push izadanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	cthis white
	push 9
	push 566
	push 2
	push 100
	push "left"
	new TextDb,tdzad
	end method
	method menuplik_lclick
	push isubzad
	push 1
	cmpje
	cmp0
	je l5906
	call menuplik,idclicked
	push 0
	cmpje
	cmp0
	je l5908
	push 2
	pop isubzad
	cthis mbuilzad
l5908:
l5906:
	end method
	method menuwarstwa_lclick
	push isubzad
	push 14
	cmpje
	cmp0
	jne l5911
	push isubzad
	push 33
	cmpje
	jmp l5912
l5910:
	push 0
	jmp l5912
l5911:
	push 1
l5912:
	cmp0
	je l5913
	call menuwarstwa,idclicked
	push 0
	cmpje
	cmp0
	je l5915
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newlayerwin
l5915:
	jmp l5909
l5913:
	push isubzad
	push 40
	cmpje
	cmp0
	je l5917
	call menuwarstwa,idclicked
	push 1
	cmpje
	cmp0
	je l5919
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newscalewin
l5919:
	jmp l5916
l5917:
	push isubzad
	push 43
	cmpje
	cmp0
	je l5921
	call menuwarstwa,idclicked
	push 2
	cmpje
	cmp0
	je l5923
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newrotatewin
l5923:
	jmp l5920
l5921:
	push isubzad
	push 50
	cmpje
	cmp0
	je l5925
	call menuwarstwa,idclicked
	push 3
	cmpje
	cmp0
	je l5927
	add isubzad,1
	pop isubzad
	push GAME
	spushs
	spop $a
	call [$a],newlevelwin
l5927:
l5925:
l5920:
l5916:
l5909:
	end method
	method mbuilzad
	push GAME
	spushs
	spop $a
	call [$a],Gimp25
	end method
	method Gimp25
	push isubzad
	spushs
	push 2
	cmpst
	jne l5929
	spop $a
	cthis newimagewin
	jmp l5928
l5929:
	push 3
	cmpst
	jne l5930
	spop $a
	push "windraw"
	push "null"
	push "Bez nazwy "
	push imgW
	pop $b
	popax
	add $a,$b
	push "x"
	pop $b
	popax
	add $a,$b
	push imgH
	pop $b
	popax
	add $a,$b
	push imgW
	push imgH
	call gui,newwndtitle
	push 380
	call windraw,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 300
	call windraw,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call windraw,winmove
	push 0
	push "bkg"
	cthis mtekst
	cthis newlayer
	cthis msetkursor
	jmp l5928
l5930:
	push 6
	cmpst
	jne l5931
	spop $a
	push sactpen
	push "pen"
	cmpje
	cmp0
	je l5933
	push 7
	pop isubzad
	push ibutsize
	push 3
	cmpje
	cmp0
	je l5935
	push 8
	pop isubzad
l5935:
l5933:
	jmp l5928
l5931:
	push 42
	cmpst
	jne l5936
	spop $a
	localdef $1
	cthis activelayer
	pop $1
	new filter,ftsubzad42
	push $1
	call ftsubzad42,link
	push 200.0
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	div $a,$b
	psax
	push 200.0
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	div $a,$b
	psax
	call ftsubzad42,setzoomxy
	jmp l5928
l5936:
	spop $a
l5928:
	end method
	method newimagewin
	push "newimg"
	push "wymiary"
	push 0
	cthis newsizewin
	end method
	method newscalewin
	push "zoomlayer"
	push "wymiarylayer"
	push 1
	cthis newsizewin
	end method
	method newsizewin
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "winnew"
	push "null"
	push $1
	cthis mtekst
	push 275
	push 180
	call gui,newwndtitle
	push 400
	call winnew,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 300
	call winnew,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winnew,winmove
	push "butoknew"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	push "butcancelnew"
	push "Cancel"
	push 80
	push 30
	call gui,newbutton
	call winnew,getcx
	push 85
	pop $b
	popax
	sub $a,$b
	call winnew,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call butoknew,setpos
	call butoknew,getex
	push 10
	pop $b
	popax
	add $a,$b
	call butoknew,getpy
	call butcancelnew,setpos
	push "ttw"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	call winnew,getcx
	call winnew,getcy
	push 35
	pop $b
	popax
	sub $a,$b
	call ttw,winmove
	push "tth"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	call winnew,getcx
	call winnew,getcy
	call tth,winmove
	localdef $4
	call ttwwnd,getex
	push 5
	pop $b
	popax
	add $a,$b
	call winnew,getpx
	pop $b
	popax
	sub $a,$b
	pop $4
	localdef $5
	call ttw,getpy
	call winnew,getpy
	pop $b
	popax
	sub $a,$b
	pop $5
	localdef $6
	call tth,getpy
	call winnew,getpy
	pop $b
	popax
	sub $a,$b
	pop $6
	push "winnew"
	push $4
	push $5
	push "px"
	call gui,print
	push "winnew"
	push $4
	push $6
	push "px"
	call gui,print
	push 50
	pop $4
	push "winnew"
	push $4
	push $5
	push "szerokosc"
	cthis mtekst
	call gui,print
	push "winnew"
	push $4
	push $6
	push "wysokosc"
	cthis mtekst
	call gui,print
	push "winnew"
	push $4
	push 30
	pop $b
	popax
	sub $a,$b
	push $5
	push 40
	pop $b
	popax
	sub $a,$b
	push $2
	cthis mtekst
	call gui,print
	push $3
	cmp0
	je l5938
	push imgW
	push 0
	call ttw,setid
	push imgH
	push 0
	call tth,setid
l5938:
	localdef $7
	push 10
	pop $7
	push $7
	call winnew,winsetz
	push $7
	call butoknew,setz
	push $7
	call butcancelnew,setz
	push $7
	call ttw,winsetz
	push $7
	call tth,winsetz
	end method
	method newrotatewin
	push "winnew"
	push "null"
	push "rotatelayer"
	cthis mtekst
	push 275
	push 180
	call gui,newwndtitle
	push 400
	call winnew,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 300
	call winnew,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winnew,winmove
	push "butoknew"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	push "butcancelnew"
	push "Cancel"
	push 80
	push 30
	call gui,newbutton
	call winnew,getcx
	push 85
	pop $b
	popax
	sub $a,$b
	call winnew,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call butoknew,setpos
	call butoknew,getex
	push 10
	pop $b
	popax
	add $a,$b
	call butoknew,getpy
	call butcancelnew,setpos
	push "ttw"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	call winnew,getcx
	call winnew,getcy
	push 35
	pop $b
	popax
	sub $a,$b
	call ttw,winmove
	localdef $1
	call ttw,getpy
	call winnew,getpy
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	push 50
	pop $2
	push "winnew"
	push $2
	push $1
	push "rotateangle"
	cthis mtekst
	call gui,print
	push "winnew"
	push $2
	push 30
	pop $b
	popax
	sub $a,$b
	push $1
	push 40
	pop $b
	popax
	sub $a,$b
	push "obrot"
	cthis mtekst
	call gui,print
	localdef $3
	push 10
	pop $3
	push $3
	call winnew,winsetz
	push $3
	call butoknew,setz
	push $3
	call butcancelnew,setz
	push $3
	call ttw,winsetz
	end method
	method newlevelwin
	push "winnew"
	push "null"
	push "levellayer"
	cthis mtekst
	push 400
	push 200
	call gui,newwndtitle
	push 400
	call winnew,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 60
	call winnew,winmove
	push "butoknew"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	push "butcancelnew"
	push "Cancel"
	push 80
	push 30
	call gui,newbutton
	call winnew,getcx
	push 85
	pop $b
	popax
	sub $a,$b
	call winnew,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call butoknew,setpos
	call butoknew,getex
	push 10
	pop $b
	popax
	add $a,$b
	call butoknew,getpy
	call butcancelnew,setpos
	push "ttw"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	call winnew,getcx
	call ttwwnd,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call butoknew,getpy
	call ttwwnd,geth
	pop $b
	popax
	sub $a,$b
	push 20
	pop $b
	popax
	sub $a,$b
	call ttw,winmove
	localdef $1
	push 20
	pop $1
	push $1
	call winnew,winsetz
	push $1
	call butoknew,setz
	push $1
	call butcancelnew,setz
	push $1
	call ttw,winsetz
	new img,imhis
	new AlgImg,algimg
	push "imhis"
	push 256
	push 60
	cthis activelayer
	call algimg,makehistogram
	call winnew,getcx
	call imhis,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winnew,getpy
	push 40
	pop $b
	popax
	add $a,$b
	call imhis,setpos
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call imhis,setz
	localdef $2
	push 256
	pop $2
	localdef $3
	push 15
	pop $3
	push "winsuwak"
	push $2
	push 4
	pop $b
	popax
	add $a,$b
	push $3
	push 4
	pop $b
	popax
	add $a,$b
	call gui,newwndconcave
	new img,imgreypal
	push "imgreypal"
	push 1
	push 15
	call algimg,makegreypallete
	call imhis,getpx
	call imhis,getey
	push 6
	pop $b
	popax
	add $a,$b
	call imgreypal,setpos
	call imhis,getz
	call winsuwak,setz
	call imgreypal,getpx
	push 2
	pop $b
	popax
	sub $a,$b
	call imgreypal,getpy
	push 2
	pop $b
	popax
	sub $a,$b
	call winsuwak,setpos
	push "imgreypal"
	call winsuwak,blit
	delete imgreypal
	delete algimg
	new img,imsuw
	push 8
	call winsuwak,getey
	push 1
	pop $b
	popax
	add $a,$b
	call imhis,getpy
	push 2
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	sub $a,$b
	cthis transparent
	call imsuw,create
	new img,im1
	push 8
	push $3
	push 6
	pop $b
	popax
	add $a,$b
	cthis msuwcol
	call im1,create
	push 1
	cthis msuwbor
	call im1,imgroundborder
	call imsuw,getpx
	call imsuw,getey
	call im1,geth
	pop $b
	popax
	sub $a,$b
	call im1,setpos
	push "im1"
	call imsuw,blit
	push 4
	call imsuw,geth
	call winsuwak,geth
	pop $b
	popax
	sub $a,$b
	cthis msuwcol
	call im1,create
	push 1
	cthis msuwbor
	call im1,imgroundborder
	call imsuw,getcx
	call im1,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imsuw,getpy
	call im1,setpos
	push "im1"
	call imsuw,blit
	call imhis,getz
	push 2
	pop $b
	popax
	add $a,$b
	call imsuw,setz
	delete im1
	push "isbutin"
	push "Gimp26"
	call imsuw,addmethod
	call imsuw,stdbutmoveon
	call imsuw,stdbutmoveoff
	push "butclick"
	push "Gimp27"
	call imsuw,addmethod
	push "imsuw"
	call butgame,add
	new filter,ftlevel
	cthis activelayer
	call ftlevel,link
	push 127
	cthis msetlevel
	end method
	method Gimp26
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Gimp27
	push 52
	pop isubzad
	push "level"
	pop slayeropt
	end method
	method msuwcol
	push 64
	push 64
	push 255
	push 255
	ret
	end method
	method msuwbor
	push 0
	push 0
	push 128
	push 255
	ret
	end method
	method msetlevel
	localint $1
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l5940
	push 0
	pop $1
l5940:
	push $1
	push 255
	cmpja
	cmp0
	je l5942
	push 255
	pop $1
l5942:
	call imhis,getpx
	push 2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	call imsuw,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imhis,getpy
	push 2
	pop $b
	popax
	sub $a,$b
	call imsuw,setpos
	push $1
	push 0
	call ttw,setid
	push $1
	call ftlevel,setlevel
	end method
	method mchecklevel
	localint $1
	call ttw,get
	pop $1
	push $1
	push 7
	cmpjae
	cmp0
	je l5944
	push $1
	push 14
	cmpjle
	jmp l5946
l5944:
	push 0
	jmp l5946
l5945:
	push 1
l5946:
	cmp0
	je l5947
	push 53
	pop isubzad
	push 0
	pop igmstate
	call butgame,lock
	call ttw,disable
	push "ania2"
	cthis cbplay
	jmp l5943
l5947:
	push 51
	pop isubzad
l5943:
	end method
	method ttw_boxontype
	push "enter"
	call keyboard,iskey
	cmp0
	je l5949
	cthis disable
	push isubzad
	push 51
	cmpje
	cmp0
	je l5951
	call ttw,get
	cthis msetlevel
	cthis mchecklevel
l5951:
l5949:
	end method
	method newlayerwin
	push "winnewlayer"
	push "null"
	push "newlayer"
	cthis mtekst
	push 280
	push 180
	call gui,newwndtitle
	push 400
	call winnewlayer,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 200
	call winnewlayer,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winnewlayer,winmove
	push "butoknewlay"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	push "butcancelnewlay"
	push "Cancel"
	push 80
	push 30
	call gui,newbutton
	call winnewlayer,getcx
	push 85
	pop $b
	popax
	sub $a,$b
	call winnewlayer,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call butoknewlay,setpos
	call butoknewlay,getex
	push 10
	pop $b
	popax
	add $a,$b
	call butoknewlay,getpy
	call butcancelnewlay,setpos
	localdef $1
	call windraw,getz
	push 10
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call winnewlayer,winsetz
	push $1
	call butoknewlay,setz
	push $1
	call butcancelnewlay,setz
	push "ttnamelay"
	push "a_0"
	push 100
	push 20
	call gui,newtextbox
	push "stdnazwa"
	cthis mtekst
	push 0
	call ttnamelay,setid
	call winnewlayer,getcx
	call winnewlayer,getcy
	push 55
	pop $b
	popax
	sub $a,$b
	call ttnamelay,winmove
	push $1
	call ttnamelay,winsetz
	push "ttwlay"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	push imgW
	push 0
	call ttwlay,setid
	call winnewlayer,getcx
	call winnewlayer,getcy
	call ttwlay,winmove
	push $1
	call ttwlay,winsetz
	push "tthlay"
	push "0"
	push 50
	push 20
	call gui,newtextbox
	call winnewlayer,getcx
	call winnewlayer,getcy
	push 22
	pop $b
	popax
	add $a,$b
	call tthlay,winmove
	push imgH
	push 0
	call tthlay,setid
	push $1
	call tthlay,winsetz
	localdef $2
	call ttwlaywnd,getex
	push 5
	pop $b
	popax
	add $a,$b
	call winnewlayer,getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	localdef $3
	call ttnamelay,getpy
	call winnewlayer,getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	localdef $4
	call ttwlay,getpy
	call winnewlayer,getpy
	pop $b
	popax
	sub $a,$b
	pop $4
	localdef $5
	call tthlay,getpy
	call winnewlayer,getpy
	pop $b
	popax
	sub $a,$b
	pop $5
	push "winnewlayer"
	push $2
	push $4
	push "px"
	call gui,print
	push "winnewlayer"
	push $2
	push $5
	push "px"
	call gui,print
	push 50
	pop $2
	push "winnewlayer"
	push $2
	push $3
	push "nowanazwa"
	cthis mtekst
	call gui,print
	push "winnewlayer"
	push $2
	push $4
	push "szerokosc"
	cthis mtekst
	call gui,print
	push "winnewlayer"
	push $2
	push $5
	push "wysokosc"
	cthis mtekst
	call gui,print
	push "winnewlayer"
	push $2
	push 10
	pop $b
	popax
	sub $a,$b
	push $4
	push 25
	pop $b
	popax
	sub $a,$b
	push "wymiarylayer"
	cthis mtekst
	call gui,print
	end method
	method mendnewimg
	push A
	push "butoknew"
	push "butcancelnew"
	push "winnew"
	push "tth"
	push "ttw"
	call gui,dellist
	end method
	method mendnewlayer
	push A
	push "butoknewlay"
	push "butcancelnewlay"
	push "winnewlayer"
	push "tthlay"
	push "ttwlay"
	push "ttnamelay"
	call gui,dellist
	end method
	method mendrotatewin
	push A
	push "butoknew"
	push "butcancelnew"
	push "winnew"
	push "ttw"
	call gui,dellist
	end method
	method mendlevelwin
	push A
	push "butoknew"
	push "butcancelnew"
	push "winnew"
	push "winsuwak"
	push "ttw"
	call gui,dellist
	push "imsuw"
	call butgame,removebut
	push GAME
	spushs
	spop $a
	call [$a],Gimp28
	end method
	method Gimp28
	call ftlevel,unlink
	delete ftlevel
	delete imhis
	delete imsuw
	end method
	method mnextzad
	add izadanie,1
	pop izadanie
	add isubzad,1
	pop isubzad
	cthis mbuilzad
	cthis mloadzad
	end method
	method butoknew_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5953
	ret
l5953:
	push isubzad
	push 51
	cmpje
	cmp0
	je l5955
	call butoknew,unclick
	jmp l5954
l5955:
	push isubzad
	push 44
	cmpje
	cmp0
	je l5957
	localint $1
	call ttw,get
	pop $1
	cthis mendrotatewin
	push GAME
	spushs
	push $1
	push 360
	pop $b
	popax
	div $a,$b
	push $d
	spop $a
	call [$a],Gimp29
	cthis mnextzad
	jmp l5956
l5957:
	push isubzad
	push 41
	cmpje
	cmp0
	je l5959
	call ttw,get
	spushs
	spop $h
	call $h,to_i
	push 200
	cmpje
	cmp0
	je l5961
	call tth,get
	spushs
	spop $h
	call $h,to_i
	push 200
	cmpje
	jmp l5963
l5961:
	push 0
	jmp l5963
l5962:
	push 1
l5963:
	cmp0
	je l5964
	cthis mendnewimg
	cthis mnextzad
	jmp l5960
l5964:
	call butoknew,unclick
l5960:
	jmp l5958
l5959:
	push isubzad
	push 2
	cmpje
	cmp0
	je l5966
	call ttw,get
	spushs
	spop $h
	call $h,to_i
	push imgW
	cmpje
	cmp0
	je l5968
	call tth,get
	spushs
	spop $h
	call $h,to_i
	push imgH
	cmpje
	jmp l5970
l5968:
	push 0
	jmp l5970
l5969:
	push 1
l5970:
	cmp0
	je l5971
	cthis mendnewimg
	cthis mnextzad
	jmp l5967
l5971:
	call butoknew,unclick
l5967:
l5966:
l5958:
l5956:
l5954:
	end method
	method Gimp29
	localint $1
	pop $1
	localdef $2
	cthis activelayer
	pop $2
	new filter,ftsubzad44
	push $2
	call ftsubzad44,link
	push $1
	call ftsubzad44,rotate
	push $2
	spushs
	push 0
	call grdraws,get
	spop $a
	call [$a],anclipob
	end method
	method butoknewlay_lclick
	call ttwlay,get
	spushs
	spop $h
	call $h,to_i
	push imgW
	cmpje
	cmp0
	je l5973
	call tthlay,get
	spushs
	spop $h
	call $h,to_i
	push imgH
	cmpje
	cmp0
	je l5973
	push isubzad
	push 15
	cmpje
	cmp0
	je l5975
	call ttnamelay,get
	push "Layer1"
	cmpje
	jmp l5977
l5975:
	push 0
	jmp l5977
l5976:
	push 1
l5977:
	cmp0
	jne l5979
	push isubzad
	push 34
	cmpje
	cmp0
	je l5980
	call ttnamelay,get
	push "layer_zoom"
	cmpje
	jmp l5982
l5980:
	push 0
	jmp l5982
l5981:
	push 1
l5982:
	jmp l5983
l5978:
	push 0
	jmp l5983
l5979:
	push 1
l5983:
	jmp l5984
l5973:
	push 0
	jmp l5984
l5974:
	push 1
l5984:
	cmp0
	je l5985
	push 1
	call ttnamelay,get
	cthis newlayer
	cthis mendnewlayer
	add isubzad,1
	pop isubzad
	jmp l5972
l5985:
	call butoknewlay,unclick
l5972:
	end method
	method butcancelnew_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5987
	ret
l5987:
	sub isubzad,1
	pop isubzad
	push isubzad
	push 43
	cmpje
	cmp0
	je l5989
	cthis mendrotatewin
	jmp l5988
l5989:
	push isubzad
	push 50
	cmpje
	cmp0
	je l5991
	cthis mendlevelwin
	jmp l5990
l5991:
	cthis mendnewimg
l5990:
l5988:
	end method
	method butcancelnewlay_lclick
	sub isubzad,1
	pop isubzad
	cthis mendnewlayer
	end method
	method winnew_lclick
	cthis butcancelnew_lclick
	end method
	method winnewlayer_lclick
	cthis butcancelnewlay_lclick
	end method
	method wincolor_lclick
	push isubzad
	push 9
	cmpje
	cmp0
	jne l5994
	push isubzad
	push 17
	cmpje
	cmp0
	jne l5994
	push isubzad
	push 24
	cmpje
	cmp0
	jne l5994
	push isubzad
	push 36
	cmpje
	jmp l5995
l5993:
	push 0
	jmp l5995
l5994:
	push 1
l5995:
	cmp0
	je l5996
	sub isubzad,1
	pop isubzad
	jmp l5992
l5996:
	push isubzad
	push 10
	cmpje
	cmp0
	jne l5999
	push isubzad
	push 18
	cmpje
	cmp0
	jne l5999
	push isubzad
	push 25
	cmpje
	cmp0
	jne l5999
	push isubzad
	push 37
	cmpje
	jmp l6000
l5998:
	push 0
	jmp l6000
l5999:
	push 1
l6000:
	cmp0
	je l6001
	add isubzad,1
	pop isubzad
	push isubzad
	push 19
	cmpje
	cmp0
	je l6003
	push sactpen
	push "pen"
	cmpje
	cmp0
	je l6005
	push ibutsize
	push 0
	cmpje
	jmp l6007
l6005:
	push 0
	jmp l6007
l6006:
	push 1
l6007:
	cmp0
	je l6008
	push 20
	pop isubzad
l6008:
l6003:
l6001:
l5992:
	call anpaleta,hide
	push "wincolor"
	call gui,delobj
	end method
	method newlayer
	localint $1
	localstring $2
	pop $2
	pop $1
	push GAME
	spushs
	push $1
	push $2
	spop $a
	call [$a],Gimp30
	end method
	method Gimp30
	localint $1
	localstring $2
	pop $2
	pop $1
	push ilayers
	push 0
	cmpja
	cmp0
	je l6010
	push iactlayer
	cthis deactivatelayer
l6010:
	push ilayers
	pop iactlayer
	localdef $3
	push "imdraw"
	push iactlayer
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new img,[$e]
	push $1
	cmp0
	je l6012
	push $3
	spushs
	push imgW
	push imgH
	cthis transparent
	spop $a
	call [$a],create
	jmp l6011
l6012:
	push $3
	spushs
	push imgW
	push imgH
	cthis white
	push 255
	spop $a
	call [$a],create
l6011:
	push $3
	spushs
	call windraw,getpx
	call gui,ibar
	pop $b
	popax
	add $a,$b
	call windraw,getpy
	call gui,ititlebar
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $3
	call grdraws,add
	add ilayers,1
	pop ilayers
	push "anlay"
	push iactlayer
	pop $b
	popax
	add $a,$b
	pop $3
	push "anlayer"
	push $3
	cthis copyanima
	push $3
	spushs
	spop $a
	call [$a],show
	localdef $4
	push ilayers
	push 1
	pop $b
	popax
	sub $a,$b
	popax
	sub 0,$a
	push $3
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	pop $4
	push $3
	spushs
	push 0
	push $4
	spop $a
	call [$a],setpos
	push $3
	call grlay,add
	push "eye"
	push $4
	cthis msetlayer
	spushs
	spop $a
	call [$a],show
	localdef $5
	push "name"
	push $4
	cthis msetlayer
	pop $5
	localdef $6
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	push stdfont12
	push 12
	cthis black
	push "a0_"
	push 15
	spop $e
	new ConTextTyper,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push 2
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getcy
	push 6
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push iactlayer
	push $2
	cthis mlayname
	push $6
	spushs
	push 115
	spop $a
	call [$a],setz
	push $6
	spushs
	push $6
	push "_onenter"
	pop $b
	popax
	add $a,$b
	push "Gimp31"
	spop $a
	call [$a],addmethod
	push $6
	spushs
	push $6
	push "_ontype"
	pop $b
	popax
	add $a,$b
	push "Gimp32"
	spop $a
	call [$a],addmethod
	push "active"
	push $4
	cthis msetlayer
	popax
	push iactlayer
	cthis activatelayer
	end method
	method Gimp31
	cthis get
	push ""
	cmpje
	cmp0
	je l6014
	push slastname
	cthis txtset
l6014:
	push "null"
	pop styped
	push isubzad
	push 3
	cmpje
	cmp0
	je l6016
	cthis get
	push "Background"
	cmpje
	jmp l6018
l6016:
	push 0
	jmp l6018
l6017:
	push 1
l6018:
	cmp0
	je l6019
	cthis mnextzad
l6019:
	end method
	method Gimp32
	push "escape"
	call keyboard,iskey
	cmp0
	je l6021
	cthis disable
	push slastname
	cthis txtset
	push "null"
	pop styped
l6021:
	end method
	method mlayname
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ttanlay"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],txtset
	end method
	method getactlayname
	push "ttanlay"
	push iactlayer
	pop $b
	popax
	add $a,$b
	end method
	method deactivatelayer
	localint $1
	pop $1
	push $1
	cthis sgetlayer
	spushs
	spop $a
	call [$a],hide
	end method
	method sgetlayer
	localint $1
	pop $1
	push $1
	push 4
	pop $b
	popax
	mul $a,$b
	push 3
	pop $b
	popax
	add $a,$b
	call grlay,get
	end method
	method sactlayer
	push iactlayer
	push 4
	pop $b
	popax
	mul $a,$b
	push 3
	pop $b
	popax
	add $a,$b
	call grlay,get
	end method
	method activelayer
	push iactlayer
	call grdraws,get
	end method
	method activatelayer
	localint $1
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l6023
	push 0
	pop $1
l6023:
	push $1
	push ilayers
	cmpjae
	cmp0
	je l6025
	push ilayers
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
l6025:
	push iactlayer
	cthis deactivatelayer
	push $1
	pop iactlayer
	push $1
	push 4
	pop $b
	popax
	mul $a,$b
	push 3
	pop $b
	popax
	add $a,$b
	call grlay,get
	spushs
	spop $a
	call [$a],show
	end method
	method msetlayer
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push "anlay"
	push iactlayer
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push "anlayer"
	push $3
	cthis copyanima
	push $3
	spushs
	push $1
	push 0
	spop $a
	call [$a],setframe
	push $3
	spushs
	push 0
	push $2
	spop $a
	call [$a],setpos
	push $3
	spushs
	spop $a
	call [$a],hide
	push $3
	call grlay,add
	push $3
	end method
	method isonactlayer
	cthis sactlayer
	spushs
	call mouse,getpos
	push 0
	push 0
	spop $a
	call [$a],isin
	end method
	method mhide
	localint $1
	pop $1
	push $1
	push ilayers
	cmpjl
	cmp0
	je l6027
	push $1
	push 4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call grlay,get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push "imdraw"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
l6027:
	end method
	method mshow
	localint $1
	pop $1
	push $1
	push ilayers
	cmpjl
	cmp0
	je l6029
	push $1
	push 4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call grlay,get
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push "imdraw"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
l6029:
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6031
	ret
l6031:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push isubzad
	spushs
	push 3
	cmpst
	jne l6033
	spop $a
	push styped
	push "null"
	cmpjne
	cmp0
	je l6035
	cthis getactlayname
	push styped
	cmpjne
	jmp l6037
l6035:
	push 0
	jmp l6037
l6036:
	push 1
l6037:
	cmp0
	je l6038
	push styped
	spushs
	push slastname
	spop $a
	call [$a],txtset
	push styped
	spushs
	spop $a
	call [$a],disable
l6038:
	jmp l6032
l6033:
	push 4
	cmpst
	jne l6039
	spop $a
	push $1
	push $2
	push 0
	push 0
	call anlay0eye,isin
	cmp0
	je l6041
	push 0
	cthis mhide
	add isubzad,1
	pop isubzad
l6041:
	jmp l6032
l6039:
	push 5
	cmpst
	jne l6042
	spop $a
	push $1
	push $2
	push 0
	push 0
	call anlay0eye,isin
	cmp0
	je l6044
	push 0
	cthis mshow
	cthis mnextzad
l6044:
	jmp l6032
l6042:
	push 9
	cmpst
	je l6046
	push 10
	cmpst
	je l6046
	push 17
	cmpst
	je l6046
	push 18
	cmpst
	je l6046
	push 24
	cmpst
	je l6046
	push 25
	cmpst
	je l6046
	push 36
	cmpst
	je l6046
	push 37
	cmpst
	je l6046
	jmp l6045
l6046:
	spop $a
	push $1
	push $2
	push 1
	push 0
	call anpaleta,isin
	cmp0
	je l6048
	push $1
	push $2
	call anpaleta,getrgba
	call pencolor,set
	push isubzad
	push 10
	cmpjle
	cmp0
	je l6050
	push 10
	pop isubzad
	jmp l6049
l6050:
	push isubzad
	push 18
	cmpjle
	cmp0
	je l6052
	push 18
	pop isubzad
	jmp l6051
l6052:
	push isubzad
	push 25
	cmpjle
	cmp0
	je l6054
	push 25
	pop isubzad
	jmp l6053
l6054:
	push 37
	pop isubzad
l6053:
l6051:
l6049:
	cthis msetcolor
l6048:
	jmp l6032
l6045:
	push 11
	cmpst
	je l6056
	push 12
	cmpst
	je l6056
	push 20
	cmpst
	je l6056
	push 26
	cmpst
	je l6056
	push 38
	cmpst
	je l6056
	jmp l6055
l6056:
	spop $a
	localdef $3
	cthis activelayer
	pop $3
	push $3
	spushs
	push $1
	push $2
	push 1
	push 0
	spop $a
	call [$a],isin
	cmp0
	je l6058
	push sactpen
	push "pen"
	cmpje
	jmp l6060
l6058:
	push 0
	jmp l6060
l6059:
	push 1
l6060:
	cmp0
	je l6061
	add isubzad,1
	pop isubzad
	call imgpen,getpx
	pop iprevx
	call imgpen,getpy
	pop iprevy
	push 0.0
	pop rpozyczka
	push "draw"
	pop slayeropt
	push $3
	spushs
	push "imgpen"
	spop $a
	call [$a],blit
l6061:
	jmp l6032
l6055:
	push 22
	cmpst
	jne l6062
	spop $a
	push 0
	cthis mactivatelayer
	jmp l6032
l6062:
	push 28
	cmpst
	jne l6063
	spop $a
	push $1
	push $2
	push 0
	push 0
	call anlay1eye,isin
	cmp0
	je l6065
	push 1
	cthis mhide
	add isubzad,1
	pop isubzad
l6065:
	jmp l6032
l6063:
	push 29
	cmpst
	jne l6066
	spop $a
	push $1
	push $2
	push 0
	push 0
	call anlay1eye,isin
	cmp0
	je l6068
	push 1
	cthis mshow
	cthis mnextzad
l6068:
	jmp l6032
l6066:
	push 30
	cmpst
	je l6070
	push 42
	cmpst
	je l6070
	jmp l6069
l6070:
	spop $a
	push 1
	cthis mactivatelayer
	jmp l6032
l6069:
	push 31
	cmpst
	jne l6071
	spop $a
	localdef $3
	cthis activelayer
	pop $3
	push $3
	spushs
	push $1
	push $2
	push 1
	push 0
	spop $a
	call [$a],isin
	cmp0
	je l6073
	push sactpen
	push "erase"
	cmpje
	jmp l6075
l6073:
	push 0
	jmp l6075
l6074:
	push 1
l6075:
	cmp0
	je l6076
	add isubzad,1
	pop isubzad
	call imgpen,getpx
	pop iprevx
	call imgpen,getpy
	pop iprevy
	push 0.0
	pop rpozyczka
	push "erase"
	pop slayeropt
	push $3
	spushs
	push "imgpen"
	spop $a
	call [$a],erase
l6076:
	jmp l6032
l6071:
	push 45
	cmpst
	jne l6077
	spop $a
	push 0
	pop igmstate
	push "Gimp33"
	call ccs,close
	jmp l6032
l6077:
	spop $a
l6032:
	end method
	method Gimp33
	push PrzygodaMode
	cmp0
	je l6079
	push "adsala"
	push "gameadsala2"
	cthis gotoadv
	jmp l6078
l6079:
	push "Menu"
	call gameapi,play
l6078:
	end method
	method mactivatelayer
	localint $1
	pop $1
	push $1
	cthis sgetlayer
	spushs
	call mouse,getpos
	push 0
	push 0
	spop $a
	call [$a],isin
	cmp0
	je l6081
	push $1
	cthis activatelayer
	add isubzad,1
	pop isubzad
l6081:
	end method
	method mouse_move
	push slayeropt
	spushs
	push "draw"
	cmpst
	jne l6083
	spop $a
	cthis activelayer
	spushs
	push "imgpen"
	push iprevx
	push iprevy
	call imgpen,getpx
	call imgpen,getpy
	push 3
	push rpozyczka
	spop $a
	call [$a],imgdrawline
	pop rpozyczka
	jmp l6082
l6083:
	push "erase"
	cmpst
	jne l6084
	spop $a
	cthis activelayer
	spushs
	push "imgpen"
	push iprevx
	push iprevy
	call imgpen,getpx
	call imgpen,getpy
	push 3
	push rpozyczka
	spop $a
	call [$a],imgeraseline
	pop rpozyczka
	jmp l6082
l6084:
	push "level"
	cmpst
	jne l6085
	spop $a
	call mouse,getposx
	call winsuwak,getpx
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	cthis msetlevel
	jmp l6082
l6085:
	spop $a
l6082:
	call imgpen,getpx
	call imgpen,getpy
	pop iprevy
	pop iprevx
	end method
	method mouse_lrel
	push "null"
	pop slayeropt
	push isubzad
	spushs
	push 13
	cmpst
	je l6088
	push 21
	cmpst
	je l6088
	push 32
	cmpst
	je l6088
	jmp l6087
l6088:
	spop $a
	cthis mnextzad
	jmp l6086
l6087:
	push 27
	cmpst
	je l6090
	push 39
	cmpst
	je l6090
	jmp l6089
l6090:
	spop $a
	add isubzad,1
	pop isubzad
	jmp l6086
l6089:
	push 52
	cmpst
	jne l6091
	spop $a
	cthis mchecklevel
	jmp l6086
l6091:
	spop $a
l6086:
	end method
	method mouse_dblclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6093
	ret
l6093:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push isubzad
	spushs
	push 3
	cmpst
	jne l6095
	spop $a
	cthis isonactlayer
	cmp0
	je l6097
	cthis getactlayname
	pop styped
	push styped
	spushs
	spop $a
	call [$a],get
	pop slastname
	push styped
	spushs
	spop $a
	call [$a],enable
l6097:
	jmp l6094
l6095:
	spop $a
l6094:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6099
	push izadanie
	spushs
	push 1
	cmpst
	jne l6101
	spop $a
	push 2
	jmp l6100
l6101:
	push 2
	cmpst
	jne l6102
	spop $a
	push 3
	jmp l6100
l6102:
	push 3
	cmpst
	jne l6103
	spop $a
	push 5
	jmp l6100
l6103:
	push 4
	cmpst
	jne l6104
	spop $a
	push 13
	jmp l6100
l6104:
	push 5
	cmpst
	jne l6105
	spop $a
	push 20
	jmp l6100
l6105:
	spop $a
	push 0
l6100:
	pop isubzad
	cthis mnextzad
l6099:
	end method
	end game

	game Sql
	parent Computro
	method init
	push "sql"
	clparent Computro,init
	push "butgame"
	new GUI,gui
	push "dbl"
	push "txt"
	cthis lang_db
	new vector,vm1
	push "string"
	call vm1,type
	new img,imgbkg
	push iResX
	push iResY
	push 32
	cthis grey
	push 255
	call imgbkg,create
	push "winmain"
	push "null"
	push "maintit"
	cthis mtekst
	push 784
	push 520
	call gui,newwndtitle
	push 400
	call winmain,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 4
	call winmain,winmove
	push "butshow"
	push "pokapoka"
	cthis mtekst
	push 180
	push 25
	call gui,newbutton
	push 800
	push 195
	pop $b
	popax
	sub $a,$b
	push 35
	call butshow,setpos
	call butshow,hide
	push "butprev"
	push "prev"
	cthis mtekst
	push 180
	push 25
	call gui,newbutton
	push 800
	call butshow,getex
	pop $b
	popax
	sub $a,$b
	call butshow,getpy
	call butprev,setpos
	new def,stdfont12
	push 12
	cthis stdfont
	pop stdfont12
	push "dbzad"
	push "zad"
	cthis lang_db
	push "dbsql"
	push "zapytania.db"
	cthis newdb
	push "dbcmp"
	push "zapytania.sql"
	cthis newdb
	new db,dbodp2
	new SQL,dbazy
	cthis getgraphpath
	call dbazy,load
	new db,dbodp
	new int,ilesql
	push 0
	pop ilesql
	new AlgImg,algim
	new int,izadanie
	push 1
	pop izadanie
	new int,izapytanie
	push 0
	pop izapytanie
	cthis mloadzad
	push "Sql0"
	call ccs,enter
	end method
	method Sql0
	push 1
	pop igmstate
	end method
	method mquery
	localstring $1
	pop $1
	localdef $2
	push $1
	call dbazy,query
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	je l6107
	add ilesql,1
	pop ilesql
	call dbodp,free
	push "dbodp"
	call dbazy,copyresult
	call dbodp,getrowsno
	push 30
	cmpja
	cmp0
	je l6109
	push 30
	call dbodp,dbcuttosize
	localint $3
	push 0
	pop $3
l6110:
	push $3
	push 29
	call dbodp,getcolsno
	cmpjl
	cmp0
	je l6111
	jmp l6113
l6112:
	add $3,1
	pop $3
	jmp l6110
l6113:
	push 29
	push $3
	push "..."
	call dbodp,set
	jmp l6112
l6111:
l6109:
	push "winsql"
	push ilesql
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push "dbodp"
	push "center"
	call gui,newsqltable
	push $1
	spushs
	push 510
	spop $a
	call [$a],setz
	push $1
	spushs
	push 400
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winbgtxt,getey
	push 20
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	localdef $4
	push 500
	call winbgtxt,getey
	pop $b
	popax
	sub $a,$b
	pop $4
	localdef $5
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $5
	push "rewsql"
	push ilesql
	pop $b
	popax
	add $a,$b
	push $5
	push 620
	cmpja
	cmp0
	je l6115
	push 100
	jmp l6114
l6115:
	push 400
	push $5
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
l6114:
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $5
	push 620
	cmpja
	cmp0
	je l6117
	push 600
	jmp l6116
l6117:
	push 0
l6116:
	push $1
	spushs
	spop $a
	call [$a],geth
	push $4
	push 10
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l6119
	push $4
	jmp l6118
l6119:
	push 0
l6118:
	push $1
	call gui,newrewinder
	push "rewsql"
	push ilesql
	pop $b
	popax
	add $a,$b
	spushs
	push 500
	spop $a
	call [$a],winsetz
l6107:
	push $2
	end method
	method butshow_lclick
	push GAME
	spushs
	push "tdzad"
	spop $a
	call [$a],hasvar
	cmp0
	je l6121
	cthis mshowtext
l6121:
	end method
	method merror
	localint $1
	pop $1
	push 2
	pop igmstate
	push "winerror"
	push "null"
	push "error"
	cthis mtekst
	push 480
	push 120
	call gui,newwndtitle
	push 400
	call winerror,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 100
	call winerror,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winerror,winmove
	push $1
	cmp0
	je l6123
	push "winerror"
	push 10
	push 40
	push "error1"
	cthis mtekst
	call gui,print
	push "winerror"
	push 10
	push 60
	push "er"
	push $1
	pop $b
	popax
	add $a,$b
	cthis mtekst
	push ": "
	pop $b
	popax
	add $a,$b
	call dbazy,serror
	pop $b
	popax
	add $a,$b
	call gui,print
	jmp l6122
l6123:
	push "winerror"
	push 10
	push 50
	push "error2"
	cthis mtekst
	call gui,print
l6122:
	push "butokerror"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	call winerror,getcx
	call butokerror,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winerror,getey
	push 10
	pop $b
	popax
	sub $a,$b
	call butokerror,geth
	pop $b
	popax
	sub $a,$b
	call butokerror,setpos
	push 600
	call winerror,winsetz
	push 610
	call butokerror,winsetz
	call ttsql,disable
	end method
	method butokerror_lclick
	call butokerror,unclick
	push 1
	pop igmstate
	push A
	push "butokerror"
	push "winerror"
	call gui,dellist
	call ttsql,enable
	cthis mdeltabs
	end method
	method butok_lclick
	call butok,unclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6125
	ret
l6125:
	push A
	push 7
	push 9
	push 11
	push 13
	push 15
	push 17
	push 19
	push 21
	push 23
	push 25
	push 27
	push 29
	push 31
	push 33
	call izadanie,in
	cmp0
	je l6127
	cthis mdeltabs
	localdef $1
	call ttsql,getlines
	pop $1
	localdef $2
	push $1
	cthis mquery
	pop $2
	push $2
	cmp0
	je l6129
	push GAME
	spushs
	push $2
	spop $a
	call [$a],merror
	jmp l6128
l6129:
	push $1
	cthis mquery
	popax
	cthis mgetrow
	call dbazy,query
	popax
	call dbodp2,free
	push "dbodp2"
	call dbazy,copyresult
	push "dbodp2"
	call dbodp,dbeq
	cmp0
	je l6131
	cthis mnextzad
	jmp l6130
l6131:
	push GAME
	spushs
	push 0
	spop $a
	call [$a],merror
l6130:
l6128:
	jmp l6126
l6127:
	cthis mnextzad
l6126:
	end method
	method mgetrow
	localdef $1
	push izapytanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	push $1
	call dbcmp,getcolsno
	pop $2
	localdef $3
	push ""
	pop $3
	localint $4
	push 1
	pop $4
l6132:
	push $4
	push $2
	cmpjl
	cmp0
	je l6133
	jmp l6135
l6134:
	add $4,1
	pop $4
	jmp l6132
l6135:
	push $1
	push $4
	call dbcmp,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l6134
l6133:
	push $3
	end method
	method butprev_lclick
	call butprev,unclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6137
	ret
l6137:
	cthis mprevzad
	end method
	method mtabpos
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,hasvar
	cmp0
	je l6139
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	push $3
	spop $a
	call [$a],winsetallpos
	jmp l6138
l6139:
	push "winsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
l6138:
	end method
	method mtabmove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,hasvar
	cmp0
	je l6141
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	push $3
	spop $a
	call [$a],winmove
l6141:
	push "winsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	end method
	method mhidetxt
	call tdzad,hide
	call wintxt,hide
	call winbgtxt,hide
	call butok,unclick
	call butok,hide
	call butshow,show
	end method
	method mshowtext
	call tdzad,show
	call winbgtxt,show
	call wintxt,show
	call butok,show
	call butshow,unclick
	call butshow,hide
	end method
	method mtekst
	localstring $1
	pop $1
	push $1
	call dbl,findbyrow
	push 1
	call dbl,get
	end method
	method mloadvec
	localstring $1
	pop $1
	localdef $2
	push $1
	call dbl,findbyrow
	pop $2
	call vm1,free
	localint $3
	push 1
	pop $3
l6142:
	push $3
	push $2
	call dbl,getcolsno
	cmpjl
	cmp0
	je l6143
	jmp l6145
l6144:
	add $3,1
	pop $3
	jmp l6142
l6145:
	push $2
	push $3
	call dbl,get
	call vm1,add
	jmp l6144
l6143:
	end method
	method mnextzad
	push izadanie
	call dbzad,getrowsno
	cmpjl
	cmp0
	je l6147
	cthis mendzad
	add izadanie,1
	pop izadanie
	cthis mloadzad
	jmp l6146
l6147:
	push 0
	pop igmstate
	push "Sql1"
	call ccs,close
l6146:
	end method
	method Sql1
	push PrzygodaMode
	cmp0
	je l6149
	push "adbib"
	push "gameadbib2"
	cthis gotoadv
	jmp l6148
l6149:
	push "Menu"
	call gameapi,play
l6148:
	end method
	method mprevzad
	push izadanie
	push 1
	cmpja
	cmp0
	je l6151
	cthis mendzad
	sub izadanie,1
	pop izadanie
	cthis mloadzad
l6151:
	end method
	method mendzad
	cthis mdeltabs
	cthis mdelquery
	end method
	method mdeltabs
	localint $1
	push 1
	pop $1
l6152:
	push $1
	push ilesql
	cmpjle
	cmp0
	je l6153
	jmp l6155
l6154:
	add $1,1
	pop $1
	jmp l6152
l6155:
	push "winsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,delobj
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,hasvar
	cmp0
	je l6157
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,delobj
l6157:
	jmp l6154
l6153:
	push 0
	pop ilesql
	end method
	method mgetpos
	localint $1
	localstring $2
	pop $2
	pop $1
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	call gui,hasvar
	cmp0
	je l6159
	push "rewsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "get"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l6158
l6159:
	push "winsql"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "get"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l6158:
	end method
	method mypos
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	push 1
	pop $3
l6160:
	push $3
	push $1
	cmpjle
	cmp0
	je l6161
	jmp l6163
l6162:
	add $3,1
	pop $3
	jmp l6160
l6163:
	push "winsql"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],geth
	push 20
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push "rewsql"
	push $3
	pop $b
	popax
	add $a,$b
	call gui,hasvar
	cmp0
	je l6165
	push 20
	popax
	add $2,$a
	pop $2
l6165:
	jmp l6162
l6161:
	push $2
	end method
	method mdelquery
	push GAME
	spushs
	spop $a
	call [$a],Sql2
	end method
	method Sql2
	push "tdsql"
	cthis hasvar
	cmp0
	je l6167
	push "tdsql"
	cthis deletegmobj
	push A
	push "ttsql"
	push "buthelp"
	call gui,dellist
l6167:
	end method
	method mloadquerry
	cthis mdelquery
	push stdfont12
	push 12
	push "$row:dbsql,"
	push izapytanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	cthis white
	push 9
	push 566
	push 2
	push 100
	push "left"
	new TextDb,tdsql
	push "ttsql"
	cthis allchars
	push 600
	push 140
	call gui,newtextbox
	push 100
	push 360
	call ttsql,winmove
	push "buthelp"
	push "help"
	cthis mtekst
	push 80
	push 30
	call gui,newbutton
	call ttsqlwnd,getcx
	call buthelp,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call ttsqlwnd,getey
	push 4
	pop $b
	popax
	add $a,$b
	call buthelp,setpos
	end method
	method ttsql_activate
	call tdzad,getz
	push 100
	pop $b
	popax
	add $a,$b
	call ttsql,winsetz
	call ttsql,getz
	call buthelp,winsetz
	call butok,lock
	end method
	method ttsql_OUTSIDE
	call mouse,getpos
	push 0
	push 0
	call buthelp,isin
	neg
	cmp0
	je l6169
	push 5
	call ttsql,winsetz
	call ttsql,getz
	call buthelp,winsetz
	call ttsql,deactivate
	call butok,unlock
l6169:
	end method
	method buthelp_lclick
	call buthelp,unclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6171
	ret
l6171:
	localdef $1
	push izapytanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	call ttsql,clear
	localint $2
	push 1
	pop $2
l6172:
	push $2
	push $1
	call dbcmp,getcolsno
	cmpjl
	cmp0
	je l6173
	jmp l6175
l6174:
	add $2,1
	pop $2
	jmp l6172
l6175:
	push $1
	push $2
	call dbcmp,get
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call ttsql,setid
	jmp l6174
l6173:
	end method
	method mloadzad
	push GAME
	spushs
	spop $a
	call [$a],Sql3
	end method
	method Sql3
	push "tdzad"
	cthis hasvar
	cmp0
	je l6177
	push "tdzad"
	cthis deletegmobj
	push A
	push "wintxt"
	push "winbgtxt"
	push "butok"
	call gui,dellist
l6177:
	push igmdebug
	cmp0
	je l6179
	push "zad"
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbzad,load
l6179:
	push stdfont12
	push 12
	push "$row:dbzad,"
	push izadanie
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	cthis black
	push 0
	push 0
	push 2
	push 200
	push "left"
	new TextDb,tdzad
	push "wintxt"
	call tdzad,getw
	push 8
	pop $b
	popax
	add $a,$b
	call tdzad,geth
	push 8
	pop $b
	popax
	add $a,$b
	call gui,newwndtext
	push "winbgtxt"
	call wintxt,getw
	push 8
	pop $b
	popax
	add $a,$b
	call wintxt,geth
	push 50
	pop $b
	popax
	add $a,$b
	call gui,newwnd
	push 100
	call winbgtxt,setz
	call winbgtxt,getz
	push 10
	pop $b
	popax
	add $a,$b
	call wintxt,setz
	push "butok"
	push "OK"
	push 80
	push 30
	call gui,newbutton
	call wintxt,getz
	push 10
	pop $b
	popax
	add $a,$b
	call butok,winsetz
	push 400
	call winbgtxt,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 70
	call winbgtxt,setpos
	call winbgtxt,getcx
	call butok,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call winbgtxt,getey
	push 10
	pop $b
	popax
	sub $a,$b
	call butok,geth
	pop $b
	popax
	sub $a,$b
	call butok,setpos
	call winbgtxt,getpx
	push 4
	pop $b
	popax
	add $a,$b
	call winbgtxt,getpy
	push 4
	pop $b
	popax
	add $a,$b
	call wintxt,setpos
	call wintxt,getpx
	push 4
	pop $b
	popax
	add $a,$b
	call wintxt,getpy
	push 4
	pop $b
	popax
	add $a,$b
	call tdzad,move
	cthis mshowtext
	push izadanie
	spushs
	push 7
	cmpst
	je l6182
	push 9
	cmpst
	je l6182
	push 11
	cmpst
	je l6182
	push 13
	cmpst
	je l6182
	push 15
	cmpst
	je l6182
	push 17
	cmpst
	je l6182
	push 19
	cmpst
	je l6182
	push 21
	cmpst
	je l6182
	push 23
	cmpst
	je l6182
	push 25
	cmpst
	je l6182
	push 27
	cmpst
	je l6182
	push 29
	cmpst
	je l6182
	push 31
	cmpst
	je l6182
	push 33
	cmpst
	je l6182
	jmp l6181
l6182:
	spop $a
	push izadanie
	push 5
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop izapytanie
	jmp l6180
l6181:
	push 8
	cmpst
	je l6184
	push 10
	cmpst
	je l6184
	push 12
	cmpst
	je l6184
	push 14
	cmpst
	je l6184
	push 16
	cmpst
	je l6184
	push 18
	cmpst
	je l6184
	push 20
	cmpst
	je l6184
	push 22
	cmpst
	je l6184
	push 24
	cmpst
	je l6184
	push 26
	cmpst
	je l6184
	push 28
	cmpst
	je l6184
	push 30
	cmpst
	je l6184
	push 32
	cmpst
	je l6184
	push 34
	cmpst
	je l6184
	jmp l6183
l6184:
	spop $a
	push izadanie
	push 6
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop izapytanie
	jmp l6180
l6183:
	spop $a
l6180:
	push izadanie
	spushs
	push 2
	cmpst
	jne l6186
	spop $a
	push "select * from wol1;"
	cthis mquery
	popax
	jmp l6185
l6186:
	push 3
	cmpst
	je l6188
	push 4
	cmpst
	je l6188
	jmp l6187
l6188:
	spop $a
	push "select * from wol2;"
	cthis mquery
	popax
	jmp l6185
l6187:
	push 5
	cmpst
	je l6190
	push 6
	cmpst
	je l6190
	jmp l6189
l6190:
	spop $a
	push "select * from autor where nazwisko = 'christa';"
	cthis mquery
	popax
	push "select * from wydawca where nazwa = 'egmont';"
	cthis mquery
	popax
	push 2
	push 0
	push 1
	cthis mypos
	cthis mtabmove
	push "select * from wolumin where id = 1 or id = 2;"
	cthis mquery
	popax
	push 3
	push 0
	push 2
	cthis mypos
	cthis mtabmove
	jmp l6185
l6189:
	push 7
	cmpst
	je l6192
	push 9
	cmpst
	je l6192
	push 11
	cmpst
	je l6192
	push 13
	cmpst
	je l6192
	push 15
	cmpst
	je l6192
	push 17
	cmpst
	je l6192
	push 19
	cmpst
	je l6192
	push 21
	cmpst
	je l6192
	push 23
	cmpst
	je l6192
	push 25
	cmpst
	je l6192
	push 27
	cmpst
	je l6192
	push 29
	cmpst
	je l6192
	push 31
	cmpst
	je l6192
	push 33
	cmpst
	je l6192
	jmp l6191
l6192:
	spop $a
	cthis mloadquerry
	jmp l6185
l6191:
	push 8
	cmpst
	je l6194
	push 10
	cmpst
	je l6194
	push 12
	cmpst
	je l6194
	push 14
	cmpst
	je l6194
	push 16
	cmpst
	je l6194
	push 18
	cmpst
	je l6194
	push 20
	cmpst
	je l6194
	push 22
	cmpst
	je l6194
	push 24
	cmpst
	je l6194
	push 26
	cmpst
	je l6194
	push 28
	cmpst
	je l6194
	push 30
	cmpst
	je l6194
	push 32
	cmpst
	je l6194
	push 34
	cmpst
	je l6194
	jmp l6193
l6194:
	spop $a
	cthis mviewquery
	jmp l6185
l6193:
	spop $a
l6185:
	end method
	method mviewquery
	cthis mgetrow
	cthis mquery
	popax
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6196
	cthis butok_lclick
l6196:
	end method
	end game

	game Info
	parent Computro
	method init
	push "info"
	clparent Computro,init
	push "bkg.pyz"
	cthis img=
	push "butgame"
	new GUI,gui
	push A
	push "sndgo1"
	push "Dzisiejszy wiat zalewaj informacje; Codziennie niezliczone wiadomoci pyn do nas z telewizora radia i internetu; Czy jestemy przygotowani na taki natok informacji? Zobaczmy jak y pierwotny czowiek"
	push "mnext"
	push "snd1"
	push "Cae ycie otaczaa go przyroda; Jedynym nonikiem informacji by drugi czowiek z ktrym czsto porozumiewa si bez sw"
	push "mnext"
	push "snd2"
	push "Ludzie yli w maych spoecznociach a starsi przekazywali modym wiedz; Wiedzy tej nie spisywano wic czsto gina wraz ze mierci dowiadczonych osobnikw"
	push "mnext"
	push "snd3"
	push "Duo waniejsza od posiadanej wiedzy bya dla przecitnego czowieka zrczno; Od tego czy rozpali ogie upoluje zwierz lub umknie drapienikowi zaleao jego przeycie"
	push "mnext"
	push "snd4"
	push "Przez tysice lat ycie ludzi biego podobnie"
	push "mnext"
	push "sndgo2"
	push "Z czasem w ciepych suchych rejonach Ziemi na yznych terenach wzdu rzek powstay due skupiska ludzi"
	push "mnext"
	push "snd5"
	push "Ludzie zaczli gromadzi wiedz i stworzyli pierwsze cywilizacje zdolne do budowania skomplikowanych konstrukcji"
	push "mnext"
	push "snd6"
	push "Ludzka pami nie wystarczaa do zachowania odkry technicznych i matematycznych"
	push "mnext"
	push "snd7"
	push "Dlatego ludzie wymylili pismo; Pierwsi skrybowie uwaani byli za wielkich czarownikw; Zwykli ludzie nie mogli poj jak mona przechowywa wiedz na papirusie lub glinianej tabliczce"
	push "mnext"
	push "snd8"
	push "Przez dugi czas litery traktowano jak magiczne znaki; Tymczasem byy to proste rysunki odwzorowujce realne pojcia; Czsto jeden rysunek mia wiele pokrewnych znacze"
	push "mnext"
	push "snd9"
	push "Z czasem znaki upraszczano; Pismo rozpowszechniao si i coraz wiksza ilo informacji przechodzia na nastpne pokolenia"
	push "Info0"
	push "sndgo3"
	push "Lecz jeszcze niespena 300 lat temu przecitny czowiek przeczyta przez cae swoje ycie mniej informacji ni zawiera jedno wydanie dzisiejszego oglnokrajowego dziennika"
	push "mnext"
	push "snd10"
	push "Zdecydowana wikszo ludzi ya na wsi i mao kto opuszcza kiedykolwiek rodzinne strony"
	push "mnext"
	push "snd11"
	push "Wielkie zmiany nadeszy wraz z rewolucj przemysow pod koniec 18 wieku"
	push "mnext"
	push "snd12"
	push "Wynalezienie maszyny parowej umoliwio masowe przemieszczanie ludzi najpierw po Europie pniej po caej kuli ziemskiej"
	push "mnext"
	push "snd13"
	push "Pojawia si buruazja; Klasa przedsibiorcw zamieszkujcych due miasta"
	push "mnext"
	push "sndgo4"
	push "Zjawiska te day pocztek nowemu porzdkowi spoecznemu Kapitalizmowi a wraz z nim nowej gazi nauki Ekonomii"
	push "mnext"
	push "snd14"
	push "Dawniej uczeni formowali rne niesprawdzalne teorie czsto na pograniczu mistyki i religii"
	push "mnext"
	push "snd15"
	push "Wraz z rewolucj przemysow rozwija si jednak nowy typ naukowca; Wolnego od ideologii i szukajcego potwierdzenia swoich teorii w cisych obserwacjach przyrody"
	push "mnext"
	push "snd16"
	push "Jego praca wizaa si z wykonywaniem niezliczonych pomiarw i wymagaa coraz bardziej rozbudowanego aparatu matematycznego"
	push "mnext"
	push "snd17"
	push "Ilo odkry i wiedza o wiecie rosa tak szybko e aby normalnie funkcjonowa w spoeczestwie wszystkie dzieci musiay zacz chodzi do szkoy"
	push "mnext"
	push "sndgo5"
	push "Dzisiaj dzienna dawka informacji ktr przetwarza pojedynczy czowiek jest wiksza ni kiedykolwiek; Czy nasze organizmy przystosowane przez prawie ca histori gatunku ludzkiego do ycia pord przyrody wytrzymaj takie natenie?"
	push "mnext"
	cthis sounds=
	new int,iscena
	push 1
	pop iscena
	new int,ishow
	push 0
	pop ishow
	new int,iwav
	push 1
	pop iwav
	new gmimgvec,grels
	cthis mloadscene
	end method
	method Info0
	cthis mnext
	cthis mshow
	end method
	method mloadscene
	call grels,deleteallgm
	call grels,free
	push "grels"
	push "scena"
	push iscena
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	call grels,hide
	push 0
	pop ishow
	cthis mshow
	push "sndgo"
	push iscena
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mshow
	push ishow
	call grels,get
	spushs
	spop $a
	call [$a],show
	add ishow,1
	pop ishow
	end method
	method mnext
	push GAME
	spushs
	spop $a
	call [$a],Info1
	end method
	method Info1
	push ishow
	call grels,size
	cmpjae
	cmp0
	je l6198
	add iscena,1
	pop iscena
	push iscena
	push 5
	cmpja
	cmp0
	je l6200
	push GAME
	spushs
	spop $a
	call [$a],mplay
	jmp l6199
l6200:
	cthis mloadscene
l6199:
	jmp l6197
l6198:
	cthis mshow
	push "snd"
	push iwav
	pop $b
	popax
	add $a,$b
	cthis cbplay
	add iwav,1
	pop iwav
l6197:
	end method
	method mplay
	push "Info2"
	call ccs,close
	end method
	method Info2
	push "adaula"
	push "gameadaula0"
	cthis gotoadv
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l6202
	push 1
	cthis cactsndstop
l6202:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6204
	call clpause,pause
l6204:
	end method
	end game

	game Logika
	parent Computro
	method init
	push "logika"
	clparent Computro,init
	push "bg.pyz"
	cthis img=
	new int,izadanie
	push 1
	pop izadanie
	push A
	push "sndgo"
	push "Klikaj na czarnych przewodach w taki sposb by przyjy poprawny kolor"
	push "Logika0"
	push "snd1"
	push "Po lewej stronie widzisz jaki kolor powstaje w wyniku mieszania w odpowiednich bramkach"
	push "mstart"
	cthis sounds=
	new gmimgvec,grels
	cthis mloadzad
	push "Logika1"
	call ccs,enter
	end method
	method Logika0
	push "snd1"
	cthis cbplay
	end method
	method Logika1
	push "sndgo"
	cthis cbplay
	end method
	method mstart
	push 1
	pop igmstate
	end method
	method mloadzad
	call grels,deleteallgm
	call grels,free
	push "grels"
	push "zad"
	push izadanie
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l6206
	push 1
	cthis cactsndstop
l6206:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6208
	ret
l6208:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l6210
	call grels,getfound
	push 0
	cmpja
	jmp l6212
l6210:
	push 0
	jmp l6212
l6211:
	push 1
l6212:
	cmp0
	je l6213
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	push "mblue"
	cthis miscol
	cmp0
	je l6215
	push $1
	spushs
	cthis red
	push 255
	push 0
	spop $a
	call [$a],paint
	jmp l6214
l6215:
	push $1
	spushs
	cthis mblue
	push 255
	push 0
	spop $a
	call [$a],paint
l6214:
	localint $2
	push 1
	pop $2
l6216:
	push $2
	call grels,size
	cmpjl
	cmp0
	je l6217
	jmp l6219
l6218:
	add $2,1
	pop $2
	jmp l6216
l6219:
	push $2
	call grels,get
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],framename
	cthis mgetcol
	cthis miscol
	neg
	cmp0
	je l6221
	ret
l6221:
	jmp l6218
l6217:
	push izadanie
	push 8
	cmpjl
	cmp0
	je l6223
	add izadanie,1
	pop izadanie
	cthis mloadzad
	jmp l6222
l6223:
	push 15
	pop igmstate
	push "Logika2"
	call ccs,close
l6222:
l6213:
	end method
	method Logika2
	push "adsala"
	push "gameadsala0"
	cthis gotoadv
	end method
	method mouse_move
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l6225
	call grels,getfound
	push 0
	cmpja
	jmp l6227
l6225:
	push 0
	jmp l6227
l6226:
	push 1
l6227:
	cmp0
	je l6228
	call bsms,isstd
	cmp0
	je l6230
	call bsms,setact
l6230:
	jmp l6224
l6228:
	call bsms,isact
	cmp0
	je l6232
	call bsms,setstd
l6232:
l6224:
	end method
	method mgetcol
	localint $1
	pop $1
	push $1
	cmp0
	je l6234
	push "mblue"
	jmp l6233
l6234:
	push "red"
l6233:
	end method
	method mblue
	push 69
	push 170
	push 255
	ret
	end method
	method miscol
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgb
	pop $5
	pop $4
	pop $3
	push $2
	spushs
	spop $d
	cthis [$d]
	pop $8
	pop $7
	pop $6
	push $3
	push $6
	cmpje
	cmp0
	je l6235
	push $4
	push $7
	cmpje
	cmp0
	je l6235
	push $5
	push $8
	cmpje
	jmp l6237
l6235:
	push 0
	jmp l6237
l6236:
	push 1
l6237:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6239
	add izadanie,1
	pop izadanie
	cthis mloadzad
l6239:
	end method
	end game

	new db,dbTurniej
	new int,TurniejLevel
	game Turniej
	parent Computro
	method init
	push "turniej"
	clparent Computro,init
	call advmouse,setstd
	push 1
	push "TurniejLevel"
	call clsave,get
	pop $b
	popax
	add $a,$b
	pop TurniejLevel
	push A
	push ":ania1"
	push "Co teraz? Te roboty nie przejawiaj przyjacielskich zamiarw"
	push "Turniej0"
	push ":fel1"
	push "Wszdzie walaj si jakie czci; Zbudujemy nasze roboty; Pomoesz nam Zak?"
	push "Turniej1"
	push ":zak1"
	push "Jasne; Znam co nieco te podzespoy; Najpierw poszukajmy bateri"
	push "Turniej2"
	push ":ania2"
	push "Mam bateri; Chyba wiem o co chodzi"
	push "Turniej3"
	push ":ania3"
	push "Kady element robota zabiera kawaek mocy baterii; Musimy zoy robota ktry stanie do walki"
	push "Turniej4"
	push ":zak2"
	push "Czytajcie opisy urzdze i zcie zwyciskiego robota"
	push "mstart"
	push ":ania4"
	push "Robot gotowy do pojedynku"
	push "null"
	push ":ania8"
	push "Robotowi brakuje mocy obliczeniowej"
	push "null"
	push ":ania9"
	push "Robot zuywa za duo energii"
	push "null"
	cthis sounds=
	push A
	push "bkg.pyz"
	push "robocorps.pyz 30"
	push "ikoi.pyz 50"
	push "ikoe.pyz 50"
	cthis imgs=
	push 0
	push 5
	call anikoi,move
	push 0
	push 5
	call anikoe,move
	new gmimgvec,grszuf
	push "grszuf"
	push "szuf.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grszufw
	push "grszufw"
	push "szufw.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grszufw,hide
	new gmimgvec,grobo
	push "grobo"
	push "robo.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 60
	call grobo,setz
	call grobo,hide
	new img,anitem
	push 100
	call anitem,setz
	push A
	push "szuflada"
	push "null"
	push "sobject"
	push "null"
	call anitem,vars2
	new font,fncyf
	push "configs/fonts/ala.ttf"
	push 14
	call fncyf,load
	push "txti"
	push ""
	push "fncyf"
	cthis micol
	cthis newtext
	push "txte"
	push ""
	push "fncyf"
	cthis mecol
	cthis newtext
	call anikoi,getcx
	push 5
	pop $b
	popax
	add $a,$b
	call anikoi,getcy
	call txti,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txti,setpos
	call anikoe,getcx
	push 5
	pop $b
	popax
	add $a,$b
	call anikoe,getcy
	call txte,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txte,setpos
	new int,Energy
	new int,Armor
	new int,Speed
	new int,Power
	new int,Supply
	new int,Inteligence
	new string,stdfont12
	push 12
	cthis stdfont
	pop stdfont12
	new int,istdfont
	push 12
	pop istdfont
	new string,slasthelp
	push "null"
	pop slasthelp
	push "dbwsp"
	push "wspolczynniki.db"
	cthis newdb
	push "dblev"
	push "levele.db"
	cthis newdb
	push "dblevel"
	push "level"
	cthis lang_db
	new db,dbl
	push "dblevel"
	call dbl,dbcopy
	push 0
	call dbl,dbremovecol
	new ConImgMover,cmov
	push "butgame"
	new GUI,gui
	call anrobocorps,Button_isin
	call anrobocorps,Button_moveoffms
	push "butmoveon"
	push "Turniej5"
	call anrobocorps,addmethod
	push "anrobocorps"
	call butgame,add
	push A
	push "shead"
	push "null"
	push "sarmor"
	push "null"
	push "shand"
	push "null"
	push "seyes"
	push "null"
	push "srhand"
	push "null"
	push "swheels"
	push "null"
	call anrobocorps,vars2
	new int,ilevel
	push TurniejLevel
	pop ilevel
	cthis msetlevel
	new string,sactszuf
	push "null"
	pop sactszuf
	push "Turniej6"
	call grobo,eval
	push "grobo"
	call butgame,addgroup
	push "Turniej8"
	call grszuf,eval
	localdef $1
	localdef $2
	localdef $3
	localint $4
	push 0
	pop $4
l6254:
	push $4
	call grobo,size
	cmpjl
	cmp0
	je l6255
	jmp l6257
l6256:
	add $4,1
	pop $4
	jmp l6254
l6257:
	push $4
	call grobo,get
	pop $1
	push "gr"
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],framenr
	spop $a
	call [$a],get
	pop $2
	push $1
	spushs
	push $2
	spop $a
	call [$a],sobject=
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],szuflada=
	push $2
	spushs
	push "srobo"
	push $1
	spop $a
	call [$a],var2
	jmp l6256
l6255:
	push "grszuf"
	call butgame,addgroup
	push "butgo"
	push "start"
	call dblevel,findbyrow
	push 1
	call dblevel,get
	push 110
	push 25
	call gui,newbutton
	push 100
	call butgo,setz
	push iResX
	call butgo,getw
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	push 4
	call butgo,setpos
	push "intro"
	cthis mprinthelp
	push "Turniej15"
	call ccs,enter
	end method
	method Turniej0
	push "fel1"
	cthis cbplay
	end method
	method Turniej1
	push "zak1"
	cthis cbplay
	end method
	method Turniej2
	push "ania2"
	cthis cbplay
	end method
	method Turniej3
	push "ania3"
	cthis cbplay
	end method
	method Turniej4
	push "zak2"
	cthis cbplay
	end method
	method Turniej5
	call advmouse,setexit
	end method
	method Turniej6
	cthis Button_isinalpha
	cthis Button_moveoffms
	cthis Button_moveonms
	push "butclick"
	push "Turniej7"
	cthis addmethod
	push "butlrel"
	push "mcheckput"
	cthis addmethod
	push A
	push "sitem"
	push "null"
	push "szuflada"
	push "null"
	push "sobject"
	push "null"
	cthis vars2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	cmpje
	cmp0
	je l6245
	push 20
	cthis setz
l6245:
	end method
	method Turniej7
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6241
	ret
l6241:
	cthis getname
	call anitem,clone
	push 100
	call anitem,setz
	push sobject
	call anitem,sobject=
	push szuflada
	call anitem,szuflada=
	push "anitem"
	call cmov,mssetobj
	cthis hide
	push sobject
	push "anszarmor3"
	cmpje
	cmp0
	je l6243
	call anrobocorps,srhand
	cthis mgetrobo
	push "null"
	call anrobocorps,srhand=
	jmp l6242
l6243:
	push "s"
	push szuflada
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	call anrobocorps,[$d]
	cthis mgetrobo
	push "s"
	push szuflada
	pop $b
	popax
	add $a,$b
	push "="
	pop $b
	popax
	add $a,$b
	spushs
	push "null"
	spop $d
	call anrobocorps,[$d]
l6242:
	end method
	method Turniej8
	push 15
	cthis setz
	push GAME
	spushs
	cthis getname
	spop $a
	call [$a],Turniej9
	cthis Button_std
	push "butclick"
	push "Turniej14"
	cthis addmethod
	end method
	method Turniej9
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $1
	localdef $2
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new gmimgvec,[$e]
	push $2
	push "sz"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $2
	spushs
	push 20
	spop $a
	call [$a],setz
	push $2
	spushs
	push "Turniej10"
	push $1
	spop $a
	call [$a],eval1
	push $2
	call butgame,addgroup
	push $2
	spushs
	spop $a
	call [$a],hide
	end method
	method Turniej10
	localdef $1
	pop $1
	cthis Button_isin
	push "butmoveon"
	push "Turniej11"
	cthis addmethod
	push "butmoveoff"
	push "Turniej12"
	cthis addmethod
	push "butclick"
	push "Turniej13"
	cthis addmethod
	push "butlrel"
	push "mcheckput"
	cthis addmethod
	localdef $2
	push $1
	call dbwsp,findbyrow
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $b
	popax
	add $a,$b
	pop $2
	push A
	push "szuflada"
	push $1
	push "energy"
	push $2
	push 2
	call dbwsp,get
	spushs
	spop $h
	call $h,to_i
	push "inteligence"
	push $2
	push 3
	call dbwsp,get
	spushs
	spop $h
	call $h,to_i
	push "armor"
	push $2
	push 4
	call dbwsp,get
	spushs
	spop $h
	call $h,to_i
	push "speed"
	push $2
	push 5
	call dbwsp,get
	spushs
	spop $h
	call $h,to_i
	push "power"
	push $2
	push 6
	call dbwsp,get
	spushs
	spop $h
	call $h,to_i
	cthis vars2
	end method
	method Turniej11
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6247
	ret
l6247:
	cthis framenr
	push 2
	cmpjl
	cmp0
	je l6249
	call advmouse,setbut
l6249:
	push sactszuf
	push "_"
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $b
	popax
	add $a,$b
	cthis mprinthelp
	end method
	method Turniej12
	call advmouse,setstd
	push "intro"
	cthis mprinthelp
	end method
	method Turniej13
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6251
	ret
l6251:
	cthis framenr
	push 0
	cmpje
	cmp0
	je l6253
	cthis getname
	call anitem,clone
	push 100
	call anitem,setz
	cthis getname
	call anitem,sobject=
	push sactszuf
	call anitem,szuflada=
	push "anitem"
	call cmov,mssetobj
	push 1
	popax
	sub 0,$a
	push 2
	cthis setframe
l6253:
	end method
	method Turniej14
	push GAME
	spushs
	cthis actionname
	spop $a
	call [$a],mwysun
	end method
	method Turniej15
	push "pogadali_wstep_do_turnieju"
	call clsave,bis
	neg
	cmp0
	je l6259
	push "pogadali_wstep_do_turnieju"
	call clsave,bset
	push "ania1"
	cthis cbplay
	jmp l6258
l6259:
	cthis mstart
l6258:
	end method
	method mstart
	push 1
	pop igmstate
	end method
	method mcheckput
	call cmov,moving
	cmp0
	je l6261
	call cmov,free
	call anitem,hide
	push "null"
	call butgame,sclicked=
	call mouse,getpos
	push 1
	push 0
	call anrobocorps,isin
	cmp0
	je l6263
	localdef $1
	call anitem,sobject
	pop $1
	localdef $2
	call anitem,szuflada
	pop $2
	push $1
	push "anszarmor3"
	cmpje
	cmp0
	je l6265
	push $1
	call anrobocorps,srhand=
	jmp l6264
l6265:
	push "s"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	call anrobocorps,[$d]
	cthis mremrobo
	push "s"
	push $2
	pop $b
	popax
	add $a,$b
	push "="
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	call anrobocorps,[$d]
l6264:
	push $1
	cthis maddrobo
	jmp l6262
l6263:
	call anitem,sobject
	cthis mretitem
l6262:
l6261:
	end method
	method micol
	push 255
	push 255
	push 25
	ret
	end method
	method mecol
	push 25
	push 255
	push 25
	ret
	end method
	method merrcol
	push 255
	push 25
	push 25
	ret
	end method
	method mupdate
	push Inteligence
	push Inteligence
	push 0
	cmpjae
	cmp0
	je l6267
	cthis micol
	jmp l6266
l6267:
	cthis merrcol
l6266:
	call txti,txtsetcol
	push Energy
	push Energy
	push 0
	cmpjae
	cmp0
	je l6269
	cthis mecol
	jmp l6268
l6269:
	cthis merrcol
l6268:
	call txte,txtsetcol
	end method
	method maddrobo
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],srobo
	spushs
	spop $a
	call [$a],show
	push $1
	push 1
	cthis mupdateei
	end method
	method mgetrobo
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l6271
	push $1
	spushs
	spop $a
	call [$a],srobo
	spushs
	spop $a
	call [$a],hide
	push $1
	push 1
	popax
	sub 0,$a
	cthis mupdateei
l6271:
	end method
	method mremrobo
	localstring $1
	pop $1
	push $1
	cthis mgetrobo
	push $1
	push "null"
	cmpjne
	cmp0
	je l6273
	push $1
	cthis mretitem
l6273:
	end method
	method mupdateei
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l6275
	push $2
	push $1
	spushs
	spop $a
	call [$a],energy
	pop $b
	popax
	mul $a,$b
	popax
	add Energy,$a
	pop Energy
	push $2
	push $1
	spushs
	spop $a
	call [$a],inteligence
	pop $b
	popax
	mul $a,$b
	popax
	add Inteligence,$a
	pop Inteligence
	push $2
	push $1
	spushs
	spop $a
	call [$a],armor
	pop $b
	popax
	mul $a,$b
	popax
	add Armor,$a
	pop Armor
	push $2
	push $1
	spushs
	spop $a
	call [$a],speed
	pop $b
	popax
	mul $a,$b
	popax
	add Speed,$a
	pop Speed
	push $2
	push $1
	spushs
	spop $a
	call [$a],power
	pop $b
	popax
	mul $a,$b
	popax
	add Power,$a
	pop Power
	cthis mupdate
	cthis mcheckpower
l6275:
	end method
	method msetlevel
	push ilevel
	push 0
	call dblev,get
	pop Energy
	push Energy
	pop Supply
	push 4
	pop Armor
	push 0
	pop Speed
	push 1
	pop Power
	push 0
	pop Inteligence
	cthis mupdate
	end method
	method mcheckpower
	push sactszuf
	push "null"
	cmpjne
	cmp0
	je l6277
	push "gr"
	push sactszuf
	pop $b
	popax
	add $a,$b
	spushs
	push "Turniej16"
	spop $a
	call [$a],eval
l6277:
	end method
	method Turniej16
	cthis framenr
	push 2
	cmpjl
	cmp0
	je l6279
	cthis msetpower
l6279:
	end method
	method msetpower
	push 1
	popax
	sub 0,$a
	push Energy
	push energy
	pop $b
	popax
	add $a,$b
	push 0
	cmpjl
	cmp0
	jne l6281
	push Inteligence
	push inteligence
	pop $b
	popax
	add $a,$b
	push 0
	cmpjl
	jmp l6282
l6280:
	push 0
	jmp l6282
l6281:
	push 1
l6282:
	cthis setframe
	end method
	method mretitem
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],msetpower
	end method
	method mwysun
	localstring $1
	pop $1
	push $1
	push sactszuf
	cmpje
	cmp0
	je l6284
	cthis mwsun
	ret
l6284:
	cthis mwsun
	push $1
	pop sactszuf
	push $1
	call grszufw,getsac
	spushs
	spop $a
	call [$a],show
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	cthis mcheckpower
	end method
	method mwsun
	push sactszuf
	push "null"
	cmpjne
	cmp0
	je l6286
	push "gr"
	push sactszuf
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push sactszuf
	call grszufw,getsac
	spushs
	spop $a
	call [$a],hide
	push "null"
	pop sactszuf
l6286:
	end method
	method mprinthelp
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],Turniej17
	end method
	method Turniej17
	localdef $1
	pop $1
	push slasthelp
	push $1
	cmpje
	cmp0
	je l6288
	ret
l6288:
	push $1
	pop slasthelp
	push "tdzad"
	cthis hasvar
	cmp0
	je l6290
	push "tdzad"
	cthis deletegmobj
l6290:
	push stdfont12
	push 12
	push "$row:dbl,"
	push $1
	call dblevel,findbyrow
	pop $b
	popax
	add $a,$b
	push 32
	cthis grey
	push 13
	push 514
	push 2
	push 200
	push "left"
	new TextDb,tdzad
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l6292
	push 1
	cthis cactsndstop
l6292:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6294
	ret
l6294:
	localdef $1
	call butgame,sclicked
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l6296
	cthis mwsun
l6296:
	end method
	method mcopywsp
	call dbTurniej,free
	call dbTurniej,addrow
	popax
	push 0
	push "null"
	call dbTurniej,add
	localdef $1
	localint $2
	push 0
	pop $2
l6297:
	push $2
	call grobo,size
	cmpjl
	cmp0
	je l6298
	jmp l6300
l6299:
	add $2,1
	pop $2
	jmp l6297
l6300:
	push $2
	call grobo,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l6302
	push 0
	push $1
	spushs
	spop $a
	call [$a],actionname
	call dbTurniej,add
	push 0
	push $1
	spushs
	spop $a
	call [$a],framenr
	call dbTurniej,add
l6302:
	jmp l6299
l6298:
	push "saves/dbTurniej"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbTurniej,save
	end method
	method butgo_lclick
	call butgo,unclick
	push Inteligence
	push 0
	cmpjl
	cmp0
	je l6304
	push "ania8"
	cthis cbplay
	ret
	jmp l6303
l6304:
	push Energy
	push 0
	cmpjl
	cmp0
	je l6306
	push "ania9"
	cthis cbplay
	ret
l6306:
l6303:
	push 3
	pop igmstate
	push "ania4"
	push "sndakskermovon"
	push "sndakskermovon"
	push "Turniej18"
	push "Turniej19"
	call claskexit,ask
	end method
	method Turniej18
	push GAME
	spushs
	spop $a
	call [$a],mcopywsp
	push "Turniejvs"
	call gameapi,play
	end method
	method Turniej19
	push 1
	pop igmstate
	end method
	end game

	game Turniejvs
	parent Computro
	method init
	push 1
	push "TurniejLevel"
	call clsave,get
	pop $b
	popax
	add $a,$b
	pop TurniejLevel
	push "saves/dbTurniej"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbTurniej,load
	push "turniejvs"
	clparent Computro,init
	push "turniej"
	cthis path=
	call advmouse,setstd
	push "dbl"
	push "vs.db"
	cthis newdb
	push A
	push "bgvs.pyz"
	push "robocorps.pyzH"
	push "robo.pyzH"
	push "vsnr.pyz 5"
	cthis imgs=
	push 0
	push TurniejLevel
	push 1
	pop $b
	popax
	sub $a,$b
	call anvsnr,setframe
	new img,imr1
	push 500
	push 600
	cthis transparent
	call imr1,create
	push iResX
	call imr1,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call imr1,setpos
	new img,imr2
	push 500
	push 600
	cthis transparent
	call imr2,create
	push iResX
	call imr2,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call imr2,setpos
	push "imr1"
	push "dbl"
	push TurniejLevel
	cthis mkrob
	new filter,ftrob
	push "imr1"
	call ftrob,link
	push 1
	push 0
	call ftrob,reversexy
	push 0
	call imr1,getpy
	call imr1,setpos
	push "imr2"
	push "dbTurniej"
	push 0
	cthis mkrob
	push "timfight"
	push 4000
	push "Turniejvs0"
	cthis timer=
	call timfight,play
	end method
	method Turniejvs0
	push "Turniejvs1"
	call ccs,close
	end method
	method Turniejvs1
	push "Arena"
	call gameapi,play
	end method
	method mkrob
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "anrobocorps"
	spop $a
	call [$a],blit
	localdef $4
	localint $5
	push 1
	pop $5
l6307:
	push $5
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l6308
	jmp l6310
l6309:
	push 2
	popax
	add $5,$a
	pop $5
	jmp l6307
l6310:
	push $2
	spushs
	push $3
	push $5
	spop $a
	call [$a],get
	push $2
	spushs
	push $3
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	call anrobo,setframe
	push $1
	spushs
	push "anrobo"
	spop $a
	call [$a],blit
	jmp l6309
l6308:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l6312
	push 1
	call timfight,stop
l6312:
	end method
	end game

	game Arena
	parent Computro
	method init
	push 1
	push "TurniejLevel"
	call clsave,get
	pop $b
	popax
	add $a,$b
	pop TurniejLevel
	push "saves/dbTurniej"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbTurniej,load
	push "arena"
	clparent Computro,init
	call advmouse,setstd
	push A
	push ":ania5"
	push "Ten robot by za silny na nas; Zbudujemy nowego"
	push "mturniej"
	push ":ania6"
	push "Hurra! Zwycistwo"
	push "Arena0"
	push ":ania7"
	push "O nie; Jeszcze jeden robot"
	push "mturniej"
	cthis sounds=
	push A
	push "bkg.pyz"
	push "robo.pyzH 10"
	push "bumH.pyz 50"
	push "rozbity.pyzH 10"
	cthis imgs=
	new img,imbg
	push "anbkg"
	call imbg,clone
	delete anbkg
	localint $1
	push 0
	pop $1
l6315:
	push $1
	push 10
	cmpjl
	cmp0
	je l6316
	jmp l6318
l6317:
	add $1,1
	pop $1
	jmp l6315
l6318:
	push "anbum"
	push "anbu"
	push $1
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l6317
l6316:
	push "anbu"
	new classobjcounter,clbu
	new int,W
	push 50
	pop W
	new int,H
	push 50
	pop H
	new int,Rows
	push 10
	pop Rows
	new int,Cols
	push 14
	pop Cols
	new int,X
	push 50
	pop X
	new int,Y
	push 50
	pop Y
	new int,X1
	push 50
	pop X1
	new int,X2
	push iResX
	push X1
	pop $b
	popax
	sub $a,$b
	pop X2
	new int,Y1
	push 50
	pop Y1
	new int,Y2
	push iResY
	push Y1
	pop $b
	popax
	sub $a,$b
	pop Y2
	new int,odstep
	push 28
	pop odstep
	new classsndbank,sndbum
	push "sfx/bum"
	push 1
	push 4
	push 0
	push 1
	call sndbum,load
	push A
	push "fire1"
	cthis sfxs=
	push "dbl"
	push "$scripts/turniej/vs.db"
	cthis newdb
	push "dbwsp"
	push "$scripts/turniej/wspolczynniki.db"
	cthis newdb
	new gmimgvec,rob1
	new gmimgvec,rob2
	new vector,vrob
	push "string"
	call vrob,type
	push "rob1"
	push "dbTurniej"
	push 0
	push "green"
	push "rob2"
	cthis mkrob
	push "rob2"
	push "dbl"
	push TurniejLevel
	push "red"
	push "rob1"
	cthis mkrob
	push Rows
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	push 1
	call rob2,mputrob
	push Rows
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push Cols
	push 1
	pop $b
	popax
	sub $a,$b
	push 3
	call rob1,mputrob
	push "butgame"
	new GUI,gui
	push "dbt"
	push "txt"
	cthis lang_db
	push "butreset"
	push "reset"
	call dbt,findbyrow
	push 1
	call dbt,get
	push 150
	push 25
	call gui,newbutton
	push 100
	call butreset,setz
	push iResX
	call butreset,getw
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	push 4
	call butreset,setpos
	push "butnowy"
	push "nowy"
	call dbt,findbyrow
	push 1
	call dbt,get
	push 150
	push 25
	call gui,newbutton
	push 100
	call butnowy,setz
	call butreset,getpx
	call butnowy,getw
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call butreset,getpy
	call butnowy,setpos
	push "timcyk"
	push "Arena1"
	cthis cycle=
	push "Arena2"
	call ccs,enter
	end method
	method Arena0
	add TurniejLevel,1
	pop TurniejLevel
	push "TurniejLevel"
	push TurniejLevel
	push 1
	pop $b
	popax
	sub $a,$b
	call clsave,set
	push TurniejLevel
	push 5
	cmpjle
	cmp0
	je l6314
	push "ania7"
	cthis cbplay
	jmp l6313
l6314:
	push "adparkiet"
	push "gameadparkiet"
	cthis gotoadv
l6313:
	end method
	method Arena1
	call rob1,mthinkrob
	call rob2,mthinkrob
	call rob1,attack
	cmp0
	je l6320
	call rob2,attack
	jmp l6322
l6320:
	push 0
	jmp l6322
l6321:
	push 1
l6322:
	cmp0
	je l6323
	call rob1,mattack
	call rob2,mattack
	cthis modbij
	jmp l6319
l6323:
	call rob1,attack
	cmp0
	je l6325
	call rob1,mattack
	push 1
	call rob1,mbum
	call rob2,mface
	cthis modbij
	jmp l6324
l6325:
	call rob2,attack
	cmp0
	je l6327
	call rob2,mattack
	push 1
	call rob2,mbum
	call rob1,mface
	cthis modbij
l6327:
l6324:
l6319:
	call rob1,malive
	cmp0
	je l6329
	call rob2,malive
	jmp l6331
l6329:
	push 0
	jmp l6331
l6330:
	push 1
l6331:
	cmp0
	je l6332
	cthis play
	jmp l6328
l6332:
	call rob1,malive
	cmp0
	je l6334
	push "ania6"
	cthis cbplay
	jmp l6333
l6334:
	push "ania5"
	cthis cbplay
l6333:
l6328:
	end method
	method Arena2
	push 1
	pop igmstate
	cthis mgo
	end method
	method butreset_lclick
	cthis cisplaying
	neg
	cmp0
	je l6336
	push "Arena"
	call gameapi,play
l6336:
	end method
	method butnowy_lclick
	cthis cisplaying
	neg
	cmp0
	je l6338
	cthis mturniej
l6338:
	end method
	method mturniej
	push "Turniej"
	call gameapi,play
	end method
	method mgo
	call timcyk,play
	end method
	method modbij
	call rob1,malive
	cmp0
	je l6340
	push 2
	popax
	sub 0,$a
	call rob1,mturn
	call rob1,movrob
l6340:
	call rob2,malive
	cmp0
	je l6342
	push 2
	popax
	sub 0,$a
	call rob2,mturn
	call rob2,movrob
l6342:
	end method
	method mkrob
	localstring $1
	localstring $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $6
	localdef $7
	localdef $8
	localdef $9
	push "im"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new img,[$e]
	push $6
	spushs
	push W
	push H
	push $4
	spushs
	spop $d
	cthis [$d]
	push 128
	spop $a
	call [$a],create
	call vrob,free
	localint $10
	push 1
	pop $10
l6343:
	push $10
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l6344
	jmp l6346
l6345:
	push 2
	popax
	add $10,$a
	pop $10
	jmp l6343
l6346:
	push $2
	spushs
	push $3
	push $10
	spop $a
	call [$a],get
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	push $3
	push $10
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call vrob,add
	jmp l6345
l6344:
	push $1
	spushs
	push A
	push "Energy"
	push 0
	push "Inteligence"
	push 0
	push "Armor"
	push 4
	push "Speed"
	push 0
	push "Power"
	push 1
	push "charge"
	push 0
	spop $a
	call [$a],vars2
	push $1
	push "r"
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	spushs
	spop $e
	new gmimgvec,[$e]
	push 0
	pop $10
l6347:
	push $10
	call anrobo,nofactions
	cmpjl
	cmp0
	je l6348
	jmp l6350
l6349:
	add $10,1
	pop $10
	jmp l6347
l6350:
	push $10
	call anrobo,nameofaction
	pop $6
	push $6
	push "corps"
	cmpje
	cmp0
	jne l6353
	push $6
	call vrob,contains
	jmp l6354
l6352:
	push 0
	jmp l6354
l6353:
	push 1
l6354:
	cmp0
	je l6355
	push $6
	push "corps"
	cmpje
	cmp0
	je l6357
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	push "corp"
	pop $b
	popax
	add $a,$b
	pop $7
	jmp l6356
l6357:
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],size
	pop $b
	popax
	add $a,$b
	pop $7
	push $1
	spushs
	push $6
	spop $a
	call [$a],Arena3
l6356:
	push "anrobo"
	push $7
	cthis copyanima
	push $7
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	push $7
	spop $a
	call [$a],add
	push $7
	push "r"
	pop $b
	popax
	add $a,$b
	pop $9
	push "anrozbity"
	push $9
	cthis copyanima
	push $9
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $8
	spushs
	push $9
	spop $a
	call [$a],add
l6355:
	jmp l6349
l6348:
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	spushs
	push A
	push "Row"
	push 0
	push "Col"
	push 0
	push "Dir"
	push 0
	push "idbrow"
	push $3
	push "sdbase"
	push $2
	push "enemy"
	push $5
	push "enemycorp"
	push "an"
	push $5
	pop $b
	popax
	add $a,$b
	push "corp"
	pop $b
	popax
	add $a,$b
	push "attack"
	push 0
	push "licznik"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	spop $a
	call [$a],Arena4
	end method
	method Arena3
	localstring $1
	pop $1
	localdef $2
	push "_"
	call $1,strgetto
	call dbwsp,findbyrow
	push "_"
	call $1,strgetfrom
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push 3
	call dbwsp,get
	popax
	add Inteligence,$a
	pop Inteligence
	push $2
	push 4
	call dbwsp,get
	popax
	add Armor,$a
	pop Armor
	push $2
	push 5
	call dbwsp,get
	popax
	add Speed,$a
	pop Speed
	push $2
	push 6
	call dbwsp,get
	popax
	add Power,$a
	pop Power
	end method
	method Arena4
	push Speed
	push 0
	cmpjl
	cmp0
	je l6359
	push 0
	pop Speed
l6359:
	push Power
	push 0
	cmpjl
	cmp0
	je l6361
	push 0
	pop Power
l6361:
	push Armor
	push 0
	cmpjl
	cmp0
	je l6363
	push 0
	pop Armor
l6363:
	push "Step"
	push 3.0
	push Speed
	pop $b
	popax
	mul $a,$b
	cthis var2
	new img,imred
	new img,imgreen
	push 52
	push 7
	cthis red
	push 240
	call imred,create
	push 1
	cthis black
	push 255
	call imred,imgborders
	new real,live
	push Armor
	pop live
	push 50
	push 5
	cthis green
	push 240
	call imgreen,create
	push "hand"
	cthis mitem
	push 2
	cmpje
	cmp0
	je l6365
	new img,imgun
	push 2
	push 2
	push 16
	cthis grey
	push 255
	call imgun,create
	push 40
	call imgun,setz
	call imgun,hide
	new int,gundir
	push "timgun"
	push "Arena5"
	cthis cycle=
l6365:
	end method
	method Arena5
	push gundir
	spushs
	push 0
	cmpst
	jne l6367
	spop $a
	push 0
	push 12
	popax
	sub 0,$a
	call imgun,move
	jmp l6366
l6367:
	push 1
	cmpst
	jne l6368
	spop $a
	push 12
	push 0
	call imgun,move
	jmp l6366
l6368:
	push 2
	cmpst
	jne l6369
	spop $a
	push 0
	push 12
	call imgun,move
	jmp l6366
l6369:
	push 3
	cmpst
	jne l6370
	spop $a
	push 12
	popax
	sub 0,$a
	push 0
	call imgun,move
	jmp l6366
l6370:
	spop $a
l6366:
	localdef $1
	call imgun,getcx
	pop $1
	localdef $2
	call imgun,getcy
	pop $2
	push $1
	push $2
	push 0
	push 0
	call clsurf,inscreen
	neg
	cmp0
	je l6372
	call imgun,hide
	jmp l6371
l6372:
	localdef $3
	push "an"
	push enemy
	pop $b
	popax
	add $a,$b
	push "corp"
	pop $b
	popax
	add $a,$b
	pop $3
	push 0
	spushs
	push $1
	push $3
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push odstep
	cmpjl
	cmp0
	je l6374
	push enemy
	spushs
	push 1
	spop $a
	call [$a],mbum
	call imgun,hide
	jmp l6373
l6374:
	cthis play
l6373:
l6371:
	end method
	method mputrob
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop Row
	push $2
	pop Col
	push $3
	pop Dir
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	localdef $4
	push X
	push $2
	push H
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $4
	localdef $5
	push Y
	push $1
	push W
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $5
	push $4
	push $5
	cthis setpos
	push "im"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	spop $a
	call [$a],setpos
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	call imred,geth
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call imred,setpos
	push $4
	call imred,getpy
	push 1
	pop $b
	popax
	add $a,$b
	call imgreen,setpos
	end method
	method mthinkrob
	add licznik,1
	pop licznik
	localint $1
	push "eyes"
	cthis mitem
	pop $1
	push 0
	push Step
	cthis checkwall
	cmp0
	je l6376
	push $1
	spushs
	push 0
	cmpst
	jne l6378
	spop $a
	push 2
	spushs
	spop $h
	call $h,rand
	cmp0
	je l6380
	push 1
	popax
	sub 0,$a
	jmp l6379
l6380:
	push 1
l6379:
	cthis mturn
	jmp l6377
l6378:
	push 1
	cmpst
	je l6382
	push 2
	cmpst
	je l6382
	push 3
	cmpst
	je l6382
	jmp l6381
l6382:
	spop $a
	push 1
	popax
	sub 0,$a
	push Step
	cthis checkwall
	cmp0
	je l6384
	push 1
	cthis mturn
	jmp l6383
l6384:
	push 1
	popax
	sub 0,$a
	cthis mturn
l6383:
	jmp l6377
l6381:
	spop $a
	push 1
	cthis mbum
	push 2
	cthis mturn
l6377:
	jmp l6375
l6376:
	cthis mclose
	cmp0
	je l6386
	push charge
	push 3
	cmpja
	cmp0
	je l6388
	cthis menemypos
	push Dir
	cmpje
	jmp l6390
l6388:
	push 0
	jmp l6390
l6389:
	push 1
l6390:
	cmp0
	je l6391
	push 0
	pop charge
	push 1
	pop attack
	jmp l6387
l6391:
	push $1
	spushs
	push 2
	cmpst
	jne l6393
	spop $a
	push Power
	push enemy
	spushs
	spop $a
	call [$a],Power
	cmpjl
	cmp0
	je l6395
	push 3
	spushs
	spop $h
	call $h,rand
	jmp l6397
l6395:
	push 0
	jmp l6397
l6396:
	push 1
l6397:
	cmp0
	je l6398
	cthis muciekaj
	jmp l6394
l6398:
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l6400
	cthis matakuj
	jmp l6399
l6400:
	cthis muciekaj
l6399:
l6394:
	jmp l6392
l6393:
	push 3
	cmpst
	jne l6401
	spop $a
	push Power
	push enemy
	spushs
	spop $a
	call [$a],Power
	cmpjl
	cmp0
	je l6403
	push 2
	spushs
	spop $h
	call $h,rand
	jmp l6405
l6403:
	push 0
	jmp l6405
l6404:
	push 1
l6405:
	cmp0
	je l6406
	cthis muciekaj
	jmp l6402
l6406:
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l6408
	cthis matakuj
	jmp l6407
l6408:
	cthis muciekaj
l6407:
l6402:
	jmp l6392
l6401:
	spop $a
	push 2
	spushs
	spop $h
	call $h,rand
	cmp0
	je l6410
	cthis muciekaj
	jmp l6409
l6410:
	cthis matakuj
l6409:
l6392:
l6387:
	jmp l6385
l6386:
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	cmpst
	jne l6412
	spop $a
	cthis movrob
	jmp l6411
l6412:
	push 0
	cmpst
	jne l6413
	spop $a
	cthis movrob
	jmp l6411
l6413:
	push 1
	cmpst
	jne l6414
	spop $a
	push licznik
	push 50
	cmpja
	cmp0
	je l6416
	push 5
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l6418
	cthis mface
	jmp l6417
l6418:
	push 4
	spushs
	spop $h
	call $h,rand
	cthis mturn
l6417:
	jmp l6415
l6416:
	cthis movrob
l6415:
	jmp l6411
l6414:
	push 2
	cmpst
	jne l6419
	spop $a
	push licznik
	push 35
	cmpja
	cmp0
	je l6421
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l6423
	push "timgun"
	cthis hasvar
	jmp l6425
l6423:
	push 0
	jmp l6425
l6424:
	push 1
l6425:
	cmp0
	je l6426
	cthis mface
	cthis mfire
	jmp l6422
l6426:
	cthis oposite
	neg
	cmp0
	je l6428
	push 3
	spushs
	spop $h
	call $h,rand
	jmp l6430
l6428:
	push 0
	jmp l6430
l6429:
	push 1
l6430:
	cmp0
	je l6431
	cthis mface
	cthis movrob
	jmp l6427
l6431:
	push 4
	spushs
	spop $h
	call $h,rand
	cthis mturn
l6427:
l6422:
	jmp l6420
l6421:
	cthis movrob
l6420:
	jmp l6411
l6419:
	push 3
	cmpst
	jne l6432
	spop $a
	push licznik
	push 25
	cmpja
	cmp0
	je l6434
	push 2
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l6436
	push "timgun"
	cthis hasvar
	jmp l6438
l6436:
	push 0
	jmp l6438
l6437:
	push 1
l6438:
	cmp0
	je l6439
	cthis mface
	cthis mfire
	jmp l6435
l6439:
	cthis oposite
	neg
	cmp0
	je l6441
	push 2
	spushs
	spop $h
	call $h,rand
	jmp l6443
l6441:
	push 0
	jmp l6443
l6442:
	push 1
l6443:
	cmp0
	je l6444
	cthis mface
	cthis movrob
	jmp l6440
l6444:
	push 4
	spushs
	spop $h
	call $h,rand
	cthis mturn
l6440:
l6435:
	jmp l6433
l6434:
	cthis movrob
l6433:
	jmp l6411
l6432:
	spop $a
l6411:
l6385:
l6375:
	end method
	method mfire
	push "timgun"
	cthis hasvar
	cmp0
	je l6446
	localint $1
	localint $2
	push Dir
	spushs
	push 0
	cmpst
	jne l6448
	spop $a
	cthis mgetex
	push 5
	pop $b
	popax
	sub $a,$b
	pop $1
	cthis mgetpy
	push 10
	pop $b
	popax
	add $a,$b
	pop $2
	jmp l6447
l6448:
	push 1
	cmpst
	jne l6449
	spop $a
	cthis mgetex
	push 5
	pop $b
	popax
	sub $a,$b
	pop $1
	cthis mgetey
	push 10
	pop $b
	popax
	sub $a,$b
	pop $2
	jmp l6447
l6449:
	push 2
	cmpst
	jne l6450
	spop $a
	cthis mgetpx
	push 5
	pop $b
	popax
	add $a,$b
	pop $1
	cthis mgetey
	push 10
	pop $b
	popax
	sub $a,$b
	pop $2
	jmp l6447
l6450:
	push 3
	cmpst
	jne l6451
	spop $a
	cthis mgetpx
	push 5
	pop $b
	popax
	add $a,$b
	pop $1
	cthis mgetpy
	push 10
	pop $b
	popax
	add $a,$b
	pop $2
	jmp l6447
l6451:
	spop $a
l6447:
	push $1
	push $2
	call imgun,setpos
	call imgun,show
	push Dir
	pop gundir
	call fxfire1,play
	call timgun,play
l6446:
	end method
	method matakuj
	cthis mface
	push 0
	pop charge
	push 1
	pop attack
	end method
	method muciekaj
	cthis mface
	push 2
	popax
	sub 0,$a
	cthis mturn
	cthis movrob
	end method
	method mmove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis move
	push "im"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	push $1
	push $2
	call imred,move
	push $1
	push $2
	call imgreen,move
	cthis mupdatebum
	end method
	method mupdatebum
	call imgreen,getpx
	call imgreen,getpy
	call imgreen,getpx
	push 50.0
	push Armor
	pop $b
	popax
	mul $a,$b
	push live
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call imgreen,getey
	call imgreen,clip
	end method
	method mattack
	push Power
	cthis mciach
	push 0
	pop attack
	end method
	method mbum
	localint $1
	pop $1
	push $1
	popax
	sub Armor,$a
	pop Armor
	localdef $2
	call clbu,get
	pop $2
	push $2
	spushs
	cthis mgetcx
	cthis mgetcy
	spop $a
	call [$a],setpos
	push $2
	spushs
	push 0
	spop $a
	call [$a],play
	call sndbum,bgplay
	cthis mupdatebum
	push Armor
	push 0
	cmpjle
	cmp0
	je l6453
	call rob1,Armor
	push 0
	cmpja
	cmp0
	je l6455
	push TurniejLevel
	push 5
	cmpjae
	jmp l6457
l6455:
	push 0
	jmp l6457
l6456:
	push 1
l6457:
	cmp0
	je l6458
	ret
l6458:
	cthis hide
	cthis getname
	push "r"
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	cthis mgetcx
	push $2
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis mgetcy
	push $2
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],move
	push $2
	spushs
	spop $a
	call [$a],show
l6453:
	end method
	method mciach
	localint $1
	pop $1
	push enemy
	spushs
	push $1
	spop $a
	call [$a],mbum
	end method
	method malive
	push Armor
	push 0
	cmpja
	end method
	method mclose
	cthis modleg
	push 2
	push odstep
	pop $b
	popax
	mul $a,$b
	cmpjl
	end method
	method modleg
	push 0
	spushs
	cthis mgetcx
	push enemy
	spushs
	spop $a
	call [$a],mgetcx
	pop $b
	popax
	sub $a,$b
	cthis mgetcy
	push enemy
	spushs
	spop $a
	call [$a],mgetcy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	end method
	method movrob
	add charge,1
	pop charge
	push Dir
	spushs
	push 0
	cmpst
	jne l6460
	spop $a
	push 0
	push Step
	popax
	sub 0,$a
	cthis mmove
	jmp l6459
l6460:
	push 1
	cmpst
	jne l6461
	spop $a
	push Step
	push 0
	cthis mmove
	jmp l6459
l6461:
	push 2
	cmpst
	jne l6462
	spop $a
	push 0
	push Step
	cthis mmove
	jmp l6459
l6462:
	push 3
	cmpst
	jne l6463
	spop $a
	push Step
	popax
	sub 0,$a
	push 0
	cthis mmove
	jmp l6459
l6463:
	spop $a
l6459:
	end method
	method mface
	cthis menemypos
	push Dir
	pop $b
	popax
	sub $a,$b
	cthis mturn
	end method
	method mturn
	localint $1
	pop $1
	push 0
	pop charge
	push 0
	pop licznik
	push $1
	cthis getkat
	pop Dir
	push 1
	popax
	sub 0,$a
	push Dir
	cthis setframe
	end method
	method mitem
	localstring $1
	pop $1
	localdef $2
	push sdbase
	spushs
	push idbrow
	push $1
	spop $a
	call [$a],dbfindinrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l6465
	push sdbase
	spushs
	push idbrow
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	jmp l6464
l6465:
	push 1
	popax
	sub 0,$a
l6464:
	end method
	method getkat
	localint $1
	pop $1
	localint $2
	push Dir
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l6467
	push 4
	popax
	add $2,$a
	pop $2
	jmp l6466
l6467:
	push $2
	push 3
	cmpja
	cmp0
	je l6469
	push 4
	popax
	div $2,$a
	mov $2,$d
l6469:
l6466:
	push $2
	end method
	method oposite
	call rob1,Dir
	push 2
	popax
	sub 0,$a
	call rob2,getkat
	cmpje
	end method
	method checknext
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis getkat
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis checkbum
	end method
	method checkwall
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getkat
	push $2
	push X1
	push X2
	push Y1
	push Y2
	cthis checkbum
	end method
	method checkrob
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getkat
	push $2
	push enemy
	spushs
	spop $a
	call [$a],mgetpx
	push enemy
	spushs
	spop $a
	call [$a],mgetex
	push enemy
	spushs
	spop $a
	call [$a],mgetpy
	push enemy
	spushs
	spop $a
	call [$a],mgetey
	cthis checkbum
	end method
	method mgetcx
	push "an"
	cthis getname
	pop $b
	popax
	add $a,$b
	push "corp"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getcx
	end method
	method mgetpx
	cthis mgetcx
	push odstep
	pop $b
	popax
	sub $a,$b
	end method
	method mgetex
	cthis mgetcx
	push odstep
	pop $b
	popax
	add $a,$b
	end method
	method mgetcy
	push "an"
	cthis getname
	pop $b
	popax
	add $a,$b
	push "corp"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getcy
	end method
	method mgetpy
	cthis mgetcy
	push odstep
	pop $b
	popax
	sub $a,$b
	end method
	method mgetey
	cthis mgetcy
	push odstep
	pop $b
	popax
	add $a,$b
	end method
	method checkbum
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push 0
	cmpst
	jne l6471
	spop $a
	cthis mgetpy
	push $2
	pop $b
	popax
	add $a,$b
	push $5
	cmpjl
	jmp l6470
l6471:
	push 1
	cmpst
	jne l6472
	spop $a
	cthis mgetex
	push $2
	pop $b
	popax
	add $a,$b
	push $4
	cmpja
	jmp l6470
l6472:
	push 2
	cmpst
	jne l6473
	spop $a
	cthis mgetey
	push $2
	pop $b
	popax
	add $a,$b
	push $6
	cmpja
	jmp l6470
l6473:
	push 3
	cmpst
	jne l6474
	spop $a
	cthis mgetpx
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	cmpjl
	jmp l6470
l6474:
	spop $a
l6470:
	end method
	method menemypos
	localreal $1
	cthis mgetcx
	push enemy
	spushs
	spop $a
	call [$a],mgetcx
	pop $b
	popax
	sub $a,$b
	pop $1
	localreal $2
	cthis mgetcy
	push enemy
	spushs
	spop $a
	call [$a],mgetcy
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	je l6476
	push $1
	push 0
	cmpja
	cmp0
	je l6478
	push 3
	jmp l6477
l6478:
	push 1
l6477:
	jmp l6475
l6476:
	localreal $3
	push $1
	push $2
	pop $b
	popax
	div $a,$b
	psax
	spushs
	spop $h
	call $h,abs
	pop $3
	push $1
	push 0
	cmpja
	cmp0
	je l6480
	push $2
	push 0
	cmpjl
	cmp0
	je l6482
	push $3
	push 1
	cmpja
	cmp0
	je l6484
	push 3
	jmp l6483
l6484:
	push 2
l6483:
	jmp l6481
l6482:
	push $3
	push 1
	cmpja
	cmp0
	je l6486
	push 3
	jmp l6485
l6486:
	push 0
l6485:
l6481:
	jmp l6479
l6480:
	push $2
	push 0
	cmpjl
	cmp0
	je l6488
	push $3
	push 1
	cmpja
	cmp0
	je l6490
	push 1
	jmp l6489
l6490:
	push 2
l6489:
	jmp l6487
l6488:
	push $3
	push 1
	cmpja
	cmp0
	je l6492
	push 1
	jmp l6491
l6492:
	push 0
l6491:
l6487:
l6479:
l6475:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6494
	push 20
	call rob2,mbum
l6494:
	end method
	end game

	game Preintro
	parent Computro
	method init
	push "preintro"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "swiatlo.pyz 20"
	push "okoH.pyz 130"
	push "napisyH.pyz 140"
	push "robo.pyz 110"
	push "ekrany.pyz 25"
	push "wiatrakP.pyz 15"
	push "iskryH.pyz 105"
	push "wyjscieH.pyz 30"
	cthis imgs=
	push "anekrany"
	push "anekrany2"
	cthis copyanima
	push 1
	push 0
	call anekrany2,setframe
	push "annapisy"
	push "annapisy2"
	cthis copyanima
	push 0
	push 1
	call annapisy2,setframe
	push "onfinish"
	push "Preintro0"
	call anrobo,addmethod
	push "onfinish"
	push "Preintro1"
	call anwyjscie,addmethod
	push "podziemia.ogg -l -v 50"
	call mus,playstr
	push "dbtur"
	push "napis"
	cthis lang_db
	new string,sfont32
	push 32
	cthis stdfont
	pop sfont32
	push "txttur"
	push 0
	push 0
	call dbtur,get
	push sfont32
	push 248
	cthis grey
	cthis newtext
	push iResX
	call txttur,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	call txttur,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call txttur,setpos
	push 180
	call txttur,setz
	call txttur,hide
	push A
	push "wlacznik3 60"
	push "bgrwiatrakN 70"
	push "robocik2 70"
	push "robocik3 70"
	push "podnapis 60"
	push "perun 70"
	push "alarm 60"
	push "iskry 60"
	cthis sfxs=
	new int,ilicz
	push 0
	pop ilicz
	push "timgo"
	push 4000
	push "Preintro2"
	cthis timer=
	call timgo,play
	push "null"
	call ccs,enter
	end method
	method Preintro0
	push ilicz
	push 10
	cmpje
	cmp0
	je l6496
	add ilicz,1
	pop ilicz
	push 4500
	call timgo,delay
	push "dark2"
	cthis play
	push "dark"
	push 0
	call answiatlo,setframe
	call timgo,play
	push 0
	call fxrobocik3,stop
l6496:
	end method
	method Preintro1
	push 500
	call timgo,delay
	call timgo,play
	end method
	method Preintro2
	push GAME
	spushs
	spop $a
	call [$a],Preintro3
	push A
	push 7
	push 10
	push 13
	push 16
	call ilicz,in
	neg
	cmp0
	je l6511
	cthis play
l6511:
	end method
	method Preintro3
	push ilicz
	spushs
	push 0
	cmpst
	je l6499
	push 2
	cmpst
	je l6499
	push 4
	cmpst
	je l6499
	jmp l6498
l6499:
	spop $a
	push 200
	cthis mlamp
	jmp l6497
l6498:
	push 1
	cmpst
	jne l6500
	spop $a
	push 4000
	cthis mdark
	jmp l6497
l6500:
	push 3
	cmpst
	jne l6501
	spop $a
	push 250
	cthis mdark
	jmp l6497
l6501:
	push 5
	cmpst
	jne l6502
	spop $a
	push 2500
	cthis mdark
	jmp l6497
l6502:
	push 6
	cmpst
	jne l6503
	spop $a
	push "iskry"
	push 0
	call answiatlo,setframe
	call fxiskry,play
	push 0
	push "Preintro4"
	call aniskry,anplayfin
	jmp l6497
l6503:
	push 8
	cmpst
	jne l6504
	spop $a
	push "light"
	push 0
	call answiatlo,setframe
	call fxwlacznik3,play
	push "light"
	push 0
	call anrobo,setframe
	push 1000
	call timgo,delay
	push 800
	call mus,fadeout
	jmp l6497
l6504:
	push 9
	cmpst
	jne l6505
	spop $a
	push "plama.ogg -v 60"
	call mus,playstr
	push "light"
	call anrobo,play
	call fxrobocik3,play
	jmp l6497
l6505:
	push 11
	cmpst
	jne l6506
	spop $a
	call anoko,show
	call fxrobocik2,play
	push 1000
	call timgo,delay
	jmp l6497
l6506:
	push 12
	cmpst
	jne l6507
	spop $a
	push 0
	push "Preintro5"
	call anoko,anplayfin
	jmp l6497
l6507:
	push 14
	cmpst
	jne l6508
	spop $a
	call annapisy2,show
	call fxperun,play
	call txttur,show
	push 1
	push sfont32
	call txttur,txtshadow
	push 3000
	call timgo,delay
	jmp l6497
l6508:
	push 15
	cmpst
	jne l6509
	spop $a
	cthis mkoniec
	jmp l6497
l6509:
	spop $a
l6497:
	add ilicz,1
	pop ilicz
	end method
	method Preintro4
	cthis hide
	push "dark"
	push 0
	call answiatlo,setframe
	push 0
	call anwyjscie,play
	call fxalarm,play
	end method
	method Preintro5
	add ilicz,1
	pop ilicz
	push 2000
	call timgo,delay
	call fxrobocik2,play
	call annapisy,show
	call timgo,play
	end method
	method mlamp
	localint $1
	pop $1
	push $1
	call timgo,delay
	push "lamp"
	push 0
	call answiatlo,setframe
	push "lamp"
	push 0
	call anrobo,setframe
	call fxwlacznik3,play
	end method
	method mdark
	localint $1
	pop $1
	push $1
	call timgo,delay
	push "dark"
	push 0
	call answiatlo,setframe
	push "dark"
	push 0
	call anrobo,setframe
	end method
	method mkoniec
	push igmstate
	push 0
	cmpje
	cmp0
	je l6513
	push "mkoniec2"
	call ccs,close
	push 1000
	call mus,fadeout
	push 1
	pop igmstate
l6513:
	end method
	method mkoniec2
	push "Menu"
	call gameapi,play
	end method
	method mouse_lclick
	cthis mkoniec
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l6515
	push 1
	call timgo,stop
l6515:
	end method
	end game

	new int,PrzygodaMode
	push 0
	pop PrzygodaMode
	new int,PrzygodaNumer
	push 1
	pop PrzygodaNumer
	game Menu
	parent Computro
	method init
	call clsave,free
	push "game_day"
	push 1
	call clsave,set
	push "otwarte_31"
	push 0
	call clsave,set
	push 0
	pop PrzygodaMode
	push "menu"
	clparent Computro,init
	push "saves/Menu.txt"
	new classfullsave,sav
	call sav,stdload
	push A
	push "bkg.pyz"
	push "kaplicaH.pyz 5"
	push "gmachH.pyz 5"
	push "napisy_rozpocznijH.pyz 5"
	push "ptaki.pyz 3"
	push "tabliceH.pyz 20"
	cthis imgs=
	push "sndnowa"
	push "narnew"
	cthis newsnd
	push "sndload"
	push "narload"
	cthis newsnd
	push "sndraz"
	push "narrestart"
	cthis newsnd
	push "sndyes"
	push "naryes"
	cthis newsnd
	push "sndno"
	push "narno"
	cthis newsnd
	new Button,butg
	new gmimgvec,grlek
	push "grlek"
	push "lekcje.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 30
	call grlek,setz
	push "Menu0"
	call grlek,eval
	push "dblek"
	push "lekcja"
	cthis lang_db
	localdef $1
	push 16
	pop $1
	localdef $2
	push $1
	cthis stdbold
	pop $2
	new gmimgvec,grtyt
	push "sql"
	push 0
	push $2
	push $1
	cthis mktyt
	push "logo"
	push 1
	push $2
	push $1
	cthis mktyt
	push "grafa"
	push 2
	push $2
	push $1
	cthis mktyt
	push "gimp"
	push 3
	push $2
	push $1
	cthis mktyt
	new gmimgvec,gradv
	push "gradv"
	push "przygoda.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 30
	call gradv,setz
	localdef $3
	localdef $4
	localint $5
	push 0
	pop $5
l6523:
	push $5
	call gradv,size
	cmpjl
	cmp0
	je l6524
	jmp l6526
l6525:
	add $5,1
	pop $5
	jmp l6523
l6526:
	push $5
	call gradv,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],actionname
	pop $4
	push 0
	push 4
	call $4,getb
	push "load"
	cmpje
	cmp0
	je l6528
	push "load"
	push 4
	call $4,strsubb
	pop $b
	popax
	add $a,$b
	call sav,bis
	neg
	cmp0
	je l6530
	push $3
	call gradv,remove
	push $3
	spushs
	spop $a
	call [$a],hide
	sub $5,1
	pop $5
l6530:
l6528:
	jmp l6525
l6524:
	push "Menu4"
	call gradv,eval
	call grlek,hide
	call gradv,hide
	call ankaplica,mkbut
	call angmach,mkbut
	push "grlek"
	call butg,addgroup
	push "gradv"
	call butg,addgroup
	new string,sGame
	push "main.ogg -v 30 -l"
	call mus,playstr
	push "Menu8"
	call ccs,enter
	end method
	method Menu0
	cthis Button_isin
	push "butmoveon"
	push "Menu1"
	cthis addmethod
	push "butmoveoff"
	push "Menu2"
	cthis addmethod
	push "butclick"
	push "Menu3"
	cthis addmethod
	end method
	method Menu1
	call sndakskermovon,play
	call advmouse,setact
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push "td"
	cthis actionname
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	end method
	method Menu2
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push "td"
	cthis actionname
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	end method
	method Menu3
	push igmstate
	push 2
	cmpjne
	cmp0
	je l6517
	ret
l6517:
	push 0
	pop PrzygodaMode
	cthis actionname
	spushs
	push "sql"
	cmpst
	jne l6519
	spop $a
	push "Sql"
	jmp l6518
l6519:
	push "gimp"
	cmpst
	jne l6520
	spop $a
	push "Gimp"
	jmp l6518
l6520:
	push "grafa"
	cmpst
	jne l6521
	spop $a
	push "Obrazy"
	jmp l6518
l6521:
	push "logo"
	cmpst
	jne l6522
	spop $a
	push "Turtle"
	jmp l6518
l6522:
	spop $a
l6518:
	pop sGame
	cthis mstart
	end method
	method Menu4
	cthis Button_isin
	push "butmoveon"
	push "Menu5"
	cthis addmethod
	push "butmoveoff"
	push "Menu6"
	cthis addmethod
	push "butclick"
	push "Menu7"
	cthis addmethod
	end method
	method Menu5
	call sndakskermovon,play
	call advmouse,setact
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	cthis actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	push "load"
	cmpje
	cmp0
	je l6532
	push "sndload"
	cthis cbselfplay
	jmp l6531
l6532:
	push "sndnowa"
	cthis cbselfplay
l6531:
	end method
	method Menu6
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Menu7
	push igmstate
	push 2
	cmpjne
	cmp0
	je l6534
	ret
l6534:
	push 1
	pop PrzygodaMode
	localdef $1
	cthis actionname
	pop $1
	push 0
	push 4
	call $1,getb
	push "load"
	cmpje
	cmp0
	je l6536
	push 4
	call $1,strsubb
	pop PrzygodaNumer
	push 3
	pop igmstate
	clparent classadvinfo2,advload_game
	jmp l6535
l6536:
	push "start"
	call $1,strsubbs
	pop PrzygodaNumer
	push "load"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	call sav,bis
	cmp0
	je l6538
	push "sndraz"
	push "sndyes"
	push "sndno"
	push "mplaynew"
	push "null"
	call claskexit,ask
	jmp l6537
l6538:
	cthis mplaynew
l6537:
l6535:
	end method
	method Menu8
	push 1
	pop igmstate
	end method
	method mplaynew
	push "load"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	call sav,bset
	call sav,stdsave
	push "Intro"
	pop sGame
	cthis mstart
	end method
	method mktyt
	localstring $1
	localint $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push "td"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	localdef $6
	push $2
	call grlek,get
	pop $6
	push $5
	spushs
	push $3
	push $4
	push "$row:dblek,"
	push $2
	pop $b
	popax
	add $a,$b
	cthis white
	push $6
	spushs
	spop $a
	call [$a],getex
	push 5
	pop $b
	popax
	sub $a,$b
	push $6
	spushs
	spop $a
	call [$a],getpy
	push 2
	push $6
	spushs
	spop $a
	call [$a],getz
	push 3
	pop $b
	popax
	add $a,$b
	push "left"
	spop $e
	new TextDb,[$e]
	push $5
	spushs
	push 2
	spop $a
	call [$a],stdshadow
	push $5
	spushs
	spop $a
	call [$a],hide
	push $5
	call grtyt,add
	end method
	method mkbut
	cthis getname
	call butg,add
	push "isbutin"
	push "Menu9"
	cthis addmethod
	push "butmoveon"
	push "Menu10"
	cthis addmethod
	push "butmoveoff"
	push "Menu11"
	cthis addmethod
	push "butclick"
	push "Menu12"
	cthis addmethod
	end method
	method Menu9
	localdef $1
	localdef $2
	pop $2
	pop $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l6539
	push $1
	push $2
	push 0
	push 1
	cthis isin
	jmp l6541
l6539:
	push 0
	jmp l6541
l6540:
	push 1
l6541:
	end method
	method Menu10
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6543
	ret
l6543:
	push 1
	cthis isplaying
	cmp0
	je l6545
	localint $1
	cthis framenr
	pop $1
	push 0
	cthis play
	push 0
	push $1
	cthis setframe
	jmp l6544
l6545:
	push 0
	cthis play
l6544:
	call advmouse,setact
	call annapisy_rozpocznij,show
	cthis getname
	push "angmach"
	cmpje
	cmp0
	je l6547
	push 0
	jmp l6546
l6547:
	push 1
l6546:
	push 0
	call annapisy_rozpocznij,setframe
	end method
	method Menu11
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6549
	ret
l6549:
	push 0
	cthis isplaying
	cmp0
	je l6551
	localint $1
	cthis framenr
	pop $1
	push 1
	cthis play
	push 1
	push $1
	cthis setframe
	jmp l6550
l6551:
	push 1
	cthis play
l6550:
	call advmouse,setstd
	call annapisy_rozpocznij,hide
	end method
	method Menu12
	push igmstate
	push 1
	cmpjne
	cmp0
	je l6553
	ret
l6553:
	push 2
	pop igmstate
	call antablice,show
	cthis getname
	push "angmach"
	cmpje
	cmp0
	je l6555
	push 0
	push 0
	call antablice,setframe
	call gradv,show
	jmp l6554
l6555:
	push 1
	push 0
	call antablice,setframe
	call grlek,show
l6554:
	end method
	method mstart
	push 3
	pop igmstate
	push 1000
	call mus,fadeout
	push "Menu13"
	call ccs,close
	end method
	method Menu13
	push sGame
	call gameapi,play
	end method
	method game_exit
	call sav,stdsave
	end method
	method mouse_lclick
	push igmstate
	push 2
	cmpje
	cmp0
	je l6557
	call mouse,getpos
	push 1
	push 1
	call antablice,isin
	neg
	jmp l6559
l6557:
	push 0
	jmp l6559
l6558:
	push 1
l6559:
	cmp0
	je l6560
	push 1
	popax
	sub 0,$a
	call antablice,actionnr
	push 0
	cmpje
	cmp0
	je l6562
	call gradv,hide
	jmp l6561
l6562:
	call grlek,hide
	call grtyt,hide
l6561:
	call antablice,hide
	push 1
	pop igmstate
l6560:
	end method
	end game

	game Outro
	parent Computro
	method init
	push "outro"
	clparent Computro,init
	push A
	push "bkg.pyz"
	push "logoP.pyz 50"
	push "maskdol.pyz 20"
	push "maskgora.pyz 20"
	push "roboP.pyz 40"
	cthis imgs=
	push "bitewna.ogg -v 50 -l"
	call mus,playstr
	push "dbend"
	push "napisy"
	cthis lang_db
	push 16
	cthis stdfont
	push 16
	push "$var:dbend"
	cthis white
	push 100
	push 600
	push 2
	push 5
	push "left"
	new TextDb,tdend
	push "timcyk"
	push "Outro0"
	cthis cycle=
	push 2
	call timcyk,setcycle
	call timcyk,play
	end method
	method Outro0
	push 0
	push 1
	popax
	sub 0,$a
	call tdend,move
	call tdend,getey
	push 0
	cmpjl
	cmp0
	je l6564
	push igmstate
	push 0
	cmpje
	jmp l6566
l6564:
	push 0
	jmp l6566
l6565:
	push 1
l6566:
	cmp0
	je l6567
	cthis mouse_lclick
	jmp l6563
l6567:
	cthis play
l6563:
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l6569
	push 1
	pop igmstate
	push 1000
	call mus,fadeout
	push "Outro1"
	call ccs,close
l6569:
	end method
	method Outro1
	call gameapi,exit
	end method
	end game

