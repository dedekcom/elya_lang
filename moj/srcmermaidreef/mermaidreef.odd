; Dominik Dagiel   ix 2005

	new db,dbconf
	push "configs/config.beh"
	call dbconf,loadscript
	method readcfg
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbconf,findbyrow
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l2
	push $2
	jmp l1
l2:
	push $3
	push 1
	call dbconf,get
l1:
	end method
	push "enginedebug:"
	push 0
	cthis readcfg
	call engine,setdebugstate
	new int,igmdebug
	push "igmdebug:"
	push 0
	cthis readcfg
	pop igmdebug
	new int,igmpcdebug
	push "igmpcdebug:"
	push 0
	cthis readcfg
	pop igmpcdebug
	push igmpcdebug
	cmp0
	je l4
	call mouse,showsys
l4:
	new int,igmexportan
	push "igmexportan:"
	push 0
	cthis readcfg
	pop igmexportan
	new int,igmimportan
	push "igmimportan:"
	push 0
	cthis readcfg
	pop igmimportan
	new int,igmenablesave
	push "igmenablesave:"
	push 0
	cthis readcfg
	pop igmenablesave
	new int,igmdelay
	push "igmdelay:"
	call engine,getloopdelay
	cthis readcfg
	pop igmdelay
	new int,igmwinlocal
	push "igmwinlocal:"
	push 0
	cthis readcfg
	pop igmwinlocal
	new int,igmmac
	push "igmmac:"
	push 0
	cthis readcfg
	pop igmmac
	new int,igmipad
	push "igmipad:"
	push 0
	cthis readcfg
	pop igmipad
	new int,igmiphone
	push "igmiphone:"
	push 0
	cthis readcfg
	pop igmiphone
	new int,igmandroid
	push "igmandroid:"
	push 0
	cthis readcfg
	pop igmandroid
	new string,sgmdeveloper
	push "sgmdeveloper:"
	push "Dagiel"
	cthis readcfg
	pop sgmdeveloper
	new string,sgmproject
	push "sgmproject:"
	call dbconf,dbget
	pop sgmproject
	method isapple
	push igmipad
	cmp0
	jne l6
	push igmmac
	cmp0
	jne l6
	push igmiphone
	jmp l7
l5:
	push 0
	jmp l7
l6:
	push 1
l7:
	end method
	method checktouchpad
	push igmipad
	cmp0
	jne l9
	push igmiphone
	cmp0
	jne l9
	push igmandroid
	jmp l10
l8:
	push 0
	jmp l10
l9:
	push 1
l10:
	end method
	new int,igmappw
	new int,igmapph
	call engine,getappsize
	pop igmapph
	pop igmappw
	new int,igmoffsetx
	new int,igmoffsety
	call engine,getscreenoffset
	pop igmoffsety
	pop igmoffsetx
	new int,iResX
	new int,iResY
	call engine,getscreenres
	pop iResY
	pop iResX
	new real,rgmscalex
	new real,rgmscaley
	call engine,getscreenscale
	pop rgmscaley
	pop rgmscalex
	new int,i1024offsetx
	push 171
	spushs
	spop $h
	call $h,igetsc
	pop i1024offsetx
	method getxoffset
	push igmandroid
	cmp0
	je l12
	call engine,getxandro
	push igmoffsetx
	cmpjl
	cmp0
	je l14
	push igmoffsetx
	jmp l13
l14:
	call engine,getxandro
l13:
	jmp l11
l12:
	push igmoffsetx
l11:
	end method
	method getappcenter
	push igmappw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push igmapph
	push 2
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method edgeex
	push iResX
	push igmoffsetx
	pop $b
	popax
	add $a,$b
	end method
	method edgeey
	push iResY
	push igmoffsety
	pop $b
	popax
	add $a,$b
	end method
	method getwinpath
	localstring $1
	pop $1
	localstring $2
	push "appdata"
	call engine,getspecialpath
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l16
	push $2
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	jmp l15
l16:
	push $1
l15:
	end method
	method getsavepath
	cthis isapple
	cmp0
	je l18
	call engine,getsavepath
	jmp l17
l18:
	push igmwinlocal
	cmp0
	je l20
	push "saves/"
	cthis getwinpath
	jmp l19
l20:
	push "saves/"
l19:
l17:
	end method
	method buildsavedir
	push igmwinlocal
	cmp0
	je l22
	cthis isapple
	neg
	jmp l24
l22:
	push 0
	jmp l24
l23:
	push 1
l24:
	cmp0
	je l25
	localstring $1
	push "appdata"
	call engine,getspecialpath
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l27
	push "/"
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	localint $2
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l30
	push $2
	push 1
	cmpje
	jmp l31
l29:
	push 0
	jmp l31
l30:
	push 1
l31:
	cmp0
	je l32
	push "/"
	push sgmproject
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l35
	push $2
	push 1
	cmpje
	jmp l36
l34:
	push 0
	jmp l36
l35:
	push 1
l36:
	cmp0
	je l37
	push "/saves"
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	popax
l37:
l32:
l27:
l25:
	end method
	cthis buildsavedir
	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	new int,BYTESPACE
	push " "
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTESPACE
	method empty_func
	end method
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l39
	push $1
	push $2
	cthis varnew
l39:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l41
	push $1
	cthis vardel
l41:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global0"
	cthis addmethod
	end method
	method global0
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global1"
	cthis addmethod
	end method
	method global1
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l42:
	push A
	push $2
	cmpjne
	cmp0
	je l43
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l42
l43:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l44:
	push A
	push $2
	cmpjne
	cmp0
	je l45
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l44
l45:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method builder_func
	localstring $1
	pop $1
	cthis getbuildername
	spushs
	cthis getbuildername
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l47
	push $1
	push "null"
	cmpje
	cmp0
	je l49
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l48
l49:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l48:
l47:
	end method
	method add_callfun
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],global2
	end method
	method global2
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localdef $4
	push $1
	push "_callfun_"
	pop $b
	popax
	add $a,$b
	pop $4
	push A
	push $4
	push "sob"
	pop $b
	popax
	add $a,$b
	push $2
	push $4
	push "sfun"
	pop $b
	popax
	add $a,$b
	push $3
	cthis vars2
	push $4
	push "global3"
	cthis addmethod
	push $4
	end method
	method global3
	localdef $1
	cthis methodname
	pop $1
	push $1
	push "sob"
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	push $1
	push "sfun"
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	cthis callfun
	end method
	method fullname_callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis getfullname
	push $1
	push $2
	cthis add_callfun
	end method
	method dprint
	localstring $1
	pop $1
	localint $2
	call engine,getstack
	pop $2
	push "stack="
	push $2
	pop $b
	popax
	add $a,$b
	push " : "
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
	end method
	method printargs
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l50:
	push $1
	push 0
	cmpja
	cmp0
	je l51
	localdef $3
	pop $3
	push "("
	call $3,gettype
	pop $b
	popax
	add $a,$b
	push ") "
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push "  "
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	sub $1,1
	pop $1
	jmp l50
l51:
	push "args: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l52:
	push A
	push $3
	cmpjne
	cmp0
	je l53
	push $1
	neg
	cmp0
	je l55
	push $2
	push $3
	cmpje
	pop $1
l55:
	localdef $3
	pop $3
	jmp l52
l53:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l56:
	push $2
	push A
	cmpjne
	cmp0
	je l57
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l56
l57:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global4"
	cthis addmethod
	end method
	method global4
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l58:
	push $2
	push A
	cmpjne
	cmp0
	je l59
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l58
l59:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l61
	ret
l61:
l62:
	push $1
	push $2
	cmpjle
	cmp0
	je l63
	jmp l65
l64:
	add $1,1
	pop $1
	jmp l62
l65:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l64
l63:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l67
	ret
l67:
l68:
	push $1
	push $2
	cmpjae
	cmp0
	je l69
	jmp l71
l70:
	sub $1,1
	pop $1
	jmp l68
l71:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l70
l69:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l72:
	push $5
	push $1
	cmpjl
	cmp0
	je l73
	jmp l75
l74:
	add $5,1
	pop $5
	jmp l72
l75:
	push 0
	pop $4
l76:
	push $4
	push $2
	cmpjl
	cmp0
	je l77
	jmp l79
l78:
	add $4,1
	pop $4
	jmp l76
l79:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l78
l77:
	jmp l74
l73:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	push "limit"
	push 0
	cthis var2
	end method
	method get
	push limit
	push 0
	cmpja
	cmp0
	je l81
	push _iile
	push limit
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop _iile
	jmp l80
l81:
	add _iile,1
	pop _iile
l80:
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	method getid
	localint $1
	pop $1
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	method setaslocker
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlocker"
	push "classlocker0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlocker
	push $1
	spushs
	push "lock"
	push "lock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlock"
	push "unlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setlock"
	push "setlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getlock"
	push "getlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlocked"
	push "unlocked"
	spop $a
	call [$a],addmethod
	end method
	method classlocker0
	new int,_block
	push 1
	pop _block
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l82:
	push $2
	push $3
	cmpjl
	cmp0
	je l83
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l82
l83:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l85
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l85:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l88
	push $3
	push 0
	cmpjle
	jmp l89
l87:
	push 0
	jmp l89
l88:
	push 1
l89:
	cmp0
	je l90
	ret
l90:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l91:
	push $2
	push 0
	cmpja
	cmp0
	je l92
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l91
l92:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	neg
	cmp0
	je l94
	push $1
	cthis add
l94:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l96
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l96:
	end method
	method free
	call vn,free
	call vec,free
	end method
	method print
	call vec,print
	call vn,print
	end method
	end class

	class Music
	method init
	new vector,vmus
	push "string"
	call vmus,type
	new int,ilastid
	push A
	push "musicvolume"
	push 100
	push "globalvolume"
	push 100
	cthis vars2
	new string,smixer
	push "gameapi"
	pop smixer
	end method
	method smixer
	push smixer
	end method
	method smixer=
	localstring $1
	pop $1
	push $1
	pop smixer
	cthis updatevolume
	end method
	method playdb
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	call vmus,free
l97:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l98
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l97
l98:
	push 0
	pop ilastid
	cthis play
	end method
	method playvec
	localstring $1
	localint $2
	pop $2
	pop $1
	call vmus,free
l99:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l100
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call vmus,add
	add $2,1
	pop $2
	jmp l99
l100:
	push 0
	pop ilastid
	cthis play
	end method
	method playstr
	localstring $1
	pop $1
	push $1
	push " "
	call vmus,vecbuildfromstring
	push 0
	pop ilastid
	cthis play
	end method
	method play
	push ilastid
	call vmus,size
	cmpjae
	cmp0
	je l102
	ret
l102:
	localstring $1
	push MUSICPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
	push 0
	push 3
	call $1,gete
	push "ogg"
	cmpjne
	cmp0
	je l104
	push 0
	push 3
	call $1,gete
	push "wav"
	cmpjne
	jmp l106
l104:
	push 0
	jmp l106
l105:
	push 1
l106:
	cmp0
	je l107
	push ".ogg"
	popax
	add $1,$a
	pop $1
l107:
	push $1
	call engine,fileexist
	neg
	cmp0
	je l109
	push SFXPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
l109:
	add ilastid,1
	pop ilastid
	localint $2
	push 0
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	push globalvolume
	pop musicvolume
	localint $5
	push ilastid
	pop $5
l110:
	push $5
	call vmus,size
	cmpjl
	cmp0
	je l111
	jmp l113
l112:
	add $5,1
	pop $5
	jmp l110
l113:
	localdef $6
	push $5
	call vmus,get
	pop $6
	push $6
	spushs
	push "-l"
	cmpst
	jne l115
	spop $a
	push 1
	pop $2
	jmp l114
l115:
	push "-v"
	cmpst
	je l117
	push "-vol"
	cmpst
	je l117
	jmp l116
l117:
	spop $a
	add $5,1
	pop $5
	push $5
	call vmus,get
	pop musicvolume
	jmp l114
l116:
	push "-fin"
	cmpst
	jne l118
	spop $a
	add $5,1
	pop $5
	push $5
	call vmus,get
	pop $3
	jmp l114
l118:
	push "-fout"
	cmpst
	jne l119
	spop $a
	add $5,1
	pop $5
	push $5
	call vmus,get
	pop $4
	jmp l114
l119:
	push "-p"
	cmpst
	jne l120
	spop $a
	jmp l114
l120:
	spop $a
	push $5
	pop ilastid
	call vmus,size
	pop $5
l114:
	jmp l112
l111:
	cthis updatevolume
	push $2
	cmp0
	je l122
	call vmus,size
	pop ilastid
	push smixer
	push "engine"
	cmpje
	cmp0
	je l124
	call engine,ismusicplaying
	cmp0
	je l124
	call engine,getactmusic
	push $1
	cmpje
	jmp l126
l124:
	push 0
	jmp l126
l125:
	push 1
l126:
	cmp0
	je l127
	jmp l123
l127:
	push smixer
	spushs
	push $1
	spop $a
	call [$a],playmusic
l123:
	jmp l121
l122:
	push smixer
	spushs
	push $1
	spop $a
	call [$a],loadmusic
	push $3
	cmp0
	je l129
	push smixer
	spushs
	push $3
	spop $a
	call [$a],fadeinmusic
	jmp l128
l129:
	push smixer
	spushs
	spop $a
	call [$a],startmusic
l128:
	push $4
	cmp0
	je l131
	push smixer
	spushs
	push $4
	spop $a
	call [$a],fadeoutmusic
l131:
l121:
	end method
	method getvol
	push globalvolume
	push musicvolume
	pop $b
	popax
	mul $a,$b
	push 100
	pop $b
	popax
	div $a,$b
	psax
	end method
	method fadeout
	localint $1
	pop $1
	push smixer
	spushs
	spop $a
	call [$a],ismusicplaying
	cmp0
	je l133
	push smixer
	spushs
	push $1
	spop $a
	call [$a],fadeoutmusic
	call vmus,size
	pop ilastid
l133:
	end method
	method updatevolume
	push smixer
	spushs
	cthis getvol
	spop $a
	call [$a],setmusicvol
	end method
	method isplaying
	push smixer
	spushs
	spop $a
	call [$a],ismusicplaying
	end method
	method getactmusic
	call engine,getactmusic
	end method
	method stop
	push smixer
	spushs
	push 0
	spop $a
	call [$a],endmusic
	end method
	end class

	new int,igmstate
	new string,sgmstate
	method printstate
	push "sgmstate = "
	push sgmstate
	pop $b
	popax
	add $a,$b
	push " ,  igmstate = "
	pop $b
	popax
	add $a,$b
	push igmstate
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
	end method
	new int,igmdemo
	push "igmdemo:"
	push 0
	cthis readcfg
	pop igmdemo
	new int,igmbegin
	push 1
	pop igmbegin
	new int,igmsoundson
	push "igmsoundson:"
	push 1
	cthis readcfg
	pop igmsoundson
	new string,sgmfontfile
	push "sgmfontfile:"
	push "configs/fonts/normal.ttf"
	cthis readcfg
	pop sgmfontfile
	new string,sgmfontmono
	push "sgmfontmono:"
	push "configs/fonts/normal.ttf"
	cthis readcfg
	pop sgmfontmono
	new string,sgmfontmonobold
	push "sgmfontmonobold:"
	push "configs/fonts/normal.ttf"
	cthis readcfg
	pop sgmfontmonobold
	new string,sgmfontbold
	push "sgmfontbold:"
	push "configs/fonts/normal.ttf"
	cthis readcfg
	pop sgmfontbold
	new string,sgmfontitalic
	push "sgmfontitalic:"
	push "configs/fonts/normal.ttf"
	cthis readcfg
	pop sgmfontitalic
	new string,SFXPATH
	push "sfxpath:"
	push "sounds/sfx/"
	cthis readcfg
	pop SFXPATH
	new string,BGRPATH
	push "sndbgrpath:"
	push "sounds/sfx/"
	cthis readcfg
	pop BGRPATH
	new string,MUSICPATH
	push "musicpath:"
	push "sounds/music/"
	cthis readcfg
	pop MUSICPATH
	new string,LANG
	new string,LANGDIR
	new string,SNDPATH
	method LANG=
	localdef $1
	pop $1
	push $1
	pop LANG
	push "sounds/"
	push LANG
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	pop SNDPATH
	push "lang/"
	push LANG
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	pop LANGDIR
	end method
	push "lang:"
	push "eng"
	cthis readcfg
	cthis LANG=
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l135
	push sgmfontfile
	pop $1
l135:
	push ".ttf"
	call $1,contains
	cmp0
	je l137
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l137:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l139
	ret
l139:
	sub $3,1
	pop $3
l140:
	push $3
	push 0
	cmpjae
	cmp0
	je l141
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l140
l141:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	push $1
	call engine,setpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	end method
	method getsndpath
	push _sclwavpath
	end method
	method getpath
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l143
	push 1
	call $1,strsubb
	jmp l142
l143:
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
l142:
	end method
	method pathload
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	localdef $4
	push $2
	cthis getpath
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],load
	push igmdebug
	cmp0
	je l145
	push igmexportan
	cmp0
	je l147
	push $1
	spushs
	push "debug/"
	push 0
	call $4,length
	push "/"
	call $4,strgeteto
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	sub $a,$b
	call $4,getb
	pop $b
	popax
	add $a,$b
	push "/"
	call $4,strgeteto
	spushs
	push ".pyz"
	spop $h
	call $h,strsubes
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],saveimages
	jmp l146
l147:
	push igmimportan
	cmp0
	je l149
	push "debug/"
	push ".pyz"
	call $4,strsubes
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push "0.png"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l151
	push $1
	spushs
	push $4
	spop $a
	call [$a],loadimages
l151:
l149:
l146:
l145:
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpja
	cmp0
	je l153
	localint $5
	push 0
	pop $5
l154:
	push $5
	push $4
	cmpjl
	cmp0
	je l155
	jmp l157
l156:
	add $5,1
	pop $5
	jmp l154
l157:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l156
l155:
l153:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpja
	cmp0
	je l159
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
l159:
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l160:
	push $6
	push $5
	cmpjl
	cmp0
	je l161
	jmp l163
l162:
	add $6,1
	pop $6
	jmp l160
l163:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l165
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l165:
	jmp l162
l161:
	push $5
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push "."
	call $2,contains
	neg
	cmp0
	je l167
	push ".wav"
	popax
	add $2,$a
	pop $2
l167:
	push $2
	call engine,fileexist
	neg
	cmp0
	je l169
	push "wav"
	call $2,strsubes
	push "ogg"
	pop $b
	popax
	add $a,$b
	pop $2
l169:
	push $3
	cmp0
	je l171
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
l171:
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l173
	push $1
	push $2
	call subtitle,register
l173:
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	cthis _newsnd
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	push 1
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l174:
	push $8
	push $7
	cmpjl
	cmp0
	je l175
	jmp l177
l176:
	add $8,1
	pop $8
	jmp l174
l177:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l176
l175:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l179
	push $1
	cthis looponfinish
	jmp l178
l179:
	push "H"
	call $2,contains
	cmp0
	je l181
	push $1
	cthis hideonfinish
l181:
l178:
	push "P"
	call $2,contains
	cmp0
	je l183
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l183:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l184:
	push $6
	push $4
	cmpjl
	cmp0
	je l185
	jmp l187
l186:
	add $6,1
	pop $6
	jmp l184
l187:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l189
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l189:
	jmp l186
l185:
	push $4
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l190:
	push $5
	push $4
	cmpjl
	cmp0
	je l191
	jmp l193
l192:
	add $5,1
	pop $5
	jmp l190
l193:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l192
l191:
	push $4
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],loadscritp
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l195
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l195:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new anima,anmsc
	class classadvmouse
	method init
	new string,sactac
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	push "onendframe"
	push "setnextframe"
	call anmsc,addmethod
	push "onsetframe"
	push "classadvmouse0"
	call anmsc,addmethod
	call anmsc,hide
	end method
	method classadvmouse0
	cthis hide
	end method
	method stdload
	push igmdebug
	neg
	cmp0
	je l197
	cthis checktouchpad
	jmp l199
l197:
	push 0
	jmp l199
l198:
	push 1
l199:
	cmp0
	je l200
	push "scripts/common/kursorypad.pyz"
	cthis load
	jmp l196
l200:
	push "scripts/common/cursors.pyz"
	cthis load
l196:
	end method
	method setnextframe
	call anmsc,ansetnextfr
	push "anmsc"
	call mouse,setcursor
	end method
	method setif
	localstring $1
	pop $1
	cthis get
	push $1
	cmpjne
	cmp0
	je l202
	push $1
	cthis set
l202:
	end method
	method set
	localstring $1
	pop $1
	push $1
	pop sactac
	push $1
	call anmsc,isplaying
	neg
	cmp0
	je l204
	push $1
	call anmsc,play
l204:
	push "anmsc"
	call mouse,setcursor
	end method
	method setstd
	push "normal"
	cthis set
	end method
	method setactive
	push "active"
	cthis set
	end method
	method setact
	push "active"
	cthis set
	end method
	method setbut
	push "active"
	cthis set
	end method
	method setexit
	push "exit"
	cthis set
	end method
	method setwait
	push "wait"
	cthis set
	end method
	method get
	call anmsc,actionname
	end method
	method lodx
	call anmsc,lodx
	end method
	method lody
	call anmsc,lody
	end method
	method refresh
	push sactac
	push "null"
	cmpjne
	cmp0
	je l206
	push sactac
	cthis set
l206:
	end method
	end class

	new classadvmouse,advmouse
	call advmouse,stdload
	cthis checktouchpad
	neg
	cmp0
	je l208
	call advmouse,setstd
	push "anmsc"
	call engine,stdbutcursor
l208:
	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l209
	push $1
	push $5
	cmpjle
	cmp0
	je l209
	push $2
	push $4
	cmpjae
	cmp0
	je l209
	push $2
	push $6
	cmpjle
	jmp l211
l209:
	push 0
	jmp l211
l210:
	push 1
l211:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l212
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l212
	push $2
	push $4
	cmpjae
	cmp0
	je l212
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l214
l212:
	push 0
	jmp l214
l213:
	push 1
l214:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l216
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l216
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l216
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l216
	push $1
	push $5
	cmpjl
	cmp0
	je l217
	push $3
	push $7
	cmpja
	cmp0
	je l217
	push $2
	push $6
	cmpjl
	cmp0
	je l217
	push $4
	push $8
	cmpja
	jmp l219
l217:
	push 0
	jmp l219
l218:
	push 1
l219:
	jmp l220
l215:
	push 0
	jmp l220
l216:
	push 1
l220:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l222
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l223
l221:
	push 0
	jmp l223
l222:
	push 1
l223:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l224
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l224
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l224
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l226
l224:
	push 0
	jmp l226
l225:
	push 1
l226:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l227
	push ilx
	push $6
	cmpjle
	cmp0
	je l227
	push ily
	push $5
	cmpjae
	cmp0
	je l227
	push ily
	push $7
	cmpjle
	jmp l229
l227:
	push 0
	jmp l229
l228:
	push 1
l229:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l230:
	push $2
	push $6
	cmpjne
	cmp0
	je l231
	push $3
	push $7
	cmpjne
	jmp l233
l231:
	push 0
	jmp l233
l232:
	push 1
l233:
	cmp0
	je l234
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l236
	push $2
	push $3
	ret
l236:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l230
l234:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	method anfindnotr
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	cthis getex
	pop $5
	localint $6
	cthis getey
	pop $6
l237:
	push $1
	push $5
	cmpjne
	cmp0
	je l238
	push $2
	push $6
	cmpjne
	jmp l240
l238:
	push 0
	jmp l240
l239:
	push 1
l240:
	cmp0
	je l241
	push $1
	push $2
	push 0
	push 1
	cthis isin
	cmp0
	je l243
	push $1
	push $2
	ret
l243:
	push $3
	popax
	add $1,$a
	pop $1
	push $4
	popax
	add $2,$a
	pop $2
	jmp l237
l241:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method anfindalfa
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	cthis getex
	pop $6
	localint $7
	cthis getey
	pop $7
l244:
	push $1
	push $6
	cmpjne
	cmp0
	je l245
	push $2
	push $7
	cmpjne
	jmp l247
l245:
	push 0
	jmp l247
l246:
	push 1
l247:
	cmp0
	je l248
	push $1
	push $2
	push 0
	push 1
	cthis isin
	cmp0
	je l250
	localint $8
	push $1
	push $2
	cthis getrgba
	pop $8
	popax
	popax
	popax
	push $8
	push $5
	cmpje
	cmp0
	je l252
	push $1
	push $2
	ret
l252:
l250:
	push $3
	popax
	add $1,$a
	pop $1
	push $4
	popax
	add $2,$a
	pop $2
	jmp l244
l248:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method anfirstnotrx1y
	cthis getpx
	cthis getpy
	push 1
	push 0
	cthis anfindnotr
	ret
	end method
	method anfirstnotrexy1
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getpy
	push 0
	push 1
	cthis anfindnotr
	ret
	end method
	method anfirstnotrxy1
	cthis getpx
	cthis getpy
	push 0
	push 1
	cthis anfindnotr
	ret
	end method
	method anfirstnotrx1ey
	cthis getpx
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis anfindnotr
	ret
	end method
	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class ImagePos
	method init
	end method
	method getex
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	end class

	class ImageVisible
	method init
	new int,_isvisible
	push 1
	pop _isvisible
	end method
	method isvisible
	push _isvisible
	end method
	method show
	push 1
	pop _isvisible
	end method
	method hide
	push 0
	pop _isvisible
	end method
	end class

	class Image
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push A
	push "getz"
	push 0
	push "getpx"
	push 0
	push "getpy"
	push 0
	push "getw"
	push 0
	push "geth"
	push 0
	push "isvisible"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "show"
	push "Image0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "hide"
	push "Image1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setz"
	push "Image2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpos"
	push "Image3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "move"
	push "Image4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getex"
	push "Image5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getey"
	push "Image6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcx"
	push "Image7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcy"
	push "Image8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isin"
	push "Image9"
	spop $a
	call [$a],addmethod
	end method
	method Image0
	push 1
	pop isvisible
	end method
	method Image1
	push 0
	pop isvisible
	end method
	method Image2
	localint $1
	pop $1
	push $1
	pop getz
	end method
	method Image3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop getpx
	push $2
	pop getpy
	end method
	method Image4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add getpx,$a
	pop getpx
	push $2
	popax
	add getpy,$a
	pop getpy
	end method
	method Image5
	push getpx
	push getw
	pop $b
	popax
	add $a,$b
	end method
	method Image6
	push getpy
	push geth
	pop $b
	popax
	add $a,$b
	end method
	method Image7
	push getpx
	push getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image8
	push getpy
	push geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	neg
	cmp0
	je l254
	push $3
	neg
	cmp0
	jne l257
	push $3
	cmp0
	je l258
	push isvisible
	jmp l260
l258:
	push 0
	jmp l260
l259:
	push 1
l260:
	jmp l261
l256:
	push 0
	jmp l261
l257:
	push 1
l261:
	cmp0
	je l262
	push $1
	push getpx
	cmpjae
	cmp0
	je l263
	push $1
	cthis getex
	cmpjl
	cmp0
	je l263
	push $2
	push getpy
	cmpjae
	cmp0
	je l263
	push $2
	cthis getey
	cmpjl
	jmp l265
l263:
	push 0
	jmp l265
l264:
	push 1
l265:
	jmp l255
l262:
	push 0
l255:
	jmp l253
l254:
	push 0
l253:
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l267
	push $1
	cthis play
l267:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l268
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l270
l268:
	push 0
	jmp l270
l269:
	push 1
l270:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l271:
	push $2
	cthis size
	cmpjl
	cmp0
	je l272
	jmp l274
l273:
	add $2,1
	pop $2
	jmp l271
l274:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l273
l272:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l275:
	push $1
	push iile
	cmpjl
	cmp0
	je l276
	jmp l278
l277:
	add $1,1
	pop $1
	jmp l275
l278:
	push $1
	call _vs,get
	neg
	cmp0
	je l280
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l280:
	jmp l277
l276:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _san
	call $1,strsubbs
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	method allfree
	call _vs,vecsum
	push 0
	cmpje
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l282
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l284
	spop $a
	push $1
	cthis copy
	jmp l283
l284:
	push "gmobjvec"
	cmpst
	jne l285
	spop $a
	push $1
	cthis copy
	jmp l283
l285:
	push "gmimgvec"
	cmpst
	jne l286
	spop $a
	push $1
	cthis copy
	jmp l283
l286:
	spop $a
	cthis free
	push $1
	cthis add
l283:
	jmp l281
l282:
	cthis free
	push $1
	cthis add
l281:
	end method
	method save
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l288
	push $1
	call lsim,save
l288:
	end method
	method load
	localstring $1
	pop $1
	push $1
	call lsim,load
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l289:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l290
	jmp l292
l291:
	add $2,1
	pop $2
	jmp l289
l292:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l291
l290:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l293:
	push $2
	cthis size
	cmpjl
	cmp0
	je l294
	jmp l296
l295:
	add $2,1
	pop $2
	jmp l293
l296:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l295
l294:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l297:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l298
	jmp l300
l299:
	add $2,1
	pop $2
	jmp l297
l300:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l299
l298:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	end method
	method empty
	cthis size
	push 0
	cmpje
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	end method
	method print
	push ""
	call engine,print
	push "------ type("
	cthis gettype
	pop $b
	popax
	add $a,$b
	push ") "
	pop $b
	popax
	add $a,$b
	cthis getname
	pop $b
	popax
	add $a,$b
	push " ------"
	pop $b
	popax
	add $a,$b
	call engine,print
	call lsim,print
	push "------ end ------"
	call engine,print
	push ""
	call engine,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	end method
	method set
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,set
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l301:
	push $3
	push 0
	cmpja
	cmp0
	je l302
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l301
l302:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l303:
	push $1
	cthis size
	cmpjl
	cmp0
	je l304
	jmp l306
l305:
	add $1,1
	pop $1
	jmp l303
l306:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l305
l304:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l307:
	push $2
	cthis size
	cmpjl
	cmp0
	je l308
	jmp l310
l309:
	add $2,1
	pop $2
	jmp l307
l310:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l309
l308:
	end method
	method deleteallgmobj
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l311:
	push $2
	cthis size
	cmpjl
	cmp0
	je l312
	jmp l314
l313:
	add $2,1
	pop $2
	jmp l311
l314:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],deletegmobj
	jmp l313
l312:
	end method
	method lockall
	push "lock"
	cthis eval
	end method
	method unlockall
	push "unlock"
	cthis eval
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l316
	push $1
	call lsim,add
l316:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l317:
	push $2
	push $1
	cmpjne
	cmp0
	je l318
	push $2
	cthis addbegin
	pop $2
	jmp l317
l318:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method removelist
	push "remove"
	cthis withlist
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l320
	push $1
	cthis addbegin
	jmp l319
l320:
	push $2
	push $3
	cmpjae
	cmp0
	je l322
	push $1
	cthis add
	jmp l321
l322:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l323:
	push $4
	push $2
	cmpja
	cmp0
	je l324
	jmp l326
l325:
	sub $4,1
	pop $4
	jmp l323
l326:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l325
l324:
	push $2
	push $1
	cthis set
l321:
l319:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l327:
	push $1
	cthis contains
	cmp0
	je l328
	push $1
	cthis remove
	jmp l327
l328:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l329:
	push $2
	cthis size
	cmpjl
	cmp0
	je l330
	jmp l332
l331:
	add $2,1
	pop $2
	jmp l329
l332:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l334
	push $2
	cthis removeat
l334:
	jmp l331
l330:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l335:
	push $2
	push $3
	cmpjle
	cmp0
	je l336
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l335
l336:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l338
	call $1,rand
	cthis get
	jmp l337
l338:
	push "null"
l337:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l340
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l341:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l342
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l344
	push "null"
	ret
l344:
	jmp l341
l342:
	push $3
	cthis get
	jmp l339
l340:
	push "null"
l339:
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l346
l347:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l348
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l347
l348:
l346:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method isplaying
	localint $1
	push 0
	pop $1
l349:
	push $1
	cthis size
	cmpjl
	cmp0
	je l350
	jmp l352
l351:
	add $1,1
	pop $1
	jmp l349
l352:
	push $1
	cthis get
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],isplaying
	cmp0
	je l354
	push 1
	ret
l354:
	jmp l351
l350:
	push 0
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l355:
	push $5
	push 0
	cmpjae
	cmp0
	je l356
	jmp l358
l357:
	sub $5,1
	pop $5
	jmp l355
l358:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l360
	push $5
	call lsim,get
	ret
l360:
	jmp l357
l356:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l361:
	push $5
	push 0
	cmpjae
	cmp0
	je l362
	jmp l364
l363:
	sub $5,1
	pop $5
	jmp l361
l364:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l366
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l366:
	jmp l363
l362:
	push 0
	ret
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l367:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l368
	jmp l370
l369:
	add $2,1
	pop $2
	jmp l367
l370:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l369
l368:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l371:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l372
	jmp l374
l373:
	add $3,1
	pop $3
	jmp l371
l374:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l373
l372:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l375:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l376
	jmp l378
l377:
	add $4,1
	pop $4
	jmp l375
l378:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l377
l376:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l379:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l380
	jmp l382
l381:
	add $5,1
	pop $5
	jmp l379
l382:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l381
l380:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l383:
	push $3
	cthis size
	cmpjl
	cmp0
	je l384
	jmp l386
l385:
	add $3,1
	pop $3
	jmp l383
l386:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l388
	push $3
	ret
l388:
	jmp l385
l384:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l389:
	push $3
	cthis size
	cmpjl
	cmp0
	je l390
	jmp l392
l391:
	add $3,1
	pop $3
	jmp l389
l392:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l394
	push $3
	ret
l394:
	jmp l391
l390:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l395:
	push $2
	cthis size
	cmpjl
	cmp0
	je l396
	jmp l398
l397:
	add $2,1
	pop $2
	jmp l395
l398:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l397
l396:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l399:
	push $3
	cthis size
	cmpjl
	cmp0
	je l400
	jmp l402
l401:
	add $3,1
	pop $3
	jmp l399
l402:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l401
l400:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l403:
	push $4
	cthis size
	cmpjl
	cmp0
	je l404
	jmp l406
l405:
	add $4,1
	pop $4
	jmp l403
l406:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l405
l404:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l407:
	push $2
	cthis size
	cmpjl
	cmp0
	je l408
	jmp l410
l409:
	add $2,1
	pop $2
	jmp l407
l410:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l412
	push 0
	ret
l412:
	jmp l409
l408:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l414
	ret
l414:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l415:
	push $6
	cthis size
	cmpjl
	cmp0
	je l416
	jmp l418
l417:
	add $6,1
	pop $6
	jmp l415
l418:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l420
	push $6
	pop $3
	push $5
	pop $4
l420:
	jmp l417
l416:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l422
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l423
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l425
l423:
	push 0
	jmp l425
l424:
	push 1
l425:
	jmp l426
l421:
	push 0
	jmp l426
l422:
	push 1
l426:
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	new string,sanload
	push "null"
	pop sanload
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	end method
	method getposy
	push _iy
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	end method
	method getpy
	push _iy
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getz
	push _iz
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l428
	push _ix
	ret
l428:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l429:
	push $4
	push $1
	cmpjl
	cmp0
	je l430
	jmp l432
l431:
	add $4,1
	pop $4
	jmp l429
l432:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l434
	push $3
	pop $2
l434:
	jmp l431
l430:
	push $2
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l436
	push _iy
	ret
l436:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l437:
	push $4
	push $1
	cmpjl
	cmp0
	je l438
	jmp l440
l439:
	add $4,1
	pop $4
	jmp l437
l440:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l442
	push $3
	pop $2
l442:
	jmp l439
l438:
	push $2
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l444
	push _ix
	ret
l444:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l445:
	push $4
	push $1
	cmpjl
	cmp0
	je l446
	jmp l448
l447:
	add $4,1
	pop $4
	jmp l445
l448:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l450
	push $3
	pop $2
l450:
	jmp l447
l446:
	push $2
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l452
	push _iy
	ret
l452:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l453:
	push $4
	push $1
	cmpjl
	cmp0
	je l454
	jmp l456
l455:
	add $4,1
	pop $4
	jmp l453
l456:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l458
	push $3
	pop $2
l458:
	jmp l455
l454:
	push $2
	end method
	method _getw
	cthis getex
	cthis _getpx
	pop $b
	popax
	sub $a,$b
	end method
	method _geth
	cthis getey
	cthis _getpy
	pop $b
	popax
	sub $a,$b
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l460
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l460:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l461:
	push $3
	cthis size
	cmpjl
	cmp0
	je l462
	jmp l464
l463:
	add $3,1
	pop $3
	jmp l461
l464:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l463
l462:
	end method
	method nplay
	localint $1
	pop $1
	push "play"
	push $1
	cthis eval1
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l465:
	push $1
	cthis size
	cmpjl
	cmp0
	je l466
	jmp l468
l467:
	add $1,1
	pop $1
	jmp l465
l468:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l467
l466:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l469:
	push $5
	push 0
	cmpjae
	cmp0
	je l470
	jmp l472
l471:
	sub $5,1
	pop $5
	jmp l469
l472:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l474
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l474:
	jmp l471
l470:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l475:
	push $4
	push 0
	cmpjae
	cmp0
	je l476
	jmp l478
l477:
	sub $4,1
	pop $4
	jmp l475
l478:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l480
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l480:
	jmp l477
l476:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l481:
	push $5
	push 0
	cmpjae
	cmp0
	je l482
	jmp l484
l483:
	sub $5,1
	pop $5
	jmp l481
l484:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l486
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l488
l486:
	push 0
	jmp l488
l487:
	push 1
l488:
	cmp0
	je l489
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l489:
	jmp l483
l482:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	end method
	method withincut
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	push $1
	push "gmimgvec0"
	cthis ineach
	pop $1
	pop $2
	end method
	method gmimgvec0
	localdef $1
	pop $1
	localint $2
	pop $2
	localint $3
	pop $3
	push $2
	push $3
	cthis withincut
	push $3
	push $2
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	end method
	method getsfound
	push _ifound
	cthis get
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "anactnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec1"
	cthis find_closest
	end method
	method gmimgvec1
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method getsac
	localstring $1
	pop $1
	push $1
	cthis findsac
	cthis get
	end method
	method getsacfr
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l490:
	push $3
	cthis size
	cmpjl
	cmp0
	je l491
	jmp l493
l492:
	add $3,1
	pop $3
	jmp l490
l493:
	push $3
	cthis get
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	cmp0
	je l495
	push $3
	cthis get
	spushs
	spop $a
	call [$a],framenr
	push $2
	cmpje
	jmp l497
l495:
	push 0
	jmp l497
l496:
	push 1
l497:
	cmp0
	je l498
	push $3
	cthis get
	ret
l498:
	jmp l492
l491:
	push "null"
	end method
	method blitto
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l499:
	push $2
	cthis size
	cmpjl
	cmp0
	je l500
	jmp l502
l501:
	add $2,1
	pop $2
	jmp l499
l502:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],blit
	jmp l501
l500:
	end method
	method sortz
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l503:
	push $2
	cthis size
	cmpjl
	cmp0
	je l504
	jmp l506
l505:
	add $2,1
	pop $2
	jmp l503
l506:
	push $2
	cthis get
	spushs
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	jmp l505
l504:
	end method
	method ancopies
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l507:
	push $3
	push $2
	cmpjl
	cmp0
	je l508
	jmp l510
l509:
	add $3,1
	pop $3
	jmp l507
l510:
	push GAME
	spushs
	push $1
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],copyanima
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	cthis add
	jmp l509
l508:
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method addsrcanima
	localstring $1
	pop $1
	push "srcanima"
	push $1
	cthis var2
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l512
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l514
	new vector,_vtmp
	push "string"
	call _vtmp,type
	push $1
	push "/"
	call _vtmp,vecbuildfromstring
	push "an"
	call _vtmp,last
	spushs
	push ".pyz"
	spop $h
	call $h,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	delete _vtmp
	jmp l513
l514:
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
l513:
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l511
l512:
	push $1
	pop $3
l511:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	push $3
	cthis addsrcanima
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l516
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l515
l516:
	push $1
	pop $3
l515:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	push $3
	cthis addsrcanima
	end method
	method deleteloaded
	cthis deleteallgm
	push sanload
	push "null"
	cmpjne
	cmp0
	je l518
	call gameapi,getgamename
	spushs
	push sanload
	spop $a
	call [$a],vardel
l518:
	end method
	method deleteinit
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l519:
	push $2
	cthis size
	cmpjl
	cmp0
	je l520
	jmp l522
l521:
	add $2,1
	pop $2
	jmp l519
l522:
	localdef $3
	push $2
	cthis get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l524
	push $3
	spushs
	spop $a
	call [$a],deleteinit
l524:
	push $1
	spushs
	push $3
	spop $a
	call [$a],vardel
	jmp l521
l520:
	push sanload
	push "null"
	cmpjne
	cmp0
	je l526
	call gameapi,getgamename
	spushs
	push sanload
	spop $a
	call [$a],vardel
l526:
	end method
	end class

	class gmadvvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l527:
	push $5
	push 0
	cmpjae
	cmp0
	je l528
	jmp l530
l529:
	sub $5,1
	pop $5
	jmp l527
l530:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],butisin
	cmp0
	je l532
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l532:
	jmp l529
l528:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	end method
	end class

	class gmmaskvec
	parent gmadvvec
	method init
	clparent gmadvvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,butisin
	end method
	end class

	new int,igmsubtitle
	push "igmsubtitle:"
	push 0
	cthis readcfg
	pop igmsubtitle
	new int,igmlektor
	push "igmlektor:"
	push 1
	cthis readcfg
	pop igmlektor
	new int,igmchardelay
	push "igmchardelay:"
	push 100
	cthis readcfg
	pop igmchardelay
	new int,igmsubmindelay
	push 2000
	push "igmsubmindelay:"
	push 2000
	cthis readcfg
	push 200000
	cthis between
	pop igmsubmindelay
	class Subtitle
	method init
	localstring $1
	localint $2
	pop $2
	pop $1
	localreal $3
	push 0.5
	pop $3
	new int,col0
	new int,col1
	new int,col2
	cthis restorecolor
	localstring $4
	push SNDPATH
	pop $4
	new string,ssubpos
	push "sgmsubtitlespos:"
	push "down"
	cthis readcfg
	pop ssubpos
	localdef $5
	push "sgmsubtitlespos:"
	push 2
	call dbconf,dbgets
	pop $5
	new int,isubpos
	push $5
	push "null"
	cmpjne
	cmp0
	je l534
	push $5
	jmp l533
l534:
	push 15
l533:
	pop isubpos
	new int,bshadow
	push "igmsubshadow:"
	push 0
	cthis readcfg
	pop bshadow
	new int,bblackbg
	push "igmsubblackbg:"
	push 170
	cthis readcfg
	pop bblackbg
	new int,iborx
	push $2
	pop iborx
	new int,ifontsize
	call fntsubtitle,getsize
	pop ifontsize
	new db,dbl
	push LANGDIR
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,load
	localint $6
	push 0
	pop $6
	localstring $5
l535:
	push $6
	call dbl,getrowsno
	cmpjl
	cmp0
	je l536
	push $6
	call dbl,getcolsno
	push 2
	cmpjl
	cmp0
	jne l539
	push $6
	push 0
	call dbl,get
	spushs
	push 0
	push 1
	spop $h
	call $h,getb
	push "#"
	cmpje
	jmp l540
l538:
	push 0
	jmp l540
l539:
	push 1
l540:
	cmp0
	je l541
	push $6
	call dbl,removerow
	jmp l537
l541:
	add $6,1
	pop $6
l537:
	jmp l535
l536:
	localstring $7
	new vector,v1
	push "string"
	call v1,type
	localint $8
	push iResX
	push 2
	push $2
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $3
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop $8
	localint $9
	localint $10
	localint $11
	push 0
	pop $11
	localint $6
	push 0
	pop $6
l542:
	push $6
	call dbl,getrowsno
	cmpjl
	cmp0
	je l543
	jmp l545
l544:
	add $6,1
	pop $6
	jmp l542
l545:
	push $4
	push $6
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	neg
	cmp0
	je l547
	push $4
	push $6
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push ".ogg"
	pop $b
	popax
	add $a,$b
	pop $5
l547:
	push $6
	push 0
	push $5
	call dbl,set
	push $6
	push 1
	call dbl,get
	pop $5
	push $5
	push " "
	call v1,vecbuildfromstring
	push ""
	pop $7
	push 1
	pop $9
	push 0
	pop $10
l548:
	push $10
	call v1,size
	cmpjl
	cmp0
	je l549
	jmp l551
l550:
	add $10,1
	pop $10
	jmp l548
l551:
	call $7,length
	push $10
	call v1,get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	push $8
	cmpjle
	cmp0
	je l553
	push " "
	push $10
	call v1,get
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l552
l553:
	push $9
	push 1
	cmpje
	cmp0
	je l555
	push $6
	push $9
	push $7
	call dbl,set
	jmp l554
l555:
	push $6
	push $7
	call dbl,add
l554:
	push $10
	call v1,get
	pop $7
	add $9,1
	pop $9
l552:
	jmp l550
l549:
	push $9
	push 1
	cmpje
	cmp0
	je l557
	push $6
	push $9
	push $7
	call dbl,set
	jmp l556
l557:
	push $6
	push $7
	call dbl,add
l556:
	push $9
	push $11
	cmpja
	cmp0
	je l559
	push $9
	pop $11
l559:
	jmp l544
l543:
	new gmimgvec,grtxt
	new gmimgvec,grtxts
	localint $6
	push 0
	pop $6
l560:
	push $6
	push $11
	cmpjl
	cmp0
	je l561
	jmp l563
l562:
	add $6,1
	pop $6
	jmp l560
l563:
	push "txt"
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push bshadow
	cmp0
	je l565
	push "txts"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push ""
	push "fntsubtitle"
	cthis black
	clparent classgame,newtext
	push $7
	call grtxts,add
	jmp l564
l565:
	push bblackbg
	cmp0
	je l567
	push "imgs"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	spushs
	spop $e
	new img,[$e]
	push $7
	call grtxts,add
l567:
l564:
	push $5
	push ""
	push "fntsubtitle"
	cthis getcolor
	clparent classgame,newtext
	push $5
	call grtxt,add
	jmp l562
l561:
	new db,dbsnd
	new timer,timtxt
	push 1
	call timtxt,settick
	push 1
	call timtxt,setcycle
	push "onfinish"
	push "Subtitle0"
	call timtxt,addmethod
	push 12000
	cthis setz
	end method
	method Subtitle0
	cthis cisplaying
	neg
	cmp0
	je l569
	cthis hidesubs
	jmp l568
l569:
	cthis play
l568:
	end method
	method geth
	call grtxts,size
	cmp0
	je l571
	call grtxts,first
	spushs
	spop $a
	call [$a],geth
	jmp l570
l571:
	call grtxt,size
	cmp0
	je l573
	call grtxt,last
	spushs
	spop $a
	call [$a],geth
	jmp l572
l573:
	push 0
l572:
l570:
	end method
	method reset
	cthis stop
	call dbsnd,free
	end method
	method hidesubs
	call grtxt,hide
	call grtxts,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	call grtxt,setz
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call grtxts,setz
	end method
	method stop
	cthis hidesubs
	push 0
	call timtxt,stop
	end method
	method register
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l575
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l577
	push $4
	push 1
	push $3
	call dbsnd,set
	jmp l576
l577:
	localdef $4
	call dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push $4
	push $1
	call dbsnd,add
	push $4
	push $3
	call dbsnd,add
l576:
l575:
	end method
	method getiddialog
	localstring $1
	pop $1
	push $1
	call dbsnd,findbyrow
	end method
	method hasdialog
	localstring $1
	pop $1
	push $1
	cthis getiddialog
	push 0
	cmpjae
	end method
	method play
	localstring $1
	pop $1
	cthis stop
	localdef $2
	push $1
	call dbsnd,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l579
	localint $3
	push 0
	pop $3
	push $2
	push 1
	call dbsnd,get
	pop $2
	localdef $4
	push $2
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localstring $5
	localstring $6
	localint $7
	localint $8
	push 0
	push 0
	call grtxt,setpos
	localint $8
	push 2
	pop $8
	localint $9
	push 0
	pop $9
l580:
	push $9
	push $4
	cmpjl
	cmp0
	je l581
	jmp l583
l582:
	add $9,1
	pop $9
	jmp l580
l583:
	push $9
	call grtxt,get
	pop $5
	push $5
	spushs
	push $2
	push $9
	push 1
	pop $b
	popax
	add $a,$b
	call dbl,get
	push col0
	push col1
	push col2
	spop $a
	call [$a],txtsetcol
	push $5
	spushs
	spop $a
	call [$a],get
	spushs
	spop $h
	call $h,length
	popax
	add $3,$a
	pop $3
	push $5
	spushs
	push iResX
	push $5
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push igmoffsetx
	pop $b
	popax
	add $a,$b
	push $9
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push $8
	pop $b
	popax
	add $a,$b
	push igmoffsety
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	push bshadow
	cmp0
	je l585
	push $9
	call grtxt,get
	pop $6
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	push col0
	push col1
	push col2
	spop $a
	call [$a],txtsetcol
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	spop $a
	call [$a],show
l585:
	jmp l582
l581:
	push bblackbg
	cmp0
	je l587
	call grtxt,first
	pop $5
	call grtxts,first
	pop $6
	push ssubpos
	push "up"
	cmpje
	cmp0
	je l589
	push $6
	spushs
	push iResX
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	call grtxt,get
	spushs
	spop $a
	call [$a],getey
	cthis black
	push bblackbg
	spop $a
	call [$a],create
	push $6
	spushs
	push igmoffsetx
	push igmoffsety
	spop $a
	call [$a],setpos
	jmp l588
l589:
	push $6
	spushs
	push iResX
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	call grtxt,get
	spushs
	spop $a
	call [$a],getey
	push $5
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	cthis black
	push bblackbg
	spop $a
	call [$a],create
	push $6
	spushs
	push igmoffsetx
	push $5
	spushs
	spop $a
	call [$a],getpy
	push igmoffsety
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l588:
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	spop $a
	call [$a],show
l587:
	push ssubpos
	push "up"
	cmpje
	cmp0
	je l591
	push 0
	pop $8
	jmp l590
l591:
	push iResY
	push $4
	push ifontsize
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push isubpos
	pop $b
	popax
	sub $a,$b
	pop $8
	push 0
	push $8
	call grtxt,move
	push bshadow
	cmp0
	jne l594
	push bblackbg
	jmp l595
l593:
	push 0
	jmp l595
l594:
	push 1
l595:
	cmp0
	je l596
	push 0
	push $8
	call grtxts,move
l596:
l590:
	call timtxt,play
	push igmchardelay
	popax
	mul $3,$a
	pop $3
	push $3
	push igmsubmindelay
	cmpjl
	cmp0
	je l598
	push igmsubmindelay
	jmp l597
l598:
	push $3
l597:
	jmp l578
l579:
	push 0
l578:
	end method
	method setcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop col0
	push $2
	pop col1
	push $3
	pop col2
	end method
	method getcolor
	push col0
	push col1
	push col2
	ret
	end method
	method restorecolor
	cthis white
	cthis setcolor
	end method
	end class

	push igmsubtitle
	cmp0
	je l600
	new font,fntsubtitle
	push "subtitles_font:"
	push sgmfontfile
	cthis readcfg
	push "subtitles_fontsize:"
	push 24
	spushs
	spop $h
	call $h,igetsc
	cthis readcfg
	call fntsubtitle,load
	push "subtitles_src:"
	push "subtitles.db"
	cthis readcfg
	push 50
	new Subtitle,subtitle
l600:
	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	new timer,timlektor
	call timlektor,classsound0
	push "setsndfin"
	push "classsound1"
	call timlektor,addmethod
	push "onfinish"
	push "classsound2"
	call timlektor,addmethod
	push igmsubtitle
	cmp0
	je l606
	call subtitle,reset
l606:
	end method
	method classsound0
	new int,bsndfin
	push 1
	pop bsndfin
	end method
	method classsound1
	localint $1
	pop $1
	push $1
	pop bsndfin
	end method
	method classsound2
	push bsndfin
	cmp0
	je l602
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l604
	push _csplay
	spushs
	spop $a
	call [$a],onfinish
l604:
	jmp l601
l602:
	push 1
	pop bsndfin
l601:
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	end method
	method cisactsnd
	localstring $1
	pop $1
	push $1
	push _csplay
	cmpje
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l608
	push $1
	cthis cbplay
	jmp l607
l608:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l610
	push $1
	cthis cbplay
l610:
l607:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l613
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l614
l612:
	push 0
	jmp l614
l613:
	push 1
l614:
	cmp0
	je l615
	push $1
	cthis cbplay
l615:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l617
	push 1
	cthis csplaystop
l617:
	push $1
	cthis cbsplay
	end method
	method cbsplay
	localstring $1
	pop $1
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l619
	push $1
	cthis csubplay
l619:
	end method
	method cbplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	push $1
	cthis cbplay
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l621
	push 0
	cthis csplaystop
l621:
	push $1
	cthis cbsplay
	end method
	method crplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l623
	push $1
	cthis cbsplay
l623:
	end method
	method cbplayif
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l625
	push $1
	cthis cbplay
l625:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l627
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l629
l627:
	push 0
	jmp l629
l628:
	push 1
l629:
	cmp0
	je l630
	push $1
	cthis csubplay
l630:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l632
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l632:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l634
	push $3
	push "null"
	cmpjne
	jmp l636
l634:
	push 0
	jmp l636
l635:
	push 1
l636:
	cmp0
	je l637
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l637:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l639
	push $1
	cthis csplaystop
l639:
	end method
	method csplaystop
	localint $1
	pop $1
	call timlektor,isplaying
	cmp0
	je l641
	push $1
	call timlektor,setsndfin
	push 1
	call timlektor,stop
	jmp l640
l641:
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l640:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l643
	cthis cisplaying
	jmp l645
l643:
	push 0
	jmp l645
l644:
	push 1
l645:
	cmp0
	je l646
	push $1
	cthis cactsndstop
l646:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l648
	call timlektor,isplaying
	cmp0
	jne l650
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l651
l649:
	push 0
	jmp l651
l650:
	push 1
l651:
	jmp l647
l648:
	push 0
l647:
	end method
	method cisplayingsnd
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l653
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l652
l653:
	push 0
l652:
	end method
	method csubplay
	localstring $1
	pop $1
	push igmsubtitle
	cmp0
	je l655
	localint $2
	push igmlektor
	pop $2
	push $1
	spushs
	spop $a
	call [$a],loaded
	neg
	cmp0
	je l657
	push 0
	pop igmlektor
l657:
	localdef $3
	push $1
	call subtitle,play
	pop $3
	push igmlektor
	cmp0
	jne l660
	push $3
	push 0
	cmpjle
	jmp l661
l659:
	push 0
	jmp l661
l660:
	push 1
l661:
	cmp0
	je l662
	push $1
	spushs
	spop $a
	call [$a],play
	jmp l658
l662:
	push $3
	call timlektor,setdelay
	call timlektor,play
l658:
	push $2
	pop igmlektor
	jmp l654
l655:
	push $1
	spushs
	spop $a
	call [$a],play
l654:
	end method
	method cisdialogplaying
	cthis cisplaying
	cmp0
	je l663
	cthis cgetactsnd
	call subtitle,hasdialog
	jmp l665
l663:
	push 0
	jmp l665
l664:
	push 1
l665:
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l667
	push 0
	pop iile
	ret
l667:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l668:
	push $3
	push $2
	cmpjl
	cmp0
	je l669
	jmp l671
l670:
	add $3,1
	pop $3
	jmp l668
l671:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l670
l669:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l673
	push 0
	pop iile
	ret
l673:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l675
	call iile,rand
	pop ilicz
l675:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l676:
	push $3
	push iile
	cmpjl
	cmp0
	je l677
	jmp l679
l678:
	add $3,1
	pop $3
	jmp l676
l679:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l678
l677:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l681
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l681:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l683
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l682
l683:
	push 0
l682:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l685
	cthis play
l685:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l687
	cthis bgplay
l687:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l689
	cthis play
l689:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l691
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l690
l691:
	push itype
	push 1
	cmpje
	cmp0
	je l693
	call iile,rand
	pop ilicz
l693:
l690:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l694:
	push $2
	push iile
	cmpjl
	cmp0
	je l695
	jmp l697
l696:
	add $2,1
	pop $2
	jmp l694
l697:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l696
l695:
	end method
	end class

	class SoundSource
	method init
	end method
	method setvol
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call $5,abs
	push $4
	cmpjae
	cmp0
	je l699
	push $1
	spushs
	push $3
	spop $a
	call [$a],setvol
	jmp l698
l699:
	push 1.0
	call $5,abs
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push 100
	cmpja
	cmp0
	je l701
	push 100
	pop $2
l701:
	push $1
	spushs
	push $2
	spop $a
	call [$a],setvol
l698:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	new gmobjvec,_grsfxs
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l703
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l702
l703:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l702:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method timplay
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l705
	push "L"
	call $1,strremove
	push 1
	pop $2
l705:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l707
	push "P"
	call $1,strremove
	push 1
	pop $3
l707:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l709
	push "H"
	call $1,strremove
	push 1
	pop $4
l709:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	push $1
	cthis _build_img
	popax
	end method
	method getlangfile
	localstring $1
	pop $1
	localdef $2
	push 4
	call $1,strsube
	push "_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push 0
	push 4
	call $1,gete
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	cthis getpath
	call engine,fileexist
	cmp0
	je l711
	push $2
	jmp l710
l711:
	push $1
l710:
	end method
	method _build_img
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
	push "G"
	call $1,contains
	cmp0
	je l713
	push "G"
	call $1,strremove
	push 1
	pop $5
l713:
	localdef $6
	push 0
	pop $6
	push " "
	call $1,contains
	cmp0
	je l715
	push " "
	call $1,strgetfrom
	pop $6
	push " "
	call $1,strgetto
	pop $1
l715:
	localstring $7
	push "/"
	call $1,contains
	cmp0
	je l717
	new vector,_v_sfile
	push "string"
	call _v_sfile,type
	push $1
	push "/"
	call _v_sfile,vecbuildfromstring
	call _v_sfile,last
	spushs
	push 4
	spop $h
	call $h,strsube
	pop $7
	delete _v_sfile
	jmp l716
l717:
	push 4
	call $1,strsube
	pop $7
l716:
	localstring $8
	push ".pyz"
	call $1,contains
	cmp0
	je l719
	push $5
	cmp0
	je l721
	push "gr"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	spushs
	push ".pyz"
	spop $h
	call $h,strsubes
	push $6
	cthis newgrimg
	jmp l720
l721:
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	push $6
	cthis newanima
l720:
	jmp l718
l719:
	push "img"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	push $6
	cthis newimg
l718:
	push $2
	cmp0
	je l723
	push $8
	spushs
	spop $a
	call [$a],anloopfin
l723:
	push $3
	cmp0
	je l725
	push $8
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l725:
	push $4
	cmp0
	je l727
	push $8
	spushs
	spop $a
	call [$a],hide
l727:
	push $8
	end method
	method imgsgr=
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	localdef $3
	pop $3
l728:
	push A
	push $3
	cmpjne
	cmp0
	je l729
	push $1
	spushs
	push $3
	cthis _build_img
	spop $a
	call [$a],add
	localdef $3
	pop $3
	jmp l728
l729:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l730:
	push A
	push $2
	cmpjne
	cmp0
	je l731
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l730
l731:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localint $2
	push "N"
	call $1,contains
	pop $2
	push $2
	cmp0
	je l733
	push "N"
	call $1,strremove
l733:
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	popax
	pop $4
	pop $3
	pop $1
	localdef $5
	push 100
	pop $5
	push " "
	call $1,contains
	cmp0
	je l735
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l735:
	localstring $6
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $6
	spushs
	push $5
	spop $a
	call [$a],setvol
	push $3
	cmp0
	je l737
	push $6
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l737:
	push $4
	cmp0
	je l739
	push $6
	spushs
	spop $a
	call [$a],play
	jmp l738
l739:
	push $2
	cmp0
	je l741
	push $6
	spushs
	spop $a
	call [$a],playloop
l741:
l738:
	push $6
	call _grsfxs,add
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method snd=
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsndfree
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l743
	new TicksCounter,__timspeed
l743:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l745
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l745:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method newfontbold
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontbold
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method stdmono
	localint $1
	pop $1
	push sgmfontmono
	push $1
	cthis snewfont
	end method
	method stdbold
	localint $1
	pop $1
	push sgmfontbold
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method newgrimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	push $2
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l746:
	push $2
	push $3
	cmpjle
	cmp0
	je l747
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l746
l747:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l748:
	push $6
	push $5
	cmpjl
	cmp0
	je l749
	jmp l751
l750:
	add $6,1
	pop $6
	jmp l748
l751:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l750
l749:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l752:
	push $7
	push $5
	cmpjl
	cmp0
	je l753
	jmp l755
l754:
	add $7,1
	pop $7
	jmp l752
l755:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l754
l753:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l756:
	push $7
	push $5
	cmpjl
	cmp0
	je l757
	jmp l759
l758:
	add $7,1
	pop $7
	jmp l756
l759:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l758
l757:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l760:
	push $3
	push $4
	cmpjl
	cmp0
	je l761
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l763
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l766
	push $12
	push "sfx"
	cmpje
	jmp l767
l765:
	push 0
	jmp l767
l766:
	push 1
l767:
	cmp0
	je l768
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l770
	push $14
	push $13
	cthis newsfx
	jmp l769
l770:
	push $14
	push $13
	cthis newsnd
l769:
	push $7
	push $6
	cmpjl
	cmp0
	je l772
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l774
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l773
l774:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l776
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l775
l776:
	push $12
	push "vol"
	cmpje
	cmp0
	je l778
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l778:
l775:
l773:
l772:
	jmp l764
l768:
	push $12
	push "group"
	cmpje
	cmp0
	je l780
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l782
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l784
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l784:
	jmp l781
l782:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l781:
	jmp l779
l780:
	push $12
	push "bank"
	cmpje
	cmp0
	je l786
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l788
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l790
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l789
l790:
	push $12
	push "vol"
	cmpje
	cmp0
	je l792
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l792:
l789:
l788:
	jmp l785
l786:
	push $12
	push "method"
	cmpje
	cmp0
	je l794
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l795:
	push $8
	push $9
	cmpjle
	cmp0
	je l796
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l795
l796:
	jmp l793
l794:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l798
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l797
l798:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l800
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l802
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l804
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l804:
l802:
	jmp l799
l800:
	push $12
	push "music"
	cmpje
	cmp0
	je l806
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l808
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l810
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l810:
l808:
l806:
l799:
l797:
l793:
l785:
l779:
l764:
l763:
	add $3,1
	pop $3
	jmp l760
l761:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	method cgetscreenshoot
	localstring $1
	localreal $2
	pop $2
	pop $1
	push igmenablesave
	cmp0
	je l812
	new img,_imgsavebkg
	push iResX
	push iResY
	cthis white
	push 255
	call _imgsavebkg,create
	push 2000
	call _imgsavebkg,setz
	call _imgsavebkg,blitscreen
	push $2
	push 1.0
	cmpjne
	cmp0
	je l814
	new filter,_ftbg
	push "_imgsavebkg"
	call _ftbg,link
	push 1
	call _ftbg,setsmooth
	push $2
	call _ftbg,setzoom
l814:
	push 0
	push 0
	call _imgsavebkg,setpos
	new img,_im_1
	push $2
	push iResX
	pop $b
	popax
	mul $a,$b
	push $2
	push iResY
	pop $b
	popax
	mul $a,$b
	cthis white
	push 255
	call _im_1,create
	call _imgsavebkg,getpx
	call _imgsavebkg,getpy
	call _im_1,setpos
	push "_imgsavebkg"
	call _im_1,blit
	push $1
	call _im_1,save
	delete _im_1
	push $2
	push 1.0
	cmpjne
	cmp0
	je l816
	call _ftbg,unlink
	delete _ftbg
l816:
	delete _imgsavebkg
l812:
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l817:
	push $2
	push $3
	cmpjle
	cmp0
	je l818
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l820
	push $2
	ret
l820:
	add $2,1
	pop $2
	jmp l817
l818:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l822
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l822:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l823:
	push $14
	push $6
	cmpjl
	cmp0
	je l824
	jmp l826
l825:
	add $14,1
	pop $14
	jmp l823
l826:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l827:
	push $8
	push $7
	cmpjle
	cmp0
	je l828
	jmp l830
l829:
	add $8,1
	pop $8
	jmp l827
l830:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l832
	push $13
	pop $10
	jmp l831
l832:
	push $8
	push 2
	cmpje
	cmp0
	je l834
	push $13
	pop $11
	jmp l833
l834:
	push $8
	push 3
	cmpje
	cmp0
	je l836
	push $13
	pop $12
l836:
l833:
l831:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l829
l828:
	push $4
	push "null"
	cmpjne
	cmp0
	je l838
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l840
l838:
	push 0
	jmp l840
l839:
	push 1
l840:
	cmp0
	je l841
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l837
l841:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l837:
	jmp l825
l824:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l843
	push sfxmon
	spushs
	spop $a
	call [$a],play
l843:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l845
	ret
l845:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l846:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l847
	jmp l849
l848:
	add $5,1
	pop $5
	jmp l846
l849:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l848
l847:
	end method
	method print
	localint $1
	push 0
	pop $1
l850:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l851
	jmp l853
l852:
	add $1,1
	pop $1
	jmp l850
l853:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l852
l851:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l854:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l855
	jmp l857
l856:
	add $2,1
	pop $2
	jmp l854
l857:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l856
l855:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l858:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l859
	jmp l861
l860:
	add $3,1
	pop $3
	jmp l858
l861:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l860
l859:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l863
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l862
l863:
	push "null"
l862:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l864:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l865
	jmp l867
l866:
	add $2,1
	pop $2
	jmp l864
l867:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l866
l865:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l869
	push iilebut
	pop $2
l869:
	localint $3
	push 0
	pop $3
l870:
	push $3
	push $2
	cmpjl
	cmp0
	je l871
	jmp l873
l872:
	add $3,1
	pop $3
	jmp l870
l873:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l872
l871:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method resetall
	localint $1
	push 0
	pop $1
l874:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l875
	jmp l877
l876:
	add $1,1
	pop $1
	jmp l874
l877:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setcursorpos
	jmp l876
l875:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l878:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l879
	jmp l881
l880:
	add $3,1
	pop $3
	jmp l878
l881:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setcursorpos
	jmp l880
l879:
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l883
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l882
l883:
	push "null"
l882:
	ret
	end method
	method callimgfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getimg
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l885
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l885:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l887
	ret
l887:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l889
	push sfxmon
	spushs
	spop $a
	call [$a],play
l889:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l890:
	push $4
	push $3
	cmpjl
	cmp0
	je l891
	jmp l893
l892:
	add $4,1
	pop $4
	jmp l890
l893:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l892
l891:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l895
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l894
l895:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l894:
	push $4
	cmp0
	je l897
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l897:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l899
	cthis get
	jmp l898
l899:
	push 0
	push $2
	cthis getb
l898:
	end method
	method strgeteto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis rfind
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l901
	cthis get
	jmp l900
l901:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
l900:
	end method
	method streq
	localstring $1
	pop $1
	cthis get
	push 0
	cthis length
	call $1,getb
	cmpje
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l902:
	push $4
	cthis length
	cmpjl
	cmp0
	je l903
	jmp l905
l904:
	add $4,1
	pop $4
	jmp l902
l905:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l908
	push $3
	push $2
	cmpja
	jmp l909
l907:
	push 0
	jmp l909
l908:
	push 1
l909:
	cmp0
	je l910
	push 0
	ret
l910:
	jmp l904
l903:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l911:
	push $3
	cthis length
	cmpjl
	cmp0
	je l912
	jmp l914
l913:
	add $3,1
	pop $3
	jmp l911
l914:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l913
l912:
	end method
	method strdotpos
	localint $1
	pop $1
	push "."
	cthis strgetto
	push "."
	pop $b
	popax
	add $a,$b
	push "."
	cthis strgetfrom
	spushs
	push 0
	push $1
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l916
	push 0
	jmp l915
l916:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l915:
	end method
	method between
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l918
	push $1
	jmp l917
l918:
	push $2
	push $3
	cmpja
	cmp0
	je l920
	push $3
	jmp l919
l920:
	push $2
l919:
l917:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l922
	push $1
	jmp l921
l922:
	push $2
l921:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l924
	push $1
	jmp l923
l924:
	push $2
l923:
	end method
	method movoffsetr
	push igmoffsetx
	push 0
	cthis move
	end method
	method movoffsetl
	push igmoffsetx
	popax
	sub 0,$a
	push 0
	cthis move
	end method
	method imgprint
	cthis getname
	push ": pos="
	pop $b
	popax
	add $a,$b
	cthis getposx
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	cthis getposy
	pop $b
	popax
	add $a,$b
	push " xy="
	pop $b
	popax
	add $a,$b
	cthis getpx
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	cthis getpy
	pop $b
	popax
	add $a,$b
	push " wh="
	pop $b
	popax
	add $a,$b
	cthis getw
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	cthis geth
	pop $b
	popax
	add $a,$b
	push " exy="
	pop $b
	popax
	add $a,$b
	cthis getex
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	cthis getey
	pop $b
	popax
	add $a,$b
	push " lod="
	pop $b
	popax
	add $a,$b
	cthis lodx
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	cthis lody
	pop $b
	popax
	add $a,$b
	push " z="
	pop $b
	popax
	add $a,$b
	cthis getz
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
	end method
	method imgborders
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push "1111"
	cthis imgborderss
	end method
	method imgborderss
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new img,_img_bor
	cthis getw
	push $1
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 3
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l926
	push "_img_bor"
	cthis blit
l926:
	push 0
	cthis geth
	push $1
	pop $b
	popax
	sub $a,$b
	call _img_bor,move
	push 1
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l928
	push "_img_bor"
	cthis blit
l928:
	push $1
	cthis geth
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 0
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l930
	push "_img_bor"
	cthis blit
l930:
	cthis getw
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	call _img_bor,move
	push 2
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l932
	push "_img_bor"
	cthis blit
l932:
	delete _img_bor
	end method
	method imgroundborder
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis imgborders
	cthis imgerasecorners
	end method
	method imgerasecorners
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push $1
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	push $1
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	end method
	method imgdrawline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "blit"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgeraseline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "erase"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgputoncenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method imgfuncline
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $9
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	pop $9
	localdef $10
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	pop $10
	localreal $11
	push $9
	push 0
	cmpje
	cmp0
	je l934
	push $10
	push 0
	cmpjl
	cmp0
	je l936
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l937:
	push $11
	push $6
	cmpjae
	cmp0
	je l938
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	sub $11,$a
	pop $11
	jmp l937
l938:
	push $6
	push $11
	pop $b
	popax
	sub $a,$b
	jmp l935
l936:
	push $10
	push 0
	cmpja
	cmp0
	je l940
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l941:
	push $11
	push $6
	cmpjle
	cmp0
	je l942
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $11,$a
	pop $11
	jmp l941
l942:
	push $11
	push $6
	pop $b
	popax
	sub $a,$b
	jmp l939
l940:
	push $8
l939:
l935:
	jmp l933
l934:
	push $9
	push $10
	call $8,length
	pop $11
	localreal $12
l943:
	push $8
	push $11
	cmpjle
	cmp0
	je l944
	push 1.0
	push $11
	push $8
	pop $b
	popax
	sub $a,$b
	push $11
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $12
	push $2
	spushs
	push $12
	push $9
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $12
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $8,$a
	pop $8
	jmp l943
l944:
	push $8
	push $11
	pop $b
	popax
	sub $a,$b
l933:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ancenterscreen
	push igmappw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push igmapph
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis ansetcpos
	end method
	method ancenterimg
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	cthis ansetcpos
	end method
	method imgfit
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	cthis getpx
	push $1
	cmpjl
	cmp0
	je l946
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push 0
	cthis move
l946:
	cthis getpy
	push $2
	cmpjl
	cmp0
	je l948
	push 0
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
l948:
	cthis getex
	push $3
	cmpja
	cmp0
	je l950
	push $3
	cthis getex
	pop $b
	popax
	sub $a,$b
	push 0
	cthis move
l950:
	cthis getey
	push $4
	cmpja
	cmp0
	je l952
	push 0
	push $4
	cthis getey
	pop $b
	popax
	sub $a,$b
	cthis move
l952:
	end method
	method imgfitscreen
	push igmoffsetx
	push igmoffsety
	push iResX
	push igmoffsetx
	pop $b
	popax
	add $a,$b
	push iResY
	push igmoffsety
	pop $b
	popax
	add $a,$b
	cthis imgfit
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l953:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l954
	cthis framename
	push $2
	cmpjne
	jmp l956
l954:
	push 0
	jmp l956
l955:
	push 1
l956:
	cmp0
	je l957
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l953
l957:
	end method
	method ansetlastframe
	localdef $1
	pop $1
	push $1
	push $1
	cthis nofframes
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setframe
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localdef $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anplaysmoothfin
	localdef $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis playsmooth
	end method
	method anplayif
	localdef $1
	pop $1
	push $1
	cthis isplaying
	push 0
	cmpje
	cmp0
	je l959
	push $1
	cthis play
l959:
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	end method
	method annextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method ansetrandfr
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	cthis nofframes
	spushs
	spop $h
	call $h,rand
	cthis setframe
	end method
	method anhasaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	cthis nofactions
	cmpjne
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method anactnr
	push 1
	popax
	sub 0,$a
	cthis actionnr
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method anisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l960:
	push $5
	cthis nofactions
	cmpjl
	cmp0
	je l961
	jmp l963
l962:
	add $5,1
	pop $5
	jmp l960
l963:
	push $5
	push 0
	cthis setframe
	push $1
	push $2
	push $3
	push $4
	cthis isin
	cmp0
	je l965
	push $5
	ret
l965:
	jmp l962
l961:
	push 1
	popax
	sub 0,$a
	end method
	method anreload
	localstring $1
	pop $1
	localint $2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $2
	localint $3
	cthis framenr
	pop $3
	localint $4
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	pop $4
	localint $5
	localint $6
	cthis getpos
	pop $6
	pop $5
	localint $7
	cthis getz
	pop $7
	push $1
	cthis getpath
	cthis load
	push $5
	push $6
	cthis setpos
	push $7
	cthis setz
	push $2
	cthis nofactions
	cmpjl
	cmp0
	je l967
	push $4
	cmp0
	je l969
	push $2
	cthis play
l969:
	push $2
	push $3
	cthis setframe
	jmp l966
l967:
	push 0
	push 0
	cthis setframe
l966:
	end method
	method anclipob
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	cthis clip
	end method
	method anclipscreen
	push 0
	push 0
	push igmappw
	push igmapph
	cthis clip
	end method
	method ancopyan
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cthis setframe
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l971
	cthis show
	jmp l970
l971:
	cthis hide
l970:
	push $1
	spushs
	spop $a
	call [$a],getpos
	cthis setpos
	end method
	method anconstmove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push A
	push "mvx"
	push $2
	push "mvy"
	push $3
	cthis vars2
	push $1
	cthis setdelay
	push 1
	popax
	sub 0,$a
	push "global5"
	cthis anplayfin
	end method
	method global5
	push 1
	popax
	sub 0,$a
	cthis play
	push mvx
	push mvy
	cthis move
	end method
	method fxplayifgr
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l972:
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l973
	push $2
	push $3
	cmpjl
	jmp l975
l973:
	push 0
	jmp l975
l974:
	push 1
l975:
	cmp0
	je l976
	add $2,1
	pop $2
	jmp l972
l976:
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],playif
	end method
	method scmove
	localint $1
	localint $2
	pop $2
	pop $1
	push rgmscalex
	push $1
	pop $b
	popax
	mul $a,$b
	push rgmscaley
	push $2
	pop $b
	popax
	mul $a,$b
	cthis move
	end method
	method scpos
	localint $1
	localint $2
	pop $2
	pop $1
	push rgmscalex
	push $1
	pop $b
	popax
	mul $a,$b
	push rgmscaley
	push $2
	pop $b
	popax
	mul $a,$b
	cthis setpos
	end method
	method igetsc
	push rgmscalex
	cthis get
	pop $b
	popax
	mul $a,$b
	push 0.5
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,to_i
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l978
	new text,txts
	push $2
	call txts,setfont
l978:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l980
	call txts,hide
l980:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l981
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l981
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l981
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l983
l981:
	push 0
	jmp l983
l982:
	push 1
l983:
	end method
	method txtcenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtright
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	cthis getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtcenterscreen
	push igmappw
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push igmapph
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis setpos
	end method
	method imgfittxt
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	cmp0
	je l985
	push $2
	spushs
	spop $a
	call [$a],getw
	push $2
	spushs
	spop $a
	call [$a],geth
	push 2
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis transparent
	cthis create
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis setpos
l985:
	new vector,_vtmplin
	push "string"
	call _vtmplin,type
	push $1
	push " "
	call _vtmplin,vecbuildfromstring
	localstring $6
	push ""
	pop $6
	localstring $7
	localstring $8
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	localint $14
	localstring $15
	push "\\n"
	pop $15
	localint $16
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $16
	push $2
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $16
	push 1
	push 0
	clparent classansearcher,_findnotr
	pop $10
	pop $9
	push $2
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $16
	push 1
	popax
	sub 0,$a
	push 0
	clparent classansearcher,_findnotr
	pop $12
	pop $11
	localint $17
	push 0
	pop $17
l986:
	push $17
	call _vtmplin,size
	cmpjl
	cmp0
	je l987
	jmp l989
l988:
	add $17,1
	pop $17
	jmp l986
l989:
	push $6
	pop $7
	push $17
	call _vtmplin,get
	pop $8
	push $15
	call $8,contains
	cmp0
	je l991
	localstring $18
	push $15
	call $8,strgetto
	pop $18
	localstring $19
	push $15
	call $8,strgetfrom
	pop $19
	call $18,length
	push 0
	cmpja
	cmp0
	je l993
	push $18
	pop $8
	jmp l992
l993:
	push ""
	pop $8
l992:
	call $19,length
	push 0
	cmpja
	cmp0
	je l995
	push $17
	push 1
	pop $b
	popax
	add $a,$b
	push $19
	call _vtmplin,vecaddat
l995:
	push 1
	pop $13
	jmp l990
l991:
	push 0
	pop $13
l990:
	push $8
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $6,$a
	pop $6
	push $3
	spushs
	push $6
	spop $a
	call [$a],txtset
	push $3
	spushs
	push $9
	push $16
	spop $a
	call [$a],setpos
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	push $11
	cmpja
	cmp0
	jne l998
	push $13
	jmp l999
l997:
	push 0
	jmp l999
l998:
	push 1
l999:
	cmp0
	je l1000
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	push $11
	cmpjle
	cmp0
	je l1002
	push ""
	pop $7
	jmp l1001
l1002:
	push $13
	cmp0
	je l1004
	push $17
	push 1
	pop $b
	popax
	add $a,$b
	call _vtmplin,size
	cmpjl
	jmp l1006
l1004:
	push 0
	jmp l1006
l1005:
	push 1
l1006:
	cmp0
	je l1007
	push $17
	push 1
	pop $b
	popax
	add $a,$b
	push $15
	push $17
	push 1
	pop $b
	popax
	add $a,$b
	call _vtmplin,get
	pop $b
	popax
	add $a,$b
	call _vtmplin,set
l1007:
l1001:
	push $7
	push ""
	cmpjne
	cmp0
	je l1009
	push $3
	spushs
	push $7
	spop $a
	call [$a],txtset
	push $8
	push " "
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	pop $7
	jmp l1008
l1009:
	push ""
	pop $6
	push ""
	pop $7
l1008:
	push $3
	cthis blit
	push $4
	popax
	add $16,$a
	pop $16
	push $16
	push $2
	spushs
	spop $a
	call [$a],getey
	cmpjl
	cmp0
	je l1011
	push $2
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $16
	push 1
	push 0
	clparent classansearcher,_findnotr
	pop $10
	pop $9
	push $2
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $16
	push 1
	popax
	sub 0,$a
	push 0
	clparent classansearcher,_findnotr
	pop $12
	pop $11
l1011:
l1000:
	jmp l988
l987:
	push $6
	push ""
	cmpjne
	cmp0
	je l1013
	push $3
	spushs
	push $6
	spop $a
	call [$a],txtset
	push $3
	spushs
	push $9
	push $16
	spop $a
	call [$a],setpos
	push $3
	cthis blit
l1013:
	delete _vtmplin
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l1015
	localint $2
	push 0
	pop $2
l1016:
	push $2
	push $1
	cmpjl
	cmp0
	je l1017
	jmp l1019
l1018:
	add $2,1
	pop $2
	jmp l1016
l1019:
	push $2
	cthis add
	jmp l1018
l1017:
l1015:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l1020:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1021
	jmp l1023
l1022:
	add $2,1
	pop $2
	jmp l1020
l1023:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l1022
l1021:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1025
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l1025:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1027
	sub $2,1
	pop $2
	jmp l1026
l1027:
	push $2
	push 0
	cmpje
	cmp0
	je l1029
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1029:
l1026:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1030
	push $1
	cthis size
	cmpjl
	jmp l1032
l1030:
	push 0
	jmp l1032
l1031:
	push 1
l1032:
	cmp0
	je l1034
	push $1
	cthis get
	jmp l1033
l1034:
	push "null"
l1033:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l1036
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l1035
l1036:
	push "null"
l1035:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l1037:
	cthis size
	push $1
	cmpja
	cmp0
	je l1038
	cthis vecpop
	popax
	jmp l1037
l1038:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	end method
	method vecreplace
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1040
	push $3
	push $2
	cthis set
l1040:
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1042
	ret
l1042:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l1043:
	push $8
	push $1
	cmpjl
	cmp0
	je l1044
	jmp l1046
l1045:
	add $8,1
	pop $8
	jmp l1043
l1046:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l1047:
	push $9
	push $1
	cmpjl
	cmp0
	je l1048
	jmp l1050
l1049:
	add $9,1
	pop $9
	jmp l1047
l1050:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l1052
	push $6
	pop $5
	push $9
	pop $7
l1052:
	jmp l1049
l1048:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l1045
l1044:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l1053:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l1054
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l1053
l1054:
	call $1,length
	push 0
	cmpja
	cmp0
	je l1056
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l1056:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l1057:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l1058
	push $4
	push 0
	cmpja
	cmp0
	je l1060
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l1060:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l1057
l1058:
	call $1,length
	push 0
	cmpja
	cmp0
	je l1062
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l1062:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l1063:
	push $2
	push $1
	cmpjl
	cmp0
	je l1064
	jmp l1066
l1065:
	add $2,1
	pop $2
	jmp l1063
l1066:
	push 0
	cthis removeat
	jmp l1065
l1064:
	end method
	method vecremovefrom
	localint $1
	pop $1
l1067:
	push $1
	cthis size
	cmpjl
	cmp0
	je l1068
	push $1
	cthis removeat
	jmp l1067
l1068:
	end method
	method vecfindfrom
	localint $1
	localdef $2
	pop $2
	pop $1
l1069:
	push $1
	cthis size
	cmpjl
	cmp0
	je l1070
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l1072
	push $1
	ret
	jmp l1071
l1072:
	add $1,1
	pop $1
l1071:
	jmp l1069
l1070:
	push 1
	popax
	sub 0,$a
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l1075
	cthis size
	push 0
	cmpje
	jmp l1076
l1074:
	push 0
	jmp l1076
l1075:
	push 1
l1076:
	cmp0
	je l1077
	ret
l1077:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l1079
	localint $4
	push $1
	pop $4
l1080:
	push $4
	push $2
	cmpja
	cmp0
	je l1081
	jmp l1083
l1082:
	sub $4,1
	pop $4
	jmp l1080
l1083:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l1082
l1081:
	jmp l1078
l1079:
	push $1
	push $2
	cmpjl
	cmp0
	je l1085
	localint $4
	push $1
	pop $4
l1086:
	push $4
	push $2
	cmpjl
	cmp0
	je l1087
	jmp l1089
l1088:
	add $4,1
	pop $4
	jmp l1086
l1089:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l1088
l1087:
l1085:
l1078:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1091
	push $2
	push 0
	cthis vecposfromto
	jmp l1090
l1091:
	push $1
	cthis addbegin
l1090:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1093
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l1092
l1093:
	push $1
	cthis addbegin
l1092:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1095
	push $3
	push $2
	cthis set
l1095:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l1097
	push 0
	ret
l1097:
	localint $3
	push 0
	pop $3
l1098:
	push $3
	push $2
	cmpjl
	cmp0
	je l1099
	jmp l1101
l1100:
	add $3,1
	pop $3
	jmp l1098
l1101:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1103
	push 0
	ret
l1103:
	jmp l1100
l1099:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	cthis vecadddbrow
	end method
	method vecadddbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l1104:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1105
	jmp l1107
l1106:
	add $3,1
	pop $3
	jmp l1104
l1107:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l1106
l1105:
	end method
	method vecchecknext
	localint $1
	pop $1
	add $1,1
	pop $1
	push $1
	cthis size
	cmpjl
	cmp0
	je l1109
	push $1
	cthis get
	jmp l1108
l1109:
	push "null"
l1108:
	end method
	method vecaddat
	localint $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1111
	push $1
	cthis size
	cmpjle
	jmp l1113
l1111:
	push 0
	jmp l1113
l1112:
	push 1
l1113:
	cmp0
	je l1114
	push $2
	cthis add
	localint $3
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l1115:
	push $3
	push $1
	cmpja
	cmp0
	je l1116
	jmp l1118
l1117:
	sub $3,1
	pop $3
	jmp l1115
l1118:
	push $3
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l1117
l1116:
	push $1
	push $2
	cthis set
l1114:
	end method
	method vecsum
	cthis size
	cmp0
	je l1120
	localdef $1
	push 0
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
l1121:
	push $2
	cthis size
	cmpjl
	cmp0
	je l1122
	jmp l1124
l1123:
	add $2,1
	pop $2
	jmp l1121
l1124:
	push $2
	cthis get
	popax
	add $1,$a
	pop $1
	jmp l1123
l1122:
	push $1
	jmp l1119
l1120:
	push 0
l1119:
	end method
	method vecclosest
	localdef $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpjle
	cmp0
	je l1126
	push 1
	popax
	sub 0,$a
	ret
l1126:
	localint $3
	push 0
	pop $3
	localdef $4
	push $1
	push 0
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $4
	localint $5
	push 1
	pop $5
l1127:
	push $5
	push $2
	cmpjl
	cmp0
	je l1128
	jmp l1130
l1129:
	add $5,1
	pop $5
	jmp l1127
l1130:
	localdef $6
	push $1
	push $5
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $6
	push $6
	push $4
	cmpjl
	cmp0
	je l1132
	push $5
	pop $3
	push $6
	pop $4
l1132:
	jmp l1129
l1128:
	push $3
	end method
	method vecloadargs
	localdef $1
	pop $1
l1133:
	push $1
	push A
	cmpjne
	cmp0
	je l1134
	push $1
	cthis addbegin
	localdef $1
	pop $1
	jmp l1133
l1134:
	end method
	method vecbuildlines
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push "string"
	cthis type
	push $2
	push 0
	cmpjle
	cmp0
	je l1136
	ret
l1136:
	new vector,_vtmplin
	push "string"
	call _vtmplin,type
	push $1
	push " "
	call _vtmplin,vecbuildfromstring
	localstring $3
	push ""
	pop $3
	localint $4
	push 0
	pop $4
l1137:
	push $4
	call _vtmplin,size
	cmpjl
	cmp0
	je l1138
	jmp l1140
l1139:
	add $4,1
	pop $4
	jmp l1137
l1140:
	push $4
	call _vtmplin,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	call $3,length
	push $2
	cmpjae
	cmp0
	je l1142
	push $3
	cthis add
	push ""
	pop $3
l1142:
	jmp l1139
l1138:
	push $3
	push ""
	cmpjne
	cmp0
	je l1144
	push $3
	cthis add
l1144:
	delete _vtmplin
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l1146
	ret
l1146:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l1147:
	push $2
	push A
	cmpjne
	cmp0
	je l1148
	jmp l1150
l1149:
	jmp l1147
l1150:
	push $4
	push 0
	cmpje
	cmp0
	je l1152
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l1152:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l1154
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l1153
l1154:
	push 0
l1153:
	pop $4
	jmp l1149
l1148:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l1155:
	push $1
	push A
	cmpjne
	cmp0
	je l1156
	push $1
	push "null"
	cmpje
	cmp0
	je l1158
	cthis addbeginrow
	popax
	jmp l1157
l1158:
	push 0
	push $1
	cthis addbegin
l1157:
	pop $1
	jmp l1155
l1156:
	end method
	method dbaddvec
	localstring $1
	pop $1
	localdef $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l1159:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1160
	jmp l1162
l1161:
	add $3,1
	pop $3
	jmp l1159
l1162:
	push $2
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l1161
l1160:
	end method
	method dbcopy
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis dbcopyfromto
	end method
	method dbcopyrow
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis dbcopyfromto
	end method
	method dbcopyfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push $3
	cthis dbaddrowfromto
	end method
	method dbaddrowfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	localint $6
	push $2
	pop $4
l1163:
	push $4
	push $3
	cmpjl
	cmp0
	je l1164
	jmp l1166
l1165:
	add $4,1
	pop $4
	jmp l1163
l1166:
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push 0
	pop $5
l1167:
	push $5
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1168
	jmp l1170
l1169:
	add $5,1
	pop $5
	jmp l1167
l1170:
	push $6
	push $1
	spushs
	push $4
	push $5
	spop $a
	call [$a],get
	cthis add
	jmp l1169
l1168:
	jmp l1165
l1164:
	end method
	method dbadddbrowtorow
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1171:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1172
	jmp l1174
l1173:
	add $4,1
	pop $4
	jmp l1171
l1174:
	push $1
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	cthis add
	jmp l1173
l1172:
	end method
	method dbremovecol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l1175:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1176
	jmp l1178
l1177:
	add $2,1
	pop $2
	jmp l1175
l1178:
	push $2
	cthis getcolsno
	push $1
	cmpja
	cmp0
	je l1180
	push $2
	push $1
	cthis removeat
l1180:
	jmp l1177
l1176:
	end method
	method dbcopyfromtos
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis dbcopyfromto
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l1182
l1183:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l1184
	cthis dbremovelast
	jmp l1183
l1184:
	jmp l1181
l1182:
	cthis free
l1181:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbrowtostring
	localint $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push ""
	pop $5
	localint $6
	push $1
	cthis getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push $3
	push 0
	cmpjl
	cmp0
	jne l1187
	push $3
	push $6
	cmpja
	jmp l1188
l1186:
	push 0
	jmp l1188
l1187:
	push 1
l1188:
	cmp0
	je l1189
	push $6
	pop $3
l1189:
l1190:
	push $2
	push $3
	cmpjle
	cmp0
	je l1191
	jmp l1193
l1192:
	add $2,1
	pop $2
	jmp l1190
l1193:
	push $1
	push $2
	cthis get
	push $4
	pop $b
	popax
	add $a,$b
	popax
	add $5,$a
	pop $5
	jmp l1192
l1191:
	push $5
	end method
	method dbgetstringrow
	localint $1
	pop $1
	push $1
	push 0
	push 1
	popax
	sub 0,$a
	push ""
	cthis dbrowtostring
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l1194:
	push A
	push $2
	cmpjne
	cmp0
	je l1195
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l1194
l1195:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l1197
	push $3
	push 0
	cmpjae
	jmp l1199
l1197:
	push 0
	jmp l1199
l1198:
	push 1
l1199:
	cmp0
	je l1200
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l1201:
	push $3
	push $5
	cmpjl
	cmp0
	je l1202
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l1201
l1202:
l1200:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1204
	push $1
	push $2
	cthis get
	jmp l1203
l1204:
	push "null"
l1203:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1206
	push $3
	cthis getcolsno
	push $2
	cmpja
	jmp l1208
l1206:
	push 0
	jmp l1208
l1207:
	push 1
l1208:
	cmp0
	je l1209
	push $3
	push $2
	cthis get
	jmp l1205
l1209:
	push "null"
l1205:
	end method
	method dbget
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1211
	push $2
	push 1
	cthis get
	jmp l1210
l1211:
	push "null"
l1210:
	end method
	method dbgetint
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1213
	push $2
	push 1
	cthis get
	spushs
	spop $h
	call $h,to_i
	jmp l1212
l1213:
	push 0
l1212:
	end method
	method dbgetscr
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1215
	push $2
	push 1
	cthis get
	spushs
	spop $h
	call $h,to_r
	push rgmscalex
	pop $b
	popax
	mul $a,$b
	jmp l1214
l1215:
	push 0.0
l1214:
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l1216:
	push $2
	push 0
	cmpjae
	cmp0
	je l1217
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l1219
	push $2
	ret
l1219:
	sub $2,1
	pop $2
	jmp l1216
l1217:
	push 1
	popax
	sub 0,$a
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1221
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l1221:
	push 0
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l1223
	localint $3
	push 0
	pop $3
l1224:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1225
	jmp l1227
l1226:
	add $3,1
	pop $3
	jmp l1224
l1227:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l1229
	push $3
	ret
l1229:
	jmp l1226
l1225:
l1223:
	push 1
	popax
	sub 0,$a
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l1230:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l1231
	jmp l1233
l1232:
	add $3,1
	pop $3
	jmp l1230
l1233:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l1235
	push $3
	ret
l1235:
	jmp l1232
l1231:
	push 1
	popax
	sub 0,$a
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1236:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1237
	jmp l1239
l1238:
	add $2,1
	pop $2
	jmp l1236
l1239:
	localdef $3
	push 0
	pop $3
l1240:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l1241
	jmp l1243
l1242:
	add $3,1
	pop $3
	jmp l1240
l1243:
	push $2
	push $3
	push $1
	cthis set
	jmp l1242
l1241:
	jmp l1238
l1237:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1244:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1245
	jmp l1247
l1246:
	add $2,1
	pop $2
	jmp l1244
l1247:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l1246
l1245:
	end method
	method dbeq
	localstring $1
	pop $1
	cthis getrowsno
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjne
	cmp0
	je l1249
	push 0
	ret
l1249:
	localint $2
	localint $3
	localint $4
	push 0
	pop $4
l1250:
	push $4
	cthis getrowsno
	cmpjl
	cmp0
	je l1251
	jmp l1253
l1252:
	add $4,1
	pop $4
	jmp l1250
l1253:
	push $4
	cthis getcolsno
	pop $2
	push $2
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjne
	cmp0
	je l1255
	push 0
	ret
l1255:
	push 0
	pop $3
l1256:
	push $3
	push $2
	cmpjl
	cmp0
	je l1257
	jmp l1259
l1258:
	add $3,1
	pop $3
	jmp l1256
l1259:
	push $4
	push $3
	cthis get
	push $1
	spushs
	push $4
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1261
	push 0
	ret
l1261:
	jmp l1258
l1257:
	jmp l1252
l1251:
	push 1
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1263
	push 1
	popax
	sub 0,$a
	ret
l1263:
	localint $3
	call $1,rand
	pop $3
l1264:
	push $3
	push $2
	cmpje
	cmp0
	je l1265
	jmp l1267
l1266:
	call $1,rand
	pop $3
	jmp l1264
l1267:
	jmp l1266
l1265:
	push $3
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1268:
	push $4
	push 0
	cmpjae
	cmp0
	je l1269
	jmp l1271
l1270:
	sub $4,1
	pop $4
	jmp l1268
l1271:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l1273
	push $2
	popax
	add $3,$a
	pop $3
l1273:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l1270
l1269:
	push $3
	end method
	method std_anfadeout_finish
	cthis unlink_internal_filter
	cthis hide
	end method
	method internal_filter
	localdef $1
	push "__ft"
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis hasvar
	neg
	cmp0
	je l1275
	push $1
	spushs
	spop $e
	new filter,[$e]
	push $1
	spushs
	spop $a
	call [$a],buildfullname
l1275:
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],link
	push $1
	spushs
	spop $a
	call [$a],getfullname
	end method
	method internal_timer
	localdef $1
	push "__tim"
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis hasvar
	neg
	cmp0
	je l1277
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push 1
	spop $a
	call [$a],setcycle
	push $1
	spushs
	push A
	push "sfunc"
	push "null"
	push "sfilter"
	push "null"
	push "rstep"
	push 0.0
	push "ropacity"
	push 0.0
	push "rstepzoom"
	push 0.0
	push "rzoom"
	push 0.0
	push "rzoomsmall"
	push 0.0
	push "rzoombig"
	push 1.0
	push "ralfamin"
	push 0.0
	push "ralfamax"
	push 255.0
	spop $a
	call [$a],vars2
l1277:
	push $1
	end method
	method unlink_internal_filter
	localdef $1
	cthis internal_timer
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1279
	push $1
	spushs
	push 0
	spop $a
	call [$a],stop
l1279:
	cthis internal_filter
	spushs
	spop $a
	call [$a],unlink
	end method
	method anhideonsetframe
	push "bhideonsf"
	cthis var
	push "bopacityfr"
	cthis hasvar
	neg
	cmp0
	je l1281
	push "onsetframe"
	push "_stdanhide"
	cthis addmethod
l1281:
	end method
	method anopacityframe
	push "bopacityfr"
	cthis var
	push "onsetframe"
	push "global6"
	cthis addmethod
	end method
	method global6
	localdef $1
	cthis framename
	pop $1
	push 0
	push 2
	call $1,getb
	push "op"
	cmpje
	cmp0
	je l1283
	cthis internal_filter
	spushs
	push 2
	call $1,strsubb
	spushs
	spop $h
	call $h,to_r
	push 100.0
	pop $b
	popax
	div $a,$b
	psax
	push 255
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setopacity
	jmp l1282
l1283:
	cthis internal_filter
	spushs
	push 255
	spop $a
	call [$a],setopacity
l1282:
	push "bhideonsf"
	cthis hasvar
	cmp0
	je l1285
	cthis hide
l1285:
	end method
	method anrandfrplay
	push "brandfrplay"
	cthis var
	push "onendframe"
	push "ansetrandfr"
	cthis addmethod
	end method
	method ansetopacity
	localint $1
	pop $1
	cthis internal_filter
	spushs
	push $1
	spop $a
	call [$a],setopacity
	end method
	method anzoom
	localreal $1
	pop $1
	localdef $2
	cthis internal_filter
	pop $2
	push $2
	spushs
	push 1
	spop $a
	call [$a],setpivottype
	push $2
	spushs
	push 1
	spop $a
	call [$a],setsmooth
	push $2
	spushs
	push $1
	spop $a
	call [$a],setzoom
	end method
	method anzoomin
	localint $1
	localstring $2
	pop $2
	pop $1
	push 255
	cthis ansetopacity
	push $1
	push 1
	push 0
	push $2
	cthis anzoomfadeinout
	end method
	method anzoomout
	localint $1
	localstring $2
	pop $2
	pop $1
	push 255
	cthis ansetopacity
	push $1
	push 1
	popax
	sub 0,$a
	push 0
	push $2
	cthis anzoomfadeinout
	end method
	method anfadein
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push 1
	push $2
	cthis anzoomfadeinout
	end method
	method anzoomfadein
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis anzoomfadeinout
	end method
	method anzoomfadeout
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	push $2
	cthis anzoomfadeinout
	end method
	method anfadeout
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push 1
	popax
	sub 0,$a
	push $2
	cthis anzoomfadeinout
	end method
	method anzoomfadeinout
	localint $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push 0
	push 255
	push 0.0
	push 1.0
	cthis _anzoomfadeinout
	end method
	method _anzoomfadeinout
	localint $1
	localint $2
	localint $3
	localstring $4
	localreal $5
	localreal $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpja
	cmp0
	je l1287
	push 1
	pop $3
	jmp l1286
l1287:
	push $3
	push 0
	cmpjl
	cmp0
	je l1289
	push 1
	popax
	sub 0,$a
	pop $3
l1289:
l1286:
	push $2
	push 0
	cmpja
	cmp0
	je l1291
	push 1
	pop $2
	jmp l1290
l1291:
	push $2
	push 0
	cmpjl
	cmp0
	je l1293
	push 1
	popax
	sub 0,$a
	pop $2
l1293:
l1290:
	cthis show
	localdef $9
	cthis internal_filter
	pop $9
	localdef $10
	cthis internal_timer
	pop $10
	push $9
	spushs
	cthis getname
	spop $a
	call [$a],link
	push $10
	spushs
	push $4
	spop $a
	call [$a],sfunc=
	push $1
	call engine,getloopdelay
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l1295
	push $3
	push 0
	cmpja
	cmp0
	je l1297
	push $6
	cthis ansetopacity
	jmp l1296
l1297:
	push $5
	cthis ansetopacity
l1296:
	push $4
	push "null"
	cmpjne
	cmp0
	je l1299
	push $4
	spushs
	spop $d
	cthis [$d]
l1299:
	ret
l1295:
	localreal $11
	push $6
	push $5
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	psax
	pop $11
	push $11
	push 1.0
	cmpjl
	cmp0
	je l1301
	push 1.0
	pop $11
l1301:
	localreal $12
	push $8
	push $7
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	psax
	pop $12
	push $10
	spushs
	push $9
	spop $a
	call [$a],sfilter=
	push $10
	spushs
	push $11
	push $3
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],rstep=
	push $10
	spushs
	push $5
	spop $a
	call [$a],ropacity=
	push $10
	spushs
	push $12
	push $2
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],rstepzoom=
	push $10
	spushs
	push 0.0
	spop $a
	call [$a],rzoom=
	push $10
	spushs
	push $7
	spop $a
	call [$a],rzoomsmall=
	push $10
	spushs
	push $8
	spop $a
	call [$a],rzoombig=
	push $10
	spushs
	push $5
	spop $a
	call [$a],ralfamin=
	push $10
	spushs
	push $6
	spop $a
	call [$a],ralfamax=
	push $3
	cmp0
	je l1303
	push $9
	spushs
	push $3
	push 1
	cmpje
	cmp0
	je l1305
	push $5
	jmp l1304
l1305:
	push $6
l1304:
	spop $a
	call [$a],setopacity
	push $10
	spushs
	push $9
	spushs
	spop $a
	call [$a],getopacity
	spop $a
	call [$a],ropacity=
l1303:
	push $2
	cmp0
	je l1307
	push $9
	spushs
	push $2
	push 1
	cmpje
	cmp0
	je l1309
	push $7
	push $12
	pop $b
	popax
	add $a,$b
	jmp l1308
l1309:
	push $8
l1308:
	spop $a
	call [$a],setzoom
	push $10
	spushs
	push $9
	spushs
	spop $a
	call [$a],getzoomx
	spop $a
	call [$a],rzoom=
l1307:
	push $10
	spushs
	push "onfinish"
	push "global7"
	spop $a
	call [$a],addmethod
	push $10
	spushs
	spop $a
	call [$a],play
	end method
	method global7
	push rstep
	popax
	add ropacity,$a
	pop ropacity
	push rstepzoom
	popax
	add rzoom,$a
	pop rzoom
	push ropacity
	push ralfamax
	cmpjae
	cmp0
	je l1311
	push rstep
	push 0.0
	cmpja
	jmp l1313
l1311:
	push 0
	jmp l1313
l1312:
	push 1
l1313:
	cmp0
	jne l1315
	push rzoom
	push rzoombig
	cmpjae
	cmp0
	je l1316
	push rstepzoom
	push 0.0
	cmpja
	jmp l1318
l1316:
	push 0
	jmp l1318
l1317:
	push 1
l1318:
	jmp l1319
l1314:
	push 0
	jmp l1319
l1315:
	push 1
l1319:
	cmp0
	je l1320
	push rstepzoom
	push 0.0
	cmpja
	cmp0
	je l1322
	push sfilter
	spushs
	push rzoombig
	spop $a
	call [$a],setzoom
l1322:
	push rstep
	push 0.0
	cmpja
	cmp0
	je l1324
	push sfilter
	spushs
	push ralfamax
	spop $a
	call [$a],setopacity
l1324:
	push sfunc
	push "null"
	cmpjne
	cmp0
	je l1326
	cthis getbuildername
	spushs
	push sfunc
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1326:
	jmp l1310
l1320:
	push ropacity
	push ralfamin
	cmpjle
	cmp0
	je l1328
	push rstep
	push 0.0
	cmpjl
	jmp l1330
l1328:
	push 0
	jmp l1330
l1329:
	push 1
l1330:
	cmp0
	jne l1332
	push rstepzoom
	push 0.0
	cmpjl
	cmp0
	je l1333
	push rzoom
	push rzoomsmall
	push rstepzoom
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1335
l1333:
	push 0
	jmp l1335
l1334:
	push 1
l1335:
	jmp l1336
l1331:
	push 0
	jmp l1336
l1332:
	push 1
l1336:
	cmp0
	je l1337
	push rstepzoom
	push 0.0
	cmpjl
	cmp0
	je l1339
	push rzoomsmall
	push 0.0
	cmpje
	jmp l1341
l1339:
	push 0
	jmp l1341
l1340:
	push 1
l1341:
	cmp0
	jne l1343
	push rstep
	push 0.0
	cmpjl
	cmp0
	je l1344
	push ropacity
	push ralfamin
	cmpjle
	jmp l1346
l1344:
	push 0
	jmp l1346
l1345:
	push 1
l1346:
	jmp l1347
l1342:
	push 0
	jmp l1347
l1343:
	push 1
l1347:
	cmp0
	je l1348
	push sfilter
	spushs
	spop $a
	call [$a],unlink
	cthis getbuildername
	spushs
	spop $a
	call [$a],hide
l1348:
	push sfunc
	push "null"
	cmpjne
	cmp0
	je l1350
	cthis getbuildername
	spushs
	push sfunc
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1350:
	jmp l1327
l1337:
	push rstep
	push 0.0
	cmpjne
	cmp0
	je l1352
	push sfilter
	spushs
	push ropacity
	spop $a
	call [$a],setopacity
l1352:
	push rstepzoom
	push 0.0
	cmpjne
	cmp0
	je l1354
	push sfilter
	spushs
	push rzoom
	spop $a
	call [$a],setzoom
l1354:
	cthis play
l1327:
l1310:
	end method
	method imgbuildfromlist
	new vector,__vtmp
	push "string"
	call __vtmp,type
	call __vtmp,vecloadargs
	push "__vtmp"
	cthis imgbuildfromvec
	delete __vtmp
	end method
	method imgbuildfromvec
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],empty
	cmp0
	je l1356
	ret
l1356:
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],first
	pop $2
	localint $3
	push $2
	spushs
	spop $a
	call [$a],getpx
	pop $3
	localint $4
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $4
	localint $5
	push $2
	spushs
	spop $a
	call [$a],getex
	pop $5
	localint $6
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $6
	localint $7
	push 1
	pop $7
l1357:
	push $7
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1358
	jmp l1360
l1359:
	add $7,1
	pop $7
	jmp l1357
l1360:
	push $1
	spushs
	push $7
	spop $a
	call [$a],get
	pop $2
	push $3
	push $2
	spushs
	spop $a
	call [$a],getpx
	cmpja
	cmp0
	je l1362
	push $2
	spushs
	spop $a
	call [$a],getpx
	pop $3
l1362:
	push $4
	push $2
	spushs
	spop $a
	call [$a],getpy
	cmpja
	cmp0
	je l1364
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $4
l1364:
	push $5
	push $2
	spushs
	spop $a
	call [$a],getex
	cmpjl
	cmp0
	je l1366
	push $2
	spushs
	spop $a
	call [$a],getex
	pop $5
l1366:
	push $6
	push $2
	spushs
	spop $a
	call [$a],getey
	cmpjl
	cmp0
	je l1368
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $6
l1368:
	jmp l1359
l1358:
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis create
	push $3
	push $4
	cthis setpos
	push 0
	pop $7
l1369:
	push $7
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1370
	jmp l1372
l1371:
	add $7,1
	pop $7
	jmp l1369
l1372:
	push $1
	spushs
	push $7
	spop $a
	call [$a],get
	cthis blit
	jmp l1371
l1370:
	end method
	method anfadeoutloop
	push ifadedelay
	push "anfadeinloop"
	cthis anfadeout
	end method
	method anfadeinloop
	push ifadedelay
	push "anfadeoutloop"
	cthis anfadein
	end method
	method imgstopoverlay
	localdef $1
	cthis imgetoverlay
	pop $1
	push $1
	spushs
	spop $a
	call [$a],unlink_internal_filter
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method imgetoverlay
	push "imgoverlay_"
	cthis getname
	pop $b
	popax
	add $a,$b
	end method
	method imgstartoverlay
	cthis imgetoverlay
	spushs
	spop $a
	call [$a],anfadeinloop
	end method
	method _imgbuildoverlay
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l1374
	push GAME
	spushs
	push "img"
	push $1
	spop $a
	call [$a],varnew
l1374:
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],imgclone
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push 0
	spop $a
	call [$a],paint
	push $6
	push 0
	cmpja
	cmp0
	je l1376
	push $1
	spushs
	push "ifadedelay"
	spop $a
	call [$a],hasvar
	neg
	jmp l1378
l1376:
	push 0
	jmp l1378
l1377:
	push 1
l1378:
	cmp0
	je l1379
	push $1
	spushs
	push "ifadedelay"
	push $6
	spop $a
	call [$a],var2
	push $1
	spushs
	spop $a
	call [$a],anfadeinloop
l1379:
	end method
	method imgbuildoverlay
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	cthis imgetoverlay
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _imgbuildoverlay
	end method
	method imgclonesize
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],geth
	cthis transparent
	cthis create
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setpos
	end method
	method imgclone
	localstring $1
	pop $1
	push $1
	cthis imgclonesize
	push $1
	cthis blit
	push $1
	spushs
	spop $a
	call [$a],getz
	cthis setz
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l1381
	cthis show
	jmp l1380
l1381:
	cthis hide
l1380:
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push iResX
	push iResY
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	push GAME
	spushs
	cthis getname
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	cthis getname
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l1383
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l1383:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1385
	ret
l1385:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l1387
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l1389
	cthis onfinish
l1389:
l1387:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l1391
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l1390
l1391:
	push 0
l1390:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class ClassGameController
	method init
	new gmobjvec,__grobj
	new string,GAME
	cthis getname
	pop GAME
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method isgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,contains
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1393
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l1393:
	end method
	method setpriority
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $3
	call __grobj,find
	pop $3
	localint $4
	push $4
	call __grobj,find
	pop $4
	push $3
	push 0
	cmpjae
	cmp0
	je l1395
	push $4
	push 0
	cmpjae
	cmp0
	je l1395
	push $3
	push $4
	cmpja
	jmp l1397
l1395:
	push 0
	jmp l1397
l1396:
	push 1
l1397:
	cmp0
	je l1398
	push $3
	push $4
	call __grobj,swap
l1398:
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	end class

	class GameController
	parent ClassGameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent ClassGameController,init
	clparent classlocker,init
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new timer,__dblclick
	push 250
	call __dblclick,delay
	push 1
	call __dblclick,settick
	new int,_itimersnddelay
	push 50
	pop _itimersnddelay
	new int,_b_ismoddbg
	push "moddbg"
	call engine,varexist
	pop _b_ismoddbg
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1400
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l1399
l1400:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l1399:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l1402
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1404
	push 1
	call $1,strsubb
	pop $1
l1404:
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l1402:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l1406
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	call subtitle,register
l1406:
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1408
	push 1
	call $1,strsubb
	pop $1
	push _sndbase
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l1407
l1408:
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
l1407:
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	push ".ogg"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l1410
	push ".ogg"
	popax
	add $4,$a
	pop $4
	jmp l1409
l1410:
	push ".wav"
	popax
	add $4,$a
	pop $4
l1409:
	localstring $5
	call gameapi,getgamename
	pop $5
	push igmsoundson
	cmp0
	je l1412
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	jmp l1414
l1412:
	push 0
	jmp l1414
l1413:
	push 1
l1414:
	cmp0
	je l1415
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l1411
l1415:
	push $5
	spushs
	push $1
	call $2,length
	push _itimersnddelay
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l1411:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l1416:
	push $3
	push A
	cmpjne
	cmp0
	je l1417
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l1419
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l1419:
	pop $3
	jmp l1416
l1417:
	end method
	method exportbank
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l1421
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
l1421:
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l1423
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l1423:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l1425
	push $1
	call _dbsnd,save
l1425:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l1426:
	push A
	push $3
	cmpjne
	cmp0
	je l1427
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1429
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l1431
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l1430
l1431:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l1430:
l1429:
	localdef $3
	pop $3
	jmp l1426
l1427:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1432:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1433
	jmp l1435
l1434:
	add $2,1
	pop $2
	jmp l1432
l1435:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l1434
l1433:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l1436:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l1437
	jmp l1439
l1438:
	add $7,1
	pop $7
	jmp l1436
l1439:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l1442
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l1443
l1441:
	push 0
	jmp l1443
l1442:
	push 1
l1443:
	cmp0
	je l1444
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l1446
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l1446:
l1444:
	jmp l1438
l1437:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method lock=
	localint $1
	pop $1
	push $1
	cmp0
	je l1448
	cthis gmlockall
	jmp l1447
l1448:
	cthis gmunlockall
l1447:
	end method
	method gmcontrol_mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	push _b_ismoddbg
	cmp0
	je l1450
	call moddbg,msmove
l1450:
	end method
	method gmcontrol_mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	call __dblclick,isplaying
	cmp0
	je l1452
	cthis mouse_dblclick
	jmp l1451
l1452:
	call __dblclick,play
l1451:
	push _b_ismoddbg
	cmp0
	je l1454
	call moddbg,mslclick
l1454:
	end method
	method is_dblclick
	call __dblclick,isplaying
	end method
	method reset_dblclick
	call __dblclick,play
	end method
	method gmcontrol_mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method gmcontrol_mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	push _b_ismoddbg
	cmp0
	je l1456
	call moddbg,mslrel
l1456:
	end method
	method gmcontrol_mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method gmcontrol_keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	push _b_ismoddbg
	cmp0
	je l1458
	call moddbg,dbkeydown
l1458:
	end method
	method mousemove
	cthis gmcontrol_mousemove
	end method
	method mouselclick
	cthis gmcontrol_mouselclick
	end method
	method mouselrel
	cthis gmcontrol_mouselrel
	end method
	method mouserclick
	cthis gmcontrol_mouserclick
	end method
	method mouserrel
	cthis gmcontrol_mouserrel
	end method
	method keydown
	cthis gmcontrol_keydown
	end method
	end class

	new int,PrzygodaNumer
	push 1
	pop PrzygodaNumer
	new int,PrzygodaMode
	push "PrzygodaMode:"
	push 0
	cthis readcfg
	pop PrzygodaMode
	new int,AdventureGame
	push "save.txt"
	new classfullsave,clsave
	new string,sgmlastscene
	push "null"
	pop sgmlastscene
	new string,sgmglobpath
	push "null"
	pop sgmglobpath
	new string,sgmgame
	push "null"
	pop sgmgame
	push 0
	push 0
	push igmappw
	push igmapph
	new CutScene,ccs
	push 2000
	call ccs,setz
	class classadv
	parent classgame
	parent GameController
	method init
	localstring $1
	pop $1
	push igmdelay
	call engine,setloopdelay
	clparent classgame,init
	push SNDPATH
	cthis setwavpath
	push $1
	clparent GameController,init
	new string,_s_game_path
	new int,bmslock
	push 0
	pop bmslock
	new int,_b_ismodadvglob
	push "modadvglob"
	call engine,varexist
	pop _b_ismodadvglob
	new Music,music
	new Button,butgame
	push 0
	pop igmstate
	push "init"
	pop sgmstate
	end method
	method butenable
	cthis getname
	call butgame,addbut
	end method
	method butdisable
	cthis getname
	call butgame,removebut
	end method
	method butrefresh
	call butgame,onmousemove
	end method
	method advmslock
	push 1
	pop bmslock
	end method
	method advmsunlock
	push 0
	pop bmslock
	end method
	method advgetlock
	push bmslock
	end method
	method advmssetlock
	localint $1
	pop $1
	push $1
	cmp0
	je l1460
	cthis advmslock
	jmp l1459
l1460:
	cthis advmsunlock
l1459:
	end method
	method switch_path
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],getgraphpath
	pop _s_game_path
	call gameapi,getgamename
	spushs
	push $1
	spop $a
	call [$a],setgraphpath
	end method
	method restore_path
	call gameapi,getgamename
	spushs
	push _s_game_path
	spop $a
	call [$a],setgraphpath
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	method advsaveonstart
	push "GAME_game"
	call gameapi,getgamename
	call clsave,set
	push "GAME_sgmgame"
	push sgmgame
	call clsave,set
	push "GAME_sgmglobpath"
	push sgmglobpath
	call clsave,set
	push "GAME_sgmlastscene"
	push sgmlastscene
	call clsave,set
	push "GAME_ccs"
	call ccs,isvisible
	call clsave,set
	cthis advautosave
	end method
	method advautosave
	push "autosave.txt"
	call clsave,save
	push _b_ismodadvglob
	cmp0
	je l1462
	push "autosave"
	call modadvglob,savepck
l1462:
	end method
	method advautoload
	push "autosave"
	cthis _advload
	end method
	method advcacheload
	push "cache"
	cthis _advload
	end method
	method advcachesave
	push "cache"
	cthis _advsave
	end method
	method _advload
	localstring $1
	pop $1
	call modadvglob,delheros
	push $1
	call modadvglob,loadpck
	push $1
	push ".txt"
	pop $b
	popax
	add $a,$b
	call clsave,load
	push "GAME_sgmgame"
	call clsave,get
	pop sgmgame
	push "GAME_sgmglobpath"
	call clsave,get
	pop sgmglobpath
	push "GAME_sgmlastscene"
	call clsave,get
	pop sgmlastscene
	push "GAME_ccs"
	call clsave,bis
	cmp0
	je l1464
	call ccs,show
	jmp l1463
l1464:
	call ccs,hide
l1463:
	push "GAME_game"
	call clsave,get
	call gameapi,play
	end method
	method _advsave
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l1466
	push $1
	push ".txt"
	pop $b
	popax
	add $a,$b
	new classfullsave,_saver
	push "autosave.txt"
	call _saver,load
	call _saver,stdsave
	delete _saver
	new vector,_vcsave
	push "string"
	call _vcsave,type
	new vector,_vcsv2
	push "string"
	call _vcsv2,type
	push "grpck_autosave.txt"
	cthis saveexist
	cmp0
	je l1468
	push "grpck_autosave.txt"
	call _vcsave,vecload
l1468:
	push "grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call _vcsave,vecsave
	localdef $2
	localint $3
	push 0
	pop $3
l1469:
	push $3
	call _vcsave,size
	cmpjl
	cmp0
	je l1470
	jmp l1472
l1471:
	add $3,1
	pop $3
	jmp l1469
l1472:
	push $3
	call _vcsave,get
	pop $2
	push $2
	push "autosave_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	push $2
	push "autosave_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	jmp l1471
l1470:
	delete _vcsave
	delete _vcsv2
l1466:
	end method
	method getsavename
	push "save"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	end method
	method advload_game
	cthis getsavename
	cthis _advload
	end method
	method advsave_game
	cthis getsavename
	cthis _advsave
	end method
	method advstdstate
	push sgmstate
	push "stdadv"
	cmpje
	end method
	method advsetstdstate
	push "stdadv"
	cthis advsetstate
	end method
	method advsetstate
	localstring $1
	pop $1
	push $1
	pop sgmstate
	end method
	method stdexitdefadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "GAME_snextgame"
	push $2
	call clsave,set
	push "GAME_snextgamepath"
	push $1
	call clsave,set
	push "GAME_snextgametype"
	push "-def"
	call clsave,set
	cthis stdexitgame
	end method
	method stdexitadvadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "GAME_snextgame"
	push $2
	call clsave,set
	push "GAME_snextgamepath"
	push $1
	call clsave,set
	push "GAME_snextgametype"
	push "-adv"
	call clsave,set
	cthis stdexitgame
	end method
	method stdexit
	localstring $1
	pop $1
	push "GAME_snextgame"
	push $1
	call clsave,set
	push "GAME_snextgamepath"
	push "null"
	call clsave,set
	push "GAME_snextgametype"
	push "-mg"
	call clsave,set
	cthis stdexitgame
	end method
	method stdexitgame
	push "GAME_fadeout_music"
	call clsave,bis
	cmp0
	je l1474
	push "GAME_fadeout_music"
	push 0
	call clsave,set
	push 1000
	call music,fadeout
l1474:
	call ccs,buildfromscreen
	push "end"
	pop sgmstate
	localstring $1
	push "GAME_snextgame"
	call clsave,get
	pop $1
	push "GAME_snextgametype"
	call clsave,get
	spushs
	push "-def"
	cmpst
	jne l1476
	spop $a
	push "GAME_snextgamepath"
	call clsave,get
	push $1
	cthis gotoadv
	jmp l1475
l1476:
	push "-adv"
	cmpst
	jne l1477
	spop $a
	push "GAME_snextgamepath"
	call clsave,get
	push $1
	cthis gotoadv2
	jmp l1475
l1477:
	spop $a
	push $1
	call gameapi,play
l1475:
	end method
	method gotoadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push "gameadvdef"
	call gameapi,play
	end method
	method gotoadv2
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push "null"
	pop sgmgame
	push $2
	call gameapi,play
	end method
	method onmusicfin
	call music,play
	end method
	method exit
	cthis game_exit
	push igmsubtitle
	cmp0
	je l1479
	call subtitle,reset
l1479:
	push _b_ismodadvglob
	cmp0
	je l1481
	call modadvglob,onexit
l1481:
	end method
	method appdeactivate
	call gameapi,pause
	end method
	method appactivate
	call gameapi,resume
	end method
	end class

	method winsave
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l1483
	new db,_db_win
	push "output.db"
	call _db_win,load
	localdef $2
	call _db_win,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	call _db_win,add
	push "output.db"
	call _db_win,save
	delete _db_win
l1483:
	end method
	method saveexist
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	end method
	method vecsave
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l1485
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis save
l1485:
	end method
	method vecload
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	end method
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	push "|"
	call dbsav,setseparator
	new string,sstdfile
	push $1
	cthis setfile
	new int,saveonset
	push 0
	pop saveonset
	end method
	method save
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l1487
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	call dbsav,save
l1487:
	end method
	method _load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1489
	call dbsav,free
	push $1
	call dbsav,load
l1489:
	end method
	method load
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis _load
	end method
	method print
	call dbsav,print
	end method
	method printvar
	localstring $1
	pop $1
	cthis getname
	push ".var: "
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push " = "
	pop $b
	popax
	add $a,$b
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1491
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l1490
l1491:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l1490:
	push saveonset
	cmp0
	je l1493
	cthis stdsave
l1493:
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1495
	push $2
	push 1
	call dbsav,get
	jmp l1494
l1495:
	push "null"
l1494:
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1497
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l1496
l1497:
	push 0
l1496:
	end method
	method bis
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1499
	push $2
	push 1
	call dbsav,get
	push 0
	cmpjne
	jmp l1498
l1499:
	push 0
l1498:
	end method
	method sbis
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "!"
	cmpje
	cmp0
	je l1501
	push 1
	call $1,strsubb
	cthis bis
	neg
	jmp l1500
l1501:
	push $1
	cthis bis
l1500:
	end method
	method bislist
	localstring $1
	pop $1
	new vector,vtmp
	push "string"
	call vtmp,type
	push $1
	push " "
	call vtmp,vecbuildfromstring
	localint $2
	push 0
	pop $2
	call vtmp,size
	cmp0
	je l1503
	call vtmp,first
	call clsave,sbis
	pop $2
	localint $3
	push 1
	pop $3
l1504:
	push $3
	call vtmp,size
	cmpjl
	cmp0
	je l1505
	push $3
	call vtmp,get
	spushs
	push "&"
	cmpst
	jne l1507
	spop $a
	push $2
	cmp0
	je l1508
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	call vtmp,get
	call clsave,sbis
	jmp l1510
l1508:
	push 0
	jmp l1510
l1509:
	push 1
l1510:
	pop $2
	push 2
	popax
	add $3,$a
	pop $3
	jmp l1506
l1507:
	push "|"
	cmpst
	jne l1511
	spop $a
	push $2
	cmp0
	jne l1513
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	call vtmp,get
	call clsave,sbis
	jmp l1514
l1512:
	push 0
	jmp l1514
l1513:
	push 1
l1514:
	pop $2
	push 2
	popax
	add $3,$a
	pop $3
	jmp l1506
l1511:
	spop $a
	add $3,1
	pop $3
l1506:
	jmp l1504
l1505:
l1503:
	delete vtmp
	push $2
	end method
	method bisand2
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	push $2
	push ""
	cthis bisand
	end method
	method bisand
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 1
	pop $5
l1515:
	push $2
	push $3
	cmpjle
	cmp0
	je l1516
	push $5
	cmp0
	je l1517
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	call clsave,bis
	jmp l1519
l1517:
	push 0
	jmp l1519
l1518:
	push 1
l1519:
	pop $5
	add $2,1
	pop $2
	jmp l1515
l1516:
	push $5
	end method
	method has
	localstring $1
	pop $1
	push $1
	call dbsav,findbyrow
	push 0
	cmpjae
	end method
	method bgo
	localstring $1
	pop $1
	push $1
	cthis bis
	neg
	cmp0
	je l1521
	push $1
	cthis bset
	push 1
	jmp l1520
l1521:
	push 0
l1520:
	end method
	method saveonset=
	localint $1
	pop $1
	push $1
	pop saveonset
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1523
	push $2
	call dbsav,removerow
	push saveonset
	cmp0
	je l1525
	cthis stdsave
l1525:
l1523:
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l1527
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l1528
l1526:
	push 0
	jmp l1528
l1527:
	push 1
l1528:
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l1529
	push "."
	call $1,contains
	jmp l1531
l1529:
	push 0
	jmp l1531
l1530:
	push 1
l1531:
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	localint $2
	push 0
	pop $2
l1532:
	push $2
	push 10
	cmpjl
	cmp0
	je l1533
	jmp l1535
l1534:
	add $2,1
	pop $2
	jmp l1532
l1535:
	push "ARG"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	jmp l1534
l1533:
	push $1
	cthis load
	end method
	method ARG=
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method ARG
	localint $1
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1537
	ret
l1537:
	push "."
	call $1,contains
	cmp0
	je l1539
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l1538
l1539:
	push $1
	pop __sdb
l1538:
	call __mp,free
	localint $2
	push 0
	pop $2
l1540:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1541
	jmp l1543
l1542:
	add $2,1
	pop $2
	jmp l1540
l1543:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l1545
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l1545:
	jmp l1542
l1541:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method isvar
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l1547
	push $1
	spushs
	spop $e
	new def,[$e]
l1547:
	push $1
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l1548
	push $1
	call __csc,isreal
	neg
	jmp l1550
l1548:
	push 0
	jmp l1550
l1549:
	push 1
l1550:
	cmp0
	jne l1552
	push "::"
	call $1,contains
	jmp l1553
l1551:
	push 0
	jmp l1553
l1552:
	push 1
l1553:
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,contains
	cmp0
	je l1555
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	jmp l1554
l1555:
	push "::"
	call $1,strgetto
	call __vec,add
	push "::"
	call $1,strgetfrom
	call __vec,add
l1554:
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1557
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	jmp l1556
l1557:
	push 0
l1556:
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l1559
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l1559:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l1561
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1561:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l1563
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1563:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l1564:
	push $4
	push ")"
	cmpjne
	cmp0
	je l1565
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l1564
l1565:
	push "::"
	call $1,contains
	cmp0
	je l1567
	push $2
	spushs
	push $3
	spushs
	spop $d
	spop $a
	 clparent [$a],[$d]
	jmp l1566
l1567:
	push $2
	push "this"
	cmpje
	cmp0
	je l1569
	push "null"
	pop $2
l1569:
	push $2
	push $3
	cthis callfun
l1566:
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l1571
	push $1
	cthis getvar
	pop $1
	jmp l1570
l1571:
	push $1
	call __csc,isreal
	cmp0
	je l1573
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
	jmp l1572
l1573:
	push $1
	call __csc,isdigit
	cmp0
	je l1575
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l1574
l1575:
	push $1
	call __csc,isstring
	cmp0
	je l1577
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
l1577:
l1574:
l1572:
l1570:
	push $1
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l1579
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l1578
l1579:
	push $1
	cthis isfunc
	cmp0
	je l1581
	push $1
	cthis interpcall
	jmp l1580
l1581:
	push $1
	cthis isscriptfun
	cmp0
	je l1583
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l1582
l1583:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l1582:
l1580:
l1578:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l1585
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l1584
l1585:
	push "!="
	cmpst
	jne l1586
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l1584
l1586:
	push "<"
	cmpst
	jne l1587
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l1584
l1587:
	push ">"
	cmpst
	jne l1588
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l1584
l1588:
	push "<="
	cmpst
	jne l1589
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l1584
l1589:
	push ">="
	cmpst
	jne l1590
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l1584
l1590:
	spop $a
l1584:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l1592
	push $1
	cmp0
	jne l1594
	cthis cmp
	jmp l1595
l1593:
	push 0
	jmp l1595
l1594:
	push 1
l1595:
	jmp l1591
l1592:
	push $3
	push "&&"
	cmpje
	cmp0
	je l1597
	push $1
	cmp0
	je l1598
	cthis cmp
	jmp l1600
l1598:
	push 0
	jmp l1600
l1599:
	push 1
l1600:
	jmp l1596
l1597:
	push $1
l1596:
l1591:
	end method
	method containsfun
	localstring $1
	pop $1
	push $1
	call __mp,contains
	end method
	method addscript
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push A
	push "_script_eval"
	cthis getname
	push "_smetscript_"
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],vars2
	push $1
	spushs
	push $2
	push "Script0"
	spop $a
	call [$a],addmethod
	end method
	method Script0
	push _script_eval
	spushs
	push "_smetscript_"
	cthis methodname
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spop $a
	call [$a],call
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l1602
	ret
l1602:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l1603:
	push $2
	cmp0
	je l1604
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l1606
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l1608
	push __sreads
	push "["
	cmpje
	cmp0
	je l1610
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l1611:
	push $12
	push $11
	cmpjl
	cmp0
	je l1612
	jmp l1614
l1613:
	add $12,1
	pop $12
	jmp l1611
l1614:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l1613
l1612:
	jmp l1609
l1610:
	add __icol,1
	pop __icol
l1615:
	cthis isnext
	cmp0
	je l1616
	push __sreads
	push ")"
	cmpjne
	jmp l1618
l1616:
	push 0
	jmp l1618
l1617:
	push 1
l1618:
	cmp0
	je l1619
	cthis _get
	cthis getexpr
	jmp l1615
l1619:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1609:
	jmp l1607
l1608:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1607:
	add __irow,1
	pop __irow
	jmp l1605
l1606:
	push "delete"
	cmpst
	jne l1620
	spop $a
	cthis _get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	add __irow,1
	pop __irow
	jmp l1605
l1620:
	push $8
	push "if"
	cmpje
	cmp0
	jne l1622
	push $6
	cmp0
	jne l1622
	push $5
	jmp l1623
l1621:
	push 0
	jmp l1623
l1622:
	push 1
l1623:
	cmp0
	je l1625
	push $8
	jmp l1624
l1625:
	push ""
l1624:
	cmpst
	jne l1626
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l1628
	push 1
	pop $3
l1628:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l1630
	push 1
	pop $12
l1631:
	push $12
	cmp0
	je l1632
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l1635
	push $8
	push "elif"
	cmpje
	cmp0
	jne l1635
	push $8
	push "fi"
	cmpje
	cmp0
	jne l1635
	push $8
	push "done"
	cmpje
	jmp l1636
l1634:
	push 0
	jmp l1636
l1635:
	push 1
l1636:
	cmp0
	je l1637
	push 0
	pop $12
	jmp l1633
l1637:
	add __irow,1
	pop __irow
l1633:
	jmp l1631
l1632:
l1630:
	jmp l1605
l1626:
	push "else"
	cmpst
	jne l1638
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l1640
l1641:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1642
	add __irow,1
	pop __irow
	jmp l1641
l1642:
l1640:
	jmp l1605
l1638:
	push "fi"
	cmpst
	jne l1643
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l1605
l1643:
	push "elif"
	cmpst
	jne l1644
	spop $a
	push $4
	cmp0
	je l1646
	add __irow,1
	pop __irow
l1647:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1648
	add __irow,1
	pop __irow
	jmp l1647
l1648:
	jmp l1645
l1646:
	push 1
	pop $6
l1645:
	jmp l1605
l1644:
	push "end"
	cmpst
	jne l1649
	spop $a
	push 0
	pop $2
	jmp l1605
l1649:
	push "while"
	cmpst
	jne l1650
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l1605
l1650:
	push "done"
	cmpst
	jne l1651
	spop $a
	push $4
	cmp0
	je l1653
	push $7
	pop __irow
	jmp l1652
l1653:
	add __irow,1
	pop __irow
l1652:
	jmp l1605
l1651:
	push "print"
	cmpst
	jne l1654
	spop $a
	push ""
	pop $8
l1655:
	cthis isnext
	cmp0
	je l1656
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l1655
l1656:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l1605
l1654:
	push "return"
	cmpst
	jne l1657
	spop $a
	cthis isnext
	cmp0
	je l1659
	push __sreads
	cthis getexpr
l1659:
	ret
	jmp l1605
l1657:
	spop $a
	push 0
	push 1
	call $8,getb
	push "$"
	cmpje
	cmp0
	je l1661
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l1662:
	cthis isnext
	cmp0
	je l1663
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l1665
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l1664
l1665:
	push "-"
	cmpst
	jne l1666
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l1664
l1666:
	push "*"
	cmpst
	jne l1667
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l1664
l1667:
	push "/"
	cmpst
	jne l1668
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l1664
l1668:
	push "%"
	cmpst
	jne l1669
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l1664
l1669:
	spop $a
l1664:
	jmp l1662
l1663:
	jmp l1660
l1661:
	push $8
	cthis getexpr
l1660:
	add __irow,1
	pop __irow
l1605:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l1671
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l1671:
	jmp l1603
l1604:
	end method
	end class

	method animaloader_load
	localstring $1
	pop $1
	new db,_dbanl
	push $1
	cthis getpath
	call _dbanl,loadbeh
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localint $7
	localint $8
	localint $9
	localreal $10
	localreal $11
	localint $12
	push 0
	pop $12
l1672:
	push $12
	call _dbanl,getrowsno
	cmpjl
	cmp0
	je l1673
	jmp l1675
l1674:
	add $12,1
	pop $12
	jmp l1672
l1675:
	push $12
	call _dbanl,getcolsno
	push 0
	cmpja
	cmp0
	je l1677
	push 0
	pop $7
	push $12
	push $7
	call _dbanl,get
	spushs
	push "an:"
	cmpst
	jne l1679
	spop $a
	add $7,1
	pop $7
	push $12
	push $7
	call _dbanl,get
	pop $2
	add $7,1
	pop $7
	push ".pyz"
	call $2,contains
	cmp0
	je l1681
	push "an"
	push ".pyz"
	call $2,strsubes
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push 0
	cthis newanima
	jmp l1680
l1681:
	push $12
	push $7
	call _dbanl,get
	push $2
	cthis copyanima
	add $7,1
	pop $7
l1680:
	localint $13
	push $7
	pop $13
l1682:
	push $13
	push $12
	call _dbanl,getcolsno
	cmpjl
	cmp0
	je l1683
	jmp l1685
l1684:
	add $13,1
	pop $13
	jmp l1682
l1685:
	push $12
	push $13
	call _dbanl,get
	pop $6
	push $6
	spushs
	push "-z"
	cmpst
	jne l1687
	spop $a
	add $13,1
	pop $13
	push $5
	spushs
	push $12
	push $13
	call _dbanl,get
	spop $a
	call [$a],setz
	jmp l1686
l1687:
	push "-hide"
	cmpst
	jne l1688
	spop $a
	push $5
	spushs
	spop $a
	call [$a],hide
	jmp l1686
l1688:
	push "-opacityframe"
	cmpst
	jne l1689
	spop $a
	push $5
	spushs
	spop $a
	call [$a],anopacityframe
	jmp l1686
l1689:
	push "-nplay"
	cmpst
	jne l1690
	spop $a
	add $13,1
	pop $13
	push $5
	spushs
	push $12
	push $13
	call _dbanl,get
	spushs
	spop $h
	call $h,to_i
	spop $a
	call [$a],play
	jmp l1686
l1690:
	push "-play"
	cmpst
	jne l1691
	spop $a
	add $13,1
	pop $13
	push $5
	spushs
	push $12
	push $13
	call _dbanl,get
	spop $a
	call [$a],play
	jmp l1686
l1691:
	push "-delay"
	cmpst
	jne l1692
	spop $a
	add $13,1
	pop $13
	push $5
	spushs
	push $12
	push $13
	call _dbanl,get
	spop $a
	call [$a],setdelay
	jmp l1686
l1692:
	push "-drawmode"
	cmpst
	jne l1693
	spop $a
	push $12
	push $13
	call _dbanl,get
	pop $2
	add $13,1
	pop $13
	push $2
	push "lineardodge"
	cmpje
	cmp0
	je l1695
	push $5
	spushs
	push 1
	spop $a
	call [$a],setdrawmode
l1695:
	jmp l1686
l1693:
	push "-hideonstart"
	cmpst
	jne l1696
	spop $a
	push $5
	spushs
	spop $a
	call [$a],anhideonsetframe
	jmp l1686
l1696:
	push "-buildroto"
	cmpst
	je l1698
	push "-buildrotorle"
	cmpst
	je l1698
	jmp l1697
l1698:
	spop $a
	add $13,1
	pop $13
	localreal $14
	push $12
	push $13
	call _dbanl,get
	pop $14
	add $13,1
	pop $13
	localreal $15
	push $12
	push $13
	call _dbanl,get
	pop $15
	add $13,1
	pop $13
	localreal $16
	push $12
	push $13
	call _dbanl,get
	pop $16
	add $13,1
	pop $13
	localint $17
	push $12
	push $13
	call _dbanl,get
	pop $17
	push $5
	push $14
	push $15
	push $16
	push $17
	push $6
	push "-buildrotorle"
	cmpje
	cmp0
	je l1700
	push 1
	jmp l1699
l1700:
	push 0
l1699:
	cthis gmbuildroto
	jmp l1686
l1697:
	spop $a
	push $5
	push "_dbanl"
	push $12
	push $13
	cthis animaloader_an
	pop $13
l1686:
	jmp l1684
l1683:
	jmp l1678
l1679:
	spop $a
l1678:
l1677:
	jmp l1674
l1673:
	end method
	method animaloader_an
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	end method
	method gmbuildroto
	localstring $1
	localreal $2
	localreal $3
	localreal $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $7
	localint $8
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $8
	push $1
	spushs
	push 1
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	push $7
	push $8
	spop $a
	call [$a],ansetbpos
	localstring $9
	localstring $10
	localreal $11
	push 0.0
	pop $11
	call $4,abs
	pop $4
	push 0
	pop $7
	localstring $12
	push "null"
	pop $12
	localreal $13
	push $3
	pop $13
l1701:
	push $13
	push $2
	cmpjle
	cmp0
	je l1702
	jmp l1704
l1703:
	push $11
	popax
	add $13,$a
	pop $13
	jmp l1701
l1704:
	localreal $14
	push $13
	push $3
	pop $b
	popax
	sub $a,$b
	push $2
	push $3
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	div $a,$b
	psax
	spushs
	spop $h
	call $h,abs
	pop $14
	push 0.1
	call $14,_rin1
	cmp0
	je l1706
	push 0.4
	push $4
	pop $b
	popax
	mul $a,$b
	pop $11
	jmp l1705
l1706:
	push 0.2
	call $14,_rin1
	cmp0
	je l1708
	push 0.8
	push $4
	pop $b
	popax
	mul $a,$b
	pop $11
	jmp l1707
l1708:
	push $4
	pop $11
l1707:
l1705:
	push "_imgroto"
	push $7
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new img,[$e]
	push $10
	spushs
	push $1
	push $13
	push 1.0
	push 1.0
	spop $a
	call [$a],buildrotozoom
l1709:
	push $12
	push "null"
	cmpjne
	cmp0
	je l1710
	push $10
	spushs
	spop $a
	call [$a],getw
	push $12
	spushs
	spop $a
	call [$a],getw
	cmpje
	cmp0
	je l1710
	push $10
	spushs
	spop $a
	call [$a],geth
	push $12
	spushs
	spop $a
	call [$a],geth
	cmpje
	cmp0
	je l1710
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $12
	spushs
	spop $a
	call [$a],getpx
	cmpje
	cmp0
	je l1710
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $12
	spushs
	spop $a
	call [$a],getpy
	cmpje
	jmp l1712
l1710:
	push 0
	jmp l1712
l1711:
	push 1
l1712:
	cmp0
	je l1713
	push 0.2
	pop $14
	push $14
	push $11
	pop $b
	popax
	mul $a,$b
	popax
	add $13,$a
	pop $13
	push $14
	push 1.0
	pop $b
	popax
	add $a,$b
	popax
	mul $11,$a
	pop $11
	push $10
	spushs
	push $1
	push $13
	push 1.0
	push 1.0
	spop $a
	call [$a],buildrotozoom
	jmp l1709
l1713:
	push $10
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	push $10
	spushs
	spop $a
	call [$a],hide
	push $6
	cmp0
	je l1715
	push $10
	spushs
	spop $a
	call [$a],rle
l1715:
	push $10
	pop $12
	add $7,1
	pop $7
	jmp l1703
l1702:
	push "_timroto"
	push $1
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	push "global8"
	cthis cycle=
	push $9
	spushs
	push $5
	spop $a
	call [$a],setcycle
	push $9
	spushs
	push A
	push "san"
	push $1
	push "ileimgs"
	push $7
	push "slastimg"
	push $10
	push "idimg"
	push 0
	push "dir"
	push 1
	spop $a
	call [$a],vars2
	push $1
	spushs
	spop $a
	call [$a],hide
	push "_imgroto0"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	push $9
	spushs
	spop $a
	call [$a],play
	end method
	method global8
	push slastimg
	spushs
	spop $a
	call [$a],hide
	push "_imgroto"
	push idimg
	pop $b
	popax
	add $a,$b
	push san
	pop $b
	popax
	add $a,$b
	pop slastimg
	push slastimg
	spushs
	spop $a
	call [$a],show
	push idimg
	push dir
	pop $b
	popax
	add $a,$b
	pop idimg
	push idimg
	push 0
	cmpjl
	cmp0
	je l1717
	push 0
	pop idimg
	push 1
	pop dir
	jmp l1716
l1717:
	push idimg
	push ileimgs
	cmpjae
	cmp0
	je l1719
	push ileimgs
	push 1
	pop $b
	popax
	sub $a,$b
	pop idimg
	push 1
	popax
	sub 0,$a
	pop dir
l1719:
l1716:
	cthis play
	end method
	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	method yellow
	push 255
	push 255
	push 0
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	call buts,resetall
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l1721
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l1720
l1721:
	push $1
	push "no"
	cmpje
	cmp0
	je l1723
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l1723:
l1720:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l1725
	ret
l1725:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l1727
	push sfuncyes
	push "null"
	cmpjne
	jmp l1729
l1727:
	push 0
	jmp l1729
l1728:
	push 1
l1729:
	cmp0
	je l1730
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1726
l1730:
	push $1
	push "no"
	cmpje
	cmp0
	je l1732
	push sfuncno
	push "null"
	cmpjne
	jmp l1734
l1732:
	push 0
	jmp l1734
l1733:
	push 1
l1734:
	cmp0
	je l1735
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1735:
l1726:
	end method
	method disabled
	call buts,disabled
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l1736:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l1737
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1736
l1737:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l1739
	push $1
	popax
	add $7,$a
	pop $7
l1739:
	push $5
	cmp0
	je l1741
	push $4
	cmp0
	je l1743
	push ":"
	jmp l1742
l1743:
	push ""
l1742:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1741:
	push $6
	cmp0
	je l1745
	push $4
	cmp0
	jne l1747
	push $5
	jmp l1748
l1746:
	push 0
	jmp l1748
l1747:
	push 1
l1748:
	cmp0
	je l1750
	push ":"
	jmp l1749
l1750:
	push ""
l1749:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1745:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l1751:
	push $1
	push 0
	cmpja
	cmp0
	je l1752
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l1751
l1752:
	push $2
	ret
	end method
	method bintohex
	localstring $1
	pop $1
	localstring $2
	call $1,length
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 3
	cmpst
	jne l1754
	spop $a
	push "0"
	jmp l1753
l1754:
	push 2
	cmpst
	jne l1755
	spop $a
	push "00"
	jmp l1753
l1755:
	push 1
	cmpst
	jne l1756
	spop $a
	push "000"
	jmp l1753
l1756:
	spop $a
	push ""
l1753:
	pop $2
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1757:
	push $3
	call $1,length
	cmpjl
	cmp0
	je l1758
	jmp l1760
l1759:
	push 4
	popax
	add $3,$a
	pop $3
	jmp l1757
l1760:
	push $3
	push 4
	call $1,getb
	spushs
	push "0000"
	cmpst
	jne l1762
	spop $a
	push "0"
	jmp l1761
l1762:
	push "0001"
	cmpst
	jne l1763
	spop $a
	push "1"
	jmp l1761
l1763:
	push "0010"
	cmpst
	jne l1764
	spop $a
	push "2"
	jmp l1761
l1764:
	push "0011"
	cmpst
	jne l1765
	spop $a
	push "3"
	jmp l1761
l1765:
	push "0100"
	cmpst
	jne l1766
	spop $a
	push "4"
	jmp l1761
l1766:
	push "0101"
	cmpst
	jne l1767
	spop $a
	push "5"
	jmp l1761
l1767:
	push "0110"
	cmpst
	jne l1768
	spop $a
	push "6"
	jmp l1761
l1768:
	push "0111"
	cmpst
	jne l1769
	spop $a
	push "7"
	jmp l1761
l1769:
	push "1000"
	cmpst
	jne l1770
	spop $a
	push "8"
	jmp l1761
l1770:
	push "1001"
	cmpst
	jne l1771
	spop $a
	push "9"
	jmp l1761
l1771:
	push "1010"
	cmpst
	jne l1772
	spop $a
	push "A"
	jmp l1761
l1772:
	push "1011"
	cmpst
	jne l1773
	spop $a
	push "B"
	jmp l1761
l1773:
	push "1100"
	cmpst
	jne l1774
	spop $a
	push "C"
	jmp l1761
l1774:
	push "1101"
	cmpst
	jne l1775
	spop $a
	push "D"
	jmp l1761
l1775:
	push "1110"
	cmpst
	jne l1776
	spop $a
	push "E"
	jmp l1761
l1776:
	push "1111"
	cmpst
	jne l1777
	spop $a
	push "F"
	jmp l1761
l1777:
	spop $a
l1761:
	popax
	add $2,$a
	pop $2
	jmp l1759
l1758:
	push $2
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1779
	push sgmfontfile
	pop $1
l1779:
	push ".ttf"
	call $1,contains
	cmp0
	je l1781
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l1781:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,move
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	push A
	push "istarttime"
	push $2
	push "idtime"
	push $3
	push "itime"
	push 0
	cthis vars2
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	cthis play
	cthis getbuildername
	spushs
	spop $a
	call [$a],tick
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method tick
	push idtime
	cthis update
	end method
	method reset
	push istarttime
	pop itime
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	localint $10
	localint $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	push $10
	push $11
	clparent SecCounter,init
	cthis reset
	push 0
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	push itime
	push 0
	cmpjle
	cmp0
	je l1783
	push idtime
	push 0
	cmpjl
	jmp l1785
l1783:
	push 0
	jmp l1785
l1784:
	push 1
l1785:
	cmp0
	je l1786
	cthis getname
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1786:
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1788
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l1787
l1788:
	push w
	push h
	cthis get
	call _img1,create
l1787:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l1790
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l1789
l1790:
	push $1
	push 0
	call _img2,move
l1789:
	push $2
	push 0
	cmpjl
	cmp0
	je l1792
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l1791
l1792:
	push 0
	push $2
	call _img2,move
l1791:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1794
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l1793
l1794:
	push w
	push h
	cthis get
	call _img,create
l1793:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	new vector,vecgr
	push "string"
	call vecgr,type
	push "gmimgvec"
	call vecgr,add
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method setborders
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	pop w
	push $4
	push y
	pop $b
	popax
	sub $a,$b
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	call vecgr,contains
	cmp0
	je l1796
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1798
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1798:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1800
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1800:
	jmp l1795
l1796:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1802
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1802:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1804
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1804:
l1795:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1806
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1806:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l1808
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1808:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1809:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1810
	jmp l1812
l1811:
	add $2,1
	pop $2
	jmp l1809
l1812:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l1811
l1810:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1813:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1814
	jmp l1816
l1815:
	add $2,1
	pop $2
	jmp l1813
l1816:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l1815
l1814:
	end method
	method isin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push x
	cmpjae
	cmp0
	je l1817
	push $1
	push x
	push w
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l1817
	push $2
	push y
	cmpjae
	cmp0
	je l1817
	push $2
	push y
	push h
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l1819
l1817:
	push 0
	jmp l1819
l1818:
	push 1
l1819:
	end method
	end class

	class ImgRect
	method init
	push A
	push "ix"
	push 0
	push "iy"
	push 0
	push "iw"
	push 0
	push "ih"
	push 0
	push "bvis"
	push 1
	push "iz"
	push 0
	cthis vars2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop ix
	push $2
	pop iy
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add ix,$a
	pop ix
	push $2
	popax
	add iy,$a
	pop iy
	end method
	method getpos
	push ix
	push iy
	ret
	end method
	method getposx
	push ix
	end method
	method getposy
	push iy
	end method
	method getpx
	push ix
	end method
	method getpy
	push iy
	end method
	method getw
	push iw
	end method
	method geth
	push ih
	end method
	method getcx
	push ix
	push iw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	push iy
	push ih
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getex
	push ix
	push iw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	push iy
	push ih
	pop $b
	popax
	add $a,$b
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop iz
	end method
	method getz
	push iz
	end method
	method show
	push 1
	pop bvis
	end method
	method hide
	push 0
	pop bvis
	end method
	method isvisible
	push bvis
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpje
	cmp0
	jne l1822
	cthis isvisible
	jmp l1823
l1821:
	push 0
	jmp l1823
l1822:
	push 1
l1823:
	cmp0
	je l1824
	push $1
	push ix
	cmpjae
	cmp0
	je l1825
	push $1
	push ix
	push iw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l1825
	push $2
	push iy
	cmpjae
	cmp0
	je l1825
	push $2
	push iy
	push ih
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l1827
l1825:
	push 0
	jmp l1827
l1826:
	push 1
l1827:
	jmp l1820
l1824:
	push 0
l1820:
	end method
	method setrect
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop ix
	push $2
	pop iy
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	pop iw
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	pop ih
	end method
	method print
	push "x: "
	push ix
	pop $b
	popax
	add $a,$b
	push ", y: "
	pop $b
	popax
	add $a,$b
	push iy
	pop $b
	popax
	add $a,$b
	push ", w: "
	pop $b
	popax
	add $a,$b
	push iw
	pop $b
	popax
	add $a,$b
	push ", h: "
	pop $b
	popax
	add $a,$b
	push ih
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],geth
	push $1
	spushs
	spop $a
	call [$a],getz
	push $1
	spushs
	spop $a
	call [$a],isvisible
	pop bvis
	pop iz
	pop ih
	pop iw
	pop iy
	pop ix
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	new string,_sobfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l1829
	push _sobfin
	push "null"
	cmpje
	cmp0
	je l1831
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
	jmp l1830
l1831:
	push _sobfin
	spushs
	push _sfunfin
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1830:
l1829:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpja
	cmp0
	je l1833
	push _ib2
	cthis _cfinito
	jmp l1832
l1833:
	push _ival
	push _ib1
	cmpjl
	cmp0
	je l1835
	push _ib1
	cthis _cfinito
	jmp l1834
l1835:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l1834:
l1832:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sobfin
	push $8
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $9
	call $2,abs
	pop $9
	push $1
	push 0
	cmpjle
	cmp0
	jne l1838
	push $9
	push $5
	cmpje
	cmp0
	jne l1838
	push $9
	push $6
	cmpja
	jmp l1839
l1837:
	push 0
	jmp l1839
l1838:
	push 1
l1839:
	cmp0
	je l1840
	ret
l1840:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l1842
	push _ib1
	pop _ival
	jmp l1841
l1842:
	push $2
	push 0
	cmpjl
	cmp0
	je l1844
	push _ib2
	pop _ival
	jmp l1843
l1844:
	ret
l1843:
l1841:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push "null"
	push $4
	cthis _play
	end method
	method isplaying
	call timf,isplaying
	end method
	end class

	class CutScene
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	new img,_gsq
	push $1
	push $2
	push $3
	push $4
	cthis build
	push "_gsq"
	clparent gfxObject,init
	new string,_sfunc1
	new string,_sob1
	new string,_sfunc2
	new string,_sob2
	new int,_idelay
	push 10
	pop _idelay
	new classfadeinout,_clfio
	end method
	method build
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop Y2
	pop X2
	pop Y1
	pop X1
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call _gsq,create
	push X1
	push Y1
	call _gsq,setpos
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method buildblack
	push X1
	push Y1
	push X2
	push Y2
	cthis build
	end method
	method buildfromfile
	localstring $1
	pop $1
	localdef $2
	cthis getz
	pop $2
	new img,_imtmp
	push $1
	call _imtmp,load
	push 255
	call _gsq,transparency
	push "_imtmp"
	call _gsq,blit
	delete _imtmp
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method buildfromscreen
	push 255
	call _gsq,transparency
	call _gsq,blitscreen
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method cloneto
	localstring $1
	pop $1
	push $1
	spushs
	push "_gsq"
	spop $a
	call [$a],clone
	end method
	method delay
	localint $1
	pop $1
	push $1
	pop _idelay
	end method
	method transparency
	localint $1
	pop $1
	push $1
	call _gsq,transparency
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "null"
	push $1
	push "null"
	push $2
	cthis playobfin
	end method
	method playobfin
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1846
	call gameapi,getgamename
	jmp l1845
l1846:
	push $1
l1845:
	pop _sob1
	push $2
	pop _sfunc1
	push $3
	push "null"
	cmpje
	cmp0
	je l1848
	call gameapi,getgamename
	jmp l1847
l1848:
	push $3
l1847:
	pop _sob2
	push $4
	pop _sfunc2
	call _gsq,show
	push 0
	call _gsq,transparency
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene0"
	call _clfio,_play
	end method
	method CutScene0
	push _sob1
	push _sfunc1
	cthis callfun
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method close
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obclose
	end method
	method obclose
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob1
	push $2
	pop _sfunc1
	push 0
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene1"
	call _clfio,_play
	end method
	method CutScene1
	call _gsq,hide
	push _sob1
	push _sfunc1
	cthis callfun
	end method
	method enter
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obenter
	end method
	method obenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob2
	push $2
	pop _sfunc2
	push 255
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method _callfun2
	call _gsq,hide
	push _sob2
	push _sfunc2
	cthis callfun
	end method
	method isplaying
	call _clfio,isplaying
	end method
	method show
	push 255
	call _gsq,transparency
	call _gsq,show
	end method
	end class

	method allchars
	push "a0 t_!@#$%^&*()_+-=[]\\|}{;':\",./<>?`~"
	end method
	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	push A
	push "Sdir"
	push "left"
	push "W"
	push 0
	push "iFontSize"
	push $2
	push "X"
	push 0
	push "Y"
	push 0
	cthis vars2
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new text,txtpass
	push $1
	call txtpass,setfont
	call txtpass,hide
	new int,bpass
	push 0
	pop bpass
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method setaspasswd
	push 1
	pop bpass
	call txt1,hide
	call txt1,getz
	call txtpass,setz
	call txtpass,show
	cthis copytopass
	end method
	method copytopass
	localdef $1
	call txt1,get
	spushs
	spop $h
	call $h,length
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1849:
	push $3
	push $1
	cmpjl
	cmp0
	je l1850
	jmp l1852
l1851:
	add $3,1
	pop $3
	jmp l1849
l1852:
	push "*"
	popax
	add $2,$a
	pop $2
	jmp l1851
l1850:
	push $2
	call txtpass,txtset
	call txt1,getpx
	call txt1,getpy
	call txtpass,setpos
	end method
	method setastext
	push 0
	pop bpass
	call txt1,show
	call txtpass,hide
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l1854
	ret
l1854:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l1856
	call txt2,hide
	jmp l1855
l1856:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l1855:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	cthis get
	cthis updatetxt
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push X
	push $1
	pop $b
	popax
	add $a,$b
	push Y
	push $2
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l1858
	push $1
	jmp l1857
l1858:
	push ""
l1857:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method getcx
	call txt1,getcx
	end method
	method getcy
	call txt1,getcy
	end method
	method geth
	call txt1,geth
	end method
	method getey
	call txt1,getpy
	push iFontSize
	pop $b
	popax
	add $a,$b
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,clip
	push $1
	push $2
	push $3
	push $4
	call txt2,clip
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1860
	ret
l1860:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1862
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	cthis getname
	push "_onenter"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	ret
l1862:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l1864
	push "tab"
	call keyboard,iskey
	jmp l1866
l1864:
	push 0
	jmp l1866
l1865:
	push 1
l1866:
	cmp0
	je l1867
	push " "
	pop $1
	jmp l1863
l1867:
	call keyboard,getkey
	pop $1
l1863:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1869
	push "a"
	call sChars,contains
	jmp l1871
l1869:
	push 0
	jmp l1871
l1870:
	push 1
l1871:
	cmp0
	jne l1873
	call keyboard,isdigit
	cmp0
	je l1874
	push "0"
	call sChars,contains
	jmp l1876
l1874:
	push 0
	jmp l1876
l1875:
	push 1
l1876:
	cmp0
	jne l1873
	push $1
	call sChars,contains
	jmp l1877
l1872:
	push 0
	jmp l1877
l1873:
	push 1
l1877:
	cmp0
	je l1878
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1881
	push iLimit
	call $2,length
	cmpja
	jmp l1882
l1880:
	push 0
	jmp l1882
l1881:
	push 1
l1882:
	jmp l1883
l1878:
	push 0
	jmp l1883
l1879:
	push 1
l1883:
	cmp0
	je l1884
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	cthis updatetxt
	cthis updatecyk
	jmp l1868
l1884:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1886
	call $2,length
	push 0
	cmpja
	jmp l1888
l1886:
	push 0
	jmp l1888
l1887:
	push 1
l1888:
	cmp0
	je l1889
	push 1
	call $2,strsube
	cthis updatetxt
	cthis updatecyk
l1889:
l1868:
	cthis getname
	push "_ontyped"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method updatetxt
	localstring $1
	pop $1
	push $1
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	push Sdir
	push "center"
	cmpje
	cmp0
	je l1891
	push X
	push W
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push Y
	call txt1,setpos
	jmp l1890
l1891:
	push Sdir
	push "right"
	cmpje
	cmp0
	je l1893
	push X
	push W
	pop $b
	popax
	add $a,$b
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push Y
	call txt1,setpos
	jmp l1892
l1893:
	push X
	push Y
	call txt1,setpos
l1892:
l1890:
	push bpass
	cmp0
	je l1895
	cthis copytopass
l1895:
	cthis getname
	push "_onwrite"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	new string,sTextBoxTyperSys
	push "null"
	pop sTextBoxTyperSys
	class TextBoxTyper
	parent LObjController
	parent ImagePos
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	clparent ImagePos,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	push "Rows"
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push "X"
	push $8
	push "Y"
	push $9
	push "Row"
	push 0
	push "enablemove"
	push 1
	push "W"
	push $10
	push "insystem"
	push 0
	push "H"
	push $11
	push "isvisible"
	push 1
	push "clipx1"
	push $8
	push "clipy1"
	push $9
	push "clipx2"
	push 0
	push "clipy2"
	push 0
	push "clipped"
	push 0
	cthis vars2
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1896:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1897
	jmp l1899
l1898:
	add $14,1
	pop $14
	jmp l1896
l1899:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $10
	spop $a
	call [$a],W=
	push $13
	spushs
	push "left"
	spop $a
	call [$a],Sdir=
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1898
l1897:
	end method
	method settyper
	localint $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $10
	localint $11
	localstring $12
	localstring $13
	push ""
	pop $13
	push $1
	push 0
	cmpjl
	cmp0
	je l1901
	call grtt,last
	spushs
	spop $a
	call [$a],X
	pop $10
	call grtt,last
	spushs
	spop $a
	call [$a],getey
	push Dy
	pop $b
	popax
	add $a,$b
	pop $11
	call grtt,size
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	call grtt,add
	jmp l1900
l1901:
	push $1
	call grtt,get
	pop $12
	push $12
	spushs
	spop $a
	call [$a],X
	pop $10
	push $12
	spushs
	spop $a
	call [$a],getpy
	pop $11
	push $12
	spushs
	spop $a
	call [$a],get
	pop $13
	push $12
	push 0
	push $3
	push $12
	spushs
	spop $a
	call [$a],iFontSize
	pop $b
	popax
	sub $a,$b
	call grtt,movefrom
	push $12
	spushs
	spop $d
	delete [$d]
l1900:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	push $2
	push $3
	push $5
	push $6
	push $7
	push $8
	push W
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $e
	new TextTyper,[$e]
	push $12
	spushs
	push W
	spop $a
	call [$a],W=
	push $12
	spushs
	push $9
	spop $a
	call [$a],Sdir=
	push $12
	spushs
	push $13
	spop $a
	call [$a],updatetxt
	push $12
	spushs
	push Z
	spop $a
	call [$a],setz
	push $12
	spushs
	push $10
	push $11
	spop $a
	call [$a],setpos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grtt,move
	push $1
	push $2
	call gren,move
	push $1
	popax
	add X,$a
	pop X
	push $2
	popax
	add Y,$a
	pop Y
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	push 1
	pop isvisible
	call grtt,show
	end method
	method hide
	push 0
	pop isvisible
	call grtt,hide
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 1
	pop clipped
	push $1
	pop clipx1
	push $2
	pop clipy1
	push $3
	pop clipx2
	push $4
	pop clipy2
	localint $5
	push 0
	pop $5
l1902:
	push $5
	call grtt,size
	cmpjl
	cmp0
	je l1903
	jmp l1905
l1904:
	add $5,1
	pop $5
	jmp l1902
l1905:
	push $5
	call grtt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1904
l1903:
	end method
	method getw
	push W
	end method
	method geth
	push H
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1906:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1907
	jmp l1909
l1908:
	add $4,1
	pop $4
	jmp l1906
l1909:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1908
l1907:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1911
	push $1
	push Rows
	cmpjl
	jmp l1913
l1911:
	push 0
	jmp l1913
l1912:
	push 1
l1913:
	cmp0
	je l1914
	push insystem
	cmp0
	je l1916
	push GAME
	spushs
	push sTextBoxTyperSys
	spop $a
	call [$a],isgmobj
	cmp0
	je l1918
	push sTextBoxTyperSys
	cthis getname
	cmpjne
	jmp l1920
l1918:
	push 0
	jmp l1920
l1919:
	push 1
l1920:
	cmp0
	je l1921
	push sTextBoxTyperSys
	spushs
	spop $a
	call [$a],deactivate
l1921:
	cthis getname
	pop sTextBoxTyperSys
l1916:
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	cthis getname
	push "_activate"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1914:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1923
	ret
l1923:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1925
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1927
	push enablemove
	jmp l1929
l1927:
	push 0
	jmp l1929
l1928:
	push 1
l1929:
	cmp0
	je l1930
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1931:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1932
	jmp l1934
l1933:
	sub $2,1
	pop $2
	jmp l1931
l1934:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1933
l1932:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	push Rows
	cmpjl
	cmp0
	je l1936
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1936:
l1930:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1924
l1925:
	push "up"
	call keyboard,iskey
	cmp0
	je l1938
	push Row
	push 0
	cmpja
	jmp l1940
l1938:
	push 0
	jmp l1940
l1939:
	push 1
l1940:
	cmp0
	je l1941
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1937
l1941:
	push "down"
	call keyboard,iskey
	cmp0
	je l1943
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1945
l1943:
	push 0
	jmp l1945
l1944:
	push 1
l1945:
	cmp0
	je l1946
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1942
l1946:
	push "pgdown"
	call keyboard,iskey
	cmp0
	je l1948
	push Row
	push Rows
	push 10
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1950
	push Row
	push 10
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1949
l1950:
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1949:
	jmp l1947
l1948:
	push "pgup"
	call keyboard,iskey
	cmp0
	je l1952
	push Row
	push 9
	cmpja
	cmp0
	je l1954
	push Row
	push 10
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1953
l1954:
	push 0
	cthis activate
l1953:
	jmp l1951
l1952:
	push "backspace"
	call keyboard,iskey
	cmp0
	jne l1957
	push "delete"
	call keyboard,iskey
	jmp l1958
l1956:
	push 0
	jmp l1958
l1957:
	push 1
l1958:
	cmp0
	je l1959
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1961
l1959:
	push 0
	jmp l1961
l1960:
	push 1
l1961:
	cmp0
	je l1962
	push enablemove
	cmp0
	je l1964
	localdef $2
	push Row
	pop $2
l1965:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1966
	jmp l1968
l1967:
	add $2,1
	pop $2
	jmp l1965
l1968:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1967
l1966:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
l1964:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1970
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1970:
	jmp l1955
l1962:
	push "onkeydown"
	call grtt,eval
l1955:
l1951:
l1947:
l1942:
l1937:
l1924:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1972
	ret
l1972:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push clipped
	cmp0
	je l1974
	push $1
	push $2
	push clipx1
	push clipy1
	push clipx2
	push clipy2
	call clsurf,isin
	jmp l1976
l1974:
	push 0
	jmp l1976
l1975:
	push 1
l1976:
	cmp0
	jne l1978
	push clipped
	neg
	cmp0
	je l1979
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	jmp l1981
l1979:
	push 0
	jmp l1981
l1980:
	push 1
l1981:
	jmp l1982
l1977:
	push 0
	jmp l1982
l1978:
	push 1
l1982:
	cmp0
	je l1983
	cthis deactivate
	localint $3
	push 0
	pop $3
l1984:
	push $3
	cthis size
	cmpjl
	cmp0
	je l1985
	jmp l1987
l1986:
	add $3,1
	pop $3
	jmp l1984
l1987:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getey
	push $2
	cmpja
	cmp0
	je l1989
	push $3
	cthis activate
	ret
l1989:
	jmp l1986
l1985:
	jmp l1973
l1983:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1973:
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	cmp0
	je l1991
	push isvisible
	neg
	jmp l1993
l1991:
	push 0
	jmp l1993
l1992:
	push 1
l1993:
	cmp0
	je l1994
	push 0
	ret
l1994:
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method getact
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method idpx
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpx
	end method
	method idpy
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	end method
	method getpx
	push X
	end method
	method getpy
	push Y
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	push $1
	push ""
	cthis getlinesfrom
	end method
	method getlinesfrom
	localint $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push ""
	pop $3
	localint $4
	push $1
	pop $4
l1995:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1996
	jmp l1998
l1997:
	add $4,1
	pop $4
	jmp l1995
l1998:
	push "tt"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	push $2
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l1997
l1996:
	push $3
	end method
	method getlines
	push 0
	push " "
	cthis getlinesfrom
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1999:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l2000
	jmp l2002
l2001:
	add $1,1
	pop $1
	jmp l1999
l2002:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l2004
	push $1
	ret
l2004:
	jmp l2001
l2000:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l2006
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l2006:
	end method
	method settext
	localint $1
	pop $1
l2007:
	push $1
	push 0
	cmpja
	cmp0
	je l2008
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l2007
l2008:
	end method
	method copytodb
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
	localint $2
	push 0
	pop $2
l2009:
	push $2
	call grtt,size
	cmpjl
	cmp0
	je l2010
	jmp l2012
l2011:
	add $2,1
	pop $2
	jmp l2009
l2012:
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	call grtt,get
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],add
	jmp l2011
l2010:
	end method
	method copyfromdb
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis copyfromdbii
	end method
	method copyfromdbss
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis copyfromdbii
	end method
	method copyfromdbii
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	jne l2015
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l2016
l2014:
	push 0
	jmp l2016
l2015:
	push 1
l2016:
	cmp0
	je l2017
	ret
l2017:
	cthis clear
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	cthis size
	cmpja
	cmp0
	je l2019
	push $2
	cthis size
	pop $b
	popax
	add $a,$b
	pop $3
l2019:
	localint $4
	push $2
	pop $4
l2020:
	push $4
	push $3
	cmpjl
	cmp0
	je l2021
	jmp l2023
l2022:
	add $4,1
	pop $4
	jmp l2020
l2023:
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmp0
	je l2025
	push $1
	spushs
	push $4
	push 0
	spop $a
	call [$a],get
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis setid
l2025:
	jmp l2022
l2021:
	end method
	method copyfromdbrow
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $4
	push $4
	cthis size
	cmpja
	cmp0
	je l2027
	cthis size
	pop $4
l2027:
	localint $5
	push $3
	pop $5
l2028:
	push $5
	push $4
	cmpjl
	cmp0
	je l2029
	jmp l2031
l2030:
	add $5,1
	pop $5
	jmp l2028
l2031:
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],get
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	cthis setid
	jmp l2030
l2029:
	end method
	method save
	localstring $1
	pop $1
	push igmenablesave
	cmp0
	je l2033
	new db,__tmpdb
	push "__tmpdb"
	cthis copytodb
	push "|"
	call __tmpdb,setseparator
	push $1
	call __tmpdb,save
	delete __tmpdb
l2033:
	end method
	method load
	localstring $1
	pop $1
	new db,__tmpdb
	push $1
	call __tmpdb,load
	push "__tmpdb"
	cthis copyfromdb
	delete __tmpdb
	end method
	end class

	class GUITextBoxTyper
	parent TextBoxTyper
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	push $9
	push $10
	push $11
	push $12
	clparent TextBoxTyper,init
	push A
	push "rewinder"
	push "null"
	push "rewinderbg"
	push "null"
	cthis vars2
	end method
	method setrewinder
	localstring $1
	pop $1
	push $1
	pop rewinder
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop rewinderbg
	end method
	method activate
	localint $1
	pop $1
	push $1
	clparent TextBoxTyper,activate
	cthis updaterewactual
	end method
	method updaterewactual
	push Row
	cthis updaterewpos
	end method
	method updaterewpos
	localint $1
	pop $1
	push rewinder
	push "null"
	cmpjne
	cmp0
	je l2035
	localdef $2
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpy
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	cmpjl
	cmp0
	je l2037
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
	jmp l2036
l2037:
	push $2
	spushs
	spop $a
	call [$a],getey
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l2039
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
l2039:
l2036:
l2035:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	new int,bclickrel
	push 1
	pop bclickrel
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	pop bclickrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push bclickrel
	cmp0
	je l2041
	call timwez,play
	push 0
	pop bonrel
	jmp l2040
l2041:
	push 1
	pop bonrel
l2040:
	push 1
	pop bstart
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l2042
	push bonrel
	neg
	jmp l2044
l2042:
	push 0
	jmp l2044
l2043:
	push 1
l2044:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l2045
	push bonrel
	jmp l2047
l2045:
	push 0
	jmp l2047
l2046:
	push 1
l2047:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method setcobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setobj
	end method
	method setpobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setobj
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l2049
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l2049:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l2051
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l2051:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	end method
	method setmoved
	localstring $1
	pop $1
	push $1
	pop smoved
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getname
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	push smoved
	push "null"
	cmpjne
	cmp0
	je l2053
	cthis getname
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2053:
	end method
	end class

	class DelayImgMover
	parent classlocker
	parent ImgMover
	method init
	clparent classlocker,init
	clparent ImgMover,init
	new DelayTaker,cldt
	push "b2clicks"
	push 0
	cthis var2
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method _put
	push b2clicks
	neg
	cmp0
	je l2055
	call cldt,ret
l2055:
	cthis getname
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _get
	cthis getname
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	push b2clicks
	neg
	cmp0
	je l2057
	call cldt,take
l2057:
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l2059
	ret
l2059:
	push b2clicks
	cmp0
	je l2061
	cthis moving
	neg
	cmp0
	je l2063
	cthis _get
	jmp l2062
l2063:
	cthis _put
l2062:
	jmp l2060
l2061:
	call cldt,isonclick
	cmp0
	je l2065
	cthis _put
	jmp l2064
l2065:
	call cldt,istaken
	neg
	cmp0
	je l2067
	cthis _get
l2067:
l2064:
l2060:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l2069
	ret
l2069:
	call cldt,isonrel
	cmp0
	je l2071
	push b2clicks
	neg
	jmp l2073
l2071:
	push 0
	jmp l2073
l2072:
	push 1
l2073:
	cmp0
	je l2074
	cthis _put
l2074:
	end method
	end class

	class DelayMover
	parent DelayImgMover
	parent ObjController
	method init
	clparent DelayImgMover,init
	clparent ObjController,init
	end method
	end class

	class WaitImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getname
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	call cldt,isonrel
	cmp0
	je l2076
	cthis reset
	cthis getname
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l2075
l2076:
	cthis moving
	cmp0
	je l2078
	cthis reset
	cthis getname
	push "_SET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2078:
l2075:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push iResX
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push iResY
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	push A
	push "borx1"
	push $1
	push "bory1"
	push $2
	push "borx2"
	push $3
	push "bory2"
	push $4
	cthis vars2
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push iResX
	push iResY
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l2081
	push sorientation
	push "down"
	cmpje
	jmp l2082
l2080:
	push 0
	jmp l2082
l2081:
	push 1
l2082:
	cmp0
	je l2083
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l2079
l2083:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l2079:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l2085
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l2085:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l2087
	call clmv,msftmove
	jmp l2086
l2087:
	call clmv,msmove
l2086:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l2090
	push sorientation
	push "down"
	cmpje
	jmp l2091
l2089:
	push 0
	jmp l2091
l2090:
	push 1
l2091:
	cmp0
	je l2092
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l2088
l2092:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l2088:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l2095
	push sorientation
	push "down"
	cmpje
	jmp l2096
l2094:
	push 0
	jmp l2096
l2095:
	push 1
l2096:
	cmp0
	je l2097
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l2099
	push borx1
	push bory2
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push borx1
	push bory2
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l2098
l2099:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownact,setpos
	push bory1
	pop $7
l2098:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l2093
l2097:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l2101
	push borx2
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupstd,setpos
	push borx2
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l2100
l2101:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx1
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx1
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push borx1
	pop $8
l2100:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l2093:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l2102:
	push $13
	push $11
	cmpjl
	cmp0
	je l2103
	jmp l2105
l2104:
	add $13,1
	pop $13
	jmp l2102
l2105:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l2107
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l2106
l2107:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l2109
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l2108
l2109:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l2111
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l2110
l2111:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l2113
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l2113:
l2110:
l2108:
l2106:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l2104
l2103:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l2115
	push bvertical
	push 0
	cmpje
	cmp0
	je l2117
	push "left"
	pop _sdir
	jmp l2116
l2117:
	push "up"
	pop _sdir
l2116:
	jmp l2114
l2115:
	push $2
	push "down"
	cmpje
	cmp0
	je l2119
	push bvertical
	push 0
	cmpje
	cmp0
	je l2121
	push "right"
	pop _sdir
	jmp l2120
l2121:
	push "down"
	pop _sdir
l2120:
l2119:
l2114:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l2123
	ret
l2123:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l2125
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l2127
l2125:
	push 0
	jmp l2127
l2126:
	push 1
l2127:
	cmp0
	je l2128
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l2130
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l2132
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l2132:
	jmp l2129
l2130:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l2134
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l2136
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l2136:
	jmp l2133
l2134:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l2138
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l2140
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l2140:
	jmp l2137
l2138:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l2142
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l2144
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l2144:
l2142:
l2137:
l2133:
l2129:
l2128:
	push $1
	cmp0
	je l2146
	call fxrew,isplaying
	neg
	cmp0
	je l2148
	call fxrew,play
l2148:
	jmp l2145
l2146:
	push 0
	call fxrew,stop
l2145:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	cthis getname
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l2150
	ret
l2150:
	call cldt,isonrel
	cmp0
	je l2152
	cthis _put
l2152:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l2154
	ret
l2154:
	call cldt,isonclick
	cmp0
	je l2156
	cthis _put
	jmp l2155
l2156:
	call cldt,istaken
	neg
	cmp0
	je l2158
	cthis getname
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2158:
l2155:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push A
	push "sobject"
	push "null"
	push "sclicked"
	push "null"
	push "bcheck2klik"
	push 0
	cthis vars2
	new int,ipadclick
	push 0
	pop ipadclick
	end method
	method print
	call grbuts,print
	end method
	method sort
	call grbuts,sortimgs
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call grbuts,addonce
	call grbuts,sortimgs
	end method
	method addbut
	localstring $1
	pop $1
	push $1
	call grbuts,addonce
	call grbuts,sortimgs
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call grbuts,contains
	end method
	method addlocker
	localstring $1
	pop $1
	push $1
	cthis add
	push $1
	clparent classlocker,setaslocker
	end method
	method removebutlist
	push "removebut"
	cthis withlist
	end method
	method removebut
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	localint $2
	push sobject
	push "null"
	cmpjne
	cmp0
	jne l2160
	push sclicked
	push "null"
	cmpjne
	jmp l2161
l2159:
	push 0
	jmp l2161
l2160:
	push 1
l2161:
	pop $2
	push $1
	push sobject
	cmpje
	cmp0
	je l2163
	push "null"
	pop sobject
l2163:
	push $1
	push sclicked
	cmpje
	cmp0
	je l2165
	push "null"
	pop sclicked
l2165:
	push $2
	cmp0
	je l2167
	cthis onmousemove
l2167:
	end method
	method removebutmoveoff
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	push $1
	cthis checkmoveoff
	end method
	method checkmoveoff
	localstring $1
	pop $1
	push $1
	push sobject
	cmpje
	cmp0
	je l2169
	cthis lastoff
	cthis onmousemove
l2169:
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l2171
	push $1
	call grbuts,removegr
l2171:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l2173
	ret
l2173:
	cthis checktouchpad
	cmp0
	je l2175
	push bcheck2klik
	jmp l2177
l2175:
	push 0
	jmp l2177
l2176:
	push 1
l2177:
	cmp0
	je l2178
	push ipadclick
	cmp0
	je l2180
	localdef $1
	push sobject
	pop $1
	push $1
	push sobject
	cmpje
	cmp0
	je l2182
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l2181
l2182:
	push sobject
	push "null"
	cmpje
	cmp0
	je l2184
	push 0
	pop ipadclick
l2184:
l2181:
	jmp l2179
l2180:
	push 1
	pop ipadclick
l2179:
	jmp l2174
l2178:
	cthis _butmouselclick
l2174:
	end method
	method _butmouselclick
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l2186
	push sobject
	pop sclicked
	push sobject
	spushs
	push "butclick"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2188
	push sobject
	spushs
	spop $a
	call [$a],butclick
l2188:
l2186:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l2190
	ret
l2190:
	cthis checktouchpad
	cmp0
	je l2192
	cthis lastoff
l2192:
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l2194
	push sclicked
	spushs
	push "butlrel"
	spop $a
	call [$a],hasaddedmet
	jmp l2196
l2194:
	push 0
	jmp l2196
l2195:
	push 1
l2196:
	cmp0
	je l2197
	push sclicked
	spushs
	spop $a
	call [$a],butlrel
	jmp l2193
l2197:
	push "null"
	pop sclicked
l2193:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l2199
	ret
l2199:
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l2201
	push sclicked
	spushs
	push "butmoving"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2203
	push sclicked
	spushs
	spop $a
	call [$a],butmoving
l2203:
l2201:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l2205
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l2207
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	push "butmoveon"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2209
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l2209:
l2207:
	jmp l2204
l2205:
	cthis lastoff
l2204:
	end method
	method lastoff
	push sobject
	push "null"
	cmpjne
	cmp0
	je l2211
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	push "butmoveoff"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2213
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
l2213:
	push "null"
	pop sobject
l2211:
	end method
	method refresh
	cthis lastoff
	cthis onmousemove
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global9"
	cthis addmethod
	end method
	method global9
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinvis
	push "isbutin"
	push "global10"
	cthis addmethod
	end method
	method global10
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global11"
	cthis addmethod
	end method
	method global11
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_isinvisalpha
	push "isbutin"
	push "global12"
	cthis addmethod
	end method
	method global12
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global13"
	cthis addmethod
	end method
	method global13
	call sndfxmoveonms,playif
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l2215
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2215:
	end method
	method Button_moveonstate
	push "butmoveon"
	push "global14"
	cthis addmethod
	end method
	method global14
	cthis advstdstate
	cmp0
	je l2217
	call sndfxmoveonms,playif
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l2219
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2219:
l2217:
	end method
	method Button_moveonplay
	push "butmoveon"
	push "global15"
	cthis addmethod
	end method
	method global15
	call sndfxmoveonms,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpje
	cmp0
	je l2221
	push 1
	popax
	sub 0,$a
	cthis play
l2221:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global16"
	cthis addmethod
	end method
	method global16
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_moveonms
	push "butmoveon"
	push "global17"
	cthis addmethod
	end method
	method global17
	call advmouse,setbut
	end method
	method Button_moveonfxms
	push "butmoveon"
	push "global18"
	cthis addmethod
	end method
	method global18
	call advmouse,setbut
	call sndfxmoveonms,playif
	end method
	method Button_moveonfxmstate
	push "butmoveon"
	push "global19"
	cthis addmethod
	end method
	method global19
	cthis advstdstate
	cmp0
	je l2223
	call advmouse,setbut
	call sndfxmoveonms,playif
l2223:
	end method
	method Button_moveoffms
	push "butmoveoff"
	push "global20"
	cthis addmethod
	end method
	method global20
	call advmouse,setstd
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdstate
	cthis Button_isin
	cthis Button_moveonstate
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdms
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	end method
	method Button_stdmstate
	cthis Button_isinalpha
	cthis Button_moveonmstate
	cthis Button_moveoffms
	end method
	method Button_stdclick
	push "butclick"
	push "Button_butclick"
	cthis addmethod
	end method
	method Button_addstd
	cthis Button_std
	cthis Button_stdclick
	cthis getname
	call butgame,add
	end method
	method Button_addstdstate
	cthis Button_stdstate
	push "butclick"
	push "global21"
	cthis addmethod
	cthis getname
	call butgame,add
	end method
	method global21
	cthis advstdstate
	cmp0
	je l2225
	call sndfxbutclick1,playif
	cthis Button_butclick
l2225:
	end method
	method Button_butclick
	push "butclick_"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method Button_butmoveon
	push "butmoveon_"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method Button_butmoveoff
	push "butmoveoff_"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	new int,ipadclick
	push 0
	pop ipadclick
	push "bcheck2klik"
	push 0
	cthis var2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l2227
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l2226
l2227:
	push 0
l2226:
	end method
	method _release
	cthis checktouchpad
	cmp0
	je l2229
	push 0
	pop ipadclick
l2229:
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call advmouse,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l2231
	ret
l2231:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2233
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l2233:
	push $1
	cmp0
	je l2235
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l2237
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2239
	cthis _release
l2239:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call advmouse,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2237:
	jmp l2234
l2235:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2241
	cthis _release
l2241:
l2234:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l2243
	ret
l2243:
	cthis checktouchpad
	cmp0
	je l2245
	push bcheck2klik
	jmp l2247
l2245:
	push 0
	jmp l2247
l2246:
	push 1
l2247:
	cmp0
	je l2248
	push ipadclick
	cmp0
	je l2250
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l2249
l2250:
	push 1
	pop ipadclick
	cthis onmousemove
l2249:
	jmp l2244
l2248:
	cthis _butmouselclick
l2244:
	end method
	method _butmouselclick
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2252
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2252:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l2254
	ret
l2254:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2256
	cthis copyobj
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2256:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l2258
	call advmouse,setstd
	push "null"
	pop slastb
l2258:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	new string,sFontBold
	push "null"
	pop sFontBold
	new string,sFontItalic
	push "null"
	pop sFontItalic
	new string,sFontBoldItalic
	push "null"
	pop sFontBoldItalic
	new int,bhtml
	push 0
	pop bhtml
	localstring $12
	localint $13
	localint $14
	push "$"
	call $1,contains
	cmp0
	je l2260
	push 1
	pop bhtml
	new vector,vfont
	push "string"
	call vfont,type
	push $1
	push "$"
	call vfont,vecbuildfromstring
	push 0
	pop $14
l2261:
	push $14
	call vfont,size
	cmpjl
	cmp0
	je l2262
	jmp l2264
l2263:
	add $14,1
	pop $14
	jmp l2261
l2264:
	push $14
	call vfont,get
	pop $12
	push "_italic"
	call $12,contains
	cmp0
	je l2266
	push "_bold"
	call $12,contains
	jmp l2268
l2266:
	push 0
	jmp l2268
l2267:
	push 1
l2268:
	cmp0
	je l2269
	push $12
	pop sFontBoldItalic
	jmp l2265
l2269:
	push "_italic"
	call $12,contains
	cmp0
	je l2271
	push $12
	pop sFontItalic
	jmp l2270
l2271:
	push "_bold"
	call $12,contains
	cmp0
	je l2273
	push $12
	pop sFontBold
	jmp l2272
l2273:
	push $12
	pop sFont
l2272:
l2270:
l2265:
	jmp l2263
l2262:
	push "$"
	call sFont,contains
	cmp0
	je l2275
	push sFontItalic
	push "null"
	cmpjne
	cmp0
	je l2277
	push sFontItalic
	pop sFont
	jmp l2276
l2277:
	push sFontBold
	push "null"
	cmpjne
	cmp0
	je l2279
	push sFontBold
	pop sFont
	jmp l2278
l2279:
	push sFontBoldItalic
	pop sFont
l2278:
l2276:
l2275:
	push sFont
	pop $1
	jmp l2259
l2260:
	push $1
	push $2
	cthis checkfont
	pop $1
l2259:
	new int,iFontSize
	push $2
	pop iFontSize
	push "Z"
	push $10
	cthis var2
	localstring $15
	push "null"
	pop $15
	push ":"
	call $3,contains
	cmp0
	je l2281
	push ":"
	call $3,strgetto
	push ":"
	pop $b
	popax
	add $a,$b
	pop $15
l2281:
	push ".db"
	call $3,contains
	cmp0
	je l2283
	push $15
	push "$path:"
	cmpje
	cmp0
	je l2285
	new db,dbtxt
	push $15
	call $3,strsubbs
	call dbtxt,load
	jmp l2284
l2285:
	push "dbtxt"
	push $3
	cthis newdb
l2284:
	jmp l2282
l2283:
	push $15
	spushs
	push "$lang:"
	cmpst
	jne l2287
	spop $a
	push "dbtxt"
	push $15
	call $3,strsubbs
	cthis lang_db
	jmp l2286
l2287:
	push "$var:"
	cmpst
	jne l2288
	spop $a
	new db,dbtxt
	push $15
	call $3,strsubbs
	call dbtxt,dbcopy
	jmp l2286
l2288:
	push "$row:"
	cmpst
	jne l2289
	spop $a
	new db,dbtxt
	push $15
	call $3,strsubbs
	spushs
	push ","
	spop $h
	call $h,strgetto
	pop $12
	push ","
	call $3,strgetfrom
	pop $13
	push 0
	pop $14
l2290:
	push $14
	push $12
	spushs
	push $13
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2291
	jmp l2293
l2292:
	add $14,1
	pop $14
	jmp l2290
l2293:
	call dbtxt,addrow
	popax
	push $14
	push $12
	spushs
	push $13
	push $14
	spop $a
	call [$a],get
	call dbtxt,add
	jmp l2292
l2291:
	jmp l2286
l2289:
	spop $a
	new db,dbtxt
	push $3
	call dbtxt,dbaddlast
l2286:
l2282:
	localint $16
	push 0
	pop $16
	localint $17
	call dbtxt,getrowsno
	pop $17
	push 0
	push 5
	call $11,getb
	push "limit"
	cmpje
	cmp0
	je l2295
	localint $18
	push "limit_"
	call $11,strsubbs
	pop $18
	new vector,vtmp
	push "string"
	call vtmp,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	localint $14
	push 0
	pop $14
l2296:
	push $14
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l2297
	jmp l2299
l2298:
	add $14,1
	pop $14
	jmp l2296
l2299:
	push $14
	push 0
	call dbtxt,get
	push " "
	call vtmp,vecbuildfromstring
	localint $19
	push 0
	pop $19
l2300:
	push $19
	call vtmp,size
	cmpjl
	cmp0
	je l2301
	jmp l2303
l2302:
	add $19,1
	pop $19
	jmp l2300
l2303:
	push $19
	call vtmp,get
	call vtmp2,add
	jmp l2302
l2301:
	jmp l2298
l2297:
	call dbtxt,free
	localstring $12
	push ""
	pop $12
	localstring $20
	push 0
	pop $14
l2304:
	push $14
	call vtmp2,size
	cmpjl
	cmp0
	je l2305
	jmp l2307
l2306:
	add $14,1
	pop $14
	jmp l2304
l2307:
	push $14
	call vtmp2,get
	pop $20
	push $12
	push $20
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,length
	push $18
	cmpjl
	cmp0
	je l2309
	push $20
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l2308
l2309:
	call dbtxt,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $19
	push $19
	push $12
	call dbtxt,add
	push $20
	push " "
	pop $b
	popax
	add $a,$b
	pop $12
l2308:
	jmp l2306
l2305:
	call dbtxt,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $19
	push $19
	push $12
	call dbtxt,add
	call dbtxt,getrowsno
	pop $17
l2295:
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	push 0
	pop $14
l2310:
	push $14
	push $17
	cmpjl
	cmp0
	je l2311
	jmp l2313
l2312:
	add $14,1
	pop $14
	jmp l2310
l2313:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	localdef $21
	push $14
	push 0
	call dbtxt,get
	pop $21
	push bhtml
	cmp0
	je l2315
	push "<b>"
	call $21,contains
	cmp0
	je l2317
	push sFontBold
	pop $1
	push "<b>"
	call $21,strremove
	jmp l2316
l2317:
	push "<bi>"
	call $21,contains
	cmp0
	je l2319
	push sFontBoldItalic
	pop $1
	push "<bi>"
	call $21,strremove
	jmp l2318
l2319:
	push "<i>"
	call $21,contains
	cmp0
	je l2321
	push sFontItalic
	pop $1
	push "<i>"
	call $21,strremove
	jmp l2320
l2321:
	push sFont
	pop $1
l2320:
l2318:
l2316:
l2315:
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $21
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $16
	cmpja
	cmp0
	je l2323
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $16
l2323:
	push $12
	call grtxt,add
	jmp l2312
l2311:
	push "Rows"
	push $17
	cthis var2
	push $11
	push "right"
	cmpje
	cmp0
	jne l2326
	push $11
	push "center"
	cmpje
	jmp l2327
l2325:
	push 0
	jmp l2327
l2326:
	push 1
l2327:
	cmp0
	je l2328
	push 0
	pop $14
l2329:
	push $14
	push $17
	cmpjl
	cmp0
	je l2330
	jmp l2332
l2331:
	add $14,1
	pop $14
	jmp l2329
l2332:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l2334
	push $12
	spushs
	push $16
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l2333
l2334:
	push $12
	spushs
	push $16
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l2333:
	jmp l2331
l2330:
l2328:
	push "W"
	push $16
	cthis var2
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l2335:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l2336
	jmp l2338
l2337:
	add $8,1
	pop $8
	jmp l2335
l2338:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l2337
l2336:
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtxt,setz
	end method
	method getz
	push Z
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call grtxt,isin
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l2339:
	push A
	push $1
	cmpjne
	cmp0
	je l2340
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l2342
	push $2
	spushs
	spop $a
	call [$a],show
l2342:
	localdef $1
	pop $1
	jmp l2339
l2340:
	end method
	method blitto
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l2343:
	push $3
	call grtxt,size
	cmpjl
	cmp0
	je l2344
	jmp l2346
l2345:
	add $3,1
	pop $3
	jmp l2343
l2346:
	push $3
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],buildfullname
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],blit
	push GAME
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],vardel
	jmp l2345
l2344:
	end method
	method setcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l2347:
	push $4
	call grtxt,size
	cmpjl
	cmp0
	je l2348
	jmp l2350
l2349:
	add $4,1
	pop $4
	jmp l2347
l2350:
	push $4
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	jmp l2349
l2348:
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l2351:
	push $5
	call grtxt,size
	cmpjl
	cmp0
	je l2352
	jmp l2354
l2353:
	add $5,1
	pop $5
	jmp l2351
l2354:
	push $5
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l2353
l2352:
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push $1
	call grtxt,getposx
	pop $b
	popax
	sub $a,$b
	pop $3
	localdef $4
	push $2
	call grtxt,getposy
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	call grtxt,move
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	new string,_literal_char
	push "\""
	pop _literal_char
	end method
	method setliteralchar
	localstring $1
	pop $1
	push $1
	pop _literal_char
	end method
	method getliteralchar
	push _literal_char
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l2355:
	push $3
	cthis length
	cmpjl
	cmp0
	je l2356
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l2358
	push $4
	push $2
	cmpjle
	jmp l2360
l2358:
	push 0
	jmp l2360
l2359:
	push 1
l2360:
	cmp0
	je l2361
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l2357
l2361:
	push $4
	push BYTEa
	cmpjae
	cmp0
	je l2363
	push $4
	push BYTEz
	cmpjle
	jmp l2365
l2363:
	push 0
	jmp l2365
l2364:
	push 1
l2365:
	cmp0
	jne l2367
	push $4
	push BYTEA
	cmpjae
	cmp0
	je l2368
	push $4
	push BYTEZ
	cmpjle
	jmp l2370
l2368:
	push 0
	jmp l2370
l2369:
	push 1
l2370:
	cmp0
	jne l2367
	push $4
	push BYTE_
	cmpje
	jmp l2371
l2366:
	push 0
	jmp l2371
l2367:
	push 1
l2371:
	cmp0
	je l2372
	push ""
	pop found
l2372:
	cthis length
	pop $3
l2357:
	jmp l2355
l2356:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l2373:
	push $1
	cthis length
	cmpjl
	cmp0
	je l2374
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l2376
	push $2
	push BYTE9
	cmpjle
	jmp l2378
l2376:
	push 0
	jmp l2378
l2377:
	push 1
l2378:
	cmp0
	jne l2380
	push $2
	push dot
	cmpje
	cmp0
	je l2381
	push $3
	jmp l2383
l2381:
	push 0
	jmp l2383
l2382:
	push 1
l2383:
	jmp l2384
l2379:
	push 0
	jmp l2384
l2380:
	push 1
l2384:
	cmp0
	je l2385
	push $2
	push dot
	cmpje
	cmp0
	je l2387
	push 0
	pop $3
l2387:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l2375
l2385:
	cthis length
	pop $1
l2375:
	jmp l2373
l2374:
	push $3
	cmp0
	jne l2390
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l2390
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l2391
l2389:
	push 0
	jmp l2391
l2390:
	push 1
l2391:
	cmp0
	je l2392
	push ""
	pop found
l2392:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l2393:
	push $1
	cthis length
	cmpjl
	cmp0
	je l2394
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l2396
	push $2
	push BYTEz
	cmpjle
	jmp l2398
l2396:
	push 0
	jmp l2398
l2397:
	push 1
l2398:
	cmp0
	jne l2400
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l2401
	push $2
	push BYTEZ
	cmpjle
	jmp l2403
l2401:
	push 0
	jmp l2403
l2402:
	push 1
l2403:
	cmp0
	jne l2400
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l2400
	push $1
	push id
	cmpja
	cmp0
	je l2404
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l2404
	push $2
	push BYTE9
	cmpjle
	jmp l2406
l2404:
	push 0
	jmp l2406
l2405:
	push 1
l2406:
	jmp l2407
l2399:
	push 0
	jmp l2407
l2400:
	push 1
l2407:
	cmp0
	je l2408
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l2395
l2408:
	cthis length
	pop $1
l2395:
	jmp l2393
l2394:
	call found,length
	end method
	method isliteral
	cthis check
	cthis getliteralchar
	cmpjne
	cmp0
	je l2410
	push 0
	ret
l2410:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l2411:
	push $1
	cthis length
	cmpjl
	cmp0
	je l2412
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	cthis getliteralchar
	cmpje
	cmp0
	je l2414
	push 1
	ret
	jmp l2413
l2414:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l2413:
	jmp l2411
l2412:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l2415:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l2416
	jmp l2418
l2417:
	add $3,1
	pop $3
	jmp l2415
l2418:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l2420
	push $1
	push found
	cmpje
	cmp0
	je l2422
	push 1
	ret
l2422:
	jmp l2419
l2420:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l2424
	push 1
	ret
l2424:
l2419:
	jmp l2417
l2416:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l2425:
	cthis notend
	cmp0
	je l2426
	cthis check
	push " "
	cmpje
	cmp0
	je l2428
	add id,1
	pop id
	jmp l2427
l2428:
	cthis isconst
	cmp0
	je l2430
	push $1
	spushs
	push "$const"
	spop $a
	call [$a],add
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l2429
l2430:
	cthis isreal
	cmp0
	je l2432
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l2434
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l2434:
	jmp l2431
l2432:
	cthis isint
	cmp0
	je l2436
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l2438
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l2438:
	jmp l2435
l2436:
	cthis isident
	cmp0
	je l2440
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l2442
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l2442:
	jmp l2439
l2440:
	cthis isliteral
	cmp0
	je l2444
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l2446
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l2446:
	jmp l2443
l2444:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l2443:
l2439:
l2435:
l2431:
l2429:
l2427:
	jmp l2425
l2426:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l2447:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l2448
	jmp l2450
l2449:
	add $5,1
	pop $5
	jmp l2447
l2450:
	call vtmp2,free
	push 0
	pop $3
l2451:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2452
	jmp l2454
l2453:
	add $3,1
	pop $3
	jmp l2451
l2454:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l2456
	push $4
	call vtmp2,add
l2456:
	jmp l2453
l2452:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l2458
	push $5
	ret
l2458:
	jmp l2449
l2448:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setliteralchar"
	push "setliteralchar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getliteralchar"
	push "getliteralchar"
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l2460
	push "null"
	ret
l2460:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l2462
	push "null"
	ret
l2462:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l2463:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l2464
	jmp l2466
l2465:
	add $1,1
	pop $1
	jmp l2463
l2466:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l2465
l2464:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l2468
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l2468:
	end method
	end class

	class Localize
	method init
	end method
	method _lang_db
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push "load"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method lang_db
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push ""
	cthis _lang_db
	end method
	method lang_dbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "script"
	cthis _lang_db
	end method
	method lang_dbbeh
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "beh"
	cthis _lang_db
	end method
	method lang_path
	localstring $1
	pop $1
	push LANGDIR
	call gameapi,getgamename
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	end method
	end class

	class PyzCounter
	method init
	localstring $1
	localint $2
	pop $2
	pop $1
	new int,istart
	new int,istop
	new int,istep
	new int,idigits
	push 50
	pop idigits
	new int,iactual
	new string,_sanima
	push $1
	pop _sanima
	push A
	push "idx"
	push 2
	push "itimestep"
	push $2
	cthis vars2
	new gmimgvec,grcnt
	localint $3
	push 0
	pop $3
l2469:
	push $3
	push idigits
	cmpjl
	cmp0
	je l2470
	jmp l2472
l2471:
	add $3,1
	pop $3
	jmp l2469
l2472:
	localstring $4
	push "pcc"
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $1
	push $4
	cthis copyanima
	push $4
	spushs
	spop $a
	call [$a],hide
	push $4
	call grcnt,add
	jmp l2471
l2470:
	push "timcnt"
	push $2
	push "PyzCounter0"
	cthis timer=
	end method
	method PyzCounter0
	push istep
	popax
	add iactual,$a
	pop iactual
	push iactual
	cthis view
	push iactual
	push istop
	cmpje
	cmp0
	je l2474
	cthis getbuildername
	spushs
	cthis getbuildername
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2473
l2474:
	cthis play
l2473:
	end method
	method getcypher
	localint $1
	pop $1
	push "pcc"
	push _sanima
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	end method
	method start
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop istart
	push $2
	pop istop
	push $3
	pop istep
	push istart
	pop iactual
	push istart
	cthis view
	call timcnt,play
	end method
	method showcypher
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis getcypher
	pop $3
	push $3
	spushs
	push 0
	push $2
	spop $a
	call [$a],setframe
	push $3
	spushs
	spop $a
	call [$a],show
	end method
	method stop
	push 0
	call timcnt,stop
	end method
	method view
	localint $1
	pop $1
	call grcnt,hide
	push 0
	push 0
	call grcnt,setpos
	push $1
	push 0
	cmpje
	cmp0
	je l2476
	push 0
	push 0
	cthis showcypher
	jmp l2475
l2476:
	localint $2
	push 0
	pop $2
l2477:
	push $1
	push 0
	cmpja
	cmp0
	je l2478
	jmp l2480
l2479:
	add $2,1
	pop $2
	jmp l2477
l2480:
	push $2
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	push $d
	cthis showcypher
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	jmp l2479
l2478:
	localint $3
	push 0
	pop $3
	localint $4
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l2481:
	push $4
	push 0
	cmpjae
	cmp0
	je l2482
	jmp l2484
l2483:
	sub $4,1
	pop $4
	jmp l2481
l2484:
	push $4
	cthis getcypher
	spushs
	push $3
	push 0
	spop $a
	call [$a],move
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis getcypher
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l2483
l2482:
l2475:
	end method
	end class

	class AnMover
	method init
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	new timer,tmov
	push 1
	call tmov,settick
	push 1
	call tmov,setcycle
	push A
	push "rdx"
	push $2
	push "rdy"
	push $3
	cthis vars2
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	new string,sanima
	push $1
	pop sanima
	push "onfinish"
	push "AnMover0"
	call tmov,addmethod
	end method
	method AnMover0
	cthis move
	push "_finish"
	cthis builder_func
	cthis play
	end method
	method move
	push rdx
	popax
	add rsx,$a
	pop rsx
	push rdy
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l2487
	push $2
	jmp l2488
l2486:
	push 0
	jmp l2488
l2487:
	push 1
l2488:
	cmp0
	je l2489
	push sanima
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
l2489:
	end method
	method reset
	push 0
	pop rsx
	push 0
	pop rsy
	end method
	method play
	cthis reset
	call tmov,play
	end method
	method stop
	push 0
	call tmov,stop
	end method
	method enableroll
	cthis getname
	push "_finish"
	pop $b
	popax
	add $a,$b
	push "AnMover1"
	cthis addmethod
	end method
	method AnMover1
	push 0
	push 0
	cthis roll
	end method
	method roll
	localint $1
	localint $2
	pop $2
	pop $1
	push rdx
	push 0
	cmpjl
	cmp0
	je l2491
	push sanima
	spushs
	spop $a
	call [$a],getex
	push 0
	cmpjl
	jmp l2493
l2491:
	push 0
	jmp l2493
l2492:
	push 1
l2493:
	cmp0
	je l2494
	push sanima
	spushs
	push igmappw
	push $1
	pop $b
	popax
	add $a,$b
	push sanima
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
	jmp l2490
l2494:
	push rdx
	push 0
	cmpja
	cmp0
	je l2496
	push sanima
	spushs
	spop $a
	call [$a],getpx
	push igmappw
	cmpjae
	jmp l2498
l2496:
	push 0
	jmp l2498
l2497:
	push 1
l2498:
	cmp0
	je l2499
	push sanima
	spushs
	push $1
	push sanima
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push sanima
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
l2499:
l2490:
	push rdy
	push 0
	cmpjl
	cmp0
	je l2501
	push sanima
	spushs
	spop $a
	call [$a],getey
	push 0
	cmpjl
	jmp l2503
l2501:
	push 0
	jmp l2503
l2502:
	push 1
l2503:
	cmp0
	je l2504
	push sanima
	spushs
	push sanima
	spushs
	spop $a
	call [$a],getpx
	push igmapph
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	jmp l2500
l2504:
	push rdy
	push 0
	cmpja
	cmp0
	je l2506
	push sanima
	spushs
	spop $a
	call [$a],getpy
	push igmapph
	cmpjae
	jmp l2508
l2506:
	push 0
	jmp l2508
l2507:
	push 1
l2508:
	cmp0
	je l2509
	push sanima
	spushs
	push sanima
	spushs
	spop $a
	call [$a],getpx
	push $2
	push sanima
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
l2509:
l2500:
	end method
	end class

	method SetAnMover_tmov_onfinish
	cthis getbuildername
	spushs
	spop $a
	call [$a],sam_move
	cthis play
	end method
	class SetAnMover
	method init
	end method
	method setas
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setanmover"
	push "setanmover"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setanmover
	push $1
	spushs
	push "sam_move"
	push "sam_move"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "sam_copy"
	push "sam_copy"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "sam_addtimer"
	push "SetAnMover0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "sam_playtimer"
	push "SetAnMover1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "sam_stoptimer"
	push "SetAnMover2"
	spop $a
	call [$a],addmethod
	end method
	method SetAnMover0
	new timer,tmov
	push 1
	call tmov,settick
	push 1
	call tmov,setcycle
	push "onfinish"
	push "SetAnMover_tmov_onfinish"
	call tmov,addmethod
	end method
	method SetAnMover1
	call tmov,play
	end method
	method SetAnMover2
	push 0
	call tmov,stop
	end method
	method setanmover
	localreal $1
	localreal $2
	pop $2
	pop $1
	new real,rdx
	push $1
	pop rdx
	new real,rdy
	push $2
	pop rdy
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	push "sam_speed"
	push 1.0
	cthis var2
	end method
	method sam_move
	push rdx
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsx,$a
	pop rsx
	push rdy
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l2512
	push $2
	jmp l2513
l2511:
	push 0
	jmp l2513
l2512:
	push 1
l2513:
	cmp0
	je l2514
	push $1
	push $2
	cthis move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
	push "ansamcopy"
	cthis hasvar
	cmp0
	je l2516
	push $1
	push $2
	call ansamcopy,move
	push rdx
	push 0
	cmpja
	cmp0
	je l2518
	call ansamcopy,getpx
	push rollerx
	cmpja
	cmp0
	je l2520
	localdef $3
	call ansamcopy,getpx
	cthis getw
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	call ansamcopy,move
	push $3
	push 0
	cthis move
l2520:
l2518:
l2516:
l2514:
	end method
	method sam_copy
	push A
	push "rollerx"
	push 0
	push "rollerex"
	push igmappw
	cthis vars2
	cthis getname
	push "ansamcopy"
	cthis copyanima
	call ansamcopy,show
	push rdx
	push 0
	cmpja
	cmp0
	je l2522
	cthis getpx
	cthis getw
	pop $b
	popax
	sub $a,$b
	cthis getpy
	call ansamcopy,ansetbpos
l2522:
	end method
	end class

	class classlives
	method init
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	localint $14
	localstring $15
	pop $15
	pop $14
	pop $13
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iside
	push $15
	push "left"
	cmpje
	cmp0
	je l2524
	push 1
	popax
	sub 0,$a
	pop iside
	jmp l2523
l2524:
	push 1
	pop iside
l2523:
	new int,iilezyc
	push $1
	pop iilezyc
	new int,ibum
	push $2
	pop ibum
	localint $16
	push iilezyc
	push ibum
	pop $b
	popax
	mul $a,$b
	pop $16
	new int,iposxsila
	push $3
	pop iposxsila
	new int,iendxsila
	push $3
	push $16
	pop $b
	popax
	add $a,$b
	pop iendxsila
	new int,iposysila
	push $4
	pop iposysila
	push "imgsilapodkladka"
	push $16
	push $5
	push $6
	push $7
	push $8
	push $9
	push $14
	push 1
	pop $b
	popax
	sub $a,$b
	clparent newvars,newcanvas
	push "imgsila"
	push $16
	push $5
	push $10
	push $11
	push $12
	push $13
	push $14
	clparent newvars,newcanvas
	push iposxsila
	push iposysila
	call imgsila,setpos
	push iposxsila
	push 0
	call imgsila,getex
	push 600
	call imgsila,clip
	push iposxsila
	push iposysila
	call imgsilapodkladka,setpos
	end method
	method reset
	push iposxsila
	push iposysila
	call imgsila,setpos
	end method
	method damage
	localint $1
	pop $1
	push iside
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	end method
	method destroyed
	push iside
	push 0
	cmpjl
	cmp0
	je l2526
	call imgsila,getex
	push iposxsila
	cmpjl
	ret
l2526:
	call imgsila,getpx
	push iendxsila
	cmpja
	ret
	end method
	method heal
	localint $1
	pop $1
	push iside
	popax
	sub 0,$a
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	push iside
	push 0
	cmpja
	cmp0
	je l2528
	call imgsila,getpx
	push iposxsila
	cmpjl
	cmp0
	je l2530
	push iposxsila
	push iposysila
	call imgsila,setpos
l2530:
	jmp l2527
l2528:
	call imgsila,getpx
	push iposxsila
	cmpja
	cmp0
	je l2532
	push iposxsila
	push iposysila
	call imgsila,setpos
l2532:
l2527:
	end method
	end class

	class imganima
	parent gmimgvec
	method init
	clparent gmimgvec,init
	new int,idgran
	push 0
	pop idgran
	new timer,timan
	push 1
	call timan,settick
	push "onfinish"
	push "imganima0"
	call timan,addmethod
	end method
	method imganima0
	add idgran,1
	pop idgran
	localdef $1
	cthis getbuildername
	pop $1
	push idgran
	push $1
	spushs
	spop $a
	call [$a],size
	cmpje
	cmp0
	je l2534
	push $1
	spushs
	push $1
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2533
l2534:
	push idgran
	cthis setframe
	push $1
	spushs
	push $1
	push "_endframe"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l2533:
	end method
	method load
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	call timan,setcycle
	localint $6
	push $3
	pop $6
l2535:
	push $6
	push $4
	cmpjl
	cmp0
	je l2536
	jmp l2538
l2537:
	add $6,1
	pop $6
	jmp l2535
l2538:
	localdef $7
	push $1
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	push $7
	push "."
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	cthis newimg
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	cthis add
	jmp l2537
l2536:
	push 0
	cthis setframe
	end method
	method play
	push 0
	cthis setframe
	call timan,play
	end method
	method setframe
	localint $1
	pop $1
	cthis hide
	push $1
	pop idgran
	push $1
	cthis get
	spushs
	spop $a
	call [$a],show
	end method
	end class

	class GuiItem
	method init
	end method
	method setasrototaker
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "_setasrototaker"
	push "GuiItem0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],_setasrototaker
	push $1
	spushs
	push "rototaker_start"
	push "rototaker_start"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rototaker_startwh"
	push "rototaker_startwh"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rototaker_startact"
	push "rototaker_startact"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rototaker_setroto"
	push "rototaker_setroto"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rototaker_endroto"
	push "GuiItem2"
	spop $a
	call [$a],addmethod
	end method
	method GuiItem0
	localdef $1
	localdef $2
	pop $2
	pop $1
	push A
	push "ilerotos"
	push $1
	push "idrotos"
	push 0.0
	push "ikatos"
	push $2
	push 360.0
	pop $b
	popax
	mul $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	psax
	push "rzoomx"
	push 0.0
	push "rzoomy"
	push 0.0
	push "rzoomstepx"
	push 0.0
	push "rzoomstepy"
	push 0.0
	push "rmovx"
	push 0.0
	push "rmovy"
	push 0.0
	push "istartalfa"
	push 128
	push "iendx"
	push 0.0
	push "iendy"
	push 0.0
	push "irotodir"
	push 1
	push "izoomdir"
	push 0
	cthis vars2
	new filter,ftroto
	push 2
	call ftroto,setpivottype
	new timer,timrotocenter
	push 1
	call timrotocenter,setcycle
	push "onfinish"
	push "GuiItem1"
	call timrotocenter,addmethod
	end method
	method GuiItem1
	cthis getbuildername
	spushs
	spop $a
	call [$a],rototaker_setroto
	cmp0
	je l2540
	cthis play
l2540:
	end method
	method GuiItem2
	push "rototaker_"
	cthis getname
	pop $b
	popax
	add $a,$b
	push "_endroto"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method rototaker_setroto
	push izoomdir
	cmp0
	je l2542
	localdef $1
	push idrotos
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localdef $2
	push rzoomx
	push rzoomstepx
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	push rzoomy
	push rzoomstepy
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $3
	push irotodir
	push ikatos
	pop $b
	popax
	mul $a,$b
	push $2
	push $3
	call ftroto,rotatezoomxy
	jmp l2541
l2542:
	localdef $1
	push ilerotos
	push idrotos
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	push rzoomx
	push rzoomstepx
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	localdef $3
	push rzoomy
	push rzoomstepy
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $3
	push irotodir
	push ikatos
	pop $b
	popax
	mul $a,$b
	push $2
	push $3
	call ftroto,rotatezoomxy
	push idrotos
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop $1
l2541:
	push istartalfa
	push 255
	cmpjl
	cmp0
	je l2544
	localreal $4
	push istartalfa
	pop $4
	push $4
	push 255.0
	push $4
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call ftroto,setopacity
l2544:
	localreal $5
	push iendx
	cthis getposx
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	pop $5
	localreal $6
	push iendy
	cthis getposy
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	mul $a,$b
	pop $6
	push $5
	push $6
	cthis move
	add idrotos,1
	pop idrotos
	push idrotos
	push ilerotos
	cmpjl
	cmp0
	je l2546
	push 1
	jmp l2545
l2546:
	call ftroto,unlink
	cthis rototaker_endroto
	push 0
l2545:
	end method
	method rototaker_startact
	localint $1
	localint $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call $3,gettype
	push "string"
	cmpjne
	cmp0
	je l2548
	push $3
	cthis nameofaction
	pop $4
	jmp l2547
l2548:
	push $3
	pop $4
l2547:
	cthis getpx
	cthis getpy
	push $1
	push $2
	cthis getw
	cthis geth
	push $4
	cthis rototaker_start
	end method
	method rototaker_start
	localint $1
	localint $2
	localint $3
	localint $4
	localreal $5
	localreal $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	push 0
	cthis setframe
	push $1
	push $2
	cthis setpos
	push $3
	push $4
	push $5
	push $6
	cthis getw
	cthis geth
	cthis rototaker_startwh
	end method
	method rototaker_startwh
	localint $1
	localint $2
	localreal $3
	localreal $4
	localreal $5
	localreal $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop iendx
	push $2
	pop iendy
	push $1
	cthis getcx
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop rmovx
	push $2
	cthis getcy
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop rmovy
	push $5
	push $3
	cmpja
	cmp0
	je l2550
	push $3
	push $5
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomx
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	push $5
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomstepx
	push 1
	pop izoomdir
	jmp l2549
l2550:
	push 0
	pop izoomdir
	push $5
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomx
	push 1.0
	push rzoomx
	pop $b
	popax
	sub $a,$b
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomstepx
l2549:
	push $6
	push $4
	cmpja
	cmp0
	je l2552
	push $4
	push $6
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomy
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	push $6
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomstepy
	jmp l2551
l2552:
	push $6
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomy
	push 1.0
	push rzoomy
	pop $b
	popax
	sub $a,$b
	push ilerotos
	pop $b
	popax
	div $a,$b
	psax
	pop rzoomstepy
l2551:
	cthis getname
	call ftroto,link
	push 0
	pop idrotos
	cthis rototaker_setroto
	cmp0
	je l2554
	call timrotocenter,play
l2554:
	end method
	end class

	class CalcFPS
	method init
	new real,rfps1
	new real,rfps2
	new real,rfps3
	new real,rsec
	push 1000.0
	pop rsec
	new real,rstart
	push 1.0
	pop rstart
	push "tickfps"
	push "CalcFPS0"
	cthis cycle=
	end method
	method CalcFPS0
	cthis getbuildername
	spushs
	spop $a
	call [$a],tick
	cthis play
	end method
	method stdset
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis stdfont
	cthis white
	push $2
	push $3
	push 1000
	cthis set
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "txtfps"
	push 0
	push $1
	push $2
	push $3
	push $4
	cthis newtext
	push $7
	call txtfps,setz
	push $5
	push $6
	cthis setpos
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txtfps,setpos
	end method
	method tick
	localreal $1
	call engine,getticks
	pop $1
	push $1
	push rstart
	cmpja
	cmp0
	je l2556
	push rfps2
	pop rfps1
	push rfps3
	pop rfps2
	push rsec
	push $1
	push rstart
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop rfps3
	push "delay: "
	push $1
	push rstart
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push " fps: "
	pop $b
	popax
	add $a,$b
	push rfps1
	push rfps2
	pop $b
	popax
	add $a,$b
	push rfps3
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call txtfps,txtset
	jmp l2555
l2556:
	push "inf"
	call txtfps,txtset
l2555:
	push $1
	pop rstart
	end method
	method play
	call tickfps,play
	end method
	method stop
	push 0
	call tickfps,stop
	end method
	end class

	class Film
	parent gfxObject
	method init
	new img,imfilm
	call imfilm,buildfullname
	push "imfilm"
	clparent gfxObject,init
	new string,sfilmpath
	new db,dbfilm
	new db,dbfilm2
	new int,istartklatka
	new int,iklatka
	new int,iendklatka
	new string,sprefilm
	new int,ifilmcycle
	new string,smusic
	new int,igameloopdelay
	push igmdelay
	pop igameloopdelay
	new gmobjvec,grsfx
	new gmimgvec,grbuf
	push A
	push "bcenter"
	push 0
	push "bborders"
	push 0
	push "musicclass"
	push "null"
	push "bbuffer"
	push 0
	push "sfileformat"
	push "jpg"
	cthis vars2
	push "timfilm"
	push "Film0"
	cthis cycle=
	end method
	method Film0
	cthis nextframe
	push iklatka
	push iendklatka
	cmpjle
	cmp0
	je l2558
	call timfilm,play
	jmp l2557
l2558:
	cthis retfps
	localdef $1
	cthis getbuildername
	pop $1
	push $1
	spushs
	push "onfinish"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l2560
	push $1
	spushs
	spop $a
	call [$a],onfinish
l2560:
l2557:
	end method
	method bufferfilm
	end method
	method retfps
	push igameloopdelay
	call engine,setloopdelay
	end method
	method setfilmfps
	call engine,getloopdelay
	pop igameloopdelay
	localint $1
	push "fps:"
	call dbfilm,dbgetint
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2562
	push $1
	call engine,setfps
l2562:
	end method
	method setcycle
	localint $1
	pop $1
	push $1
	call timfilm,setcycle
	push $1
	pop ifilmcycle
	end method
	method nextframe
	push "film_onsetframe_"
	push iklatka
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis loadframe
	add iklatka,1
	pop iklatka
	end method
	method loadframe
	localdef $1
	push iklatka
	call dbfilm,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l2564
	localint $2
	push 1
	pop $2
l2565:
	push $2
	push $1
	call dbfilm,getcolsno
	cmpjl
	cmp0
	je l2566
	jmp l2568
l2567:
	add $2,1
	pop $2
	jmp l2565
l2568:
	push $1
	push $2
	call dbfilm,get
	spushs
	push "fadeout:"
	cmpst
	jne l2570
	spop $a
	add $2,1
	pop $2
	push musicclass
	push "null"
	cmpjne
	cmp0
	je l2572
	push musicclass
	spushs
	push $1
	push $2
	call dbfilm,get
	spop $a
	call [$a],fadeout
l2572:
	jmp l2569
l2570:
	spop $a
	localdef $3
	push $1
	push $2
	call dbfilm,get
	pop $3
	push $3
	spushs
	push "volume_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	call dbfilm,[$d]
	spop $a
	call [$a],setvol
	push $3
	spushs
	spop $a
	call [$a],play
l2569:
	jmp l2567
l2566:
l2564:
	localdef $4
	call imfilm,getz
	pop $4
	localdef $5
	call imfilm,getpx
	pop $5
	localdef $6
	call imfilm,getpy
	pop $6
	push bbuffer
	cmp0
	je l2574
	localdef $3
	push iklatka
	push istartklatka
	pop $b
	popax
	sub $a,$b
	call grbuf,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],createfrombuffer
	push $3
	call imfilm,copy
	push $3
	spushs
	spop $a
	call [$a],hide
	call imfilm,show
	push iklatka
	push istartklatka
	cmpja
	cmp0
	je l2576
	push iklatka
	push istartklatka
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuf,get
	spushs
	spop $a
	call [$a],free
l2576:
	jmp l2573
l2574:
	push sfilmpath
	push sprefilm
	pop $b
	popax
	add $a,$b
	push iklatka
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	push sfileformat
	pop $b
	popax
	add $a,$b
	call imfilm,load
	call imfilm,show
l2573:
	push $4
	call imfilm,setz
	push bcenter
	cmp0
	je l2578
	push igmappw
	call imfilm,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push igmapph
	call imfilm,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call imfilm,setpos
	jmp l2577
l2578:
	push $5
	push $6
	call imfilm,setpos
l2577:
	end method
	method playfilm
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis load
	cthis play
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis isplaying
	cmp0
	je l2580
	cthis free
l2580:
	push $1
	pop sfilmpath
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbfilm,load
	push "start:"
	call dbfilm,dbgetint
	pop istartklatka
	push istartklatka
	pop iklatka
	push "end:"
	call dbfilm,dbgetint
	pop iendklatka
	push "prefix:"
	call dbfilm,dbget
	pop sprefilm
	push "music:"
	call dbfilm,dbget
	pop smusic
	localdef $3
	push "format:"
	call dbfilm,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l2582
	push $3
	push 1
	call dbfilm,get
	pop sfileformat
l2582:
	push "buffer:"
	call dbfilm,dbgetint
	pop bbuffer
	push bbuffer
	cmp0
	je l2584
	localint $4
	push istartklatka
	pop $4
l2585:
	push $4
	push iendklatka
	cmpjle
	cmp0
	je l2586
	jmp l2588
l2587:
	add $4,1
	pop $4
	jmp l2585
l2588:
	localdef $5
	push "imbuf"
	push $4
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new img,[$e]
	push $5
	spushs
	push sfilmpath
	push sprefilm
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	push sfileformat
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],loadbuffer
	push $5
	call grbuf,add
	jmp l2587
l2586:
l2584:
	localint $4
	push 0
	pop $4
l2589:
	push $4
	call dbfilm,getrowsno
	cmpjl
	cmp0
	je l2590
	jmp l2592
l2591:
	add $4,1
	pop $4
	jmp l2589
l2592:
	localdef $5
	push $4
	push 0
	call dbfilm,get
	pop $5
	push $5
	clparent StringChecker,isdigit
	cmp0
	je l2594
	localint $6
	push 1
	pop $6
l2595:
	push $6
	push $4
	call dbfilm,getcolsno
	cmpjl
	cmp0
	je l2596
	jmp l2598
l2597:
	add $6,1
	pop $6
	jmp l2595
l2598:
	localdef $7
	push $4
	push $6
	call dbfilm,get
	pop $7
	push $7
	spushs
	push "fadeout:"
	cmpst
	jne l2600
	spop $a
	add $6,1
	pop $6
	jmp l2599
l2600:
	spop $a
	push "fx"
	push " "
	call $7,strgetto
	pop $b
	popax
	add $a,$b
	pop $5
	localint $8
	push 100
	pop $8
	push $5
	cthis hasvar
	neg
	cmp0
	je l2602
	push $7
	cthis sfx=
	push $5
	spushs
	spop $a
	call [$a],getvol
	pop $8
	jmp l2601
l2602:
	push " "
	call $7,contains
	cmp0
	je l2604
	push " "
	call $7,strgetfrom
	pop $8
l2604:
l2601:
	push "volume_"
	push $4
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $6
	pop $b
	popax
	add $a,$b
	push $8
	call dbfilm,var2
	push $4
	push $6
	push $5
	call dbfilm,set
	push $5
	call grsfx,addonce
l2599:
	jmp l2597
l2596:
l2594:
	jmp l2591
l2590:
	end method
	method loadborders
	push bborders
	cmp0
	je l2606
	push "imramkaup"
	cthis hasvar
	neg
	jmp l2608
l2606:
	push 0
	jmp l2608
l2607:
	push 1
l2608:
	cmp0
	je l2609
	new img,imramkaup
	new img,imramkadown
	new img,imramkaleft
	new img,imramkaright
	localint $1
	push 0.5
	push igmapph
	call imfilm,geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $1
	localdef $2
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $1
	push 0
	cmpja
	cmp0
	je l2611
	push igmappw
	push $1
	cthis black
	push 255
	call imramkaup,create
	push $2
	call imramkaup,setz
	push "imramkaup"
	call imramkadown,copy
	push 0
	push igmapph
	push $1
	pop $b
	popax
	sub $a,$b
	call imramkadown,setpos
l2611:
	localint $3
	push 0.5
	push igmappw
	call imfilm,getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l2613
	push $3
	push igmapph
	cthis black
	push 255
	call imramkaleft,create
	push $2
	call imramkaleft,setz
	push "imramkaleft"
	call imramkaright,copy
	push igmappw
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	call imramkaright,setpos
l2613:
l2609:
	end method
	method play
	push istartklatka
	pop iklatka
	cthis nextframe
	cthis loadborders
	push smusic
	push "null"
	cmpjne
	cmp0
	je l2615
	push musicclass
	push "null"
	cmpjne
	jmp l2617
l2615:
	push 0
	jmp l2617
l2616:
	push 1
l2617:
	cmp0
	je l2618
	push musicclass
	spushs
	push smusic
	spop $a
	call [$a],playstr
l2618:
	cthis setfilmfps
	call timfilm,play
	end method
	method free
	call imfilm,free
	localint $1
	push 0
	pop $1
l2619:
	push $1
	call grsfx,size
	cmpjl
	cmp0
	je l2620
	jmp l2622
l2621:
	add $1,1
	pop $1
	jmp l2619
l2622:
	push $1
	call grsfx,get
	spushs
	spop $d
	delete [$d]
	jmp l2621
l2620:
	push 0
	pop $1
l2623:
	push $1
	call grbuf,size
	cmpjl
	cmp0
	je l2624
	jmp l2626
l2625:
	add $1,1
	pop $1
	jmp l2623
l2626:
	push $1
	call grbuf,get
	spushs
	spop $d
	delete [$d]
	jmp l2625
l2624:
	call grbuf,free
	call grsfx,free
	cthis retfps
	end method
	method showframe
	localint $1
	pop $1
	push $1
	push istartklatka
	cmpjl
	cmp0
	je l2628
	push istartklatka
	pop $1
	jmp l2627
l2628:
	push $1
	push iendklatka
	cmpja
	cmp0
	je l2630
	push iendklatka
	pop $1
l2630:
l2627:
	push $1
	pop iklatka
	cthis loadframe
	end method
	method showfirstframe
	push istartklatka
	cthis showframe
	end method
	method showlastframe
	push iendklatka
	cthis showframe
	end method
	method isplaying
	call timfilm,isplaying
	end method
	method stop
	localint $1
	pop $1
	cthis retfps
	push $1
	cmp0
	je l2632
	push iendklatka
	pop iklatka
l2632:
	push $1
	call timfilm,stop
	end method
	method getimg
	call imfilm,getfullname
	end method
	end class

	new snd,_fx_pocket
	push "sounds/sfx/harfa.wav"
	call _fx_pocket,load
	new snd,sndfxmoveonms
	push "sounds/sfx/butmoveon.ogg"
	call sndfxmoveonms,load
	push 30
	call sndfxmoveonms,setvol
	new snd,sndfxmoveon2
	push "sounds/sfx/butmoveon2.ogg"
	call sndfxmoveon2,load
	push 50
	call sndfxmoveon2,setvol
	new snd,sndfxbutclick1
	push "sounds/sfx/butclick1.ogg"
	call sndfxbutclick1,load
	push 50
	call sndfxbutclick1,setvol
	class classmoddbg
	parent classlocker
	method init
	clparent classlocker,init
	new string,sstate
	push "init"
	pop sstate
	new int,ilastx
	new int,ilasty
	new text,txtpos
	push 5000
	call txtpos,setz
	push 0
	push 0
	call txtpos,setpos
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpos,setbkg
	new text,txtmsg
	push 5000
	call txtmsg,setz
	push 220
	push igmoffsetx
	pop $b
	popax
	add $a,$b
	push 10
	call txtmsg,setpos
	push 0
	push 0
	push 500
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtmsg,setbkg
	call txtmsg,hide
	new timer,timmsg
	push 4000
	call timmsg,setdelay
	push "onfinish"
	push "classmoddbg0"
	call timmsg,addmethod
	new text,txtpod
	push 5000
	call txtpod,setz
	push 0
	push 0
	push 128
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpod,setbkg
	new img,impod
	new string,slastimpod
	push "null"
	pop slastimpod
	cthis disable
	end method
	method classmoddbg0
	call txtmsg,hide
	end method
	method enable
	cthis unlock
	call txtpos,show
	call txtpod,show
	end method
	method disable
	cthis lock
	call txtpos,hide
	call txtpod,hide
	call impod,hide
	end method
	method updatetxtpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "clcamera"
	call engine,varexist
	cmp0
	je l2634
	push ""
	push $1
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtpos,set
	jmp l2633
l2634:
	push ""
	push $1
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	call txtpos,set
l2633:
	push $1
	call txtpos,getw
	pop $b
	popax
	sub $a,$b
	call advmouse,lodx
	pop $b
	popax
	sub $a,$b
	push $2
	call txtpos,geth
	pop $b
	popax
	sub $a,$b
	call advmouse,lody
	pop $b
	popax
	sub $a,$b
	call txtpos,setpos
	push $1
	call txtpod,getw
	pop $b
	popax
	sub $a,$b
	call advmouse,lodx
	pop $b
	popax
	sub $a,$b
	push $2
	push 2
	call txtpod,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call advmouse,lody
	pop $b
	popax
	sub $a,$b
	call txtpod,setpos
	localstring $3
	push $1
	push $2
	push 1
	push 1
	push 2000
	popax
	sub 0,$a
	push 2000
	call engine,getimg
	pop $3
	push $3
	call txtpod,set
	push $3
	push "null"
	cmpje
	cmp0
	jne l2637
	push $3
	push "imgbkg"
	cmpje
	jmp l2638
l2636:
	push 0
	jmp l2638
l2637:
	push 1
l2638:
	cmp0
	je l2639
	call impod,hide
	jmp l2635
l2639:
	push $3
	call engine,varexist
	cmp0
	je l2641
	push $3
	push slastimpod
	cmpjne
	cmp0
	jne l2644
	push $3
	push slastimpod
	cmpje
	cmp0
	je l2645
	call impod,isvisible
	neg
	jmp l2647
l2645:
	push 0
	jmp l2647
l2646:
	push 1
l2647:
	cmp0
	jne l2644
	push $3
	spushs
	spop $a
	call [$a],getw
	call impod,getw
	cmpjne
	cmp0
	jne l2644
	push $3
	spushs
	spop $a
	call [$a],geth
	call impod,geth
	cmpjne
	jmp l2648
l2643:
	push 0
	jmp l2648
l2644:
	push 1
l2648:
	cmp0
	je l2649
	push $3
	spushs
	spop $a
	call [$a],getw
	push $3
	spushs
	spop $a
	call [$a],geth
	push 255
	push 255
	push 0
	push 64
	call impod,create
	call impod,show
	push 2010
	call impod,setz
	push $3
	pop slastimpod
l2649:
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	call impod,setpos
l2641:
l2635:
	call txtpos,getey
	push iResY
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l2651
	push 0
	push $2
	popax
	sub 0,$a
	call txtpos,move
	push 0
	push $2
	popax
	sub 0,$a
	call txtpod,move
l2651:
	call txtpod,getex
	push iResX
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2653
	push $1
	popax
	sub 0,$a
	push 0
	call txtpos,move
	push $1
	popax
	sub 0,$a
	push 0
	call txtpod,move
l2653:
	call txtpod,getpx
	popax
	sub 0,$a
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2655
	push $1
	push 0
	call txtpos,move
	push $1
	push 0
	call txtpod,move
l2655:
	end method
	method msminit
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmmove
	localint $1
	localint $2
	pop $2
	pop $1
	push "clcamera"
	call engine,varexist
	cmp0
	je l2657
	push $1
	push ilastx
	pop $b
	popax
	sub $a,$b
	push $2
	push ilasty
	pop $b
	popax
	sub $a,$b
	call clcamera,moveplans
l2657:
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmove
	cthis getlock
	cmp0
	je l2659
	ret
l2659:
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	push "msm"
	push sstate
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $d
	cthis [$d]
	push $1
	pop ilastx
	push $2
	pop ilasty
	end method
	method mslclick
	cthis getlock
	cmp0
	je l2661
	ret
l2661:
	push "space"
	call keyboard,iskeydown
	cmp0
	je l2663
	push "move"
	pop sstate
l2663:
	end method
	method mslrel
	cthis getlock
	cmp0
	je l2665
	ret
l2665:
	push "init"
	pop sstate
	end method
	method msrclick
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,isin
	pop $3
	push $3
	push 0
	cmpjne
	cmp0
	je l2667
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	call $4,print
l2667:
	end method
	method msg
	localstring $1
	pop $1
	call txtmsg,show
	push $1
	call txtmsg,set
	push igmoffsetx
	push 100
	pop $b
	popax
	add $a,$b
	push 10
	call txtmsg,setpos
	call timmsg,play
	end method
	method dbkeydown
	push igmdebug
	neg
	cmp0
	je l2669
	ret
l2669:
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l2671
	push "l"
	call keyboard,iskey
	cmp0
	je l2673
	localdef $1
	push "cache"
	pop $1
	push "1"
	call keyboard,iskeydown
	cmp0
	je l2675
	push "1"
	popax
	add $1,$a
	pop $1
	jmp l2674
l2675:
	push "2"
	call keyboard,iskeydown
	cmp0
	je l2677
	push "2"
	popax
	add $1,$a
	pop $1
	jmp l2676
l2677:
	push "3"
	call keyboard,iskeydown
	cmp0
	je l2679
	push "3"
	popax
	add $1,$a
	pop $1
	jmp l2678
l2679:
	push "4"
	call keyboard,iskeydown
	cmp0
	je l2681
	push "4"
	popax
	add $1,$a
	pop $1
	jmp l2680
l2681:
	push "5"
	call keyboard,iskeydown
	cmp0
	je l2683
	push "5"
	popax
	add $1,$a
	pop $1
	jmp l2682
l2683:
	push "6"
	call keyboard,iskeydown
	cmp0
	je l2685
	push "6"
	popax
	add $1,$a
	pop $1
	jmp l2684
l2685:
	push "7"
	call keyboard,iskeydown
	cmp0
	je l2687
	push "7"
	popax
	add $1,$a
	pop $1
	jmp l2686
l2687:
	push "8"
	call keyboard,iskeydown
	cmp0
	je l2689
	push "8"
	popax
	add $1,$a
	pop $1
	jmp l2688
l2689:
	push "9"
	call keyboard,iskeydown
	cmp0
	je l2691
	push "9"
	popax
	add $1,$a
	pop $1
l2691:
l2688:
l2686:
l2684:
l2682:
l2680:
l2678:
l2676:
l2674:
	push $1
	cthis _load_game
	push "game loaded from "
	push $1
	pop $b
	popax
	add $a,$b
	cthis msg
	jmp l2672
l2673:
	push "s"
	call keyboard,iskey
	cmp0
	je l2693
	localdef $1
	push "cache"
	pop $1
	cthis can_save
	cmp0
	je l2695
	push "1"
	call keyboard,iskeydown
	cmp0
	je l2697
	push "1"
	popax
	add $1,$a
	pop $1
	jmp l2696
l2697:
	push "2"
	call keyboard,iskeydown
	cmp0
	je l2699
	push "2"
	popax
	add $1,$a
	pop $1
	jmp l2698
l2699:
	push "3"
	call keyboard,iskeydown
	cmp0
	je l2701
	push "3"
	popax
	add $1,$a
	pop $1
	jmp l2700
l2701:
	push "4"
	call keyboard,iskeydown
	cmp0
	je l2703
	push "4"
	popax
	add $1,$a
	pop $1
	jmp l2702
l2703:
	push "5"
	call keyboard,iskeydown
	cmp0
	je l2705
	push "5"
	popax
	add $1,$a
	pop $1
	jmp l2704
l2705:
	push "6"
	call keyboard,iskeydown
	cmp0
	je l2707
	push "6"
	popax
	add $1,$a
	pop $1
	jmp l2706
l2707:
	push "7"
	call keyboard,iskeydown
	cmp0
	je l2709
	push "7"
	popax
	add $1,$a
	pop $1
	jmp l2708
l2709:
	push "8"
	call keyboard,iskeydown
	cmp0
	je l2711
	push "8"
	popax
	add $1,$a
	pop $1
	jmp l2710
l2711:
	push "9"
	call keyboard,iskeydown
	cmp0
	je l2713
	push "9"
	popax
	add $1,$a
	pop $1
l2713:
l2710:
l2708:
l2706:
l2704:
l2702:
l2700:
l2698:
l2696:
	push $1
	cthis _save_game
	push "game saved to "
	push $1
	pop $b
	popax
	add $a,$b
	cthis msg
	jmp l2694
l2695:
	push "could not save game to "
	push $1
	pop $b
	popax
	add $a,$b
	push " , sgmstate="
	pop $b
	popax
	add $a,$b
	push sgmstate
	pop $b
	popax
	add $a,$b
	cthis msg
l2694:
	jmp l2692
l2693:
	push "b"
	call keyboard,iskey
	cmp0
	je l2715
	call gameapi,getgamename
	spushs
	push "saves/cache.bmp"
	push 1
	spop $a
	call [$a],cgetscreenshoot
	push "screenshoot in saves/cache.bmp"
	cthis msg
	jmp l2714
l2715:
	push "p"
	call keyboard,iskey
	cmp0
	je l2717
	push "debugger: "
	cthis dprint
l2717:
l2714:
l2692:
l2672:
l2671:
	push "d"
	call keyboard,iskey
	cmp0
	je l2719
	cthis getlock
	cmp0
	je l2721
	cthis enable
	push "debug mode on: ^c-b: screenshoot, ^c-s: save, ^c-l: load, d: debug on/off"
	cthis msg
	jmp l2720
l2721:
	cthis disable
	push "debug mode off"
	cthis msg
l2720:
l2719:
	end method
	end class

	new classmoddbg,moddbg
	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2723
	push $1
	clparent GameController,init
l2723:
	cthis unlock
	push $2
	push "null"
	cmpjne
	cmp0
	je l2725
	push $2
	cthis setgraphpath
l2725:
	push $3
	push "null"
	cmpjne
	cmp0
	je l2727
	push "anbkg"
	push $3
	push 0
	cthis newanima
l2727:
	new int,paintmode
	push 0
	pop paintmode
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $9
	localint $10
	push $7
	spushs
	push "ru"
	cmpst
	jne l2729
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getpy
	pop $10
	jmp l2728
l2729:
	push "rd"
	cmpst
	jne l2730
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getey
	pop $10
	jmp l2728
l2730:
	push "ld"
	cmpst
	jne l2731
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getey
	pop $10
	jmp l2728
l2731:
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getpy
	pop $10
l2728:
	push $9
	push $10
	call anbrush1,saverelpos
	push $9
	push $10
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	push ".pyz"
	call $6,contains
	cmp0
	je l2733
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	jmp l2732
l2733:
	push $6
	push "grpaleta"
	cmpjne
	cmp0
	je l2735
	push $6
	spushs
	push "grpaleta"
	spop $a
	call [$a],addtogamevars
l2735:
l2732:
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l2736:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l2737
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l2739
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l2739:
	jmp l2736
l2737:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,tp_mouse_move
	push $8
	push "null"
	cmpjne
	cmp0
	je l2741
	new string,savefile
	push $8
	pop savefile
	new db,dbkolory
	localdef $11
	push $8
	pop $11
	push $11
	cthis saveexist
	cmp0
	je l2743
	push $11
	call dbkolory,vecload
	push "TPainter0"
	call grdraw,each
	jmp l2742
l2743:
	push "TPainter1"
	call grdraw,each
	cthis tp_savekols
l2742:
l2741:
	end method
	method TPainter0
	localdef $1
	pop $1
	push $1
	push 0
	call dbkolory,get
	push $1
	push 1
	call dbkolory,get
	push $1
	push 2
	call dbkolory,get
	push 255
	push 0
	cthis paint
	end method
	method TPainter1
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	push "255 255 255"
	push " "
	call dbkolory,dbaddstringrow
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method tp_exit
	call mouse,show
	end method
	method tp_mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method tp_mouse_lclick
	cthis getlock
	neg
	cmp0
	je l2745
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l2747
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push paintmode
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l2746
l2747:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l2749
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push paintmode
	call anbrush2,paint
	cthis onsetbrush
l2749:
l2746:
l2745:
	end method
	method tp_savekols
	push GAME
	spushs
	push "dbkolory"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2751
	ret
l2751:
	push "TPainter2"
	call grdraw,each
	push savefile
	call dbkolory,vecsave
	end method
	method TPainter2
	localdef $1
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	cthis getex
	pop $6
	localint $7
	cthis getey
	pop $7
	localint $8
	cthis getpx
	pop $8
	localint $9
	cthis getpy
	pop $9
l2752:
	push $8
	push $6
	cmpjne
	cmp0
	je l2753
	push $9
	push $7
	cmpjne
	jmp l2755
l2753:
	push 0
	jmp l2755
l2754:
	push 1
l2755:
	cmp0
	je l2756
	push $8
	push $9
	push 0
	push 1
	cthis isin
	cmp0
	je l2758
	push $8
	pop $2
	push $9
	pop $3
	push $6
	pop $8
	jmp l2757
l2758:
	add $8,1
	pop $8
l2757:
	jmp l2752
l2756:
	push $2
	push $3
	cthis getrgba
	popax
	pop $4
	pop $3
	pop $2
	push $1
	push 0
	push $2
	call dbkolory,set
	push $1
	push 1
	push $3
	call dbkolory,set
	push $1
	push 2
	push $4
	call dbkolory,set
	end method
	method tp_default_erase
	cthis white
	push 255
	cthis tp_erase
	end method
	method tp_erase
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l2759:
	push $5
	call grdraw,size
	cmpjl
	cmp0
	je l2760
	jmp l2762
l2761:
	add $5,1
	pop $5
	jmp l2759
l2762:
	push $5
	call grdraw,get
	spushs
	push $1
	push $2
	push $3
	push $4
	push paintmode
	spop $a
	call [$a],paint
	push $5
	push 0
	push 255
	call dbkolory,set
	push $5
	push 1
	push 255
	call dbkolory,set
	push $5
	push 2
	push 255
	call dbkolory,set
	jmp l2761
l2760:
	cthis tp_savekols
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	new string,sAskerGame
	new int,idymekdelay
	push 300
	pop idymekdelay
	class StdGame
	parent classadv
	parent Localize
	method init
	localstring $1
	pop $1
	push 0
	pop AdventureGame
	push $1
	clparent classadv,init
	clparent Localize,init
	push $1
	cthis path=
	call advmouse,setstd
	push PrzygodaMode
	cmp0
	je l2764
	cthis advsaveonstart
	cthis advsave_game
l2764:
	end method
	method loadasker
	push "anaskerbg"
	push "$scripts/common/asker.pyz"
	push 1990
	cthis newanima
	call anaskerbg,hide
	push "anaskerbg"
	push "anaskeryes"
	cthis copyanima
	push "yes"
	push 0
	call anaskeryes,setframe
	push "anaskerbg"
	push "anaskerno"
	cthis copyanima
	push "no"
	push 0
	call anaskerno,setframe
	call anaskeryes,Button_std
	push "butclick"
	push "StdGame0"
	call anaskeryes,addmethod
	call anaskerno,Button_std
	push "butclick"
	push "StdGame1"
	call anaskerno,addmethod
	push "anaskeryes"
	call butgame,add
	push "anaskerno"
	call butgame,add
	end method
	method StdGame0
	push sgmstate
	push "state_askexit"
	cmpje
	cmp0
	je l2766
	push sAskerGame
	push "null"
	cmpjne
	cmp0
	je l2768
	push sAskerGame
	push "exit"
	cmpje
	cmp0
	je l2770
	push "state_exitgame"
	pop sgmstate
	cthis closexit
	jmp l2769
l2770:
	push sAskerGame
	cthis stdexit
l2769:
	jmp l2767
l2768:
	cthis Button_butclick
l2767:
l2766:
	end method
	method StdGame1
	push idymekdelay
	push "null"
	call anaskerbg,anzoomout
	push idymekdelay
	push "null"
	call anaskeryes,anzoomout
	push idymekdelay
	push "null"
	call anaskerno,anzoomout
	cthis advsetstdstate
	end method
	method closexit
	call ccs,buildblack
	push "StdGame2"
	call ccs,close
	end method
	method StdGame2
	call gameapi,exit
	end method
	method askfor
	localstring $1
	pop $1
	push "state_askexitstart"
	pop sgmstate
	push $1
	pop sAskerGame
	push idymekdelay
	push "StdGame3"
	call anaskerbg,anzoomin
	push idymekdelay
	push "null"
	call anaskeryes,anzoomin
	push idymekdelay
	push "null"
	call anaskerno,anzoomin
	end method
	method StdGame3
	push "state_askexit"
	pop sgmstate
	end method
	method stdenter
	push "refreshstdstate"
	call ccs,enter
	end method
	method refreshstdstate
	cthis advsetstdstate
	call butgame,refresh
	end method
	method timfinito
	push GAME
	spushs
	push "_timfinito"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2772
	push GAME
	spushs
	push "_timfinito"
	push 1000
	push "StdGame4"
	spop $a
	call [$a],timer=
l2772:
	call _timfinito,play
	end method
	method StdGame4
	cthis advstdstate
	cmp0
	je l2774
	cthis mend
l2774:
	end method
	method Button_stdoff
	push "butmoveoff"
	push "StdGame5"
	cthis addmethod
	end method
	method StdGame5
	cthis advstdstate
	cmp0
	je l2776
	call advmouse,setstd
l2776:
	end method
	method buildfadebut
	localint $1
	pop $1
	localdef $2
	cthis getname
	push "_copy"
	pop $b
	popax
	add $a,$b
	pop $2
	push GAME
	spushs
	cthis getname
	push $2
	spop $a
	call [$a],copyanima
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $2
	spushs
	spop $a
	call [$a],hide
	push $1
	cmp0
	je l2778
	cthis Button_isinalpha
	jmp l2777
l2778:
	cthis Button_isin
l2777:
	push "sanbutcopy"
	push $2
	cthis var2
	push "butmoveon"
	push "StdGame6"
	cthis addmethod
	push "butmoveoff"
	push "StdGame7"
	cthis addmethod
	cthis Button_stdclick
	cthis getname
	call butgame,add
	end method
	method StdGame6
	cthis advstdstate
	cmp0
	je l2780
	call advmouse,setact
	push sanbutcopy
	spushs
	push 300
	push "null"
	spop $a
	call [$a],anfadein
l2780:
	cthis Button_butmoveon
	end method
	method StdGame7
	call advmouse,setstd
	push sanbutcopy
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l2782
	push sanbutcopy
	spushs
	push 300
	push "hide"
	spop $a
	call [$a],anfadeout
l2782:
	cthis Button_butmoveoff
	end method
	method crect
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push igmoffsetx
	call $1,igetsc
	pop $b
	popax
	add $a,$b
	push igmoffsety
	call $2,igetsc
	pop $b
	popax
	add $a,$b
	push igmoffsetx
	push iResX
	pop $b
	popax
	add $a,$b
	call $3,igetsc
	pop $b
	popax
	sub $a,$b
	push igmoffsety
	push iResY
	pop $b
	popax
	add $a,$b
	call $4,igetsc
	pop $b
	popax
	sub $a,$b
	new Rect,rec
	end method
	method mkchmura
	localstring $1
	localreal $2
	pop $2
	pop $1
	localdef $3
	push "canmov"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $1
	push $2
	push 0
	spop $e
	new AnMover,[$e]
	push $3
	spushs
	spop $a
	call [$a],enableroll
	push $3
	spushs
	spop $a
	call [$a],play
	end method
	method key_down
	push igmdebug
	cmp0
	je l2784
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l2784
	push "r"
	call keyboard,iskey
	jmp l2786
l2784:
	push 0
	jmp l2786
l2785:
	push 1
l2786:
	cmp0
	je l2787
	cthis crestart
l2787:
	end method
	end class

	new classgamepause,clpause
	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push "MainLoader"
	call gameapi,play
	game MainLoader
	parent StdGame
	method init
	push "mainloader"
	clparent StdGame,init
	push "modadv"
	call engine,varexist
	cmp0
	je l2789
	push "scripts/scripts/defaults.adv"
	call modadv,load
	push "scripts/scripts/sounds.db"
	call modadv,loadsounds
	push "snd"
	call modadv,settalktype
	push "scripts/scripts/initscript.dsc"
	call modadv,loadscript
l2789:
	push "global.txt"
	call clsave,load
	cthis getname
	pop sgmlastscene
	push "startgame:"
	call dbconf,dbget
	call gameapi,play
	end method
	end game

	new int,bMusic
	push 1
	pop bMusic
	new string,sgmpuzpref
	push 0
	push 6
	call sgmproject,getb
	spushs
	push "Puzzle"
	cmpst
	jne l2791
	spop $a
	push "Puzzle"
	jmp l2790
l2791:
	push "Advent"
	cmpst
	jne l2792
	spop $a
	push "Adventure"
	jmp l2790
l2792:
	push "Colour"
	cmpst
	jne l2793
	spop $a
	push "Colour"
	jmp l2790
l2793:
	spop $a
l2790:
	new string,sgmtype
	pop sgmtype
	push sgmtype
	call sgmproject,strsubbs
	spushs
	spop $h
	call $h,to_l
	pop sgmpuzpref
	class MermaidStd
	parent StdGame
	method init
	localstring $1
	pop $1
	push $1
	clparent StdGame,init
	push sgmpuzpref
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis path=
	end method
	method cwideversion
	push 1
	end method
	method cbutexit
	push "anbutexit"
	push "$scripts/common/butexit.pyz"
	push 300
	cthis newanima
	push igmandroid
	cmp0
	je l2795
	cthis getxoffset
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push igmoffsety
	call anbutexit,ansetbpos
	jmp l2794
l2795:
	push igmoffsetx
	push iResX
	pop $b
	popax
	add $a,$b
	push 20
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	call anbutexit,getw
	pop $b
	popax
	sub $a,$b
	push igmoffsety
	call anbutexit,ansetbpos
l2794:
	call anbutexit,Button_addstdstate
	end method
	method cbutexitoverlay
	cthis cbutexit
	cthis cblinkbutexit
	end method
	method cblinkbutexit
	push igmandroid
	neg
	cmp0
	je l2797
	cthis yellow
	push 64
	push 1200
	call anbutexit,imgbuildoverlay
l2797:
	end method
	method cbuthelp
	push "anbuthelp"
	push "$scripts/common/help.pyz"
	push 300
	cthis newanima
	push igmandroid
	cmp0
	je l2799
	call anbutexit,getex
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push igmoffsety
	call anbuthelp,ansetbpos
	jmp l2798
l2799:
	call anbutexit,getpx
	call anbuthelp,getw
	pop $b
	popax
	sub $a,$b
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push igmoffsety
	call anbuthelp,ansetbpos
l2798:
	call anbuthelp,Button_addstdstate
	end method
	method cbutmusic
	cthis cbutmuz
	end method
	method cbutmuz
	push "anbutmuz"
	push "$scripts/common/butmuz.pyz"
	push 300
	cthis newanima
	localdef $1
	push "anbutexit"
	pop $1
	push "anbuthelp"
	call engine,varexist
	cmp0
	je l2801
	push "anbuthelp"
	pop $1
l2801:
	push igmandroid
	cmp0
	je l2803
	push $1
	spushs
	spop $a
	call [$a],getex
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	push igmoffsety
	call anbutmuz,ansetbpos
	jmp l2802
l2803:
	push $1
	spushs
	spop $a
	call [$a],getpx
	call anbutmuz,getw
	pop $b
	popax
	sub $a,$b
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	push igmoffsety
	call anbutmuz,ansetbpos
l2802:
	call anbutmuz,Button_addstdstate
	push bMusic
	cmp0
	je l2805
	push "on"
	jmp l2804
l2805:
	push "off"
l2804:
	push 0
	call anbutmuz,setframe
	end method
	method butclick_anbutmuz
	push bMusic
	cmp0
	je l2807
	push 0
	pop bMusic
	push 500
	call music,fadeout
	push "off"
	push 0
	call anbutmuz,setframe
	jmp l2806
l2807:
	push 1
	pop bMusic
	push "on"
	push 0
	call anbutmuz,setframe
	cthis butmuz_playmusic
l2806:
	end method
	method butmuz_playmusic
	cthis playmainmusic
	end method
	method cloadboki
	localint $1
	pop $1
	push "an1366bokl"
	push "$scripts/common/boki.pyz"
	push $1
	cthis newanima
	push "an1366bokl"
	push "an1366bokr"
	cthis copyanima
	push 1
	push 0
	call an1366bokr,setframe
	end method
	method caddymek
	push GAME
	spushs
	cthis getname
	cthis getname
	push "2"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],copyanima
	localint $1
	push 0
	pop $1
l2808:
	push $1
	cthis nofactions
	push 2
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l2809
	jmp l2811
l2810:
	add $1,1
	pop $1
	jmp l2808
l2811:
	localdef $2
	cthis getname
	push "iko"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push GAME
	spushs
	cthis getname
	push $2
	spop $a
	call [$a],copyanima
	push $2
	spushs
	spop $a
	call [$a],hide
	push $2
	spushs
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $2
	spushs
	push $1
	push 2
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],setframe
	push "saniko"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	cthis var2
	jmp l2810
l2809:
	push A
	push "ilesaniko"
	push $1
	push "sancopy"
	cthis getname
	push "2"
	pop $b
	popax
	add $a,$b
	cthis vars2
	push sancopy
	spushs
	spop $a
	call [$a],hide
	push "isbutin"
	push "MermaidStd0"
	cthis addmethod
	push "butmoveon"
	push "MermaidStd1"
	cthis addmethod
	push "butmoveoff"
	push "MermaidStd2"
	cthis addmethod
	push "butclick"
	push "MermaidStd3"
	cthis addmethod
	cthis getname
	call butgame,add
	push 0
	cthis play
	end method
	method MermaidStd0
	localint $1
	localint $2
	pop $2
	pop $1
	push sancopy
	spushs
	push $1
	push $2
	push 0
	push 0
	spop $a
	call [$a],isin
	end method
	method MermaidStd1
	cthis advstdstate
	cmp0
	je l2813
	call advmouse,setact
	push 1
	cthis play
	localint $1
	push 0
	pop $1
l2814:
	push $1
	push ilesaniko
	cmpjl
	cmp0
	je l2815
	jmp l2817
l2816:
	add $1,1
	pop $1
	jmp l2814
l2817:
	push "saniko"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push 10.0
	push $1
	pop $b
	popax
	add $a,$b
	push 10.0
	pop $b
	popax
	div $a,$b
	psax
	push idymekdelay
	pop $b
	popax
	mul $a,$b
	push "null"
	spop $a
	call [$a],anzoomin
	jmp l2816
l2815:
	cthis Button_butmoveon
l2813:
	end method
	method MermaidStd2
	cthis advstdstate
	cmp0
	je l2819
	call advmouse,setstd
	push 0
	cthis play
	localint $1
	push 0
	pop $1
l2820:
	push $1
	push ilesaniko
	cmpjl
	cmp0
	je l2821
	jmp l2823
l2822:
	add $1,1
	pop $1
	jmp l2820
l2823:
	push "saniko"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push 10.0
	push $1
	pop $b
	popax
	add $a,$b
	push 10.0
	pop $b
	popax
	div $a,$b
	psax
	push idymekdelay
	pop $b
	popax
	mul $a,$b
	push "null"
	spop $a
	call [$a],anzoomout
	jmp l2822
l2821:
l2819:
	end method
	method MermaidStd3
	cthis advstdstate
	cmp0
	je l2825
	cthis Button_butclick
l2825:
	end method
	method cbuildbzyczek
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],cbzyczek
	end method
	method cplaybzyczek
	localstring $1
	pop $1
	push $1
	cthis cbuildbzyczek
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
	end method
	method anplaybzyczek
	cthis getname
	cthis cplaybzyczek
	end method
	method cbzyczek
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],ansetbpos
	localdef $4
	push "ftbzyk"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	spop $e
	new filter,[$e]
	push $4
	spushs
	push $1
	spop $a
	call [$a],link
	push $1
	spushs
	push "iliczbzyk"
	push 0
	spop $a
	call [$a],var2
	push $1
	spushs
	push "onendframe"
	push "MermaidStd4"
	spop $a
	call [$a],addmethod
	end method
	method MermaidStd4
	add iliczbzyk,1
	pop iliczbzyk
	push iliczbzyk
	push 1
	cmpje
	cmp0
	je l2827
	localdef $1
	push "ftbzyk"
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push 0
	pop iliczbzyk
	localreal $2
	push 12
	push 21
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	sub $a,$b
	pop $2
	localreal $3
	push 5
	pop $3
	localreal $4
	push $1
	spushs
	spop $a
	call [$a],getangle
	pop $4
	localreal $5
	push $4
	spushs
	spop $h
	call $h,sin
	push $3
	pop $b
	popax
	mul $a,$b
	pop $5
	localreal $6
	push $4
	spushs
	spop $h
	call $h,cos
	push $3
	pop $b
	popax
	mul $a,$b
	pop $6
	push $1
	spushs
	push $2
	spop $a
	call [$a],rotate
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	cthis move
l2827:
	end method
	end class

	method playmainmusic
	push "engine"
	call music,smixer=
	push sgmpuzpref
	push ".ogg -l -v 50"
	pop $b
	popax
	add $a,$b
	call music,playstr
	end method
	game Intro
	parent MermaidStd
	method init
	push "intro"
	clparent MermaidStd,init
	push A
	cthis isjpgame
	cmp0
	je l2829
	push "introbg.jpg"
	jmp l2828
l2829:
	push "bkg.pyz"
l2828:
	push "tytul.pyzGH 10"
	cthis imgs=
	new int,idtyt
	push 0
	pop idtyt
	push "Intro0"
	call ccs,enter
	cthis playmainmusic
	end method
	method Intro0
	cthis advsetstdstate
	cthis mtytgo
	end method
	method mend
	push sgmpuzpref
	spushs
	push "xmas"
	cmpst
	jne l2831
	spop $a
	push "MenuXmas"
	jmp l2830
l2831:
	spop $a
	push "MenuImg"
l2830:
	cthis stdexit
	end method
	method mouse_lclick
	cthis mend
	end method
	method mtytgo
	push idtyt
	call grtytul,size
	cmpjae
	cmp0
	je l2833
	cthis mend
	jmp l2832
l2833:
	localint $1
	push idtyt
	call grtytul,size
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l2835
	push 4000
	jmp l2834
l2835:
	push 1000
l2834:
	pop $1
	push idtyt
	call grtytul,get
	spushs
	push $1
	push "mtytgo"
	spop $a
	call [$a],anfadein
	add idtyt,1
	pop idtyt
l2832:
	end method
	end game

	game Outro
	parent MermaidStd
	method init
	push "outro"
	clparent MermaidStd,init
	push A
	push "bkg.jpg"
	cthis imgs=
	cthis stdenter
	push "timfinish"
	push 12000
	push "mend"
	cthis timplay
	end method
	method mend
	cthis advstdstate
	cmp0
	je l2837
	push "state_exit"
	pop sgmstate
	push 800
	call music,fadeout
	cthis closexit
l2837:
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

	game TestFilm
	method init
	new video,myvideo
	new video,myvideo2
	new video,myvideo3
	new int,rc
	new string,fileinfo
	push "RC: "
	push rc
	pop $b
	popax
	add $a,$b
	call engine,print
	push "finished .play, starting .open"
	call engine,print
	push "video/bunny.ogg"
	push 100
	push 100
	push 800
	push 800
	call myvideo,open
	pop rc
	push "video/bunny.ogg"
	push 400
	push 400
	push 300
	push 300
	call myvideo2,open
	pop rc
	push "video/bunny.ogg"
	push 100
	push 100
	push 300
	push 300
	call myvideo3,open
	pop rc
	push "RC: "
	push rc
	pop $b
	popax
	add $a,$b
	call engine,print
	push "Duration: "
	call myvideo,getduration
	pop $b
	popax
	add $a,$b
	call engine,print
	push "framerate:"
	call myvideo,getframerate
	pop $b
	popax
	add $a,$b
	push " size: "
	pop $b
	popax
	add $a,$b
	call myvideo,getvideowidth
	pop $b
	popax
	add $a,$b
	push "x"
	pop $b
	popax
	add $a,$b
	call myvideo,getvideoheight
	pop $b
	popax
	add $a,$b
	pop fileinfo
	push fileinfo
	call engine,print
	push "onfinish"
	push "TestFilm0"
	call myvideo,addmethod
	push 20
	call myvideo,setz
	push 2
	call myvideo,setblendmode
	push 10
	call myvideo2,setz
	push 1
	call myvideo2,setflipmode
	push 1
	call myvideo2,setblendmode
	push 128
	call myvideo2,setalpha
	push 30
	call myvideo3,setz
	push 2
	call myvideo3,setflipmode
	call myvideo,play
	push "INIT END"
	call engine,print
	end method
	method TestFilm0
	push "video end"
	call engine,print
	end method
	method mouselclick
	call myvideo,isplaying
	cmp0
	je l2839
	push "video is playing"
	spushs
	spop $h
	call $h,print
	jmp l2838
l2839:
	push "video stopped"
	spushs
	spop $h
	call $h,print
l2838:
	push "Current frame: "
	call myvideo,getframenum
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method mousemove
	end method
	method mouserclick
	push 1
	call myvideo,stop
	end method
	method keydown
	push "s"
	call keyboard,iskey
	cmp0
	je l2841
	call myvideo,play
	jmp l2840
l2841:
	push "p"
	call keyboard,iskey
	cmp0
	je l2843
	call myvideo,pause
	jmp l2842
l2843:
	push "r"
	call keyboard,iskey
	cmp0
	je l2845
	call myvideo,resume
l2845:
l2842:
l2840:
	end method
	end game

	new int,iMenuPuzid
	push 1
	pop iMenuPuzid
	new int,iIlePuz
	push "iIlePuz:"
	push iMenuPuzid
	cthis readcfg
	pop iIlePuz
	new int,iPuzRow
	push 5
	pop iPuzRow
	new int,iPuzCol
	push 6
	pop iPuzCol
	new int,iPuzCiecie
	push 0
	pop iPuzCiecie
	new int,bPlayMusic
	push 1
	pop bPlayMusic
	new int,igmogg
	push 1
	pop igmogg
	new int,bPuzRotate
	push 0
	pop bPuzRotate
	new int,bPuzHint
	push 1
	pop bPuzHint
	method isjpgame
	cthis checktouchpad
	cmp0
	jne l2847
	push sgmpuzpref
	push "coralreef"
	cmpjne
	jmp l2848
l2846:
	push 0
	jmp l2848
l2847:
	push 1
l2848:
	end method
	game MenuImg
	parent MermaidStd
	method init
	push "menu_img"
	clparent MermaidStd,init
	push A
	cthis isjpgame
	cmp0
	je l2850
	push "wyborbg.jpg"
	jmp l2849
l2850:
	push "bkg.pyz"
l2849:
	push "butok.pyz 30"
	push "butnext.pyz 30"
	push "putprev.pyz 30"
	push "cien.pyz 10"
	push "$scripts/common/cyfry.pyz 30"
	cthis imgs=
	cthis cbutexit
	cthis loadasker
	cthis cbutmusic
	cthis checktouchpad
	neg
	cmp0
	je l2852
	cthis yellow
	push 64
	push 1200
	call anbutok,imgbuildoverlay
l2852:
	push igmandroid
	cmp0
	je l2854
	localint $1
	push 17
	spushs
	spop $h
	call $h,igetsc
	pop $1
	localint $2
	push 83
	spushs
	spop $h
	call $h,igetsc
	pop $2
	push $1
	push $2
	call ancien,move
	push $1
	push $2
	call anbutnext,move
	push $1
	push $2
	call anputprev,move
	push $1
	push $2
	call anbutok,move
l2854:
	new gmimgvec,grnr
	localint $3
	push "null"
	push iIlePuz
	cthis mputnumber
	pop $3
	localint $4
	push 1.1
	call ancyfry,getw
	pop $b
	popax
	mul $a,$b
	pop $4
	localint $5
	push 0
	pop $5
l2855:
	push $5
	push $3
	cmpjl
	cmp0
	je l2856
	jmp l2858
l2857:
	add $5,1
	pop $5
	jmp l2855
l2858:
	localdef $6
	push "anilepuz"
	push $5
	pop $b
	popax
	add $a,$b
	pop $6
	push "ancyfry"
	push $6
	cthis copyanima
	push $6
	spushs
	call anbutok,getpx
	push $4
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call ancien,getey
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push "annr"
	push $5
	pop $b
	popax
	add $a,$b
	pop $6
	push "ancyfry"
	push $6
	cthis copyanima
	push $6
	spushs
	call anbutok,getpx
	push $4
	push $5
	push $3
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call ancien,getey
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	spop $a
	call [$a],hide
	push $6
	call grnr,add
	jmp l2857
l2856:
	push "anilepuz"
	push iIlePuz
	cthis mputnumber
	popax
	push 1
	push 0
	call ancyfry,setframe
	call anbutok,getpx
	push $4
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call ancien,getey
	push 10
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	add $a,$b
	call ancyfry,setpos
	new img,imgpic1
	new img,imgpic2
	new string,spic1
	push "imgpic1"
	pop spic1
	new string,spic2
	push "imgpic2"
	pop spic2
	push spic1
	spushs
	spop $a
	call [$a],mload
	cthis mustawnr
	new int,ispeed
	push "timrew"
	push "MenuImg0"
	cthis cycle=
	call anbutnext,Button_addstdstate
	call anputprev,Button_addstdstate
	call anbutok,Button_addstdstate
	cthis stdenter
	end method
	method MenuImg0
	push spic1
	spushs
	push 0
	push ispeed
	spop $a
	call [$a],move
	push spic2
	spushs
	push 0
	push ispeed
	spop $a
	call [$a],move
	localdef $1
	push spic2
	spushs
	spop $a
	call [$a],getpy
	pop $1
	push ispeed
	push 0
	cmpjl
	cmp0
	je l2860
	push $1
	push 0
	cmpjl
	jmp l2862
l2860:
	push 0
	jmp l2862
l2861:
	push 1
l2862:
	cmp0
	jne l2864
	push ispeed
	push 0
	cmpja
	cmp0
	je l2865
	push $1
	push 0
	cmpja
	jmp l2867
l2865:
	push 0
	jmp l2867
l2866:
	push 1
l2867:
	jmp l2868
l2863:
	push 0
	jmp l2868
l2864:
	push 1
l2868:
	cmp0
	je l2869
	push spic1
	spushs
	spop $a
	call [$a],hide
	push spic2
	spushs
	spop $a
	call [$a],mustaw
	localdef $2
	push spic1
	pop $2
	push spic2
	pop spic1
	push $2
	pop spic2
	cthis advsetstdstate
	call ancien,show
	cthis mustawnr
	jmp l2859
l2869:
	cthis play
l2859:
	end method
	method butclick_anbutnext
	push GAME
	spushs
	push 1
	spop $a
	call [$a],mnext
	end method
	method butclick_anputprev
	push GAME
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],mnext
	end method
	method butclick_anbutok
	push "MenuTryb"
	cthis stdexit
	end method
	method mustaw
	call ancien,getcx
	call ancien,getcy
	push 1
	pop $b
	popax
	sub $a,$b
	cthis ansetcpos
	end method
	method mload
	push "scripts/"
	push sgmpuzpref
	pop $b
	popax
	add $a,$b
	push "/mg_puzzle/imgs/p_puz"
	pop $b
	popax
	add $a,$b
	push iMenuPuzid
	pop $b
	popax
	add $a,$b
	push ".jpg"
	pop $b
	popax
	add $a,$b
	cthis load
	push 516.0
	push 736.0
	pop $b
	popax
	div $a,$b
	psax
	cthis anzoom
	push 20
	cthis setz
	push "ancien"
	cthis anclipob
	cthis show
	cthis mustaw
	end method
	method mnext
	localint $1
	pop $1
	push $1
	popax
	add iMenuPuzid,$a
	pop iMenuPuzid
	push iMenuPuzid
	push 1
	cmpjl
	cmp0
	je l2871
	push iIlePuz
	pop iMenuPuzid
	jmp l2870
l2871:
	push iMenuPuzid
	push iIlePuz
	cmpja
	cmp0
	je l2873
	push 1
	pop iMenuPuzid
l2873:
l2870:
	push spic2
	spushs
	spop $a
	call [$a],mload
	push 0.4
	push spic1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	pop ispeed
	localint $2
	push 5
	pop $2
	push $1
	push 0
	cmpja
	cmp0
	je l2875
	push ispeed
	popax
	sub 0,$a
	pop ispeed
	push spic2
	spushs
	push 0
	push spic1
	spushs
	spop $a
	call [$a],geth
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
	jmp l2874
l2875:
	push spic2
	spushs
	push 0
	push spic2
	spushs
	spop $a
	call [$a],geth
	popax
	sub 0,$a
	push $2
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],move
l2874:
	push "state_rewind"
	pop sgmstate
	call ancien,hide
	call timrew,play
	end method
	method mputnumber
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l2876:
	push $2
	push 0
	cmpja
	cmp0
	je l2877
	push $1
	push "null"
	cmpjne
	cmp0
	je l2879
	localdef $4
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	push 0
	push $2
	push 10
	pop $b
	popax
	div $a,$b
	push $d
	spop $a
	call [$a],setframe
	push $4
	spushs
	spop $a
	call [$a],show
l2879:
	push $2
	push 10
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	add $3,1
	pop $3
	jmp l2876
l2877:
	push $3
	end method
	method mustawnr
	call grnr,hide
	push "annr"
	push iMenuPuzid
	cthis mputnumber
	popax
	end method
	method butclick_anbutexit
	push "Outro"
	cthis askfor
	end method
	end game

	game MenuTryb
	parent MermaidStd
	method init
	push "menu_tryb"
	clparent MermaidStd,init
	push A
	cthis isjpgame
	cmp0
	je l2881
	push "tryby.jpg"
	jmp l2880
l2881:
	push "bkg.pyz"
l2880:
	push "butile.pyzG 10"
	push "butok.pyz 20"
	push "buthint.pyz 20"
	push "butroto.pyz 20"
	push "yesno.pyz 30"
	cthis imgs=
	push "anmodehint"
	call anyesno,addtogamevars
	push "anyesno"
	push "anmoderoto"
	cthis copyanima
	push "anyesno"
	push "anmodeile"
	cthis copyanima
	call anbuthint,getcx
	call anbuthint,getey
	call anmodehint,setpos
	call anbutroto,getcx
	call anbutroto,getey
	call anmoderoto,setpos
	cthis msetmodes
	cthis cbutexit
	cthis cbutmusic
	cthis checktouchpad
	neg
	cmp0
	je l2883
	cthis yellow
	push 64
	push 1200
	call anbutok,imgbuildoverlay
l2883:
	new string,smodeile
	push "null"
	pop smodeile
	push "MenuTryb0"
	call grbutile,eval
	push iPuzCiecie
	call grbutile,get
	cthis msetile
	call anbutroto,Button_addstdstate
	call anbuthint,Button_addstdstate
	call anbutok,Button_addstdstate
	cthis stdenter
	end method
	method MenuTryb0
	cthis Button_std
	push "butmoveon"
	push "MenuTryb1"
	cthis addmethod
	push "butmoveoff"
	push "MenuTryb2"
	cthis addmethod
	push "butclick"
	push "MenuTryb3"
	cthis addmethod
	cthis getname
	call butgame,add
	end method
	method MenuTryb1
	call sndfxmoveonms,play
	call advmouse,setact
	cthis getname
	push smodeile
	cmpje
	cmp0
	je l2885
	push 1
	popax
	sub 0,$a
	push 3
	cthis setframe
	jmp l2884
l2885:
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2884:
	end method
	method MenuTryb2
	call advmouse,setstd
	cthis getname
	push smodeile
	cmpje
	cmp0
	je l2887
	push 1
	popax
	sub 0,$a
	push 2
	cthis setframe
	jmp l2886
l2887:
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l2886:
	end method
	method MenuTryb3
	cthis advstdstate
	cmp0
	je l2889
	call sndfxbutclick1,play
	cthis getname
	cthis msetile
l2889:
	end method
	method butclick_anbutroto
	push bPuzRotate
	neg
	pop bPuzRotate
	cthis msetmodes
	end method
	method butclick_anbuthint
	push bPuzHint
	neg
	pop bPuzHint
	cthis msetmodes
	end method
	method butclick_anbutok
	push smodeile
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "12"
	cmpst
	jne l2891
	spop $a
	push 3
	pop iPuzRow
	push 4
	pop iPuzCol
	jmp l2890
l2891:
	push "20"
	cmpst
	jne l2892
	spop $a
	push 4
	pop iPuzRow
	push 5
	pop iPuzCol
	jmp l2890
l2892:
	push "30"
	cmpst
	jne l2893
	spop $a
	push 5
	pop iPuzRow
	push 6
	pop iPuzCol
	jmp l2890
l2893:
	push "48"
	cmpst
	jne l2894
	spop $a
	push 6
	pop iPuzRow
	push 8
	pop iPuzCol
	jmp l2890
l2894:
	spop $a
l2890:
	push "PuzzleB"
	cthis stdexit
	end method
	method msetile
	localstring $1
	pop $1
	push smodeile
	push "null"
	cmpjne
	cmp0
	je l2896
	push smodeile
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l2896:
	push $1
	pop smodeile
	push smodeile
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	pop iPuzCiecie
	push smodeile
	spushs
	push 1
	popax
	sub 0,$a
	push 3
	spop $a
	call [$a],setframe
	end method
	method msetmodes
	push 1
	popax
	sub 0,$a
	push bPuzHint
	cmp0
	je l2898
	push 0
	jmp l2897
l2898:
	push 1
l2897:
	call anmodehint,setframe
	push 1
	popax
	sub 0,$a
	push bPuzRotate
	cmp0
	je l2900
	push 0
	jmp l2899
l2900:
	push 1
l2899:
	call anmoderoto,setframe
	end method
	method butclick_anbutexit
	push "MenuImg"
	cthis stdexit
	end method
	end game

	class gmimgvecpuz
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis imsetpos
	end method
	method imsetpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "imsetpos"
	push $1
	push $2
	cthis eval2
	end method
	method ilodx
	push 0
	end method
	method ilody
	push 0
	end method
	end class

	class TPuzzle2
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iCols
	push $4
	pop iCols
	new int,iRows
	push $3
	pop iRows
	push "."
	call $1,contains
	cmp0
	je l2902
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l2902:
	push ".pyz"
	call $2,contains
	cmp0
	je l2904
	new gmimgvec,grel
	push "grel"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	jmp l2903
l2904:
	push $2
	push "grel"
	cmpjne
	cmp0
	je l2906
	push $2
	spushs
	push "grel"
	spop $a
	call [$a],addtogamevars
l2906:
l2903:
	new gmimgvec,grend
	call grel,hash
	push "TPuzzle20"
	call grel,each
	new string,spuztyp
	call grel,first
	spushs
	spop $a
	call [$a],gettype
	pop spuztyp
	new int,ibadajl
	push 25
	pop ibadajl
	new string,sactpuz
	new int,iblitopacity
	push 192
	pop iblitopacity
	new int,PuzzleState
	push 0
	pop PuzzleState
	new string,ssetpuz
	push "null"
	pop ssetpuz
	push bPuzRotate
	cmp0
	je l2908
	new WaitImgMover,cmov
	jmp l2907
l2908:
	new DelayMover,cmov
	push 0
	call cmov,setclickrel
l2907:
	push 200
	new SimpleCounter,cnt
	new int,iX
	push $5
	pop iX
	new int,iY
	push $6
	pop iY
	push iX
	push iY
	call grel,move
	end method
	method TPuzzle20
	localdef $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method setpuzstate
	localint $1
	pop $1
	push $1
	pop PuzzleState
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l2910
	new gmimgvec,grblit
	localdef $2
	pop $2
	push "grblit"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	call grblit,hide
l2910:
	end method
	method cmov_GET
	push 0
	call fxrewind1,stop
	push sgmstate
	push "state_rotobut"
	cmpje
	cmp0
	je l2912
	cthis advsetstdstate
	jmp l2911
l2912:
	cthis advstdstate
	cmp0
	je l2914
	push ssetpuz
	push "null"
	cmpjne
	cmp0
	je l2916
	cthis hideoverlay
	push ssetpuz
	cthis retpuzel
	push "null"
	pop ssetpuz
l2916:
	call mouse,getpos
	push 1
	push 1
	call grel,isincut
	cmp0
	je l2918
	localstring $1
	call grel,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	cthis tpuzzle_get
l2918:
l2914:
l2911:
	end method
	method hideoverlay
	push ssetpuz
	push "null"
	cmpjne
	cmp0
	je l2920
	push ssetpuz
	spushs
	spop $a
	call [$a],imgetoverlay
	spushs
	spop $a
	call [$a],hide
	call anbutroto,hide
l2920:
	end method
	method showoverlay
	push ssetpuz
	push "null"
	cmpjne
	cmp0
	je l2922
	push ssetpuz
	spushs
	cthis red
	push 64
	push 0
	spop $a
	call [$a],imgbuildoverlay
	localdef $1
	push ssetpuz
	spushs
	spop $a
	call [$a],imgetoverlay
	pop $1
	push $1
	spushs
	push ssetpuz
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ssetpuz
	spushs
	spop $a
	call [$a],getpx
	push ssetpuz
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	call rec2,fit
	call anbutroto,isvisible
	neg
	cmp0
	je l2924
	push ssetpuz
	spushs
	spop $a
	call [$a],getex
	push ssetpuz
	spushs
	spop $a
	call [$a],getpy
	call anbutroto,setpos
l2924:
	call anbutroto,show
l2922:
	end method
	method cwithin
	localstring $1
	pop $1
	localint $2
	cthis gettype
	push spuztyp
	cmpjne
	cmp0
	je l2926
	push 0
	pop $2
l2927:
	push $2
	cthis size
	cmpjl
	cmp0
	je l2928
	jmp l2930
l2929:
	add $2,1
	pop $2
	jmp l2927
l2930:
	push $2
	cthis get
	spushs
	push $1
	spop $a
	call [$a],cwithin
	cmp0
	je l2932
	push 1
	ret
l2932:
	jmp l2929
l2928:
	push 0
	ret
	jmp l2925
l2926:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2934
	push bPuzRotate
	cmp0
	je l2936
	push puzangle
	push 0
	cmpjne
	jmp l2938
l2936:
	push 0
	jmp l2938
l2937:
	push 1
l2938:
	cmp0
	je l2939
	push 0
	ret
l2939:
	localint $3
	cthis framenr
	pop $3
	localint $4
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	push A
	push $4
	push 0
	cmpja
	cmp0
	je l2941
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
l2941:
	push $4
	push iCols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l2943
	push $3
	push 1
	pop $b
	popax
	add $a,$b
l2943:
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l2945
	push $3
	push iCols
	pop $b
	popax
	sub $a,$b
l2945:
	push $4
	push iRows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l2947
	push $3
	push iCols
	pop $b
	popax
	add $a,$b
l2947:
	push $1
	spushs
	spop $a
	call [$a],framenr
	spushs
	spop $h
	call $h,in
	ret
	jmp l2933
l2934:
	push 0
	pop $2
l2948:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l2949
	jmp l2951
l2950:
	add $2,1
	pop $2
	jmp l2948
l2951:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cwithin
	cmp0
	je l2953
	push 1
	ret
l2953:
	jmp l2950
l2949:
	push 0
	ret
l2933:
l2925:
	end method
	method cposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $1
	spushs
	spop $a
	call [$a],ilodx
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getposx
	push $2
	spushs
	spop $a
	call [$a],ilodx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $1
	spushs
	spop $a
	call [$a],ilody
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getposy
	push $2
	spushs
	spop $a
	call [$a],ilody
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	call $3,length
	end method
	method cblit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2955
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l2957
	push $1
	spushs
	push iX
	push iY
	spop $a
	call [$a],imsetpos
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	spushs
	spop $a
	call [$a],framenr
	call grblit,get
	pop $1
l2957:
	push $1
	spushs
	spop $a
	call [$a],TPuzzle21
	jmp l2954
l2955:
	localint $2
	push 0
	pop $2
l2960:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l2961
	jmp l2963
l2962:
	add $2,1
	pop $2
	jmp l2960
l2963:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cblit
	jmp l2962
l2961:
l2954:
	end method
	method TPuzzle21
	push 1
	cthis setz
	cthis show
	push bPuzRotate
	cmp0
	je l2959
	push "ftrot"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],unlink
l2959:
	push iX
	push iY
	cthis imsetpos
	cthis getname
	call imgbkg,blit
	cthis hide
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	end method
	method retpuzel
	localstring $1
	pop $1
	push $1
	spushs
	push 100
	call cnt,next
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	call grel,sortimgs
	push "TPuzzle22"
	call grel,each
	end method
	method TPuzzle22
	localint $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method cput
	cthis tpuzzle_put
	localstring $1
	call cmov,getfree
	pop $1
	push $1
	cthis retpuzel
	localstring $2
	push $1
	pop $2
	localstring $3
	push $1
	pop sactpuz
l2964:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpjne
	cmp0
	je l2965
	push $1
	spushs
	push 0
	spop $a
	call [$a],get
	pop $1
	jmp l2964
l2965:
	localint $4
	push bPuzRotate
	neg
	cmp0
	jne l2967
	push $1
	spushs
	spop $a
	call [$a],puzangle
	push 0
	cmpje
	jmp l2968
l2966:
	push 0
	jmp l2968
l2967:
	push 1
l2968:
	pop $4
	push $4
	cmp0
	je l2970
	push $1
	spushs
	spop $a
	call [$a],ilodx
	push iX
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],ilody
	push iY
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	call ibadajl,length
	push ibadajl
	cmpjl
	jmp l2972
l2970:
	push 0
	jmp l2972
l2971:
	push 1
l2972:
	cmp0
	je l2973
	push "null"
	pop sactpuz
	push $2
	cthis cblit
	push $2
	call grel,remove
	push $2
	call grend,add
	cthis tpuzzle_blit
	call grel,empty
	cmp0
	je l2975
	call grend,show
	cthis tpuzzle_end
l2975:
	jmp l2969
l2973:
	push $4
	cmp0
	je l2977
	push $2
	call grel,remove
	localint $5
	push 0
	pop $5
l2978:
	push $5
	call grel,size
	cmpjl
	cmp0
	je l2979
	jmp l2981
l2980:
	add $5,1
	pop $5
	jmp l2978
l2981:
	push $5
	call grel,get
	pop $1
	push $1
	push $2
	cthis cposlen
	push ibadajl
	cmpjl
	cmp0
	je l2983
	push $2
	spushs
	push $1
	spop $a
	call [$a],cwithin
	jmp l2985
l2983:
	push 0
	jmp l2985
l2984:
	push 1
l2985:
	cmp0
	je l2986
	localint $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2988
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $1
	spushs
	spop $a
	call [$a],ilodx
	pop $b
	popax
	sub $a,$b
	pop $6
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $1
	spushs
	spop $a
	call [$a],ilody
	pop $b
	popax
	sub $a,$b
	pop $7
	jmp l2987
l2988:
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $7
	pop $6
l2987:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2990
	push $1
	cthis mwyjmij
	push $2
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2992
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new gmimgvecpuz,[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],add
	push $3
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l2991
l2992:
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	pop $3
l2991:
	push $1
	call grel,remove
	push $3
	call grel,add
	jmp l2989
l2990:
	push $2
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l2994
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l2993
l2994:
	push $1
	spushs
	push $2
	spop $a
	call [$a],addgr
l2993:
	push $1
	pop $3
l2989:
	push $3
	spushs
	push $6
	push $7
	spop $a
	call [$a],imsetpos
	push $3
	spushs
	push $2
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	call grel,sortimgs
	push $3
	pop sactpuz
	cthis tpuzzle_join
	ret
l2986:
	jmp l2980
l2979:
	push $2
	call grel,add
l2977:
l2969:
	cthis tpuzzle_putbad
	end method
	method tpuzzle_end
	end method
	method tpuzzle_get
	end method
	method tpuzzle_blit
	end method
	method tpuzzle_join
	end method
	method tpuzzle_put
	end method
	method tpuzzle_putbad
	end method
	method rotopuz
	push puzangle
	push 1
	pop $b
	popax
	add $a,$b
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	pop puzangle
	push "ftrot"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	push puzangle
	push 90
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setrotate
	end method
	end class

	new int,bnewpuz
	push sgmpuzpref
	push "nestor"
	cmpje
	pop bnewpuz
	method przygotuj_matryce
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push 65
	spushs
	spop $h
	call $h,igetsc
	pop $6
	new gmimgvec,grmat
	push "grmat"
	push $1
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push bnewpuz
	cmp0
	je l2996
	push 0
	push $6
	call grmat,move
l2996:
	new gmimgvec,grmask
	push $2
	push "null"
	cmpjne
	cmp0
	je l2998
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	jmp l3000
l2998:
	push 0
	jmp l3000
l2999:
	push 1
l3000:
	cmp0
	je l3001
	push "grmask"
	push $2
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push bnewpuz
	cmp0
	je l3003
	push 0
	push $6
	call grmask,move
l3003:
	push bPuzHint
	cmp0
	je l3005
	push "imgbkg"
	call grmask,blitto
l3005:
l3001:
	push $4
	spushs
	spop $e
	new gmimgvec,[$e]
	push "impuz"
	push $3
	push 0
	cthis newimg
	call grmat,first
	spushs
	spop $a
	call [$a],getpx
	call grmat,first
	spushs
	spop $a
	call [$a],getpy
	call impuz,setpos
	new filter,ft2
	localint $7
	push 0
	pop $7
l3006:
	push $7
	call grmat,size
	cmpjl
	cmp0
	je l3007
	jmp l3009
l3008:
	add $7,1
	pop $7
	jmp l3006
l3009:
	localstring $8
	push "im"
	push $4
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	spushs
	spop $e
	new img,[$e]
	push $8
	spushs
	push "framenr"
	push $7
	spop $a
	call [$a],var2
	push $8
	spushs
	push "imsetpos"
	push "global22"
	spop $a
	call [$a],addmethod
	localstring $9
	push $7
	call grmat,get
	pop $9
	push $8
	spushs
	push $9
	spushs
	spop $a
	call [$a],getw
	push $5
	pop $b
	popax
	add $a,$b
	push $9
	spushs
	spop $a
	call [$a],geth
	push $5
	pop $b
	popax
	add $a,$b
	cthis transparent
	spop $a
	call [$a],create
	push $8
	spushs
	push $9
	spushs
	spop $a
	call [$a],getpx
	push $9
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $8
	spushs
	push A
	push "ilodx"
	push $8
	spushs
	spop $a
	call [$a],getpx
	push "ilody"
	push $8
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],vars2
	push $5
	push 0
	cmpja
	cmp0
	je l3011
	push $9
	spushs
	push $5
	push $5
	spop $a
	call [$a],move
	push $9
	call ft2,link
	push 1
	call ft2,setmaskalpha
	push 92
	call ft2,setopacity
	push $8
	spushs
	push $9
	spop $a
	call [$a],blit
	call ft2,unlink
	push $9
	spushs
	push $5
	popax
	sub 0,$a
	push $5
	popax
	sub 0,$a
	spop $a
	call [$a],move
l3011:
	push $8
	spushs
	push "impuz"
	push $9
	spop $a
	call [$a],blitmask
	push $7
	call grmask,size
	cmpjl
	cmp0
	je l3013
	push $8
	spushs
	push $7
	call grmask,get
	spop $a
	call [$a],blit
l3013:
	push bPuzRotate
	cmp0
	je l3015
	push "ftrot"
	push $8
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	spop $e
	new filter,[$e]
	push $9
	spushs
	push $8
	spop $a
	call [$a],link
	push $9
	spushs
	push 1
	spop $a
	call [$a],setpivottype
	push $9
	spushs
	push 0
	spop $a
	call [$a],setsmooth
	push $8
	spushs
	push "puzangle"
	push 4
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],var2
	push $8
	spushs
	spop $a
	call [$a],rotopuz
l3015:
	push $4
	spushs
	push $8
	spop $a
	call [$a],add
	jmp l3008
l3007:
	call grmask,hide
	delete ft2
	call grmat,deleteallgm
	delete grmat
	push 1
	call impuz,setz
	call impuz,hide
	end method
	method global22
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push ilodx
	pop $b
	popax
	add $a,$b
	push $2
	push ilody
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	game PuzzleB
	parent MermaidStd
	parent TPuzzle2
	method init
	push "mg_puzzle"
	clparent MermaidStd,init
	push A
	push "getpuz 60"
	push "putpuz 60"
	push "ok 40"
	push "podnies1"
	push "zwyciestwo2"
	push "rewind1 70"
	push "pageflip1 80"
	cthis sfxs=
	push "imgbkg"
	cthis isjpgame
	cmp0
	je l3017
	push "bgpuzzle.jpg"
	jmp l3016
l3017:
	push "bgpuzzle.png"
l3016:
	push 0
	cthis newimg
	push "matryca_"
	push iPuzRow
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push iPuzCol
	pop $b
	popax
	add $a,$b
	push "maska_"
	push iPuzRow
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push iPuzCol
	pop $b
	popax
	add $a,$b
	push "$scripts/"
	push sgmpuzpref
	pop $b
	popax
	add $a,$b
	push "/mg_puzzle/imgs/p_puz"
	pop $b
	popax
	add $a,$b
	push iMenuPuzid
	pop $b
	popax
	add $a,$b
	push ".jpg"
	pop $b
	popax
	add $a,$b
	push "grel"
	push 0
	cthis przygotuj_matryce
	push "imgbkg"
	push "grel"
	push iPuzRow
	push iPuzCol
	push 0
	push 0
	cthis tinit
	push bnewpuz
	cmp0
	je l3019
	push A
	push "down.pyz 200"
	push "up.pyz 200"
	push "butroto.pyzH 950"
	cthis imgs=
	push "anleft"
	call anup,addtogamevars
	push "anright"
	call andown,addtogamevars
	jmp l3018
l3019:
	push A
	push "left.pyz 200"
	push "right.pyz 200"
	push "butroto.pyzH 950"
	cthis imgs=
	localdef $1
	push igmoffsety
	push iResY
	pop $b
	popax
	add $a,$b
	call anleft,geth
	pop $b
	popax
	sub $a,$b
	push 30
	spushs
	spop $h
	call $h,igetsc
	pop $b
	popax
	sub $a,$b
	pop $1
	localint $2
	push 30
	spushs
	spop $h
	call $h,igetsc
	pop $2
	push igmoffsetx
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	call anleft,ansetbpos
	push igmoffsetx
	push iResX
	pop $b
	popax
	add $a,$b
	call anright,getw
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	sub $a,$b
	push $1
	call anright,ansetbpos
l3018:
	call anbutroto,Button_addstd
	call anleft,Button_std
	call anright,Button_std
	push "anleft"
	call butgame,add
	push "anright"
	call butgame,add
	new int,strzalkax
	push 5
	pop strzalkax
	cthis checktouchpad
	neg
	cmp0
	je l3021
	cthis white
	push 64
	push 1500
	call anleft,imgbuildoverlay
	cthis white
	push 64
	push 1500
	call anright,imgbuildoverlay
l3021:
	new int,rewindspeed
	push 20
	pop rewindspeed
	push "timleft"
	push "PuzzleB0"
	cthis cycle=
	push "timright"
	push "PuzzleB1"
	cthis cycle=
	localdef $2
	push 6
	spushs
	spop $h
	call $h,igetsc
	pop $2
	localdef $3
	push 54
	spushs
	spop $h
	call $h,igetsc
	pop $3
	push bnewpuz
	cmp0
	je l3045
	push $2
	push $3
	call anleft,getcx
	push igmapph
	push $2
	pop $b
	popax
	sub $a,$b
	new Rect,rec2
	jmp l3044
l3045:
	push $2
	push $3
	push igmappw
	push $2
	pop $b
	popax
	sub $a,$b
	call anleft,getcy
	new Rect,rec2
l3044:
	call rec2,PuzzleB2
	new gmimgvec,grpes
	new int,ipuzheight
	call grel,first
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop ipuzheight
	localint $4
	push 0
	pop $4
l3046:
	push $4
	call grel,size
	cmpjl
	cmp0
	je l3047
	jmp l3049
l3048:
	add $4,1
	pop $4
	jmp l3046
l3049:
	push $4
	call grel,get
	cthis mwstaw
	jmp l3048
l3047:
	cthis cbutexit
	cthis cbutmusic
	push bPlayMusic
	cmp0
	je l3051
	cthis play_music
l3051:
	cthis cutscene
	push "PuzzleB3"
	call ccs,enter
	end method
	method PuzzleB0
	cthis advstdstate
	cmp0
	je l3023
	call grpes,size
	jmp l3025
l3023:
	push 0
	jmp l3025
l3024:
	push 1
l3025:
	cmp0
	je l3026
	localdef $1
	call grpes,first
	pop $1
	push bnewpuz
	cmp0
	je l3028
	push 0
	push rewindspeed
	call grpes,move
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	spop $a
	call [$a],getpy
	call anleft,getey
	push strzalkax
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l3030
	push 0
	call anleft,getey
	push strzalkax
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	call grpes,move
l3030:
	jmp l3027
l3028:
	push rewindspeed
	push 0
	call grpes,move
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	spop $a
	call [$a],getpx
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l3032
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push 0
	call grpes,move
l3032:
l3027:
	push $1
	spushs
	spop $a
	call [$a],mlink
	cthis play
l3026:
	end method
	method PuzzleB1
	cthis advstdstate
	cmp0
	je l3034
	call grpes,size
	jmp l3036
l3034:
	push 0
	jmp l3036
l3035:
	push 1
l3036:
	cmp0
	je l3037
	localdef $1
	call grpes,last
	pop $1
	push bnewpuz
	cmp0
	je l3039
	push 0
	push rewindspeed
	popax
	sub 0,$a
	call grpes,move
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	spop $a
	call [$a],getey
	call anright,getpy
	push strzalkax
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3041
	push 0
	call anright,getpy
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	call grpes,move
l3041:
	jmp l3038
l3039:
	push rewindspeed
	popax
	sub 0,$a
	push 0
	call grpes,move
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	spop $a
	call [$a],getex
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3043
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	push 0
	call grpes,move
l3043:
l3038:
	push $1
	spushs
	spop $a
	call [$a],mlink
	cthis play
l3037:
	end method
	method PuzzleB2
	push "gmimgvecpuz"
	call vecgr,add
	end method
	method PuzzleB3
	cthis unlockall
	cthis advsetstdstate
	end method
	method play_music
	end method
	method stop_music
	end method
	method munlink
	push bPuzRotate
	cmp0
	je l3053
	push "ftrot"
	cthis getname
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],unlink
l3053:
	end method
	method mlink
	push bPuzRotate
	cmp0
	je l3055
	localdef $1
	push "ftrot"
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],link
	push $1
	spushs
	push 0
	spop $a
	call [$a],setsmooth
	push $1
	spushs
	push puzangle
	push 90
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setrotate
l3055:
	end method
	method mwstaw
	localstring $1
	pop $1
	localint $2
	push 5
	pop $2
	localint $3
	localint $4
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push bnewpuz
	cmp0
	je l3057
	call grpes,size
	cmp0
	je l3059
	call grpes,last
	spushs
	spop $a
	call [$a],getpy
	call grpes,last
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l3058
l3059:
	call anleft,getey
	pop $4
l3058:
	localdef $5
	call anleft,getcx
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $5
	push $5
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	push igmappw
	push $2
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l3061
	push igmappw
	push $2
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	pop $5
l3061:
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	push $5
	push $4
	push strzalkax
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],mlink
	push $1
	spushs
	push 0
	call anleft,getey
	push strzalkax
	pop $b
	popax
	add $a,$b
	push igmappw
	call anright,getpy
	push strzalkax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],clip
	jmp l3056
l3057:
	call grpes,size
	cmp0
	je l3063
	call grpes,last
	spushs
	spop $a
	call [$a],getpx
	call grpes,last
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l3062
l3063:
	call anleft,getex
	pop $3
l3062:
	localdef $6
	call anleft,getcy
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $6
	push $6
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	add $a,$b
	push igmapph
	push $2
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l3065
	push igmapph
	push $2
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	pop $6
l3065:
	push $1
	spushs
	spop $a
	call [$a],munlink
	push $1
	spushs
	push $3
	push strzalkax
	pop $b
	popax
	add $a,$b
	push $6
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],mlink
	push $1
	spushs
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	push 0
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push igmapph
	spop $a
	call [$a],clip
l3056:
	push $1
	call grpes,add
	end method
	method mwyjmij
	localstring $1
	pop $1
	localint $2
	push $1
	call grpes,find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l3067
	ret
l3067:
	push $1
	spushs
	push 0
	push 0
	push igmappw
	push igmapph
	spop $a
	call [$a],clip
	push $1
	call grpes,remove
	push bnewpuz
	cmp0
	je l3069
	localint $3
	push $2
	pop $3
l3070:
	push $3
	call grpes,size
	cmpjl
	cmp0
	je l3071
	jmp l3073
l3072:
	add $3,1
	pop $3
	jmp l3070
l3073:
	push $3
	call grpes,get
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	popax
	sub 0,$a
	push strzalkax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],move
	jmp l3072
l3071:
	jmp l3068
l3069:
	localint $3
	push $2
	pop $3
l3074:
	push $3
	call grpes,size
	cmpjl
	cmp0
	je l3075
	jmp l3077
l3076:
	add $3,1
	pop $3
	jmp l3074
l3077:
	push $3
	call grpes,get
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	popax
	sub 0,$a
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l3076
l3075:
l3068:
	call grpes,empty
	cmp0
	je l3079
	push 0
	call fxrewind1,stop
l3079:
	end method
	method tpuzzle_get
	call fxgetpuz,play
	call grel,getsfound
	cthis mwyjmij
	end method
	method tpuzzle_putbad
	call fxputpuz,play
	end method
	method tpuzzle_blit
	call fxpodnies1,play
	end method
	method tpuzzle_join
	call fxpodnies1,play
	end method
	method tpuzzle_end
	call fxok,play
	call grend,hide
	push "state_won"
	pop sgmstate
	call impuz,show
	push igmogg
	cmp0
	je l3081
	call fxzwyciestwo2,play
	jmp l3080
l3081:
	call fxzwyciestwo2,play
l3080:
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	push sactpuz
	push "null"
	cmpjne
	cmp0
	je l3083
	push sactpuz
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpje
	cmp0
	je l3085
	push bnewpuz
	neg
	cmp0
	je l3087
	push sactpuz
	spushs
	spop $a
	call [$a],getcy
	call anleft,getpy
	cmpja
	jmp l3089
l3087:
	push 0
	jmp l3089
l3088:
	push 1
l3089:
	cmp0
	jne l3091
	push bnewpuz
	cmp0
	je l3092
	push sactpuz
	spushs
	spop $a
	call [$a],getcx
	call anleft,getpx
	cmpja
	jmp l3094
l3092:
	push 0
	jmp l3094
l3093:
	push 1
l3094:
	jmp l3095
l3090:
	push 0
	jmp l3095
l3091:
	push 1
l3095:
	jmp l3096
l3085:
	push 0
	jmp l3096
l3086:
	push 1
l3096:
	cmp0
	je l3097
	call fxrewind1,play
	push sactpuz
	cthis mwstaw
	jmp l3084
l3097:
	push sactpuz
	call rec2,fit
l3084:
l3083:
	end method
	method cmov_SET
	cthis getmover
	pop ssetpuz
	push ssetpuz
	spushs
	spop $a
	call [$a],gettype
	push spuztyp
	cmpjne
	cmp0
	je l3099
	push "null"
	pop ssetpuz
	cthis cmov_PUT
	jmp l3098
l3099:
	cthis free
	cthis showoverlay
	push ssetpuz
	call rec2,fit
	call sndfxmoveon2,play
	push ssetpuz
	cthis mwyjmij
l3098:
	end method
	method mouse_lclick
	push sgmstate
	push "state_won"
	cmpje
	cmp0
	je l3101
	push "state_exit"
	pop sgmstate
	jmp l3100
l3101:
	push sgmstate
	push "state_exit"
	cmpje
	cmp0
	je l3103
	cthis mtomenu
l3103:
l3100:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	cthis advstdstate
	cmp0
	je l3105
	call grpes,size
	jmp l3107
l3105:
	push 0
	jmp l3107
l3106:
	push 1
l3107:
	cmp0
	je l3108
	push $1
	push $2
	push 1
	push 1
	call anleft,isin
	cmp0
	je l3110
	call fxrewind1,playloop
	push 1
	call timleft,stop
	jmp l3109
l3110:
	push $1
	push $2
	push 1
	push 1
	call anright,isin
	cmp0
	je l3112
	call fxrewind1,playloop
	push 1
	call timright,stop
l3112:
l3109:
l3108:
	end method
	method mouse_lrel
	call timleft,isplaying
	cmp0
	je l3114
	push 0
	call timleft,stop
	push 0
	call fxrewind1,stop
l3114:
	call timright,isplaying
	cmp0
	je l3116
	push 0
	call timright,stop
	push 0
	call fxrewind1,stop
l3116:
	end method
	method mtomenu
	push "MenuImg"
	cthis stdexit
	end method
	method mouse_rclick
	end method
	method butclick_anbutroto
	cthis advstdstate
	cmp0
	jne l3119
	push sgmstate
	push "state_rotobut"
	cmpje
	jmp l3120
l3118:
	push 0
	jmp l3120
l3119:
	push 1
l3120:
	cmp0
	je l3121
	localint $1
	push ssetpuz
	spushs
	spop $a
	call [$a],getcx
	pop $1
	localint $2
	push ssetpuz
	spushs
	spop $a
	call [$a],getcy
	pop $2
	push ssetpuz
	spushs
	spop $a
	call [$a],rotopuz
	push ssetpuz
	call rec2,fit
	push ssetpuz
	spushs
	spop $a
	call [$a],getcx
	popax
	sub $1,$a
	pop $1
	push ssetpuz
	spushs
	spop $a
	call [$a],getcy
	popax
	sub $2,$a
	pop $2
	push ssetpuz
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	cthis showoverlay
	push ssetpuz
	spushs
	spop $a
	call [$a],imgetoverlay
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	push "state_rotobut"
	pop sgmstate
	call fxpageflip1,play
l3121:
	end method
	method butclick_anbutexit
	cthis mtomenu
	end method
	method key_down
	push igmdebug
	cmp0
	je l3123
	push "s"
	call keyboard,iskey
	jmp l3125
l3123:
	push 0
	jmp l3125
l3124:
	push 1
l3125:
	cmp0
	je l3126
	push ssetpuz
	push "null"
	cmpjne
	cmp0
	je l3128
	push ssetpuz
	spushs
	spop $a
	call [$a],imgprint
l3128:
l3126:
	end method
	end game

	game MenuXmas
	parent MermaidStd
	method init
	push "mainmenu"
	clparent MermaidStd,init
	end method
	end game

	new int,iKwadratyBad
	push 1
	pop iKwadratyBad
	new int,iKwadratyOk
	push 1
	pop iKwadratyOk
	new int,iKwadratyMiejsca
	push 7
	pop iKwadratyMiejsca
	game Kwadraty
	parent MermaidStd
	method init
	push "kwadraty"
	clparent MermaidStd,init
	push A
	push "bkg.jpg"
	push "sqr.pyzGH 20"
	cthis imgs=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	call grels,setz
	new int,iilekwadratow
	push iKwadratyBad
	push iKwadratyOk
	pop $b
	popax
	add $a,$b
	pop iilekwadratow
	new vector,vsq
	localint $1
	push 1
	pop $1
l3129:
	push $1
	call grsqr,size
	cmpjle
	cmp0
	je l3130
	jmp l3132
l3131:
	add $1,1
	pop $1
	jmp l3129
l3132:
	localdef $2
	push "grk"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new gmimgvec,[$e]
	localint $3
	push 0
	pop $3
l3133:
	push $3
	call grels,size
	cmpjl
	cmp0
	je l3134
	jmp l3136
l3135:
	add $3,1
	pop $3
	jmp l3133
l3136:
	push $1
	push $3
	call grels,get
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	cmpje
	cmp0
	je l3138
	push $2
	spushs
	push $3
	call grels,get
	spop $a
	call [$a],add
l3138:
	jmp l3135
l3134:
	push $2
	spushs
	spop $a
	call [$a],size
	push iKwadratyBad
	cmpjae
	cmp0
	je l3140
	push $1
	call vsq,add
l3140:
	jmp l3131
l3130:
	call vsq,hash
	new gmimgvec,grkwadraty
	new string,slastimg
	push "null"
	pop slastimg
	new int,ipostate
	push 0
	pop ipostate
	new gmimgvec,grimgs
	localint $4
	push iKwadratyMiejsca
	call vsq,size
	cmpjle
	cmp0
	je l3142
	push iKwadratyMiejsca
	jmp l3141
l3142:
	call vsq,size
l3141:
	pop $4
	push 0
	pop $1
l3143:
	push $1
	push $4
	cmpjl
	cmp0
	je l3144
	jmp l3146
l3145:
	add $1,1
	pop $1
	jmp l3143
l3146:
	push $1
	push $1
	call vsq,get
	cthis buildsqr
	jmp l3145
l3144:
	call grimgs,hash
	push 0
	pop $1
l3147:
	push $1
	call grimgs,size
	cmpjl
	cmp0
	je l3148
	jmp l3150
l3149:
	add $1,1
	pop $1
	jmp l3147
l3150:
	push $1
	call grimgs,get
	cthis putsimg
	jmp l3149
l3148:
	new int,ilegood
	push iKwadratyMiejsca
	pop ilegood
	cthis stdenter
	end method
	method buildsqr
	localint $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push "grk"
	push $2
	pop $b
	popax
	add $a,$b
	pop $3
	localint $4
	push 0
	pop $4
l3151:
	push $4
	push $3
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l3152
	jmp l3154
l3153:
	add $4,1
	pop $4
	jmp l3151
l3154:
	push $3
	spushs
	push $4
	spop $a
	call [$a],get
	spushs
	push "bontafel"
	push 2
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],var2
	jmp l3153
l3152:
	push $3
	call grkwadraty,add
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
l3155:
	push $6
	push iilekwadratow
	cmpjl
	cmp0
	je l3156
	jmp l3158
l3157:
	add $6,1
	pop $6
	jmp l3155
l3158:
	localdef $7
	push "img"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	spushs
	spop $e
	new img,[$e]
	localdef $8
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call grsqr,get
	pop $8
	push $7
	spushs
	push $8
	spop $a
	call [$a],imgclonesize
	localdef $9
	push "imgbg"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $6
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	spop $e
	new img,[$e]
	push $9
	spushs
	push $8
	spushs
	spop $a
	call [$a],getw
	push $8
	spushs
	spop $a
	call [$a],geth
	cthis white
	push 32
	spop $a
	call [$a],create
	push $9
	spushs
	push $8
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	push $9
	spushs
	push $8
	spushs
	spop $a
	call [$a],getpx
	push $8
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $9
	spushs
	spop $a
	call [$a],show
	push $9
	spushs
	push 2
	cthis black
	push 64
	spop $a
	call [$a],imgborders
	push $7
	call grimgs,add
	push $6
	push iKwadratyOk
	cmpjl
	cmp0
	je l3160
	push $7
	spushs
	push "bimgood"
	spop $a
	call [$a],var
l3160:
	push $6
	pop $5
	localint $4
	push 0
	pop $4
l3161:
	push $4
	call grels,size
	cmpjl
	cmp0
	je l3162
	jmp l3164
l3163:
	add $4,1
	pop $4
	jmp l3161
l3164:
	localdef $10
	push $4
	call grels,get
	pop $10
	push $10
	spushs
	push "bontafel"
	spop $a
	call [$a],hasvar
	cmp0
	je l3166
	push $3
	spushs
	push $10
	spop $a
	call [$a],contains
	cmp0
	je l3168
	push $7
	spushs
	push "bimgood"
	spop $a
	call [$a],hasvar
	cmp0
	je l3170
	push $10
	spushs
	spop $a
	call [$a],bontafel
	cmp0
	je l3172
	push $10
	spushs
	spop $a
	call [$a],hide
	jmp l3171
l3172:
	push $7
	spushs
	push $10
	spop $a
	call [$a],blit
l3171:
	jmp l3169
l3170:
	push $3
	spushs
	push $10
	spop $a
	call [$a],find
	push $5
	cmpje
	cmp0
	je l3174
	push $10
	spushs
	spop $a
	call [$a],bontafel
	cmp0
	je l3176
	jmp l3175
l3176:
	push $7
	spushs
	push $10
	spop $a
	call [$a],blit
l3175:
	push 1
	popax
	sub 0,$a
	pop $5
	jmp l3173
l3174:
	push $10
	spushs
	spop $a
	call [$a],bontafel
	cmp0
	je l3178
	push $7
	spushs
	push $10
	spop $a
	call [$a],blit
l3178:
l3173:
l3169:
	jmp l3167
l3168:
	push $10
	spushs
	spop $a
	call [$a],bontafel
	neg
	cmp0
	je l3180
	push $7
	spushs
	push $10
	spop $a
	call [$a],blit
l3180:
l3167:
	jmp l3165
l3166:
	push $7
	spushs
	push $10
	spop $a
	call [$a],blit
l3165:
	jmp l3163
l3162:
	jmp l3157
l3156:
	end method
	method putsimg
	localstring $1
	pop $1
	localdef $2
	call grels,first
	pop $2
	localint $3
	push 5
	spushs
	spop $h
	call $h,igetsc
	pop $3
	push slastimg
	push "null"
	cmpje
	cmp0
	je l3182
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $3
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	jmp l3181
l3182:
	push ipostate
	push 0
	cmpje
	cmp0
	je l3184
	push $1
	spushs
	push slastimg
	spushs
	spop $a
	call [$a],getpx
	push slastimg
	spushs
	spop $a
	call [$a],getey
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l3186
	push 1
	pop ipostate
l3186:
	jmp l3183
l3184:
	push ipostate
	push 1
	cmpje
	cmp0
	je l3188
	push $1
	spushs
	push slastimg
	spushs
	spop $a
	call [$a],getex
	push $3
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],getex
	push $2
	spushs
	spop $a
	call [$a],getex
	cmpja
	cmp0
	je l3190
	push 2
	pop ipostate
l3190:
	jmp l3187
l3188:
	push ipostate
	push 2
	cmpje
	cmp0
	je l3192
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getex
	push $3
	pop $b
	popax
	add $a,$b
	push slastimg
	spushs
	spop $a
	call [$a],getpy
	push $3
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l3192:
l3187:
l3183:
l3181:
	push $1
	pop slastimg
	end method
	method mouse_lclick
	cthis advstdstate
	cmp0
	je l3194
	call mouse,getpos
	push 1
	push 1
	call grimgs,isin
	cmp0
	je l3196
	localdef $1
	call grimgs,getsfound
	pop $1
	push $1
	spushs
	push "bimgood"
	spop $a
	call [$a],hasvar
	cmp0
	je l3198
	sub ilegood,1
	pop ilegood
	push $1
	call grimgs,remove
	push $1
	spushs
	cthis white
	push 64
	push 0
	spop $a
	call [$a],imgbuildoverlay
	push ilegood
	push 0
	cmpje
	cmp0
	je l3200
	push "Kwadraty"
	call gameapi,play
l3200:
	jmp l3197
l3198:
	push $1
	spushs
	cthis red
	push 64
	push 0
	spop $a
	call [$a],imgbuildoverlay
l3197:
l3196:
l3194:
	end method
	end game

