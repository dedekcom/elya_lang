; Dominik Dagiel   ix 2005

	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l2
	push $1
	push $2
	cthis varnew
l2:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global0"
	cthis addmethod
	end method
	method global0
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global1"
	cthis addmethod
	end method
	method global1
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l3:
	push A
	push $2
	cmpjne
	cmp0
	je l4
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l3
l4:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l5:
	push A
	push $3
	cmpjne
	cmp0
	je l6
	push $1
	neg
	cmp0
	je l8
	push $2
	push $3
	cmpje
	pop $1
l8:
	localdef $3
	pop $3
	jmp l5
l6:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l9:
	push $2
	push A
	cmpjne
	cmp0
	je l10
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l9
l10:
	end method
	method case
	localdef $1
	pop $1
	call $1,in
	cmp0
	je l12
	push $1
	jmp l11
l12:
	push "null"
l11:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global2"
	cthis addmethod
	end method
	method global2
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l13:
	push $2
	push A
	cmpjne
	cmp0
	je l14
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l13
l14:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l16
	ret
l16:
l17:
	push $1
	push $2
	cmpjle
	cmp0
	je l18
	jmp l20
l19:
	add $1,1
	pop $1
	jmp l17
l20:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l19
l18:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l22
	ret
l22:
l23:
	push $1
	push $2
	cmpjae
	cmp0
	je l24
	jmp l26
l25:
	sub $1,1
	pop $1
	jmp l23
l26:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l25
l24:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l27:
	push $5
	push $1
	cmpjl
	cmp0
	je l28
	jmp l30
l29:
	add $5,1
	pop $5
	jmp l27
l30:
	push 0
	pop $4
l31:
	push $4
	push $2
	cmpjl
	cmp0
	je l32
	jmp l34
l33:
	add $4,1
	pop $4
	jmp l31
l34:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l33
l32:
	jmp l29
l28:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	end method
	method get
	add _iile,1
	pop _iile
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	end class

	class classvsigobj
	method init
	new int,bplaying
	push 0
	pop bplaying
	end method
	method play
	push 1
	pop bplaying
	end method
	method stop
	localint $1
	pop $1
	push 0
	pop bplaying
	push $1
	cmp0
	je l36
	cthis onfinish
l36:
	end method
	method isplaying
	push bplaying
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l37:
	push $2
	push $3
	cmpjl
	cmp0
	je l38
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l37
l38:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l40
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l40:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l43
	push $3
	push 0
	cmpjle
	jmp l44
l42:
	push 0
	jmp l44
l43:
	push 1
l44:
	cmp0
	je l45
	ret
l45:
	push $3
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l46:
	push $2
	push 0
	cmpja
	cmp0
	je l47
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l46
l47:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis hasvar
	neg
	cmp0
	je l49
	push $1
	cthis add
l49:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l51
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l51:
	end method
	method free
	call vn,free
	call vec,free
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l52:
	push $2
	push $3
	cmpjl
	cmp0
	je l53
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l55
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l57
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l59
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l59:
	jmp l56
l57:
	push 100
	call gameapi,setmusicvol
l56:
	push $6
	call gameapi,playmusic
	jmp l54
l55:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l61
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l63
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l65
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l65:
	jmp l62
l63:
	push 100
	call _sndbgr,setvol
l62:
	cthis playbgr
	jmp l60
l61:
	add $2,1
	pop $2
l60:
l54:
	jmp l52
l53:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	new int,igmstate
	new int,igmdebug
	new int,igmeasy
	new int,igmdemo
	new int,igmbegin
	new string,sgmfontfile
	push "configs/fonts/bold.ttf"
	pop sgmfontfile
	new int,iResX
	push 800
	pop iResX
	new int,iResY
	push 600
	pop iResY
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l67
	push sgmfontfile
	pop $1
l67:
	push ".ttf"
	call $1,contains
	cmp0
	je l69
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l69:
	push $1
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l71
	ret
l71:
	sub $3,1
	pop $3
l72:
	push $3
	push 0
	cmpjae
	cmp0
	je l73
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l72
l73:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	ret
	end method
	method getsndpath
	push _sclwavpath
	ret
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l75
	ret
l75:
	localint $5
	push 0
	pop $5
l76:
	push $5
	push $4
	cmpjl
	cmp0
	je l77
	jmp l79
l78:
	add $5,1
	pop $5
	jmp l76
l79:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l78
l77:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l81
	ret
l81:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l82:
	push $6
	push $5
	cmpjl
	cmp0
	je l83
	jmp l85
l84:
	add $6,1
	pop $6
	jmp l82
l85:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l87
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l87:
	jmp l84
l83:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l88:
	push $8
	push $7
	cmpjl
	cmp0
	je l89
	jmp l91
l90:
	add $8,1
	pop $8
	jmp l88
l91:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l90
l89:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l93
	push $1
	cthis looponfinish
	jmp l92
l93:
	push "H"
	call $2,contains
	cmp0
	je l95
	push $1
	cthis hideonfinish
l95:
l92:
	push "P"
	call $2,contains
	cmp0
	je l97
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l97:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l98:
	push $6
	push $4
	cmpjl
	cmp0
	je l99
	jmp l101
l100:
	add $6,1
	pop $6
	jmp l98
l101:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l103
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l103:
	jmp l100
l99:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l104:
	push $5
	push $4
	cmpjl
	cmp0
	je l105
	jmp l107
l106:
	add $5,1
	pop $5
	jmp l104
l107:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l106
l105:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],loadscript
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l109
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l109:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
	end method
	method setact
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsav
	method init
	new vector,vqsav
	push "string"
	call vqsav,type
	new vector,vvqsav
	push "string"
	call vvqsav,type
	end method
	method free
	call vqsav,free
	call vvqsav,free
	end method
	method load
	localstring $1
	pop $1
	cthis free
	end method
	method save
	localstring $1
	pop $1
	end method
	method qadd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call vqsav,add
	push $2
	call vvqsav,add
	end method
	method qsave
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call vqsav,find
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l111
	push $1
	push $2
	cthis qadd
	jmp l110
l111:
	push $3
	push $2
	call vvqsav,set
l110:
	end method
	method qload
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call vqsav,find
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l113
	push $1
	push $2
	cthis qadd
	push $2
	ret
	jmp l112
l113:
	push $3
	call vvqsav,get
	ret
l112:
	end method
	end module

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l115
	push $1
	call vqst,add
l115:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	class classeasysaver
	method init
	new int,ilevel
	push 1
	popax
	sub 0,$a
	pop ilevel
	new db,dbl
	new string,slevelfile
	end method
	method getlevel
	push ilevel
	ret
	end method
	method setlevel
	localint $1
	pop $1
	push $1
	pop ilevel
	end method
	method getgame
	localint $1
	pop $1
	push $1
	push 0
	call dbl,get
	ret
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 1
	popax
	sub 0,$a
	call ilevel,load
	push $1
	pop slevelfile
	push $2
	call dbl,load
	end method
	method save
	localint $1
	call gameapi,getgamename
	call dbl,findbyrow
	pop $1
	push $1
	push ilevel
	cmpja
	cmp0
	je l117
	push $1
	pop ilevel
	push slevelfile
	call ilevel,save
l117:
	end method
	end class

	class classfullsave
	method init
	new db,dbsav
	new string,sstdfile
	push "saves/save.txt"
	pop sstdfile
	end method
	method save
	localstring $1
	pop $1
	push $1
	call dbsav,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbsav,load
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method _set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l119
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l118
l119:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l118:
	end method
	method _bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis _set
	end method
	method _get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l121
	push $2
	push 1
	call dbsav,get
	jmp l120
l121:
	push "null"
l120:
	ret
	end method
	method _is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l123
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l122
l123:
	push 0
l122:
	ret
	end method
	method _isnt
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l125
	push $3
	push 1
	call dbsav,get
	push $2
	cmpjne
	jmp l124
l125:
	push 0
l124:
	ret
	end method
	method _bis
	localstring $1
	pop $1
	push $1
	push 1
	cthis _is
	ret
	end method
	method gmset
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	cthis _set
	end method
	method gmget
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis _get
	ret
	end method
	method gmis
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	cthis _is
	ret
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	cthis _set
	end method
	method get
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	cthis _get
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	cthis _is
	ret
	end method
	method bset
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	cthis _set
	end method
	method bget
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	cthis _is
	ret
	end method
	method bis
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	pop $b
	popax
	add $a,$b
	push 1
	cthis _is
	ret
	end method
	method gbget
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis _get
	ret
	end method
	method gbis
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	push 1
	cthis _is
	ret
	end method
	end class

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l126
	push $1
	push $5
	cmpjle
	cmp0
	je l126
	push $2
	push $4
	cmpjae
	cmp0
	je l126
	push $2
	push $6
	cmpjle
	jmp l128
l126:
	push 0
	jmp l128
l127:
	push 1
l128:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l130
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l130
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l130
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l131
l129:
	push 0
	jmp l131
l130:
	push 1
l131:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l133
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l134
l132:
	push 0
	jmp l134
l133:
	push 1
l134:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l135
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l135
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l135
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l137
l135:
	push 0
	jmp l137
l136:
	push 1
l137:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l138
	push ilx
	push $6
	cmpjle
	cmp0
	je l138
	push ily
	push $5
	cmpjae
	cmp0
	je l138
	push ily
	push $7
	cmpjle
	jmp l140
l138:
	push 0
	jmp l140
l139:
	push 1
l140:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l141:
	push $2
	push $6
	cmpjne
	cmp0
	je l142
	push $3
	push $7
	cmpjne
	jmp l144
l142:
	push 0
	jmp l144
l143:
	push 1
l144:
	cmp0
	je l145
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l147
	push $2
	push $3
	ret
l147:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l141
l145:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l149
	push $1
	cthis play
l149:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l150
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l152
l150:
	push 0
	jmp l152
l151:
	push 1
l152:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l153:
	push $2
	cthis size
	cmpjl
	cmp0
	je l154
	jmp l156
l155:
	add $2,1
	pop $2
	jmp l153
l156:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l155
l154:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l157:
	push $1
	push iile
	cmpjl
	cmp0
	je l158
	jmp l160
l159:
	add $1,1
	pop $1
	jmp l157
l160:
	push $1
	call _vs,get
	neg
	cmp0
	je l162
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l162:
	jmp l159
l158:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _pos
	push 10
	call $1,getb
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l164
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l166
	spop $a
	push $1
	cthis copy
	jmp l165
l166:
	push "gmobjvec"
	cmpst
	jne l167
	spop $a
	push $1
	cthis copy
	jmp l165
l167:
	push "gmimgvec"
	cmpst
	jne l168
	spop $a
	push $1
	cthis copy
	jmp l165
l168:
	spop $a
	cthis free
	push $1
	cthis add
l165:
	jmp l163
l164:
	cthis free
	push $1
	cthis add
l163:
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l169:
	push $2
	cthis size
	cmpjl
	cmp0
	je l170
	jmp l172
l171:
	add $2,1
	pop $2
	jmp l169
l172:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l171
l170:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l173:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l174
	jmp l176
l175:
	add $2,1
	pop $2
	jmp l173
l176:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l175
l174:
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	call lsim,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l178
	push $1
	call lsim,add
l178:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l179:
	push $2
	push $1
	cmpjne
	cmp0
	je l180
	push $2
	cthis addbegin
	pop $2
	jmp l179
l180:
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l182
	push $1
	cthis addbegin
	jmp l181
l182:
	push $2
	push $3
	cmpjae
	cmp0
	je l184
	push $1
	cthis add
	jmp l183
l184:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l185:
	push $4
	push $2
	cmpja
	cmp0
	je l186
	jmp l188
l187:
	sub $4,1
	pop $4
	jmp l185
l188:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l187
l186:
	push $2
	push $1
	cthis set
l183:
l181:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l189:
	push $1
	cthis contains
	cmp0
	je l190
	push $1
	cthis remove
	jmp l189
l190:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l191:
	push $2
	cthis size
	cmpjl
	cmp0
	je l192
	jmp l194
l193:
	add $2,1
	pop $2
	jmp l191
l194:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l196
	push $2
	cthis removeat
l196:
	jmp l193
l192:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l197:
	push $2
	push $3
	cmpjle
	cmp0
	je l198
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l197
l198:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l200
	push $1
	call $1,rand
	cthis get
	jmp l199
l200:
	push "null"
l199:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l202
	localint $3
	push $2
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l203:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l204
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l206
	push "null"
	ret
l206:
	jmp l203
l204:
	push $3
	cthis get
	ret
l202:
	push "null"
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l208
l209:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l210
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l209
l210:
l208:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method nplay
	localint $1
	pop $1
	push "nplay"
	push $1
	cthis eval1
	end method
	method splay
	localstring $1
	pop $1
	push "splay"
	push $1
	cthis eval1
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l211:
	push $5
	push 0
	cmpjae
	cmp0
	je l212
	jmp l214
l213:
	sub $5,1
	pop $5
	jmp l211
l214:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l216
	push $5
	call lsim,get
	ret
l216:
	jmp l213
l212:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l217:
	push $5
	push 0
	cmpjae
	cmp0
	je l218
	jmp l220
l219:
	sub $5,1
	pop $5
	jmp l217
l220:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l222
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l222:
	jmp l219
l218:
	push 0
	ret
	end method
	method ssetframe
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l223:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l224
	jmp l226
l225:
	add $3,1
	pop $3
	jmp l223
l226:
	push $3
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],setframe
	jmp l225
l224:
	end method
	method isetframe
	localint $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l227:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l228
	jmp l230
l229:
	add $2,1
	pop $2
	jmp l227
l230:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l229
l228:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l231:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l232
	jmp l234
l233:
	add $3,1
	pop $3
	jmp l231
l234:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l233
l232:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l235:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l236
	jmp l238
l237:
	add $4,1
	pop $4
	jmp l235
l238:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l237
l236:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l239:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l240
	jmp l242
l241:
	add $5,1
	pop $5
	jmp l239
l242:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l241
l240:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l243:
	push $3
	cthis size
	cmpjl
	cmp0
	je l244
	jmp l246
l245:
	add $3,1
	pop $3
	jmp l243
l246:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l248
	push $3
	ret
l248:
	jmp l245
l244:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l249:
	push $3
	cthis size
	cmpjl
	cmp0
	je l250
	jmp l252
l251:
	add $3,1
	pop $3
	jmp l249
l252:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l254
	push $3
	ret
l254:
	jmp l251
l250:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l255:
	push $2
	cthis size
	cmpjl
	cmp0
	je l256
	jmp l258
l257:
	add $2,1
	pop $2
	jmp l255
l258:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l257
l256:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l259:
	push $3
	cthis size
	cmpjl
	cmp0
	je l260
	jmp l262
l261:
	add $3,1
	pop $3
	jmp l259
l262:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l261
l260:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l263:
	push $4
	cthis size
	cmpjl
	cmp0
	je l264
	jmp l266
l265:
	add $4,1
	pop $4
	jmp l263
l266:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l265
l264:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l267:
	push $2
	cthis size
	cmpjl
	cmp0
	je l268
	jmp l270
l269:
	add $2,1
	pop $2
	jmp l267
l270:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l272
	push 0
	ret
l272:
	jmp l269
l268:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l274
	ret
l274:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l275:
	push $6
	cthis size
	cmpjl
	cmp0
	je l276
	jmp l278
l277:
	add $6,1
	pop $6
	jmp l275
l278:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l280
	push $6
	pop $3
	push $5
	pop $4
l280:
	jmp l277
l276:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l282
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l283
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l285
l283:
	push 0
	jmp l285
l284:
	push 1
l285:
	jmp l286
l281:
	push 0
	jmp l286
l282:
	push 1
l286:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l288
	push _ix
	ret
l288:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l289:
	push $4
	push $1
	cmpjl
	cmp0
	je l290
	jmp l292
l291:
	add $4,1
	pop $4
	jmp l289
l292:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l294
	push $3
	pop $2
l294:
	jmp l291
l290:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l296
	push _iy
	ret
l296:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l297:
	push $4
	push $1
	cmpjl
	cmp0
	je l298
	jmp l300
l299:
	add $4,1
	pop $4
	jmp l297
l300:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l302
	push $3
	pop $2
l302:
	jmp l299
l298:
	push $2
	ret
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l304
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l304:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l305:
	push $3
	cthis size
	cmpjl
	cmp0
	je l306
	jmp l308
l307:
	add $3,1
	pop $3
	jmp l305
l308:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l307
l306:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l309:
	push $5
	push 0
	cmpjae
	cmp0
	je l310
	jmp l312
l311:
	sub $5,1
	pop $5
	jmp l309
l312:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l314
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l314:
	jmp l311
l310:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "actionnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l316
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l315
l316:
	push $1
	pop $3
l315:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l318
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l317
l318:
	push $1
	pop $3
l317:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	end class

	class gmmaskvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,isin
	ret
	end method
	end class

	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l320
	push $1
	cthis cbplay
	jmp l319
l320:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l322
	push $1
	cthis cbplay
l322:
l319:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l324
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l324:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l326
	push $1
	spushs
	spop $a
	call [$a],play
l326:
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l328
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l328:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l330
	push $1
	spushs
	spop $a
	call [$a],play
l330:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l332
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l334
l332:
	push 0
	jmp l334
l333:
	push 1
l334:
	cmp0
	je l335
	ret
l335:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l337
	push $1
	spushs
	spop $a
	call [$a],play
l337:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l339
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l341
l339:
	push 0
	jmp l341
l340:
	push 1
l341:
	cmp0
	je l342
	push $1
	spushs
	spop $a
	call [$a],play
l342:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	call $2,rand
	push 0
	cmpje
	cmp0
	je l344
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l344:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l346
	push $3
	push "null"
	cmpjne
	jmp l348
l346:
	push 0
	jmp l348
l347:
	push 1
l348:
	cmp0
	je l349
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l349:
	end method
	method cactsndstop
	localint $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l351
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l351:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l353
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l352
l353:
	push 0
l352:
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l355
	push 0
	pop iile
	ret
l355:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l356:
	push $3
	push $2
	cmpjl
	cmp0
	je l357
	jmp l359
l358:
	add $3,1
	pop $3
	jmp l356
l359:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l358
l357:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l361
	push 0
	pop iile
	ret
l361:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l363
	push iile
	call ilicz,rand
	pop ilicz
l363:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l364:
	push $3
	push iile
	cmpjl
	cmp0
	je l365
	jmp l367
l366:
	add $3,1
	pop $3
	jmp l364
l367:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l366
l365:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l369
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l369:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l371
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l370
l371:
	push 0
l370:
	end method
	method randplay
	localint $1
	pop $1
	push $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l373
	cthis play
l373:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l375
	cthis bgplay
l375:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l377
	cthis play
l377:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l379
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l378
l379:
	push itype
	push 1
	cmpje
	cmp0
	je l381
	push iile
	call ilicz,rand
	pop ilicz
l381:
l378:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l382:
	push $2
	push iile
	cmpjl
	cmp0
	je l383
	jmp l385
l384:
	add $2,1
	pop $2
	jmp l382
l385:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l384
l383:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l387
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l386
l387:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l386:
	end method
	method bgr=
	localdef $1
	pop $1
	push "sndbgr"
	push $1
	cthis csndplayloop
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method img=
	localdef $1
	pop $1
	localstring $2
	push 4
	call $1,strsube
	pop $2
	push ".pyz"
	call $1,contains
	cmp0
	je l389
	push "an"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	push 0
	cthis newanima
	jmp l388
l389:
	push "img"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	push 0
	cthis newimg
l388:
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l390:
	push $2
	push A
	cmpjne
	cmp0
	je l391
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	pop $2
	jmp l390
l391:
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l393
	push "L"
	call $1,strremove
	push 1
	pop $2
l393:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l395
	push "P"
	call $1,strremove
	push 1
	pop $3
l395:
	localdef $4
	push 100
	pop $4
	push " "
	call $1,contains
	cmp0
	je l397
	push " "
	call $1,strgetfrom
	pop $4
	push " "
	call $1,strgetto
	pop $1
l397:
	localstring $5
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push "sfx/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	push $5
	spushs
	push $4
	spop $a
	call [$a],setvol
	push $2
	cmp0
	je l399
	push $5
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l399:
	push $3
	cmp0
	je l401
	push $5
	spushs
	spop $a
	call [$a],play
l401:
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l403
	new TicksCounter,__timspeed
l403:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csetbkg
	localstring $1
	pop $1
	push "imgbkg"
	push $1
	push 0
	cthis newimg
	end method
	method cstdbkg
	push "bkg.png"
	cthis csetbkg
	end method
	method bkgpyz
	push "anbkg"
	push "bkg.pyz"
	push 0
	cthis newanima
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis csndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l405
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l405:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method csavevar
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	call gameapi,getgamename
	push $1
	push $2
	call clsav,varsave
	end method
	method cloadvar
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	push $1
	push $2
	call clsav,varload
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	push _iconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	add _iconstid,1
	pop _iconstid
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push "font"
	cthis newconst
	pop $9
	push $9
	spushs
	push sgmfontfile
	push $4
	spop $a
	call [$a],load
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l406:
	push $2
	push $3
	cmpjle
	cmp0
	je l407
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l406
l407:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l408:
	push $6
	push $5
	cmpjl
	cmp0
	je l409
	jmp l411
l410:
	add $6,1
	pop $6
	jmp l408
l411:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l410
l409:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l412:
	push $7
	push $5
	cmpjl
	cmp0
	je l413
	jmp l415
l414:
	add $7,1
	pop $7
	jmp l412
l415:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l414
l413:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l416:
	push $7
	push $5
	cmpjl
	cmp0
	je l417
	jmp l419
l418:
	add $7,1
	pop $7
	jmp l416
l419:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l418
l417:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l420:
	push $3
	push $4
	cmpjl
	cmp0
	je l421
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l423
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l426
	push $12
	push "sfx"
	cmpje
	jmp l427
l425:
	push 0
	jmp l427
l426:
	push 1
l427:
	cmp0
	je l428
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l430
	push $14
	push "sfx/"
	push $13
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l429
l430:
	push $14
	push $13
	cthis newsnd
l429:
	push $7
	push $6
	cmpjl
	cmp0
	je l432
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l434
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l433
l434:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l436
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l435
l436:
	push $12
	push "vol"
	cmpje
	cmp0
	je l438
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l438:
l435:
l433:
l432:
	jmp l424
l428:
	push $12
	push "group"
	cmpje
	cmp0
	je l440
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l442
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l444
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l444:
	jmp l441
l442:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l441:
	jmp l439
l440:
	push $12
	push "bank"
	cmpje
	cmp0
	je l446
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l448
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l450
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l449
l450:
	push $12
	push "vol"
	cmpje
	cmp0
	je l452
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l452:
l449:
l448:
	jmp l445
l446:
	push $12
	push "method"
	cmpje
	cmp0
	je l454
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l455:
	push $8
	push $9
	cmpjle
	cmp0
	je l456
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l455
l456:
	jmp l453
l454:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l458
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l457
l458:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l460
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l462
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l464
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l464:
l462:
	jmp l459
l460:
	push $12
	push "music"
	cmpje
	cmp0
	je l466
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l468
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l470
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l470:
l468:
l466:
l459:
l457:
l453:
l445:
l439:
l424:
l423:
	add $3,1
	pop $3
	jmp l420
l421:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	method chideanimas
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push "hide"
	clparent classevalfun,_eval0
	end method
	method cshowanimas
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push "show"
	clparent classevalfun,_eval0
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l471:
	push $2
	push $3
	cmpjle
	cmp0
	je l472
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l474
	push $2
	ret
	jmp l473
l474:
	add $2,1
	pop $2
l473:
	jmp l471
l472:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	ret
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l476
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l476:
	end method
	end class

	class classevalfun
	method init
	end method
	method _eval0
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
l477:
	push $2
	push $3
	cmpjle
	cmp0
	je l478
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	add $2,1
	pop $2
	jmp l477
l478:
	end method
	method _eval1
	localstring $1
	localint $2
	localint $3
	localstring $4
	localdef $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l479:
	push $2
	push $3
	cmpjle
	cmp0
	je l480
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	spushs
	push $5
	spop $d
	spop $a
	call [$a],[$d]
	add $2,1
	pop $2
	jmp l479
l480:
	end method
	method _eval2
	localstring $1
	localint $2
	localint $3
	localstring $4
	localdef $5
	localdef $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l481:
	push $2
	push $3
	cmpjle
	cmp0
	je l482
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	spushs
	push $5
	push $6
	spop $d
	spop $a
	call [$a],[$d]
	add $2,1
	pop $2
	jmp l481
l482:
	end method
	method eval0
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l484
	push $1
	push "null"
	cmpje
	cmp0
	je l486
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l485
l486:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l485:
l484:
	end method
	method eval1
	localstring $1
	localstring $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l488
	push $1
	push "null"
	cmpje
	cmp0
	je l490
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
	jmp l489
l490:
	push $1
	spushs
	push $2
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
l489:
l488:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l491:
	push $14
	push $6
	cmpjl
	cmp0
	je l492
	jmp l494
l493:
	add $14,1
	pop $14
	jmp l491
l494:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l495:
	push $8
	push $7
	cmpjle
	cmp0
	je l496
	jmp l498
l497:
	add $8,1
	pop $8
	jmp l495
l498:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l500
	push $13
	pop $10
	jmp l499
l500:
	push $8
	push 2
	cmpje
	cmp0
	je l502
	push $13
	pop $11
	jmp l501
l502:
	push $8
	push 3
	cmpje
	cmp0
	je l504
	push $13
	pop $12
l504:
l501:
l499:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l497
l496:
	push $4
	push "null"
	cmpjne
	cmp0
	je l506
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l508
l506:
	push 0
	jmp l508
l507:
	push 1
l508:
	cmp0
	je l509
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l505
l509:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l505:
	jmp l493
l492:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l511
	push sfxmon
	spushs
	spop $a
	call [$a],play
l511:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l513
	ret
l513:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l514:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l515
	jmp l517
l516:
	add $5,1
	pop $5
	jmp l514
l517:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l516
l515:
	end method
	method print
	localint $1
	push 0
	pop $1
l518:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l519
	jmp l521
l520:
	add $1,1
	pop $1
	jmp l518
l521:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l520
l519:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l522:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l523
	jmp l525
l524:
	add $2,1
	pop $2
	jmp l522
l525:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l524
l523:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l526:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l527
	jmp l529
l528:
	add $3,1
	pop $3
	jmp l526
l529:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l528
l527:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l531
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l530
l531:
	push "null"
l530:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l532:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l533
	jmp l535
l534:
	add $2,1
	pop $2
	jmp l532
l535:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l534
l533:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l537
	push iilebut
	pop $2
l537:
	localint $3
	push 0
	pop $3
l538:
	push $3
	push $2
	cmpjl
	cmp0
	je l539
	jmp l541
l540:
	add $3,1
	pop $3
	jmp l538
l541:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l540
l539:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l543
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l542
l543:
	push "null"
l542:
	ret
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l545
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l545:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l547
	ret
l547:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l549
	push sfxmon
	spushs
	spop $a
	call [$a],play
l549:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l551
	push 0
	jmp l550
l551:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l550:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l553
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l555
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l555:
	push $10
	push 2
	cmpja
	cmp0
	je l557
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l557:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l552
l553:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l552:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l558:
	push $4
	push $3
	cmpjl
	cmp0
	je l559
	jmp l561
l560:
	add $4,1
	pop $4
	jmp l558
l561:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l560
l559:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l563
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l562
l563:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l562:
	push $4
	cmp0
	je l565
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l565:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l567
	push $1
	push "null"
	cmpje
	cmp0
	je l569
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l568
l569:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l568:
l567:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	push 0
	push $1
	cthis find
	cthis getb
	ret
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	popax
	mov $a,[$a]
	psax
	pop $3
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	push $3
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l571
	push 0
	jmp l570
l571:
	push 100
	call $1,rand
	push $1
	cmpjle
l570:
	end method
	method between
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l573
	push $1
	jmp l572
l573:
	push $2
	push $3
	cmpja
	cmp0
	je l575
	push $3
	jmp l574
l575:
	push $2
l574:
l572:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l577
	push $1
	jmp l576
l577:
	push $2
l576:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l579
	push $1
	jmp l578
l579:
	push $2
l578:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	clparent classansearcher,firstnotrx1y
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objplayloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	cthis play
	end method
	method anplayfin
	localint $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l581
	localint $2
	push 0
	pop $2
l582:
	push $2
	push $1
	cmpjl
	cmp0
	je l583
	jmp l585
l584:
	add $2,1
	pop $2
	jmp l582
l585:
	push $2
	cthis add
	jmp l584
l583:
l581:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l586:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l587
	jmp l589
l588:
	add $2,1
	pop $2
	jmp l586
l589:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l588
l587:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l591
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l591:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l593
	sub $2,1
	pop $2
	jmp l592
l593:
	push $2
	push 0
	cmpje
	cmp0
	je l595
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l595:
l592:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l596
	push $1
	cthis size
	cmpjl
	jmp l598
l596:
	push 0
	jmp l598
l597:
	push 1
l598:
	cmp0
	je l600
	push $1
	cthis get
	jmp l599
l600:
	push "null"
l599:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l602
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l601
l602:
	push "null"
l601:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l603:
	cthis size
	push $1
	cmpja
	cmp0
	je l604
	cthis vecpop
	popax
	jmp l603
l604:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l606
	ret
l606:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l607:
	push $8
	push $1
	cmpjl
	cmp0
	je l608
	jmp l610
l609:
	add $8,1
	pop $8
	jmp l607
l610:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l611:
	push $9
	push $1
	cmpjl
	cmp0
	je l612
	jmp l614
l613:
	add $9,1
	pop $9
	jmp l611
l614:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l616
	push $6
	pop $5
	push $9
	pop $7
l616:
	jmp l613
l612:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l609
l608:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l617:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l618
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l617
l618:
	call $1,length
	push 0
	cmpja
	cmp0
	je l620
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l620:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l621:
	push $2
	push $1
	cmpjl
	cmp0
	je l622
	jmp l624
l623:
	add $2,1
	pop $2
	jmp l621
l624:
	push 0
	cthis removeat
	jmp l623
l622:
	end method
	method vecremovefrom
	localint $1
	pop $1
l625:
	push $1
	cthis size
	cmpjl
	cmp0
	je l626
	push $1
	cthis removeat
	jmp l625
l626:
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l629
	cthis size
	push 0
	cmpje
	jmp l630
l628:
	push 0
	jmp l630
l629:
	push 1
l630:
	cmp0
	je l631
	ret
l631:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l633
	localint $4
	push $1
	pop $4
l634:
	push $4
	push $2
	cmpja
	cmp0
	je l635
	jmp l637
l636:
	sub $4,1
	pop $4
	jmp l634
l637:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l636
l635:
	jmp l632
l633:
	push $1
	push $2
	cmpjl
	cmp0
	je l639
	localint $4
	push $1
	pop $4
l640:
	push $4
	push $2
	cmpjl
	cmp0
	je l641
	jmp l643
l642:
	add $4,1
	pop $4
	jmp l640
l643:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l642
l641:
l639:
l632:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l645
	push $2
	push 0
	cthis vecposfromto
	jmp l644
l645:
	push $1
	cthis addbegin
l644:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l647
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l646
l647:
	push $1
	cthis addbegin
l646:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l649
	push $3
	push $2
	cthis set
l649:
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l651
	ret
l651:
	sub $1,1
	pop $1
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l652:
	push $2
	push A
	cmpjne
	cmp0
	je l653
	jmp l655
l654:
	jmp l652
l655:
	push $4
	push 0
	cmpje
	cmp0
	je l657
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l657:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l659
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l658
l659:
	push 0
l658:
	pop $4
	jmp l654
l653:
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l661
l662:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l663
	cthis dbremovelast
	jmp l662
l663:
	jmp l660
l661:
	cthis free
l660:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l665
	push $3
	push 0
	cmpjae
	jmp l667
l665:
	push 0
	jmp l667
l666:
	push 1
l667:
	cmp0
	je l668
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l669:
	push $3
	push $5
	cmpjl
	cmp0
	je l670
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l669
l670:
l668:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l672
	push $1
	push $2
	cthis get
	jmp l671
l672:
	push "null"
l671:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l673:
	push $2
	push 0
	cmpjae
	cmp0
	je l674
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l676
	push $2
	ret
l676:
	sub $2,1
	pop $2
	jmp l673
l674:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l678
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l678:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l680
	localint $3
	push 0
	pop $3
l681:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l682
	jmp l684
l683:
	add $3,1
	pop $3
	jmp l681
l684:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l686
	push $3
	ret
l686:
	jmp l683
l682:
l680:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l687:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l688
	jmp l690
l689:
	add $3,1
	pop $3
	jmp l687
l690:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l692
	push $3
	ret
l692:
	jmp l689
l688:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l694
	push 1
	popax
	sub 0,$a
	ret
l694:
	localint $3
	push $1
	call $2,rand
	pop $3
l695:
	push $3
	push $2
	cmpje
	cmp0
	je l696
	jmp l698
l697:
	push $1
	call $2,rand
	pop $3
	jmp l695
l698:
	jmp l697
l696:
	push $3
	ret
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	new int,iid
	push 1
	popax
	sub 0,$a
	pop iid
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l700
	ret
l700:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l702
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l704
	cthis onfinish
l704:
l702:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l706
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	ret
l706:
	push 0
	ret
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	end method
	method game_exit
	cthis stdexportsnd
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l708
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l707
l708:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l707:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	localstring $5
	call gameapi,getgamename
	pop $5
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l710
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],newsnd
	jmp l709
l710:
	push $5
	spushs
	push $1
	call $2,length
	push 20
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l709:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $2
	pop $2
l711:
	push $2
	push A
	cmpjne
	cmp0
	je l712
	push $1
	spushs
	push $2
	cthis getsndtxt
	spop $a
	call [$a],addbegin
	pop $2
	jmp l711
l712:
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l714
	push $1
	call _dbsnd,save
l714:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method buildsnds
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l715:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l716
	jmp l718
l717:
	add $2,1
	pop $2
	jmp l715
l718:
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	push "null"
	cmpje
	cmp0
	je l720
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	cthis addsnd
	jmp l719
l720:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
l719:
	jmp l717
l716:
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	new db,tmpdb
	localdef $4
	push _sndbase
	pop $4
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call tmpdb,load
	call _dbsnd,free
	push $2
	push "null"
	cmpje
	cmp0
	je l722
	localint $5
	push 0
	pop $5
l723:
	push $5
	call tmpdb,getrowsno
	cmpjl
	cmp0
	je l724
	jmp l726
l725:
	add $5,1
	pop $5
	jmp l723
l726:
	push $3
	push "null"
	cmpje
	cmp0
	jne l729
	push $3
	spushs
	push $5
	push 1
	call tmpdb,get
	spop $a
	call [$a],contains
	jmp l730
l728:
	push 0
	jmp l730
l729:
	push 1
l730:
	cmp0
	je l731
	push $5
	push 1
	call tmpdb,get
	push $5
	push 2
	call tmpdb,get
	cthis addsnd
l731:
	jmp l725
l724:
	jmp l721
l722:
	localint $5
	push 0
	pop $5
l732:
	push $5
	call tmpdb,getrowsno
	cmpjl
	cmp0
	je l733
	jmp l735
l734:
	add $5,1
	pop $5
	jmp l732
l735:
	push $3
	push "null"
	cmpje
	cmp0
	jne l738
	push $3
	spushs
	push $5
	push 1
	call tmpdb,get
	spop $a
	call [$a],contains
	jmp l739
l737:
	push 0
	jmp l739
l738:
	push 1
l739:
	cmp0
	je l740
	push $5
	push 1
	call tmpdb,get
	push $5
	push 2
	call tmpdb,get
	push $2
	cthis addsndf
l740:
	jmp l734
l733:
l721:
	call _dbsnd,free
	call tmpdb,free
	delete tmpdb
	push $4
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classquickdialog
	method init
	new db,dbl
	new int,irow
	new int,icol
	new string,_sdialog
	cthis getname
	pop _sdialog
	new int,_bloading
	push 0
	pop _bloading
	new classsound,clsnd
	new string,_sgame
	call gameapi,getgamename
	pop _sgame
	new string,_spref
	cthis getname
	pop _spref
	new string,_sprevdialog
	end method
	method load
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,loadscript
	push 1
	pop _bloading
	push 0
	pop irow
l741:
	push irow
	call dbl,getrowsno
	cmpjl
	cmp0
	je l742
	jmp l744
l743:
	add irow,1
	pop irow
	jmp l741
l744:
	push 0
	pop icol
l745:
	cthis _nextdial
	cmp0
	je l746
	jmp l745
l746:
	jmp l743
l742:
	push 0
	pop _bloading
	push 0
	pop irow
	push 0
	pop icol
	end method
	method playlast
	push irow
	push icol
	cthis _play
	popax
	end method
	method play
	localstring $1
	pop $1
	push $1
	call dbl,findbyrow
	pop irow
	push irow
	push 0
	cmpjae
	cmp0
	je l748
	cthis _callstartdial
l748:
	cthis getdialog
	pop _sprevdialog
	push irow
	push 1
	cthis _play
	popax
	end method
	method getprevdialog
	push _sprevdialog
	ret
	end method
	method getdialog
	push irow
	push 0
	call dbl,get
	ret
	end method
	method _play
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop irow
	push $2
	pop icol
	push irow
	push 0
	cmpjl
	cmp0
	jne l751
	push irow
	call dbl,getrowsno
	cmpjae
	jmp l752
l750:
	push 0
	jmp l752
l751:
	push 1
l752:
	cmp0
	je l753
	push 0
	ret
l753:
	push icol
	push irow
	call dbl,getcolsno
	cmpjae
	cmp0
	je l755
	push _bloading
	neg
	cmp0
	je l757
	cthis _callstopdial
l757:
	push 0
	ret
l755:
	localstring $3
	push irow
	push icol
	call dbl,get
	pop $3
	push $3
	push "an:"
	cmpje
	cmp0
	je l759
	jmp l758
l759:
	push _bloading
	cmp0
	je l761
	push _spref
	push $3
	pop $b
	popax
	add $a,$b
	call engine,varexist
	neg
	cmp0
	je l763
	push _sgame
	spushs
	push _spref
	push $3
	pop $b
	popax
	add $a,$b
	push $3
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],newsndfree
	push _spref
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push "onstart"
	push "classquickdialog0"
	spop $a
	call [$a],addmethod
	push $3
	spushs
	push "onfinish"
	push "classquickdialog1"
	spop $a
	call [$a],addmethod
	push $3
	spushs
	push "_buildvars"
	push "classquickdialog2"
	spop $a
	call [$a],addmethod
	push $3
	spushs
	cthis getname
	spop $a
	call [$a],_buildvars
l763:
	jmp l760
l761:
	push _spref
	push $3
	pop $b
	popax
	add $a,$b
	call clsnd,cbplay
l760:
l758:
	push 1
	ret
	end method
	method classquickdialog0
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classquickdialog1
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sdialog
	spushs
	spop $a
	call [$a],_nextdial
	popax
	end method
	method classquickdialog2
	localstring $1
	pop $1
	new string,_sdialog
	push $1
	pop _sdialog
	end method
	method _nextdial
	push irow
	push icol
	push 1
	pop $b
	popax
	add $a,$b
	cthis _play
	ret
	end method
	method _cqsndfinish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sdialog
	spushs
	spop $a
	call [$a],_nextdial
	popax
	end method
	method _callstopdial
	push _spref
	push irow
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _callstartdial
	push _spref
	push irow
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stop
	localint $1
	pop $1
	push $1
	call clsnd,cactsndstop
	end method
	method isplaying
	call clsnd,cisplaying
	ret
	end method
	method stopdial
	localint $1
	pop $1
	push 0
	cthis stop
	push $1
	cmp0
	je l765
	cthis _callstopdial
l765:
	end method
	end class

	class classquickanloader
	method init
	new db,dbl
	new string,_sgame
	call gameapi,getgamename
	pop _sgame
	end method
	method load
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,loadscript
	localint $2
	localstring $3
	localstring $4
	localstring $5
	localint $6
	localint $7
	localint $8
	push 0
	pop $8
l766:
	push $8
	call dbl,getrowsno
	cmpjl
	cmp0
	je l767
	jmp l769
l768:
	add $8,1
	pop $8
	jmp l766
l769:
	push 0
	pop $2
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push $3
	push "bkg:"
	cmpje
	cmp0
	je l771
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push _sgame
	spushs
	push "imgbkg"
	push $3
	push 0
	spop $a
	call [$a],newimg
	push "imgbkg"
	push $8
	push $2
	cthis analizeimgopts
	jmp l770
l771:
	push $3
	push "img:"
	cmpje
	cmp0
	je l773
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push $8
	push $2
	call dbl,get
	pop $4
	add $2,1
	pop $2
	push _sgame
	spushs
	push $3
	push $4
	push 0
	spop $a
	call [$a],newimg
	push $3
	push $8
	push $2
	cthis analizeimgopts
	jmp l772
l773:
	push $3
	push "an:"
	cmpje
	cmp0
	je l775
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push $8
	push $2
	call dbl,get
	pop $4
	add $2,1
	pop $2
	push ".pyz"
	call $4,contains
	cmp0
	je l777
	push _sgame
	spushs
	push $3
	push $4
	push 0
	spop $a
	call [$a],newanima
	jmp l776
l777:
	push _sgame
	spushs
	push $4
	push $3
	spop $a
	call [$a],copyanima
l776:
	push $3
	push $8
	push $2
	cthis analizeimgopts
	jmp l774
l775:
	push $3
	push "anaac:"
	cmpje
	cmp0
	jne l780
	push $3
	push "anfac:"
	cmpje
	jmp l781
l779:
	push 0
	jmp l781
l780:
	push 1
l781:
	cmp0
	je l782
	push $3
	pop $5
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push $8
	push $2
	call dbl,get
	pop $4
	add $2,1
	pop $2
	push ".pyz"
	call $4,contains
	cmp0
	je l784
	push _sgame
	spushs
	push "_"
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push 0
	spop $a
	call [$a],newanima
	push "_"
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	spop $a
	call [$a],hide
l784:
	push _sgame
	spushs
	push "_buildgroup"
	push "_buildgroup"
	spop $a
	call [$a],addmethod
	push _sgame
	spushs
	push $3
	spop $a
	call [$a],_buildgroup
	push $5
	push "anfac:"
	cmpje
	cmp0
	je l786
	push $8
	push $2
	call dbl,get
	pop $7
	add $2,1
	pop $2
	push _sgame
	spushs
	push $4
	push $3
	push $7
	push $3
	spop $a
	call [$a],newanframesgr
	pop $6
	jmp l785
l786:
	push _sgame
	spushs
	push $4
	push $3
	push $3
	spop $a
	call [$a],newanactionsgr
	pop $6
l785:
	push $3
	push $8
	push $2
	cthis analizeimgopts
	jmp l778
l782:
	push $3
	push "path:"
	cmpje
	cmp0
	je l788
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push _sgame
	spushs
	push $3
	spop $a
	call [$a],setgraphpath
	jmp l787
l788:
	push $3
	push "snd:"
	cmpje
	cmp0
	je l790
	push $8
	push $2
	call dbl,get
	pop $3
	add $2,1
	pop $2
	push _sgame
	spushs
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	push $3
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],newsnd
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
l790:
l787:
l778:
l774:
l772:
l770:
	jmp l768
l767:
	end method
	method _buildgroup
	localstring $1
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	end method
	method _cqloadstdframe
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method analizeimgopts
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	localstring $5
	localint $6
	localint $7
l791:
	push $3
	push $2
	call dbl,getcolsno
	cmpjl
	cmp0
	je l792
	push $2
	push $3
	call dbl,get
	pop $4
	add $3,1
	pop $3
	push $4
	spushs
	push "-z"
	cmpst
	jne l794
	spop $a
	push $1
	spushs
	push $2
	push $3
	call dbl,get
	spop $a
	call [$a],setz
	add $3,1
	pop $3
	jmp l793
l794:
	push "-pos"
	cmpst
	jne l795
	spop $a
	push $2
	push $3
	call dbl,get
	pop $6
	add $3,1
	pop $3
	push $2
	push $3
	call dbl,get
	pop $7
	add $3,1
	pop $3
	push $1
	spushs
	push $6
	push $7
	spop $a
	call [$a],setpos
	jmp l793
l795:
	push "-hide"
	cmpst
	jne l796
	spop $a
	push $1
	spushs
	spop $a
	call [$a],hide
	jmp l793
l796:
	push "-show"
	cmpst
	jne l797
	spop $a
	push $1
	spushs
	spop $a
	call [$a],show
	jmp l793
l797:
	push "-play"
	cmpst
	jne l798
	spop $a
	push $2
	push $3
	call dbl,get
	pop $4
	add $3,1
	pop $3
	push $1
	spushs
	push $4
	spop $a
	call [$a],play
	jmp l793
l798:
	push "-nplay"
	cmpst
	jne l799
	spop $a
	push $2
	push $3
	call dbl,get
	pop $6
	add $3,1
	pop $3
	push $1
	spushs
	push $6
	spop $a
	call [$a],play
	jmp l793
l799:
	push "-lplay"
	cmpst
	jne l800
	spop $a
	push $2
	push $3
	call dbl,get
	pop $4
	add $3,1
	pop $3
	push $1
	spushs
	push $4
	spop $a
	call [$a],anloopsplay
	jmp l793
l800:
	push "-frame"
	cmpst
	jne l801
	spop $a
	push $2
	push $3
	call dbl,get
	pop $4
	add $3,1
	pop $3
	push $2
	push $3
	call dbl,get
	pop $6
	add $3,1
	pop $3
	push $1
	spushs
	push $4
	push $6
	spop $a
	call [$a],setframe
	jmp l793
l801:
	push "-putgr"
	cmpst
	jne l802
	spop $a
	push $1
	spushs
	spop $a
	call [$a],anputgr
	jmp l793
l802:
	push "-mfin"
	cmpst
	jne l803
	spop $a
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	jmp l793
l803:
	push "-mfr"
	cmpst
	jne l804
	spop $a
	push $1
	spushs
	push "onendframe"
	push "_cqloadstdframe"
	spop $a
	call [$a],addmethod
	jmp l793
l804:
	spop $a
l793:
	jmp l791
l792:
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l806
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l807
l805:
	push 0
	jmp l807
l806:
	push 1
l807:
	ret
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	ret
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	ret
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l808
	push "."
	call $1,contains
	jmp l810
l808:
	push 0
	jmp l810
l809:
	push 1
l810:
	ret
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	ret
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	ret
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	push $1
	cthis load
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l812
	ret
l812:
	push "."
	call $1,contains
	cmp0
	je l814
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l813
l814:
	push $1
	pop __sdb
l813:
	call __mp,free
	localint $2
	push 0
	pop $2
l815:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l816
	jmp l818
l817:
	add $2,1
	pop $2
	jmp l815
l818:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l820
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l820:
	jmp l817
l816:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method isvar
	localstring $1
	pop $1
	push "$"
	call $1,contains
	ret
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l822
	push $1
	spushs
	spop $e
	new def,[$e]
l822:
	push $1
	ret
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l823
	push $1
	call __csc,isreal
	neg
	jmp l825
l823:
	push 0
	jmp l825
l824:
	push 1
l825:
	ret
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	ret
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l827
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	ret
l827:
	push 0
	ret
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l829
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l829:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l831
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l831:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l833
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l833:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l834:
	push $4
	push ")"
	cmpjne
	cmp0
	je l835
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l834
l835:
	push $2
	push "this"
	cmpje
	cmp0
	je l837
	push "null"
	pop $2
l837:
	push $2
	push $3
	cthis callfun
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l839
	push $1
	cthis getvar
	pop $1
	jmp l838
l839:
	push $1
	call __csc,isdigit
	cmp0
	je l841
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l840
l841:
	push $1
	call __csc,isstring
	cmp0
	je l843
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
	jmp l842
l843:
	push $1
	call __csc,isreal
	cmp0
	je l845
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
l845:
l842:
l840:
l838:
	push $1
	ret
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	ret
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	ret
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l847
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l846
l847:
	push $1
	cthis isfunc
	cmp0
	je l849
	push $1
	cthis interpcall
	jmp l848
l849:
	push $1
	cthis isscriptfun
	cmp0
	je l851
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l850
l851:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l850:
l848:
l846:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l853
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l852
l853:
	push "!="
	cmpst
	jne l854
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l852
l854:
	push "<"
	cmpst
	jne l855
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l852
l855:
	push ">"
	cmpst
	jne l856
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l852
l856:
	push "<="
	cmpst
	jne l857
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l852
l857:
	push ">="
	cmpst
	jne l858
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l852
l858:
	spop $a
l852:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l860
	push $1
	cmp0
	jne l862
	cthis cmp
	jmp l863
l861:
	push 0
	jmp l863
l862:
	push 1
l863:
	ret
	jmp l859
l860:
	push $3
	push "&&"
	cmpje
	cmp0
	je l865
	push $1
	cmp0
	je l866
	cthis cmp
	jmp l868
l866:
	push 0
	jmp l868
l867:
	push 1
l868:
	ret
	jmp l864
l865:
	push $1
	ret
l864:
l859:
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l870
	ret
l870:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l871:
	push $2
	cmp0
	je l872
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l874
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l876
	push __sreads
	push "["
	cmpje
	cmp0
	je l878
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l879:
	push $12
	push $11
	cmpjl
	cmp0
	je l880
	jmp l882
l881:
	add $12,1
	pop $12
	jmp l879
l882:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l881
l880:
	jmp l877
l878:
	add __icol,1
	pop __icol
l883:
	cthis isnext
	cmp0
	je l884
	push __sreads
	push ")"
	cmpjne
	jmp l886
l884:
	push 0
	jmp l886
l885:
	push 1
l886:
	cmp0
	je l887
	cthis _get
	cthis getexpr
	jmp l883
l887:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l877:
	jmp l875
l876:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l875:
	add __irow,1
	pop __irow
	jmp l873
l874:
	push "delete"
	cmpst
	jne l888
	spop $a
	cthis get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	jmp l873
l888:
	push $8
	push "if"
	cmpje
	cmp0
	jne l890
	push $6
	cmp0
	jne l890
	push $5
	jmp l891
l889:
	push 0
	jmp l891
l890:
	push 1
l891:
	cmp0
	je l893
	push $8
	jmp l892
l893:
	push ""
l892:
	cmpst
	jne l894
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l896
	push 1
	pop $3
l896:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l898
	push 1
	pop $12
l899:
	push $12
	cmp0
	je l900
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l903
	push $8
	push "elif"
	cmpje
	cmp0
	jne l903
	push $8
	push "fi"
	cmpje
	cmp0
	jne l903
	push $8
	push "done"
	cmpje
	jmp l904
l902:
	push 0
	jmp l904
l903:
	push 1
l904:
	cmp0
	je l905
	push 0
	pop $12
	jmp l901
l905:
	add __irow,1
	pop __irow
l901:
	jmp l899
l900:
l898:
	jmp l873
l894:
	push "else"
	cmpst
	jne l906
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l908
l909:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l910
	add __irow,1
	pop __irow
	jmp l909
l910:
l908:
	jmp l873
l906:
	push "fi"
	cmpst
	jne l911
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l873
l911:
	push "elif"
	cmpst
	jne l912
	spop $a
	push $4
	cmp0
	je l914
	add __irow,1
	pop __irow
l915:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l916
	add __irow,1
	pop __irow
	jmp l915
l916:
	jmp l913
l914:
	push 1
	pop $6
l913:
	jmp l873
l912:
	push "end"
	cmpst
	jne l917
	spop $a
	push 0
	pop $2
	jmp l873
l917:
	push "while"
	cmpst
	jne l918
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l873
l918:
	push "done"
	cmpst
	jne l919
	spop $a
	push $4
	cmp0
	je l921
	push $7
	pop __irow
	jmp l920
l921:
	add __irow,1
	pop __irow
l920:
	jmp l873
l919:
	push "print"
	cmpst
	jne l922
	spop $a
	push ""
	pop $8
l923:
	cthis isnext
	cmp0
	je l924
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l923
l924:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l873
l922:
	push "return"
	cmpst
	jne l925
	spop $a
	cthis isnext
	cmp0
	je l927
	push __sreads
	cthis getexpr
l927:
	ret
	jmp l873
l925:
	spop $a
	push "$"
	call $8,contains
	cmp0
	je l929
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l930:
	cthis isnext
	cmp0
	je l931
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l933
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l932
l933:
	push "-"
	cmpst
	jne l934
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l932
l934:
	push "*"
	cmpst
	jne l935
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l932
l935:
	push "/"
	cmpst
	jne l936
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l932
l936:
	push "%"
	cmpst
	jne l937
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l932
l937:
	spop $a
l932:
	jmp l930
l931:
	jmp l928
l929:
	push $8
	cthis getexpr
l928:
	add __irow,1
	pop __irow
l873:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l939
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l939:
	jmp l871
l872:
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l941
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l940
l941:
	push $1
	push "no"
	cmpje
	cmp0
	je l943
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l943:
l940:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l945
	ret
l945:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l947
	push sfuncyes
	push "null"
	cmpjne
	jmp l949
l947:
	push 0
	jmp l949
l948:
	push 1
l949:
	cmp0
	je l950
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	jmp l946
l950:
	push $1
	push "no"
	cmpje
	cmp0
	je l952
	push sfuncno
	push "null"
	cmpjne
	jmp l954
l952:
	push 0
	jmp l954
l953:
	push 1
l954:
	cmp0
	je l955
	push sfuncno
	spushs
	spop $d
	cthis [$d]
l955:
l946:
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showu
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "uu"
	cthis show
	end method
	method showd
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "dd"
	cthis show
	end method
	method showr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "rr"
	cthis show
	end method
	method showl
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "ll"
	cthis show
	end method
	method showru
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "ru"
	cthis show
	end method
	method showrd
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "rd"
	cthis show
	end method
	method showld
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "ld"
	cthis show
	end method
	method showlu
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "lu"
	cthis show
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l957
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
l957:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l959
	push _ib2
	cthis _cfinito
	jmp l958
l959:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l961
	push _ib1
	cthis _cfinito
	jmp l960
l961:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l960:
l958:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $8
	call $2,abs
	pop $8
	push $1
	push 0
	cmpjle
	cmp0
	jne l964
	push $8
	push $5
	cmpje
	cmp0
	jne l964
	push $8
	push $6
	cmpja
	jmp l965
l963:
	push 0
	jmp l965
l964:
	push 1
l965:
	cmp0
	je l966
	ret
l966:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l968
	push _ib1
	pop _ival
	jmp l967
l968:
	push $2
	push 0
	cmpjl
	cmp0
	je l970
	push _ib2
	pop _ival
	jmp l969
l970:
	ret
l969:
l967:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push $4
	cthis _play
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l971:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l972
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l971
l972:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l974
	push $1
	popax
	add $7,$a
	pop $7
l974:
	push $5
	cmp0
	je l976
	push $4
	cmp0
	je l978
	push ":"
	jmp l977
l978:
	push ""
l977:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l976:
	push $6
	cmp0
	je l980
	push $4
	cmp0
	jne l982
	push $5
	jmp l983
l981:
	push 0
	jmp l983
l982:
	push 1
l983:
	cmp0
	je l985
	push ":"
	jmp l984
l985:
	push ""
l984:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l980:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	end module

	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l987
	push sgmfontfile
	pop $1
l987:
	push ".ttf"
	call $1,contains
	cmp0
	je l989
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l989:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	new int,itime
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	push 1
	cthis update
	cthis play
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method reset
	push itime
	popax
	sub 0,$a
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	clparent SecCounter,init
	cthis reset
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	end method
	end class

	class TextTyper
	parent classlocker
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l991
	ret
l991:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l993
	call txt2,hide
	jmp l992
l993:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l992:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt1,setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l995
	push $1
	ret
l995:
	push " "
	ret
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l997
	ret
l997:
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l999
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	ret
l999:
	localstring $1
	call keyboard,getkey
	pop $1
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1001
	push "a"
	call sChars,contains
	jmp l1003
l1001:
	push 0
	jmp l1003
l1002:
	push 1
l1003:
	cmp0
	jne l1005
	call keyboard,isdigit
	cmp0
	je l1006
	push "0"
	call sChars,contains
	jmp l1008
l1006:
	push 0
	jmp l1008
l1007:
	push 1
l1008:
	cmp0
	jne l1005
	push $1
	push " "
	cmpje
	cmp0
	je l1009
	push " "
	call sChars,contains
	jmp l1011
l1009:
	push 0
	jmp l1011
l1010:
	push 1
l1011:
	jmp l1012
l1004:
	push 0
	jmp l1012
l1005:
	push 1
l1012:
	cmp0
	je l1013
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1016
	push iLimit
	call $2,length
	cmpja
	jmp l1017
l1015:
	push 0
	jmp l1017
l1016:
	push 1
l1017:
	jmp l1018
l1013:
	push 0
	jmp l1018
l1014:
	push 1
l1018:
	cmp0
	je l1019
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	cthis updatecyk
	jmp l1000
l1019:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1021
	call $2,length
	push 0
	cmpja
	jmp l1023
l1021:
	push 0
	jmp l1023
l1022:
	push 1
l1023:
	cmp0
	je l1024
	push 1
	call $2,strsube
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	cthis updatecyk
l1024:
l1000:
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	call timwez,play
	push 1
	pop bstart
	push 0
	pop bonrel
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1025
	push bonrel
	neg
	jmp l1027
l1025:
	push 0
	jmp l1027
l1026:
	push 1
l1027:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1028
	push bonrel
	jmp l1030
l1028:
	push 0
	jmp l1030
l1029:
	push 1
l1030:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1032
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1032:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1034
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1034:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	ret
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	ret
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1036
	ret
l1036:
	call cldt,isonclick
	cmp0
	je l1038
	cthis _put
	jmp l1037
l1038:
	call cldt,istaken
	neg
	cmp0
	je l1040
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1040:
l1037:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1042
	ret
l1042:
	call cldt,isonrel
	cmp0
	je l1044
	cthis _put
l1044:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push 800
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push 600
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push 800
	push 600
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1047
	push sorientation
	push "down"
	cmpje
	jmp l1048
l1046:
	push 0
	jmp l1048
l1047:
	push 1
l1048:
	cmp0
	je l1049
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1045
l1049:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1045:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1051
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1051:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1053
	call clmv,msftmove
	jmp l1052
l1053:
	call clmv,msmove
l1052:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1056
	push sorientation
	push "down"
	cmpje
	jmp l1057
l1055:
	push 0
	jmp l1057
l1056:
	push 1
l1057:
	cmp0
	je l1058
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1054
l1058:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1054:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1061
	push sorientation
	push "down"
	cmpje
	jmp l1062
l1060:
	push 0
	jmp l1062
l1061:
	push 1
l1062:
	cmp0
	je l1063
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1065
	push 0
	push 600
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push 0
	push 600
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1064
l1065:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownact,setpos
	push 0
	pop $7
l1064:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1059
l1063:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1067
	push 800
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupstd,setpos
	push 800
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1066
l1067:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 0
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 0
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push 0
	pop $8
l1066:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1059:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1068:
	push $13
	push $11
	cmpjl
	cmp0
	je l1069
	jmp l1071
l1070:
	add $13,1
	pop $13
	jmp l1068
l1071:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1073
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1072
l1073:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1075
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1074
l1075:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1077
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1076
l1077:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1079
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1079:
l1076:
l1074:
l1072:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1070
l1069:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1081
	push bvertical
	push 0
	cmpje
	cmp0
	je l1083
	push "left"
	pop _sdir
	jmp l1082
l1083:
	push "up"
	pop _sdir
l1082:
	jmp l1080
l1081:
	push $2
	push "down"
	cmpje
	cmp0
	je l1085
	push bvertical
	push 0
	cmpje
	cmp0
	je l1087
	push "right"
	pop _sdir
	jmp l1086
l1087:
	push "down"
	pop _sdir
l1086:
l1085:
l1080:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1089
	ret
l1089:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1091
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1093
l1091:
	push 0
	jmp l1093
l1092:
	push 1
l1093:
	cmp0
	je l1094
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1096
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1098
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1098:
	jmp l1095
l1096:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1100
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1102
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1102:
	jmp l1099
l1100:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1104
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1106
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1106:
	jmp l1103
l1104:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1108
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1110
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1110:
l1108:
l1103:
l1099:
l1095:
l1094:
	push $1
	cmp0
	je l1112
	call fxrew,isplaying
	neg
	cmp0
	je l1114
	call fxrew,play
l1114:
	jmp l1111
l1112:
	push 0
	call fxrew,stop
l1111:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1116
	ret
l1116:
	call cldt,isonrel
	cmp0
	je l1118
	cthis _put
l1118:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1120
	ret
l1120:
	call cldt,isonclick
	cmp0
	je l1122
	cthis _put
	jmp l1121
l1122:
	call cldt,istaken
	neg
	cmp0
	je l1124
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1124:
l1121:
	end method
	end class

	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classtriangle
	method init
	new real,rdx
	new real,rdy
	end method
	method getdx
	push rdx
	ret
	end method
	method getdy
	push rdy
	ret
	end method
	method talesxy
	localreal $1
	localreal $2
	localreal $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	popax
	sub $3,$a
	pop $3
	push $2
	popax
	sub $4,$a
	pop $4
	push $3
	push 0
	cmpje
	cmp0
	je l1126
	push $4
	push 0
	cmpje
	jmp l1128
l1126:
	push 0
	jmp l1128
l1127:
	push 1
l1128:
	cmp0
	je l1129
	push 0
	pop rdx
	push 0
	pop rdy
	push 0
	ret
	jmp l1125
l1129:
	push $3
	push $4
	call $1,length
	pop $1
	push $3
	push $1
	pop $b
	popax
	div $a,$b
	psax
	push $5
	pop $b
	popax
	mul $a,$b
	pop rdx
	push $4
	push $1
	pop $b
	popax
	div $a,$b
	psax
	push $5
	pop $b
	popax
	mul $a,$b
	pop rdy
	push $1
	ret
l1125:
	end method
	end class

	class classwalker
	parent classtriangle
	method init
	clparent classtriangle,init
	new real,rodleg
	new int,_ix
	new int,_iy
	end method
	method countsteps
	localint $1
	localint $2
	localint $3
	localint $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setdest
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis talesxy
	pop rodleg
	push rodleg
	ret
	end method
	method setdest
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	end method
	method getdestx
	push _ix
	ret
	end method
	method getdesty
	push _iy
	ret
	end method
	method reached
	localint $1
	localint $2
	pop $2
	pop $1
	localreal $3
	push $1
	push _ix
	pop $b
	popax
	sub $a,$b
	push $2
	push _iy
	pop $b
	popax
	sub $a,$b
	call $3,length
	pop $3
	push $3
	push rodleg
	cmpjae
	cmp0
	je l1131
	push 1
	ret
	jmp l1130
l1131:
	push $3
	pop rodleg
	push 0
	ret
l1130:
	end method
	method reached2
	localint $1
	localint $2
	pop $2
	pop $1
	localreal $3
	push $1
	push _ix
	pop $b
	popax
	sub $a,$b
	push $2
	push _iy
	pop $b
	popax
	sub $a,$b
	call $3,length
	pop $3
	push $3
	push rodleg
	cmpja
	cmp0
	je l1133
	push 1
	ret
	jmp l1132
l1133:
	push $3
	pop rodleg
	push 0
	ret
l1132:
	end method
	end class

	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push "sobject"
	push "null"
	cthis var2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1135
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1134
l1135:
	push 0
l1134:
	end method
	method _release
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1137
	ret
l1137:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,isetframe
	localdef $1
	call mouse,getpos
	push 1
	push 1
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1139
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1139:
	push $1
	cmp0
	je l1141
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1143
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1145
	cthis _release
l1145:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1143:
	jmp l1140
l1141:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1147
	cthis _release
l1147:
l1140:
	push slastb
	push "null"
	cmpje
	cmp0
	je l1149
	call bsms,setstd
	jmp l1148
l1149:
	call bsms,setact
l1148:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1151
	ret
l1151:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1153
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1153:
	end method
	end class

	class Helper
	method init
	localstring $1
	localstring $2
	pop $2
	pop $1
	new db,dbh
	new def,Path
	push $1
	pop Path
	new def,sHelp
	cthis getname
	pop sHelp
	push Path
	push $2
	pop $b
	popax
	add $a,$b
	call dbh,loadscript
	new db,dbh2
	new button,buthelp
	call buthelp,Helper0
	push "onclick"
	push "helphide"
	call buthelp,addmethod
	new img,imgtlo
	push Path
	push "bkg:"
	cthis get
	pop $b
	popax
	add $a,$b
	call imgtlo,load
	push 10000
	call imgtlo,setz
	call imgtlo,hide
	push 400
	call imgtlo,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 300
	call imgtlo,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push "dy:"
	cthis get
	spushs
	spop $h
	call $h,to_i
	pop $b
	popax
	add $a,$b
	call imgtlo,setpos
	new gmimgvec,grt
	localstring $3
	push "configs/fonts/"
	push "font:"
	cthis get
	pop $b
	popax
	add $a,$b
	pop $3
	localint $4
	localint $5
	localint $6
	localint $7
	push "title:"
	cthis get
	pop $7
	pop $6
	pop $5
	pop $4
	localint $8
	localint $9
	localint $10
	localint $11
	push "text:"
	cthis get
	pop $11
	pop $10
	pop $9
	pop $8
	new font,fnttit
	push $3
	push $4
	call fnttit,load
	new font,fnttxt
	push $3
	push $8
	call fnttxt,load
	end method
	method Helper0
	push 0
	push 0
	push 800
	push 600
	cthis setrect
	cthis disable
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbh,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1155
	localint $3
	push 1
	pop $3
l1156:
	push $3
	push $2
	call dbh,getcolsno
	cmpjl
	cmp0
	je l1157
	jmp l1159
l1158:
	add $3,1
	pop $3
	jmp l1156
l1159:
	push $2
	push $3
	call dbh,get
	jmp l1158
l1157:
l1155:
	end method
	method show
	localdef $1
	call gameapi,getgamename
	pop $1
	push $1
	push "MenuPuzzle"
	cmpje
	cmp0
	je l1161
	push Path
	push iPuzzleTryb
	push 2
	cmpja
	cmp0
	je l1163
	push "puzzle.db"
	jmp l1162
l1163:
	push "wstaw.db"
l1162:
	pop $b
	popax
	add $a,$b
	call dbh2,load
	jmp l1160
l1161:
	localint $2
	call gameapi,getgamename
	call dbh,findbyrow
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1165
	ret
l1165:
	push Path
	push $2
	push 1
	call dbh,get
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbh2,load
l1160:
	call imgtlo,show
	localint $3
	localint $4
	localint $5
	localint $6
	push "title:"
	cthis get
	pop $6
	pop $5
	pop $4
	pop $3
	localint $7
	localint $8
	localint $9
	localint $10
	push "text:"
	cthis get
	pop $10
	pop $9
	pop $8
	pop $7
	new text,txttit
	push "fnttit"
	call txttit,setfont
	push 0
	push 0
	call dbh2,get
	call txttit,set
	push $4
	push $5
	push $6
	call txttit,createtxt
	localdef $11
	call imgtlo,getcx
	pop $11
	push $11
	call txttit,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 0
	call txttit,setpos
	push 2
	popax
	div $7,$a
	mov $7,$a
	push "txttit"
	call grt,add
	call imgtlo,getz
	push 10
	pop $b
	popax
	add $a,$b
	call txttit,setz
	localstring $1
	localint $12
	call txttit,geth
	push $3
	pop $b
	popax
	add $a,$b
	pop $12
	localint $13
	push 1
	pop $13
l1166:
	push $13
	call dbh2,getrowsno
	cmpjl
	cmp0
	je l1167
	jmp l1169
l1168:
	add $13,1
	pop $13
	jmp l1166
l1169:
	push "txt"
	push $13
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push "fnttxt"
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $13
	push 0
	call dbh2,get
	spop $a
	call [$a],set
	push $1
	spushs
	push $8
	push $9
	push $10
	spop $a
	call [$a],createtxt
	push $1
	spushs
	push $11
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $12
	spop $a
	call [$a],setpos
	push $1
	spushs
	call imgtlo,getz
	push 10
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],geth
	push $7
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	push $1
	call grt,add
	jmp l1168
l1167:
	push 0
	call imgtlo,getpy
	call imgtlo,geth
	push $12
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call grt,move
	call gameapi,pause
	call buthelp,enable
	call buthelp,resume
	end method
	method helphide
	push sHelp
	spushs
	spop $a
	call [$a],Helper1
	end method
	method Helper1
	call imgtlo,hide
	localstring $1
	localint $2
	push 0
	pop $2
l1170:
	push $2
	call grt,size
	cmpjl
	cmp0
	je l1171
	jmp l1173
l1172:
	add $2,1
	pop $2
	jmp l1170
l1173:
	push $2
	call grt,get
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	jmp l1172
l1171:
	call grt,free
	call buthelp,disable
	call gameapi,resume
	end method
	end class

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l1175
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l1176:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l1177
	jmp l1179
l1178:
	add $4,1
	pop $4
	jmp l1176
l1179:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l1178
l1177:
l1175:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l1181
	push "sndintro"
	cthis cbplay
l1181:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l1183
	call sndintro,isplaying
	jmp l1185
l1183:
	push 0
	jmp l1185
l1184:
	push 1
l1185:
	cmp0
	je l1186
	ret
l1186:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l1188
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l1188:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	parent GameController
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	cthis setgraphpath
	push $1
	clparent GameController,init
	push $3
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l1190
	call sndintro,isplaying
	jmp l1192
l1190:
	push 0
	jmp l1192
l1191:
	push 1
l1192:
	cmp0
	je l1193
	ret
l1193:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l1195
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l1195:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	new int,iMemoTryb
	push 1
	pop iMemoTryb
	new int,iMemoW
	new int,iMemoH
	new int,iMemoAI
	push 0
	pop iMemoAI
	class TMemo
	parent GameController
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	cthis setgraphpath
	push $1
	clparent GameController,init
	push "anbkg"
	push $3
	push 0
	cthis newanima
	push "antaf"
	push $4
	push 10
	cthis newanima
	push "annak"
	push $5
	push 20
	cthis newanima
	new int,ipredkosc
	push 25
	pop ipredkosc
	new gmimgvec,grtaf
	new gmimgvec,grnak
	new vector,veci
	call veci,TMemo0
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	push 0
	pop $8
	localint $12
	push 0
	pop $12
l1196:
	push $12
	push iMemoW
	cmpjl
	cmp0
	je l1197
	jmp l1199
l1198:
	add $12,1
	pop $12
	jmp l1196
l1199:
	push 0
	pop $11
l1200:
	push $11
	push iMemoH
	cmpjl
	cmp0
	je l1201
	jmp l1203
l1202:
	add $11,1
	pop $11
	jmp l1200
l1203:
	push "antaf"
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push $8
	spop $e
	new anima,[$e]
	call [$e],TMemo1
	push "annak"
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new anima,[$e]
	call [$e],TMemo2
	add $8,1
	pop $8
	jmp l1202
l1201:
	jmp l1198
l1197:
	call antaf,hide
	call annak,hide
	call grtaf,hash
	push 0
	pop $8
	call antaf,getw
	push $6
	pop $b
	popax
	add $a,$b
	pop $9
	call antaf,geth
	push $6
	pop $b
	popax
	add $a,$b
	pop $10
	push 0
	pop $12
l1204:
	push $12
	push iMemoW
	cmpjl
	cmp0
	je l1205
	jmp l1207
l1206:
	add $12,1
	pop $12
	jmp l1204
l1207:
	push 0
	pop $11
l1208:
	push $11
	push iMemoH
	cmpjl
	cmp0
	je l1209
	jmp l1211
l1210:
	add $11,1
	pop $11
	jmp l1208
l1211:
	push $8
	call grtaf,get
	spushs
	push $9
	push $12
	pop $b
	popax
	mul $a,$b
	push $10
	push $11
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setbpos
	push $8
	call grnak,get
	spushs
	push $9
	push $12
	pop $b
	popax
	mul $a,$b
	push $10
	push $11
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],setbpos
	add $8,1
	pop $8
	jmp l1210
l1209:
	jmp l1206
l1205:
	push "link"
	call grtaf,eval
	push 800
	call grtaf,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $9
	push 600
	call grtaf,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $10
	push $9
	push $10
	call grtaf,move
	push $9
	push $10
	call grnak,move
	new int,iplayer
	push 1
	pop iplayer
	new int,icompplayer
	push 0
	pop icompplayer
	new classfadeinout,clfio
	new classfadeinout,clfio2
	new int,imemostate
	push 0
	pop imemostate
	new string,staf1
	new string,staf2
	new string,snak1
	new string,snak2
	new int,ileai
	push 1
	push 5
	push iMemoW
	push iMemoH
	pop $b
	popax
	mul $a,$b
	push 0.2
	pop $b
	popax
	mul $a,$b
	push 10
	cthis between
	push iMemoAI
	pop $b
	popax
	add $a,$b
	push 20
	cthis between
	pop ileai
	new string,sset1
	new string,sset2
	new vector,vecai
	call vecai,TMemo3
	new int,iaistate
	push 0
	pop iaistate
	push "timwait"
	push 500
	push 1
	cthis newtimer
	call timwait,mresize
	push "timpoka"
	push 500
	push 1
	push "endset22"
	cthis cnewtimerfin
	end method
	method TMemo0
	push 0
	call antaf,nofframes
	cthis vecnewint
	cthis hash
	end method
	method TMemo1
	localint $1
	pop $1
	cthis mresize
	push "antaf"
	cthis operator=
	push 0
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call veci,get
	cthis setframe
	cthis anaddfilter
	cthis unlink
	cthis getname
	call grtaf,add
	end method
	method TMemo2
	cthis mresize
	push "annak"
	cthis operator=
	cthis anaddfilter
	cthis getname
	call grnak,add
	end method
	method TMemo3
	cthis mresize
	push "string"
	cthis type
	end method
	method tstart
	push 1
	pop imemostate
	push iMemoTryb
	push 1
	cmpje
	cmp0
	je l1213
	push 2
	pop icompplayer
l1213:
	end method
	method aigo
	push 11
	pop imemostate
	push sset1
	cthis tclicks
	end method
	method aigo2
	push sset2
	cthis tclicks
	end method
	method aifind1
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1215
	push 1
	popax
	sub 0,$a
	ret
l1215:
	localint $4
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop $4
	localstring $5
l1216:
	push $2
	push $3
	cmpjl
	cmp0
	je l1217
	jmp l1219
l1218:
	add $2,1
	pop $2
	jmp l1216
l1219:
	push $2
	cthis get
	pop $5
	push $5
	push "null"
	cmpjne
	cmp0
	je l1221
	push $5
	push $1
	cmpjne
	cmp0
	je l1221
	push $4
	push $5
	spushs
	spop $a
	call [$a],framenr
	cmpje
	cmp0
	je l1221
	push $2
	cthis tstats
	jmp l1223
l1221:
	push 0
	jmp l1223
l1222:
	push 1
l1223:
	cmp0
	je l1224
	push $2
	ret
l1224:
	jmp l1218
l1217:
	push 1
	popax
	sub 0,$a
	end method
	method tstats
	localint $1
	pop $1
	push 100
	push $1
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	cthis stats
	end method
	method startai
	localstring $1
	pop $1
	push iplayer
	push icompplayer
	cmpje
	cmp0
	je l1226
	localint $2
	call vecai,size
	push ileai
	cthis min
	pop $2
	push $1
	push "aigo"
	cmpje
	cmp0
	je l1228
	push 11
	pop imemostate
	localint $3
	localint $4
	localint $5
	push 1
	popax
	sub 0,$a
	pop $5
	push 0
	pop $3
l1229:
	push $3
	push $2
	cmpjl
	cmp0
	je l1230
	jmp l1232
l1231:
	add $3,1
	pop $3
	jmp l1229
l1232:
	push $3
	call vecai,get
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	call vecai,aifind1
	pop $5
	push $5
	push 0
	cmpjae
	cmp0
	je l1234
	push $3
	cthis tstats
	jmp l1236
l1234:
	push 0
	jmp l1236
l1235:
	push 1
l1236:
	cmp0
	je l1237
	push $3
	pop $4
	push $2
	pop $3
	jmp l1233
l1237:
	push 1
	popax
	sub 0,$a
	pop $5
l1233:
	jmp l1231
l1230:
	push $5
	push 0
	cmpjae
	cmp0
	je l1239
	push $4
	call vecai,get
	pop sset1
	push $5
	call vecai,get
	pop sset2
	jmp l1238
l1239:
	call grtaf,rand
	pop sset1
	push "null"
	pop sset2
l1238:
	jmp l1227
l1228:
	push sset2
	push "null"
	cmpje
	cmp0
	je l1241
	localint $6
	push sset1
	push 0
	push $2
	call vecai,aifind1
	pop $6
	push $6
	push 0
	cmpjae
	cmp0
	je l1243
	push $6
	cthis tstats
	jmp l1245
l1243:
	push 0
	jmp l1245
l1244:
	push 1
l1245:
	cmp0
	je l1246
	push $6
	call vecai,get
	pop sset2
	jmp l1242
l1246:
	push sset1
	call grtaf,randdiff
	pop sset2
l1242:
l1241:
l1227:
	push "timwait"
	push $1
	popax
	pop $b
	psax
	call [$b],operator<
	call timwait,play
l1226:
	end method
	method endset3
	push 1
	pop imemostate
	push iMemoTryb
	push 0
	cmpja
	cmp0
	je l1248
	cthis tnextplayer
	push "aigo"
	cthis startai
l1248:
	end method
	method endset2
	call timpoka,play
	end method
	method endset22
	push 3
	pop imemostate
	push snak2
	spushs
	spop $a
	call [$a],hide
	push staf1
	spushs
	spop $a
	call [$a],framenr
	push staf2
	spushs
	spop $a
	call [$a],framenr
	cmpje
	cmp0
	je l1250
	push "grnak"
	push snak1
	popax
	pop $b
	psax
	call [$b],operator-
	push snak2
	popax
	pop $b
	psax
	call [$b],operator-
	popax
	push "grtaf"
	push staf1
	popax
	pop $b
	psax
	call [$b],operator-
	push staf2
	popax
	pop $b
	psax
	call [$b],operator-
	popax
	push staf1
	call vecai,find
	push "null"
	call vecai,set
	push staf2
	call vecai,find
	push "null"
	call vecai,set
	call grtaf,empty
	cmp0
	je l1252
	push 5
	pop imemostate
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf1
	push "null"
	call clfio,setopacity
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf2
	push "null"
	call clfio2,setopacity
	cthis tfinish
	jmp l1251
l1252:
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf1
	push "TMemo4"
	call clfio,setopacity
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf2
	push "null"
	call clfio2,setopacity
	cthis tpoint
l1251:
	jmp l1249
l1250:
	push snak1
	spushs
	spop $a
	call [$a],show
	push snak2
	spushs
	spop $a
	call [$a],show
	push 1
	push ipredkosc
	push snak1
	push "endset3"
	call clfio,setopacity
	push 1
	push ipredkosc
	push snak2
	push "null"
	call clfio2,setopacity
	cthis terror
l1249:
	end method
	method TMemo4
	push staf1
	spushs
	spop $a
	call [$a],hide
	push staf2
	spushs
	spop $a
	call [$a],hide
	push iplayer
	push icompplayer
	cmpjne
	cmp0
	je l1254
	push 1
	pop imemostate
l1254:
	push "aigo"
	cthis startai
	end method
	method tclicks
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis tclick
	end method
	method tclick
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grnak,isin
	cmp0
	je l1256
	localstring $3
	call grnak,getsfound
	pop $3
	jmp l1255
l1256:
	ret
l1255:
	cthis tchoose
	push imemostate
	push 1
	cmpje
	cmp0
	jne l1259
	push imemostate
	push 11
	cmpje
	jmp l1260
l1258:
	push 0
	jmp l1260
l1259:
	push 1
l1260:
	cmp0
	je l1261
	sub imemostate,1
	pop imemostate
	push $3
	pop snak1
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	push 1
	push 1
	call grtaf,getimg
	pop staf1
	push staf1
	push "null"
	call vecai,vecset
	push staf1
	call vecai,addbegin
	push 30
	call vecai,veclimes
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push $3
	push "TMemo5"
	call clfio,setopacity
	jmp l1257
l1261:
	push imemostate
	push 2
	cmpje
	cmp0
	jne l1264
	push imemostate
	push 12
	cmpje
	jmp l1265
l1263:
	push 0
	jmp l1265
l1264:
	push 1
l1265:
	cmp0
	je l1266
	push 2
	popax
	sub imemostate,$a
	pop imemostate
	push $3
	pop snak2
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	push 1
	push 1
	call grtaf,getimg
	pop staf2
	push staf2
	push "null"
	call vecai,vecset
	push staf2
	call vecai,addbegin
	push 30
	call vecai,veclimes
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push $3
	push "endset2"
	call clfio,setopacity
l1266:
l1257:
	end method
	method TMemo5
	push snak1
	spushs
	spop $a
	call [$a],hide
	push 2
	popax
	add imemostate,$a
	pop imemostate
	push "aigo2"
	cthis startai
	end method
	method mouselclick
	push A
	push 1
	push 2
	call imemostate,in
	cmp0
	je l1268
	call mouse,getpos
	cthis tclick
l1268:
	clparent GameController,mouselclick
	end method
	method tnextplayer
	push iplayer
	push 1
	cmpje
	cmp0
	je l1270
	push 2
	jmp l1269
l1270:
	push 1
l1269:
	pop iplayer
	end method
	method tfinish
	end method
	method tpoint
	end method
	method terror
	end method
	method tchoose
	end method
	end class

	class TPainter
	parent GameController
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	clparent GameController,init
	cthis unlock
	push $2
	cthis setgraphpath
	push "anbkg"
	push $3
	push 0
	cthis newanima
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	add $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $8
	localint $9
	push $7
	spushs
	push "ru"
	cmpst
	jne l1272
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getpy
	pop $9
	jmp l1271
l1272:
	push "rd"
	cmpst
	jne l1273
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getey
	pop $9
	jmp l1271
l1273:
	push "ld"
	cmpst
	jne l1274
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getey
	pop $9
	jmp l1271
l1274:
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getpy
	pop $9
l1271:
	push $8
	push $9
	call anbrush1,saverelpos
	push $8
	push $9
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l1275:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l1276
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l1278
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l1278:
	jmp l1275
l1276:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,mouse_move
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method mouse_lclick
	cthis getlock
	neg
	cmp0
	je l1280
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l1282
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	jmp l1281
l1282:
	push $1
	push $2
	push 1
	push 1
	call grpaleta,isin
	cmp0
	je l1284
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
l1284:
l1281:
l1280:
	end method
	end class

	class TRoznice
	parent GameController
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	clparent GameController,init
	cthis unlock
	push $2
	cthis setgraphpath
	push "anbkg"
	push $3
	push 0
	cthis newanima
	push "anbg1"
	push $4
	push 10
	cthis newanima
	push "anbg1"
	push "anbg2"
	cthis copyanima
	new gmimgvec,gr1
	push "gr1"
	push $5
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,gr2
	localint $6
	localstring $7
	localstring $8
	localint $9
	push 0
	pop $9
l1285:
	push $9
	call gr1,size
	cmpjl
	cmp0
	je l1286
	jmp l1288
l1287:
	add $9,1
	pop $9
	jmp l1285
l1288:
	push 2
	call $6,rand
	pop $6
	push $9
	call gr1,get
	pop $7
	push $7
	spushs
	push $9
	push $6
	spop $a
	call [$a],setframe
	push "anel2_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $8
	push $7
	push $8
	cthis copyanima
	push $8
	spushs
	push $9
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	spop $a
	call [$a],setframe
	push $8
	call gr2,add
	jmp l1287
l1286:
	new gmimgvec,gral
	push "gral"
	push "gr1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "gr2"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anbg1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anbg2"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	call anbg1,getpx
	popax
	sub 0,$a
	call anbg1,getpy
	popax
	sub 0,$a
	call gral,move
	push 400
	call anbg1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	call gral,move
	push A
	push "anbg2"
	push "gr2"
	push "TRoznice0"
	cthis with
	push A
	push "gr1"
	push "gr2"
	push "TRoznice1"
	cthis with
	end method
	method TRoznice0
	push 400
	push 0
	cthis move
	end method
	method TRoznice1
	push 20
	cthis setz
	end method
	method tremove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	push $2
	push $3
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1290
	push $4
	spushs
	spop $a
	call [$a],getsfound
	spushs
	spop $a
	call [$a],TRoznice2
	localint $5
	push $4
	spushs
	spop $a
	call [$a],getfound
	pop $5
	push $4
	spushs
	push $5
	spop $a
	call [$a],removeat
	push "gr"
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spop $a
	call [$a],removeat
	call gr1,empty
	cmp0
	je l1292
	cthis tfinish
	jmp l1291
l1292:
	cthis tpoint
l1291:
	push 1
	jmp l1289
l1290:
	push 0
l1289:
	end method
	method TRoznice2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method remained
	call gr1,size
	end method
	method mouselclick
	cthis getlock
	neg
	cmp0
	je l1294
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push 1
	push $1
	push $2
	cthis tremove
	neg
	cmp0
	je l1296
	push 2
	push $1
	push $2
	cthis tremove
	popax
l1296:
l1294:
	clparent GameController,mouse_lclick
	end method
	method tpoint
	end method
	method tfinish
	end method
	end class

	class classadvadamigo2
	parent classadv
	method init
	push 0
	pop igmstate
	clparent classadv,init
	push "sounds/adamigo2/"
	cthis setwavpath
	push "sfxgetitem"
	push "sfx/getitem.wav"
	cthis newsnd
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	end method
	method loadzol
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localdef $4
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	spop $e
	new anima,[$e]
	push $4
	spushs
	push "scripts/common/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $4
	spushs
	push 200
	spop $a
	call [$a],setz
	push $4
	spushs
	push "stand"
	push 0
	spop $a
	call [$a],setframe
	push $4
	spushs
	push 2
	spop $a
	call [$a],setdelay
	push $4
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	end method
	method loadgeneral
	localdef $1
	localdef $2
	pop $2
	pop $1
	push "general"
	push $1
	push $2
	cthis loadzol
	push "bmow"
	push 1
	call angeneral,var2
	push "onfinish"
	push "classadvadamigo20"
	call angeneral,addmethod
	push "onendframe"
	push "classadvadamigo21"
	call angeneral,addmethod
	end method
	method classadvadamigo20
	cthis actionname
	push "talk"
	cmpje
	cmp0
	je l1298
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l1297
l1298:
	push 1
	pop bmow
l1297:
	end method
	method classadvadamigo21
	cthis framename
	push "bam"
	cmpje
	cmp0
	je l1300
	push "ansoldat"
	call engine,varexist
	cmp0
	je l1300
	push bmow
	cmp0
	je l1300
	push 0
	spushs
	push 4
	spop $h
	call $h,rand
	neg
	jmp l1302
l1300:
	push 0
	jmp l1302
l1301:
	push 1
l1302:
	cmp0
	je l1303
	push "go"
	call ansoldat,play
	push 0
	pop bmow
l1303:
	end method
	method loadsoldat
	localdef $1
	localdef $2
	pop $2
	pop $1
	push "soldat"
	push $1
	push $2
	cthis loadzol
	push "onfinish"
	push "classadvadamigo22"
	call ansoldat,addmethod
	push "fxsoldat"
	push "sfx/soldat.wav"
	cthis newsnd
	push "onstart"
	push "classadvadamigo23"
	call ansoldat,addmethod
	end method
	method classadvadamigo22
	cthis actionname
	push "talk"
	cmpje
	cmp0
	je l1305
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l1304
l1305:
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l1307
	push "stand"
	cthis play
l1307:
l1304:
	end method
	method classadvadamigo23
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l1309
	call fxsoldat,play
l1309:
	end method
	method soldatstand
	push 0
	spushs
	push 4
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l1311
	push "go"
	call ansoldat,play
	jmp l1310
l1311:
	push "stand"
	call ansoldat,play
l1310:
	end method
	method soldattalk
	localstring $1
	pop $1
	push $1
	clparent classsound,cbplay2
	push "talk"
	call ansoldat,play
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method advclick
	push igmdebug
	cmp0
	je l1313
	push igmstate
	push 0
	cmpje
	cmp0
	jne l1316
	push igmstate
	push 5
	cmpje
	jmp l1317
l1315:
	push 0
	jmp l1317
l1316:
	push 1
l1317:
	jmp l1318
l1313:
	push 0
	jmp l1318
l1314:
	push 1
l1318:
	cmp0
	je l1319
	push 1
	cthis cactsndstop
l1319:
	end method
	method keydown
	push igmdebug
	push 0
	cmpje
	cmp0
	je l1321
	ret
l1321:
	push "p"
	call keyboard,iskey
	cmp0
	je l1323
	call clpause,pause
	jmp l1322
l1323:
	push "escape"
	call keyboard,iskey
	cmp0
	je l1325
	call claskexit,askexittomenu
	jmp l1324
l1325:
l1324:
l1322:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/adamigo2/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/musicadamigo2.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/adamigo2/sfx/butmovon.wav"
	call sndakskermovon,load
	push "scripts/help/"
	push "helpcfg.db"
	new Helper,clhelp
	module claskexit
	parent classasker
	method init
	clparent classasker,init
	push "sounds/adamigo2/"
	cthis setwavpath
	push "sndaskexit"
	push "nar07.wav"
	cthis newsnd
	push "sndyes"
	push "nar08.wav"
	cthis newsnd
	push "sndno"
	push "nar09.wav"
	cthis newsnd
	push "sndaskrestart"
	push "nar11.wav"
	cthis newsnd
	push "sndaskrestart2"
	push "nar14.wav"
	cthis newsnd
	push "scripts/common/asker.pyz"
	push 2000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	call gameapi,getgamename
	spushs
	push "gamemenu"
	cmpst
	jne l1327
	spop $a
	push "gameoutro"
	jmp l1326
l1327:
	push "gamemodeldow"
	cmpst
	jne l1328
	spop $a
	push "gamemenumodel"
	jmp l1326
l1328:
	push "gamemodelproj"
	cmpst
	jne l1329
	spop $a
	push "gamemenumodel"
	jmp l1326
l1329:
	push "gamewstawianka"
	cmpst
	jne l1330
	spop $a
	push "MenuPuzzle"
	jmp l1326
l1330:
	push "gamewstawiankazgadanka"
	cmpst
	jne l1331
	spop $a
	push "gamemenuwstaw"
	jmp l1326
l1331:
	push "gamedopasowankamulti"
	cmpst
	jne l1332
	spop $a
	push "gamemenudopas"
	jmp l1326
l1332:
	push "gamedopasowankamonomenu"
	cmpst
	jne l1333
	spop $a
	push "gamemenudopas"
	jmp l1326
l1333:
	push "gamedopasowankamono"
	cmpst
	jne l1334
	spop $a
	push "gamemenudopas"
	jmp l1326
l1334:
	push "gamesubmenuwstaw"
	cmpst
	jne l1335
	spop $a
	push "gamemenuwstaw"
	jmp l1326
l1335:
	push "MenuMemo"
	cmpst
	jne l1336
	spop $a
	push "gamemenu"
	jmp l1326
l1336:
	push "Memo"
	cmpst
	jne l1337
	spop $a
	push "MenuMemo"
	jmp l1326
l1337:
	push "zgadnijmulti1"
	cmpst
	jne l1338
	spop $a
	push "gamemenu"
	jmp l1326
l1338:
	push "zgadnijmulti2"
	cmpst
	jne l1339
	spop $a
	push "gamemenu"
	jmp l1326
l1339:
	push "MenuKolorowanka"
	cmpst
	jne l1340
	spop $a
	push "gamemenu"
	jmp l1326
l1340:
	push "Kolorowanka"
	cmpst
	jne l1341
	spop $a
	push "MenuKolorowanka"
	jmp l1326
l1341:
	push "MenuPuzzleTryb"
	cmpst
	jne l1342
	spop $a
	push "gamemenu"
	jmp l1326
l1342:
	push "MenuPuzzle"
	cmpst
	jne l1343
	spop $a
	push "MenuPuzzleTryb"
	jmp l1326
l1343:
	push "Puzzle"
	cmpst
	jne l1344
	spop $a
	push "MenuPuzzle"
	jmp l1326
l1344:
	push "MenuRoznice"
	cmpst
	jne l1345
	spop $a
	push "gamemenu"
	jmp l1326
l1345:
	push "Roznice"
	cmpst
	jne l1346
	spop $a
	push "MenuRoznice"
	jmp l1326
l1346:
	spop $a
	push "gamemenu"
l1326:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "Memo"
	cmpst
	jne l1348
	spop $a
	push "gamemenu"
	jmp l1347
l1348:
	spop $a
	push "gamemenu"
l1347:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	end module

	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 4000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	push "scripts/common/buts.db"
	call dbb,load
	new snd,sndfxglobon
	push "sounds/adamigo2/sfx/globbutmovon.wav"
	call sndfxglobon,load
	new def,bvisible
	push 1
	pop bvisible
	new img,imgadamigo
	call imgadamigo,clbuts0
	end method
	method clbuts0
	push "scripts/common/adamigo.png"
	cthis load
	push 3900
	cthis setz
	push 800
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 490
	cthis setpos
	cthis hide
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1350
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l1351:
	push $4
	push $3
	cmpjl
	cmp0
	je l1352
	jmp l1354
l1353:
	add $4,1
	pop $4
	jmp l1351
l1354:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l1353
l1352:
l1350:
	push $1
	push "gameintro"
	cmpje
	cmp0
	jne l1357
	push $1
	push "gameoutro"
	cmpje
	jmp l1358
l1356:
	push 0
	jmp l1358
l1357:
	push 1
l1358:
	cmp0
	je l1359
	call imgadamigo,hide
	jmp l1355
l1359:
	call imgadamigo,show
l1355:
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l1361
	call mouse,hide
l1361:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	spushs
	push "pause"
	cmpst
	jne l1363
	spop $a
	call clpause,pause
	jmp l1362
l1363:
	push "exit"
	cmpst
	jne l1364
	spop $a
	call claskexit,askexittomenu
	jmp l1362
l1364:
	push "restart"
	cmpst
	jne l1365
	spop $a
	call claskexit,askrestart
	jmp l1362
l1365:
	push "help"
	cmpst
	jne l1366
	spop $a
	call clhelp,show
	jmp l1362
l1366:
	push "helpmemo"
	cmpst
	jne l1367
	spop $a
	call clhelp,show
	jmp l1362
l1367:
	spop $a
l1362:
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push 0
	pop igmstate
	push 0
	push 0
	push 0
	push 1
	pop igmbegin
	pop igmdemo
	pop igmeasy
	pop igmdebug
	call bsms,setstd
	call clbuts,load
	push "gameintro"
	call gameapi,play
	game gameintro
	parent classadvadamigo2
	parent GameController
	method init
	clparent classadvadamigo2,init
	push "intro"
	clparent GameController,init
	push "intro"
	cthis path=
	push "anbkg"
	push "bkg.pyz"
	push 0
	cthis newanima
	push "anob"
	push "obraz.pyz"
	push 10
	cthis newanima
	push A
	push "sndintro"
	push "Witamy w wiecie gier i zabaw Adamigo; Nasza dewiza to edukacja poprzez zabaw"
	push "endintro"
	cthis buildsnds
	push 394
	push 212
	call anob,setpos
	new filter,fob
	push "timcyk"
	push 1
	push 1
	push "fincyk"
	cthis cnewtimercyclefin
	new def,blewo
	push 1
	pop blewo
	new def,rrot
	push 0.0
	pop rrot
	push "anob"
	call fob,link
	push 2
	call fob,setpivottype
	push 130
	push 573
	cthis loadsoldat
	push 648
	push 574
	cthis loadgeneral
	push "sndintro"
	cthis cbplay
	new def,rotstep
	push 3.0
	pop rotstep
	new def,rbor
	push 22.0
	pop rbor
	call timcyk,play
	end method
	method fincyk
	localdef $1
	push rrot
	pop $1
	push blewo
	cmp0
	je l1369
	push rrot
	push 0.0
	cmpjle
	cmp0
	je l1371
	cthis rotstep
	popax
	add rrot,$a
	pop rrot
	push 0
	pop blewo
	jmp l1370
l1371:
	cthis rotstep
	popax
	sub rrot,$a
	pop rrot
l1370:
	jmp l1368
l1369:
	push rrot
	push rbor
	cmpjae
	cmp0
	je l1373
	push 1
	pop blewo
	cthis rotstep
	popax
	sub rrot,$a
	pop rrot
	jmp l1372
l1373:
	cthis rotstep
	popax
	add rrot,$a
	pop rrot
l1372:
l1368:
	push rrot
	push $1
	pop $b
	popax
	sub $a,$b
	call fob,rotate
	cthis play
	end method
	method rbetween
	localreal $1
	localreal $2
	pop $2
	pop $1
	push rrot
	push $1
	cmpjle
	cmp0
	jne l1375
	push rrot
	push $2
	cmpjae
	jmp l1376
l1374:
	push 0
	jmp l1376
l1375:
	push 1
l1376:
	end method
	method rotstep
	push 3
	push rbor
	push 3
	pop $b
	popax
	sub $a,$b
	cthis rbetween
	cmp0
	je l1378
	push 1.0
	jmp l1377
l1378:
	push 8
	push rbor
	push 8
	pop $b
	popax
	sub $a,$b
	cthis rbetween
	cmp0
	je l1380
	push 2.0
	jmp l1379
l1380:
	push rotstep
l1379:
l1377:
	end method
	method endintro
	push "gamemenu"
	call gameapi,play
	end method
	method mouselclick
	cthis endintro
	end method
	method cbplay
	localstring $1
	pop $1
	push $1
	clparent classsound,cbplay2
	push "talk"
	call angeneral,play
	end method
	end game

	new int,StartAdamigo
	push 1
	pop StartAdamigo
	game gamemenu
	parent classadvadamigo2
	parent TMenu
	method init
	clparent classadvadamigo2,init
	push 315
	push 591
	cthis loadsoldat
	push 442
	push 588
	cthis loadgeneral
	push A
	push "mysz1 50"
	push "wlacznik 20"
	push "blink 20"
	cthis sfxs=
	new anima,anblink
	call anblink,gamemenu0
	push "timblink"
	push 500
	push 0
	spushs
	push 10
	spop $h
	call $h,rand
	push 100
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push "gamemenu2"
	cthis timer=
	call timblink,play
	push "menug"
	push "scripts/menus/"
	push "menuglowne.pyz"
	cthis tinit
	localdef $1
	push "gamemenu3"
	pop $1
	push A
	push "sndintro"
	push "Witamy w programie Edukacja z Adamigo! Wybierz gr"
	push $1
	push "sndpuzzle"
	push "puzzle i wstawianie"
	push $1
	push "sndroznice"
	push "rnice"
	push $1
	push "snddopas"
	push "dopasowywanie elementw"
	push $1
	push "sndkolorowanka"
	push "kolorowanka"
	push $1
	push "sndzagadki"
	push "zagadki"
	push $1
	push "sndmemo"
	push "memo"
	push $1
	cthis buildsnds
	push StartAdamigo
	cmp0
	je l1382
	push 0
	pop StartAdamigo
	push "sndintro"
	cthis cbplay
l1382:
	new gmimgvec,grlamp
	push "grlamp"
	push "lamp.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 10
	call anlamp0,setz
	push 100
	call anlamp1,setz
	push 110
	call anlamp2,setz
	call anlamp2,hide
	push "anmysz"
	push "myszka.pyz"
	push 15
	cthis newanima
	new int,imousestate
	push 0
	pop imousestate
	new int,imyszspeed
	push 10
	popax
	sub 0,$a
	pop imyszspeed
	new int,imyszspeed2
	push 1800
	push 0
	call anmysz,move
	push "onfinish"
	push "mousefin"
	call anmysz,addmethod
	push 0
	call anmysz,play
	end method
	method gamemenu0
	push "scripts/menus/bgblink.pyz"
	cthis load
	push 10
	cthis setz
	cthis hide
	push 4
	cthis setdelay
	push "onfinish"
	push "gamemenu1"
	cthis addmethod
	end method
	method gamemenu1
	cthis hide
	end method
	method gamemenu2
	push 500
	push 0
	spushs
	push 10
	spop $h
	call $h,rand
	push 600
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis delay
	call anblink,show
	push 0
	call anblink,play
	call fxblink,play
	cthis play
	end method
	method gamemenu3
	push "stand"
	call angeneral,play
	end method
	method cbplay
	localstring $1
	pop $1
	push $1
	clparent classsound,cbplay2
	push "talk"
	call angeneral,play
	end method
	method mousefin
	push imousestate
	spushs
	push 0
	cmpst
	jne l1384
	spop $a
	cthis getpx
	push 500
	cmpjl
	cmp0
	je l1386
	push 1
	pop imousestate
	push imyszspeed
	pop imyszspeed2
	call fxmysz1,play
l1386:
	push imyszspeed
	push 0
	cthis move
	jmp l1383
l1384:
	push 1
	cmpst
	jne l1387
	spop $a
	push imyszspeed2
	push 0
	cmpjae
	cmp0
	je l1389
	add imousestate,1
	pop imousestate
	jmp l1388
l1389:
	add imyszspeed2,1
	pop imyszspeed2
	push imyszspeed2
	push 0
	cthis move
l1388:
	jmp l1383
l1387:
	push 20
	cmpst
	jne l1390
	spop $a
	push imyszspeed2
	push imyszspeed
	cmpje
	cmp0
	je l1392
	push 21
	pop imousestate
	jmp l1391
l1392:
	push imyszspeed2
	push 0
	cthis move
	sub imyszspeed2,1
	pop imyszspeed2
l1391:
	jmp l1383
l1390:
	push 21
	cmpst
	jne l1393
	spop $a
	cthis getex
	push 100
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l1395
	push 0
	pop imousestate
	cthis getpx
	push 1800
	pop $b
	popax
	sub $a,$b
	popax
	sub 0,$a
	push 0
	cthis move
	jmp l1394
l1395:
	push imyszspeed
	push 0
	cthis move
l1394:
	jmp l1383
l1393:
	spop $a
	add imousestate,1
	pop imousestate
l1383:
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method mouse_lclick
	call mouse,getpos
	push 1
	push 1
	call anlamp0,isin
	cmp0
	je l1397
	call anlamp0,framenr
	push 0
	cmpje
	cmp0
	je l1399
	push 0
	push 1
	call anlamp0,setframe
	push 2
	call anlamp2,play
	call fxwlacznik,play
	jmp l1398
l1399:
	push 0
	push 0
	call anlamp0,setframe
	call anlamp2,anhide
	call fxwlacznik,play
l1398:
l1397:
	end method
	method puzzle_BUTCLICK
	push "MenuPuzzleTryb"
	call gameapi,play
	end method
	method roznice_BUTCLICK
	push "MenuRoznice"
	call gameapi,play
	end method
	method dopas_BUTCLICK
	push "gamemenudopas"
	call gameapi,play
	end method
	method kolorowanka_BUTCLICK
	push "MenuKolorowanka"
	call gameapi,play
	end method
	method zagadki_BUTCLICK
	push 1
	pop igmbegin
	push "zgadnijmulti1"
	call gameapi,play
	end method
	method memo_BUTCLICK
	push "MenuMemo"
	call gameapi,play
	end method
	end game

	game gameoutro
	parent classadvadamigo2
	method init
	clparent classadvadamigo2,init
	push "outro"
	cthis path=
	new gmimgvec,grbg
	push "grbg"
	push "bgs.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "titles.pyz"
	cthis img=
	new def,idtit
	push 0
	pop idtit
	new def,Ile
	push 0
	pop Ile
	new def,Id
	push 0
	pop Id
	new gmimgvec,grim
	localstring $1
	localint $2
	push 0
	pop $2
l1400:
	push $2
	push 11
	cmpjl
	cmp0
	je l1401
	jmp l1403
l1402:
	add $2,1
	pop $2
	jmp l1400
l1403:
	push "img"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	call grim,add
	jmp l1402
l1401:
	push "dbl"
	push "pos.db"
	cthis newdb
	new classfadeinout,clf
	push "timcyk"
	push 1000
	push 1
	push "fintim"
	cthis cnewtimerfin
	cthis view
	end method
	method fintim
	push 1
	push 5
	popax
	sub 0,$a
	push "img"
	push Id
	pop $b
	popax
	add $a,$b
	push "next"
	call clf,imgtransparency
	end method
	method next
	localdef $1
	push "img"
	push Id
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	push 255
	spop $a
	call [$a],transparency
	push $1
	spushs
	spop $a
	call [$a],hide
	add Id,1
	pop Id
	push Id
	push Ile
	cmpje
	cmp0
	je l1405
	cthis view
	jmp l1404
l1405:
	call timcyk,play
l1404:
	end method
	method view
	push idtit
	push 0
	call antitles,nofframes
	cmpje
	cmp0
	je l1407
	cthis endintro
	jmp l1406
l1407:
	call grim,hide
	localstring $1
	push idtit
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop Ile
	push 0
	pop Id
	localint $2
	push 0
	pop $2
l1408:
	push $2
	push Ile
	cmpjl
	cmp0
	je l1409
	jmp l1411
l1410:
	add $2,1
	pop $2
	jmp l1408
l1411:
	push "img"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	push "scripts/outro/o"
	push idtit
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $1
	spushs
	push idtit
	push 3
	push $2
	pop $b
	popax
	mul $a,$b
	push 2
	pop $b
	popax
	add $a,$b
	call dbl,get
	push idtit
	push 3
	push $2
	pop $b
	popax
	mul $a,$b
	push 3
	pop $b
	popax
	add $a,$b
	call dbl,get
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],show
	push $1
	spushs
	push 20
	push $2
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l1410
l1409:
	push 0
	push idtit
	call antitles,setframe
	add idtit,1
	pop idtit
	call timcyk,play
l1406:
	end method
	method endintro
	push "exit"
	call gameapi,play
	end method
	method mouselclick
	cthis endintro
	end method
	end game

	new int,iKolorowankaTryb
	push 1
	pop iKolorowankaTryb
	new vector,vPostacie
	call vPostacie,global3
	method global3
	push "string"
	cthis type
	push "begin"
	push "detektyw"
	push "informatyk"
	push "kwiaciarka"
	push "kucharz"
	push "fryzjerka"
	push "malarz"
	push "marynarz"
	push "naukowiec"
	push "policjant"
	push "strazak"
	push "nauczycielka"
	cthis beginadd
	end method
	new def,KoloLudek
	push 0
	call vPostacie,get
	pop KoloLudek
	class Dymarka
	method init
	end method
	method initdym
	push A
	push "tykacz"
	push "para 50"
	cthis sfxs=
	new anima,andym
	call andym,Dymarka0
	push "timdym"
	push 2000
	push 0
	spushs
	push 1000
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push "Dymarka2"
	cthis timer=
	call timdym,play
	new anima,anmano
	call anmano,Dymarka3
	end method
	method Dymarka0
	push "scripts/puzzle/dym.pyz"
	cthis load
	push 15
	cthis setz
	cthis hide
	push "onfinish"
	push "Dymarka1"
	cthis addmethod
	end method
	method Dymarka1
	cthis hide
	call timdym,play
	end method
	method Dymarka2
	push 1
	popax
	sub 0,$a
	call andym,play
	call fxpara,play
	push 2000
	push 0
	spushs
	push 20
	spop $h
	call $h,rand
	push 500
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis delay
	end method
	method Dymarka3
	push "scripts/kolorowanka/"
	push 0
	spushs
	push 2
	spop $h
	call $h,rand
	cmp0
	je l1413
	push "manometr"
	jmp l1412
l1413:
	push "manodrugi"
l1412:
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis load
	push 11
	cthis setz
	push "onstart"
	push "Dymarka4"
	cthis addmethod
	end method
	method Dymarka4
	call fxtykacz,playif
	end method
	end class

	game MenuKolorowanka
	parent classadvadamigo2
	parent TMenu
	parent Dymarka
	method init
	clparent classadvadamigo2,init
	push 0
	push 630
	cthis loadsoldat
	call ansoldat,anaddfilter
	push 315
	call ansoldat,rotate
	push "mkolorowanka"
	push "scripts/kolorowanka/"
	push "podmenu.pyz"
	cthis tinit
	push A
	push "sndintro"
	push "Wybierz tryb kolorowania"
	push "soldatstand"
	push "sndsterowany"
	push "Pokoloruj posta jak na obrazku"
	push "soldatstand"
	push "snddowolny"
	push "Pokoloruj posta dowolnie"
	push "soldatstand"
	cthis buildsnds
	cthis initdym
	push "onfinish"
	push "MenuKolorowanka0"
	call anmano,addmethod
	push "sndintro"
	cthis cbplay
	end method
	method MenuKolorowanka0
	push "Kolorowanka"
	call gameapi,play
	end method
	method cbplay
	localdef $1
	pop $1
	push $1
	cthis soldattalk
	end method
	method startgra
	localint $1
	pop $1
	push igmstate
	push 10
	cmpjne
	cmp0
	je l1415
	push 1
	pop igmbegin
	push 10
	pop igmstate
	push $1
	pop iKolorowankaTryb
	push 1
	popax
	sub 0,$a
	call anmano,play
	push 0
	call andym,play
l1415:
	end method
	method sterowany_BUTCLICK
	push 1
	cthis startgra
	end method
	method dowolny_BUTCLICK
	push 0
	cthis startgra
	end method
	end game

	game Kolorowanka
	parent classadvadamigo2
	parent TPainter
	method init
	clparent classadvadamigo2,init
	push A
	push "pedzel 60"
	push "pedzel2 60"
	push "ikonka 70"
	cthis sfxs=
	push iKolorowankaTryb
	push 0
	cmpje
	cmp0
	je l1417
	push "paintdow"
	push "scripts/kolorowanka/"
	push "bgdowolny.pyz"
	push "brush.pyz"
	push KoloLudek
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "coldowolny.pyz"
	push "lu"
	cthis tinit
	push A
	push "sndintro"
	push "Pokoloruj obrazek"
	push "null"
	cthis sounds=
	push "anlewo"
	push "strzalki2.pyz"
	push 200
	cthis newanima
	push "anlewo"
	push "anprawo"
	cthis copyanima
	push "right"
	push 0
	call anprawo,setframe
	push "anlewo"
	push "anbgstrz"
	cthis copyanima
	push "bg"
	push 0
	call anbgstrz,setframe
	push 190
	call anbgstrz,setz
	new gmimgvec,strzalki
	push "strzalki"
	push "anlewo"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anprawo"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	new string,smoved
	push "null"
	pop smoved
	push "Kolorowanka0"
	call grpaleta,each
	cthis unlock
	jmp l1416
l1417:
	push "paint"
	push "scripts/kolorowanka/"
	push "bkg.pyz"
	push "brush.pyz"
	push KoloLudek
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push KoloLudek
	push "kol.pyz"
	pop $b
	popax
	add $a,$b
	push "lu"
	cthis tinit
	cthis lockall
	new gmimgvec,grmaly
	call grmaly,Kolorowanka1
	new classplacepointer2,clp
	new classsimplebutton,cbok
	push "scripts/menus/przycok.pyz"
	push "imglobcurs"
	push 0
	push 545
	push 100
	push 0
	call cbok,build
	push A
	push "detektyw"
	push "informatyk"
	push "kucharz"
	push "malarz"
	push "marynarz"
	push "naukowiec"
	push "policjant"
	push "strazak"
	push "lmen"
	cthis list=
	push A
	push "fryzjerka"
	push "kwiaciarka"
	push "nauczycielka"
	push "lwomen"
	cthis list=
	localdef $1
	push "Kolorowanka2"
	pop $1
	localdef $2
	push "Kolorowanka3"
	pop $2
	localdef $3
	push "Kolorowanka4"
	pop $3
	new def,splec
	push KoloLudek
	call lmen,contains
	cmp0
	je l1421
	push "men"
	jmp l1420
l1421:
	push "women"
l1420:
	pop splec
	new def,sfunstart
	push "Kolorowanka5"
	pop sfunstart
	push A
	push "sndintro"
	push "Pokoloruj posta ktr widzisz na rodku ekranu tak samo jak t w rogu"
	push "Kolorowanka6"
	push "snddalej"
	push "Jeeli uznasz e posta pokolorowana jest prawidowo wcinij przycisk sprawd"
	push "Kolorowanka7"
	push "sndstart"
	push "Zaczynamy!"
	push sfunstart
	push "sndok"
	push "Brawo! Idealnie"
	push "Kolorowanka8"
	push "sndmen"
	push "pokolorowany"
	push $1
	push "sndwomen"
	push "pokolorowana"
	push $1
	push "snddetektyw"
	push "detektyw"
	push $2
	push "sndinformatyk"
	push "informatyk"
	push $2
	push "sndkucharz"
	push "kucharz"
	push $2
	push "sndmalarz"
	push "malarz"
	push $2
	push "sndmarynarz"
	push "marynarz"
	push $2
	push "sndnaukowiec"
	push "naukowiec"
	push $2
	push "sndpolicjant"
	push "policjant"
	push $2
	push "sndstrazak"
	push "straak"
	push $2
	push "sndfryzjerka"
	push "fryzjerka"
	push $2
	push "sndkwiaciarka"
	push "kwiaciarka"
	push $2
	push "sndnauczycielka"
	push "nauczycielka"
	push $2
	push "sndend"
	push "Kliknij aby przej do kolorowania nastpnej postaci"
	push "Kolorowanka9"
	push "sndnon"
	push "Niestety"
	push "Kolorowanka10"
	push "sndpowrotmen"
	push "nie jest tak samo pokolorowany jak ten w rogu"
	push $3
	push "sndpowrotwomen"
	push "nie jest tak samo pokolorowana jak ta w rogu"
	push $3
	push "snddalej2"
	push "Przypatrz si uwanie popraw bdy i kliknij przycisk sprawd ponownie"
	push sfunstart
	cthis sounds=
	new vector,vkolory
	push "Kolorowanka11"
	call grmaly,each
l1416:
	new Color,color
	call color,Kolorowanka13
	push "Kolorowanka14"
	call grdraw,each
	push iKolorowankaTryb
	push 0
	cmpje
	cmp0
	je l1423
	cthis loadgame
l1423:
	push igmbegin
	cmp0
	je l1425
	push "sndintro"
	cthis cbplay
	push 0
	pop igmbegin
	jmp l1424
l1425:
	push iKolorowankaTryb
	push 1
	cmpje
	cmp0
	je l1427
	push "sndstart"
	cthis cbplay
l1427:
l1424:
	end method
	method Kolorowanka0
	localdef $1
	pop $1
	cthis getcx
	cthis getcy
	cthis getrgba
	push 0
	cthis paint
	end method
	method Kolorowanka1
	cthis getname
	push KoloLudek
	push "s.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	cthis setz
	localdef $1
	push "foreground"
	cthis findsac
	cthis get
	pop $1
	push $1
	cthis remove
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	end method
	method Kolorowanka2
	push "snd"
	push KoloLudek
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Kolorowanka3
	push igmstate
	push 2
	cmpje
	cmp0
	je l1419
	push "sndend"
	jmp l1418
l1419:
	push "sndpowrot"
	push splec
	pop $b
	popax
	add $a,$b
l1418:
	cthis cbplay
	end method
	method Kolorowanka4
	push "snddalej2"
	cthis cbplay
	end method
	method Kolorowanka5
	cthis unlockall
	push 1
	pop igmstate
	end method
	method Kolorowanka6
	push "getcx"
	call cbok,getimgfunc
	push "getcy"
	call cbok,getimgfunc
	push "ld"
	call clp,show
	push "snddalej"
	cthis cbplay
	end method
	method Kolorowanka7
	call clp,stoph
	push "sndstart"
	cthis cbplay
	end method
	method Kolorowanka8
	push "snd"
	push splec
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Kolorowanka9
	push 4
	pop igmstate
	end method
	method Kolorowanka10
	push 3
	pop igmstate
	push "snd"
	push KoloLudek
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Kolorowanka11
	localdef $1
	pop $1
	push "Kolorowanka12"
	cthis framename
	call grpaleta,_find1
	call vkolory,add
	localdef $2
	call vkolory,last
	call grpaleta,get
	pop $2
	push $2
	spushs
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],getrgba
	push 0
	cthis paint
	end method
	method Kolorowanka12
	localdef $1
	pop $1
	cthis framename
	spushs
	push $1
	spop $h
	call $h,contains
	end method
	method Kolorowanka13
	push 0
	call grpaleta,get
	cthis img=
	push 255
	pop a
	cthis get
	push 0
	call anbrush2,paint
	push "framenr"
	push 0
	call grpaleta,get
	spushs
	spop $a
	call [$a],framenr
	cthis var2
	end method
	method Kolorowanka14
	localdef $1
	pop $1
	push "colored"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method cbok_CLICK
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1429
	ret
l1429:
	push "Kolorowanka15"
	call grdraw,ineach
	cmp0
	je l1431
	push 2
	pop igmstate
	push "sndok"
	cthis cbplay
	jmp l1430
l1431:
	push 3
	pop igmstate
	push "sndnon"
	cthis cbplay
l1430:
	end method
	method Kolorowanka15
	localdef $1
	pop $1
	push colored
	push $1
	call vkolory,get
	cmpje
	end method
	method nextgame
	push KoloLudek
	call vPostacie,vecnext
	pop KoloLudek
	push "Kolorowanka"
	call gameapi,play
	end method
	method prevgame
	push KoloLudek
	call vPostacie,vecprev
	pop KoloLudek
	push "Kolorowanka"
	call gameapi,play
	end method
	method savegame
	new vector,vSave
	push "Kolorowanka16"
	call grdraw,each
	push "saves/kolo"
	push KoloLudek
	call vPostacie,find
	pop $b
	popax
	add $a,$b
	push ".vec"
	pop $b
	popax
	add $a,$b
	call vSave,save
	end method
	method Kolorowanka16
	localdef $1
	pop $1
	push colored
	call vSave,add
	end method
	method loadgame
	localdef $1
	push "saves/kolo"
	push KoloLudek
	call vPostacie,find
	pop $b
	popax
	add $a,$b
	push ".vec"
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1433
	new vector,vLoad
	push $1
	call vLoad,load
	push "Kolorowanka17"
	call grdraw,each
l1433:
	end method
	method Kolorowanka17
	localdef $1
	pop $1
	localdef $2
	push $1
	call vLoad,get
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1435
	localdef $3
	push $2
	call grpaleta,get
	pop $3
	push $3
	spushs
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],getrgba
	push 0
	cthis paint
l1435:
	push $2
	pop colored
	end method
	method mouse_move
	clparent TPainter,mouse_move
	push iKolorowankaTryb
	push 0
	cmpje
	cmp0
	je l1437
	call mouse,getpos
	push 1
	push 1
	call strzalki,isin
	cmp0
	je l1439
	push smoved
	call strzalki,getsfound
	cmpjne
	cmp0
	je l1441
	call fxikonka,play
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1443
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l1443:
	call strzalki,getsfound
	pop smoved
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1441:
	jmp l1438
l1439:
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1445
	push smoved
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push "null"
	pop smoved
l1445:
l1438:
l1437:
	end method
	method mouse_lclick
	push igmstate
	push 4
	cmpje
	cmp0
	je l1447
	cthis nextgame
	ret
l1447:
	push 1
	cthis cactsndstop
	cthis getlock
	neg
	cmp0
	je l1449
	localdef $1
	localint $2
	localint $3
	call mouse,getpos
	pop $3
	pop $2
	push $2
	push $3
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l1451
	call grdraw,getsfound
	pop $1
	push $1
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	push $1
	spushs
	call color,framenr
	spop $a
	call [$a],colored=
	call fxpedzel2,play
	jmp l1450
l1451:
	push $2
	push $3
	push 1
	push 1
	call grpaleta,isin
	cmp0
	je l1453
	call grpaleta,getsfound
	pop $1
	localdef $4
	localdef $5
	localdef $6
	localdef $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],getrgba
	pop $7
	pop $6
	pop $5
	pop $4
	push 255
	pop $7
	push $4
	push $5
	push $6
	push $7
	push 0
	call anbrush2,paint
	push $1
	spushs
	spop $a
	call [$a],framenr
	call color,framenr=
	call fxpedzel,play
	jmp l1452
l1453:
	push iKolorowankaTryb
	push 0
	cmpje
	cmp0
	je l1455
	push $2
	push $3
	push 1
	push 1
	call anlewo,isin
	jmp l1457
l1455:
	push 0
	jmp l1457
l1456:
	push 1
l1457:
	cmp0
	je l1458
	cthis savegame
	cthis prevgame
	jmp l1454
l1458:
	push iKolorowankaTryb
	push 0
	cmpje
	cmp0
	je l1460
	push $2
	push $3
	push 1
	push 1
	call anprawo,isin
	jmp l1462
l1460:
	push 0
	jmp l1462
l1461:
	push 1
l1462:
	cmp0
	je l1463
	cthis savegame
	cthis nextgame
l1463:
l1454:
l1452:
l1450:
l1449:
	end method
	end game

	game gamemenudopas
	parent classadvadamigo2
	parent TMenu
	method init
	clparent classadvadamigo2,init
	push 396
	push 600
	cthis loadsoldat
	push "mdopas"
	push "scripts/dopasowanki/"
	push "menudopas.pyz"
	cthis tinit
	push "anpojed"
	push "pojedyn.pyz"
	push 100
	cthis newanima
	push A
	push "sndintro"
	push "Wybierz tryb gry i plansz"
	push "soldatstand"
	push "sndall"
	push "wszystkie elementy"
	push "soldatstand"
	push "sndlazienka"
	push "azienka"
	push "soldatstand"
	push "sndsalon"
	push "salon"
	push "soldatstand"
	push "sndkuchnia"
	push "kuchnia"
	push "soldatstand"
	push "sndzabawowy"
	push "pokj dziecicy"
	push "soldatstand"
	cthis buildsnds
	push "sndintro"
	cthis cbplay
	new int,iZ
	call but1,gamemenudopas0
	pop iZ
	end method
	method gamemenudopas0
	call grbuts,getz
	end method
	method cbplay
	localdef $1
	pop $1
	push $1
	cthis soldattalk
	end method
	method playgame
	localstring $1
	pop $1
	push $1
	pop sgmdopas
	push 1
	pop bgmdopasbegin
	push "gamedopasowankamono"
	call gameapi,play
	end method
	method setact
	call but1,gamemenudopas1
	push 0
	push 1
	call anpojed,setframe
	end method
	method gamemenudopas1
	call grbuts,getsfound
	spushs
	push iZ
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	end method
	method setstd
	call but1,gamemenudopas2
	push 0
	push 0
	call anpojed,setframe
	end method
	method gamemenudopas2
	push iZ
	call grbuts,setz
	end method
	method all_BUTCLICK
	push 1
	pop bgmdopasbegin
	push "gamedopasowankamulti"
	call gameapi,play
	end method
	method lazienka_BUTCLICK
	push "lazienka"
	cthis playgame
	end method
	method salon_BUTCLICK
	push "salon"
	cthis playgame
	end method
	method zabawowy_BUTCLICK
	push "zabawowy"
	cthis playgame
	end method
	method kuchnia_BUTCLICK
	push "kuchnia"
	cthis playgame
	end method
	method lazienka_MOVEON
	cthis setact
	end method
	method lazienka_MOVEOFF
	cthis setstd
	end method
	method salon_MOVEON
	cthis setact
	end method
	method salon_MOVEOFF
	cthis setstd
	end method
	method kuchnia_MOVEON
	cthis setact
	end method
	method kuchnia_MOVEOFF
	cthis setstd
	end method
	method zabawowy_MOVEON
	cthis setact
	end method
	method zabawowy_MOVEOFF
	cthis setstd
	end method
	end game

	new string,sgmdopas
	new int,bgmdopasbegin
	push 1
	pop bgmdopasbegin
	game gamedopasowankamonomenu
	parent classadvadamigo2
	method init
	clparent classadvadamigo2,init
	localstring $1
	push "scripts/dopasowanki/"
	pop $1
	push 1
	pop bgmdopasbegin
	push $1
	cthis setgraphpath
	push "bgmenu.png"
	cthis csetbkg
	new classsimplebutton,cb1
	push $1
	push "lazienka.png"
	pop $b
	popax
	add $a,$b
	push "imglobcurs"
	push 100
	push 0
	push 10
	push 0
	call cb1,build
	new classsimplebutton,cb2
	push $1
	push "salon.png"
	pop $b
	popax
	add $a,$b
	push "imglobcurs"
	push 400
	push 0
	push 10
	push 0
	call cb2,build
	new classsimplebutton,cb3
	push $1
	push "kuchnia.png"
	pop $b
	popax
	add $a,$b
	push "imglobcurs"
	push 100
	push 300
	push 10
	push 0
	call cb3,build
	new classsimplebutton,cb4
	push $1
	push "zabawowy.png"
	pop $b
	popax
	add $a,$b
	push "imglobcurs"
	push 400
	push 300
	push 10
	push 0
	call cb4,build
	push "dbwav"
	push "menuwavs.db"
	cthis cloadwavs
	push "sndintro"
	cthis cbplay
	end method
	method playgame
	localstring $1
	pop $1
	push $1
	pop sgmdopas
	push "gamedopasowankamono"
	call gameapi,play
	end method
	method mmovon
	localstring $1
	pop $1
	call sndakskermovon,play
	call sndintro,isplaying
	push 0
	cmpje
	cmp0
	je l1465
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l1465:
	end method
	method cb1_CLICK
	push "lazienka"
	cthis playgame
	end method
	method cb2_CLICK
	push "salon"
	cthis playgame
	end method
	method cb3_CLICK
	push "kuchnia"
	cthis playgame
	end method
	method cb4_CLICK
	push "zabawowy"
	cthis playgame
	end method
	method cb1_MOVEON
	push "lazienka"
	cthis mmovon
	end method
	method cb2_MOVEON
	push "salon"
	cthis mmovon
	end method
	method cb3_MOVEON
	push "kuchnia"
	cthis mmovon
	end method
	method cb4_MOVEON
	push "zabawowy"
	cthis mmovon
	end method
	end game

	game classgamedopasowanka
	parent classadvadamigo2
	method init
	clparent classadvadamigo2,init
	push "scripts/dopasowanki/"
	cthis setgraphpath
	new classplacepointer2,clp
	new classsimplebutton,cbok
	push "scripts/menus/przycok.pyz"
	push "imglobcurs"
	push 0
	push 545
	push 1000
	push 0
	call cbok,build
	new int,izlicz
	push 30
	pop izlicz
	new gmimgvec,grel
	new gmimgvec,grsprawdz
	new gmimgvec,grpoprawne
	new int,iToler
	push 10
	pop iToler
	push "anel"
	push "elementy.pyz"
	push 10
	cthis newanima
	localint $1
	push "anel"
	push "anel"
	push "grel"
	cthis newanfrbyactgr
	pop $1
	call anel,hide
	call grel,hash
	new Rewinder,clrew
	push "scripts/wstawianki/strzalki.pyz"
	push 5
	push "imglobcurs"
	push "right"
	push 10
	push "grel"
	call clrew,build
	call anel,getw
	call clrew,getbutw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 120
	pop $b
	popax
	sub $a,$b
	push 0
	call grel,move
	push 120
	popax
	sub 0,$a
	push 0
	call clrew,movearrows
	push "anaddfilter"
	call grel,eval
	push "setpivottype"
	push 1
	call grel,eval1
	new int,itafx
	call grel,getpx
	pop itafx
	push "sfxmov"
	push "sfx/step.wav"
	cthis newsnd
	push "sfxclick"
	push "sfx/getitem.wav"
	cthis newsnd
	push "sfxrel"
	push "sfx/putpuz.wav"
	cthis newsnd
	new int,iletafli
	call grel,size
	pop iletafli
	localint $2
	push 0
	pop $2
l1466:
	push $2
	push iletafli
	cmpjl
	cmp0
	je l1467
	jmp l1469
l1468:
	add $2,1
	pop $2
	jmp l1466
l1469:
	push $2
	call grel,get
	spushs
	spop $a
	call [$a],_buildtafel
	jmp l1468
l1467:
	new DelayTaker,cldt
	new DelayTaker,cldt2
	new ImgMover,clmv2
	push 0
	pop igmstate
	new classfadeinout,clfio
	new int,iclfiov
	push 20
	popax
	sub 0,$a
	pop iclfiov
	new string,sfiotaf
	end method
	method loadmaski
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new gmimgvec,[$e]
	localstring $3
	push "an"
	push $2
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push $1
	push 100
	cthis newanima
	push $3
	push $3
	push $2
	cthis newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method nextlicz
	add izlicz,1
	pop izlicz
	push izlicz
	push 900
	cmpja
	cmp0
	je l1471
	push 30
	pop izlicz
l1471:
	push izlicz
	ret
	end method
	method _buildtafel
	new int,_iinx
	cthis getpx
	pop _iinx
	new int,_iiny
	cthis getpy
	pop _iiny
	end method
	method puttafel
	push _iinx
	call grel,getpx
	pop $b
	popax
	add $a,$b
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push itafx
	pop $b
	popax
	sub $a,$b
	push _iiny
	call grel,getpy
	pop $b
	popax
	add $a,$b
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	push 255
	cthis setopacity
	cthis link
	end method
	method fintafel
	push 1
	pop igmstate
	push sfiotaf
	spushs
	spop $a
	call [$a],hide
	end method
	method puttafel2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis nextlicz
	cthis setz
	localstring $3
	cthis getname
	pop $3
	cthis actionname
	push $1
	cmpje
	cmp0
	je l1473
	push $3
	push $2
	spushs
	cthis framenr
	spop $a
	call [$a],get
	call clsurf,commonimgs
	jmp l1475
l1473:
	push 0
	jmp l1475
l1474:
	push 1
l1475:
	cmp0
	je l1476
	cthis link
	push 0
	pop igmstate
	push $3
	pop sfiotaf
	push 1
	push iclfiov
	push $3
	push "fintafel"
	call clfio,setopacity
	push $3
	call grpoprawne,add
	push 1
	ret
	jmp l1472
l1476:
	push 128
	cthis setopacity
	cthis link
	push 0
	ret
l1472:
	end method
	method mdali
	push igmstate
	push 0
	cmpje
	cmp0
	je l1478
	push "sndintro2"
	cthis cbplay
	push "getcx"
	call cbok,getimgfunc
	push "getcy"
	call cbok,getimgfunc
	push "ld"
	call clp,show
	jmp l1477
l1478:
	push igmstate
	push 2
	cmpje
	cmp0
	je l1480
	push 1
	pop igmstate
l1480:
l1477:
	end method
	method cbok_MOVEON
	call sndakskermovon,play
	end method
	method mstart
	push 1
	pop igmstate
	call clrew,unlock
	end method
	method mousemove
	call clrew,moveitem
	call clmv2,msmove
	end method
	method mouselrel
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1482
	ret
l1482:
	call cldt,isonrel
	cmp0
	je l1484
	cthis mwstaw
	jmp l1483
l1484:
	call cldt2,isonrel
	cmp0
	je l1486
	cthis mwstaw2
l1486:
l1483:
	end method
	method stopsnd
	push 1
	cthis cactsndstop
	end method
	method mouselclick
	push igmdebug
	cmp0
	jne l1489
	call sndbad,isplaying
	cmp0
	jne l1489
	call sndnotall,isplaying
	jmp l1490
l1488:
	push 0
	jmp l1490
l1489:
	push 1
l1490:
	cmp0
	je l1491
	cthis stopsnd
l1491:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1493
	ret
l1493:
	localint $1
	localint $2
	localstring $3
	localint $4
	call cldt,isonclick
	cmp0
	je l1495
	cthis mwstaw
	jmp l1494
l1495:
	call cldt2,isonclick
	cmp0
	je l1497
	cthis mwstaw2
	jmp l1496
l1497:
	call cldt,istaken
	neg
	cmp0
	je l1499
	call mouse,getpx
	pop $1
	call mouse,getpy
	pop $2
	push $1
	push $2
	push 1
	push 1
	call grel,getimg
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l1501
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	jmp l1503
l1501:
	push 0
	jmp l1503
l1502:
	push 1
l1503:
	cmp0
	je l1504
	push $3
	spushs
	push 1030
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],unlink
	push $3
	push $1
	push $2
	call clrew,getitem
	call cldt,take
	call sfxclick,play
	jmp l1500
l1504:
	push $1
	push $2
	cthis msprawdzwstawione
l1500:
l1499:
l1496:
l1494:
	end method
	method msprawdzwstawione
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method mnotall
	push 1
	pop igmstate
	end method
	method clrew_up_MOVEON
	call sfxmov,play
	end method
	method clrew_down_MOVEON
	call sfxmov,play
	end method
	end game

	game gamedopasowankamono
	parent classgamedopasowanka
	method init
	clparent classgamedopasowanka,init
	push "scripts/dopasowanki/"
	cthis setgraphpath
	push "sfx/przesun.wav"
	call clrew,setfxrew
	cthis buildobjects
	push "dbwav"
	push "wavsmono.db"
	cthis cloadwavs
	push bgmdopasbegin
	cmp0
	je l1506
	push 0
	pop bgmdopasbegin
	push "sndintro"
	cthis cbplay
	jmp l1505
l1506:
	cthis mstart
l1505:
	end method
	method cbok_CLICK
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1508
	ret
l1508:
	push "grpoprawne"
	call grsprawdz,operator=
	push "grin"
	call grsprawdz,addgr
	localint $1
	call grsprawdz,size
	pop $1
	push 0
	pop igmstate
	localint $2
	push 0
	pop $2
l1509:
	push $2
	push $1
	cmpjl
	cmp0
	je l1510
	jmp l1512
l1511:
	add $2,1
	pop $2
	jmp l1509
l1512:
	push $2
	call grsprawdz,get
	spushs
	spop $a
	call [$a],actionname
	push sgmdopas
	cmpjne
	cmp0
	je l1514
	push "sndbad"
	cthis cbplay
	localstring $3
	push $2
	call grsprawdz,get
	pop $3
	push $3
	spushs
	push 255
	spop $a
	call [$a],setopacity
	push $3
	spushs
	cthis nextlicz
	spop $a
	call [$a],setz
	call grin,sortimgs
	ret
l1514:
	jmp l1511
l1510:
	push $1
	push sgmdopas
	call anel,nofframes
	cmpjl
	cmp0
	je l1516
	push "sndnotall"
	cthis cbplay
	jmp l1515
l1516:
	push "sndhura"
	cthis cbplay
l1515:
	call sfxmov,play
	end method
	method msprawdzwstawione
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	push $2
	push 1
	push 1
	call grin,getimg
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l1518
	push $3
	spushs
	push 1030
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],unlink
	push $3
	call grin,remove
	call cldt2,take
	push $3
	push $1
	push $2
	call clmv2,setobj
	call sfxclick,play
l1518:
	end method
	method mwstaw
	call cldt,ret
	localstring $1
	call clrew,getmoved
	pop $1
	localint $2
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push iToler
	pop $b
	popax
	sub $a,$b
	push $3
	push iToler
	pop $b
	popax
	sub $a,$b
	push 599
	push iToler
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	sub $a,$b
	push 599
	push iToler
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	sub $a,$b
	call clsurf,isin
	cmp0
	je l1520
	push $1
	spushs
	push sgmdopas
	push "grpod"
	spop $a
	call [$a],puttafel2
	neg
	cmp0
	je l1522
	push $1
	call grin,add
l1522:
	call clrew,freeitem
	jmp l1519
l1520:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	call clrew,retitem
l1519:
	call sfxrel,play
	end method
	method mwstaw2
	call cldt2,ret
	localstring $1
	call clmv2,getmover
	pop $1
	localint $2
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push iToler
	pop $b
	popax
	sub $a,$b
	push $3
	push iToler
	pop $b
	popax
	sub $a,$b
	push 599
	push iToler
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	sub $a,$b
	push 599
	push iToler
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	sub $a,$b
	call clsurf,isin
	cmp0
	je l1524
	push $1
	spushs
	push sgmdopas
	push "grpod"
	spop $a
	call [$a],puttafel2
	neg
	cmp0
	je l1526
	push $1
	call grin,add
l1526:
	call clmv2,free
	jmp l1523
l1524:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],puttafel
	push $1
	call clrew,putitem
	call clmv2,free
l1523:
	call sfxrel,play
	end method
	method buildobjects
	push "bg"
	push sgmdopas
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	cthis csetbkg
	new gmimgvec,grin
	push sgmdopas
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "grpod"
	cthis loadmaski
	call grpod,hide
	end method
	method mintrofin
	push "snd"
	push sgmdopas
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mbad
	push 2
	pop igmstate
	push "snd"
	push sgmdopas
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mhura
	push 3
	pop igmstate
	push sgmdopas
	call anel,annextaction
	pop sgmdopas
	push "gamedopasowankamono"
	call gameapi,play
	end method
	method mintrofin2
	call clp,stoph
	cthis mstart
	end method
	method stopsnd
	call sndbad,isplaying
	cmp0
	je l1528
	push 0
	cthis cactsndstop
	push 2
	pop igmstate
	cthis mdali
	jmp l1527
l1528:
	push 1
	cthis cactsndstop
l1527:
	end method
	method mkuchnia
	cthis mdali
	end method
	method msalon
	cthis mdali
	end method
	method mlazienka
	cthis mdali
	end method
	method mzabawowy
	cthis mdali
	end method
	end game

	game gamedopasowankamulti
	parent classgamedopasowanka
	method init
	clparent classgamedopasowanka,init
	push "sfx/przesun.wav"
	call clrew,setfxrew
	push "dbwav"
	push "wavsmulti.db"
	cthis cloadwavs
	new vector,vecpom
	push "string"
	call vecpom,type
	push "begin"
	push "lazienka"
	push "salon"
	push "kuchnia"
	push "zabawowy"
	call vecpom,beginadd
	new int,itafelgr
	new vector,grpos
	push "begin"
	push 1
	push 1
	push 299
	push 299
	push 301
	push 1
	push 599
	push 299
	push 1
	push 301
	push 299
	push 599
	push 301
	push 301
	push 599
	push 599
	call grpos,beginadd
	cthis buildobjects
	new img,imglicz
	call imglicz,gamedopasowankamulti0
	push "configs/fonts/bold.ttf"
	push 19
	push 250
	push 250
	push 250
	call imglicz,getpx
	push 20
	pop $b
	popax
	add $a,$b
	call imglicz,getpy
	push 13
	pop $b
	popax
	add $a,$b
	push 300
	push "hms"
	new TextTimeCounter,cltc
	push bgmdopasbegin
	cmp0
	je l1530
	push 0
	pop bgmdopasbegin
	push "sndintro"
	cthis cbplay
	jmp l1529
l1530:
	cthis mstart2
l1529:
	push 23
	push 0
	call grel,move
	push 23
	push 0
	call clrew,movearrows
	end method
	method gamedopasowankamulti0
	push "scripts/memo/licznik1.png"
	cthis load
	push 800
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 5
	cthis setpos
	end method
	method cbok_CLICK
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1532
	ret
l1532:
	localint $1
	push 0
	call anel,nofframes
	pop $1
	push 0
	pop igmstate
	localint $2
	localint $3
	localstring $4
	push "grpoprawne"
	call grsprawdz,operator=
	push 1
	pop $3
l1533:
	push $3
	push 4
	cmpjle
	cmp0
	je l1534
	jmp l1536
l1535:
	add $3,1
	pop $3
	jmp l1533
l1536:
	push "grin"
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	call grsprawdz,addgr
	push $4
	spushs
	spop $a
	call [$a],size
	pop $1
	push 0
	pop $2
l1537:
	push $2
	push $1
	cmpjl
	cmp0
	je l1538
	jmp l1540
l1539:
	add $2,1
	pop $2
	jmp l1537
l1540:
	push $4
	spushs
	push $2
	spop $a
	call [$a],get
	spushs
	spop $a
	call [$a],actionname
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vecpom,get
	cmpjne
	cmp0
	je l1542
	push "sndbad"
	cthis cbplay
	localstring $5
	push $4
	spushs
	push $2
	spop $a
	call [$a],get
	pop $5
	push $5
	spushs
	push 255
	spop $a
	call [$a],setopacity
	push $5
	spushs
	cthis nextlicz
	spop $a
	call [$a],setz
	push $4
	spushs
	spop $a
	call [$a],sortimgs
	ret
l1542:
	jmp l1539
l1538:
	jmp l1535
l1534:
	call grsprawdz,size
	push iletafli
	cmpjl
	cmp0
	je l1544
	push "sndnotall"
	cthis cbplay
	ret
l1544:
	push "sndhura"
	cthis cbplay
	call cltc,stop
	call sfxmov,play
	end method
	method msprawdzwstawione
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	localstring $4
	localint $5
	push 1
	pop $5
l1545:
	push $5
	push 4
	cmpjle
	cmp0
	je l1546
	jmp l1548
l1547:
	add $5,1
	pop $5
	jmp l1545
l1548:
	push "grin"
	push $5
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],getimg
	pop $4
	push $4
	push "null"
	cmpjne
	cmp0
	je l1550
	push $4
	spushs
	push 1030
	spop $a
	call [$a],setz
	push $4
	spushs
	spop $a
	call [$a],unlink
	push $3
	spushs
	push $4
	spop $a
	call [$a],remove
	call cldt2,take
	push $4
	push $1
	push $2
	call clmv2,setobj
	call sfxclick,play
	push $5
	pop itafelgr
	ret
l1550:
	jmp l1547
l1546:
	end method
	method mwstaw
	call cldt,ret
	localstring $1
	call clrew,getmoved
	pop $1
	localint $2
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localstring $4
	call sfxrel,play
	localint $5
	push 0
	pop $5
	localint $6
	push 1
	pop $6
l1551:
	push $6
	push 4
	cmpjle
	cmp0
	je l1552
	jmp l1554
l1553:
	add $6,1
	pop $6
	jmp l1551
l1554:
	push "grin"
	push $6
	pop $b
	popax
	add $a,$b
	pop $4
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $5
	call grpos,get
	push $2
	pop $b
	popax
	add $a,$b
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $3
	pop $b
	popax
	add $a,$b
	push $5
	push 2
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $2
	pop $b
	popax
	sub $a,$b
	push $5
	push 3
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $3
	pop $b
	popax
	sub $a,$b
	call clsurf,isin
	cmp0
	je l1556
	push $1
	spushs
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	call vecpom,get
	push "grpod"
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],puttafel2
	neg
	cmp0
	je l1558
	push $4
	spushs
	push $1
	spop $a
	call [$a],add
l1558:
	call clrew,freeitem
	ret
l1556:
	push 4
	popax
	add $5,$a
	pop $5
	jmp l1553
l1552:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	call clrew,retitem
	end method
	method mwstaw2
	call cldt2,ret
	localstring $1
	call clmv2,getmover
	pop $1
	localint $2
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localstring $4
	call sfxrel,play
	localint $5
	push 0
	pop $5
	localint $6
	push 1
	pop $6
l1559:
	push $6
	push 4
	cmpjle
	cmp0
	je l1560
	jmp l1562
l1561:
	add $6,1
	pop $6
	jmp l1559
l1562:
	push "grin"
	push $6
	pop $b
	popax
	add $a,$b
	pop $4
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $5
	call grpos,get
	push $2
	pop $b
	popax
	add $a,$b
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $3
	pop $b
	popax
	add $a,$b
	push $5
	push 2
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $2
	pop $b
	popax
	sub $a,$b
	push $5
	push 3
	pop $b
	popax
	add $a,$b
	call grpos,get
	push $3
	pop $b
	popax
	sub $a,$b
	call clsurf,isin
	cmp0
	je l1564
	push $1
	spushs
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	call vecpom,get
	push "grpod"
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],puttafel2
	neg
	cmp0
	je l1566
	push $4
	spushs
	push $1
	spop $a
	call [$a],add
l1566:
	call clmv2,free
	ret
l1564:
	push 4
	popax
	add $5,$a
	pop $5
	jmp l1561
l1560:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],puttafel
	push $1
	call clrew,putitem
	call clmv2,free
	call sfxrel,play
	end method
	method buildobjects
	push "bgprj.png"
	cthis csetbkg
	localstring $1
	localint $2
	push 0
	pop $2
	localint $3
	push 1
	pop $3
l1567:
	push $3
	push 4
	cmpjle
	cmp0
	je l1568
	jmp l1570
l1569:
	add $3,1
	pop $3
	jmp l1567
l1570:
	push "grin"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new gmimgvec,[$e]
	push "grpod"
	push $3
	pop $b
	popax
	add $a,$b
	pop $1
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vecpom,get
	push "s.pyz"
	pop $b
	popax
	add $a,$b
	push $1
	cthis loadmaski
	push $1
	spushs
	push $2
	call grpos,get
	push 10
	pop $b
	popax
	sub $a,$b
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call grpos,get
	push 10
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],move
	push $1
	spushs
	spop $a
	call [$a],hide
	push 4
	popax
	add $2,$a
	pop $2
	jmp l1569
l1568:
	end method
	method mintrofin
	cthis mdali
	end method
	method mbad
	push 1
	pop igmstate
	end method
	method mhura1
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],mhura
	end method
	method mhura
	new db,dbrek
	push "saves/rekordy.db"
	call dbrek,load
	localint $1
	localint $2
	call cltc,gettime
	pop $2
	push $2
	call dbrek,dbinsertless
	pop $1
	push 10
	call dbrek,dbcuttosize
	new int,irekpos
	push $1
	pop irekpos
	push $1
	push 10
	cmpjae
	cmp0
	je l1572
	push "sndrek"
	push "dopas23.wav"
	push "mfinnorek"
	cthis cnewsndfin
	push 3
	pop igmstate
	jmp l1571
l1572:
	push "sndrek"
	push "dopas22.wav"
	push "mfinyesrek"
	cthis cnewsndfin
	push $1
	call dbrek,getcolsno
	push 1
	cmpja
	cmp0
	je l1574
	push $1
	push 1
	call cltc,sgettime
	call dbrek,set
	jmp l1573
l1574:
	push $1
	call cltc,sgettime
	call dbrek,add
l1573:
	push 5
	pop igmstate
l1571:
	new font,fnt1
	push "configs/fonts/VeraMono.ttf"
	push 18
	call fnt1,load
	new text,imgtxt
	push 500
	call imgtxt,setz
	push 200
	push 100
	push 350
	push 300
	push 128
	push 128
	push 192
	push 192
	call imgtxt,setbkg
	push 2
	push 10
	push 10
	push 10
	push 128
	call imgtxt,setborders
	call imgtxt,show
	localstring $3
	localint $4
	push 25
	pop $4
	localint $5
	push 0
	pop $5
l1575:
	push $5
	push 10
	cmpjl
	cmp0
	je l1576
	jmp l1578
l1577:
	add $5,1
	pop $5
	jmp l1575
l1578:
	push "txtt"
	push $5
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new text,[$e]
	push $3
	spushs
	push "fnt1"
	spop $a
	call [$a],setfont
	push $3
	spushs
	push $5
	call dbrek,getrowsno
	cmpjl
	cmp0
	je l1580
	push $5
	push 1
	call dbrek,get
	jmp l1579
l1580:
	push "99:59:59"
l1579:
	spop $a
	call [$a],set
	push $3
	spushs
	push 600
	spop $a
	call [$a],setz
	push $3
	spushs
	push 210
	push 120
	push $5
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	push irekpos
	cmpje
	cmp0
	je l1582
	push $3
	spushs
	push 255
	push 80
	push 80
	spop $a
	call [$a],createtxt
	push "fnt1"
	push 18
	push 255
	push 80
	push 80
	push "a0 "
	push 15
	new TextTyper,cltxt1
	push 310
	push 120
	push $5
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call cltxt1,setpos
	push 600
	call cltxt1,setz
	push "null"
	push "writtenauthor"
	call cltxt1,onenter
	jmp l1581
l1582:
	push $3
	spushs
	push 220
	push 220
	push 220
	spop $a
	call [$a],createtxt
	push "txtt2"
	push $5
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new text,[$e]
	push $3
	spushs
	push "fnt1"
	spop $a
	call [$a],setfont
	push $3
	spushs
	push $5
	call dbrek,getrowsno
	cmpjl
	cmp0
	je l1584
	push $5
	push 2
	call dbrek,get
	jmp l1583
l1584:
	push "---------------"
l1583:
	spop $a
	call [$a],set
	push $3
	spushs
	push 220
	push 220
	push 220
	spop $a
	call [$a],createtxt
	push $3
	spushs
	push 310
	push 120
	push $5
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 600
	spop $a
	call [$a],setz
l1581:
	jmp l1577
l1576:
	push "sndrek"
	cthis cbplay
	end method
	method writtenauthor
	localstring $1
	call cltxt1,get
	pop $1
	push irekpos
	call dbrek,getcolsno
	push 3
	cmpjl
	cmp0
	je l1586
	push irekpos
	push $1
	call dbrek,add
	jmp l1585
l1586:
	push irekpos
	push 2
	push $1
	call dbrek,set
l1585:
	push "saves/rekordy.db"
	call dbrek,save
	cthis mfinnorek
	end method
	method mfinyesrek
	call cltxt1,enable
	push 4
	pop igmstate
	end method
	method mfinnorek
	call claskexit,askrestart
	end method
	method keydown
	push igmstate
	push 4
	cmpjne
	cmp0
	je l1588
	ret
l1588:
	call cltxt1,onkeydown
	end method
	method mouserclick
	push igmdebug
	cmp0
	je l1590
	push 0
	cthis cactsndstop
	push "sndhura"
	cthis cbplay
l1590:
	end method
	method mintrofin2
	call clp,stoph
	cthis mstart2
	end method
	method mstart2
	call cltc,play
	cthis mstart
	end method
	method mkuchnia
	end method
	method msalon
	end method
	method mlazienka
	end method
	method mzabawowy
	end method
	end game

	new string,sgamewstaw
	new int,igmwstawtype
	new int,bgmwstaw
	game gamemenuwstaw
	parent classadvadamigo2
	parent Tclassmenu
	method init
	clparent classadvadamigo2,init
	clparent Tclassmenu,init
	push "scripts/wstawianki/"
	push "menubuts.pyz"
	push "menubuts.db"
	cthis tload
	push 1
	pop bgmwstaw
	end method
	method startgame
	localstring $1
	pop $1
	push $1
	pop sgamewstaw
	push "gamesubmenuwstaw"
	call gameapi,play
	end method
	method wiosna_BUTCLICK
	push "wiosna"
	cthis startgame
	end method
	method lato_BUTCLICK
	push "lato"
	cthis startgame
	end method
	method jesien_BUTCLICK
	push "jesien"
	cthis startgame
	end method
	method zima_BUTCLICK
	push "zima"
	cthis startgame
	end method
	end game

	game gamesubmenuwstaw
	parent classadvadamigo2
	parent Tclassmenu
	method init
	clparent classadvadamigo2,init
	clparent Tclassmenu,init
	push "scripts/wstawianki/"
	push "submenu.pyz"
	push "submenu.db"
	cthis tload
	push 1
	pop bgmwstaw
	end method
	method tryb1_BUTCLICK
	push 1
	pop igmwstawtype
	push "gamewstawianka"
	call gameapi,play
	end method
	method tryb2_BUTCLICK
	push 2
	pop igmwstawtype
	push "gamewstawianka"
	call gameapi,play
	end method
	method tryb3_BUTCLICK
	push 3
	pop igmwstawtype
	push "gamewstawiankazgadanka"
	call gameapi,play
	end method
	end game

	game gamewstawianka
	parent classadvadamigo2
	method init
	clparent classadvadamigo2,init
	push "wstawianki"
	cthis path=
	push "bkgame.pyz"
	cthis bkg=
	new int,ilejest
	localint $1
	localstring $2
	localstring $3
	localint $4
	new gmimgvec,gral
	push igmwstawtype
	push 1
	cmpje
	cmp0
	je l1592
	push "anbg"
	push sgamewstaw
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 1
	cthis newanima
	push "anel"
	push "elementy.pyz"
	push 10
	cthis newanima
	push sgamewstaw
	call anel,nofframes
	pop ilejest
	push ilejest
	push 2
	pop $b
	popax
	mul $a,$b
	pop $1
	jmp l1591
l1592:
	push igmwstawtype
	push 2
	cmpje
	cmp0
	je l1594
	push "anbg"
	push sgamewstaw
	push "2.pyz"
	pop $b
	popax
	add $a,$b
	push 1
	cthis newanima
	push "anbg"
	push "anel"
	cthis copyanima
	push 10
	call anel,setz
	push 1
	push 0
	call anel,setframe
	push 1
	call anel,nofframes
	pop ilejest
	push ilejest
	pop $1
l1594:
l1591:
	localint $5
	push 0
	pop $5
l1595:
	push $5
	push $1
	cmpjl
	cmp0
	je l1596
	jmp l1598
l1597:
	add $5,1
	pop $5
	jmp l1595
l1598:
	push "anel"
	push $5
	pop $b
	popax
	add $a,$b
	pop $2
	push "anel"
	push $2
	cthis copyanima
	push $5
	push ilejest
	cmpjl
	cmp0
	je l1600
	push igmwstawtype
	push 1
	cmpje
	cmp0
	je l1602
	push $2
	spushs
	push sgamewstaw
	push $5
	spop $a
	call [$a],setframe
	jmp l1601
l1602:
	push igmwstawtype
	push 2
	cmpje
	cmp0
	je l1604
	push $2
	spushs
	push 1
	push $5
	spop $a
	call [$a],setframe
l1604:
l1601:
	jmp l1599
l1600:
	push $2
	spushs
	spop $a
	call [$a],nofactions
	call $4,rand
	pop $4
l1605:
	push $4
	push sgamewstaw
	call anel,actionnr
	cmpje
	cmp0
	je l1606
	push $2
	spushs
	spop $a
	call [$a],nofactions
	call $4,rand
	pop $4
	jmp l1605
l1606:
	push $2
	spushs
	push $4
	push $2
	spushs
	push $4
	spop $a
	call [$a],nofframes
	call $4,rand
	spop $a
	call [$a],setframe
l1599:
	push $2
	call gral,add
	jmp l1597
l1596:
	new int,imovy
	push 290
	call anbg,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop imovy
	call gral,hash
	call gral,sortimgs
	new Rewinder,clrew
	push "scripts/wstawianki/strzalki.pyz"
	push 5
	push "imglobcurs"
	push "left"
	push 10
	push "gral"
	call clrew,build
	push "sfx/przesun.wav"
	call clrew,setfxrew
	call anel,hide
	new string,smoved
	push "null"
	pop smoved
	new int,imovx
	push 769
	call anbg,getw
	pop $b
	popax
	sub $a,$b
	pop imovx
	new int,idxmov
	push 15
	pop idxmov
	push imovx
	push imovy
	call anbg,move
	new DelayTaker,cldt
	push "sfxmov"
	push "sfx/step.wav"
	cthis newsnd
	push "sfxclick"
	push "sfx/getitem.wav"
	cthis newsnd
	push "sfxrel"
	push "sfx/putpuz.wav"
	cthis newsnd
	new vector,vecgry
	push "string"
	call vecgry,type
	push "begin"
	push "wiosna"
	push "lato"
	push "jesien"
	push "zima"
	call vecgry,beginadd
	push "sndend1"
	push "wstaw"
	push sgamewstaw
	call vecgry,find
	push 10
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	push "onfinish"
	push "sndend1fin"
	call sndend1,addmethod
	push "dbwav"
	push "wavs.db"
	cthis cloadwavs
	push 0
	pop igmstate
	push bgmwstaw
	cmp0
	je l1608
	push 0
	pop bgmwstaw
	push "sndintro"
	cthis cbplay
	jmp l1607
l1608:
	cthis mintrofin
l1607:
	end method
	method mintrofin
	push 1
	pop igmstate
	call clrew,unlock
	end method
	method mousemove
	call clrew,moveitem
	end method
	method mouselrel
	cthis butrel
	end method
	method mouselclick
	cthis butclick
	end method
	method butclick
	cthis mfinish
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1610
	ret
l1610:
	call cldt,isonclick
	cmp0
	je l1612
	cthis mwstaw
	jmp l1611
l1612:
	push smoved
	push "null"
	cmpje
	cmp0
	je l1614
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	localstring $3
	push $1
	push $2
	push 1
	push 1
	push 10
	push 10
	call engine,getimg
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l1616
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	jmp l1618
l1616:
	push 0
	jmp l1618
l1617:
	push 1
l1618:
	cmp0
	je l1619
	call sfxclick,play
	push $3
	push $1
	push $2
	call clrew,getitem
	push $3
	spushs
	push 20
	spop $a
	call [$a],setz
	push $3
	pop smoved
	call cldt,take
l1619:
l1614:
l1611:
	end method
	method mwstaw
	call cldt,ret
	call sfxrel,play
	push smoved
	spushs
	spop $a
	call [$a],actionname
	push smoved
	spushs
	spop $a
	call [$a],framenr
	call anel,setframe
	push imovx
	push imovy
	call anel,setpos
	localint $1
	push "anel"
	push smoved
	call cllen,ilen3
	pop $1
	push $1
	push 30
	cmpjl
	cmp0
	je l1621
	push igmwstawtype
	push 2
	cmpje
	cmp0
	jne l1624
	push smoved
	spushs
	spop $a
	call [$a],actionname
	push sgamewstaw
	cmpje
	jmp l1625
l1623:
	push 0
	jmp l1625
l1624:
	push 1
l1625:
	jmp l1626
l1621:
	push 0
	jmp l1626
l1622:
	push 1
l1626:
	cmp0
	je l1627
	call clrew,freeitem
	push smoved
	spushs
	push 5
	spop $a
	call [$a],setz
	push smoved
	spushs
	push imovx
	push imovy
	spop $a
	call [$a],setpos
	sub ilejest,1
	pop ilejest
	push ilejest
	push 0
	cmpjle
	cmp0
	je l1629
	cthis mkoniec
	jmp l1628
l1629:
	push "cpok"
	cthis cbplay
l1628:
	jmp l1620
l1627:
	push smoved
	spushs
	push 11
	spop $a
	call [$a],setz
	call clrew,retitem
	push "cpnon"
	cthis cbplay
l1620:
	push "null"
	pop smoved
	end method
	method butrel
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1631
	ret
l1631:
	call cldt,isonrel
	cmp0
	je l1633
	cthis mwstaw
l1633:
	end method
	method mkoniec
	push 0
	pop igmstate
	push "cpok"
	cthis cbplay
	end method
	method _cpokfin
	push ilejest
	push 0
	cmpjle
	cmp0
	je l1635
	push "sndend1"
	cthis cbplay
l1635:
	end method
	method sndend1fin
	push "sndend"
	cthis cbplay
	end method
	method mfinish
	push igmstate
	push 2
	cmpjne
	cmp0
	je l1637
	ret
l1637:
	push sgamewstaw
	call vecgry,find
	push 1
	pop $b
	popax
	add $a,$b
	call vecgry,size
	pop $b
	popax
	div $a,$b
	push $d
	call vecgry,get
	pop sgamewstaw
	push "gamewstawianka"
	call gameapi,play
	end method
	method mendfin
	push 2
	pop igmstate
	end method
	method clrew_up_MOVEON
	call sfxmov,play
	end method
	method clrew_down_MOVEON
	call sfxmov,play
	end method
	end game

	class zgadnijplayer
	method init
	localstring $1
	call gameapi,getgamename
	pop $1
	push $1
	spushs
	push "anp1"
	push "players.pyz"
	push 5
	spop $a
	call [$a],newanima
	push $1
	spushs
	push "anp1"
	push "anp2"
	spop $a
	call [$a],copyanima
	new int,iactive
	new int,bstopped
	new int,bdis1
	new int,bdis2
	cthis setstd
	end method
	method putplayers
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	call anp1,setpos
	push $2
	push 0
	call anp2,setpos
	cthis putstrzalki
	end method
	method putonkolo
	push 0
	push 0
	cthis putplayers
	end method
	method putstrzalki
	end method
	method putonrogi
	push 0
	call anp1,lodx
	pop $b
	popax
	sub $a,$b
	push 0
	call anp1,lody
	pop $b
	popax
	sub $a,$b
	call anp1,setpos
	push 800
	call anp2,getw
	pop $b
	popax
	sub $a,$b
	call anp2,lodx
	pop $b
	popax
	sub $a,$b
	push 0
	call anp2,lody
	pop $b
	popax
	sub $a,$b
	call anp2,setpos
	cthis putstrzalki
	end method
	method setstd
	push 0
	pop bstopped
	push 0
	pop bdis1
	push 0
	pop bdis2
	push "p1"
	push 0
	call anp1,setframe
	push "p2"
	push 0
	call anp2,setframe
	push 0
	pop iactive
	end method
	method setp
	localint $1
	pop $1
	push bstopped
	cmp0
	jne l1640
	push $1
	push "bdis"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	cmpje
	jmp l1641
l1639:
	push 0
	jmp l1641
l1640:
	push 1
l1641:
	cmp0
	je l1642
	ret
l1642:
	push $1
	pop iactive
	push "anp"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],ansetframe
	end method
	method stop
	push 1
	pop bstopped
	end method
	method dyskwalifikuj
	localint $1
	pop $1
	push "bdis"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $b
	popax
	mov [$b],$a
	end method
	method getactive
	call anp1,framenr
	push 1
	cmpje
	cmp0
	je l1644
	call anp2,framenr
	push 1
	cmpje
	jmp l1646
l1644:
	push 0
	jmp l1646
l1645:
	push 1
l1646:
	cmp0
	je l1647
	push 3
	ret
	jmp l1643
l1647:
	push iactive
	ret
l1643:
	end method
	method next
	push iactive
	push 1
	cmpje
	cmp0
	je l1649
	cthis setstd
	push 2
	cthis setp
	jmp l1648
l1649:
	push iactive
	push 2
	cmpje
	cmp0
	je l1651
	cthis setstd
	push 1
	cthis setp
	jmp l1650
l1651:
	push "error! can't set next player"
	call engine,print
l1650:
l1648:
	end method
	end class

	module mzgad
	method init
	new vector,vecp1
	new vector,vecp2
	push "int"
	call vecp1,type
	push "int"
	call vecp2,type
	end method
	method starttryb1
	call vecp1,free
	call vecp2,free
	end method
	method add1
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],framenr
	call vecp1,add
	end method
	method add2
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],framenr
	call vecp2,add
	end method
	method starttryb2
	push "vecp1"
	call vecp1,addtogamevars
	push "vecp2"
	call vecp2,addtogamevars
	end method
	method print
	call vecp1,print
	call vecp2,print
	end method
	end module

	game zgadnijmulti1
	parent classadvadamigo2
	parent GameController
	parent Dymarka
	method init
	clparent classadvadamigo2,init
	push A
	push "koloL"
	push "kolostart"
	push "silnik"
	push "endmachine"
	push "kolostop"
	push "mikrofala"
	push "getpuz"
	push "putpuz"
	push "elektropik"
	cthis sfxs=
	push "onfinish"
	push "zgadnijmulti10"
	call fxkolostart,addmethod
	push "zgmu1_"
	clparent GameController,init
	push "scripts/zgadnij/"
	cthis setgraphpath
	cthis bkgpyz
	push "ankolo"
	push "kolo.pyz"
	push 1
	cthis newanima
	push "anrama"
	push "machine.pyz"
	push 5
	cthis newanima
	push "annakkolo"
	push "nakladkakolo.pyz"
	push 2
	cthis newanima
	push "anrama"
	push "anmech"
	cthis copyanima
	push 4
	call anmech,setz
	push 1
	push 0
	call anmech,setframe
	push "onfinish"
	push "checkkolo"
	call anmech,addmethod
	push "onstart"
	push "zgadnijmulti11"
	call anmech,addmethod
	push "onendframe"
	push "frkolo"
	call ankolo,addmethod
	call ankolo,anloopfin
	new def,lastframe
	push 0
	pop lastframe
	new gmimgvec,grel
	push "anel"
	push "pmale.pyz"
	push 10
	call grel,loadallan
	localstring $1
	localint $2
	push 0
	pop $2
l1652:
	push $2
	call grel,size
	cmpjl
	cmp0
	je l1653
	jmp l1655
l1654:
	add $2,1
	pop $2
	jmp l1652
l1655:
	push $2
	call grel,get
	spushs
	spop $a
	call [$a],framename
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $1
	push "endpostac"
	cthis addsndf
	jmp l1654
l1653:
	call grel,hash
	new ConRewinder,clrew
	push "scripts/wstawianki/strzalki.pyz"
	push 5
	push "imglobcurs"
	push "right"
	push 10
	push "grel"
	call clrew,build
	push "sfx/przesun.wav"
	call clrew,setfxrew
	new zgadnijplayer,plr
	call plr,putonkolo
	new classplacepointer2,clp1
	new classplacepointer2,clp2
	call mzgad,starttryb1
	push "null"
	push 28
	push 250
	push 250
	push 250
	call anp1,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call anp1,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call anp1,getz
	push 1
	pop $b
	popax
	add $a,$b
	new Cypher,cyf1
	push "null"
	push 28
	push 250
	push 250
	push 250
	call anp2,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call anp2,getey
	push 40
	pop $b
	popax
	sub $a,$b
	call anp2,getz
	push 1
	pop $b
	popax
	add $a,$b
	new Cypher,cyf2
	new classfadeinout,clfio
	push "dbzg"
	push "zgadule.db"
	cthis newdbscript
	new def,timstate
	new def,timtick
	push "sndstart"
	push "Zaraz maszyna wprowadzi koo w ruch"
	push "fin1"
	cthis addsndff
	push "sndf1"
	push "Kiedy koo zatrzyma si ten kto pierwszy nacinie przypisan mu strzak"
	push "fin2"
	cthis addsndff
	push "sndf2"
	push "na podstawie atrybutw z koa"
	push "fin3"
	cthis addsndff
	push "sndf3"
	push "musi znale pasujc posta std;"
	push "fin4"
	cthis addsndff
	push "sndf4"
	push "Uwaga! Dopki nie skocz losowania wcinicie strzaki spowoduje falstart i dyskwalifikacj!"
	push "finintro"
	cthis addsndff
	push "sndstartlos"
	push "Zaczynam losowanie"
	push "startlos"
	cthis addsndf
	push "sndrowno"
	push "Klawisze zostay wcinite jednoczenie! Losujemy jeszcze raz; Uwaga"
	push "startlos"
	cthis addsndf
	push "sndrownofall"
	push "Klawisze zostay wcinite jednoczenie! Obaj gracze zdyskwalifikowani! Losujemy jeszcze raz; Uwaga"
	push "startlos"
	cthis addsndf
	push "sndfall1"
	push "Gracz 1 fallstart!"
	push "fall"
	cthis addsndf
	push "sndfall2"
	push "Gracz 2 fallstart!"
	push "fall"
	cthis addsndf
	push "sndfall1end"
	push "Gracz 1 zosta zdyskwalifikowany; Ruch naley do gracza numer 2"
	push "finfall"
	cthis addsndf
	push "sndfall2end"
	push "Gracz 2 zosta zdyskwalifikowany; Ruch naley do gracza numer 1"
	push "finfall"
	cthis addsndf
	push "sndwinp1"
	push "Pierwszy wcisn strzak gracz 1"
	push "startzgaduj"
	cthis addsndf
	push "sndwinp2"
	push "Pierwszy wcisn strzak gracz 2"
	push "startzgaduj"
	cthis addsndf
	push "sndbrawo"
	push "Brawo!"
	push "endbrawo"
	cthis addsndf
	push "sndnalezy"
	push "wskazany poprawnie"
	push "endnalezy"
	cthis addsndf
	push "snddalej"
	push "Gramy dalej"
	push "enddalej"
	cthis addsndf
	push "sndniestety"
	push "Niestety!"
	push "endniestety"
	cthis addsndf
	push "sndnienalezy"
	push "wskazany niepoprawnie"
	push "endnienalezy"
	cthis addsndf
	push "sndszansa"
	push "Szansa dla drugiego gracza"
	push "endszansa"
	cthis addsndf
	push "sndwsio"
	push "Doskonale! Wszystkie zadania rozwizane; przechodzimy do drugiego etapu gry"
	push "endwsio"
	cthis addsndf
	push 100
	popax
	sub 0,$a
	push 0
	call grel,move
	push 100
	popax
	sub 0,$a
	push 0
	call clrew,movearrows
	cthis initdym
	push 0
	call anmano,setz
	call anmano,anloopfin
	push "onfinish"
	push "zgadnijmulti12"
	call fxtykacz,addmethod
	push "onstart"
	push "zgadnijmulti13"
	call andym,addmethod
	cthis begingame
	cmp0
	je l1659
	push "anmech"
	push "ld"
	call clp1,showob
	push "sndstart"
	cthis cbplay
	jmp l1658
l1659:
	cthis startlosowanie
l1658:
	end method
	method zgadnijmulti10
	call fxkolo,play
	end method
	method zgadnijmulti11
	call fxsilnik,playif
	end method
	method zgadnijmulti12
	push 0
	call anmano,stop
	end method
	method zgadnijmulti13
	push 1
	popax
	sub 0,$a
	call anmano,isplaying
	neg
	cmp0
	je l1657
	push 1
	popax
	sub 0,$a
	call anmano,play
l1657:
	end method
	method startlosowanie
	push 3
	pop igmstate
	push "sndstartlos"
	cthis cbplay
	end method
	method fin1
	push "anp1"
	push "lu"
	call clp1,showob
	push "anp2"
	push "ru"
	call clp2,showob
	push "sndf1"
	cthis cbplay
	end method
	method fin2
	call clp2,stoph
	push "ankolo"
	push "ll"
	call clp1,showob
	push 0
	push 100
	call clp1,move
	push "sndf2"
	cthis cbplay
	end method
	method fin3
	push 0
	call grel,get
	push "rr"
	call clp1,showob
	push "sndf3"
	cthis cbplay
	end method
	method fin4
	call clp1,stoph
	push "sndf4"
	cthis cbplay
	end method
	method finintro
	cthis startlosowanie
	end method
	method startlos
	push 2
	pop igmstate
	push 0
	pop timstate
	push 12
	pop timtick
	call plr,setstd
	push timtick
	call ankolo,setdelay
	push 1
	popax
	sub 0,$a
	call ankolo,play
	call fxkolostart,play
	push 0
	push lastframe
	call ankolo,setframe
	push 1
	popax
	sub 0,$a
	call anmech,play
	end method
	method frkolo
	push timstate
	spushs
	push 0
	cmpst
	jne l1661
	spop $a
	sub timtick,1
	pop timtick
	push timtick
	push 0
	cmpja
	cmp0
	je l1663
	push 1
	push timtick
	push 4
	pop $b
	popax
	div $a,$b
	psax
	push timtick
	cthis between
	cthis setdelay
	jmp l1662
l1663:
	push 30
	push 0
	spushs
	push 50
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	pop timtick
	push 1
	pop timstate
l1662:
	jmp l1660
l1661:
	push 1
	cmpst
	jne l1664
	spop $a
	sub timtick,1
	pop timtick
	push timtick
	push 0
	cmpjle
	cmp0
	je l1666
	cthis finlos
l1666:
	jmp l1660
l1664:
	spop $a
l1660:
	end method
	method checkkolo
	push 1
	popax
	sub 0,$a
	call ankolo,isplaying
	cmp0
	je l1668
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l1667
l1668:
	push 0
	call fxsilnik,stop
	call fxendmachine,play
l1667:
	end method
	method finlos
	push 0
	call ankolo,stop
	push 0
	call fxkolostart,stop
	call fxkolostop,play
	push 0
	call fxkolo,stop
	push 1
	pop igmstate
	localint $1
	call ankolo,framenr
	pop $1
l1669:
	push $1
	call dbzg,getcolsno
	push 1
	cmpje
	cmp0
	je l1670
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call dbzg,getrowsno
	pop $b
	popax
	div $a,$b
	push $d
	pop $1
	jmp l1669
l1670:
	push 0
	push $1
	call ankolo,setframe
	push $1
	pop lastframe
	end method
	method finfall
	push 1
	pop igmstate
	cthis startzgaduj
	end method
	method clrew_GET
	cthis mspickup
	popax
	call fxgetpuz,play
	end method
	method endbrawo
	push "snd"
	push spostac
	spushs
	spop $a
	call [$a],framename
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method endniestety
	push "snd"
	push spostac
	spushs
	spop $a
	call [$a],framename
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method endpostac
	push budalo
	cmp0
	je l1672
	push "sndnalezy"
	cthis cbplay
	jmp l1671
l1672:
	push "sndnienalezy"
	cthis cbplay
l1671:
	end method
	method endnalezy
	cthis endlicz
	end method
	method endnienalezy
	cthis endlicz
	end method
	method endlicz
	push budalo
	cmp0
	je l1674
	call grel,size
	push 0
	cmpje
	cmp0
	je l1676
	push "sndwsio"
	cthis cbplay
	jmp l1675
l1676:
	push "snddalej"
	cthis cbplay
l1675:
	jmp l1673
l1674:
	push "sndszansa"
	cthis cbplay
l1673:
	end method
	method enddalej
	cthis startlosowanie
	end method
	method endszansa
	call plr,next
	cthis startzgaduj
	end method
	method fintafel
	push spostac
	spushs
	spop $a
	call [$a],hide
	end method
	method clrew_PUT
	localstring $1
	call clrew,getmoved
	pop $1
	push $1
	push "ankolo"
	call clsurf,imgwithinimg
	cmp0
	je l1678
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],framename
	pop $2
	push "spostac"
	push $1
	cthis vargmset
	push 5
	pop igmstate
	cthis lockall
	localint $3
	call ankolo,framenr
	pop $3
	push $3
	push $2
	call dbzg,dbfindinrow
	push 0
	cmpjae
	cmp0
	je l1680
	push "budalo"
	push 1
	cthis vargmset
	push "sndbrawo"
	cthis cbplay
	call clrew,freeitem
	push $1
	clparent classanfilter,build
	push 1
	push 10
	popax
	sub 0,$a
	push $1
	push "fintafel"
	call clfio,setopacity
	push "add"
	call plr,getactive
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	call mzgad,[$d]
	push "cyf"
	call plr,getactive
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],operator++
	push $3
	push $2
	call dbzg,dbdelvar
	popax
	call fxputpuz,play
	jmp l1679
l1680:
	push "budalo"
	push 0
	cthis vargmset
	push "sndniestety"
	cthis cbplay
	call clrew,retitem
	call fxelektropik,play
l1679:
	jmp l1677
l1678:
	call clrew,retitem
	call fxelektropik,play
l1677:
	end method
	method startzgaduj
	push 4
	pop igmstate
	cthis unlockall
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l1682
	call clp1,stoph
	call clp2,stoph
	push 0
	cthis cactsndstop
	cthis finintro
	jmp l1681
l1682:
	push 1
	cthis cactsndstop
l1681:
	end method
	method fall
	localint $1
	call plr,getactive
	pop $1
	call plr,setstd
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	call plr,setp
	push "sndfall"
	push $1
	pop $b
	popax
	add $a,$b
	push "end"
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method key_down
	push igmstate
	push 1
	cmpje
	cmp0
	jne l1685
	push igmstate
	push 2
	cmpje
	jmp l1686
l1684:
	push 0
	jmp l1686
l1685:
	push 1
l1686:
	neg
	cmp0
	je l1687
	ret
l1687:
	push "left"
	call keyboard,iskey
	cmp0
	je l1689
	push 1
	call plr,setp
l1689:
	push "right"
	call keyboard,iskey
	cmp0
	je l1691
	push 2
	call plr,setp
l1691:
	localint $1
	call plr,getactive
	pop $1
	push $1
	cmp0
	je l1693
	call fxmikrofala,play
	call plr,stop
	push igmstate
	push 1
	cmpje
	cmp0
	je l1695
	push $1
	push 3
	cmpje
	cmp0
	je l1697
	push "sndrowno"
	cthis cbplay
	jmp l1696
l1697:
	push "sndwinp"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push 3
	pop igmstate
l1696:
	jmp l1694
l1695:
	push $1
	push 3
	cmpje
	cmp0
	je l1699
	push "sndrownofall"
	cthis cbplay
	jmp l1698
l1699:
	cthis finlos
	push 3
	pop igmstate
	push "sndfall"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
l1698:
l1694:
l1693:
	end method
	method endwsio
	push "zgadnijmulti2"
	call gameapi,play
	end method
	method mouserclick
	push igmdebug
	cmp0
	je l1701
	cthis endwsio
l1701:
	end method
	end game

	game zgadnijmulti2
	parent classadvadamigo2
	parent GameController
	method init
	clparent classadvadamigo2,init
	push "zgmu2_"
	clparent GameController,init
	push "scripts/zgadnij/"
	cthis setgraphpath
	push "anbkg"
	push "bkgm2.pyz"
	push 0
	cthis newanima
	push A
	push "mikrofala"
	push "elektropik"
	cthis sfxs=
	new zgadnijplayer,plr
	call plr,putonrogi
	call mzgad,starttryb2
	new int,iliczba1
	push 0
	pop iliczba1
	new int,iliczba2
	push 0
	pop iliczba2
	new string,slicz1
	push iliczba1
	call anp1,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call anp1,getey
	push 40
	pop $b
	popax
	sub $a,$b
	push 28
	push 255
	push 255
	push 255
	cthis consttext
	pop slicz1
	new string,slicz2
	push iliczba2
	call anp2,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call anp2,getey
	push 40
	pop $b
	popax
	sub $a,$b
	push 28
	push 255
	push 255
	push 255
	cthis consttext
	pop slicz2
	push slicz1
	spushs
	call anp1,getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push slicz2
	spushs
	call anp1,getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	cthis printlicze
	new classfadeinout,clfio
	new gmobjvec,grludki
	new int,ipostprior
	push 20
	pop ipostprior
	localint $1
	push "anpost"
	push "pmale.pyz"
	push 0
	push ipostprior
	cthis loadanframes
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
	localint $5
	push 0
	pop $5
	localint $6
	push 60
	pop $6
	localint $7
	push 110
	pop $7
	localint $8
	push 5
	pop $8
	localint $9
	push 130
	pop $9
	localint $10
	push 0
	pop $10
l1702:
	push $10
	push $1
	cmpjl
	cmp0
	je l1703
	jmp l1705
l1704:
	add $10,1
	pop $10
	jmp l1702
l1705:
	push "anpost"
	push $10
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],framename
	pop $3
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	call grludki,add
	push $10
	call vecp1,contains
	cmp0
	je l1707
	push $2
	spushs
	push $8
	push $6
	push $4
	push 6
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $9
	push $7
	push $4
	push 6
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	add $4,1
	pop $4
	jmp l1706
l1707:
	push $2
	spushs
	push 400
	push $8
	pop $b
	popax
	add $a,$b
	push $6
	push $5
	push 6
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $9
	push $7
	push $5
	push 6
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $2
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	add $5,1
	pop $5
l1706:
	push $2
	clparent classanfilter,build
	jmp l1704
l1703:
	new vector,veczag
	push 24
	call veczag,vecnewint
	call veczag,hash
	new string,smovedon
	push "null"
	pop smovedon
	new int,izgadywan
	push "zgmu1_"
	push "endpostac"
	push "grludki"
	cthis importgroup
	push "liczby"
	push "endlicz"
	cthis importsnd
	push "sndintro"
	push "Zaczynamy etap drugi; Przeczytam wam zagadk dotyczc jednej z postaci; Kto pierwszy wcinie swoj strzak bdzie pierwszy wskazywa posta o ktr pytam; ale uwaga: jeeli wcinie strzak w trakcie zadawania pytania przestan czyta"
	push "finintro"
	cthis addsndff
	push "sndczytam"
	push "Czytam zagadk"
	push "czytaj"
	cthis addsndff
	push "sndczytam2"
	push "Czytam kolejn zagadk"
	push "czytaj"
	cthis addsndff
	push "sndczytam3"
	push "Czytam ponownie zagadk"
	push "czytaj"
	cthis addsndff
	push "sndbrawo"
	push "Brawo! Wszystkie zagadki rozwizane"
	push "endbrawo"
	cthis addsndff
	push "sndzaczyna1"
	push "Zaczyna gracz 1"
	push "endzaczyna"
	cthis addsndff
	push "sndzaczyna2"
	push "Zaczyna gracz 2"
	push "endzaczyna"
	cthis addsndff
	push "sndzgadl"
	push "Dobrze; Posta ktrej dotyczya zagadka to "
	push "endzgadl"
	cthis addsndff
	push "sndposiada"
	push "Kolejny punkt dodajemy za posiadanie postaci"
	push "endposiada"
	cthis addsndff
	push "sndniezgadl"
	push "Niestety to nie posta, ktrej dotyczy zagadka"
	push "endniezgadl"
	cthis addsndff
	push "sndniezgadl1"
	push "Odejmuj punkt graczowi pierwszemu"
	push "odpoczatku"
	cthis addsndff
	push "sndniezgadl2"
	push "Odejmuj punkt graczowi drugiemu"
	push "odpoczatku"
	cthis addsndff
	push "sndwin1"
	push "Zwyciy gracz numer 1!"
	push "endwin"
	cthis addsndff
	push "sndwin2"
	push "Zwyciy gracz numer 2!"
	push "endwin"
	cthis addsndff
	push "sndremis"
	push "Mamy remis! C za emocje"
	push "endremis"
	cthis addsndff
	push "sndkoniec"
	push "Kliknij myszk aby powrci do menu gwnego"
	push "zgadnijmulti20"
	cthis addsndff
	new snd,sndzagadka
	new int,bzgadl
	push 0
	pop bzgadl
	push "sndintro"
	cthis cbplay
	end method
	method zgadnijmulti20
	push 13
	pop igmstate
	end method
	method endzgadl
	push "snd"
	push "anpost"
	push izgadywan
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],framename
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method endniezgadl
	cthis endpostac
	end method
	method endposiada
	call veczag,size
	push 0
	cmpje
	cmp0
	je l1709
	push "sndbrawo"
	cthis cbplay
	push 5
	pop igmstate
	jmp l1708
l1709:
	push "sndczytam2"
	cthis cbplay
l1708:
	end method
	method fintafel
	push stafelhide
	push "null"
	cmpjne
	cmp0
	je l1711
	push stafelhide
	spushs
	spop $a
	call [$a],hide
l1711:
	push "null"
	pop stafelhide
	end method
	method endbrawo
	push iliczba1
	push iliczba2
	cmpja
	cmp0
	je l1713
	push "sndwin1"
	cthis cbplay
	jmp l1712
l1713:
	push iliczba2
	push iliczba1
	cmpja
	cmp0
	je l1715
	push "sndwin2"
	cthis cbplay
	jmp l1714
l1715:
	push "sndremis"
	cthis cbplay
l1714:
l1712:
	end method
	method endpostac
	localint $1
	call plr,getactive
	pop $1
	push bzgadl
	cmp0
	je l1717
	push 0
	call veczag,removeat
	push "iliczba"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $b
	add [$b],1
	pop [$b]
	push "vecp"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push izgadywan
	spop $a
	call [$a],contains
	cmp0
	je l1719
	push "iliczba"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $b
	add [$b],1
	pop [$b]
	push "sndposiada"
	cthis cbplay
	jmp l1718
l1719:
	cthis endposiada
l1718:
	push schosen
	spushs
	push ipostprior
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push "stafelhide"
	push schosen
	cthis vargmset
	push 1
	push 10
	popax
	sub 0,$a
	push schosen
	push "fintafel"
	call clfio,setopacity
	jmp l1716
l1717:
	push "iliczba"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $b
	sub [$b],1
	pop [$b]
	push "sndniezgadl"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
l1716:
	cthis printlicze
	end method
	method finintro
	push "sndczytam"
	cthis cbplay
	end method
	method odpoczatku
	push "sndczytam3"
	cthis cbplay
	end method
	method czytaj
	push 0
	call veczag,get
	pop izgadywan
	cthis getsndpath
	push "postac"
	pop $b
	popax
	add $a,$b
	push izgadywan
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndzagadka,load
	call plr,setstd
	push "sndzagadka"
	cthis cbplay
	push 1
	pop igmstate
	end method
	method endzaczyna
	push 4
	pop igmstate
	end method
	method printlicze
	push slicz1
	spushs
	push iliczba1
	spop $a
	call [$a],set
	push slicz2
	spushs
	push iliczba2
	spop $a
	call [$a],set
	push slicz1
	spushs
	push 255
	push 255
	push 255
	spop $a
	call [$a],createtxt
	push slicz2
	spushs
	push 255
	push 255
	push 255
	spop $a
	call [$a],createtxt
	end method
	method mouse_move
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localstring $3
	push $1
	push $2
	push 1
	push 1
	push ipostprior
	push ipostprior
	call engine,getimg
	pop $3
	push smovedon
	push "null"
	cmpjne
	cmp0
	je l1721
	push smovedon
	spushs
	push 255
	spop $a
	call [$a],setopacity
	push "null"
	pop smovedon
l1721:
	push $3
	push "null"
	cmpjne
	cmp0
	je l1723
	push $3
	pop smovedon
	push smovedon
	spushs
	push 128
	spop $a
	call [$a],setopacity
	call bsms,setact
	jmp l1722
l1723:
	call bsms,setstd
l1722:
	end method
	method mouse_lclick
	push igmstate
	push 13
	cmpje
	cmp0
	je l1725
	push "gamemenu"
	call gameapi,play
	ret
l1725:
	push igmstate
	push 0
	cmpje
	cmp0
	je l1727
	push 0
	cthis cactsndstop
	cthis finintro
	jmp l1726
l1727:
	push igmstate
	push 4
	cmpje
	cmp0
	je l1729
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localstring $3
	push $1
	push $2
	push 1
	push 1
	push ipostprior
	push ipostprior
	call engine,getimg
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l1731
	push "schosen"
	push $3
	cthis vargmset
	push 2
	pop igmstate
	push $3
	spushs
	spop $a
	call [$a],framenr
	push izgadywan
	cmpje
	cmp0
	je l1733
	push 1
	pop bzgadl
	push "sndzgadl"
	cthis cbplay
	call fxmikrofala,play
	jmp l1732
l1733:
	push 0
	pop bzgadl
	push "sndniezgadl"
	cthis cbplay
	call fxelektropik,play
l1732:
l1731:
l1729:
l1726:
	end method
	method key_down
	push igmstate
	push 1
	cmpjne
	cmp0
	je l1735
	ret
l1735:
	push "left"
	call keyboard,iskey
	cmp0
	je l1737
	push 1
	call plr,setp
l1737:
	push "right"
	call keyboard,iskey
	cmp0
	je l1739
	push 2
	call plr,setp
l1739:
	localint $1
	call plr,getactive
	pop $1
	push $1
	cmp0
	je l1741
	call fxmikrofala,play
	push 0
	cthis cactsndstop
	call plr,stop
	push $1
	push 3
	cmpje
	cmp0
	je l1743
	push "error"
	call engine,print
	push 2
	call $1,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	call plr,setstd
	push $1
	call plr,setp
l1743:
	push 3
	pop igmstate
	push "sndzaczyna"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
l1741:
	end method
	method endwin
	cthis askrestart2
	end method
	method endremis
	cthis askrestart2
	end method
	end game

	push 8
	push 6
	pop iMemoH
	pop iMemoW
	push 4
	push 4
	pop iMemoH
	pop iMemoW
	push 2
	pop iMemoTryb
	class Gracze
	method init
	localint $1
	pop $1
	new int,idrugi
	push 1
	pop idrugi
	push $1
	push 1
	cmpje
	cmp0
	je l1745
	push 2
	pop idrugi
l1745:
	new anima,angracz1
	push "scripts/memo/gracze.pyz"
	call angracz1,load
	push "angracz1"
	push "anactive1"
	cthis copyanima
	push 0
	push 1
	call anactive1,setframe
	push "angracz1"
	push "angracz2"
	cthis copyanima
	push idrugi
	push 0
	call angracz2,setframe
	push "angracz1"
	push "anactive2"
	cthis copyanima
	push idrugi
	push 1
	call anactive2,setframe
	push "aktualny"
	cthis var
	push 1
	cthis set
	new gmimgvec,gracz1
	push "gracz1"
	push "angracz1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anactive1"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	new gmimgvec,gracz2
	push "gracz2"
	push "angracz2"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anactive2"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	push "gracz1"
	call gracz1,addtogamevars
	push "gracz2"
	call gracz2,addtogamevars
	end method
	method set
	localint $1
	pop $1
	push 0
	push 1
	call anactive1,setframe
	push idrugi
	push 1
	call anactive2,setframe
	push $1
	push 1
	cmpje
	cmp0
	je l1747
	push 0
	push 2
	call anactive1,setframe
	jmp l1746
l1747:
	push idrugi
	push 2
	call anactive2,setframe
l1746:
	end method
	end class

	game MenuMemo
	parent classadvadamigo2
	method init
	clparent classadvadamigo2,init
	push A
	push "ikonka 60"
	push "getpuz"
	push "przekladnia"
	cthis sfxs=
	push "scripts/memo/"
	cthis setgraphpath
	push "anbkg"
	push "bgmenu.pyz"
	push 0
	cthis newanima
	new gmimgvec,grtryb
	push "grtryb"
	push "tryb.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,grhard
	push "grhard"
	push "trudnosc.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 9
	push 40
	call grhard,move
	new gmimgvec,grdim
	push "grdim"
	push "wymiar.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	localdef $1
	push 20
	popax
	sub 0,$a
	pop $1
	localdef $2
	push 270
	pop $2
	push $1
	push $2
	call grdim,move
	push "anreka"
	push "reka.pyz"
	push 15
	cthis newanima
	push 10
	call grdim,setz
	push "anwajcha"
	push "wajchabg.pyz"
	push 5
	cthis newanima
	push $1
	push $2
	call anwajcha,move
	push $1
	push $2
	call anreka,move
	call grhard,hide
	push "anpoziom"
	push "poziom.pyz"
	push 2
	cthis newanima
	push "anplansza"
	push "plansza.pyz"
	push 2
	cthis newanima
	call anpoziom,hide
	new gmimgvec,gral
	push "gral"
	push "grtryb"
	popax
	pop $b
	psax
	call [$b],operator+
	push "grhard"
	popax
	pop $b
	psax
	call [$b],operator+
	push "grdim"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	push "player"
	cthis set
	popax
	push "4x4"
	cthis set
	popax
	push 1
	cthis set
	popax
	push 1
	call antrudnosc0,ansetframe
	push 0
	call anwymiar0,ansetframe
	push 1
	call antryb0,ansetframe
	new def,slast
	push "null"
	pop slast
	new classsimplebutton,cstart
	push "scripts/memo/start.pyz"
	push "imglobcurs"
	push 0
	push 0
	push 10
	push 0
	call cstart,build
	end method
	method cstart_MOVEON
	call fxikonka,play
	end method
	method cstart_CLICK
	push "Memo"
	call gameapi,play
	end method
	method mousemove
	call mouse,getpos
	push 1
	push 1
	call gral,isin
	cmp0
	je l1749
	localdef $1
	call gral,getsfound
	pop $1
	call bsms,isact
	neg
	cmp0
	jne l1752
	push $1
	push "grdim"
	cmpje
	cmp0
	je l1753
	push slast
	push "grdim"
	cmpjne
	jmp l1755
l1753:
	push 0
	jmp l1755
l1754:
	push 1
l1755:
	cmp0
	jne l1752
	push $1
	push "grdim"
	cmpjne
	cmp0
	je l1756
	push slast
	push $1
	spushs
	spop $a
	call [$a],getsfound
	cmpjne
	jmp l1758
l1756:
	push 0
	jmp l1758
l1757:
	push 1
l1758:
	jmp l1759
l1751:
	push 0
	jmp l1759
l1752:
	push 1
l1759:
	cmp0
	je l1760
	push $1
	push "grdim"
	cmpje
	cmp0
	je l1762
	push "grdim"
	jmp l1761
l1762:
	push $1
	spushs
	spop $a
	call [$a],getsfound
l1761:
	pop slast
	call bsms,setact
	call fxikonka,play
l1760:
	jmp l1748
l1749:
	call bsms,setstd
	push "null"
	pop slast
l1748:
	end method
	method set
	localstring $1
	pop $1
	push $1
	spushs
	push "player"
	cmpst
	jne l1764
	spop $a
	call grhard,hide
	call anpoziom,hide
	push 0
	pop iMemoTryb
	jmp l1763
l1764:
	push "pvp"
	cmpst
	jne l1765
	spop $a
	call grhard,hide
	call anpoziom,hide
	push 2
	pop iMemoTryb
	jmp l1763
l1765:
	push "pvc"
	cmpst
	jne l1766
	spop $a
	call grhard,show
	call anpoziom,show
	push 1
	pop iMemoTryb
	jmp l1763
l1766:
	spop $a
	push "x"
	call $1,contains
	cmp0
	je l1768
	localint $2
	push 0
	push 1
	call $1,getb
	pop $2
	localint $3
	push 0
	push 1
	call $1,gete
	pop $3
	push $2
	push iMemoW
	cmpje
	cmp0
	je l1770
	push $3
	push iMemoH
	cmpje
	jmp l1772
l1770:
	push 0
	jmp l1772
l1771:
	push 1
l1772:
	cmp0
	je l1773
	push 0
	ret
l1773:
	push $2
	pop iMemoW
	push $3
	pop iMemoH
	jmp l1767
l1768:
	call grhard,getfound
	pop iMemoAI
l1767:
l1763:
	push 1
	end method
	method mouselclick
	call mouse,getpos
	push 1
	push 1
	call gral,isin
	cmp0
	je l1775
	localstring $1
	call gral,getsfound
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],getsfound
	pop $2
	localstring $3
	push $2
	spushs
	spop $a
	call [$a],actionname
	pop $3
	localdef $4
	push $3
	cthis set
	pop $4
	push $1
	spushs
	push 0
	spop $a
	call [$a],changeframe
	push $1
	push "grdim"
	cmpje
	cmp0
	je l1777
	push 0
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	call anreka,setframe
	push $4
	cmp0
	je l1779
	call fxprzekladnia,play
l1779:
	jmp l1776
l1777:
	push $2
	spushs
	push $3
	push 1
	spop $a
	call [$a],setframe
	call fxgetpuz,play
l1776:
l1775:
	end method
	end game

	game Memo
	parent classadvadamigo2
	parent TMemo
	method init
	clparent classadvadamigo2,init
	push iMemoW
	push 6
	cmpja
	cmp0
	je l1781
	push "memo"
	push "scripts/memo/"
	push "bkgame.pyz"
	push "tmale.pyz"
	push "tafmaly.pyz"
	push 2
	cthis tinit
	jmp l1780
l1781:
	push "memo"
	push "scripts/memo/"
	push "bkgame.pyz"
	push "tduze.pyz"
	push "tafduzy.pyz"
	push 3
	cthis tinit
l1780:
	localdef $1
	push 65
	pop $1
	push 0
	push $1
	call grtaf,move
	push 0
	push $1
	call grnak,move
	push A
	push "elektropik"
	push "mikrofala"
	push "brawo"
	push "buu"
	cthis sfxs=
	push A
	push "sndintro0"
	push "Znajd wszystkie pary najszybciej jak potrafisz!"
	push "Memo0"
	push "sndintro1"
	push "Zaczyna gracz pierwszy"
	push "tstart"
	push "sndwin1"
	push "Zwyciy Gracz pierwszy!"
	push "askrestart2"
	push "sndwin2"
	push "Zwyciy Gracz drugi!"
	push "askrestart2"
	push "sndwincomp"
	push "Zwyciy komputer!"
	push "askrestart"
	push "sndremis"
	push "Ale zacity pojedynek! Mamy remis prosz pastwa!"
	push "askrestart2"
	push "sndrekord"
	push "Brawo! Brawo! Rekord czasowy pobity!"
	push "askrestart"
	push "sndnierekord"
	push "Niestety nie udao si pobi rekordu"
	push "askrestart"
	cthis buildsnds
	push iMemoTryb
	push 0
	cmpje
	cmp0
	je l1783
	push "anbgcnt"
	push "licznik1.png"
	push 0
	cthis newimg
	localdef $2
	push 0.75
	pop $2
	push "null"
	push $2
	push 30
	pop $b
	popax
	mul $a,$b
	push 220
	push 220
	push 220
	call anbgcnt,getpx
	push 15
	pop $b
	popax
	add $a,$b
	call anbgcnt,getpy
	push 13
	pop $b
	popax
	add $a,$b
	push 1000
	push "hms"
	new TextTimeCounter,ttc
	push "sndintro0"
	cthis cbplay
	jmp l1782
l1783:
	push "null"
	push 40
	push 255
	push 210
	push 210
	push 10
	push 150
	push 1000
	new Cypher,ct1
	push "null"
	push 40
	push 210
	push 210
	push 255
	push 760
	push 150
	push 1000
	new Cypher,ct2
	push "sndintro1"
	cthis cbplay
	push iMemoTryb
	new Gracze,gracze
	push 800
	call gracz2,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call gracz2,setpos
l1782:
	end method
	method Memo0
	call ttc,play
	cthis tstart
	end method
	method tnextplayer
	clparent TMemo,tnextplayer
	push iplayer
	call gracze,set
	end method
	method askrestart2
	push iMemoTryb
	push 1
	cmpje
	cmp0
	je l1785
	call claskexit,askrestart
	jmp l1784
l1785:
	call claskexit,askrestart2
l1784:
	end method
	method tfinish
	push iMemoTryb
	push 0
	cmpje
	cmp0
	je l1787
	call ttc,stop
	localint $1
	call ttc,gettime
	pop $1
	localdef $2
	push "saves/memrek"
	push iMemoW
	pop $b
	popax
	add $a,$b
	push iMemoH
	pop $b
	popax
	add $a,$b
	pop $2
	localint $3
	push $2
	call engine,fileexist
	cmp0
	je l1789
	push $2
	push 0
	call $3,load
	push $3
	push $1
	cmpja
	cmp0
	je l1791
	push "sndrekord"
	cthis cbplay
	push $2
	call $1,save
	jmp l1790
l1791:
	push "sndnierekord"
	cthis cbplay
l1790:
	push "Dotychczasowy rekord na planszy: "
	push $3
	push "hms"
	clparent clstrdigit,gettime
	pop $b
	popax
	add $a,$b
	push 210
	push 20
	push 20
	push 242
	push 242
	push 242
	cthis consttext
	popax
	jmp l1788
l1789:
	push $2
	call $1,save
	push "sndrekord"
	cthis cbplay
l1788:
	jmp l1786
l1787:
	push "ct"
	push iplayer
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],operator++
	localint $4
	call ct1,get
	pop $4
	localint $5
	call ct2,get
	pop $5
	push $4
	push $5
	cmpje
	cmp0
	je l1793
	push "sndremis"
	cthis cbplay
	call fxbrawo,play
	jmp l1792
l1793:
	push $4
	push $5
	cmpja
	cmp0
	je l1795
	push "sndwin1"
	cthis cbplay
	call fxbrawo,play
	jmp l1794
l1795:
	push iMemoTryb
	push 2
	cmpje
	cmp0
	je l1797
	push "sndwin2"
	cthis cbplay
	call fxbrawo,play
	jmp l1796
l1797:
	push "sndwincomp"
	cthis cbplay
	call fxbuu,play
l1796:
l1794:
l1792:
l1786:
	end method
	method tpoint
	push iMemoTryb
	push 0
	cmpja
	cmp0
	je l1799
	push "ct"
	push iplayer
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],operator++
l1799:
	call fxmikrofala,play
	end method
	method tchoose
	call fxelektropik,play
	end method
	method terror
	end method
	method mouse_lclick
	end method
	end game

	new string,sRoznice
	push "jesien"
	pop sRoznice
	game MenuRoznice
	parent classadvadamigo2
	parent TMenu
	method init
	clparent classadvadamigo2,init
	push 88
	push 563
	cthis loadsoldat
	push "mroznice"
	push "scripts/roznice/"
	push "menuroz.pyz"
	cthis tinit
	localdef $1
	push "soldatstand"
	pop $1
	push A
	push "sndintro"
	push "Wybierz plansz"
	push $1
	push "sndwiosna"
	push "wiosna"
	push $1
	push "sndlato"
	push "lato"
	push $1
	push "sndjesien"
	push "jesien"
	push $1
	push "sndzima"
	push "zima"
	push $1
	cthis buildsnds
	push "sndintro"
	cthis cbplay
	push 1
	pop igmbegin
	end method
	method cbplay
	localdef $1
	pop $1
	push $1
	cthis soldattalk
	end method
	method startgame
	localstring $1
	pop $1
	push $1
	pop sRoznice
	push "Roznice"
	call gameapi,play
	end method
	method wiosna_BUTCLICK
	push "wiosna"
	cthis startgame
	end method
	method lato_BUTCLICK
	push "lato"
	cthis startgame
	end method
	method jesien_BUTCLICK
	push "jesien"
	cthis startgame
	end method
	method zima_BUTCLICK
	push "zima"
	cthis startgame
	end method
	end game

	game Roznice
	parent classadvadamigo2
	parent TRoznice
	method init
	clparent classadvadamigo2,init
	push A
	push "getitem"
	cthis sfxs=
	push "roznice"
	push "scripts/roznice/"
	push "bkgame.pyz"
	push "bg"
	push sRoznice
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "el"
	push sRoznice
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis tinit
	push "anzostalo"
	push "pozostalo.pyz"
	push 5
	cthis newanima
	push 400
	call anzostalo,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 420
	call anzostalo,ansetbpos
	push "null"
	push 25
	push 255
	push 255
	push 250
	call anzostalo,getcx
	push 15
	pop $b
	popax
	sub $a,$b
	call anzostalo,getcy
	push 10
	pop $b
	popax
	add $a,$b
	push 10
	new Cypher,cyf
	cthis remained
	call cyf,operator=
	push A
	push "sndintro"
	push "Znajd wszystkie szczegy, ktrymi rni si obrazki"
	push "Roznice0"
	push "sndend"
	push "Brawo! Wszystkie rnice znalezione!"
	push "Roznice1"
	cthis sounds=
	push igmbegin
	cmp0
	je l1801
	push 0
	pop igmbegin
	cthis lock
	push "sndintro"
	cthis cbplay
l1801:
	end method
	method Roznice0
	push GAME
	spushs
	spop $a
	call [$a],unlock
	end method
	method Roznice1
	push sRoznice
	call vecpory,vecnext
	pop sRoznice
	push "timend"
	push 1000
	push 1
	push "askrestart"
	cthis cnewtimerfin
	call timend,play
	end method
	method tpoint
	cthis remained
	call cyf,operator=
	call fxgetitem,play
	end method
	method tfinish
	cthis tpoint
	push "sndend"
	cthis cbplay
	end method
	end game

	new int,iPuzzleTryb
	push 1
	pop iPuzzleTryb
	new string,sPuzzle
	push "jesien"
	pop sPuzzle
	new vector,vecpory
	call vecpory,global4
	method global4
	push "string"
	cthis type
	push "begin"
	push "wiosna"
	push "lato"
	push "jesien"
	push "zima"
	cthis beginadd
	end method
	game MenuPuzzleTryb
	parent classadvadamigo2
	parent TMenu
	method init
	clparent classadvadamigo2,init
	push 740
	push 440
	cthis loadsoldat
	call ansoldat,anaddfilter
	push 30
	call ansoldat,rotate
	push "mpuzzlet"
	push "scripts/puzzle/"
	push "menupuzt.pyz"
	cthis tinit
	push A
	push "sndintro"
	push "Wybierz tryb gry"
	push "soldatstand"
	push "sndwstawe"
	push "wstawianie figur tryb atwy"
	push "soldatstand"
	push "sndwstawh"
	push "wstawianie figur tryb zaawansowany"
	push "soldatstand"
	push "sndpuzzlee"
	push "puzzle tryb atwy"
	push "soldatstand"
	push "sndpuzzleh"
	push "puzzle tryb zaawansowany"
	push "soldatstand"
	cthis buildsnds
	push "sndintro"
	cthis cbplay
	end method
	method cbplay
	localdef $1
	pop $1
	push $1
	cthis soldattalk
	end method
	method startgame
	localint $1
	pop $1
	push $1
	pop iPuzzleTryb
	push "MenuPuzzle"
	call gameapi,play
	end method
	method wstawe_BUTCLICK
	push 1
	cthis startgame
	end method
	method wstawh_BUTCLICK
	push 2
	cthis startgame
	end method
	method puzzlee_BUTCLICK
	push 3
	cthis startgame
	end method
	method puzzleh_BUTCLICK
	push 4
	cthis startgame
	end method
	end game

	game MenuPuzzle
	parent classadvadamigo2
	parent TMenu
	parent Dymarka
	method init
	clparent classadvadamigo2,init
	new anima,anblink
	call anblink,MenuPuzzle0
	push "timblink"
	push 500
	push 0
	spushs
	push 10
	spop $h
	call $h,rand
	push 100
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push "MenuPuzzle2"
	cthis timer=
	call timblink,play
	push "mpuzzle"
	push "scripts/puzzle/"
	push "menupuz.pyz"
	cthis tinit
	push A
	push "sndintro"
	push "Wybierz plansz"
	push "null"
	push "sndwiosna"
	push "wiosna"
	push "null"
	push "sndlato"
	push "lato"
	push "null"
	push "sndjesien"
	push "jesie"
	push "null"
	push "sndzima"
	push "zima"
	push "null"
	cthis buildsnds
	cthis initdym
	push "onfinish"
	push "startuj"
	call anmano,addmethod
	push 400
	call anmano,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 20
	popax
	sub 0,$a
	call anmano,move
	push "sndintro"
	cthis cbplay
	end method
	method MenuPuzzle0
	push "scripts/puzzle/bgblink.pyz"
	cthis load
	push 10
	cthis setz
	cthis hide
	push 4
	cthis setdelay
	push "onfinish"
	push "MenuPuzzle1"
	cthis addmethod
	end method
	method MenuPuzzle1
	cthis hide
	end method
	method MenuPuzzle2
	push 500
	push 0
	spushs
	push 10
	spop $h
	call $h,rand
	push 600
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis delay
	call anblink,show
	push 0
	call anblink,play
	cthis play
	end method
	method startuj
	push iPuzzleTryb
	push 2
	cmpja
	cmp0
	je l1803
	push "Puzzle"
	call gameapi,play
	jmp l1802
l1803:
	push "gamewstawianka"
	call gameapi,play
l1802:
	end method
	method startgame
	localstring $1
	pop $1
	cthis getlock
	cmp0
	je l1805
	ret
l1805:
	cthis lock
	push iPuzzleTryb
	push 2
	cmpja
	cmp0
	je l1807
	push $1
	pop sPuzzle
	push 1
	popax
	sub 0,$a
	call anmano,play
	jmp l1806
l1807:
	push iPuzzleTryb
	pop igmwstawtype
	push 1
	pop bgmwstaw
	push $1
	pop sgamewstaw
	push 1
	popax
	sub 0,$a
	call anmano,play
l1806:
	end method
	method wiosna_BUTCLICK
	push "wiosna"
	cthis startgame
	end method
	method lato_BUTCLICK
	push "lato"
	cthis startgame
	end method
	method jesien_BUTCLICK
	push "jesien"
	cthis startgame
	end method
	method zima_BUTCLICK
	push "zima"
	cthis startgame
	end method
	end game

	game Puzzle
	parent classadvadamigo2
	parent GameController
	method init
	new int,iCols
	new int,iRows
	push iPuzzleTryb
	push 3
	cmpje
	cmp0
	je l1809
	push 5
	push 3
	pop iRows
	pop iCols
	jmp l1808
l1809:
	push 7
	push 6
	pop iRows
	pop iCols
l1808:
	clparent classadvadamigo2,init
	push "puzzle"
	clparent GameController,init
	push A
	push "getpuz 60"
	push "putpuz 50"
	push "koloL"
	push "kolostop 50"
	cthis sfxs=
	push "scripts/puzzle/"
	cthis setgraphpath
	push "imgbkg"
	push "bgpuzle.png"
	push 0
	cthis newimg
	new gmimgvec,grel
	new gmimgvec,grend
	push "grel"
	push "el"
	push iPuzzleTryb
	push 2
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push sPuzzle
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	call grel,setz
	new int,iid
	push 0
	pop iid
	new int,iile
	call grel,size
	pop iile
	new real,rspeed
	push 15
	pop rspeed
	new int,ibadajl
	push 25
	pop ibadajl
	push "timstart"
	push 3000
	push 1
	push "Puzzle0"
	cthis cnewtimerfin
	push 0
	pop igmstate
	push A
	push "sndintro"
	push "Rozpoczynam miesznie"
	push "Puzzle1"
	push "sndend"
	push "Brawo! Obrazek idealnie uoony"
	push "Puzzle2"
	cthis buildsnds
	push "sndintro"
	cthis cbplay
	new DelayMover,cmov
	push 200
	new SimpleCounter,cnt
	new int,iX
	push 79
	pop iX
	new int,iY
	push 58
	pop iY
	push iX
	push iY
	call grel,move
	end method
	method Puzzle0
	push 2
	pop itimstate
	end method
	method Puzzle1
	push GAME
	spushs
	spop $a
	call [$a],buildcircle
	end method
	method Puzzle2
	push sPuzzle
	call vecpory,vecnext
	pop sPuzzle
	push "timend"
	push 3000
	push 1
	push "askrestart"
	cthis cnewtimerfin
	call timend,play
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grel,isin
	cmp0
	je l1811
	localstring $1
	call grel,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	call fxgetpuz,play
l1811:
	end method
	method cwithin
	localstring $1
	pop $1
	localint $2
	cthis gettype
	push "anima"
	cmpjne
	cmp0
	je l1813
	push 0
	pop $2
l1814:
	push $2
	cthis size
	cmpjl
	cmp0
	je l1815
	jmp l1817
l1816:
	add $2,1
	pop $2
	jmp l1814
l1817:
	push $2
	cthis get
	spushs
	push $1
	spop $a
	call [$a],cwithin
	cmp0
	je l1819
	push 1
	ret
l1819:
	jmp l1816
l1815:
	push 0
	ret
	jmp l1812
l1813:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1821
	localint $3
	cthis framenr
	pop $3
	localint $4
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	push A
	push $4
	push 0
	cmpja
	cmp0
	je l1823
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
l1823:
	push $4
	push iCols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1825
	push $3
	push 1
	pop $b
	popax
	add $a,$b
l1825:
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l1827
	push $3
	push iCols
	pop $b
	popax
	sub $a,$b
l1827:
	push $4
	push iRows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1829
	push $3
	push iCols
	pop $b
	popax
	add $a,$b
l1829:
	push $1
	spushs
	spop $a
	call [$a],framenr
	spushs
	spop $h
	call $h,in
	ret
	jmp l1820
l1821:
	push 0
	pop $2
l1830:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1831
	jmp l1833
l1832:
	add $2,1
	pop $2
	jmp l1830
l1833:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cwithin
	cmp0
	je l1835
	push 1
	ret
l1835:
	jmp l1832
l1831:
	push 0
	ret
l1820:
l1812:
	end method
	method cblit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1837
	push $1
	spushs
	spop $a
	call [$a],Puzzle3
	jmp l1836
l1837:
	localint $2
	push 0
	pop $2
l1838:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1839
	jmp l1841
l1840:
	add $2,1
	pop $2
	jmp l1838
l1841:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cblit
	jmp l1840
l1839:
l1836:
	end method
	method Puzzle3
	push 1
	cthis setz
	push iX
	push iY
	cthis setpos
	localint $1
	cthis getpx
	pop $1
	localint $2
	cthis getpy
	pop $2
	cthis anaddfilter
	push 128
	cthis setopacity
	push $1
	push $2
	cthis setpos
	cthis getname
	call imgbkg,blit
	cthis unlink
	push iX
	push iY
	cthis setpos
	cthis hide
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	call fxputpuz,play
	end method
	method cput
	localstring $1
	call cmov,getmover
	pop $1
	push $1
	spushs
	push 100
	call cnt,next
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	call cmov,free
	call grel,Puzzle4
	localstring $2
	push $1
	pop $2
	localstring $3
l1842:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpjne
	cmp0
	je l1843
	push $1
	spushs
	push 0
	spop $a
	call [$a],get
	pop $1
	jmp l1842
l1843:
	push $1
	spushs
	spop $a
	call [$a],lodx
	push iX
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],lody
	push iY
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	call ibadajl,length
	push ibadajl
	cmpjl
	cmp0
	je l1845
	push $2
	cthis cblit
	push $2
	call grel,remove
	push $2
	call grend,add
	call grel,empty
	cmp0
	je l1847
	call grend,show
	push "sndend"
	cthis cbplay
l1847:
	jmp l1844
l1845:
	push $2
	call grel,remove
	localint $4
	push 0
	pop $4
l1848:
	push $4
	call grel,size
	cmpjl
	cmp0
	je l1849
	jmp l1851
l1850:
	add $4,1
	pop $4
	jmp l1848
l1851:
	push $4
	call grel,get
	pop $1
	push $1
	push $2
	call cllen,iposlen
	push ibadajl
	cmpjl
	cmp0
	je l1853
	push $2
	spushs
	push $1
	spop $a
	call [$a],cwithin
	jmp l1855
l1853:
	push 0
	jmp l1855
l1854:
	push 1
l1855:
	cmp0
	je l1856
	localint $5
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $6
	pop $5
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1858
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1860
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new gmimgvec,[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],add
	push $3
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l1859
l1860:
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	pop $3
l1859:
	push $1
	call grel,remove
	push $3
	call grel,add
	jmp l1857
l1858:
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1862
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l1861
l1862:
	push $1
	spushs
	push $2
	spop $a
	call [$a],addgr
l1861:
	push $1
	pop $3
l1857:
	push $3
	spushs
	push $5
	push $6
	spop $a
	call [$a],setpos
	push $3
	spushs
	push $2
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	call grel,sortimgs
	ret
l1856:
	jmp l1850
l1849:
	push $2
	call grel,add
l1844:
	end method
	method Puzzle4
	cthis sortimgs
	push "Puzzle5"
	cthis each
	end method
	method Puzzle5
	localint $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method mouse_rclick
	end method
	method cgetpos
	localint $1
	pop $1
	push $1
	call grel,get
	spushs
	spop $a
	call [$a],getcx
	push $1
	call grel,get
	spushs
	spop $a
	call [$a],getcy
	ret
	end method
	method cgetdest
	localint $1
	pop $1
	push $1
	push iid
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	push 2
	pop $b
	popax
	mul $a,$b
	pop $1
	push $1
	call vpos,get
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vpos,get
	ret
	end method
	method buildcircle
	localreal $1
	push 360
	push iile
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localreal $2
	push 200.0
	pop $2
	localreal $3
	push 0.0
	pop $3
	localint $4
	localint $5
	new vector,vpos
	push "int"
	call vpos,type
	localstring $6
	localint $7
	push 0
	pop $7
l1863:
	push $7
	push iile
	cmpjl
	cmp0
	je l1864
	jmp l1866
l1865:
	add $7,1
	pop $7
	jmp l1863
l1866:
	push 400
	push $2
	call $3,cos
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call vpos,add
	push 300
	push $2
	call $3,sin
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call vpos,add
	push $1
	popax
	add $3,$a
	pop $3
	push "trl"
	push $7
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new classwalker,[$e]
	push $6
	spushs
	push $7
	cthis cgetpos
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	call vpos,get
	push 2
	push $7
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	call vpos,get
	push rspeed
	spop $a
	call [$a],countsteps
	popax
	jmp l1865
l1864:
	push "timhash"
	push 1
	push 1
	push "fintim"
	cthis cnewtimercyclefin
	new int,itimstate
	push 0
	pop itimstate
	call timhash,play
	end method
	method allreached
	push "Puzzle6"
	call grel,ineach
	end method
	method Puzzle6
	localint $1
	pop $1
	push "trl"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	cthis cgetpos
	spop $a
	call [$a],reached2
	end method
	method setallpos
	localstring $1
	localint $2
	push 0
	pop $2
l1867:
	push $2
	push iile
	cmpjl
	cmp0
	je l1868
	jmp l1870
l1869:
	add $2,1
	pop $2
	jmp l1867
l1870:
	push "trl"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	push $2
	cthis cgetpos
	spop $a
	call [$a],reached2
	neg
	cmp0
	je l1872
	push $2
	call grel,get
	spushs
	push $1
	spushs
	spop $a
	call [$a],getdx
	push $1
	spushs
	spop $a
	call [$a],getdy
	spop $a
	call [$a],move
l1872:
	jmp l1869
l1868:
	end method
	method fintim
	localint $1
	push itimstate
	push 0
	cmpje
	cmp0
	je l1874
	cthis allreached
	cmp0
	je l1876
	push 1
	pop itimstate
	call timstart,play
	call fxkolo,play
l1876:
	cthis setallpos
	jmp l1873
l1874:
	push itimstate
	push 1
	cmpje
	cmp0
	je l1878
	push 0
	cthis cgetpos
	call trl0,reached2
	cmp0
	je l1880
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push 0
	pop $1
l1881:
	push $1
	push iile
	cmpjl
	cmp0
	je l1882
	jmp l1884
l1883:
	add $1,1
	pop $1
	jmp l1881
l1884:
	push "trl"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	cthis cgetpos
	push $1
	cthis cgetdest
	push rspeed
	spop $a
	call [$a],countsteps
	popax
	jmp l1883
l1882:
l1880:
	cthis setallpos
	jmp l1877
l1878:
	push itimstate
	push 2
	cmpje
	cmp0
	je l1886
	push "Puzzle7"
	call grel,each
	call grel,sortimgs
	push 0
	pop $1
l1887:
	push $1
	push iile
	cmpjl
	cmp0
	je l1888
	jmp l1890
l1889:
	add $1,1
	pop $1
	jmp l1887
l1890:
	push "trl"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	cthis cgetpos
	push 150
	push 500
	call $1,rand
	pop $b
	popax
	add $a,$b
	push 300
	push 200
	call $1,rand
	pop $b
	popax
	add $a,$b
	push rspeed
	spop $a
	call [$a],countsteps
	popax
	jmp l1889
l1888:
	push 0
	call fxkolo,stop
	call fxkolostop,play
	push 3
	pop itimstate
	cthis setallpos
	jmp l1885
l1886:
	push itimstate
	push 3
	cmpje
	cmp0
	je l1892
	cthis allreached
	cmp0
	je l1894
	push 1
	pop igmstate
	call cmov,unlock
	ret
l1894:
	cthis setallpos
l1892:
l1885:
l1877:
l1873:
	cthis play
	end method
	method Puzzle7
	localint $1
	pop $1
	push 10
	push 40
	call $1,rand
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	end game

