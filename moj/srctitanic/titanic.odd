; Dominik Dagiel   ix 2005

	new int,igmdebug
	push 0
	pop igmdebug
	new int,igmwinlocal
	push 0
	pop igmwinlocal
	new int,igmmac
	push 0
	pop igmmac
	new int,igmipad
	push 0
	pop igmipad
	new int,ibigfish
	push 0
	pop ibigfish
	new int,igamehouse
	push 0
	pop igamehouse
	new string,sgmdeveloper
	push "PlayWay"
	pop sgmdeveloper
	new string,sgmproject
	push "TitanicKeysToThePast"
	pop sgmproject
	push igmdebug
	cmp0
	je l2
	push igmipad
	cmp0
	jne l5
	push igmmac
	jmp l6
l4:
	push 0
	jmp l6
l5:
	push 1
l6:
	jmp l7
l2:
	push 0
	jmp l7
l3:
	push 1
l7:
	cmp0
	je l8
	push "getsavepath"
	push "global0"
	call engine,addmethod
l8:
	method global0
	push "saves/"
	end method
	method getwinpath
	localstring $1
	pop $1
	localstring $2
	push "appdata"
	call engine,getspecialpath
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l10
	push $2
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	jmp l9
l10:
	push $1
l9:
	end method
	method getsavepath
	push igmipad
	cmp0
	jne l13
	push igmmac
	jmp l14
l12:
	push 0
	jmp l14
l13:
	push 1
l14:
	cmp0
	je l15
	call engine,getsavepath
	jmp l11
l15:
	push igmwinlocal
	cmp0
	je l17
	push "saves/"
	cthis getwinpath
	jmp l16
l17:
	push "saves/"
l16:
l11:
	end method
	method buildsavedir
	push igmwinlocal
	cmp0
	je l19
	push igmipad
	neg
	cmp0
	je l19
	push igmmac
	neg
	jmp l21
l19:
	push 0
	jmp l21
l20:
	push 1
l21:
	cmp0
	je l22
	localstring $1
	push "appdata"
	call engine,getspecialpath
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l24
	push "/"
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	localint $2
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l27
	push $2
	push 1
	cmpje
	jmp l28
l26:
	push 0
	jmp l28
l27:
	push 1
l28:
	cmp0
	je l29
	push "/"
	push sgmproject
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l32
	push $2
	push 1
	cmpje
	jmp l33
l31:
	push 0
	jmp l33
l32:
	push 1
l33:
	cmp0
	je l34
	push "/saves"
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	popax
l34:
l29:
l24:
l22:
	end method
	cthis buildsavedir
	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	new int,BYTESPACE
	push " "
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTESPACE
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l36
	push $1
	push $2
	cthis varnew
l36:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l38
	push $1
	cthis vardel
l38:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global1"
	cthis addmethod
	end method
	method global1
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global2"
	cthis addmethod
	end method
	method global2
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l39:
	push A
	push $2
	cmpjne
	cmp0
	je l40
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l39
l40:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l41:
	push A
	push $2
	cmpjne
	cmp0
	je l42
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l41
l42:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method builder_func
	localstring $1
	pop $1
	cthis getbuildername
	spushs
	cthis getbuildername
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l43:
	push A
	push $3
	cmpjne
	cmp0
	je l44
	push $1
	neg
	cmp0
	je l46
	push $2
	push $3
	cmpje
	pop $1
l46:
	localdef $3
	pop $3
	jmp l43
l44:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l47:
	push $2
	push A
	cmpjne
	cmp0
	je l48
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l47
l48:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global3"
	cthis addmethod
	end method
	method global3
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l49:
	push $2
	push A
	cmpjne
	cmp0
	je l50
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l49
l50:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l52
	ret
l52:
l53:
	push $1
	push $2
	cmpjle
	cmp0
	je l54
	jmp l56
l55:
	add $1,1
	pop $1
	jmp l53
l56:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l55
l54:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l58
	ret
l58:
l59:
	push $1
	push $2
	cmpjae
	cmp0
	je l60
	jmp l62
l61:
	sub $1,1
	pop $1
	jmp l59
l62:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l61
l60:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l63:
	push $5
	push $1
	cmpjl
	cmp0
	je l64
	jmp l66
l65:
	add $5,1
	pop $5
	jmp l63
l66:
	push 0
	pop $4
l67:
	push $4
	push $2
	cmpjl
	cmp0
	je l68
	jmp l70
l69:
	add $4,1
	pop $4
	jmp l67
l70:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l69
l68:
	jmp l65
l64:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	push "limit"
	push 0
	cthis var2
	end method
	method get
	push limit
	push 0
	cmpja
	cmp0
	je l72
	push _iile
	push limit
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop _iile
	jmp l71
l72:
	add _iile,1
	pop _iile
l71:
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	method getid
	localint $1
	pop $1
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	method setaslocker
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlocker"
	push "classlocker0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlocker
	push $1
	spushs
	push "lock"
	push "lock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlock"
	push "unlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setlock"
	push "setlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getlock"
	push "getlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlocked"
	push "unlocked"
	spop $a
	call [$a],addmethod
	end method
	method classlocker0
	new int,_block
	push 1
	pop _block
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l73:
	push $2
	push $3
	cmpjl
	cmp0
	je l74
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l73
l74:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l76
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l76:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l79
	push $3
	push 0
	cmpjle
	jmp l80
l78:
	push 0
	jmp l80
l79:
	push 1
l80:
	cmp0
	je l81
	ret
l81:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l82:
	push $2
	push 0
	cmpja
	cmp0
	je l83
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l82
l83:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	neg
	cmp0
	je l85
	push $1
	cthis add
l85:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l87
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l87:
	end method
	method free
	call vn,free
	call vec,free
	end method
	method print
	call vec,print
	call vn,print
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l88:
	push $2
	push $3
	cmpjl
	cmp0
	je l89
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l91
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l93
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l95
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l95:
	jmp l92
l93:
	push 100
	call gameapi,setmusicvol
l92:
	push $6
	call gameapi,playmusic
	jmp l90
l91:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l97
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l99
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l101
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l101:
	jmp l98
l99:
	push 100
	call _sndbgr,setvol
l98:
	cthis playbgr
	jmp l96
l97:
	add $2,1
	pop $2
l96:
l90:
	jmp l88
l89:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	class Music
	method init
	new vector,vmus
	push "string"
	call vmus,type
	new int,ilastid
	push "musicvolume"
	push 100
	cthis var2
	end method
	method playdb
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	call vmus,free
l102:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l103
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l102
l103:
	push 0
	pop ilastid
	cthis play
	end method
	method playvec
	localstring $1
	localint $2
	pop $2
	pop $1
	call vmus,free
l104:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l105
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call vmus,add
	add $2,1
	pop $2
	jmp l104
l105:
	push 0
	pop ilastid
	cthis play
	end method
	method playstr
	localstring $1
	pop $1
	push $1
	push " "
	call vmus,vecbuildfromstring
	push 0
	pop ilastid
	cthis play
	end method
	method play
	push ilastid
	call vmus,size
	cmpjae
	cmp0
	je l107
	ret
l107:
	localstring $1
	push MUSICPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,fileexist
	neg
	cmp0
	je l109
	push SFXPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
l109:
	add ilastid,1
	pop ilastid
	localint $2
	push 0
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push musicvolume
	pop $5
	localint $6
	push ilastid
	pop $6
l110:
	push $6
	call vmus,size
	cmpjl
	cmp0
	je l111
	jmp l113
l112:
	add $6,1
	pop $6
	jmp l110
l113:
	localdef $7
	push $6
	call vmus,get
	pop $7
	push $7
	spushs
	push "-l"
	cmpst
	jne l115
	spop $a
	push 1
	pop $2
	jmp l114
l115:
	push "-v"
	cmpst
	jne l116
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $5
	push $5
	push musicvolume
	pop $b
	popax
	mul $a,$b
	push 100
	pop $b
	popax
	div $a,$b
	psax
	pop $5
	jmp l114
l116:
	push "-fin"
	cmpst
	jne l117
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $3
	jmp l114
l117:
	push "-fout"
	cmpst
	jne l118
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $4
	jmp l114
l118:
	push "-p"
	cmpst
	jne l119
	spop $a
	jmp l114
l119:
	spop $a
	push $6
	pop ilastid
	call vmus,size
	pop $6
l114:
	jmp l112
l111:
	push $5
	call gameapi,setmusicvol
	push $2
	cmp0
	je l121
	push $1
	call gameapi,playmusic
	call vmus,size
	pop ilastid
	ret
l121:
	push $1
	call gameapi,loadmusic
	push $3
	cmp0
	je l123
	push $3
	call gameapi,fadeinmusic
	jmp l122
l123:
	call gameapi,startmusic
l122:
	push $4
	cmp0
	je l125
	push $4
	call gameapi,fadeoutmusic
l125:
	end method
	method fadeout
	localint $1
	pop $1
	call gameapi,ismusicplaying
	cmp0
	je l127
	push $1
	call gameapi,fadeoutmusic
	call vmus,size
	pop ilastid
l127:
	end method
	method isplaying
	call gameapi,ismusicplaying
	end method
	method stop
	push 0
	call gameapi,endmusic
	end method
	end class

	new int,igmstate
	new string,sgmstate
	new int,igmeasy
	new int,igmdemo
	new int,igmbegin
	new int,igmsoundson
	push 0
	pop igmsoundson
	new db,dbconf
	push "scripts/mainloader/config.beh"
	call dbconf,loadscript
	push "confmode"
	push "global4"
	call dbconf,addmethod
	method global4
	localstring $1
	pop $1
	push Trudnosc
	push 0
	cmpje
	cmp0
	je l129
	push "_easy:"
	popax
	add $1,$a
	pop $1
	jmp l128
l129:
	push Trudnosc
	push 1
	cmpje
	cmp0
	je l131
	push "_normal:"
	popax
	add $1,$a
	pop $1
	jmp l130
l131:
	push "_expert:"
	popax
	add $1,$a
	pop $1
l130:
l128:
	push $1
	cthis dbget
	end method
	new string,sgmfontfile
	push "configs/fonts/normal.ttf"
	pop sgmfontfile
	new string,sgmfontmono
	push "configs/fonts/mono.ttf"
	pop sgmfontmono
	new string,sgmfontmonobold
	push "configs/fonts/monobold.ttf"
	pop sgmfontmonobold
	new string,sgmfontbold
	push "configs/fonts/monobold.ttf"
	pop sgmfontbold
	new string,sgmfontitalic
	push "configs/fonts/timesit.ttf"
	pop sgmfontitalic
	new string,SFXPATH
	push "sounds/sfx/"
	pop SFXPATH
	new string,BGRPATH
	push "sounds/bgr/"
	pop BGRPATH
	new string,MUSICPATH
	push "sounds/music/"
	pop MUSICPATH
	new string,LANG
	push igmipad
	cmp0
	je l133
	call engine,getcurlang
	spushs
	push "it"
	cmpst
	jne l135
	spop $a
	push "ita"
	jmp l134
l135:
	push "de"
	cmpst
	jne l136
	spop $a
	push "ger"
	jmp l134
l136:
	push "es"
	cmpst
	jne l137
	spop $a
	push "esp"
	jmp l134
l137:
	push "fr"
	cmpst
	jne l138
	spop $a
	push "fra"
	jmp l134
l138:
	spop $a
	push "eng"
l134:
	pop LANG
	jmp l132
l133:
	push "lang:"
	call dbconf,dbget
	pop LANG
l132:
	new string,SNDPATH
	push "sounds/"
	pop SNDPATH
	new string,LANGDIR
	push "lang/"
	push LANG
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	pop LANGDIR
	push LANG
	push "pl"
	cmpje
	cmp0
	je l140
	push ""
	pop LANG
l140:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l142
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l142:
	new int,iResX
	new int,iResY
	call engine,getscreenres
	pop iResY
	pop iResX
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l144
	push sgmfontfile
	pop $1
l144:
	push ".ttf"
	call $1,contains
	cmp0
	je l146
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l146:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l148
	ret
l148:
	sub $3,1
	pop $3
l149:
	push $3
	push 0
	cmpjae
	cmp0
	je l150
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l149
l150:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	ret
	end method
	method getsndpath
	push _sclwavpath
	ret
	end method
	method getpath
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l152
	push 1
	call $1,strsubb
	jmp l151
l152:
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
l151:
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l154
	ret
l154:
	localint $5
	push 0
	pop $5
l155:
	push $5
	push $4
	cmpjl
	cmp0
	je l156
	jmp l158
l157:
	add $5,1
	pop $5
	jmp l155
l158:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l157
l156:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l160
	ret
l160:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l161:
	push $6
	push $5
	cmpjl
	cmp0
	je l162
	jmp l164
l163:
	add $6,1
	pop $6
	jmp l161
l164:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l166
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l166:
	jmp l163
l162:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push "."
	call $2,contains
	neg
	cmp0
	je l168
	push ".wav"
	popax
	add $2,$a
	pop $2
l168:
	push $2
	call engine,fileexist
	neg
	cmp0
	je l170
	push "wav"
	call $2,strsubes
	push "ogg"
	pop $b
	popax
	add $a,$b
	pop $2
l170:
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l172
	push $1
	push $2
	call subtitle,register
l172:
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l173:
	push $8
	push $7
	cmpjl
	cmp0
	je l174
	jmp l176
l175:
	add $8,1
	pop $8
	jmp l173
l176:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l175
l174:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l178
	push $1
	cthis looponfinish
	jmp l177
l178:
	push "H"
	call $2,contains
	cmp0
	je l180
	push $1
	cthis hideonfinish
l180:
l177:
	push "P"
	call $2,contains
	cmp0
	je l182
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l182:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l183:
	push $6
	push $4
	cmpjl
	cmp0
	je l184
	jmp l186
l185:
	add $6,1
	pop $6
	jmp l183
l186:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l188
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l188:
	jmp l185
l184:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l189:
	push $5
	push $4
	cmpjl
	cmp0
	je l190
	jmp l192
l191:
	add $5,1
	pop $5
	jmp l189
l192:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l191
l190:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],loadscritp
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l194
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l194:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push msid
	push 1
	cmpjne
	cmp0
	je l196
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
l196:
	end method
	method setact
	push msid
	push 2
	cmpjne
	cmp0
	je l198
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
l198:
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l199
	push $1
	push $5
	cmpjle
	cmp0
	je l199
	push $2
	push $4
	cmpjae
	cmp0
	je l199
	push $2
	push $6
	cmpjle
	jmp l201
l199:
	push 0
	jmp l201
l200:
	push 1
l201:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l202
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l202
	push $2
	push $4
	cmpjae
	cmp0
	je l202
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l204
l202:
	push 0
	jmp l204
l203:
	push 1
l204:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l206
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l206
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l206
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l207
l205:
	push 0
	jmp l207
l206:
	push 1
l207:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l209
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l210
l208:
	push 0
	jmp l210
l209:
	push 1
l210:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l211
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l211
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l211
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l213
l211:
	push 0
	jmp l213
l212:
	push 1
l213:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l214
	push ilx
	push $6
	cmpjle
	cmp0
	je l214
	push ily
	push $5
	cmpjae
	cmp0
	je l214
	push ily
	push $7
	cmpjle
	jmp l216
l214:
	push 0
	jmp l216
l215:
	push 1
l216:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l217:
	push $2
	push $6
	cmpjne
	cmp0
	je l218
	push $3
	push $7
	cmpjne
	jmp l220
l218:
	push 0
	jmp l220
l219:
	push 1
l220:
	cmp0
	je l221
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l223
	push $2
	push $3
	ret
l223:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l217
l221:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class ImagePos
	method init
	end method
	method getex
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	end class

	class ImageVisible
	method init
	new int,_isvisible
	push 1
	pop _isvisible
	end method
	method isvisible
	push _isvisible
	end method
	method show
	push 1
	pop _isvisible
	end method
	method hide
	push 0
	pop _isvisible
	end method
	end class

	class Image
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push A
	push "getz"
	push 0
	push "getpx"
	push 0
	push "getpy"
	push 0
	push "getw"
	push 0
	push "geth"
	push 0
	push "isvisible"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "show"
	push "Image0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "hide"
	push "Image1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setz"
	push "Image2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpos"
	push "Image3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "move"
	push "Image4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getex"
	push "Image5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getey"
	push "Image6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcx"
	push "Image7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcy"
	push "Image8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isin"
	push "Image9"
	spop $a
	call [$a],addmethod
	end method
	method Image0
	push 1
	pop isvisible
	end method
	method Image1
	push 0
	pop isvisible
	end method
	method Image2
	localint $1
	pop $1
	push $1
	pop getz
	end method
	method Image3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop getpx
	push $2
	pop getpy
	end method
	method Image4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add getpx,$a
	pop getpx
	push $2
	popax
	add getpy,$a
	pop getpy
	end method
	method Image5
	push getpx
	push getw
	pop $b
	popax
	add $a,$b
	end method
	method Image6
	push getpy
	push geth
	pop $b
	popax
	add $a,$b
	end method
	method Image7
	push getpx
	push getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image8
	push getpy
	push geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	neg
	cmp0
	je l225
	push $3
	neg
	cmp0
	jne l228
	push $3
	cmp0
	je l229
	push isvisible
	jmp l231
l229:
	push 0
	jmp l231
l230:
	push 1
l231:
	jmp l232
l227:
	push 0
	jmp l232
l228:
	push 1
l232:
	cmp0
	je l233
	push $1
	push getpx
	cmpjae
	cmp0
	je l234
	push $1
	cthis getex
	cmpjl
	cmp0
	je l234
	push $2
	push getpy
	cmpjae
	cmp0
	je l234
	push $2
	cthis getey
	cmpjl
	jmp l236
l234:
	push 0
	jmp l236
l235:
	push 1
l236:
	jmp l226
l233:
	push 0
l226:
	jmp l224
l225:
	push 0
l224:
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l238
	push $1
	cthis play
l238:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l239
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l241
l239:
	push 0
	jmp l241
l240:
	push 1
l241:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l242:
	push $2
	cthis size
	cmpjl
	cmp0
	je l243
	jmp l245
l244:
	add $2,1
	pop $2
	jmp l242
l245:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l244
l243:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l246:
	push $1
	push iile
	cmpjl
	cmp0
	je l247
	jmp l249
l248:
	add $1,1
	pop $1
	jmp l246
l249:
	push $1
	call _vs,get
	neg
	cmp0
	je l251
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l251:
	jmp l248
l247:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _san
	call $1,strsubbs
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	method allfree
	call _vs,vecsum
	push 0
	cmpje
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l253
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l255
	spop $a
	push $1
	cthis copy
	jmp l254
l255:
	push "gmobjvec"
	cmpst
	jne l256
	spop $a
	push $1
	cthis copy
	jmp l254
l256:
	push "gmimgvec"
	cmpst
	jne l257
	spop $a
	push $1
	cthis copy
	jmp l254
l257:
	spop $a
	cthis free
	push $1
	cthis add
l254:
	jmp l252
l253:
	cthis free
	push $1
	cthis add
l252:
	end method
	method save
	localstring $1
	pop $1
	push $1
	call lsim,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call lsim,load
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l258:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l259
	jmp l261
l260:
	add $2,1
	pop $2
	jmp l258
l261:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l260
l259:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l262:
	push $2
	cthis size
	cmpjl
	cmp0
	je l263
	jmp l265
l264:
	add $2,1
	pop $2
	jmp l262
l265:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l264
l263:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l266:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l267
	jmp l269
l268:
	add $2,1
	pop $2
	jmp l266
l269:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l268
l267:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	push ""
	call engine,print
	push "------ type("
	cthis gettype
	pop $b
	popax
	add $a,$b
	push ") "
	pop $b
	popax
	add $a,$b
	cthis getname
	pop $b
	popax
	add $a,$b
	push " ------"
	pop $b
	popax
	add $a,$b
	call engine,print
	call lsim,print
	push "------ end ------"
	call engine,print
	push ""
	call engine,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method set
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,set
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l270:
	push $3
	push 0
	cmpja
	cmp0
	je l271
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l270
l271:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l272:
	push $1
	cthis size
	cmpjl
	cmp0
	je l273
	jmp l275
l274:
	add $1,1
	pop $1
	jmp l272
l275:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l274
l273:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l276:
	push $2
	cthis size
	cmpjl
	cmp0
	je l277
	jmp l279
l278:
	add $2,1
	pop $2
	jmp l276
l279:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l278
l277:
	end method
	method deleteallgmobj
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l280:
	push $2
	cthis size
	cmpjl
	cmp0
	je l281
	jmp l283
l282:
	add $2,1
	pop $2
	jmp l280
l283:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],deletegmobj
	jmp l282
l281:
	end method
	method lockall
	push "lock"
	cthis eval
	cthis print
	end method
	method unlockall
	push "unlock"
	cthis eval
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l285
	push $1
	call lsim,add
l285:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l286:
	push $2
	push $1
	cmpjne
	cmp0
	je l287
	push $2
	cthis addbegin
	pop $2
	jmp l286
l287:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method removelist
	push "remove"
	cthis withlist
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l289
	push $1
	cthis addbegin
	jmp l288
l289:
	push $2
	push $3
	cmpjae
	cmp0
	je l291
	push $1
	cthis add
	jmp l290
l291:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l292:
	push $4
	push $2
	cmpja
	cmp0
	je l293
	jmp l295
l294:
	sub $4,1
	pop $4
	jmp l292
l295:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l294
l293:
	push $2
	push $1
	cthis set
l290:
l288:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l296:
	push $1
	cthis contains
	cmp0
	je l297
	push $1
	cthis remove
	jmp l296
l297:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l298:
	push $2
	cthis size
	cmpjl
	cmp0
	je l299
	jmp l301
l300:
	add $2,1
	pop $2
	jmp l298
l301:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l303
	push $2
	cthis removeat
l303:
	jmp l300
l299:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l304:
	push $2
	push $3
	cmpjle
	cmp0
	je l305
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l304
l305:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l307
	call $1,rand
	cthis get
	jmp l306
l307:
	push "null"
l306:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l309
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l310:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l311
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l313
	push "null"
	ret
l313:
	jmp l310
l311:
	push $3
	cthis get
	ret
l309:
	push "null"
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l315
l316:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l317
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l316
l317:
l315:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method isplaying
	localint $1
	push 0
	pop $1
l318:
	push $1
	cthis size
	cmpjl
	cmp0
	je l319
	jmp l321
l320:
	add $1,1
	pop $1
	jmp l318
l321:
	push $1
	cthis get
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],isplaying
	cmp0
	je l323
	push 1
	ret
l323:
	jmp l320
l319:
	push 0
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l324:
	push $5
	push 0
	cmpjae
	cmp0
	je l325
	jmp l327
l326:
	sub $5,1
	pop $5
	jmp l324
l327:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l329
	push $5
	call lsim,get
	ret
l329:
	jmp l326
l325:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l330:
	push $5
	push 0
	cmpjae
	cmp0
	je l331
	jmp l333
l332:
	sub $5,1
	pop $5
	jmp l330
l333:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l335
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l335:
	jmp l332
l331:
	push 0
	ret
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l336:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l337
	jmp l339
l338:
	add $2,1
	pop $2
	jmp l336
l339:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l338
l337:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l340:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l341
	jmp l343
l342:
	add $3,1
	pop $3
	jmp l340
l343:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l342
l341:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l344:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l345
	jmp l347
l346:
	add $4,1
	pop $4
	jmp l344
l347:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l346
l345:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l348:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l349
	jmp l351
l350:
	add $5,1
	pop $5
	jmp l348
l351:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l350
l349:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l352:
	push $3
	cthis size
	cmpjl
	cmp0
	je l353
	jmp l355
l354:
	add $3,1
	pop $3
	jmp l352
l355:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l357
	push $3
	ret
l357:
	jmp l354
l353:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l358:
	push $3
	cthis size
	cmpjl
	cmp0
	je l359
	jmp l361
l360:
	add $3,1
	pop $3
	jmp l358
l361:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l363
	push $3
	ret
l363:
	jmp l360
l359:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l364:
	push $2
	cthis size
	cmpjl
	cmp0
	je l365
	jmp l367
l366:
	add $2,1
	pop $2
	jmp l364
l367:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l366
l365:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l368:
	push $3
	cthis size
	cmpjl
	cmp0
	je l369
	jmp l371
l370:
	add $3,1
	pop $3
	jmp l368
l371:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l370
l369:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l372:
	push $4
	cthis size
	cmpjl
	cmp0
	je l373
	jmp l375
l374:
	add $4,1
	pop $4
	jmp l372
l375:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l374
l373:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l376:
	push $2
	cthis size
	cmpjl
	cmp0
	je l377
	jmp l379
l378:
	add $2,1
	pop $2
	jmp l376
l379:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l381
	push 0
	ret
l381:
	jmp l378
l377:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l383
	ret
l383:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l384:
	push $6
	cthis size
	cmpjl
	cmp0
	je l385
	jmp l387
l386:
	add $6,1
	pop $6
	jmp l384
l387:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l389
	push $6
	pop $3
	push $5
	pop $4
l389:
	jmp l386
l385:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l391
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l392
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l394
l392:
	push 0
	jmp l394
l393:
	push 1
l394:
	jmp l395
l390:
	push 0
	jmp l395
l391:
	push 1
l395:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	new string,sanload
	push "null"
	pop sanload
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l397
	push _ix
	ret
l397:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l398:
	push $4
	push $1
	cmpjl
	cmp0
	je l399
	jmp l401
l400:
	add $4,1
	pop $4
	jmp l398
l401:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l403
	push $3
	pop $2
l403:
	jmp l400
l399:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l405
	push _iy
	ret
l405:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l406:
	push $4
	push $1
	cmpjl
	cmp0
	je l407
	jmp l409
l408:
	add $4,1
	pop $4
	jmp l406
l409:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l411
	push $3
	pop $2
l411:
	jmp l408
l407:
	push $2
	ret
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l413
	push _ix
	ret
l413:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l414:
	push $4
	push $1
	cmpjl
	cmp0
	je l415
	jmp l417
l416:
	add $4,1
	pop $4
	jmp l414
l417:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l419
	push $3
	pop $2
l419:
	jmp l416
l415:
	push $2
	ret
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l421
	push _iy
	ret
l421:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l422:
	push $4
	push $1
	cmpjl
	cmp0
	je l423
	jmp l425
l424:
	add $4,1
	pop $4
	jmp l422
l425:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l427
	push $3
	pop $2
l427:
	jmp l424
l423:
	push $2
	ret
	end method
	method _getw
	cthis getex
	cthis _getpx
	pop $b
	popax
	sub $a,$b
	end method
	method _geth
	cthis getey
	cthis _getpy
	pop $b
	popax
	sub $a,$b
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l429
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l429:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l430:
	push $3
	cthis size
	cmpjl
	cmp0
	je l431
	jmp l433
l432:
	add $3,1
	pop $3
	jmp l430
l433:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l432
l431:
	end method
	method nplay
	localint $1
	pop $1
	push "play"
	push $1
	cthis eval1
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l434:
	push $1
	cthis size
	cmpjl
	cmp0
	je l435
	jmp l437
l436:
	add $1,1
	pop $1
	jmp l434
l437:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l436
l435:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l438:
	push $5
	push 0
	cmpjae
	cmp0
	je l439
	jmp l441
l440:
	sub $5,1
	pop $5
	jmp l438
l441:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l443
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l443:
	jmp l440
l439:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l444:
	push $4
	push 0
	cmpjae
	cmp0
	je l445
	jmp l447
l446:
	sub $4,1
	pop $4
	jmp l444
l447:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l449
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l449:
	jmp l446
l445:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l450:
	push $5
	push 0
	cmpjae
	cmp0
	je l451
	jmp l453
l452:
	sub $5,1
	pop $5
	jmp l450
l453:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l455
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l457
l455:
	push 0
	jmp l457
l456:
	push 1
l457:
	cmp0
	je l458
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l458:
	jmp l452
l451:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "anactnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method getsac
	localstring $1
	pop $1
	push $1
	cthis findsac
	cthis get
	end method
	method getsacfr
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l459:
	push $3
	cthis size
	cmpjl
	cmp0
	je l460
	jmp l462
l461:
	add $3,1
	pop $3
	jmp l459
l462:
	push $3
	cthis get
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	cmp0
	je l464
	push $3
	cthis get
	spushs
	spop $a
	call [$a],framenr
	push $2
	cmpje
	jmp l466
l464:
	push 0
	jmp l466
l465:
	push 1
l466:
	cmp0
	je l467
	push $3
	cthis get
	ret
l467:
	jmp l461
l460:
	push "null"
	end method
	method blitto
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l468:
	push $2
	cthis size
	cmpjl
	cmp0
	je l469
	jmp l471
l470:
	add $2,1
	pop $2
	jmp l468
l471:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],blit
	jmp l470
l469:
	end method
	method sortz
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l472:
	push $2
	cthis size
	cmpjl
	cmp0
	je l473
	jmp l475
l474:
	add $2,1
	pop $2
	jmp l472
l475:
	push $2
	cthis get
	spushs
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	jmp l474
l473:
	end method
	method ancopies
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l476:
	push $3
	push $2
	cmpjl
	cmp0
	je l477
	jmp l479
l478:
	add $3,1
	pop $3
	jmp l476
l479:
	push GAME
	spushs
	push $1
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],copyanima
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	cthis add
	jmp l478
l477:
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method addsrcanima
	localstring $1
	pop $1
	push "srcanima"
	push $1
	cthis var2
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l481
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l483
	new vector,_vtmp
	push "string"
	call _vtmp,type
	push $1
	push "/"
	call _vtmp,vecbuildfromstring
	push "an"
	call _vtmp,last
	spushs
	push ".pyz"
	spop $h
	call $h,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	delete _vtmp
	jmp l482
l483:
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
l482:
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l480
l481:
	push $1
	pop $3
l480:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	push $3
	cthis addsrcanima
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l485
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l484
l485:
	push $1
	pop $3
l484:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	push $3
	cthis addsrcanima
	end method
	method deleteloaded
	cthis deleteallgm
	push sanload
	push "null"
	cmpjne
	cmp0
	je l487
	call gameapi,getgamename
	spushs
	push sanload
	spop $a
	call [$a],vardel
l487:
	end method
	method deleteinit
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l488:
	push $2
	cthis size
	cmpjl
	cmp0
	je l489
	jmp l491
l490:
	add $2,1
	pop $2
	jmp l488
l491:
	localdef $3
	push $2
	cthis get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l493
	push $3
	spushs
	spop $a
	call [$a],deleteinit
l493:
	push $1
	spushs
	push $3
	spop $a
	call [$a],vardel
	jmp l490
l489:
	push sanload
	push "null"
	cmpjne
	cmp0
	je l495
	call gameapi,getgamename
	spushs
	push sanload
	spop $a
	call [$a],vardel
l495:
	end method
	end class

	class gmadvvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l496:
	push $5
	push 0
	cmpjae
	cmp0
	je l497
	jmp l499
l498:
	sub $5,1
	pop $5
	jmp l496
l499:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],butisin
	cmp0
	je l501
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l501:
	jmp l498
l497:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	end class

	class gmmaskvec
	parent gmadvvec
	method init
	clparent gmadvvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,butisin
	end method
	end class

	new int,igmsubtitle
	push 0
	pop igmsubtitle
	class Subtitle
	method init
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $7
	push 0.5
	pop $7
	localint $8
	localint $9
	localint $10
	push 255
	pop $8
	push 255
	pop $9
	push 255
	pop $10
	new int,iborx
	push $5
	pop iborx
	new int,ibory
	push $6
	pop ibory
	new font,fnt
	push $3
	push $4
	call fnt,load
	new int,ifontsize
	push $4
	pop ifontsize
	new db,dbl
	push "lang/"
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,load
	localstring $11
	localstring $12
	new vector,v1
	push "string"
	call v1,type
	localint $13
	push iResX
	push 2
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $7
	push $4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop $13
	localint $14
	localint $15
	localint $16
	push 0
	pop $16
	localint $17
	push 0
	pop $17
l502:
	push $17
	call dbl,getrowsno
	cmpjl
	cmp0
	je l503
	jmp l505
l504:
	add $17,1
	pop $17
	jmp l502
l505:
	push $17
	push 0
	push $2
	push $17
	push 0
	call dbl,get
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call dbl,set
	push $17
	push 1
	call dbl,get
	pop $11
	push $11
	push " "
	call v1,vecbuildfromstring
	push ""
	pop $12
	push 1
	pop $14
	push 0
	pop $15
l506:
	push $15
	call v1,size
	cmpjl
	cmp0
	je l507
	jmp l509
l508:
	add $15,1
	pop $15
	jmp l506
l509:
	call $12,length
	push $15
	call v1,get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	push $13
	cmpjle
	cmp0
	je l511
	push " "
	push $15
	call v1,get
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l510
l511:
	push $14
	push 1
	cmpje
	cmp0
	je l513
	push $17
	push $14
	push $12
	call dbl,set
	jmp l512
l513:
	push $17
	push $12
	call dbl,add
l512:
	push $15
	call v1,get
	pop $12
	add $14,1
	pop $14
l510:
	jmp l508
l507:
	push $14
	push 1
	cmpje
	cmp0
	je l515
	push $17
	push $14
	push $12
	call dbl,set
	jmp l514
l515:
	push $17
	push $12
	call dbl,add
l514:
	push $14
	push $16
	cmpja
	cmp0
	je l517
	push $14
	pop $16
l517:
	jmp l504
l503:
	new gmimgvec,grtxt
	localint $17
	push 0
	pop $17
l518:
	push $17
	push $16
	cmpjl
	cmp0
	je l519
	jmp l521
l520:
	add $17,1
	pop $17
	jmp l518
l521:
	push "txt"
	push $17
	pop $b
	popax
	add $a,$b
	pop $11
	push "txts"
	push $17
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	push ""
	push "fnt"
	cthis black
	clparent classgame,newtext
	push $11
	push ""
	push "fnt"
	push $8
	push $9
	push $10
	clparent classgame,newtext
	push $11
	call grtxt,add
	push $12
	call grtxt,add
	jmp l520
l519:
	new db,dbsnd
	new timer,timtxt
	push 1
	call timtxt,settick
	push 1
	call timtxt,setcycle
	push "onfinish"
	push "Subtitle0"
	call timtxt,addmethod
	push 12000
	cthis setz
	end method
	method Subtitle0
	cthis cisplaying
	neg
	cmp0
	je l523
	cthis hidesubs
	jmp l522
l523:
	cthis play
l522:
	end method
	method reset
	cthis stop
	call dbsnd,free
	end method
	method hidesubs
	call grtxt,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	call grtxt,setz
	end method
	method stop
	cthis hidesubs
	push 0
	call timtxt,stop
	end method
	method register
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l525
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l527
	push $4
	push 1
	push $3
	call dbsnd,set
	jmp l526
l527:
	localdef $4
	call dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push $4
	push $1
	call dbsnd,add
	push $4
	push $3
	call dbsnd,add
l526:
l525:
	end method
	method play
	localstring $1
	pop $1
	cthis stop
	localdef $2
	push $1
	call dbsnd,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l529
	push $2
	push 1
	call dbsnd,get
	pop $2
	localdef $3
	push $2
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	localstring $5
	localint $6
	push 0
	push 0
	call grtxt,setpos
	localint $7
	push 2
	pop $7
	localint $8
	push 0
	pop $8
l530:
	push $8
	push $3
	cmpjl
	cmp0
	je l531
	jmp l533
l532:
	add $8,1
	pop $8
	jmp l530
l533:
	push 2
	push $8
	pop $b
	popax
	mul $a,$b
	pop $6
	push $6
	call grtxt,get
	pop $4
	push $4
	spushs
	push $2
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	call dbl,get
	spop $a
	call [$a],txtset
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	call grtxt,get
	pop $5
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push iResX
	push $4
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $8
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $4
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	spushs
	spop $a
	call [$a],getpy
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	jmp l532
l531:
	push 0
	push iResY
	push $3
	push ifontsize
	push $7
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push ibory
	pop $b
	popax
	sub $a,$b
	call grtxt,move
	call timtxt,play
l529:
	end method
	end class

	push igmsubtitle
	cmp0
	je l535
	push "eng_egipt.db"
	push "sounds/"
	push sgmfontbold
	push 24
	push 50
	push 15
	new Subtitle,subtitle
l535:
	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	push igmsubtitle
	cmp0
	je l537
	call subtitle,reset
l537:
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l539
	push $1
	cthis cbplay
	jmp l538
l539:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l541
	push $1
	cthis cbplay
l541:
l538:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l544
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l545
l543:
	push 0
	jmp l545
l544:
	push 1
l545:
	cmp0
	je l546
	push $1
	cthis cbplay
l546:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l548
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l548:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l550
	push $1
	cthis csubplay
l550:
	end method
	method cbsplay
	localstring $1
	pop $1
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l552
	push $1
	cthis csubplay
l552:
	end method
	method cbplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	push $1
	cthis cbplay
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l554
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l554:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l556
	push $1
	cthis csubplay
l556:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l558
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l560
l558:
	push 0
	jmp l560
l559:
	push 1
l560:
	cmp0
	je l561
	ret
l561:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l563
	push $1
	cthis csubplay
l563:
	end method
	method cbplayif
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l565
	push $1
	cthis cbplay
l565:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l567
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l569
l567:
	push 0
	jmp l569
l568:
	push 1
l569:
	cmp0
	je l570
	push $1
	cthis csubplay
l570:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l572
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l572:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l574
	push $3
	push "null"
	cmpjne
	jmp l576
l574:
	push 0
	jmp l576
l575:
	push 1
l576:
	cmp0
	je l577
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l577:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l579
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l579:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l581
	cthis cisplaying
	jmp l583
l581:
	push 0
	jmp l583
l582:
	push 1
l583:
	cmp0
	je l584
	push $1
	cthis cactsndstop
l584:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l586
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l585
l586:
	push 0
l585:
	end method
	method csubplay
	localstring $1
	pop $1
	push igmsubtitle
	cmp0
	je l588
	push $1
	call subtitle,play
l588:
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l590
	push 0
	pop iile
	ret
l590:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l591:
	push $3
	push $2
	cmpjl
	cmp0
	je l592
	jmp l594
l593:
	add $3,1
	pop $3
	jmp l591
l594:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l593
l592:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l596
	push 0
	pop iile
	ret
l596:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l598
	call iile,rand
	pop ilicz
l598:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l599:
	push $3
	push iile
	cmpjl
	cmp0
	je l600
	jmp l602
l601:
	add $3,1
	pop $3
	jmp l599
l602:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l601
l600:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l604
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l604:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l606
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l605
l606:
	push 0
l605:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l608
	cthis play
l608:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l610
	cthis bgplay
l610:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l612
	cthis play
l612:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l614
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l613
l614:
	push itype
	push 1
	cmpje
	cmp0
	je l616
	call iile,rand
	pop ilicz
l616:
l613:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l617:
	push $2
	push iile
	cmpjl
	cmp0
	je l618
	jmp l620
l619:
	add $2,1
	pop $2
	jmp l617
l620:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l619
l618:
	end method
	end class

	class SoundSource
	method init
	end method
	method setvol
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call $5,abs
	push $4
	cmpjae
	cmp0
	je l622
	push $1
	spushs
	push $3
	spop $a
	call [$a],setvol
	jmp l621
l622:
	push $1
	spushs
	push 1.0
	call $5,abs
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setvol
l621:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	new gmobjvec,_grsfxs
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l624
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l623
l624:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l623:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l626
	push "L"
	call $1,strremove
	push 1
	pop $2
l626:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l628
	push "P"
	call $1,strremove
	push 1
	pop $3
l628:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l630
	push "H"
	call $1,strremove
	push 1
	pop $4
l630:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	push $1
	cthis _build_img
	popax
	end method
	method getlangfile
	localstring $1
	pop $1
	localdef $2
	push 4
	call $1,strsube
	push "_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push 0
	push 4
	call $1,gete
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	cthis getpath
	call engine,fileexist
	cmp0
	je l632
	push $2
	jmp l631
l632:
	push $1
l631:
	end method
	method _build_img
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
	push "G"
	call $1,contains
	cmp0
	je l634
	push "G"
	call $1,strremove
	push 1
	pop $5
l634:
	localdef $6
	push 0
	pop $6
	push " "
	call $1,contains
	cmp0
	je l636
	push " "
	call $1,strgetfrom
	pop $6
	push " "
	call $1,strgetto
	pop $1
l636:
	localstring $7
	push "/"
	call $1,contains
	cmp0
	je l638
	new vector,_v_sfile
	push "string"
	call _v_sfile,type
	push $1
	push "/"
	call _v_sfile,vecbuildfromstring
	call _v_sfile,last
	spushs
	push 4
	spop $h
	call $h,strsube
	pop $7
	delete _v_sfile
	jmp l637
l638:
	push 4
	call $1,strsube
	pop $7
l637:
	localstring $8
	push ".pyz"
	call $1,contains
	cmp0
	je l640
	push $5
	cmp0
	je l642
	push "gr"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	spushs
	push ".pyz"
	spop $h
	call $h,strsubes
	push $6
	cthis newgrimg
	jmp l641
l642:
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	push $6
	cthis newanima
l641:
	jmp l639
l640:
	push "img"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	cthis getlangfile
	push $6
	cthis newimg
l639:
	push $2
	cmp0
	je l644
	push $8
	spushs
	spop $a
	call [$a],anloopfin
l644:
	push $3
	cmp0
	je l646
	push $8
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l646:
	push $4
	cmp0
	je l648
	push $8
	spushs
	spop $a
	call [$a],hide
l648:
	push $8
	end method
	method imgsgr=
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	localdef $3
	pop $3
l649:
	push A
	push $3
	cmpjne
	cmp0
	je l650
	push $1
	spushs
	push $3
	cthis _build_img
	spop $a
	call [$a],add
	localdef $3
	pop $3
	jmp l649
l650:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l651:
	push A
	push $2
	cmpjne
	cmp0
	je l652
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l651
l652:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localint $2
	push "N"
	call $1,contains
	pop $2
	push $2
	cmp0
	je l654
	push "N"
	call $1,strremove
l654:
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	popax
	pop $4
	pop $3
	pop $1
	localdef $5
	push 100
	pop $5
	push " "
	call $1,contains
	cmp0
	je l656
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l656:
	localstring $6
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $6
	spushs
	push $5
	spop $a
	call [$a],setvol
	push $3
	cmp0
	je l658
	push $6
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l658:
	push $4
	cmp0
	je l660
	push $6
	spushs
	spop $a
	call [$a],play
	jmp l659
l660:
	push $2
	cmp0
	je l662
	push $6
	spushs
	spop $a
	call [$a],playloop
l662:
l659:
	push $6
	call _grsfxs,add
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method snd=
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsndfree
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l664
	new TicksCounter,__timspeed
l664:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l666
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l666:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method newfontbold
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontbold
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method stdmono
	localint $1
	pop $1
	push sgmfontmono
	push $1
	cthis snewfont
	end method
	method stdbold
	localint $1
	pop $1
	push sgmfontbold
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method newgrimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	push $2
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l667:
	push $2
	push $3
	cmpjle
	cmp0
	je l668
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l667
l668:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l669:
	push $6
	push $5
	cmpjl
	cmp0
	je l670
	jmp l672
l671:
	add $6,1
	pop $6
	jmp l669
l672:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l671
l670:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l673:
	push $7
	push $5
	cmpjl
	cmp0
	je l674
	jmp l676
l675:
	add $7,1
	pop $7
	jmp l673
l676:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l675
l674:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l677:
	push $7
	push $5
	cmpjl
	cmp0
	je l678
	jmp l680
l679:
	add $7,1
	pop $7
	jmp l677
l680:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l679
l678:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l681:
	push $3
	push $4
	cmpjl
	cmp0
	je l682
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l684
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l687
	push $12
	push "sfx"
	cmpje
	jmp l688
l686:
	push 0
	jmp l688
l687:
	push 1
l688:
	cmp0
	je l689
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l691
	push $14
	push $13
	cthis newsfx
	jmp l690
l691:
	push $14
	push $13
	cthis newsnd
l690:
	push $7
	push $6
	cmpjl
	cmp0
	je l693
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l695
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l694
l695:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l697
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l696
l697:
	push $12
	push "vol"
	cmpje
	cmp0
	je l699
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l699:
l696:
l694:
l693:
	jmp l685
l689:
	push $12
	push "group"
	cmpje
	cmp0
	je l701
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l703
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l705
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l705:
	jmp l702
l703:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l702:
	jmp l700
l701:
	push $12
	push "bank"
	cmpje
	cmp0
	je l707
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l709
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l711
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l710
l711:
	push $12
	push "vol"
	cmpje
	cmp0
	je l713
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l713:
l710:
l709:
	jmp l706
l707:
	push $12
	push "method"
	cmpje
	cmp0
	je l715
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l716:
	push $8
	push $9
	cmpjle
	cmp0
	je l717
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l716
l717:
	jmp l714
l715:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l719
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l718
l719:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l721
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l723
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l725
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l725:
l723:
	jmp l720
l721:
	push $12
	push "music"
	cmpje
	cmp0
	je l727
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l729
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l731
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l731:
l729:
l727:
l720:
l718:
l714:
l706:
l700:
l685:
l684:
	add $3,1
	pop $3
	jmp l681
l682:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	method cgetscreenshoot
	localstring $1
	pop $1
	new img,_imgsavebkg
	push iResX
	push iResY
	cthis white
	push 255
	call _imgsavebkg,create
	push 2000
	call _imgsavebkg,setz
	call _imgsavebkg,blitscreen
	new filter,_ftbg
	push "_imgsavebkg"
	call _ftbg,link
	push 1
	call _ftbg,setsmooth
	localreal $2
	push 0.3
	pop $2
	push $2
	call _ftbg,setzoom
	push 0
	push 0
	call _imgsavebkg,setpos
	new img,_im_1
	push $2
	push iResX
	pop $b
	popax
	mul $a,$b
	push $2
	push iResY
	pop $b
	popax
	mul $a,$b
	cthis white
	push 255
	call _im_1,create
	call _imgsavebkg,getpx
	call _imgsavebkg,getpy
	call _im_1,setpos
	push "_imgsavebkg"
	call _im_1,blit
	push $1
	call _im_1,save
	delete _im_1
	call _ftbg,unlink
	delete _ftbg
	delete _imgsavebkg
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l732:
	push $2
	push $3
	cmpjle
	cmp0
	je l733
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l735
	push $2
	ret
l735:
	add $2,1
	pop $2
	jmp l732
l733:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l737
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l737:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l738:
	push $14
	push $6
	cmpjl
	cmp0
	je l739
	jmp l741
l740:
	add $14,1
	pop $14
	jmp l738
l741:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l742:
	push $8
	push $7
	cmpjle
	cmp0
	je l743
	jmp l745
l744:
	add $8,1
	pop $8
	jmp l742
l745:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l747
	push $13
	pop $10
	jmp l746
l747:
	push $8
	push 2
	cmpje
	cmp0
	je l749
	push $13
	pop $11
	jmp l748
l749:
	push $8
	push 3
	cmpje
	cmp0
	je l751
	push $13
	pop $12
l751:
l748:
l746:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l744
l743:
	push $4
	push "null"
	cmpjne
	cmp0
	je l753
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l755
l753:
	push 0
	jmp l755
l754:
	push 1
l755:
	cmp0
	je l756
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l752
l756:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l752:
	jmp l740
l739:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l758
	push sfxmon
	spushs
	spop $a
	call [$a],play
l758:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l760
	ret
l760:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l761:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l762
	jmp l764
l763:
	add $5,1
	pop $5
	jmp l761
l764:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l763
l762:
	end method
	method print
	localint $1
	push 0
	pop $1
l765:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l766
	jmp l768
l767:
	add $1,1
	pop $1
	jmp l765
l768:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l767
l766:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l769:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l770
	jmp l772
l771:
	add $2,1
	pop $2
	jmp l769
l772:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l771
l770:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l773:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l774
	jmp l776
l775:
	add $3,1
	pop $3
	jmp l773
l776:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l775
l774:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l778
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l777
l778:
	push "null"
l777:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l779:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l780
	jmp l782
l781:
	add $2,1
	pop $2
	jmp l779
l782:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l781
l780:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l784
	push iilebut
	pop $2
l784:
	localint $3
	push 0
	pop $3
l785:
	push $3
	push $2
	cmpjl
	cmp0
	je l786
	jmp l788
l787:
	add $3,1
	pop $3
	jmp l785
l788:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l787
l786:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method resetall
	localint $1
	push 0
	pop $1
l789:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l790
	jmp l792
l791:
	add $1,1
	pop $1
	jmp l789
l792:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setcursorpos
	jmp l791
l790:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l793:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l794
	jmp l796
l795:
	add $3,1
	pop $3
	jmp l793
l796:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setcursorpos
	jmp l795
l794:
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l798
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l797
l798:
	push "null"
l797:
	ret
	end method
	method callimgfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getimg
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l800
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l800:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l802
	ret
l802:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l804
	push sfxmon
	spushs
	spop $a
	call [$a],play
l804:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l806
	push 0
	jmp l805
l806:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l805:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l808
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l810
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l810:
	push $10
	push 2
	cmpja
	cmp0
	je l812
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l812:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l807
l808:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l807:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l813:
	push $4
	push $3
	cmpjl
	cmp0
	je l814
	jmp l816
l815:
	add $4,1
	pop $4
	jmp l813
l816:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l815
l814:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l818
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l817
l818:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l817:
	push $4
	cmp0
	je l820
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l820:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l822
	push $1
	push "null"
	cmpje
	cmp0
	je l824
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l823
l824:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l823:
l822:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l826
	cthis get
	jmp l825
l826:
	push 0
	push $2
	cthis getb
l825:
	end method
	method streq
	localstring $1
	pop $1
	cthis get
	push 0
	cthis length
	call $1,getb
	cmpje
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l827:
	push $4
	cthis length
	cmpjl
	cmp0
	je l828
	jmp l830
l829:
	add $4,1
	pop $4
	jmp l827
l830:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l833
	push $3
	push $2
	cmpja
	jmp l834
l832:
	push 0
	jmp l834
l833:
	push 1
l834:
	cmp0
	je l835
	push 0
	ret
l835:
	jmp l829
l828:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l836:
	push $3
	cthis length
	cmpjl
	cmp0
	je l837
	jmp l839
l838:
	add $3,1
	pop $3
	jmp l836
l839:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l838
l837:
	end method
	method strdotpos
	localint $1
	pop $1
	push "."
	cthis strgetto
	push "."
	pop $b
	popax
	add $a,$b
	push "."
	cthis strgetfrom
	spushs
	push 0
	push $1
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l841
	push 0
	jmp l840
l841:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l840:
	end method
	method between
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l843
	push $1
	jmp l842
l843:
	push $2
	push $3
	cmpja
	cmp0
	je l845
	push $3
	jmp l844
l845:
	push $2
l844:
l842:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l847
	push $1
	jmp l846
l847:
	push $2
l846:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l849
	push $1
	jmp l848
l849:
	push $2
l848:
	end method
	method imgborders
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push "1111"
	cthis imgborderss
	end method
	method imgborderss
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new img,_img_bor
	cthis getw
	push $1
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 3
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l851
	push "_img_bor"
	cthis blit
l851:
	push 0
	cthis geth
	push $1
	pop $b
	popax
	sub $a,$b
	call _img_bor,move
	push 1
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l853
	push "_img_bor"
	cthis blit
l853:
	push $1
	cthis geth
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 0
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l855
	push "_img_bor"
	cthis blit
l855:
	cthis getw
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	call _img_bor,move
	push 2
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l857
	push "_img_bor"
	cthis blit
l857:
	delete _img_bor
	end method
	method imgroundborder
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis imgborders
	cthis imgerasecorners
	end method
	method imgerasecorners
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push $1
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	push $1
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	end method
	method imgdrawline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "blit"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgeraseline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "erase"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgputoncenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method imgfuncline
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $9
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	pop $9
	localdef $10
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	pop $10
	localreal $11
	push $9
	push 0
	cmpje
	cmp0
	je l859
	push $10
	push 0
	cmpjl
	cmp0
	je l861
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l862:
	push $11
	push $6
	cmpjae
	cmp0
	je l863
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	sub $11,$a
	pop $11
	jmp l862
l863:
	push $6
	push $11
	pop $b
	popax
	sub $a,$b
	jmp l860
l861:
	push $10
	push 0
	cmpja
	cmp0
	je l865
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l866:
	push $11
	push $6
	cmpjle
	cmp0
	je l867
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $11,$a
	pop $11
	jmp l866
l867:
	push $11
	push $6
	pop $b
	popax
	sub $a,$b
	jmp l864
l865:
	push $8
l864:
l860:
	jmp l858
l859:
	push $9
	push $10
	call $8,length
	pop $11
	localreal $12
l868:
	push $8
	push $11
	cmpjle
	cmp0
	je l869
	push 1.0
	push $11
	push $8
	pop $b
	popax
	sub $a,$b
	push $11
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $12
	push $2
	spushs
	push $12
	push $9
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $12
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $8,$a
	pop $8
	jmp l868
l869:
	push $8
	push $11
	pop $b
	popax
	sub $a,$b
l858:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ancenterscreen
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis ansetcpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l870:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l871
	cthis framename
	push $2
	cmpjne
	jmp l873
l871:
	push 0
	jmp l873
l872:
	push 1
l873:
	cmp0
	je l874
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l870
l874:
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localdef $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method anhasaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	cthis nofactions
	cmpjne
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method anactnr
	push 1
	popax
	sub 0,$a
	cthis actionnr
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method anisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l875:
	push $5
	cthis nofactions
	cmpjl
	cmp0
	je l876
	jmp l878
l877:
	add $5,1
	pop $5
	jmp l875
l878:
	push $5
	push 0
	cthis setframe
	push $1
	push $2
	push $3
	push $4
	cthis isin
	cmp0
	je l880
	push $5
	ret
l880:
	jmp l877
l876:
	push 1
	popax
	sub 0,$a
	end method
	method anreload
	localstring $1
	pop $1
	localint $2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $2
	localint $3
	cthis framenr
	pop $3
	localint $4
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	pop $4
	localint $5
	localint $6
	cthis getpos
	pop $6
	pop $5
	localint $7
	cthis getz
	pop $7
	push $1
	cthis getpath
	cthis load
	push $5
	push $6
	cthis setpos
	push $7
	cthis setz
	push $2
	cthis nofactions
	cmpjl
	cmp0
	je l882
	push $4
	cmp0
	je l884
	push $2
	cthis play
l884:
	push $2
	push $3
	cthis setframe
	jmp l881
l882:
	push 0
	push 0
	cthis setframe
l881:
	end method
	method anclipob
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	cthis clip
	end method
	method ancopyan
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cthis setframe
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l886
	cthis show
	jmp l885
l886:
	cthis hide
l885:
	push $1
	spushs
	spop $a
	call [$a],getpos
	cthis setpos
	end method
	method anconstmove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push A
	push "mvx"
	push $2
	push "mvy"
	push $3
	cthis vars2
	push $1
	cthis setdelay
	push 1
	popax
	sub 0,$a
	push "global5"
	cthis anplayfin
	end method
	method global5
	push 1
	popax
	sub 0,$a
	cthis play
	push mvx
	push mvy
	cthis move
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l888
	new text,txts
	push $2
	call txts,setfont
l888:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l890
	call txts,hide
l890:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l891
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l891
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l891
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l893
l891:
	push 0
	jmp l893
l892:
	push 1
l893:
	end method
	method txtcenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtright
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	cthis getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtcenterscreen
	push iResX
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis setpos
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l895
	localint $2
	push 0
	pop $2
l896:
	push $2
	push $1
	cmpjl
	cmp0
	je l897
	jmp l899
l898:
	add $2,1
	pop $2
	jmp l896
l899:
	push $2
	cthis add
	jmp l898
l897:
l895:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l900:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l901
	jmp l903
l902:
	add $2,1
	pop $2
	jmp l900
l903:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l902
l901:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l905
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l905:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l907
	sub $2,1
	pop $2
	jmp l906
l907:
	push $2
	push 0
	cmpje
	cmp0
	je l909
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l909:
l906:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l910
	push $1
	cthis size
	cmpjl
	jmp l912
l910:
	push 0
	jmp l912
l911:
	push 1
l912:
	cmp0
	je l914
	push $1
	cthis get
	jmp l913
l914:
	push "null"
l913:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l916
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l915
l916:
	push "null"
l915:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l917:
	cthis size
	push $1
	cmpja
	cmp0
	je l918
	cthis vecpop
	popax
	jmp l917
l918:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method vecreplace
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l920
	push $3
	push $2
	cthis set
l920:
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l922
	ret
l922:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l923:
	push $8
	push $1
	cmpjl
	cmp0
	je l924
	jmp l926
l925:
	add $8,1
	pop $8
	jmp l923
l926:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l927:
	push $9
	push $1
	cmpjl
	cmp0
	je l928
	jmp l930
l929:
	add $9,1
	pop $9
	jmp l927
l930:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l932
	push $6
	pop $5
	push $9
	pop $7
l932:
	jmp l929
l928:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l925
l924:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l933:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l934
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l933
l934:
	call $1,length
	push 0
	cmpja
	cmp0
	je l936
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l936:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l937:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l938
	push $4
	push 0
	cmpja
	cmp0
	je l940
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l940:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l937
l938:
	call $1,length
	push 0
	cmpja
	cmp0
	je l942
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l942:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l943:
	push $2
	push $1
	cmpjl
	cmp0
	je l944
	jmp l946
l945:
	add $2,1
	pop $2
	jmp l943
l946:
	push 0
	cthis removeat
	jmp l945
l944:
	end method
	method vecremovefrom
	localint $1
	pop $1
l947:
	push $1
	cthis size
	cmpjl
	cmp0
	je l948
	push $1
	cthis removeat
	jmp l947
l948:
	end method
	method vecfindfrom
	localint $1
	localdef $2
	pop $2
	pop $1
l949:
	push $1
	cthis size
	cmpjl
	cmp0
	je l950
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l952
	push $1
	ret
	jmp l951
l952:
	add $1,1
	pop $1
l951:
	jmp l949
l950:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l955
	cthis size
	push 0
	cmpje
	jmp l956
l954:
	push 0
	jmp l956
l955:
	push 1
l956:
	cmp0
	je l957
	ret
l957:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l959
	localint $4
	push $1
	pop $4
l960:
	push $4
	push $2
	cmpja
	cmp0
	je l961
	jmp l963
l962:
	sub $4,1
	pop $4
	jmp l960
l963:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l962
l961:
	jmp l958
l959:
	push $1
	push $2
	cmpjl
	cmp0
	je l965
	localint $4
	push $1
	pop $4
l966:
	push $4
	push $2
	cmpjl
	cmp0
	je l967
	jmp l969
l968:
	add $4,1
	pop $4
	jmp l966
l969:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l968
l967:
l965:
l958:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l971
	push $2
	push 0
	cthis vecposfromto
	jmp l970
l971:
	push $1
	cthis addbegin
l970:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l973
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l972
l973:
	push $1
	cthis addbegin
l972:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l975
	push $3
	push $2
	cthis set
l975:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l977
	push 0
	ret
l977:
	localint $3
	push 0
	pop $3
l978:
	push $3
	push $2
	cmpjl
	cmp0
	je l979
	jmp l981
l980:
	add $3,1
	pop $3
	jmp l978
l981:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l983
	push 0
	ret
l983:
	jmp l980
l979:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	cthis vecadddbrow
	end method
	method vecadddbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l984:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l985
	jmp l987
l986:
	add $3,1
	pop $3
	jmp l984
l987:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l986
l985:
	end method
	method vecchecknext
	localint $1
	pop $1
	add $1,1
	pop $1
	push $1
	cthis size
	cmpjl
	cmp0
	je l989
	push $1
	cthis get
	jmp l988
l989:
	push "null"
l988:
	end method
	method vecsum
	cthis size
	cmp0
	je l991
	localdef $1
	push 0
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
l992:
	push $2
	cthis size
	cmpjl
	cmp0
	je l993
	jmp l995
l994:
	add $2,1
	pop $2
	jmp l992
l995:
	push $2
	cthis get
	popax
	add $1,$a
	pop $1
	jmp l994
l993:
	push $1
	jmp l990
l991:
	push 0
l990:
	end method
	method vecclosest
	localdef $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpjle
	cmp0
	je l997
	push 1
	popax
	sub 0,$a
	ret
l997:
	localint $3
	push 0
	pop $3
	localdef $4
	push $1
	push 0
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $4
	localint $5
	push 1
	pop $5
l998:
	push $5
	push $2
	cmpjl
	cmp0
	je l999
	jmp l1001
l1000:
	add $5,1
	pop $5
	jmp l998
l1001:
	localdef $6
	push $1
	push $5
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $6
	push $6
	push $4
	cmpjl
	cmp0
	je l1003
	push $5
	pop $3
	push $6
	pop $4
l1003:
	jmp l1000
l999:
	push $3
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l1005
	ret
l1005:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l1006:
	push $2
	push A
	cmpjne
	cmp0
	je l1007
	jmp l1009
l1008:
	jmp l1006
l1009:
	push $4
	push 0
	cmpje
	cmp0
	je l1011
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l1011:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l1013
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l1012
l1013:
	push 0
l1012:
	pop $4
	jmp l1008
l1007:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l1014:
	push $1
	push A
	cmpjne
	cmp0
	je l1015
	push $1
	push "null"
	cmpje
	cmp0
	je l1017
	cthis addbeginrow
	popax
	jmp l1016
l1017:
	push 0
	push $1
	cthis addbegin
l1016:
	pop $1
	jmp l1014
l1015:
	end method
	method dbaddvec
	localstring $1
	pop $1
	localdef $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l1018:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1019
	jmp l1021
l1020:
	add $3,1
	pop $3
	jmp l1018
l1021:
	push $2
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l1020
l1019:
	end method
	method dbcopy
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis dbcopyfromto
	end method
	method dbcopyrow
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis dbcopyfromto
	end method
	method dbcopyfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push $3
	cthis dbaddrowfromto
	end method
	method dbaddrowfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	localint $6
	push $2
	pop $4
l1022:
	push $4
	push $3
	cmpjl
	cmp0
	je l1023
	jmp l1025
l1024:
	add $4,1
	pop $4
	jmp l1022
l1025:
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push 0
	pop $5
l1026:
	push $5
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1027
	jmp l1029
l1028:
	add $5,1
	pop $5
	jmp l1026
l1029:
	push $6
	push $1
	spushs
	push $4
	push $5
	spop $a
	call [$a],get
	cthis add
	jmp l1028
l1027:
	jmp l1024
l1023:
	end method
	method dbadddbrowtorow
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1030:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1031
	jmp l1033
l1032:
	add $4,1
	pop $4
	jmp l1030
l1033:
	push $1
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	cthis add
	jmp l1032
l1031:
	end method
	method dbremovecol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l1034:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1035
	jmp l1037
l1036:
	add $2,1
	pop $2
	jmp l1034
l1037:
	push $2
	cthis getcolsno
	push $1
	cmpja
	cmp0
	je l1039
	push $2
	push $1
	cthis removeat
l1039:
	jmp l1036
l1035:
	end method
	method dbcopyfromtos
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis dbcopyfromto
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l1041
l1042:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l1043
	cthis dbremovelast
	jmp l1042
l1043:
	jmp l1040
l1041:
	cthis free
l1040:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbgetstringrow
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push $1
	cthis getcolsno
	pop $3
	localint $4
	push 0
	pop $4
l1044:
	push $4
	push $3
	cmpjl
	cmp0
	je l1045
	jmp l1047
l1046:
	add $4,1
	pop $4
	jmp l1044
l1047:
	push $1
	push $4
	cthis get
	popax
	add $2,$a
	pop $2
	jmp l1046
l1045:
	push $2
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l1048:
	push A
	push $2
	cmpjne
	cmp0
	je l1049
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l1048
l1049:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l1051
	push $3
	push 0
	cmpjae
	jmp l1053
l1051:
	push 0
	jmp l1053
l1052:
	push 1
l1053:
	cmp0
	je l1054
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l1055:
	push $3
	push $5
	cmpjl
	cmp0
	je l1056
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l1055
l1056:
l1054:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1058
	push $1
	push $2
	cthis get
	jmp l1057
l1058:
	push "null"
l1057:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbget
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1060
	push $2
	push 1
	cthis get
	jmp l1059
l1060:
	push "null"
l1059:
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l1061:
	push $2
	push 0
	cmpjae
	cmp0
	je l1062
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l1064
	push $2
	ret
l1064:
	sub $2,1
	pop $2
	jmp l1061
l1062:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1066
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l1066:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l1068
	localint $3
	push 0
	pop $3
l1069:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1070
	jmp l1072
l1071:
	add $3,1
	pop $3
	jmp l1069
l1072:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l1074
	push $3
	ret
l1074:
	jmp l1071
l1070:
l1068:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l1075:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l1076
	jmp l1078
l1077:
	add $3,1
	pop $3
	jmp l1075
l1078:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l1080
	push $3
	ret
l1080:
	jmp l1077
l1076:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1081:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1082
	jmp l1084
l1083:
	add $2,1
	pop $2
	jmp l1081
l1084:
	localdef $3
	push 0
	pop $3
l1085:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l1086
	jmp l1088
l1087:
	add $3,1
	pop $3
	jmp l1085
l1088:
	push $2
	push $3
	push $1
	cthis set
	jmp l1087
l1086:
	jmp l1083
l1082:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1089:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1090
	jmp l1092
l1091:
	add $2,1
	pop $2
	jmp l1089
l1092:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l1091
l1090:
	end method
	method dbeq
	localstring $1
	pop $1
	cthis getrowsno
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjne
	cmp0
	je l1094
	push 0
	ret
l1094:
	localint $2
	localint $3
	localint $4
	push 0
	pop $4
l1095:
	push $4
	cthis getrowsno
	cmpjl
	cmp0
	je l1096
	jmp l1098
l1097:
	add $4,1
	pop $4
	jmp l1095
l1098:
	push $4
	cthis getcolsno
	pop $2
	push $2
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjne
	cmp0
	je l1100
	push 0
	ret
l1100:
	push 0
	pop $3
l1101:
	push $3
	push $2
	cmpjl
	cmp0
	je l1102
	jmp l1104
l1103:
	add $3,1
	pop $3
	jmp l1101
l1104:
	push $4
	push $3
	cthis get
	push $1
	spushs
	push $4
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1106
	push 0
	ret
l1106:
	jmp l1103
l1102:
	jmp l1097
l1096:
	push 1
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1108
	push 1
	popax
	sub 0,$a
	ret
l1108:
	localint $3
	call $1,rand
	pop $3
l1109:
	push $3
	push $2
	cmpje
	cmp0
	je l1110
	jmp l1112
l1111:
	call $1,rand
	pop $3
	jmp l1109
l1112:
	jmp l1111
l1110:
	push $3
	ret
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1113:
	push $4
	push 0
	cmpjae
	cmp0
	je l1114
	jmp l1116
l1115:
	sub $4,1
	pop $4
	jmp l1113
l1116:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l1118
	push $2
	popax
	add $3,$a
	pop $3
l1118:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l1115
l1114:
	push $3
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l1120
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l1120:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1122
	ret
l1122:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l1124
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l1126
	cthis onfinish
l1126:
l1124:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l1128
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l1127
l1128:
	push 0
l1127:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	new timer,__dblclick
	push 250
	call __dblclick,delay
	push 1
	call __dblclick,settick
	new int,_itimersnddelay
	push 10000
	pop _itimersnddelay
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	ret
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1130
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l1129
l1130:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l1129:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l1132
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1134
	push 1
	call $1,strsubb
	pop $1
l1134:
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l1132:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l1136
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	call subtitle,register
l1136:
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1138
	push 1
	call $1,strsubb
	pop $1
	push _sndbase
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l1137
l1138:
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
l1137:
	localstring $5
	call gameapi,getgamename
	pop $5
	push igmsoundson
	cmp0
	je l1140
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	jmp l1142
l1140:
	push 0
	jmp l1142
l1141:
	push 1
l1142:
	cmp0
	je l1143
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l1139
l1143:
	push $5
	spushs
	push $1
	call $2,length
	push _itimersnddelay
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l1139:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l1144:
	push $3
	push A
	cmpjne
	cmp0
	je l1145
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l1147
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l1147:
	pop $3
	jmp l1144
l1145:
	end method
	method exportbank
	localstring $1
	pop $1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l1149
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l1149:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l1151
	push $1
	call _dbsnd,save
l1151:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l1152:
	push A
	push $3
	cmpjne
	cmp0
	je l1153
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1155
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l1157
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l1156
l1157:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l1156:
l1155:
	localdef $3
	pop $3
	jmp l1152
l1153:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1158:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1159
	jmp l1161
l1160:
	add $2,1
	pop $2
	jmp l1158
l1161:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l1160
l1159:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l1162:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l1163
	jmp l1165
l1164:
	add $7,1
	pop $7
	jmp l1162
l1165:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l1168
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l1169
l1167:
	push 0
	jmp l1169
l1168:
	push 1
l1169:
	cmp0
	je l1170
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l1172
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l1172:
l1170:
	jmp l1164
l1163:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method isgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,contains
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1174
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l1174:
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method lock=
	localint $1
	pop $1
	push $1
	cmp0
	je l1176
	cthis gmlockall
	jmp l1175
l1176:
	cthis gmunlockall
l1175:
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	call __dblclick,isplaying
	cmp0
	je l1178
	cthis mouse_dblclick
	jmp l1177
l1178:
	call __dblclick,play
l1177:
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l1180
	push $1
	call vqst,add
l1180:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	method winsave
	localstring $1
	pop $1
	new db,_db_win
	push "output.db"
	call _db_win,load
	localdef $2
	call _db_win,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	call _db_win,add
	push "output.db"
	call _db_win,save
	delete _db_win
	end method
	method saveexist
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	end method
	method vecsave
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis save
	end method
	method vecload
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	end method
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	push "|"
	call dbsav,setseparator
	new string,sstdfile
	push $1
	cthis setfile
	push "saveonset"
	push 0
	cthis var2
	end method
	method save
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	call dbsav,save
	end method
	method _load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1182
	call dbsav,free
	push $1
	call dbsav,load
l1182:
	end method
	method load
	localstring $1
	pop $1
	cthis getsavepath
	push $1
	pop $b
	popax
	add $a,$b
	cthis _load
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1184
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l1183
l1184:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l1183:
	push saveonset
	cmp0
	je l1186
	cthis stdsave
l1186:
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1188
	push $2
	push 1
	call dbsav,get
	jmp l1187
l1188:
	push "null"
l1187:
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1190
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l1189
l1190:
	push 0
l1189:
	ret
	end method
	method bis
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1192
	push $2
	push 1
	call dbsav,get
	push 0
	cmpjne
	jmp l1191
l1192:
	push 0
l1191:
	ret
	end method
	method has
	localstring $1
	pop $1
	push $1
	call dbsav,findbyrow
	push 0
	cmpjae
	end method
	method bgo
	localstring $1
	pop $1
	push $1
	cthis bis
	neg
	cmp0
	je l1194
	push $1
	cthis bset
	push 1
	jmp l1193
l1194:
	push 0
l1193:
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1196
	push $2
	call dbsav,removerow
	push saveonset
	cmp0
	je l1198
	cthis stdsave
l1198:
l1196:
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l1200
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l1201
l1199:
	push 0
	jmp l1201
l1200:
	push 1
l1201:
	ret
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	ret
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	ret
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l1202
	push "."
	call $1,contains
	jmp l1204
l1202:
	push 0
	jmp l1204
l1203:
	push 1
l1204:
	ret
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	ret
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	ret
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	localint $2
	push 0
	pop $2
l1205:
	push $2
	push 10
	cmpjl
	cmp0
	je l1206
	jmp l1208
l1207:
	add $2,1
	pop $2
	jmp l1205
l1208:
	push "ARG"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	jmp l1207
l1206:
	push $1
	cthis load
	end method
	method ARG=
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method ARG
	localint $1
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1210
	ret
l1210:
	push "."
	call $1,contains
	cmp0
	je l1212
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l1211
l1212:
	push $1
	pop __sdb
l1211:
	call __mp,free
	localint $2
	push 0
	pop $2
l1213:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1214
	jmp l1216
l1215:
	add $2,1
	pop $2
	jmp l1213
l1216:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l1218
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l1218:
	jmp l1215
l1214:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method isvar
	localstring $1
	pop $1
	push "$"
	call $1,contains
	ret
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l1220
	push $1
	spushs
	spop $e
	new def,[$e]
l1220:
	push $1
	ret
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l1221
	push $1
	call __csc,isreal
	neg
	jmp l1223
l1221:
	push 0
	jmp l1223
l1222:
	push 1
l1223:
	ret
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	ret
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1225
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	ret
l1225:
	push 0
	ret
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l1227
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l1227:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l1229
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1229:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l1231
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1231:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l1232:
	push $4
	push ")"
	cmpjne
	cmp0
	je l1233
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l1232
l1233:
	push $2
	push "this"
	cmpje
	cmp0
	je l1235
	push "null"
	pop $2
l1235:
	push $2
	push $3
	cthis callfun
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l1237
	push $1
	cthis getvar
	pop $1
	jmp l1236
l1237:
	push $1
	call __csc,isreal
	cmp0
	je l1239
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
	jmp l1238
l1239:
	push $1
	call __csc,isdigit
	cmp0
	je l1241
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l1240
l1241:
	push $1
	call __csc,isstring
	cmp0
	je l1243
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
l1243:
l1240:
l1238:
l1236:
	push $1
	ret
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	ret
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	ret
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l1245
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l1244
l1245:
	push $1
	cthis isfunc
	cmp0
	je l1247
	push $1
	cthis interpcall
	jmp l1246
l1247:
	push $1
	cthis isscriptfun
	cmp0
	je l1249
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l1248
l1249:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l1248:
l1246:
l1244:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l1251
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l1250
l1251:
	push "!="
	cmpst
	jne l1252
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l1250
l1252:
	push "<"
	cmpst
	jne l1253
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l1250
l1253:
	push ">"
	cmpst
	jne l1254
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l1250
l1254:
	push "<="
	cmpst
	jne l1255
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l1250
l1255:
	push ">="
	cmpst
	jne l1256
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l1250
l1256:
	spop $a
l1250:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l1258
	push $1
	cmp0
	jne l1260
	cthis cmp
	jmp l1261
l1259:
	push 0
	jmp l1261
l1260:
	push 1
l1261:
	ret
	jmp l1257
l1258:
	push $3
	push "&&"
	cmpje
	cmp0
	je l1263
	push $1
	cmp0
	je l1264
	cthis cmp
	jmp l1266
l1264:
	push 0
	jmp l1266
l1265:
	push 1
l1266:
	ret
	jmp l1262
l1263:
	push $1
	ret
l1262:
l1257:
	end method
	method containsfun
	localstring $1
	pop $1
	push $1
	call __mp,contains
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l1268
	ret
l1268:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l1269:
	push $2
	cmp0
	je l1270
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l1272
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l1274
	push __sreads
	push "["
	cmpje
	cmp0
	je l1276
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l1277:
	push $12
	push $11
	cmpjl
	cmp0
	je l1278
	jmp l1280
l1279:
	add $12,1
	pop $12
	jmp l1277
l1280:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l1279
l1278:
	jmp l1275
l1276:
	add __icol,1
	pop __icol
l1281:
	cthis isnext
	cmp0
	je l1282
	push __sreads
	push ")"
	cmpjne
	jmp l1284
l1282:
	push 0
	jmp l1284
l1283:
	push 1
l1284:
	cmp0
	je l1285
	cthis _get
	cthis getexpr
	jmp l1281
l1285:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1275:
	jmp l1273
l1274:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1273:
	add __irow,1
	pop __irow
	jmp l1271
l1272:
	push "delete"
	cmpst
	jne l1286
	spop $a
	cthis _get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	add __irow,1
	pop __irow
	jmp l1271
l1286:
	push $8
	push "if"
	cmpje
	cmp0
	jne l1288
	push $6
	cmp0
	jne l1288
	push $5
	jmp l1289
l1287:
	push 0
	jmp l1289
l1288:
	push 1
l1289:
	cmp0
	je l1291
	push $8
	jmp l1290
l1291:
	push ""
l1290:
	cmpst
	jne l1292
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l1294
	push 1
	pop $3
l1294:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l1296
	push 1
	pop $12
l1297:
	push $12
	cmp0
	je l1298
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l1301
	push $8
	push "elif"
	cmpje
	cmp0
	jne l1301
	push $8
	push "fi"
	cmpje
	cmp0
	jne l1301
	push $8
	push "done"
	cmpje
	jmp l1302
l1300:
	push 0
	jmp l1302
l1301:
	push 1
l1302:
	cmp0
	je l1303
	push 0
	pop $12
	jmp l1299
l1303:
	add __irow,1
	pop __irow
l1299:
	jmp l1297
l1298:
l1296:
	jmp l1271
l1292:
	push "else"
	cmpst
	jne l1304
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l1306
l1307:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1308
	add __irow,1
	pop __irow
	jmp l1307
l1308:
l1306:
	jmp l1271
l1304:
	push "fi"
	cmpst
	jne l1309
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l1271
l1309:
	push "elif"
	cmpst
	jne l1310
	spop $a
	push $4
	cmp0
	je l1312
	add __irow,1
	pop __irow
l1313:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1314
	add __irow,1
	pop __irow
	jmp l1313
l1314:
	jmp l1311
l1312:
	push 1
	pop $6
l1311:
	jmp l1271
l1310:
	push "end"
	cmpst
	jne l1315
	spop $a
	push 0
	pop $2
	jmp l1271
l1315:
	push "while"
	cmpst
	jne l1316
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l1271
l1316:
	push "done"
	cmpst
	jne l1317
	spop $a
	push $4
	cmp0
	je l1319
	push $7
	pop __irow
	jmp l1318
l1319:
	add __irow,1
	pop __irow
l1318:
	jmp l1271
l1317:
	push "print"
	cmpst
	jne l1320
	spop $a
	push ""
	pop $8
l1321:
	cthis isnext
	cmp0
	je l1322
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l1321
l1322:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l1271
l1320:
	push "return"
	cmpst
	jne l1323
	spop $a
	cthis isnext
	cmp0
	je l1325
	push __sreads
	cthis getexpr
l1325:
	ret
	jmp l1271
l1323:
	spop $a
	push "$"
	call $8,contains
	cmp0
	je l1327
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l1328:
	cthis isnext
	cmp0
	je l1329
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l1331
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l1330
l1331:
	push "-"
	cmpst
	jne l1332
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l1330
l1332:
	push "*"
	cmpst
	jne l1333
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l1330
l1333:
	push "/"
	cmpst
	jne l1334
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l1330
l1334:
	push "%"
	cmpst
	jne l1335
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l1330
l1335:
	spop $a
l1330:
	jmp l1328
l1329:
	jmp l1326
l1327:
	push $8
	cthis getexpr
l1326:
	add __irow,1
	pop __irow
l1271:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l1337
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l1337:
	jmp l1269
l1270:
	end method
	end class

	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	method yellow
	push 255
	push 255
	push 0
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	call buts,resetall
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l1339
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l1338
l1339:
	push $1
	push "no"
	cmpje
	cmp0
	je l1341
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l1341:
l1338:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l1343
	ret
l1343:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l1345
	push sfuncyes
	push "null"
	cmpjne
	jmp l1347
l1345:
	push 0
	jmp l1347
l1346:
	push 1
l1347:
	cmp0
	je l1348
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1344
l1348:
	push $1
	push "no"
	cmpje
	cmp0
	je l1350
	push sfuncno
	push "null"
	cmpjne
	jmp l1352
l1350:
	push 0
	jmp l1352
l1351:
	push 1
l1352:
	cmp0
	je l1353
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1353:
l1344:
	end method
	method disabled
	call buts,disabled
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l1354:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l1355
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1354
l1355:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l1357
	push $1
	popax
	add $7,$a
	pop $7
l1357:
	push $5
	cmp0
	je l1359
	push $4
	cmp0
	je l1361
	push ":"
	jmp l1360
l1361:
	push ""
l1360:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1359:
	push $6
	cmp0
	je l1363
	push $4
	cmp0
	jne l1365
	push $5
	jmp l1366
l1364:
	push 0
	jmp l1366
l1365:
	push 1
l1366:
	cmp0
	je l1368
	push ":"
	jmp l1367
l1368:
	push ""
l1367:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1363:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l1369:
	push $1
	push 0
	cmpja
	cmp0
	je l1370
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l1369
l1370:
	push $2
	ret
	end method
	method bintohex
	localstring $1
	pop $1
	localstring $2
	call $1,length
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 3
	cmpst
	jne l1372
	spop $a
	push "0"
	jmp l1371
l1372:
	push 2
	cmpst
	jne l1373
	spop $a
	push "00"
	jmp l1371
l1373:
	push 1
	cmpst
	jne l1374
	spop $a
	push "000"
	jmp l1371
l1374:
	spop $a
	push ""
l1371:
	pop $2
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1375:
	push $3
	call $1,length
	cmpjl
	cmp0
	je l1376
	jmp l1378
l1377:
	push 4
	popax
	add $3,$a
	pop $3
	jmp l1375
l1378:
	push $3
	push 4
	call $1,getb
	spushs
	push "0000"
	cmpst
	jne l1380
	spop $a
	push "0"
	jmp l1379
l1380:
	push "0001"
	cmpst
	jne l1381
	spop $a
	push "1"
	jmp l1379
l1381:
	push "0010"
	cmpst
	jne l1382
	spop $a
	push "2"
	jmp l1379
l1382:
	push "0011"
	cmpst
	jne l1383
	spop $a
	push "3"
	jmp l1379
l1383:
	push "0100"
	cmpst
	jne l1384
	spop $a
	push "4"
	jmp l1379
l1384:
	push "0101"
	cmpst
	jne l1385
	spop $a
	push "5"
	jmp l1379
l1385:
	push "0110"
	cmpst
	jne l1386
	spop $a
	push "6"
	jmp l1379
l1386:
	push "0111"
	cmpst
	jne l1387
	spop $a
	push "7"
	jmp l1379
l1387:
	push "1000"
	cmpst
	jne l1388
	spop $a
	push "8"
	jmp l1379
l1388:
	push "1001"
	cmpst
	jne l1389
	spop $a
	push "9"
	jmp l1379
l1389:
	push "1010"
	cmpst
	jne l1390
	spop $a
	push "A"
	jmp l1379
l1390:
	push "1011"
	cmpst
	jne l1391
	spop $a
	push "B"
	jmp l1379
l1391:
	push "1100"
	cmpst
	jne l1392
	spop $a
	push "C"
	jmp l1379
l1392:
	push "1101"
	cmpst
	jne l1393
	spop $a
	push "D"
	jmp l1379
l1393:
	push "1110"
	cmpst
	jne l1394
	spop $a
	push "E"
	jmp l1379
l1394:
	push "1111"
	cmpst
	jne l1395
	spop $a
	push "F"
	jmp l1379
l1395:
	spop $a
l1379:
	popax
	add $2,$a
	pop $2
	jmp l1377
l1376:
	push $2
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1397
	push sgmfontfile
	pop $1
l1397:
	push ".ttf"
	call $1,contains
	cmp0
	je l1399
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l1399:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,move
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	push A
	push "istarttime"
	push $2
	push "idtime"
	push $3
	push "itime"
	push 0
	cthis vars2
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	cthis play
	cthis getbuildername
	spushs
	spop $a
	call [$a],tick
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method isplaying
	call timcyk,isplaying
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method tick
	push idtime
	cthis update
	end method
	method reset
	push istarttime
	pop itime
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	localint $10
	localint $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	push $10
	push $11
	clparent SecCounter,init
	cthis reset
	push 0
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	push itime
	push 0
	cmpjle
	cmp0
	je l1401
	push idtime
	push 0
	cmpjl
	jmp l1403
l1401:
	push 0
	jmp l1403
l1402:
	push 1
l1403:
	cmp0
	je l1404
	cthis getname
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1404:
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1406
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l1405
l1406:
	push w
	push h
	cthis get
	call _img1,create
l1405:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l1408
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l1407
l1408:
	push $1
	push 0
	call _img2,move
l1407:
	push $2
	push 0
	cmpjl
	cmp0
	je l1410
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l1409
l1410:
	push 0
	push $2
	call _img2,move
l1409:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1412
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l1411
l1412:
	push w
	push h
	cthis get
	call _img,create
l1411:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l1414
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1416
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1416:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1418
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1418:
	jmp l1413
l1414:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1420
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1420:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1422
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1422:
l1413:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1424
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1424:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l1426
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1426:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1427:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1428
	jmp l1430
l1429:
	add $2,1
	pop $2
	jmp l1427
l1430:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l1429
l1428:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1431:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1432
	jmp l1434
l1433:
	add $2,1
	pop $2
	jmp l1431
l1434:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l1433
l1432:
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	new string,_sobfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l1436
	push _sobfin
	push "null"
	cmpje
	cmp0
	je l1438
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
	jmp l1437
l1438:
	push _sobfin
	spushs
	push _sfunfin
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1437:
l1436:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l1440
	push _ib2
	cthis _cfinito
	jmp l1439
l1440:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l1442
	push _ib1
	cthis _cfinito
	jmp l1441
l1442:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l1441:
l1439:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sobfin
	push $8
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $9
	call $2,abs
	pop $9
	push $1
	push 0
	cmpjle
	cmp0
	jne l1445
	push $9
	push $5
	cmpje
	cmp0
	jne l1445
	push $9
	push $6
	cmpja
	jmp l1446
l1444:
	push 0
	jmp l1446
l1445:
	push 1
l1446:
	cmp0
	je l1447
	ret
l1447:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l1449
	push _ib1
	pop _ival
	jmp l1448
l1449:
	push $2
	push 0
	cmpjl
	cmp0
	je l1451
	push _ib2
	pop _ival
	jmp l1450
l1451:
	ret
l1450:
l1448:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push "null"
	push $4
	cthis _play
	end method
	method isplaying
	call timf,isplaying
	end method
	end class

	class CutScene
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	new img,_gsq
	push $1
	push $2
	push $3
	push $4
	cthis build
	push "_gsq"
	clparent gfxObject,init
	new string,_sfunc1
	new string,_sob1
	new string,_sfunc2
	new string,_sob2
	new int,_idelay
	push 10
	pop _idelay
	new classfadeinout,_clfio
	end method
	method build
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop Y2
	pop X2
	pop Y1
	pop X1
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call _gsq,create
	push X1
	push Y1
	call _gsq,setpos
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method delay
	localint $1
	pop $1
	push $1
	pop _idelay
	end method
	method transparency
	localint $1
	pop $1
	push $1
	call _gsq,transparency
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "null"
	push $1
	push "null"
	push $2
	cthis playobfin
	end method
	method playobfin
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1453
	call gameapi,getgamename
	jmp l1452
l1453:
	push $1
l1452:
	pop _sob1
	push $2
	pop _sfunc1
	push $3
	push "null"
	cmpje
	cmp0
	je l1455
	call gameapi,getgamename
	jmp l1454
l1455:
	push $3
l1454:
	pop _sob2
	push $4
	pop _sfunc2
	call _gsq,show
	push 0
	call _gsq,transparency
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene0"
	call _clfio,_play
	end method
	method CutScene0
	push _sob1
	push _sfunc1
	cthis callfun
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method close
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obclose
	end method
	method obclose
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob1
	push $2
	pop _sfunc1
	push 0
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene1"
	call _clfio,_play
	end method
	method CutScene1
	call _gsq,hide
	push _sob1
	push _sfunc1
	cthis callfun
	end method
	method enter
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obenter
	end method
	method obenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob2
	push $2
	pop _sfunc2
	push 255
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method _callfun2
	call _gsq,hide
	push _sob2
	push _sfunc2
	cthis callfun
	end method
	method isplaying
	call _clfio,isplaying
	end method
	method show
	push 255
	call _gsq,transparency
	call _gsq,show
	end method
	end class

	method allchars
	push "a0 t_!@#$%^&*()_+-=[]\\|}{;':\",./<>?`~"
	end method
	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	push A
	push "Sdir"
	push "left"
	push "W"
	push 0
	push "iFontSize"
	push $2
	push "X"
	push 0
	push "Y"
	push 0
	cthis vars2
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new text,txtpass
	push $1
	call txtpass,setfont
	call txtpass,hide
	new int,bpass
	push 0
	pop bpass
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method setaspasswd
	push 1
	pop bpass
	call txt1,hide
	call txt1,getz
	call txtpass,setz
	call txtpass,show
	cthis copytopass
	end method
	method copytopass
	localdef $1
	call txt1,get
	spushs
	spop $h
	call $h,length
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1456:
	push $3
	push $1
	cmpjl
	cmp0
	je l1457
	jmp l1459
l1458:
	add $3,1
	pop $3
	jmp l1456
l1459:
	push "*"
	popax
	add $2,$a
	pop $2
	jmp l1458
l1457:
	push $2
	call txtpass,txtset
	call txt1,getpx
	call txt1,getpy
	call txtpass,setpos
	end method
	method setastext
	push 0
	pop bpass
	call txt1,show
	call txtpass,hide
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l1461
	ret
l1461:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l1463
	call txt2,hide
	jmp l1462
l1463:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l1462:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	cthis get
	cthis updatetxt
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push X
	push $1
	pop $b
	popax
	add $a,$b
	push Y
	push $2
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l1465
	push $1
	jmp l1464
l1465:
	push ""
l1464:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method getcx
	call txt1,getcx
	end method
	method getcy
	call txt1,getcy
	end method
	method geth
	call txt1,geth
	end method
	method getey
	call txt1,getpy
	push iFontSize
	pop $b
	popax
	add $a,$b
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,clip
	push $1
	push $2
	push $3
	push $4
	call txt2,clip
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1467
	ret
l1467:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1469
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	cthis getname
	push "_onenter"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	ret
l1469:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l1471
	push "tab"
	call keyboard,iskey
	jmp l1473
l1471:
	push 0
	jmp l1473
l1472:
	push 1
l1473:
	cmp0
	je l1474
	push " "
	pop $1
	jmp l1470
l1474:
	call keyboard,getkey
	pop $1
l1470:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1476
	push "a"
	call sChars,contains
	jmp l1478
l1476:
	push 0
	jmp l1478
l1477:
	push 1
l1478:
	cmp0
	jne l1480
	call keyboard,isdigit
	cmp0
	je l1481
	push "0"
	call sChars,contains
	jmp l1483
l1481:
	push 0
	jmp l1483
l1482:
	push 1
l1483:
	cmp0
	jne l1480
	push $1
	call sChars,contains
	jmp l1484
l1479:
	push 0
	jmp l1484
l1480:
	push 1
l1484:
	cmp0
	je l1485
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1488
	push iLimit
	call $2,length
	cmpja
	jmp l1489
l1487:
	push 0
	jmp l1489
l1488:
	push 1
l1489:
	jmp l1490
l1485:
	push 0
	jmp l1490
l1486:
	push 1
l1490:
	cmp0
	je l1491
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	cthis updatetxt
	cthis updatecyk
	jmp l1475
l1491:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1493
	call $2,length
	push 0
	cmpja
	jmp l1495
l1493:
	push 0
	jmp l1495
l1494:
	push 1
l1495:
	cmp0
	je l1496
	push 1
	call $2,strsube
	cthis updatetxt
	cthis updatecyk
l1496:
l1475:
	cthis getname
	push "_ontyped"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method updatetxt
	localstring $1
	pop $1
	push $1
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	push Sdir
	push "center"
	cmpje
	cmp0
	je l1498
	push X
	push W
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push Y
	call txt1,setpos
	jmp l1497
l1498:
	push Sdir
	push "right"
	cmpje
	cmp0
	je l1500
	push X
	push W
	pop $b
	popax
	add $a,$b
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push Y
	call txt1,setpos
	jmp l1499
l1500:
	push X
	push Y
	call txt1,setpos
l1499:
l1497:
	push bpass
	cmp0
	je l1502
	cthis copytopass
l1502:
	cthis getname
	push "_onwrite"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	new string,sTextBoxTyperSys
	push "null"
	pop sTextBoxTyperSys
	class TextBoxTyper
	parent LObjController
	parent ImagePos
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	clparent ImagePos,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	push "Rows"
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push "X"
	push $8
	push "Y"
	push $9
	push "Row"
	push 0
	push "enablemove"
	push 1
	push "W"
	push $10
	push "insystem"
	push 0
	push "H"
	push $11
	push "isvisible"
	push 1
	push "clipx1"
	push $8
	push "clipy1"
	push $9
	push "clipx2"
	push 0
	push "clipy2"
	push 0
	push "clipped"
	push 0
	cthis vars2
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1503:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1504
	jmp l1506
l1505:
	add $14,1
	pop $14
	jmp l1503
l1506:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $10
	spop $a
	call [$a],W=
	push $13
	spushs
	push "left"
	spop $a
	call [$a],Sdir=
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1505
l1504:
	end method
	method settyper
	localint $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $10
	localint $11
	localstring $12
	localstring $13
	push ""
	pop $13
	push $1
	push 0
	cmpjl
	cmp0
	je l1508
	call grtt,last
	spushs
	spop $a
	call [$a],X
	pop $10
	call grtt,last
	spushs
	spop $a
	call [$a],getey
	push Dy
	pop $b
	popax
	add $a,$b
	pop $11
	call grtt,size
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	call grtt,add
	jmp l1507
l1508:
	push $1
	call grtt,get
	pop $12
	push $12
	spushs
	spop $a
	call [$a],X
	pop $10
	push $12
	spushs
	spop $a
	call [$a],getpy
	pop $11
	push $12
	spushs
	spop $a
	call [$a],get
	pop $13
	push $12
	push 0
	push $3
	push $12
	spushs
	spop $a
	call [$a],iFontSize
	pop $b
	popax
	sub $a,$b
	call grtt,movefrom
	push $12
	spushs
	spop $d
	delete [$d]
l1507:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	push $2
	push $3
	push $5
	push $6
	push $7
	push $8
	push W
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $e
	new TextTyper,[$e]
	push $12
	spushs
	push W
	spop $a
	call [$a],W=
	push $12
	spushs
	push $9
	spop $a
	call [$a],Sdir=
	push $12
	spushs
	push $13
	spop $a
	call [$a],updatetxt
	push $12
	spushs
	push Z
	spop $a
	call [$a],setz
	push $12
	spushs
	push $10
	push $11
	spop $a
	call [$a],setpos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grtt,move
	push $1
	push $2
	call gren,move
	push $1
	popax
	add X,$a
	pop X
	push $2
	popax
	add Y,$a
	pop Y
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	push 1
	pop isvisible
	call grtt,show
	end method
	method hide
	push 0
	pop isvisible
	call grtt,hide
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 1
	pop clipped
	push $1
	pop clipx1
	push $2
	pop clipy1
	push $3
	pop clipx2
	push $4
	pop clipy2
	localint $5
	push 0
	pop $5
l1509:
	push $5
	call grtt,size
	cmpjl
	cmp0
	je l1510
	jmp l1512
l1511:
	add $5,1
	pop $5
	jmp l1509
l1512:
	push $5
	call grtt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1511
l1510:
	end method
	method getw
	push W
	end method
	method geth
	push H
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1513:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1514
	jmp l1516
l1515:
	add $4,1
	pop $4
	jmp l1513
l1516:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1515
l1514:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1518
	push $1
	push Rows
	cmpjl
	jmp l1520
l1518:
	push 0
	jmp l1520
l1519:
	push 1
l1520:
	cmp0
	je l1521
	push insystem
	cmp0
	je l1523
	push GAME
	spushs
	push sTextBoxTyperSys
	spop $a
	call [$a],isgmobj
	cmp0
	je l1525
	push sTextBoxTyperSys
	cthis getname
	cmpjne
	jmp l1527
l1525:
	push 0
	jmp l1527
l1526:
	push 1
l1527:
	cmp0
	je l1528
	push sTextBoxTyperSys
	spushs
	spop $a
	call [$a],deactivate
l1528:
	cthis getname
	pop sTextBoxTyperSys
l1523:
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	cthis getname
	push "_activate"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1521:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1530
	ret
l1530:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1532
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1534
	push enablemove
	jmp l1536
l1534:
	push 0
	jmp l1536
l1535:
	push 1
l1536:
	cmp0
	je l1537
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1538:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1539
	jmp l1541
l1540:
	sub $2,1
	pop $2
	jmp l1538
l1541:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1540
l1539:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	push Rows
	cmpjl
	cmp0
	je l1543
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1543:
l1537:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1531
l1532:
	push "up"
	call keyboard,iskey
	cmp0
	je l1545
	push Row
	push 0
	cmpja
	jmp l1547
l1545:
	push 0
	jmp l1547
l1546:
	push 1
l1547:
	cmp0
	je l1548
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1544
l1548:
	push "down"
	call keyboard,iskey
	cmp0
	je l1550
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1552
l1550:
	push 0
	jmp l1552
l1551:
	push 1
l1552:
	cmp0
	je l1553
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1549
l1553:
	push "pgdown"
	call keyboard,iskey
	cmp0
	je l1555
	push Row
	push Rows
	push 10
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1557
	push Row
	push 10
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1556
l1557:
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1556:
	jmp l1554
l1555:
	push "pgup"
	call keyboard,iskey
	cmp0
	je l1559
	push Row
	push 9
	cmpja
	cmp0
	je l1561
	push Row
	push 10
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1560
l1561:
	push 0
	cthis activate
l1560:
	jmp l1558
l1559:
	push "backspace"
	call keyboard,iskey
	cmp0
	jne l1564
	push "delete"
	call keyboard,iskey
	jmp l1565
l1563:
	push 0
	jmp l1565
l1564:
	push 1
l1565:
	cmp0
	je l1566
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1568
l1566:
	push 0
	jmp l1568
l1567:
	push 1
l1568:
	cmp0
	je l1569
	push enablemove
	cmp0
	je l1571
	localdef $2
	push Row
	pop $2
l1572:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1573
	jmp l1575
l1574:
	add $2,1
	pop $2
	jmp l1572
l1575:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1574
l1573:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
l1571:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1577
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1577:
	jmp l1562
l1569:
	push "onkeydown"
	call grtt,eval
l1562:
l1558:
l1554:
l1549:
l1544:
l1531:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1579
	ret
l1579:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push clipped
	cmp0
	je l1581
	push $1
	push $2
	push clipx1
	push clipy1
	push clipx2
	push clipy2
	call clsurf,isin
	jmp l1583
l1581:
	push 0
	jmp l1583
l1582:
	push 1
l1583:
	cmp0
	jne l1585
	push clipped
	neg
	cmp0
	je l1586
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	jmp l1588
l1586:
	push 0
	jmp l1588
l1587:
	push 1
l1588:
	jmp l1589
l1584:
	push 0
	jmp l1589
l1585:
	push 1
l1589:
	cmp0
	je l1590
	cthis deactivate
	localint $3
	push 0
	pop $3
l1591:
	push $3
	cthis size
	cmpjl
	cmp0
	je l1592
	jmp l1594
l1593:
	add $3,1
	pop $3
	jmp l1591
l1594:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getey
	push $2
	cmpja
	cmp0
	je l1596
	push $3
	cthis activate
	ret
l1596:
	jmp l1593
l1592:
	jmp l1580
l1590:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1580:
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	cmp0
	je l1598
	push isvisible
	neg
	jmp l1600
l1598:
	push 0
	jmp l1600
l1599:
	push 1
l1600:
	cmp0
	je l1601
	push 0
	ret
l1601:
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method getact
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method idpx
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpx
	end method
	method idpy
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	end method
	method getpx
	push X
	end method
	method getpy
	push Y
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	push $1
	push ""
	cthis getlinesfrom
	end method
	method getlinesfrom
	localint $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push ""
	pop $3
	localint $4
	push $1
	pop $4
l1602:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1603
	jmp l1605
l1604:
	add $4,1
	pop $4
	jmp l1602
l1605:
	push "tt"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	push $2
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l1604
l1603:
	push $3
	end method
	method getlines
	push 0
	push " "
	cthis getlinesfrom
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1606:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l1607
	jmp l1609
l1608:
	add $1,1
	pop $1
	jmp l1606
l1609:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l1611
	push $1
	ret
l1611:
	jmp l1608
l1607:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l1613
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l1613:
	end method
	method settext
	localint $1
	pop $1
l1614:
	push $1
	push 0
	cmpja
	cmp0
	je l1615
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l1614
l1615:
	end method
	method copytodb
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
	localint $2
	push 0
	pop $2
l1616:
	push $2
	call grtt,size
	cmpjl
	cmp0
	je l1617
	jmp l1619
l1618:
	add $2,1
	pop $2
	jmp l1616
l1619:
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	call grtt,get
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],add
	jmp l1618
l1617:
	end method
	method copyfromdb
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis copyfromdbii
	end method
	method copyfromdbss
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis copyfromdbii
	end method
	method copyfromdbii
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	jne l1622
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l1623
l1621:
	push 0
	jmp l1623
l1622:
	push 1
l1623:
	cmp0
	je l1624
	ret
l1624:
	cthis clear
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	cthis size
	cmpja
	cmp0
	je l1626
	push $2
	cthis size
	pop $b
	popax
	add $a,$b
	pop $3
l1626:
	localint $4
	push $2
	pop $4
l1627:
	push $4
	push $3
	cmpjl
	cmp0
	je l1628
	jmp l1630
l1629:
	add $4,1
	pop $4
	jmp l1627
l1630:
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmp0
	je l1632
	push $1
	spushs
	push $4
	push 0
	spop $a
	call [$a],get
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis setid
l1632:
	jmp l1629
l1628:
	end method
	method copyfromdbrow
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $4
	push $4
	cthis size
	cmpja
	cmp0
	je l1634
	cthis size
	pop $4
l1634:
	localint $5
	push $3
	pop $5
l1635:
	push $5
	push $4
	cmpjl
	cmp0
	je l1636
	jmp l1638
l1637:
	add $5,1
	pop $5
	jmp l1635
l1638:
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],get
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	cthis setid
	jmp l1637
l1636:
	end method
	method save
	localstring $1
	pop $1
	new db,__tmpdb
	push "__tmpdb"
	cthis copytodb
	push "|"
	call __tmpdb,setseparator
	push $1
	call __tmpdb,save
	delete __tmpdb
	end method
	method load
	localstring $1
	pop $1
	new db,__tmpdb
	push $1
	call __tmpdb,load
	push "__tmpdb"
	cthis copyfromdb
	delete __tmpdb
	end method
	end class

	class GUITextBoxTyper
	parent TextBoxTyper
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	push $9
	push $10
	push $11
	push $12
	clparent TextBoxTyper,init
	push A
	push "rewinder"
	push "null"
	push "rewinderbg"
	push "null"
	cthis vars2
	end method
	method setrewinder
	localstring $1
	pop $1
	push $1
	pop rewinder
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop rewinderbg
	end method
	method activate
	localint $1
	pop $1
	push $1
	clparent TextBoxTyper,activate
	cthis updaterewactual
	end method
	method updaterewactual
	push Row
	cthis updaterewpos
	end method
	method updaterewpos
	localint $1
	pop $1
	push rewinder
	push "null"
	cmpjne
	cmp0
	je l1640
	localdef $2
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpy
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	cmpjl
	cmp0
	je l1642
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
	jmp l1641
l1642:
	push $2
	spushs
	spop $a
	call [$a],getey
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l1644
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
l1644:
l1641:
l1640:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	new int,bclickrel
	push 1
	pop bclickrel
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	pop bclickrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push bclickrel
	cmp0
	je l1646
	call timwez,play
	push 0
	pop bonrel
	jmp l1645
l1646:
	push 1
	pop bonrel
l1645:
	push 1
	pop bstart
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1647
	push bonrel
	neg
	jmp l1649
l1647:
	push 0
	jmp l1649
l1648:
	push 1
l1649:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1650
	push bonrel
	jmp l1652
l1650:
	push 0
	jmp l1652
l1651:
	push 1
l1652:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method setcobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setobj
	end method
	method setpobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setobj
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1654
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1654:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1656
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1656:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1658
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1658:
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1660
	ret
l1660:
	call cldt,isonclick
	cmp0
	je l1662
	cthis _put
	jmp l1661
l1662:
	call cldt,istaken
	neg
	cmp0
	je l1664
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1664:
l1661:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1666
	ret
l1666:
	call cldt,isonrel
	cmp0
	je l1668
	cthis _put
l1668:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push iResX
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push iResY
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	push A
	push "borx1"
	push $1
	push "bory1"
	push $2
	push "borx2"
	push $3
	push "bory2"
	push $4
	cthis vars2
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push iResX
	push iResY
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1671
	push sorientation
	push "down"
	cmpje
	jmp l1672
l1670:
	push 0
	jmp l1672
l1671:
	push 1
l1672:
	cmp0
	je l1673
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1669
l1673:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1669:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1675
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1675:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1677
	call clmv,msftmove
	jmp l1676
l1677:
	call clmv,msmove
l1676:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1680
	push sorientation
	push "down"
	cmpje
	jmp l1681
l1679:
	push 0
	jmp l1681
l1680:
	push 1
l1681:
	cmp0
	je l1682
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1678
l1682:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1678:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1685
	push sorientation
	push "down"
	cmpje
	jmp l1686
l1684:
	push 0
	jmp l1686
l1685:
	push 1
l1686:
	cmp0
	je l1687
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1689
	push borx1
	push bory2
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push borx1
	push bory2
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1688
l1689:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownact,setpos
	push bory1
	pop $7
l1688:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1683
l1687:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1691
	push borx2
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupstd,setpos
	push borx2
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1690
l1691:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx1
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx1
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push borx1
	pop $8
l1690:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1683:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1692:
	push $13
	push $11
	cmpjl
	cmp0
	je l1693
	jmp l1695
l1694:
	add $13,1
	pop $13
	jmp l1692
l1695:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1697
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1696
l1697:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1699
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1698
l1699:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1701
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1700
l1701:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1703
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1703:
l1700:
l1698:
l1696:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1694
l1693:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1705
	push bvertical
	push 0
	cmpje
	cmp0
	je l1707
	push "left"
	pop _sdir
	jmp l1706
l1707:
	push "up"
	pop _sdir
l1706:
	jmp l1704
l1705:
	push $2
	push "down"
	cmpje
	cmp0
	je l1709
	push bvertical
	push 0
	cmpje
	cmp0
	je l1711
	push "right"
	pop _sdir
	jmp l1710
l1711:
	push "down"
	pop _sdir
l1710:
l1709:
l1704:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1713
	ret
l1713:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1715
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1717
l1715:
	push 0
	jmp l1717
l1716:
	push 1
l1717:
	cmp0
	je l1718
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1720
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1722
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1722:
	jmp l1719
l1720:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1724
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1726
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1726:
	jmp l1723
l1724:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1728
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1730
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1730:
	jmp l1727
l1728:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1732
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1734
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1734:
l1732:
l1727:
l1723:
l1719:
l1718:
	push $1
	cmp0
	je l1736
	call fxrew,isplaying
	neg
	cmp0
	je l1738
	call fxrew,play
l1738:
	jmp l1735
l1736:
	push 0
	call fxrew,stop
l1735:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1740
	ret
l1740:
	call cldt,isonrel
	cmp0
	je l1742
	cthis _put
l1742:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1744
	ret
l1744:
	call cldt,isonclick
	cmp0
	je l1746
	cthis _put
	jmp l1745
l1746:
	call cldt,istaken
	neg
	cmp0
	je l1748
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1748:
l1745:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push A
	push "sobject"
	push "null"
	push "sclicked"
	push "null"
	cthis vars2
	end method
	method sort
	call grbuts,sortimgs
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method addlocker
	localstring $1
	pop $1
	push $1
	cthis add
	push $1
	clparent classlocker,setaslocker
	end method
	method removebutlist
	push "removebut"
	cthis withlist
	end method
	method removebut
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	push $1
	push sobject
	cmpje
	cmp0
	je l1750
	push "null"
	pop sobject
l1750:
	push $1
	push sclicked
	cmpje
	cmp0
	je l1752
	push "null"
	pop sclicked
l1752:
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1754
	push $1
	call grbuts,removegr
l1754:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1756
	ret
l1756:
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1758
	push sobject
	pop sclicked
	push sobject
	spushs
	push "butclick"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1760
	push sobject
	spushs
	spop $a
	call [$a],butclick
l1760:
l1758:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1762
	ret
l1762:
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1764
	push sclicked
	spushs
	push "butlrel"
	spop $a
	call [$a],hasaddedmet
	jmp l1766
l1764:
	push 0
	jmp l1766
l1765:
	push 1
l1766:
	cmp0
	je l1767
	push sclicked
	spushs
	spop $a
	call [$a],butlrel
	jmp l1763
l1767:
	push "null"
	pop sclicked
l1763:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1769
	ret
l1769:
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1771
	push sclicked
	spushs
	push "butmoving"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1773
	push sclicked
	spushs
	spop $a
	call [$a],butmoving
l1773:
l1771:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l1775
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l1777
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	push "butmoveon"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1779
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l1779:
l1777:
	jmp l1774
l1775:
	cthis lastoff
l1774:
	end method
	method lastoff
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1781
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	push "butmoveoff"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1783
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
l1783:
	push "null"
	pop sobject
l1781:
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global6"
	cthis addmethod
	end method
	method global6
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinvis
	push "isbutin"
	push "global7"
	cthis addmethod
	end method
	method global7
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global8"
	cthis addmethod
	end method
	method global8
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_isinvisalpha
	push "isbutin"
	push "global9"
	cthis addmethod
	end method
	method global9
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global10"
	cthis addmethod
	end method
	method global10
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1785
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1785:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global11"
	cthis addmethod
	end method
	method global11
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_moveonms
	push "butmoveon"
	push "global12"
	cthis addmethod
	end method
	method global12
	call advmouse,setbut
	end method
	method Button_moveoffms
	push "butmoveoff"
	push "global13"
	cthis addmethod
	end method
	method global13
	call advmouse,setstd
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdms
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	end method
	method Button_stdmsisin
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1787
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1786
l1787:
	push 0
l1786:
	end method
	method _release
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call bsms,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1789
	ret
l1789:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1791
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1791:
	push $1
	cmp0
	je l1793
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1795
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1797
	cthis _release
l1797:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call bsms,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1795:
	jmp l1792
l1793:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1799
	cthis _release
l1799:
l1792:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1801
	ret
l1801:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1803
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1803:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1805
	ret
l1805:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1807
	cthis copyobj
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1807:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1809
	call bsms,setstd
	push "null"
	pop slastb
l1809:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	new string,sFontBold
	push "null"
	pop sFontBold
	new string,sFontItalic
	push "null"
	pop sFontItalic
	new string,sFontBoldItalic
	push "null"
	pop sFontBoldItalic
	new int,bhtml
	push 0
	pop bhtml
	localstring $12
	localint $13
	localint $14
	push "$"
	call $1,contains
	cmp0
	je l1811
	push 1
	pop bhtml
	new vector,vfont
	push "string"
	call vfont,type
	push $1
	push "$"
	call vfont,vecbuildfromstring
	push 0
	pop $14
l1812:
	push $14
	call vfont,size
	cmpjl
	cmp0
	je l1813
	jmp l1815
l1814:
	add $14,1
	pop $14
	jmp l1812
l1815:
	push $14
	call vfont,get
	pop $12
	push "_italic"
	call $12,contains
	cmp0
	je l1817
	push "_bold"
	call $12,contains
	jmp l1819
l1817:
	push 0
	jmp l1819
l1818:
	push 1
l1819:
	cmp0
	je l1820
	push $12
	pop sFontBoldItalic
	jmp l1816
l1820:
	push "_italic"
	call $12,contains
	cmp0
	je l1822
	push $12
	pop sFontItalic
	jmp l1821
l1822:
	push "_bold"
	call $12,contains
	cmp0
	je l1824
	push $12
	pop sFontBold
	jmp l1823
l1824:
	push $12
	pop sFont
l1823:
l1821:
l1816:
	jmp l1814
l1813:
	push "$"
	call sFont,contains
	cmp0
	je l1826
	push sFontItalic
	push "null"
	cmpjne
	cmp0
	je l1828
	push sFontItalic
	pop sFont
	jmp l1827
l1828:
	push sFontBold
	push "null"
	cmpjne
	cmp0
	je l1830
	push sFontBold
	pop sFont
	jmp l1829
l1830:
	push sFontBoldItalic
	pop sFont
l1829:
l1827:
l1826:
	push sFont
	pop $1
	jmp l1810
l1811:
	push $1
	push $2
	cthis checkfont
	pop $1
l1810:
	new int,iFontSize
	push $2
	pop iFontSize
	push "Z"
	push $10
	cthis var2
	localstring $15
	push "null"
	pop $15
	push ":"
	call $3,contains
	cmp0
	je l1832
	push ":"
	call $3,strgetto
	push ":"
	pop $b
	popax
	add $a,$b
	pop $15
l1832:
	push ".db"
	call $3,contains
	cmp0
	je l1834
	push $15
	push "$path:"
	cmpje
	cmp0
	je l1836
	new db,dbtxt
	push $15
	call $3,strsubbs
	call dbtxt,load
	jmp l1835
l1836:
	push "dbtxt"
	push $3
	cthis newdb
l1835:
	jmp l1833
l1834:
	push $15
	spushs
	push "$lang:"
	cmpst
	jne l1838
	spop $a
	push "dbtxt"
	push $15
	call $3,strsubbs
	cthis lang_db
	jmp l1837
l1838:
	push "$var:"
	cmpst
	jne l1839
	spop $a
	new db,dbtxt
	push $15
	call $3,strsubbs
	call dbtxt,dbcopy
	jmp l1837
l1839:
	push "$row:"
	cmpst
	jne l1840
	spop $a
	new db,dbtxt
	push $15
	call $3,strsubbs
	spushs
	push ","
	spop $h
	call $h,strgetto
	pop $12
	push ","
	call $3,strgetfrom
	pop $13
	push 0
	pop $14
l1841:
	push $14
	push $12
	spushs
	push $13
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1842
	jmp l1844
l1843:
	add $14,1
	pop $14
	jmp l1841
l1844:
	call dbtxt,addrow
	popax
	push $14
	push $12
	spushs
	push $13
	push $14
	spop $a
	call [$a],get
	call dbtxt,add
	jmp l1843
l1842:
	jmp l1837
l1840:
	spop $a
	new db,dbtxt
	push $3
	call dbtxt,dbaddlast
l1837:
l1833:
	localint $16
	push 0
	pop $16
	localint $17
	call dbtxt,getrowsno
	pop $17
	push 0
	push 5
	call $11,getb
	push "limit"
	cmpje
	cmp0
	je l1846
	localint $18
	push "limit_"
	call $11,strsubbs
	pop $18
	new vector,vtmp
	push "string"
	call vtmp,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	localint $14
	push 0
	pop $14
l1847:
	push $14
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1848
	jmp l1850
l1849:
	add $14,1
	pop $14
	jmp l1847
l1850:
	push $14
	push 0
	call dbtxt,get
	push " "
	call vtmp,vecbuildfromstring
	localint $19
	push 0
	pop $19
l1851:
	push $19
	call vtmp,size
	cmpjl
	cmp0
	je l1852
	jmp l1854
l1853:
	add $19,1
	pop $19
	jmp l1851
l1854:
	push $19
	call vtmp,get
	call vtmp2,add
	jmp l1853
l1852:
	jmp l1849
l1848:
	call dbtxt,free
	localstring $12
	push ""
	pop $12
	localstring $20
	push 0
	pop $14
l1855:
	push $14
	call vtmp2,size
	cmpjl
	cmp0
	je l1856
	jmp l1858
l1857:
	add $14,1
	pop $14
	jmp l1855
l1858:
	push $14
	call vtmp2,get
	pop $20
	push $12
	push $20
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,length
	push $18
	cmpjl
	cmp0
	je l1860
	push $20
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l1859
l1860:
	call dbtxt,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $19
	push $19
	push $12
	call dbtxt,add
	push $20
	push " "
	pop $b
	popax
	add $a,$b
	pop $12
l1859:
	jmp l1857
l1856:
	call dbtxt,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $19
	push $19
	push $12
	call dbtxt,add
	call dbtxt,getrowsno
	pop $17
l1846:
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	push 0
	pop $14
l1861:
	push $14
	push $17
	cmpjl
	cmp0
	je l1862
	jmp l1864
l1863:
	add $14,1
	pop $14
	jmp l1861
l1864:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	localdef $21
	push $14
	push 0
	call dbtxt,get
	pop $21
	push bhtml
	cmp0
	je l1866
	push "<b>"
	call $21,contains
	cmp0
	je l1868
	push sFontBold
	pop $1
	push "<b>"
	call $21,strremove
	jmp l1867
l1868:
	push "<bi>"
	call $21,contains
	cmp0
	je l1870
	push sFontBoldItalic
	pop $1
	push "<bi>"
	call $21,strremove
	jmp l1869
l1870:
	push "<i>"
	call $21,contains
	cmp0
	je l1872
	push sFontItalic
	pop $1
	push "<i>"
	call $21,strremove
	jmp l1871
l1872:
	push sFont
	pop $1
l1871:
l1869:
l1867:
l1866:
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $21
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $16
	cmpja
	cmp0
	je l1874
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $16
l1874:
	push $12
	call grtxt,add
	jmp l1863
l1862:
	push "Rows"
	push $17
	cthis var2
	push $11
	push "right"
	cmpje
	cmp0
	jne l1877
	push $11
	push "center"
	cmpje
	jmp l1878
l1876:
	push 0
	jmp l1878
l1877:
	push 1
l1878:
	cmp0
	je l1879
	push 0
	pop $14
l1880:
	push $14
	push $17
	cmpjl
	cmp0
	je l1881
	jmp l1883
l1882:
	add $14,1
	pop $14
	jmp l1880
l1883:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l1885
	push $12
	spushs
	push $16
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l1884
l1885:
	push $12
	spushs
	push $16
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l1884:
	jmp l1882
l1881:
l1879:
	push "W"
	push $16
	cthis var2
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l1886:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1887
	jmp l1889
l1888:
	add $8,1
	pop $8
	jmp l1886
l1889:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l1888
l1887:
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtxt,setz
	end method
	method getz
	push Z
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call grtxt,isin
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l1890:
	push A
	push $1
	cmpjne
	cmp0
	je l1891
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l1893
	push $2
	spushs
	spop $a
	call [$a],show
l1893:
	localdef $1
	pop $1
	jmp l1890
l1891:
	end method
	method blitto
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l1894:
	push $3
	call grtxt,size
	cmpjl
	cmp0
	je l1895
	jmp l1897
l1896:
	add $3,1
	pop $3
	jmp l1894
l1897:
	push $3
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],buildfullname
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],blit
	push GAME
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],vardel
	jmp l1896
l1895:
	end method
	method setcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1898:
	push $4
	call grtxt,size
	cmpjl
	cmp0
	je l1899
	jmp l1901
l1900:
	add $4,1
	pop $4
	jmp l1898
l1901:
	push $4
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	jmp l1900
l1899:
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l1902:
	push $5
	call grtxt,size
	cmpjl
	cmp0
	je l1903
	jmp l1905
l1904:
	add $5,1
	pop $5
	jmp l1902
l1905:
	push $5
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1904
l1903:
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push $1
	call grtxt,getposx
	pop $b
	popax
	sub $a,$b
	pop $3
	localdef $4
	push $2
	call grtxt,getposy
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	call grtxt,move
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	new string,_literal_char
	push "\""
	pop _literal_char
	end method
	method setliteralchar
	localstring $1
	pop $1
	push $1
	pop _literal_char
	end method
	method getliteralchar
	push _literal_char
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l1906:
	push $3
	cthis length
	cmpjl
	cmp0
	je l1907
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l1909
	push $4
	push $2
	cmpjle
	jmp l1911
l1909:
	push 0
	jmp l1911
l1910:
	push 1
l1911:
	cmp0
	je l1912
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l1908
l1912:
	push $4
	push BYTEa
	cmpjae
	cmp0
	je l1914
	push $4
	push BYTEz
	cmpjle
	jmp l1916
l1914:
	push 0
	jmp l1916
l1915:
	push 1
l1916:
	cmp0
	jne l1918
	push $4
	push BYTEA
	cmpjae
	cmp0
	je l1919
	push $4
	push BYTEZ
	cmpjle
	jmp l1921
l1919:
	push 0
	jmp l1921
l1920:
	push 1
l1921:
	cmp0
	jne l1918
	push $4
	push BYTE_
	cmpje
	jmp l1922
l1917:
	push 0
	jmp l1922
l1918:
	push 1
l1922:
	cmp0
	je l1923
	push ""
	pop found
l1923:
	cthis length
	pop $3
l1908:
	jmp l1906
l1907:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l1924:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1925
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1927
	push $2
	push BYTE9
	cmpjle
	jmp l1929
l1927:
	push 0
	jmp l1929
l1928:
	push 1
l1929:
	cmp0
	jne l1931
	push $2
	push dot
	cmpje
	cmp0
	je l1932
	push $3
	jmp l1934
l1932:
	push 0
	jmp l1934
l1933:
	push 1
l1934:
	jmp l1935
l1930:
	push 0
	jmp l1935
l1931:
	push 1
l1935:
	cmp0
	je l1936
	push $2
	push dot
	cmpje
	cmp0
	je l1938
	push 0
	pop $3
l1938:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1926
l1936:
	cthis length
	pop $1
l1926:
	jmp l1924
l1925:
	push $3
	cmp0
	jne l1941
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l1941
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l1942
l1940:
	push 0
	jmp l1942
l1941:
	push 1
l1942:
	cmp0
	je l1943
	push ""
	pop found
l1943:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l1944:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1945
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l1947
	push $2
	push BYTEz
	cmpjle
	jmp l1949
l1947:
	push 0
	jmp l1949
l1948:
	push 1
l1949:
	cmp0
	jne l1951
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l1952
	push $2
	push BYTEZ
	cmpjle
	jmp l1954
l1952:
	push 0
	jmp l1954
l1953:
	push 1
l1954:
	cmp0
	jne l1951
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l1951
	push $1
	push id
	cmpja
	cmp0
	je l1955
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1955
	push $2
	push BYTE9
	cmpjle
	jmp l1957
l1955:
	push 0
	jmp l1957
l1956:
	push 1
l1957:
	jmp l1958
l1950:
	push 0
	jmp l1958
l1951:
	push 1
l1958:
	cmp0
	je l1959
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1946
l1959:
	cthis length
	pop $1
l1946:
	jmp l1944
l1945:
	call found,length
	end method
	method isliteral
	cthis check
	cthis getliteralchar
	cmpjne
	cmp0
	je l1961
	push 0
	ret
l1961:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l1962:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1963
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	cthis getliteralchar
	cmpje
	cmp0
	je l1965
	push 1
	ret
	jmp l1964
l1965:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l1964:
	jmp l1962
l1963:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l1966:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l1967
	jmp l1969
l1968:
	add $3,1
	pop $3
	jmp l1966
l1969:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l1971
	push $1
	push found
	cmpje
	cmp0
	je l1973
	push 1
	ret
l1973:
	jmp l1970
l1971:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l1975
	push 1
	ret
l1975:
l1970:
	jmp l1968
l1967:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l1976:
	cthis notend
	cmp0
	je l1977
	cthis check
	push " "
	cmpje
	cmp0
	je l1979
	add id,1
	pop id
	jmp l1978
l1979:
	cthis isconst
	cmp0
	je l1981
	push $1
	spushs
	push "$const"
	spop $a
	call [$a],add
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l1980
l1981:
	cthis isreal
	cmp0
	je l1983
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1985
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1985:
	jmp l1982
l1983:
	cthis isint
	cmp0
	je l1987
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1989
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1989:
	jmp l1986
l1987:
	cthis isident
	cmp0
	je l1991
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1993
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1993:
	jmp l1990
l1991:
	cthis isliteral
	cmp0
	je l1995
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l1997
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1997:
	jmp l1994
l1995:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l1994:
l1990:
l1986:
l1982:
l1980:
l1978:
	jmp l1976
l1977:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l1998:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1999
	jmp l2001
l2000:
	add $5,1
	pop $5
	jmp l1998
l2001:
	call vtmp2,free
	push 0
	pop $3
l2002:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2003
	jmp l2005
l2004:
	add $3,1
	pop $3
	jmp l2002
l2005:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l2007
	push $4
	call vtmp2,add
l2007:
	jmp l2004
l2003:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l2009
	push $5
	ret
l2009:
	jmp l2000
l1999:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setliteralchar"
	push "setliteralchar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getliteralchar"
	push "getliteralchar"
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l2011
	push "null"
	ret
l2011:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l2013
	push "null"
	ret
l2013:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l2014:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l2015
	jmp l2017
l2016:
	add $1,1
	pop $1
	jmp l2014
l2017:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l2016
l2015:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l2019
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l2019:
	end method
	end class

	class Localize
	method init
	end method
	method _lang_db
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push "load"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method lang_db
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push ""
	cthis _lang_db
	end method
	method lang_dbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "script"
	cthis _lang_db
	end method
	method lang_dbbeh
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "beh"
	cthis _lang_db
	end method
	method lang_path
	localstring $1
	pop $1
	push LANGDIR
	call gameapi,getgamename
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	end method
	end class

	class PyzCounter
	method init
	localstring $1
	localint $2
	pop $2
	pop $1
	new int,istart
	new int,istop
	new int,istep
	new int,idigits
	push 50
	pop idigits
	new int,iactual
	new string,_sanima
	push $1
	pop _sanima
	push A
	push "idx"
	push 2
	push "itimestep"
	push $2
	cthis vars2
	new gmimgvec,grcnt
	localint $3
	push 0
	pop $3
l2020:
	push $3
	push idigits
	cmpjl
	cmp0
	je l2021
	jmp l2023
l2022:
	add $3,1
	pop $3
	jmp l2020
l2023:
	localstring $4
	push "pcc"
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $1
	push $4
	cthis copyanima
	push $4
	spushs
	spop $a
	call [$a],hide
	push $4
	call grcnt,add
	jmp l2022
l2021:
	push "timcnt"
	push $2
	push "PyzCounter0"
	cthis timer=
	end method
	method PyzCounter0
	push istep
	popax
	add iactual,$a
	pop iactual
	push iactual
	cthis view
	push iactual
	push istop
	cmpje
	cmp0
	je l2025
	cthis getbuildername
	spushs
	cthis getbuildername
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2024
l2025:
	cthis play
l2024:
	end method
	method getcypher
	localint $1
	pop $1
	push "pcc"
	push _sanima
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	end method
	method start
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop istart
	push $2
	pop istop
	push $3
	pop istep
	push istart
	pop iactual
	push istart
	cthis view
	call timcnt,play
	end method
	method showcypher
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis getcypher
	pop $3
	push $3
	spushs
	push 0
	push $2
	spop $a
	call [$a],setframe
	push $3
	spushs
	spop $a
	call [$a],show
	end method
	method stop
	push 0
	call timcnt,stop
	end method
	method view
	localint $1
	pop $1
	call grcnt,hide
	push 0
	push 0
	call grcnt,setpos
	push $1
	push 0
	cmpje
	cmp0
	je l2027
	push 0
	push 0
	cthis showcypher
	jmp l2026
l2027:
	localint $2
	push 0
	pop $2
l2028:
	push $1
	push 0
	cmpja
	cmp0
	je l2029
	jmp l2031
l2030:
	add $2,1
	pop $2
	jmp l2028
l2031:
	push $2
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	push $d
	cthis showcypher
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	jmp l2030
l2029:
	localint $3
	push 0
	pop $3
	localint $4
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l2032:
	push $4
	push 0
	cmpjae
	cmp0
	je l2033
	jmp l2035
l2034:
	sub $4,1
	pop $4
	jmp l2032
l2035:
	push $4
	cthis getcypher
	spushs
	push $3
	push 0
	spop $a
	call [$a],move
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis getcypher
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l2034
l2033:
l2026:
	end method
	end class

	class AnMover
	method init
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	new timer,tmov
	push 1
	call tmov,settick
	push 1
	call tmov,setcycle
	push A
	push "rdx"
	push $2
	push "rdy"
	push $3
	cthis vars2
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	new string,sanima
	push $1
	pop sanima
	push "onfinish"
	push "AnMover0"
	call tmov,addmethod
	end method
	method AnMover0
	cthis move
	push "_finish"
	cthis builder_func
	cthis play
	end method
	method move
	push rdx
	popax
	add rsx,$a
	pop rsx
	push rdy
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l2038
	push $2
	jmp l2039
l2037:
	push 0
	jmp l2039
l2038:
	push 1
l2039:
	cmp0
	je l2040
	push sanima
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
l2040:
	end method
	method reset
	push 0
	pop rsx
	push 0
	pop rsy
	end method
	method play
	cthis reset
	call tmov,play
	end method
	method stop
	push 0
	call tmov,stop
	end method
	end class

	class SetAnMover
	method init
	end method
	method setas
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setanmover"
	push "setanmover"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setanmover
	push $1
	spushs
	push "sam_move"
	push "sam_move"
	spop $a
	call [$a],addmethod
	end method
	method setanmover
	localreal $1
	localreal $2
	pop $2
	pop $1
	new real,rdx
	push $1
	pop rdx
	new real,rdy
	push $2
	pop rdy
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	push "sam_speed"
	push 1.0
	cthis var2
	end method
	method sam_move
	push rdx
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsx,$a
	pop rsx
	push rdy
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l2043
	push $2
	jmp l2044
l2042:
	push 0
	jmp l2044
l2043:
	push 1
l2044:
	cmp0
	je l2045
	push $1
	push $2
	cthis move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
l2045:
	end method
	end class

	class classlives
	method init
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	localint $14
	localstring $15
	pop $15
	pop $14
	pop $13
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iside
	push $15
	push "left"
	cmpje
	cmp0
	je l2047
	push 1
	popax
	sub 0,$a
	pop iside
	jmp l2046
l2047:
	push 1
	pop iside
l2046:
	new int,iilezyc
	push $1
	pop iilezyc
	new int,ibum
	push $2
	pop ibum
	localint $16
	push iilezyc
	push ibum
	pop $b
	popax
	mul $a,$b
	pop $16
	new int,iposxsila
	push $3
	pop iposxsila
	new int,iendxsila
	push $3
	push $16
	pop $b
	popax
	add $a,$b
	pop iendxsila
	new int,iposysila
	push $4
	pop iposysila
	push "imgsilapodkladka"
	push $16
	push $5
	push $6
	push $7
	push $8
	push $9
	push $14
	push 1
	pop $b
	popax
	sub $a,$b
	clparent newvars,newcanvas
	push "imgsila"
	push $16
	push $5
	push $10
	push $11
	push $12
	push $13
	push $14
	clparent newvars,newcanvas
	push iposxsila
	push iposysila
	call imgsila,setpos
	push iposxsila
	push 0
	call imgsila,getex
	push 600
	call imgsila,clip
	push iposxsila
	push iposysila
	call imgsilapodkladka,setpos
	end method
	method reset
	push iposxsila
	push iposysila
	call imgsila,setpos
	end method
	method damage
	localint $1
	pop $1
	push iside
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	end method
	method destroyed
	push iside
	push 0
	cmpjl
	cmp0
	je l2049
	call imgsila,getex
	push iposxsila
	cmpjl
	ret
l2049:
	call imgsila,getpx
	push iendxsila
	cmpja
	ret
	end method
	method heal
	localint $1
	pop $1
	push iside
	popax
	sub 0,$a
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	push iside
	push 0
	cmpja
	cmp0
	je l2051
	call imgsila,getpx
	push iposxsila
	cmpjl
	cmp0
	je l2053
	push iposxsila
	push iposysila
	call imgsila,setpos
l2053:
	jmp l2050
l2051:
	call imgsila,getpx
	push iposxsila
	cmpja
	cmp0
	je l2055
	push iposxsila
	push iposysila
	call imgsila,setpos
l2055:
l2050:
	end method
	end class

	class imganima
	parent gmimgvec
	method init
	clparent gmimgvec,init
	new int,idgran
	push 0
	pop idgran
	new timer,timan
	push 1
	call timan,settick
	push "onfinish"
	push "imganima0"
	call timan,addmethod
	end method
	method imganima0
	add idgran,1
	pop idgran
	localdef $1
	cthis getbuildername
	pop $1
	push idgran
	push $1
	spushs
	spop $a
	call [$a],size
	cmpje
	cmp0
	je l2057
	push $1
	spushs
	push $1
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2056
l2057:
	push idgran
	cthis setframe
	push $1
	spushs
	push $1
	push "_endframe"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l2056:
	end method
	method load
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	call timan,setcycle
	localint $6
	push $3
	pop $6
l2058:
	push $6
	push $4
	cmpjl
	cmp0
	je l2059
	jmp l2061
l2060:
	add $6,1
	pop $6
	jmp l2058
l2061:
	localdef $7
	push $1
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	push $7
	push "."
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	cthis newimg
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	cthis add
	jmp l2060
l2059:
	push 0
	cthis setframe
	end method
	method play
	push 0
	cthis setframe
	call timan,play
	end method
	method setframe
	localint $1
	pop $1
	cthis hide
	push $1
	pop idgran
	push $1
	cthis get
	spushs
	spop $a
	call [$a],show
	end method
	end class

	module advmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "normal"
	cthis set
	end method
	method setactive
	push "active"
	cthis set
	end method
	method setact
	push "active"
	cthis set
	end method
	method setbut
	push "active"
	cthis set
	end method
	method setexit
	push "exit"
	cthis set
	end method
	method setwait
	push "wait"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l2063
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l2064:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l2065
	jmp l2067
l2066:
	add $4,1
	pop $4
	jmp l2064
l2067:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l2066
l2065:
l2063:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l2069
	push "sndintro"
	cthis cbplay
l2069:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l2071
	call sndintro,isplaying
	jmp l2073
l2071:
	push 0
	jmp l2073
l2072:
	push 1
l2073:
	cmp0
	je l2074
	ret
l2074:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l2076
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l2076:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	method init
	end method
	method tinit
	localstring $1
	pop $1
	push $1
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l2078
	call sndintro,isplaying
	jmp l2080
l2078:
	push 0
	jmp l2080
l2079:
	push 1
l2080:
	neg
	cmp0
	je l2081
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l2083
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbselfplay
l2083:
l2081:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2085
	push $1
	clparent GameController,init
l2085:
	cthis unlock
	push $2
	push "null"
	cmpjne
	cmp0
	je l2087
	push $2
	cthis setgraphpath
l2087:
	push $3
	push "null"
	cmpjne
	cmp0
	je l2089
	push "anbkg"
	push $3
	push 0
	cthis newanima
l2089:
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $9
	localint $10
	push $7
	spushs
	push "ru"
	cmpst
	jne l2091
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getpy
	pop $10
	jmp l2090
l2091:
	push "rd"
	cmpst
	jne l2092
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getey
	pop $10
	jmp l2090
l2092:
	push "ld"
	cmpst
	jne l2093
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getey
	pop $10
	jmp l2090
l2093:
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getpy
	pop $10
l2090:
	push $9
	push $10
	call anbrush1,saverelpos
	push $9
	push $10
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l2094:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l2095
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l2097
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l2097:
	jmp l2094
l2095:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,tp_mouse_move
	push $8
	push "null"
	cmpjne
	cmp0
	je l2099
	new string,savefile
	push $8
	pop savefile
	new db,dbkolory
	localdef $11
	push $8
	pop $11
	push $11
	cthis saveexist
	cmp0
	je l2101
	push $11
	call dbkolory,vecload
	push "TPainter0"
	call grdraw,each
	jmp l2100
l2101:
	push "TPainter1"
	call grdraw,each
	cthis tp_savekols
l2100:
l2099:
	end method
	method TPainter0
	localdef $1
	pop $1
	push $1
	push 0
	call dbkolory,get
	push $1
	push 1
	call dbkolory,get
	push $1
	push 2
	call dbkolory,get
	push 255
	push 0
	cthis paint
	end method
	method TPainter1
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	push "255 255 255"
	push " "
	call dbkolory,dbaddstringrow
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method tp_exit
	call mouse,show
	end method
	method tp_mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method tp_mouse_lclick
	cthis getlock
	neg
	cmp0
	je l2103
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l2105
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l2104
l2105:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l2107
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	cthis onsetbrush
l2107:
l2104:
l2103:
	end method
	method tp_savekols
	push GAME
	spushs
	push "dbkolory"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2109
	ret
l2109:
	push "TPainter2"
	call grdraw,each
	push savefile
	call dbkolory,vecsave
	end method
	method TPainter2
	localdef $1
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	cthis getex
	pop $6
	localint $7
	cthis getey
	pop $7
	localint $8
	cthis getpx
	pop $8
	localint $9
	cthis getpy
	pop $9
l2110:
	push $8
	push $6
	cmpjne
	cmp0
	je l2111
	push $9
	push $7
	cmpjne
	jmp l2113
l2111:
	push 0
	jmp l2113
l2112:
	push 1
l2113:
	cmp0
	je l2114
	push $8
	push $9
	push 0
	push 1
	cthis isin
	cmp0
	je l2116
	push $8
	pop $2
	push $9
	pop $3
	push $6
	pop $8
	jmp l2115
l2116:
	add $8,1
	pop $8
l2115:
	jmp l2110
l2114:
	push $2
	push $3
	cthis getrgba
	popax
	pop $4
	pop $3
	pop $2
	push $1
	push 0
	push $2
	call dbkolory,set
	push $1
	push 1
	push $3
	call dbkolory,set
	push $1
	push 2
	push $4
	call dbkolory,set
	end method
	method tp_default_erase
	cthis white
	push 255
	cthis tp_erase
	end method
	method tp_erase
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l2117:
	push $5
	call grdraw,size
	cmpjl
	cmp0
	je l2118
	jmp l2120
l2119:
	add $5,1
	pop $5
	jmp l2117
l2120:
	push $5
	call grdraw,get
	spushs
	push $1
	push $2
	push $3
	push $4
	push 0
	spop $a
	call [$a],paint
	push $5
	push 0
	push 255
	call dbkolory,set
	push $5
	push 1
	push 255
	call dbkolory,set
	push $5
	push 2
	push 255
	call dbkolory,set
	jmp l2119
l2118:
	cthis tp_savekols
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	new int,iMemoTryb
	push 1
	pop iMemoTryb
	new int,iMemoW
	new int,iMemoH
	new int,iMemoAI
	push 0
	pop iMemoAI
	class TMemo
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 0
	push 3
	call $1,gete
	push "pyz"
	cmpje
	cmp0
	je l2122
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l2121
l2122:
	push "anbkg"
	push $1
	push 0
	cthis newimg
l2121:
	push "antaf"
	push $2
	push 20
	cthis newanima
	push "annak"
	push $3
	push 20
	cthis newanima
	new int,ipredkosc
	push 25
	pop ipredkosc
	new gmimgvec,grtaf
	new gmimgvec,grnak
	new vector,veci
	call veci,TMemo0
	localstring $5
	localint $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $6
	localint $10
	push 0
	pop $10
l2123:
	push $10
	push iMemoW
	cmpjl
	cmp0
	je l2124
	jmp l2126
l2125:
	add $10,1
	pop $10
	jmp l2123
l2126:
	push 0
	pop $9
l2127:
	push $9
	push iMemoH
	cmpjl
	cmp0
	je l2128
	jmp l2130
l2129:
	add $9,1
	pop $9
	jmp l2127
l2130:
	push "antaf"
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spop $e
	new anima,[$e]
	call [$e],TMemo1
	push "annak"
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spop $e
	new anima,[$e]
	call [$e],TMemo2
	add $6,1
	pop $6
	jmp l2129
l2128:
	jmp l2125
l2124:
	call antaf,hide
	call annak,hide
	call grtaf,hash
	push 0
	pop $6
	call antaf,getw
	push $4
	pop $b
	popax
	add $a,$b
	pop $7
	call antaf,geth
	push $4
	pop $b
	popax
	add $a,$b
	pop $8
	push 0
	pop $10
l2131:
	push $10
	push iMemoW
	cmpjl
	cmp0
	je l2132
	jmp l2134
l2133:
	add $10,1
	pop $10
	jmp l2131
l2134:
	push 0
	pop $9
l2135:
	push $9
	push iMemoH
	cmpjl
	cmp0
	je l2136
	jmp l2138
l2137:
	add $9,1
	pop $9
	jmp l2135
l2138:
	push $6
	call grtaf,get
	pop $5
	push $5
	spushs
	push $7
	push $10
	pop $b
	popax
	mul $a,$b
	push $8
	push $9
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],ansetbpos
	push $5
	spushs
	push $7
	push $10
	pop $b
	popax
	mul $a,$b
	push $8
	push $9
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],ansetbpos
	push $5
	spushs
	push A
	push "col"
	push $10
	push "row"
	push $9
	spop $a
	call [$a],vars2
	push $5
	spushs
	push 10
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	call grnak,get
	spushs
	push 10
	push 2
	push $6
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	add $6,1
	pop $6
	jmp l2137
l2136:
	jmp l2133
l2132:
	push "link"
	call grtaf,eval
	push "link"
	call grnak,eval
	push iResX
	call grtaf,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $7
	push iResY
	call grtaf,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $8
	push $7
	push $8
	call grtaf,move
	push $7
	push $8
	call grnak,move
	new int,iplayer
	push 1
	pop iplayer
	new int,icompplayer
	push 0
	pop icompplayer
	new classfadeinout,clfio
	new classfadeinout,clfio2
	new int,imemostate
	push 0
	pop imemostate
	new string,staf1
	new string,staf2
	new string,snak1
	new string,snak2
	new int,ileai
	push 1
	push 5
	push iMemoW
	push iMemoH
	pop $b
	popax
	mul $a,$b
	push 0.2
	pop $b
	popax
	mul $a,$b
	push 10
	cthis between
	push iMemoAI
	pop $b
	popax
	add $a,$b
	push 20
	cthis between
	pop ileai
	new string,sset1
	new string,sset2
	new vector,vecai
	call vecai,TMemo3
	new int,iaistate
	push 0
	pop iaistate
	push "timwait"
	push 500
	push 1
	cthis newtimer
	call timwait,mresize
	push "timpoka"
	push 500
	push 1
	push "endset22"
	cthis cnewtimerfin
	end method
	method TMemo0
	push 0
	call antaf,nofframes
	cthis vecnewint
	cthis hash
	end method
	method TMemo1
	localint $1
	pop $1
	push "antaf"
	cthis copy
	push 0
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call veci,get
	cthis setframe
	cthis anaddfilter
	cthis unlink
	cthis getname
	call grtaf,add
	end method
	method TMemo2
	localint $1
	pop $1
	push "annak"
	cthis copy
	cthis anaddfilter
	cthis unlink
	cthis getname
	call grnak,add
	end method
	method TMemo3
	cthis mresize
	push "string"
	cthis type
	end method
	method tm_start
	push 1
	pop imemostate
	push iMemoTryb
	push 1
	cmpje
	cmp0
	je l2140
	push 2
	pop icompplayer
l2140:
	end method
	method aigo
	push 11
	pop imemostate
	push sset1
	cthis tclicks
	end method
	method aigo2
	push sset2
	cthis tclicks
	end method
	method aifind1
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l2142
	push 1
	popax
	sub 0,$a
	ret
l2142:
	localint $4
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop $4
	localstring $5
l2143:
	push $2
	push $3
	cmpjl
	cmp0
	je l2144
	jmp l2146
l2145:
	add $2,1
	pop $2
	jmp l2143
l2146:
	push $2
	cthis get
	pop $5
	push $5
	push "null"
	cmpjne
	cmp0
	je l2148
	push $5
	push $1
	cmpjne
	cmp0
	je l2148
	push $4
	push $5
	spushs
	spop $a
	call [$a],framenr
	cmpje
	cmp0
	je l2148
	push $2
	cthis tstats
	jmp l2150
l2148:
	push 0
	jmp l2150
l2149:
	push 1
l2150:
	cmp0
	je l2151
	push $2
	ret
l2151:
	jmp l2145
l2144:
	push 1
	popax
	sub 0,$a
	end method
	method tstats
	localint $1
	pop $1
	push 100
	push $1
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	cthis stats
	end method
	method startai
	localstring $1
	pop $1
	push iplayer
	push icompplayer
	cmpje
	cmp0
	je l2153
	localint $2
	call vecai,size
	push ileai
	cthis min
	pop $2
	push $1
	push "aigo"
	cmpje
	cmp0
	je l2155
	push 11
	pop imemostate
	localint $3
	localint $4
	localint $5
	push 1
	popax
	sub 0,$a
	pop $5
	push 0
	pop $3
l2156:
	push $3
	push $2
	cmpjl
	cmp0
	je l2157
	jmp l2159
l2158:
	add $3,1
	pop $3
	jmp l2156
l2159:
	push $3
	call vecai,get
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	call vecai,aifind1
	pop $5
	push $5
	push 0
	cmpjae
	cmp0
	je l2161
	push $3
	cthis tstats
	jmp l2163
l2161:
	push 0
	jmp l2163
l2162:
	push 1
l2163:
	cmp0
	je l2164
	push $3
	pop $4
	push $2
	pop $3
	jmp l2160
l2164:
	push 1
	popax
	sub 0,$a
	pop $5
l2160:
	jmp l2158
l2157:
	push $5
	push 0
	cmpjae
	cmp0
	je l2166
	push $4
	call vecai,get
	pop sset1
	push $5
	call vecai,get
	pop sset2
	jmp l2165
l2166:
	call grtaf,rand
	pop sset1
	push "null"
	pop sset2
l2165:
	jmp l2154
l2155:
	push sset2
	push "null"
	cmpje
	cmp0
	je l2168
	localint $6
	push sset1
	push 0
	push $2
	call vecai,aifind1
	pop $6
	push $6
	push 0
	cmpjae
	cmp0
	je l2170
	push $6
	cthis tstats
	jmp l2172
l2170:
	push 0
	jmp l2172
l2171:
	push 1
l2172:
	cmp0
	je l2173
	push $6
	call vecai,get
	pop sset2
	jmp l2169
l2173:
	push sset1
	call grtaf,randdiff
	pop sset2
l2169:
l2168:
l2154:
	push "timwait"
	push $1
	popax
	pop $b
	psax
	call [$b],operator<
	call timwait,play
l2153:
	end method
	method endset3
	push 1
	pop imemostate
	push iMemoTryb
	push 0
	cmpja
	cmp0
	je l2175
	cthis tnextplayer
	push "aigo"
	cthis startai
l2175:
	end method
	method endset2
	call timpoka,play
	end method
	method endset22
	push 3
	pop imemostate
	push snak2
	spushs
	spop $a
	call [$a],hide
	push staf1
	spushs
	spop $a
	call [$a],framenr
	push staf2
	spushs
	spop $a
	call [$a],framenr
	cmpje
	cmp0
	je l2177
	push "grnak"
	push snak1
	popax
	pop $b
	psax
	call [$b],operator-
	push snak2
	popax
	pop $b
	psax
	call [$b],operator-
	popax
	push "grtaf"
	push staf1
	popax
	pop $b
	psax
	call [$b],operator-
	push staf2
	popax
	pop $b
	psax
	call [$b],operator-
	popax
	push staf1
	call vecai,find
	push "null"
	call vecai,set
	push staf2
	call vecai,find
	push "null"
	call vecai,set
	call grtaf,empty
	cmp0
	je l2179
	push 5
	pop imemostate
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf1
	push "null"
	call clfio,setopacity
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf2
	push "null"
	call clfio2,setopacity
	cthis tfinish
	jmp l2178
l2179:
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf1
	push "TMemo4"
	call clfio,setopacity
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push staf2
	push "null"
	call clfio2,setopacity
	cthis tpoint
l2178:
	jmp l2176
l2177:
	push snak1
	spushs
	spop $a
	call [$a],show
	push snak2
	spushs
	spop $a
	call [$a],show
	push 1
	push ipredkosc
	push snak1
	push "endset3"
	call clfio,setopacity
	push 1
	push ipredkosc
	push snak2
	push "null"
	call clfio2,setopacity
	cthis terror
l2176:
	end method
	method TMemo4
	push staf1
	spushs
	spop $a
	call [$a],hide
	push staf2
	spushs
	spop $a
	call [$a],hide
	push iplayer
	push icompplayer
	cmpjne
	cmp0
	je l2181
	push 1
	pop imemostate
l2181:
	push "aigo"
	cthis startai
	end method
	method tclicks
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis tclick
	end method
	method tclick
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grnak,isin
	cmp0
	je l2183
	localstring $3
	call grnak,getsfound
	pop $3
	jmp l2182
l2183:
	ret
l2182:
	cthis tchoose
	push imemostate
	push 1
	cmpje
	cmp0
	jne l2186
	push imemostate
	push 11
	cmpje
	jmp l2187
l2185:
	push 0
	jmp l2187
l2186:
	push 1
l2187:
	cmp0
	je l2188
	sub imemostate,1
	pop imemostate
	push $3
	pop snak1
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	push 1
	push 1
	call grtaf,getimg
	pop staf1
	push staf1
	push "null"
	call vecai,vecset
	push staf1
	call vecai,addbegin
	push 30
	call vecai,veclimes
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push $3
	push "TMemo5"
	call clfio,setopacity
	jmp l2184
l2188:
	push imemostate
	push 2
	cmpje
	cmp0
	jne l2191
	push imemostate
	push 12
	cmpje
	jmp l2192
l2190:
	push 0
	jmp l2192
l2191:
	push 1
l2192:
	cmp0
	je l2193
	push 2
	popax
	sub imemostate,$a
	pop imemostate
	push $3
	pop snak2
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	push 1
	push 1
	call grtaf,getimg
	pop staf2
	push staf2
	push "null"
	call vecai,vecset
	push staf2
	call vecai,addbegin
	push 30
	call vecai,veclimes
	push 1
	push ipredkosc
	popax
	sub 0,$a
	push $3
	push "endset2"
	call clfio,setopacity
l2193:
l2184:
	end method
	method TMemo5
	push snak1
	spushs
	spop $a
	call [$a],hide
	push 2
	popax
	add imemostate,$a
	pop imemostate
	push "aigo2"
	cthis startai
	end method
	method tnextplayer
	push iplayer
	push 1
	cmpje
	cmp0
	je l2195
	push 2
	jmp l2194
l2195:
	push 1
l2194:
	pop iplayer
	end method
	method tfitinsurf
	localint $1
	localint $2
	pop $2
	pop $1
	push "unlink"
	call grtaf,eval
	push "unlink"
	call grnak,eval
	localdef $3
	push $1
	push iMemoW
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localdef $4
	push $2
	push iMemoH
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	localdef $5
	call grtaf,first
	spushs
	spop $a
	call [$a],getw
	pop $5
	localdef $6
	call grtaf,first
	spushs
	spop $a
	call [$a],geth
	pop $6
	localdef $7
	push $4
	push $6
	pop $b
	popax
	sub $a,$b
	pop $7
	localdef $8
	push $3
	push $5
	pop $b
	popax
	sub $a,$b
	pop $8
	localdef $9
	push 0
	pop $9
	localint $10
	push 0
	pop $10
l2196:
	push $10
	push iMemoW
	cmpjl
	cmp0
	je l2197
	jmp l2199
l2198:
	add $10,1
	pop $10
	jmp l2196
l2199:
	localint $11
	push 0
	pop $11
l2200:
	push $11
	push iMemoH
	cmpjl
	cmp0
	je l2201
	jmp l2203
l2202:
	add $11,1
	pop $11
	jmp l2200
l2203:
	localdef $12
	push $9
	call grtaf,get
	pop $12
	push $12
	spushs
	push $3
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	push $11
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],ansetbpos
	push $8
	push 0
	cmpjl
	cmp0
	je l2205
	push $10
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	jmp l2207
l2205:
	push 0
	jmp l2207
l2206:
	push 1
l2207:
	cmp0
	je l2208
	push $12
	spushs
	push 0
	push $7
	push 2
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],move
l2208:
	push $9
	call grnak,get
	spushs
	push $12
	spushs
	spop $a
	call [$a],getpx
	push $12
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
	add $9,1
	pop $9
	jmp l2202
l2201:
	jmp l2198
l2197:
	push iResX
	call grnak,getex
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	push iResY
	call grnak,getey
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	push $1
	push $2
	call grnak,move
	push $1
	push $2
	call grtaf,move
	push "link"
	call grtaf,eval
	push "link"
	call grnak,eval
	end method
	method tm_mouselclick
	push A
	push 1
	push 2
	call imemostate,in
	cmp0
	je l2210
	call mouse,getpos
	cthis tclick
l2210:
	end method
	method tfinish
	end method
	method tpoint
	end method
	method terror
	end method
	method tchoose
	end method
	end class

	class tcramka
	parent gfxObject
	method init
	new img,imob
	new filter,ftob
	new anima,anglowka
	call anglowka,buildfullname
	push A
	push "speaker"
	push "null"
	cthis vars2
	new int,iopacity
	push 65
	pop iopacity
	push "timshow"
	push "tcramka0"
	cthis cycle=
	push A
	push "iop"
	push iopacity
	push "zoom"
	push 0.0
	push "iopstep"
	push 25
	push "bshow"
	push 1
	call timshow,vars2
	push "mreset"
	push "tcramka1"
	call timshow,addmethod
	cthis hideskip
	call imob,hide
	push "imob"
	clparent gfxObject,init
	end method
	method tcramka0
	push bshow
	cmp0
	je l2212
	push iopstep
	popax
	add iop,$a
	pop iop
	jmp l2211
l2212:
	push iopstep
	popax
	sub iop,$a
	pop iop
l2211:
	call iop,to_r
	push 255.0
	pop $b
	popax
	div $a,$b
	psax
	pop zoom
	push iop
	push 255
	cmpjae
	cmp0
	je l2214
	push 1
	call ftob,setzoom
	push 255
	call ftob,setopacity
	cthis showskip
	cthis getbuildername
	spushs
	cthis getbuildername
	push "_show"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2213
l2214:
	push bshow
	cmp0
	jne l2217
	push bshow
	neg
	cmp0
	je l2218
	push iop
	push iopacity
	cmpjae
	jmp l2220
l2218:
	push 0
	jmp l2220
l2219:
	push 1
l2220:
	jmp l2221
l2216:
	push 0
	jmp l2221
l2217:
	push 1
l2221:
	cmp0
	je l2222
	push zoom
	call ftob,setzoom
	cthis play
	jmp l2215
l2222:
	call imob,hide
	cthis getbuildername
	spushs
	cthis getbuildername
	push "_hide"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l2215:
l2213:
	end method
	method tcramka1
	push bshow
	cmp0
	je l2224
	push iopacity
	pop iop
	call iop,to_r
	push 255.0
	pop $b
	popax
	div $a,$b
	psax
	pop zoom
	push zoom
	call ftob,setzoom
	jmp l2223
l2224:
	push 255
	pop iop
	push 1
	pop zoom
l2223:
	call imob,show
	end method
	method view
	localstring $1
	pop $1
	push $1
	push "okno"
	cthis _reload
	end method
	method sayl
	localstring $1
	pop $1
	push $1
	push "sayl"
	cthis _reload
	end method
	method sayr
	localstring $1
	pop $1
	push $1
	push "sayr"
	cthis _reload
	end method
	method thinkl
	localstring $1
	pop $1
	push $1
	push "thinkl"
	cthis _reload
	end method
	method thinkr
	localstring $1
	pop $1
	push $1
	push "thinkr"
	cthis _reload
	end method
	method _reload
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis hideskip
	push $1
	push "null"
	cmpje
	cmp0
	je l2226
	ret
l2226:
	push 0
	call timshow,stop
	call ftob,unlink
	push "imob1"
	push "$scripts/heroes/dymki2.pyz"
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis newanima
	push "pasek"
	push 0
	call imob1,setframe
	localreal $3
	call imob1,geth
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],geth
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	push $4
	push 2
	cmpjl
	cmp0
	je l2228
	push 2
	pop $4
l2228:
	push "dol"
	push 0
	call imob1,setframe
	localint $5
	call imob1,geth
	pop $5
	push "top"
	push 0
	call imob1,setframe
	call imob1,geth
	popax
	add $5,$a
	pop $5
	delete imob
	new img,imob
	localint $6
	push $2
	push "okno"
	cmpjne
	pop $6
	localint $7
	call imob1,getw
	pop $7
	localint $8
	push $5
	push $3
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $8
	localint $9
	push 0
	pop $9
	localint $10
	push $7
	pop $10
	localint $11
	push $8
	pop $11
	push $6
	cmp0
	je l2230
	push "imob1"
	push "imobdymek"
	cthis copyanima
	push $2
	push 0
	call imobdymek,setframe
	localdef $12
	push 10
	pop $12
	push 0
	push 1
	call $2,gete
	push "l"
	cmpje
	cmp0
	je l2232
	call imobdymek,getw
	push $12
	pop $b
	popax
	add $a,$b
	push 0
	call imob1,move
	call imob1,getpx
	pop $9
	call imob1,getex
	call imobdymek,getpx
	pop $b
	popax
	sub $a,$b
	pop $7
	jmp l2231
l2232:
	call imob1,getw
	push $12
	pop $b
	popax
	add $a,$b
	push 0
	call imobdymek,move
	call imobdymek,getex
	call imob1,getpx
	pop $b
	popax
	sub $a,$b
	pop $7
l2231:
	localdef $13
	call imobdymek,getey
	call imob1,getpy
	pop $b
	popax
	sub $a,$b
	pop $13
	push $13
	push $8
	cmpja
	cmp0
	je l2234
	push $13
	pop $8
l2234:
l2230:
	push $7
	push $8
	cthis transparent
	call imob,create
	push $6
	cmp0
	je l2236
	push "imobdymek"
	call imob,blit
l2236:
	localint $14
	call imob1,getey
	pop $14
	push "imob1"
	call imob,blit
	localdef $15
	call imob1,getpx
	pop $15
	push "pasek"
	push 0
	call imob1,setframe
	localint $16
	push 0
	pop $16
l2237:
	push $16
	push $4
	cmpjl
	cmp0
	je l2238
	jmp l2240
l2239:
	add $16,1
	pop $16
	jmp l2237
l2240:
	push $15
	push $14
	call imob1,setpos
	push "imob1"
	call imob,blit
	call imob1,geth
	popax
	add $14,$a
	pop $14
	jmp l2239
l2238:
	push "dol"
	push 0
	call imob1,setframe
	push $15
	push $14
	call imob1,setpos
	push "imob1"
	call imob,blit
	cthis setskippos
	push "anskip"
	call imob,blit
	call imob1,getz
	call imob,setz
	call imob,getz
	push 1
	pop $b
	popax
	add $a,$b
	call anskip,setz
	push $6
	cmp0
	je l2242
	push $1
	spushs
	push $9
	push $10
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $11
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],move
	jmp l2241
l2242:
	push $1
	spushs
	spop $a
	call [$a],getcx
	call imob,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	call imob,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imob,setpos
l2241:
	push $6
	cmp0
	je l2244
	delete imobdymek
l2244:
	delete imob1
	call imob,buildfullname
	push $1
	spushs
	call imob,getfullname
	spop $a
	call [$a],blitto
	push $1
	spushs
	spop $a
	call [$a],hide
	call gameapi,getgamename
	spushs
	call imob,getfullname
	spop $a
	call [$a],vardel
	push $6
	cmp0
	je l2246
	localdef $17
	push speaker
	pop $17
	localdef $16
	push 0
	pop $16
l2247:
	push $16
	push 1
	call $17,gete
	clparent StringChecker,isdigit
	cmp0
	je l2248
	add $16,1
	pop $16
	jmp l2247
l2248:
	push $16
	call $17,strsube
	pop $17
	localdef $18
	push 0
	push 1
	call $2,gete
	pop $18
	push 0
	push 0
	call anglowka,setpos
	push "scripts/heroes/"
	push $17
	pop $b
	popax
	add $a,$b
	push $18
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anglowka,load
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	call anglowka,setz
	localdef $12
	push 90
	pop $12
	push $18
	push "l"
	cmpje
	cmp0
	je l2250
	call anglowka,getcx
	push $12
	pop $b
	popax
	add $a,$b
	call anglowka,getpy
	call imob,setpos
	jmp l2249
l2250:
	call anglowka,getcx
	call imob,getw
	pop $b
	popax
	sub $a,$b
	push $12
	pop $b
	popax
	sub $a,$b
	call anglowka,getpy
	call imob,setpos
l2249:
	call anglowka,hide
	push 10
	pop $12
	localdef $19
	push iResY
	call anglowka,getey
	pop $b
	popax
	sub $a,$b
	push $12
	pop $b
	popax
	add $a,$b
	pop $19
	push $18
	push "l"
	cmpje
	cmp0
	je l2252
	call anglowka,getpx
	popax
	sub 0,$a
	push $12
	pop $b
	popax
	sub $a,$b
	pop $12
	jmp l2251
l2252:
	push iResX
	call anglowka,getex
	pop $b
	popax
	sub $a,$b
	push $12
	pop $b
	popax
	add $a,$b
	pop $12
l2251:
	push $12
	push $19
	call anglowka,move
	push $12
	push $19
	call imob,move
	jmp l2245
l2246:
	call anglowka,nofactions
	push 0
	cmpja
	cmp0
	je l2254
	push 1000
	popax
	sub 0,$a
	push 1000
	popax
	sub 0,$a
	call anglowka,setpos
l2254:
l2245:
	call imob,getpx
	push 0
	cmpjl
	cmp0
	je l2256
	call imob,getpx
	popax
	sub 0,$a
	push 0
	call imob,move
l2256:
	call imob,getpy
	push 0
	cmpjl
	cmp0
	je l2258
	push 0
	call imob,getpy
	popax
	sub 0,$a
	call imob,move
l2258:
	call imob,getex
	push iResX
	cmpja
	cmp0
	je l2260
	push iResX
	call imob,getex
	pop $b
	popax
	sub $a,$b
	push 0
	call imob,move
l2260:
	localdef $20
	push iResY
	push 80
	pop $b
	popax
	sub $a,$b
	pop $20
	call imob,getey
	call anskip,geth
	pop $b
	popax
	add $a,$b
	push $20
	cmpja
	cmp0
	je l2262
	push 0
	push $20
	call imob,getey
	call anskip,geth
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	call imob,move
l2262:
	cthis setskippos
	push "imob"
	call ftob,link
	end method
	method ashow
	cthis hideskip
	push 1
	call timshow,bshow=
	call timshow,mreset
	call timshow,play
	call anglowka,show
	end method
	method ahide
	cthis hideskip
	call anglowka,hide
	push 0
	call timshow,bshow=
	call timshow,mreset
	call timshow,play
	end method
	method setskippos
	call imob,getcx
	call anskip,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imob,getey
	call anskip,setpos
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	clparent gfxObject,setpos
	cthis setskippos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	clparent gfxObject,move
	cthis setskippos
	end method
	method hideskip
	call anskip,hide
	call but1,onmousemove
	push "anskip"
	call but1,removebut
	end method
	method showskip
	push "anskip"
	call but1,add
	call anskip,show
	call but1,onmousemove
	end method
	method free
	push GAME
	spushs
	call anglowka,getfullname
	spop $a
	call [$a],vardel
	end method
	end class

	class itemadder
	method init
	new filter,ftduch
	call ftduch,buildfullname
	new int,_iduchstep
	push 0
	pop _iduchstep
	push "_timduch"
	push "itemadder0"
	cthis cycle=
	push A
	push "idstep"
	push 0
	push "sduch"
	push "null"
	push "idduch"
	push 0
	push "ftduch"
	call ftduch,getfullname
	push "sfunonplace"
	push "null"
	call _timduch,vars2
	end method
	method itemadder0
	add idstep,1
	pop idstep
	push idstep
	push _iduchstep
	cmpjae
	cmp0
	je l2264
	push ftduch
	spushs
	spop $a
	call [$a],unlink
	push sfunonplace
	spushs
	spop $d
	cthis [$d]
	jmp l2263
l2264:
	localreal $1
	call idstep,to_r
	call _iduchstep,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localreal $2
	push 1.0
	push $1
	push 1.0
	push sduch
	spushs
	spop $a
	call [$a],ratio
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	pop $2
	push ftduch
	spushs
	push $2
	spop $a
	call [$a],setzoom
	push sduch
	spushs
	push $1
	push sduch
	spushs
	spop $a
	call [$a],xdest
	push sduch
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	push $1
	push sduch
	spushs
	spop $a
	call [$a],ydest
	push sduch
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],move
	cthis play
l2263:
	end method
	method free
	push GAME
	spushs
	call ftduch,getfullname
	spop $a
	call [$a],vardel
	end method
	method showitem
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "_fioduch"
	cthis hasvar
	neg
	cmp0
	je l2266
	new classfadeinout,_fioduch
l2266:
	push $1
	spushs
	spop $a
	call [$a],show
	call ftduch,unlink
	push $1
	call ftduch,link
	push 0
	call ftduch,setopacity
	push 0
	call ftduch,setpivottype
	push 1
	push 25
	call ftduch,getfullname
	push $2
	call _fioduch,setopacity
	end method
	method hideitem
	localstring $1
	localstring $2
	pop $2
	pop $1
	call ftduch,unlink
	push $1
	call ftduch,link
	push 1
	push 25
	popax
	sub 0,$a
	call ftduch,getfullname
	push $2
	call _fioduch,setopacity
	end method
	method freeitem
	call ftduch,unlink
	end method
	method gotonextfr
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	localreal $4
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $4
	localreal $5
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $5
	localreal $6
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $6
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push $1
	push $6
	push $4
	push $5
	push $2
	push $3
	cthis gotodest
	end method
	method gotodestan
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],geth
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $3
	push $4
	cthis gotodest
	end method
	method gotodest
	localstring $1
	localreal $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call ftduch,unlink
	push $1
	call ftduch,link
	push 0
	call ftduch,setpivottype
	push $5
	pop _iduchstep
	push $1
	spushs
	push A
	push "ratio"
	push $2
	push $1
	spushs
	spop $a
	call [$a],geth
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	push "xdest"
	push $3
	push "ydest"
	push $4
	spop $a
	call [$a],vars2
	push 0
	call _timduch,idstep=
	push $1
	call _timduch,sduch=
	push $6
	call _timduch,sfunonplace=
	call _timduch,play
	end method
	end class

	class guitems
	parent classfullsave
	method init
	localstring $1
	pop $1
	push $1
	clparent classfullsave,init
	new gmimgvec,grit
	end method
	method last
	push "last_scene"
	cthis get
	end method
	method builditems
	cthis hidepan2
	localint $1
	push 0
	pop $1
l2267:
	push $1
	call dbsav,getrowsno
	cmpjl
	cmp0
	je l2268
	jmp l2270
l2269:
	add $1,1
	pop $1
	jmp l2267
l2270:
	push $1
	push 0
	call dbsav,get
	spushs
	push 0
	push "item_"
	spushs
	spop $h
	call $h,length
	spop $h
	call $h,getb
	push "item_"
	cmpje
	cmp0
	je l2272
	push $1
	push 1
	call dbsav,get
	spushs
	spop $h
	call $h,to_i
	jmp l2274
l2272:
	push 0
	jmp l2274
l2273:
	push 1
l2274:
	cmp0
	je l2275
	push $1
	push 0
	call dbsav,get
	spushs
	push "item_"
	spop $h
	call $h,strsubbs
	cthis additem
l2275:
	jmp l2269
l2268:
	end method
	method additem
	localstring $1
	pop $1
	push $1
	call grit,add
	localdef $2
	push "anitem"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push "$scripts/items/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call grpan2,first
	spushs
	spop $a
	call [$a],getz
	cthis newanima
	push $2
	spushs
	push $2
	spop $a
	call [$a],addtogamevars
	push $2
	spushs
	push A
	push "sitem"
	push $1
	push "idgui"
	call grit,size
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],vars2
	push $2
	spushs
	push "itemonpos"
	push "guitems0"
	spop $a
	call [$a],addmethod
	push $2
	spushs
	push "iteminit_"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	spushs
	spop $a
	call [$a],itemonpos
	push $2
	spushs
	spop $a
	call [$a],Button_stdalpha
	push $2
	spushs
	push "butclick"
	push "guitems1"
	spop $a
	call [$a],addmethod
	push $2
	call but1,add
	cthis showpan2
	end method
	method guitems0
	push 0
	push 0
	cthis setframe
	localstring $1
	call grpan2,last
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push idgui
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setpos
	end method
	method guitems1
	localdef $1
	push "itemclick_"
	push sitem
	pop $b
	popax
	add $a,$b
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasmet
	cmp0
	je l2277
	push $1
	spushs
	spop $d
	cthis [$d]
	jmp l2276
l2277:
l2276:
	end method
	method iteminit_szyfr
	new itemadder,itszyf
	end method
	end class

	class MusicTit
	parent Music
	method init
	clparent Music,init
	end method
	method play
	clparent Music,play
	push iGameMute
	cmp0
	je l2279
	call gameapi,pausemusic
l2279:
	end method
	end class

	class Match3
	method m3init
	localdef $1
	cthis getgraphpath
	pop $1
	push "match3"
	cthis path=
	push A
	push "m3bg.pyz 700"
	push "m3e.pyzH 710"
	push "m3bum.pyzH 720"
	push "m3ramka.pyzH 715"
	push "m3bg2.pyzG 705"
	push "m3oknolewe.pyz 700"
	push "m3oknoprawe.pyz 700"
	push "m3grall"
	cthis imgsgr=
	push "anm3ramka"
	push "anm3ramka2"
	cthis copyanima
	push "anm3ramka"
	push "anm3ramka3"
	cthis copyanima
	push 1
	push 0
	call anm3ramka3,setframe
	push 705
	call anm3ramka3,setz
	push "anm3ramka"
	push "anm3ramka4"
	cthis copyanima
	push 1
	push 0
	call anm3ramka4,setframe
	push 705
	call anm3ramka4,setz
	push "sram"
	push "anm3ramka3"
	call anm3ramka,var2
	push "sram"
	push "anm3ramka4"
	call anm3ramka2,var2
	new int,m3rows
	push 10
	pop m3rows
	new int,m3cols
	push 10
	pop m3cols
	new int,im3w
	call anm3e,getw
	pop im3w
	new int,im3h
	call anm3e,geth
	pop im3h
	new int,im3level
	push "match3_level"
	call dbconf,confmode
	pop im3level
	new gmimgvec,grm3
	new gmimgvec,grm3w
	new gmimgvec,grm3b
	new gmimgvec,grm3c
	new vector,vecm3
	new int,im3state
	push 20
	pop im3state
	push "m3fxmove"
	push "szufladaopen.ogg"
	cthis newsfx
	push "m3fxhit1"
	push "hit1.ogg"
	cthis newsfx
	push 60
	call m3fxhit1,setvol
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	push 0
	pop $7
l2280:
	push $7
	push m3rows
	cmpjl
	cmp0
	je l2281
	jmp l2283
l2282:
	add $7,1
	pop $7
	jmp l2280
l2283:
	localint $8
	push 0
	pop $8
l2284:
	push $8
	push m3cols
	cmpjl
	cmp0
	je l2285
	jmp l2287
l2286:
	add $8,1
	pop $8
	jmp l2284
l2287:
	call vecm3,free
	push 0
	pop $2
l2288:
	push $2
	push im3level
	cmpjl
	cmp0
	je l2289
	jmp l2291
l2290:
	add $2,1
	pop $2
	jmp l2288
l2291:
	push $2
	call vecm3,add
	jmp l2290
l2289:
	localdef $9
	push $7
	push $8
	cthis m3el
	pop $9
	push "anm3e"
	push $9
	cthis copyanima
	push $9
	spushs
	push A
	push "irow"
	push $7
	push "icol"
	push $8
	push "bbum"
	push 0
	push "bonplace"
	push 1
	spop $a
	call [$a],vars2
	push $7
	push $8
	push 2
	pop $b
	popax
	sub $a,$b
	cthis m3get
	pop $2
	push $2
	push $7
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	cthis m3get
	cmpje
	cmp0
	je l2293
	push $2
	call vecm3,remove
l2293:
	push $7
	push 2
	pop $b
	popax
	sub $a,$b
	push $8
	cthis m3get
	pop $2
	push $2
	push $7
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	cthis m3get
	cmpje
	cmp0
	je l2295
	push $2
	call vecm3,remove
l2295:
	call vecm3,hash
	push $9
	spushs
	call vecm3,first
	spop $a
	call [$a],play
	push $9
	spushs
	push 1
	popax
	sub 0,$a
	push $9
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],nofframes
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],setframe
	push $9
	spushs
	push $8
	cthis m3px
	push $7
	cthis m3py
	spop $a
	call [$a],ansetbpos
	push $9
	call grm3,add
	push $7
	push $8
	cthis m3elbum
	pop $5
	push "anm3bum"
	push $5
	cthis copyanima
	push $5
	spushs
	push "onstart"
	push "Match30"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push "onfinish"
	push "Match31"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $9
	spushs
	spop $a
	call [$a],getcx
	push $9
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setpos
	push $5
	call grm3w,add
	jmp l2286
l2285:
	jmp l2282
l2281:
	push "grm3"
	call m3grall,add
	push "m3tim1"
	push "Match32"
	cthis cycle=
	push A
	push "rdx"
	push 0.0
	push "rdy"
	push 0.0
	push "rspeed"
	push 10.0
	push "sela"
	push "null"
	push "sel2"
	push "null"
	push "icykl"
	push 0
	push "restx"
	push 0.0
	push "resty"
	push 0.0
	push "bclick"
	push 0
	call m3tim1,vars2
	push "m3tim2"
	push "Match33"
	cthis cycle=
	push "m3fnt"
	push sgmfontmonobold
	push 23
	cthis newfont
	localdef $10
	push 28
	pop $10
	localdef $11
	push 20
	pop $11
	localdef $12
	push 23
	pop $12
	new int,im3time
	push "match3_time"
	call dbconf,confmode
	pop im3time
	push "m3fnt"
	push $10
	cthis m3pointcol
	call anm3oknolewe,getpx
	push $11
	pop $b
	popax
	add $a,$b
	push 4
	pop $b
	popax
	add $a,$b
	call anm3oknolewe,getpy
	push $12
	pop $b
	popax
	add $a,$b
	push 701
	push "ms"
	push im3time
	push 1
	popax
	sub 0,$a
	new TextTimeCounter,m3ttc
	new int,im3points
	push 0
	pop im3points
	new int,im3pointlimit
	push "match3_points"
	call dbconf,confmode
	pop im3pointlimit
	push "m3txtpoints"
	push im3points
	push "m3fnt"
	cthis m3pointcol
	call anm3oknoprawe,getpx
	push $11
	pop $b
	popax
	add $a,$b
	call anm3oknoprawe,getpy
	push $12
	pop $b
	popax
	add $a,$b
	push 701
	cthis newtextposz
	push 0
	cthis m3points
	push A
	push "m3txtpoints"
	push "m3ttc"
	call m3grall,addlist
	push $1
	cthis path=
	push 0
	call anm3bg,getey
	popax
	sub 0,$a
	call m3grall,move
	push "m3timkurt"
	push "Match35"
	cthis cycle=
	push "idir"
	push 50
	call m3timkurt,var2
	push "onstart"
	push "Match37"
	call m3timkurt,addmethod
	call m3timkurt,play
	new tcramka,m3tcr
	new db,dbmatch3
	push LANGDIR
	push "match3_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbmatch3,load
	new db,m3dbts
	push "anm3skip"
	push "$scripts/common/skip.pyz"
	push 720
	cthis newanima
	new img,im3skip
	push LANG
	push "ger"
	cmpje
	cmp0
	je l2338
	push "anm3skip3"
	push "$scripts/common/next3.pyz"
	push 720
	cthis newanima
	push "anm3skip3"
	call im3skip,clone
	delete anm3skip3
	jmp l2337
l2338:
	push "anm3skip"
	call im3skip,clone
l2337:
	push "txtskip"
	call dbmatch3,dbget
	push "im3skip"
	cthis txtonbutton
	call im3skip,hide
	new img,im3again
	push A
	push "fra"
	push "esp"
	push "ger"
	call LANG,in
	cmp0
	je l2340
	push "anm3skip2"
	push "$scripts/common/next2.pyz"
	push 720
	cthis newanima
	push "anm3skip2"
	call im3again,clone
	delete anm3skip2
	jmp l2339
l2340:
	push "anm3skip"
	call im3again,clone
l2339:
	push "txtagain"
	call dbmatch3,dbget
	push "im3again"
	cthis txtonbutton
	call im3again,hide
	delete anm3skip
	end method
	method Match30
	push iGameMute
	neg
	cmp0
	je l2297
	call m3fxhit1,playif
l2297:
	end method
	method Match31
	cthis hide
	cthis getname
	call grm3b,remove
	call grm3b,empty
	cmp0
	je l2299
	push GAME
	spushs
	spop $a
	call [$a],m3spadek
l2299:
	end method
	method Match32
	push icykl
	push 0
	cmpje
	cmp0
	je l2301
	push sela
	spushs
	spop $a
	call [$a],getpx
	push sel2
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push rspeed
	pop $b
	popax
	div $a,$b
	psax
	pop rdx
	push sela
	spushs
	spop $a
	call [$a],getpy
	push sel2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push rspeed
	pop $b
	popax
	div $a,$b
	psax
	pop rdy
	push 0.0
	pop restx
	push 0.0
	pop resty
l2301:
	push icykl
	push rspeed
	cmpje
	cmp0
	je l2303
	localdef $1
	push sela
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	pop $1
	push sela
	spushs
	push sel2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spop $a
	call [$a],play
	push sel2
	spushs
	push $1
	spop $a
	call [$a],play
	push sela
	spushs
	spop $a
	call [$a],m3retpos
	push sel2
	spushs
	spop $a
	call [$a],m3retpos
	call anm3ramka,hide
	call anm3ramka2,hide
	call anm3ramka3,hide
	call anm3ramka4,hide
	push bclick
	cmp0
	je l2305
	cthis m3usun
	neg
	cmp0
	je l2307
	push sela
	push 0
	cthis m3change
	push sel2
	push 0
	cthis m3change
l2307:
	jmp l2304
l2305:
	push 0
	pop im3state
l2304:
	jmp l2302
l2303:
	push rdx
	popax
	add restx,$a
	pop restx
	push rdy
	popax
	add resty,$a
	pop resty
	localint $2
	push restx
	pop $2
	localint $3
	push resty
	pop $3
	push $2
	cmp0
	jne l2310
	push $3
	jmp l2311
l2309:
	push 0
	jmp l2311
l2310:
	push 1
l2311:
	cmp0
	je l2312
	push sela
	spushs
	push $2
	popax
	sub 0,$a
	push $3
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push sel2
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	push $2
	popax
	sub restx,$a
	pop restx
	push $3
	popax
	sub resty,$a
	pop resty
l2312:
	add icykl,1
	pop icykl
	cthis play
l2302:
	end method
	method Match33
	push "Match34"
	call grm3c,eval
	localint $1
	push 0
	pop $1
l2317:
	push $1
	call grm3c,size
	cmpjl
	cmp0
	je l2318
	jmp l2320
l2319:
	add $1,1
	pop $1
	jmp l2317
l2320:
	push $1
	call grm3c,get
	spushs
	spop $a
	call [$a],bonplace
	neg
	cmp0
	je l2322
	cthis play
	ret
l2322:
	jmp l2319
l2318:
	call grm3c,free
	cthis m3usun
	neg
	cmp0
	je l2324
	cthis m3initial
l2324:
	end method
	method Match34
	push bonplace
	neg
	cmp0
	je l2314
	push 0
	push 5
	cthis move
	cthis getpy
	push irow
	cthis m3py
	cmpjae
	cmp0
	je l2316
	cthis m3retpos
	push 1
	pop bonplace
l2316:
l2314:
	end method
	method Match35
	push 0
	push idir
	call m3grall,move
	push idir
	push 0
	cmpja
	cmp0
	je l2326
	call anm3bg,getpy
	call anm3bg,lody
	cmpjae
	jmp l2328
l2326:
	push 0
	jmp l2328
l2327:
	push 1
l2328:
	cmp0
	je l2329
	localdef $1
	call anm3bg,lody
	call anm3bg,getpy
	pop $b
	popax
	sub $a,$b
	pop $1
	push 0
	push $1
	call m3grall,move
	push "Match36"
	call grm3,eval
	push 15
	pop im3state
	push "start"
	cthis m3play
	jmp l2325
l2329:
	push idir
	push 0
	cmpjl
	cmp0
	je l2331
	call anm3bg,getey
	push 0
	cmpjl
	jmp l2333
l2331:
	push 0
	jmp l2333
l2332:
	push 1
l2333:
	cmp0
	je l2334
	call timendmatch3,play
	jmp l2330
l2334:
	cthis play
l2330:
l2325:
	end method
	method Match36
	call anm3bg,getpx
	call anm3bg,getpy
	call anm3bg,getex
	call anm3bg,getey
	cthis clip
	end method
	method Match37
	push iGameMute
	neg
	cmp0
	je l2336
	call m3fxmove,play
l2336:
	end method
	method m3restart
	push im3points
	popax
	sub 0,$a
	cthis m3points
	push "match3_points"
	call dbconf,confmode
	pop im3pointlimit
	call m3ttc,reset
	push 0
	call m3ttc,update
	call m3ttc,play
	end method
	method m3play
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],Match38
	end method
	method Match38
	localstring $1
	pop $1
	call m3dbts,free
	push $1
	spushs
	push "start"
	cmpst
	jne l2342
	spop $a
	push A
	push "sndm3start1"
	call dbmatch3,dbget
	push " "
	pop $b
	popax
	add $a,$b
	push im3pointlimit
	pop $b
	popax
	add $a,$b
	push " "
	pop $b
	popax
	add $a,$b
	push "sndm3start2"
	call dbmatch3,dbget
	pop $b
	popax
	add $a,$b
	push "sndm3start3"
	call dbmatch3,dbget
	push " "
	pop $b
	popax
	add $a,$b
	call m3ttc,sgettime
	pop $b
	popax
	add $a,$b
	push "sndm3start4"
	call dbmatch3,dbget
	push 1
	call m3dbts,dbbuild
	jmp l2341
l2342:
	push "ok"
	cmpst
	jne l2343
	spop $a
	push "sndm3win"
	call dbmatch3,dbget
	call m3dbts,dbaddlast
	jmp l2341
l2343:
	push "nobut"
	cmpst
	jne l2344
	spop $a
	push A
	push "sndm3fail1"
	call dbmatch3,dbget
	push "sndm3fail2"
	call dbmatch3,dbget
	push 1
	call m3dbts,dbbuild
	jmp l2341
l2344:
	push "no"
	cmpst
	jne l2345
	spop $a
	push A
	push "sndm3fail1"
	call dbmatch3,dbget
	push "sndm3fail3"
	call dbmatch3,dbget
	push 1
	call m3dbts,dbbuild
	jmp l2341
l2345:
	spop $a
l2341:
	push "null"
	push 16
	push "$var:m3dbts"
	push 20
	cthis grey
	push 0.2
	push iResX
	pop $b
	popax
	mul $a,$b
	push iResY
	push 5
	push 750
	push "center"
	new TextDb,tdsnd
	push "tdsnd"
	call m3tcr,view
	push "tdsnd"
	cthis deletegmobj
	call m3tcr,ashow
	end method
	method m3pointcol
	push 220
	push 220
	push 220
	ret
	end method
	method m3ttc_finish
	cthis stop
	push im3state
	push 2
	cmpjne
	cmp0
	je l2347
	push 2
	pop im3state
	call grm3b,empty
	cmp0
	je l2349
	call m3tim2,isplaying
	neg
	jmp l2351
l2349:
	push 0
	jmp l2351
l2350:
	push 1
l2351:
	cmp0
	je l2352
	push GAME
	spushs
	spop $a
	call [$a],m3finish1
l2352:
l2347:
	end method
	method m3is3
	localdef $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $1
	localdef $2
	push irow
	push icol
	push 2
	pop $b
	popax
	sub $a,$b
	cthis m3get
	pop $2
	localdef $3
	push irow
	push icol
	push 1
	pop $b
	popax
	sub $a,$b
	cthis m3get
	pop $3
	localdef $4
	push irow
	push icol
	push 1
	pop $b
	popax
	add $a,$b
	cthis m3get
	pop $4
	localdef $5
	push irow
	push icol
	push 2
	pop $b
	popax
	add $a,$b
	cthis m3get
	pop $5
	localdef $6
	push irow
	push 2
	pop $b
	popax
	sub $a,$b
	push icol
	cthis m3get
	pop $6
	localdef $7
	push irow
	push 1
	pop $b
	popax
	sub $a,$b
	push icol
	cthis m3get
	pop $7
	localdef $8
	push irow
	push 1
	pop $b
	popax
	add $a,$b
	push icol
	cthis m3get
	pop $8
	localdef $9
	push irow
	push 2
	pop $b
	popax
	add $a,$b
	push icol
	cthis m3get
	pop $9
	push $2
	push $3
	cmpje
	cmp0
	je l2353
	push $2
	push $1
	cmpje
	jmp l2355
l2353:
	push 0
	jmp l2355
l2354:
	push 1
l2355:
	cmp0
	jne l2357
	push $3
	push $1
	cmpje
	cmp0
	je l2358
	push $1
	push $4
	cmpje
	jmp l2360
l2358:
	push 0
	jmp l2360
l2359:
	push 1
l2360:
	cmp0
	jne l2357
	push $1
	push $4
	cmpje
	cmp0
	je l2361
	push $4
	push $5
	cmpje
	jmp l2363
l2361:
	push 0
	jmp l2363
l2362:
	push 1
l2363:
	jmp l2364
l2356:
	push 0
	jmp l2364
l2357:
	push 1
l2364:
	cmp0
	jne l2366
	push $6
	push $7
	cmpje
	cmp0
	je l2367
	push $6
	push $1
	cmpje
	jmp l2369
l2367:
	push 0
	jmp l2369
l2368:
	push 1
l2369:
	cmp0
	jne l2371
	push $7
	push $1
	cmpje
	cmp0
	je l2372
	push $1
	push $8
	cmpje
	jmp l2374
l2372:
	push 0
	jmp l2374
l2373:
	push 1
l2374:
	cmp0
	jne l2371
	push $1
	push $8
	cmpje
	cmp0
	je l2375
	push $8
	push $9
	cmpje
	jmp l2377
l2375:
	push 0
	jmp l2377
l2376:
	push 1
l2377:
	jmp l2378
l2370:
	push 0
	jmp l2378
l2371:
	push 1
l2378:
	jmp l2379
l2365:
	push 0
	jmp l2379
l2366:
	push 1
l2379:
	end method
	method m3points
	localint $1
	pop $1
	push $1
	popax
	add im3points,$a
	pop im3points
	push ""
	push im3points
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push im3pointlimit
	pop $b
	popax
	add $a,$b
	call m3txtpoints,txtset
	end method
	method m3initial
	call anm3ramka,hide
	call anm3ramka2,hide
	call anm3ramka3,hide
	call anm3ramka4,hide
	push im3points
	push im3pointlimit
	cmpjae
	cmp0
	je l2381
	call m3ttc,isplaying
	jmp l2383
l2381:
	push 0
	jmp l2383
l2382:
	push 1
l2383:
	cmp0
	je l2384
	call m3ttc,stop
	push 2
	pop im3state
l2384:
	push im3state
	push 2
	cmpje
	cmp0
	je l2386
	cthis m3finish1
	jmp l2385
l2386:
	push im3state
	push 15
	cmpjne
	cmp0
	je l2388
	push im3state
	push 13
	cmpjne
	cmp0
	je l2388
	push im3state
	push 14
	cmpjne
	jmp l2390
l2388:
	push 0
	jmp l2390
l2389:
	push 1
l2390:
	cmp0
	je l2391
	push 0
	pop im3state
l2391:
l2385:
	end method
	method m3finish1
	push 13
	pop im3state
	push im3points
	push im3pointlimit
	cmpjae
	cmp0
	je l2393
	push "ok"
	cthis m3play
	jmp l2392
l2393:
	call im3points,to_r
	call im3pointlimit,to_r
	pop $b
	popax
	div $a,$b
	psax
	push 80.0
	cmpjae
	cmp0
	je l2395
	push "nobut"
	cthis m3play
	jmp l2394
l2395:
	push "no"
	cthis m3play
l2394:
	push 1333
	pop im3state
l2392:
	end method
	method m3tcr_show
	push im3state
	push 1333
	cmpje
	cmp0
	je l2397
	localdef $1
	call anskip,getcx
	call im3again,getw
	call im3skip,getw
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	call anskip,getpy
	call im3again,setpos
	call im3again,show
	call im3again,getex
	push 2
	pop $b
	popax
	add $a,$b
	call anskip,getpy
	call im3skip,setpos
	call im3skip,show
	call m3tcr,hideskip
	push 13
	pop im3state
l2397:
	end method
	method m3finish
	call m3timkurt,idir
	popax
	sub 0,$a
	call m3timkurt,idir=
	call m3timkurt,idir
	push 0
	cmpjl
	cmp0
	je l2399
	push "Match39"
	call grm3,eval
l2399:
	call anm3ramka,anhide
	call anm3ramka2,anhide
	call anm3ramka3,anhide
	call anm3ramka4,anhide
	call m3timkurt,play
	end method
	method Match39
	push 0
	push 0
	push iResX
	push iResY
	cthis clip
	end method
	method m3retpos
	push icol
	cthis m3px
	push irow
	cthis m3py
	cthis ansetbpos
	end method
	method m3get
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	jne l2402
	push $1
	push m3rows
	cmpjae
	cmp0
	jne l2402
	push $2
	push 0
	cmpjl
	cmp0
	jne l2402
	push $2
	push m3cols
	cmpjae
	jmp l2403
l2401:
	push 0
	jmp l2403
l2402:
	push 1
l2403:
	cmp0
	je l2404
	push 1
	popax
	sub 0,$a
	jmp l2400
l2404:
	push "anm3"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
l2400:
	end method
	method m3px
	localint $1
	pop $1
	call anm3bg,getpx
	push $1
	push im3w
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	end method
	method m3py
	localint $1
	pop $1
	call anm3bg,getpy
	push $1
	push im3h
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	end method
	method m3edge
	call anm3bg,getpy
	end method
	method m3exit
	delete im3again
	delete im3skip
	delete m3fxhit1
	delete m3fxmove
	call m3tcr,free
	push "m3tcr"
	cthis deletegmobj
	delete m3dbts
	delete dbmatch3
	delete m3timkurt
	delete im3time
	delete im3points
	delete im3pointlimit
	delete m3txtpoints
	push "m3ttc"
	cthis deletegmobj
	delete m3fnt
	call grm3,deleteallgm
	delete grm3
	call grm3w,deleteallgm
	delete grm3w
	delete vecm3
	delete grm3b
	delete grm3c
	call grm3bg2,deleteallgm
	delete anm3bg2
	delete grm3bg2
	delete m3tim1
	delete m3tim2
	delete anm3e
	delete anm3bg
	delete anm3ramka4
	delete anm3ramka3
	delete anm3ramka2
	delete anm3ramka
	delete anm3bum
	delete im3state
	delete m3rows
	delete m3cols
	delete im3w
	delete im3h
	delete im3level
	delete anm3oknolewe
	delete anm3oknoprawe
	delete m3grall
	end method
	method m3_lclick
	push im3state
	push 0
	cmpje
	cmp0
	je l2406
	call mouse,getpos
	push 1
	push 0
	call grm3,isin
	jmp l2408
l2406:
	push 0
	jmp l2408
l2407:
	push 1
l2408:
	cmp0
	je l2409
	call grm3,getsfound
	push 1
	cthis m3change
	jmp l2405
l2409:
	push im3state
	push 13
	cmpje
	cmp0
	je l2411
	call mouse,getpos
	push 1
	push 1
	call anskip,isin
	cmp0
	je l2413
	push 14
	pop im3state
	call im3skip,hide
	call im3again,hide
	call m3tcr,ahide
	cthis m3finish
	jmp l2412
l2413:
	call mouse,getpos
	push 1
	push 1
	call im3again,isin
	cmp0
	je l2415
	push 0
	pop im3state
	call im3skip,hide
	call im3again,hide
	call m3tcr,ahide
	cthis m3restart
	call m3ttc,play
	jmp l2414
l2415:
	call mouse,getpos
	push 1
	push 1
	call im3skip,isin
	cmp0
	je l2417
	push 14
	pop im3state
	call im3skip,hide
	call im3again,hide
	call m3tcr,ahide
	push im3pointlimit
	push 1
	pop $b
	popax
	add $a,$b
	pop im3points
	cthis m3finish
l2417:
l2414:
l2412:
	jmp l2410
l2411:
	push im3state
	push 15
	cmpje
	cmp0
	je l2419
	push 0
	pop im3state
	call m3tcr,ahide
	call m3ttc,play
l2419:
l2410:
l2405:
	end method
	method m3change
	localstring $1
	localint $2
	pop $2
	pop $1
	call anm3ramka,isvisible
	cmp0
	je l2421
	localdef $3
	call m3tim1,sela
	pop $3
	push $1
	push $3
	cmpjne
	cmp0
	je l2423
	localdef $4
	push $1
	spushs
	spop $a
	call [$a],irow
	push $3
	spushs
	spop $a
	call [$a],irow
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $4
	localdef $5
	push $1
	spushs
	spop $a
	call [$a],icol
	push $3
	spushs
	spop $a
	call [$a],icol
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $5
	push $4
	push 0
	cmpje
	cmp0
	je l2425
	push $5
	push 1
	cmpje
	jmp l2427
l2425:
	push 0
	jmp l2427
l2426:
	push 1
l2427:
	cmp0
	jne l2429
	push $4
	push 1
	cmpje
	cmp0
	je l2430
	push $5
	push 0
	cmpje
	jmp l2432
l2430:
	push 0
	jmp l2432
l2431:
	push 1
l2432:
	jmp l2433
l2428:
	push 0
	jmp l2433
l2429:
	push 1
l2433:
	cmp0
	je l2434
	push $1
	call anm3ramka2,m3set
	push im3state
	push 2
	cmpjne
	cmp0
	je l2436
	push 1
	pop im3state
	jmp l2435
l2436:
l2435:
	push $2
	call m3tim1,bclick=
	push 0
	call m3tim1,icykl=
	call m3tim1,play
	jmp l2424
l2434:
	push $1
	call anm3ramka,m3set
l2424:
l2423:
	jmp l2420
l2421:
	push $1
	call anm3ramka,m3set
l2420:
	end method
	method m3set
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setpos
	cthis show
	push sram
	spushs
	spop $a
	call [$a],show
	push sram
	spushs
	cthis getpx
	cthis getpy
	spop $a
	call [$a],setpos
	push "sel"
	cthis getname
	spushs
	push 0
	push 1
	spop $a
	call $a,gete
	pop $b
	popax
	add $a,$b
	push "="
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	call m3tim1,[$d]
	end method
	method m3usun
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	push 0
	pop $5
l2437:
	push $5
	push m3rows
	cmpjl
	cmp0
	je l2438
	jmp l2440
l2439:
	add $5,1
	pop $5
	jmp l2437
l2440:
	localint $6
	push 0
	pop $6
l2441:
	push $6
	push m3cols
	cmpjl
	cmp0
	je l2442
	jmp l2444
l2443:
	add $6,1
	pop $6
	jmp l2441
l2444:
	push $5
	push 2
	pop $b
	popax
	sub $a,$b
	push $6
	cthis m3get
	pop $3
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	push $6
	cthis m3get
	pop $2
	push $5
	push $6
	cthis m3get
	pop $1
	push $3
	push $2
	cmpje
	cmp0
	je l2446
	push $2
	push $1
	cmpje
	jmp l2448
l2446:
	push 0
	jmp l2448
l2447:
	push 1
l2448:
	cmp0
	je l2449
	push $5
	push 2
	pop $b
	popax
	sub $a,$b
	push $6
	cthis m3setbum
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	push $6
	cthis m3setbum
	push $5
	push $6
	cthis m3setbum
l2449:
	push $5
	push $6
	push 2
	pop $b
	popax
	sub $a,$b
	cthis m3get
	pop $3
	push $5
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	cthis m3get
	pop $2
	push $3
	push $2
	cmpje
	cmp0
	je l2451
	push $2
	push $1
	cmpje
	jmp l2453
l2451:
	push 0
	jmp l2453
l2452:
	push 1
l2453:
	cmp0
	je l2454
	push $5
	push $6
	push 2
	pop $b
	popax
	sub $a,$b
	cthis m3setbum
	push $5
	push $6
	push 1
	pop $b
	popax
	sub $a,$b
	cthis m3setbum
	push $5
	push $6
	cthis m3setbum
l2454:
	jmp l2443
l2442:
	jmp l2439
l2438:
	push 0
	pop $5
l2455:
	push $5
	push m3rows
	cmpjl
	cmp0
	je l2456
	jmp l2458
l2457:
	add $5,1
	pop $5
	jmp l2455
l2458:
	push 0
	pop $6
l2459:
	push $6
	push m3cols
	cmpjl
	cmp0
	je l2460
	jmp l2462
l2461:
	add $6,1
	pop $6
	jmp l2459
l2462:
	localdef $7
	push $5
	push $6
	cthis m3el
	pop $7
	push $7
	spushs
	spop $a
	call [$a],bbum
	cmp0
	je l2464
	push $7
	spushs
	push 0
	spop $a
	call [$a],stop
	push $7
	spushs
	spop $a
	call [$a],hide
	push $5
	push $6
	cthis m3elbum
	pop $7
	push $7
	call grm3b,add
	push $7
	spushs
	push 0
	spop $a
	call [$a],play
l2464:
	jmp l2461
l2460:
	jmp l2457
l2456:
	call grm3b,size
	cmp0
	je l2466
	call grm3b,size
	cthis m3points
	push 1
	jmp l2465
l2466:
	push 0
l2465:
	end method
	method m3el
	localint $1
	localint $2
	pop $2
	pop $1
	push "anm3"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	end method
	method m3elbum
	localint $1
	localint $2
	pop $2
	pop $1
	push "anm3w"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	end method
	method m3setbum
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	jne l2469
	push $2
	push 0
	cmpjl
	jmp l2470
l2468:
	push 0
	jmp l2470
l2469:
	push 1
l2470:
	cmp0
	je l2471
	ret
l2471:
	push $1
	push $2
	cthis m3el
	spushs
	push 1
	spop $a
	call [$a],bbum=
	end method
	method m3spadek
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localstring $7
	localint $8
	push 0
	pop $8
l2472:
	push $8
	push m3cols
	cmpjl
	cmp0
	je l2473
	jmp l2475
l2474:
	add $8,1
	pop $8
	jmp l2472
l2475:
	push 0
	pop $1
	push m3rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push 1
	pop $5
l2476:
	push $2
	push 0
	cmpjae
	cmp0
	je l2477
	push $2
	push $8
	cthis m3el
	pop $6
	push $6
	spushs
	spop $a
	call [$a],bbum
	cmp0
	je l2479
	push $6
	spushs
	push 0
	spop $a
	call [$a],bbum=
	push $2
	pop $4
	push 0
	pop $3
l2480:
	push $4
	push 1
	cmpjae
	cmp0
	je l2481
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	cthis m3el
	spushs
	spop $a
	call [$a],bbum
	jmp l2483
l2481:
	push 0
	jmp l2483
l2482:
	push 1
l2483:
	cmp0
	je l2484
	add $3,1
	pop $3
	sub $4,1
	pop $4
	jmp l2480
l2484:
	push $4
	push 0
	cmpje
	cmp0
	je l2486
	push $6
	spushs
	push im3level
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],play
	push $6
	spushs
	push 1
	popax
	sub 0,$a
	push $6
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],nofframes
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],setframe
	push $6
	spushs
	push $6
	spushs
	spop $a
	call [$a],getpx
	cthis m3edge
	push $5
	push im3h
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
	add $5,1
	pop $5
	jmp l2485
l2486:
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	push $8
	cthis m3el
	pop $7
	push $7
	spushs
	push 1
	spop $a
	call [$a],bbum=
	localdef $9
	push $7
	spushs
	spop $a
	call [$a],framenr
	pop $9
	push $6
	spushs
	push $7
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spop $a
	call [$a],play
	push $6
	spushs
	push 1
	popax
	sub 0,$a
	push $9
	spop $a
	call [$a],setframe
	push $6
	spushs
	push $7
	spushs
	spop $a
	call [$a],getpx
	push $7
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
l2485:
	push $6
	spushs
	push 0
	spop $a
	call [$a],bonplace=
	push $6
	call grm3c,add
l2479:
	sub $2,1
	pop $2
	jmp l2476
l2477:
	jmp l2474
l2473:
	call grm3c,empty
	cmp0
	je l2488
	cthis m3initial
	jmp l2487
l2488:
	call m3tim2,play
l2487:
	end method
	end class

	new string,sAskerGame
	new string,sNextGame
	push "null"
	pop sNextGame
	new int,iProfilId
	new int,AdventureMode
	push 0
	pop AdventureMode
	new int,iGameMute
	push 0
	pop iGameMute
	class StdGame
	parent classadv
	parent GameController
	parent Localize
	parent Match3
	method init
	localstring $1
	pop $1
	push 0
	pop igmstate
	push "init"
	pop sgmstate
	clparent classadv,init
	push $1
	clparent GameController,init
	clparent Localize,init
	push 0
	push 0
	call clbuts,setcursorpos
	push 0
	push 0
	call claskexit,setcursorpos
	push $1
	cthis path=
	push SNDPATH
	cthis setwavpath
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	call claskexit,reset
	call advmouse,setstd
	push "global.sav"
	new classfullsave,clsmen
	call clsmen,stdload
	new MusicTit,mus
	cthis setgamevolume
	push AdventureMode
	cmp0
	je l2490
	cthis loadsaver
	push AdventureMode
	push 1
	cmpje
	cmp0
	je l2492
	push 2
	pop AdventureMode
	call clsave,free
	push igmdebug
	cmp0
	je l2494
	push "scripts/mainloader/init.dsc"
	new Script,scrl
l2494:
	jmp l2491
l2492:
	call clsave,stdload
l2491:
	push "currentgame"
	cthis getname
	call clsave,set
	call clsave,stdsave
l2490:
	new int,bmatch3mode
	push 0
	pop bmatch3mode
	new Button,but1
	cthis cutscene
	new db,dblangcom
	push LANGDIR
	push "commontxt_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dblangcom,load
	push "_anskip"
	push "$scripts/common/skip.pyz"
	push 0
	cthis newanima
	new img,anskip
	push "_anskip"
	call anskip,clone
	delete _anskip
	new int,TextDialogSize
	push 16
	pop TextDialogSize
	push "next"
	call dblangcom,dbget
	push "anskip"
	cthis txtonbutton
	call anskip,hide
	push "skip"
	cthis sfx=
	call anskip,StdGame0
	cthis getname
	spushs
	push A
	push "Intro"
	push "MainMenu"
	spop $h
	call $h,in
	neg
	cmp0
	je l2496
	push "$scripts/common/butmenu.pyz 1900"
	cthis img=
	call anbutmenu,StdGame2
l2496:
	push "$scripts/common/glosnik.pyz 800"
	cthis img=
	call anglosnik,StdGame4
	new int,iduchstate
	push 30
	pop iduchstate
	push "grshowhintb"
	push "$scripts/common/showhintb"
	push 800
	cthis newgrimg
	push "lastplayed"
	push "null"
	call grshowhintb,var2
	call grshowhintb,hide
	push "grshowhintgold"
	push "$scripts/common/hintgold"
	push 800
	cthis newgrimg
	push "lastplayed"
	push "null"
	call grshowhintgold,var2
	call grshowhintgold,hide
	end method
	method StdGame0
	cthis Button_stdms
	push "butclick"
	push "StdGame1"
	cthis addmethod
	end method
	method StdGame1
	call fxskip,play
	push 1
	cthis cactsndstop
	end method
	method StdGame2
	cthis Button_stdms
	push "butclick"
	push "StdGame3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method StdGame3
	call claskexit,askexittomenu
	call fxskip,play
	end method
	method StdGame4
	push "game_mute"
	call clsmen,get
	pop iGameMute
	push 0
	push iGameMute
	cthis setframe
	cthis Button_stdms
	push "butclick"
	push "StdGame5"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method StdGame5
	cthis framenr
	push 0
	cmpje
	cmp0
	je l2498
	push 1
	pop iGameMute
	push "StdGame6"
	call _grsfxs,eval
	call gameapi,pausemusic
	jmp l2497
l2498:
	push 0
	pop iGameMute
	push "StdGame7"
	call _grsfxs,eval
	call gameapi,resumemusic
l2497:
	cthis game_mute
	push 0
	push iGameMute
	cthis setframe
	push "game_mute"
	push iGameMute
	call clsmen,set
	call clsmen,stdsave
	end method
	method StdGame6
	push 0
	cthis setvol
	end method
	method StdGame7
	push myvol
	cthis setvol
	end method
	method txtonbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push "_fnbold"
	pop $3
	push $3
	push "configs/fonts/timesbd.ttf"
	push TextDialogSize
	cthis newfont
	push "_txtnext"
	push $1
	push $3
	cthis black
	cthis newtext
	push $2
	spushs
	spop $a
	call [$a],getcx
	call _txtnext,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getcy
	call _txtnext,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call _txtnext,setpos
	push $2
	spushs
	push "_txtnext"
	spop $a
	call [$a],blit
	delete _txtnext
	push $3
	spushs
	spop $d
	delete [$d]
	end method
	method sfx=
	localstring $1
	pop $1
	push $1
	clparent classgame,sfx=
	call _grsfxs,last
	pop $1
	push $1
	spushs
	push "myvol"
	push $1
	spushs
	spop $a
	call [$a],getvol
	spop $a
	call [$a],var2
	push iGameMute
	cmp0
	je l2500
	push $1
	spushs
	push 0
	spop $a
	call [$a],setvol
l2500:
	end method
	method setgamevolume
	cthis loadmusicvolume
	call mus,musicvolume=
	cthis loadsndvolume
	call engine,setsndvol
	end method
	method stdmusicvol
	push 50
	end method
	method loadmusicvolume
	localint $1
	cthis stdmusicvol
	pop $1
	localdef $2
	push "music_volume"
	push "currentprofile"
	call clsmen,get
	pop $b
	popax
	add $a,$b
	call clsmen,get
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l2502
	push $2
	pop $1
l2502:
	push $1
	end method
	method stdsndvol
	push 60
	end method
	method loadsndvolume
	localint $1
	cthis stdsndvol
	pop $1
	localdef $2
	push "sfx_volume"
	push "currentprofile"
	call clsmen,get
	pop $b
	popax
	add $a,$b
	call clsmen,get
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l2504
	push $2
	pop $1
l2504:
	push $1
	end method
	method loadsaver
	push "profile_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push ".sav"
	pop $b
	popax
	add $a,$b
	new guitems,clsave
	end method
	method cutscene
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	end method
	method gotoadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push "gameadvdef"
	call gameapi,play
	end method
	method gotoadv2
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push "null"
	pop sgmgame
	push $2
	call gameapi,play
	end method
	method crect
	push 600
	push 196
	push 403
	push 497
	new Rect,rec
	end method
	method crect2
	push 6
	push 174
	push 1012
	push 530
	new Rect,rec2
	end method
	method cshowbut
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call clbuts,StdGame8
	end method
	method StdGame8
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push "getcx"
	call buts,callimgfun
	push $1
	push "getcy"
	call buts,callimgfun
	push $2
	call clp,show
	end method
	method napisshow
	localint $1
	localint $2
	pop $2
	pop $1
	cthis show
	push $1
	push $2
	cthis move
	end method
	method napispod
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 5
	pop $b
	popax
	add $a,$b
	cthis napisshow
	end method
	method timplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],StdGame9
	end method
	method StdGame9
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis timer=
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method advclick
	push igmdebug
	cmp0
	je l2506
	push igmstate
	push 0
	cmpje
	cmp0
	jne l2509
	push igmstate
	push 5
	cmpje
	jmp l2510
l2508:
	push 0
	jmp l2510
l2509:
	push 1
l2510:
	jmp l2511
l2506:
	push 0
	jmp l2511
l2507:
	push 1
l2511:
	cmp0
	je l2512
	push 1
	cthis cactsndstop
l2512:
	end method
	method key_down
	push igmdebug
	cmp0
	je l2514
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l2514
	push "r"
	call keyboard,iskey
	jmp l2516
l2514:
	push 0
	jmp l2516
l2515:
	push 1
l2516:
	cmp0
	je l2517
	cthis crestart
l2517:
	end method
	method askfor
	localdef $1
	pop $1
	push igmstate
	push 111
	cmpjne
	cmp0
	je l2519
	push $1
	pop sAskerGame
	call claskexit,askexittomenu
l2519:
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method onmusicfin
	call mus,play
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	push igmsubtitle
	cmp0
	je l2521
	call subtitle,reset
l2521:
	end method
	method mhobutmask
	push 0
	cthis _mhobut
	end method
	method mhobut
	push 1
	cthis _mhobut
	end method
	method _mhobut
	localint $1
	pop $1
	push $1
	cmp0
	je l2523
	cthis Button_isinalpha
	jmp l2522
l2523:
	cthis Button_isinvisalpha
l2522:
	push "butmoveon"
	push "StdGame10"
	cthis addmethod
	push "butmoveoff"
	push "StdGame11"
	cthis addmethod
	push "butclick"
	push "StdGame12"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method StdGame12
	push igmstate
	push 1
	cmpje
	cmp0
	jne l2526
	push sgmstate
	push "hoout"
	cmpje
	jmp l2527
l2525:
	push 0
	jmp l2527
l2526:
	push 1
l2527:
	cmp0
	je l2528
	cthis mho_click
	cthis actionname
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	call but1,onmousemove
l2528:
	end method
	method mhobjmask
	push 0
	cthis _mhobj
	end method
	method mhobj
	push 1
	cthis _mhobj
	end method
	method _mhobj
	localint $1
	pop $1
	push $1
	cmp0
	je l2530
	cthis Button_isinalpha
	jmp l2529
l2530:
	cthis Button_isinvisalpha
l2529:
	push "butmoveon"
	push "StdGame13"
	cthis addmethod
	push "butmoveoff"
	push "StdGame14"
	cthis addmethod
	push "butclick"
	push "StdGame15"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method StdGame13
	call advmouse,setact
	end method
	method StdGame14
	call advmouse,setstd
	end method
	method StdGame15
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2532
	ret
l2532:
	cthis getname
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstdenter
	push "StdGame16"
	call ccs,enter
	end method
	method StdGame16
	push 1
	pop igmstate
	end method
	method mprzejdzclick
	localstring $1
	pop $1
	push igmstate
	push 2
	cmpjne
	cmp0
	je l2534
	push $1
	cthis mprzejdz
l2534:
	end method
	method mprzejdz
	localstring $1
	pop $1
	push 2
	pop igmstate
	push $1
	pop sNextGame
	push 1000
	call mus,fadeout
	push "StdGame17"
	call ccs,close
	end method
	method StdGame17
	push "clsave"
	cthis hasvar
	cmp0
	je l2536
	push "last_scene"
	push GAME
	call clsave,set
	call clsave,stdsave
l2536:
	push sNextGame
	call gameapi,play
	end method
	method mouse_lclick
	push bmatch3mode
	cmp0
	je l2538
	cthis m3_lclick
	jmp l2537
l2538:
	cthis tit_lclick
l2537:
	end method
	method mprogress
	push "txtprg"
	push "Work in progress"
	push 48
	cthis stdfont
	cthis white
	cthis newtext
	call txtprg,txtcenterscreen
	end method
	method stdgo
	push 1
	pop igmstate
	end method
	method loadsnddb
	push "dbsnd"
	cthis hasvar
	cmp0
	je l2540
	ret
l2540:
	push "snd_"
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l2542
	push "dbsnd"
	push "snd_"
	cthis lang_db
	jmp l2541
l2542:
	new db,dbsnd
l2541:
	new tcramka,tcr
	new db,dbts
	push LANGDIR
	push "Common_snd_"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbts,load
	push "dbts"
	push 0
	call dbts,getrowsno
	call dbsnd,dbaddrowfromto
	call dbts,free
	push "lektordoors"
	push "lektordoors"
	push "stdret"
	cthis snd=
	push "lektorhodone"
	push "lektorhodone"
	push "stdret"
	cthis snd=
	push "lektorclicks"
	push "lektorclicks"
	push "StdGame18"
	cthis snd=
	push AdventureMode
	cmp0
	je l2546
	push "pogadal"
	push "ho_ukarany"
	call clsave,bis
	call lektorclicks,var2
l2546:
	end method
	method StdGame18
	call tcr,ahide
	push 1
	pop pogadal
	call timhokara,isplaying
	neg
	cmp0
	je l2544
	push 1
	pop igmstate
l2544:
	end method
	method stdret
	call tcr,ahide
	push 1
	pop igmstate
	end method
	method titsounds=
	cthis loadsnddb
	cthis sounds=
	end method
	method txtsayl
	localstring $1
	pop $1
	push $1
	push "sayl"
	cthis _txtplay
	end method
	method txtsayr
	localstring $1
	pop $1
	push $1
	push "sayr"
	cthis _txtplay
	end method
	method txtthinkl
	localstring $1
	pop $1
	push $1
	push "thinkl"
	cthis _txtplay
	end method
	method txtthinkr
	localstring $1
	pop $1
	push $1
	push "thinkr"
	cthis _txtplay
	end method
	method txtplay
	localstring $1
	pop $1
	push $1
	push "null"
	cthis _txtplay
	end method
	method _txtplay
	localstring $1
	localstring $2
	pop $2
	pop $1
	push GAME
	spushs
	push $1
	push $2
	spop $a
	call [$a],StdGame19
	end method
	method StdGame19
	localstring $1
	localstring $2
	pop $2
	pop $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l2548
	push 0
	pop igmstate
l2548:
	call dbts,free
	localdef $3
	push $1
	call dbsnd,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l2550
	localint $4
	push 3
	pop $4
l2551:
	push $4
	push $3
	call dbsnd,getcolsno
	cmpjl
	cmp0
	je l2552
	jmp l2554
l2553:
	add $4,1
	pop $4
	jmp l2551
l2554:
	localdef $5
	call dbts,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
	push $5
	push $3
	push $4
	call dbsnd,get
	call dbts,add
	jmp l2553
l2552:
	push $3
	push 1
	call dbsnd,get
	spushs
	push A
	push "sayl"
	push "sayr"
	push "thinkl"
	push "thinkr"
	spop $h
	call $h,in
	cmp0
	je l2556
	push $3
	push 1
	call dbsnd,get
	pop $2
l2556:
	localint $6
	push "dialog_chars:"
	call dbconf,dbget
	pop $6
	push $2
	push "null"
	cmpje
	cmp0
	je l2558
	push "null"
	push TextDialogSize
	push "$var:dbts"
	push 20
	cthis grey
	push $3
	push 1
	call dbsnd,get
	spushs
	spop $h
	call $h,to_r
	push iResX
	pop $b
	popax
	mul $a,$b
	push $3
	push 2
	call dbsnd,get
	spushs
	spop $h
	call $h,to_r
	push iResY
	pop $b
	popax
	mul $a,$b
	push 5
	push 750
	push "limit_"
	push $6
	pop $b
	popax
	add $a,$b
	new TextDb,tdsnd
	push "tdsnd"
	call tcr,view
	jmp l2557
l2558:
	push "null"
	push 16
	push "$var:dbts"
	push 20
	cthis grey
	push 0
	push 0
	push 5
	push 750
	push "limit_"
	push $6
	pop $b
	popax
	add $a,$b
	new TextDb,tdsnd
	push $1
	call tcr,speaker=
	push $2
	spushs
	push "tdsnd"
	spop $d
	call tcr,[$d]
l2557:
	push "tdsnd"
	cthis deletegmobj
	call tcr,ashow
l2550:
	push $1
	cthis cbplay
	end method
	method snd=
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],StdGame20
	end method
	method StdGame20
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push igmsoundson
	cmp0
	je l2560
	push $1
	push $2
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsndfree
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l2559
l2560:
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l2562
	localdef $5
	push ""
	pop $5
	localint $6
	push 3
	pop $6
l2563:
	push $6
	push $4
	call dbsnd,getcolsno
	cmpjl
	cmp0
	je l2564
	jmp l2566
l2565:
	add $6,1
	pop $6
	jmp l2563
l2566:
	push $4
	push $6
	call dbsnd,get
	popax
	add $5,$a
	pop $5
	jmp l2565
l2564:
	push $1
	call $5,length
	push _itimersnddelay
	pop $b
	popax
	mul $a,$b
	push 1
	cthis newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "StdGame21"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l2562:
l2559:
	end method
	method StdGame21
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method foto_album
	push GAME
	spushs
	spop $a
	call [$a],StdGame22
	end method
	method StdGame22
	localdef $1
	cthis getgraphpath
	pop $1
	push "album"
	cthis path=
	push A
	push "al.pyz 700"
	push "fotos.pyzGH 710"
	cthis imgs=
	push "albumP"
	cthis sfx=
	localint $2
	call anfotos,nofactions
	pop $2
	new int,_idfoto
	localint $3
	push 1
	pop $3
l2567:
	push $3
	push $2
	cmpjle
	cmp0
	je l2568
	jmp l2570
l2569:
	add $3,1
	pop $3
	jmp l2567
l2570:
	localdef $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grfotos,get
	pop $4
	push "duch"
	push $3
	pop $b
	popax
	add $a,$b
	push "_found"
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l2572
	push $4
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $4
	spushs
	spop $a
	call [$a],show
l2572:
	jmp l2569
l2568:
	new itemadder,clduch
	push $1
	cthis setgraphpath
	end method
	method foto_albumout
	push GAME
	spushs
	spop $a
	call [$a],StdGame23
	end method
	method StdGame23
	delete fxalbum
	call clduch,free
	delete clduch
	delete _idfoto
	call grfotos,deleteloaded
	delete grfotos
	delete anal
	end method
	method foto_show
	localint $1
	pop $1
	push "duch"
	push $1
	pop $b
	popax
	add $a,$b
	push "_found"
	pop $b
	popax
	add $a,$b
	call clsave,bset
	localdef $2
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call grfotos,get
	pop $2
	push $2
	spushs
	push $2
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $2
	push "foto_shown"
	call clduch,showitem
	end method
	method foto_to_album
	localint $1
	pop $1
	push $1
	pop _idfoto
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call grfotos,get
	push 15
	push "StdGame24"
	call clduch,gotonextfr
	end method
	method StdGame24
	localdef $1
	push _idfoto
	push 1
	pop $b
	popax
	sub $a,$b
	call grfotos,get
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	cthis foto_in_album
	end method
	method klucz_show
	localint $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],StdGame25
	end method
	method StdGame25
	localint $1
	pop $1
	new itemadder,clklucz
	push "ma_klucz"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bset
	new int,_idklucz
	push "fxfoundkey"
	cthis hasvar
	neg
	cmp0
	je l2574
	push "foundkey 80"
	cthis sfx=
l2574:
	call fxfoundkey,play
	push $1
	call grklucze,get
	push "klucz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_shown"
	pop $b
	popax
	add $a,$b
	call clklucz,showitem
	end method
	method klucz_to_kolo
	localint $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],StdGame26
	end method
	method StdGame26
	localint $1
	pop $1
	push $1
	pop _idklucz
	push "fxtolist0"
	cthis hasvar
	neg
	cmp0
	je l2576
	push "tolist0"
	cthis sfx=
l2576:
	call fxtolist0,play
	push $1
	call grklucze,get
	push 15
	push "StdGame27"
	call clklucz,gotonextfr
	end method
	method StdGame27
	localdef $1
	push _idklucz
	call grklucze,get
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push "klucz"
	push _idklucz
	pop $b
	popax
	add $a,$b
	push "_in_kolo"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method gogo_duch
	push GAME
	spushs
	push "_duch_poser"
	push "StdGame28"
	spop $a
	call [$a],cycle=
	call _duch_poser,play
	end method
	method StdGame28
	call and2,getpx
	call and2,getpy
	call anduch,setpos
	call and2,ansetnextfr
	cthis play
	end method
	method stop_duch
	push 0
	call _duch_poser,stop
	end method
	method load_duch
	localstring $1
	pop $1
	call grels,hide
	push "anduch"
	push $1
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 320
	cthis newanima
	push "anwybuch"
	push "$scripts/common/wybuch.pyz"
	push 330
	cthis newanima
	call anwybuch,hide
	push "anduch"
	push "and2"
	cthis copyanima
	call and2,hide
	push 1
	push 0
	call and2,setframe
	push 0
	call anduch,play
	push "onendframe"
	push "StdGame29"
	call anwybuch,addmethod
	new int,iduchstep
	push 10
	pop iduchstep
	call anduch,StdGame30
	push "timduchwybuch"
	push "StdGame33"
	cthis cycle=
	end method
	method StdGame29
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l2578
	call grels,show
	call timduchwybuch,play
l2578:
	end method
	method StdGame30
	cthis Button_stdalpha
	push "butclick"
	push "StdGame31"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method StdGame31
	push igmstate
	push iduchstate
	cmpje
	cmp0
	je l2580
	push 0
	call _duch_poser,stop
	cthis anhide
	push 0
	call and2,stop
	cthis getcx
	cthis getcy
	call anwybuch,setpos
	push 0
	call anwybuch,play
	push "StdGame32"
	call grels,eval
l2580:
	end method
	method StdGame32
	push A
	push "stepx"
	call anwybuch,getcx
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push iduchstep
	pop $b
	popax
	div $a,$b
	psax
	push "stepy"
	call anwybuch,getcy
	cthis getpy
	pop $b
	popax
	sub $a,$b
	push iduchstep
	pop $b
	popax
	div $a,$b
	psax
	cthis vars2
	push iduchstep
	push stepx
	pop $b
	popax
	mul $a,$b
	push iduchstep
	push stepy
	pop $b
	popax
	mul $a,$b
	cthis move
	end method
	method StdGame33
	push "StdGame34"
	call grels,eval
	sub iduchstep,1
	pop iduchstep
	push iduchstep
	push 0
	cmpjle
	cmp0
	je l2582
	cthis duch_wybuchl
	jmp l2581
l2582:
	cthis play
l2581:
	end method
	method StdGame34
	push stepx
	popax
	sub 0,$a
	push stepy
	popax
	sub 0,$a
	cthis move
	end method
	method remove_duch
	push GAME
	spushs
	spop $a
	call [$a],StdGame35
	end method
	method StdGame35
	push "anduch"
	call but1,removebut
	delete and2
	push "anduch"
	cthis deletegmobj
	end method
	method addnewitem
	localstring $1
	pop $1
	push "item_"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bset
	push $1
	call clsave,additem
	end method
	method itemclick_szyfr
	push igmstate
	push 101
	cmpje
	cmp0
	je l2584
	call itszyf,freeitem
	cthis itemonpos
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	localdef $3
	cthis geth
	pop $3
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	cthis getname
	push $3
	push $1
	push $2
	push 15
	push "StdGame36"
	call itszyf,gotodest
	jmp l2583
l2584:
	push igmstate
	push 1
	cmpje
	cmp0
	je l2586
	push 100
	pop igmstate
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	cthis getname
	push "StdGame38"
	call itszyf,showitem
l2586:
l2583:
	end method
	method StdGame36
	call anitemszyfr,StdGame37
	push 1
	pop igmstate
	end method
	method StdGame37
	call itszyf,freeitem
	cthis itemonpos
	end method
	method StdGame38
	push 101
	pop igmstate
	end method
	method itemclick_haslo
	cthis itemclick_mapa
	end method
	method itemclick_batyskaf
	cthis itemclick_mapa
	end method
	method itemclick_mapafull
	cthis itemclick_mapa
	end method
	method itemclick_mapa
	push igmstate
	push 101
	cmpje
	cmp0
	je l2588
	cthis itemonpos
	push 1
	pop igmstate
	jmp l2587
l2588:
	push igmstate
	push 1
	cmpje
	cmp0
	je l2590
	push 100
	pop igmstate
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	push 101
	pop igmstate
l2590:
l2587:
	end method
	method mouse_move
	clparent GameController,mouse_move
	end method
	end class

	class Kajuta1
	parent StdGame
	method init
	localstring $1
	pop $1
	push $1
	clparent StdGame,init
	cthis loadsnddb
	push "timendmatch3"
	push "Kajuta10"
	cthis cycle=
	end method
	method Kajuta10
	push GAME
	spushs
	spop $a
	call [$a],Kajuta11
	end method
	method Kajuta11
	localdef $1
	push im3points
	pop $1
	localdef $2
	push im3pointlimit
	pop $2
	push $1
	push $2
	cmpjl
	cmp0
	je l2592
	call m3ttc,itime
	push 0
	cmpja
	jmp l2594
l2592:
	push 0
	jmp l2594
l2593:
	push 1
l2594:
	cmp0
	je l2595
	cthis match3finish
	jmp l2591
l2595:
	cthis match3finish
	push $1
	push $2
	cmpjae
	cmp0
	je l2597
	cthis match3_won
	jmp l2596
l2597:
	cthis match3_lost
l2596:
l2591:
	end method
	method mtimhelper
	push igmipad
	cmp0
	je l2599
	localdef $1
	cthis getgraphpath
	pop $1
	push "common"
	cthis path=
	new gmimgvec,grshowhint
	localstring $2
	call grshowhintb,srcanima
	pop $2
	push $2
	push $2
	push "c"
	pop $b
	popax
	add $a,$b
	push "grshowhint"
	cthis newanactionsgr
	popax
	push 800
	call grshowhint,setz
	new gmimgvec,grhintpad
	push "idhint"
	push 0
	call grhintpad,var2
	push $1
	cthis setgraphpath
	new gmimgvec,grhintpad2
	push "timhelper"
	push 4000
	push "Kajuta12"
	cthis timer=
	call timhelper,play
l2599:
	end method
	method Kajuta12
	push igmstate
	push 1
	cmpje
	cmp0
	je l2601
	call grhintpad,free
	push "grhintpad2"
	call grhintpad,addgr
	push GAME
	spushs
	push "grext"
	spop $a
	call [$a],hasvar
	cmp0
	je l2603
	localint $1
	push 0
	pop $1
l2604:
	push $1
	call grext,size
	cmpjl
	cmp0
	je l2605
	jmp l2607
l2606:
	add $1,1
	pop $1
	jmp l2604
l2607:
	push $1
	call grext,get
	spushs
	spop $a
	call [$a],bshow
	cmp0
	je l2609
	push $1
	call grext,get
	call grhintpad,add
l2609:
	jmp l2606
l2605:
	push GAME
	spushs
	push "grhint"
	spop $a
	call [$a],hasvar
	cmp0
	je l2611
	push 0
	pop $1
l2612:
	push $1
	call grhint,size
	cmpjl
	cmp0
	je l2613
	jmp l2615
l2614:
	add $1,1
	pop $1
	jmp l2612
l2615:
	push $1
	call grhint,get
	call grhintpad,addonce
	jmp l2614
l2613:
l2611:
l2603:
	call grhintpad,size
	push 0
	cmpja
	cmp0
	je l2617
	localdef $2
	call grhintpad,idhint
	call grhintpad,size
	pop $b
	popax
	div $a,$b
	push $d
	call grhintpad,get
	pop $2
	call grhintpad,idhint
	push 1
	pop $b
	popax
	add $a,$b
	call grhintpad,size
	pop $b
	popax
	div $a,$b
	push $d
	call grhintpad,idhint=
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	call grshowhint,setpos
	push 1
	popax
	sub 0,$a
	call grshowhint,nplay
l2617:
l2601:
	cthis play
	end method
	method mskipminigame
	push "$scripts/common/skip_minigame.pyz 660"
	cthis img=
	call anskip_minigame,Kajuta13
	end method
	method Kajuta13
	cthis Button_isinalpha
	push "butmoveon"
	push "Kajuta14"
	cthis addmethod
	cthis Button_moveoffms
	push "butclick"
	push "Kajuta15"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta14
	push igmstate
	push 1
	cmpje
	cmp0
	je l2619
	call advmouse,setbut
l2619:
	end method
	method Kajuta15
	push AdventureMode
	cmp0
	je l2621
	push igmstate
	push 1
	cmpje
	jmp l2623
l2621:
	push 0
	jmp l2623
l2622:
	push 1
l2623:
	cmp0
	je l2624
	cthis skip_minigame
l2624:
	end method
	method addhintpad
	localstring $1
	pop $1
	push igmipad
	cmp0
	je l2626
	push $1
	call grhintpad2,add
l2626:
	end method
	method removehintpad
	localstring $1
	pop $1
	push igmipad
	cmp0
	je l2628
	push $1
	call grhintpad2,remove
l2628:
	end method
	method match3_won
	end method
	method match3_lost
	end method
	method tohint
	push "antohint"
	cthis withlist
	end method
	method loadhint
	push GAME
	spushs
	spop $a
	call [$a],Kajuta16
	end method
	method Kajuta16
	push "anshowhint"
	cthis hasvar
	neg
	cmp0
	je l2630
	new anima,anshowhint
	push "scripts/common/gwiazdkif.pyz"
	call anshowhint,load
	call anshowhint,hide
	push 800
	call anshowhint,setz
	push "splaynext"
	push "null"
	call anshowhint,var2
	push "onfinish"
	push "Kajuta17"
	call anshowhint,addmethod
l2630:
	end method
	method Kajuta17
	push splaynext
	push "null"
	cmpjne
	cmp0
	je l2632
	localdef $1
	push splaynext
	pop $1
	push "null"
	pop splaynext
	push $1
	cthis playhint
	push 1
	pop igmstate
l2632:
	end method
	method antohint
	localstring $1
	pop $1
	cthis loadhint
	push $1
	push "grext"
	cmpje
	cmp0
	je l2634
	localint $2
	push 0
	pop $2
l2635:
	push $2
	call grext,size
	cmpjl
	cmp0
	je l2636
	jmp l2638
l2637:
	add $2,1
	pop $2
	jmp l2635
l2638:
	push $2
	call grext,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],bshow
	cmp0
	je l2640
	push $1
	call grhint,add
l2640:
	jmp l2637
l2636:
	jmp l2633
l2634:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l2642
	push $1
	call grhint,addgr
	jmp l2641
l2642:
	push $1
	call grhint,add
l2641:
l2633:
	end method
	method hoverobject
	push igmstate
	push 1
	cmpje
	cmp0
	je l2644
	call grshowhintb,isplaying
	neg
	cmp0
	jne l2647
	call grshowhintb,lastplayed
	cthis getname
	cmpjne
	jmp l2648
l2646:
	push 0
	jmp l2648
l2647:
	push 1
l2648:
	jmp l2649
l2644:
	push 0
	jmp l2649
l2645:
	push 1
l2649:
	cmp0
	je l2650
	cthis getcx
	cthis getcy
	call grshowhintb,setpos
	cthis getname
	call grshowhintb,lastplayed=
	push 1
	popax
	sub 0,$a
	call grshowhintb,nplay
l2650:
	end method
	method hovergold
	push igmstate
	push 1
	cmpje
	cmp0
	je l2652
	call grshowhintgold,isplaying
	neg
	cmp0
	jne l2655
	call grshowhintgold,lastplayed
	cthis getname
	cmpjne
	jmp l2656
l2654:
	push 0
	jmp l2656
l2655:
	push 1
l2656:
	jmp l2657
l2652:
	push 0
	jmp l2657
l2653:
	push 1
l2657:
	cmp0
	je l2658
	cthis getcx
	cthis getcy
	call grshowhintgold,setpos
	cthis getname
	call grshowhintgold,lastplayed=
	push 1
	popax
	sub 0,$a
	call grshowhintgold,nplay
l2658:
	end method
	method hoverhint
	localstring $1
	pop $1
	push $1
	spushs
	push "butmoveon"
	push "Kajuta18"
	spop $a
	call [$a],addmethod
	end method
	method Kajuta18
	call advmouse,setbut
	cthis hoverobject
	end method
	method grextohint
	push "grext"
	cthis antohint
	end method
	method extohint
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	cthis antohint
	end method
	method playhint
	localstring $1
	pop $1
	cthis loadhint
	push $1
	push "null"
	cmpjne
	cmp0
	je l2660
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anshowhint,setpos
	push 0
	call anshowhint,play
l2660:
	end method
	method playhints
	localstring $1
	localstring $2
	pop $2
	pop $1
	push 0
	pop igmstate
	cthis loadhint
	push $2
	call anshowhint,splaynext=
	push $1
	cthis playhint
	end method
	method playhint2
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],Kajuta19
	end method
	method Kajuta19
	localdef $1
	pop $1
	push "anshowhint2"
	cthis hasvar
	neg
	cmp0
	je l2662
	cthis loadhint
	push "anshowhint"
	push "anshowhint2"
	cthis copyanima
	call anshowhint2,anhide
l2662:
	push $1
	push "null"
	cmpjne
	cmp0
	je l2664
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anshowhint2,setpos
	push 0
	call anshowhint2,play
l2664:
	end method
	method playexhint
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	cthis playhint
	end method
	method playexhint2
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	cthis playhint2
	end method
	method mpanel
	new gmimgvec,grpan
	new gmimgvec,grklucze
	localdef $1
	cthis getgraphpath
	pop $1
	push "common"
	cthis path=
	push "grpan"
	push "panel.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "grklucze"
	push "klucze.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "gwiazdkif.pyzH 600"
	cthis img=
	push $1
	cthis setgraphpath
	push "Kajuta110"
	call grpan,each
	push "prawy"
	call grpan,getsac
	push "anhint"
	cthis copyanima
	new gmimgvec,grhint
	push "showhint"
	cthis sfx=
	call anhint,Kajuta111
	push "Kajuta115"
	call grklucze,each
	cthis mshowalbum
	push AdventureMode
	cmp0
	je l2681
	push "ma_medalion"
	call clsave,bis
	jmp l2683
l2681:
	push 0
	jmp l2683
l2682:
	push 1
l2683:
	cmp0
	je l2684
	cthis mshowmedalion
l2684:
	end method
	method Kajuta110
	localdef $1
	pop $1
	push 500
	push $1
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method Kajuta111
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push "isbutin"
	push "Kajuta112"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Kajuta113"
	cthis addmethod
	push "timhint"
	push "hint_time"
	call dbconf,confmode
	push "Kajuta114"
	cthis timer=
	push A
	push "xend"
	push 0
	call timhint,vars2
	cthis getname
	call but1,add
	end method
	method Kajuta112
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	cmp0
	je l2665
	push $1
	push $2
	cthis withincut
	jmp l2667
l2665:
	push 0
	jmp l2667
l2666:
	push 1
l2667:
	end method
	method Kajuta113
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2669
	ret
l2669:
	call timhint,isplaying
	neg
	cmp0
	je l2671
	cthis getpx
	call timhint,xend=
	cthis getpx
	push 0
	cthis getpx
	push iResY
	cthis clip
	call timhint,play
	cthis HO_hint_click
	cthis kajuta_hint_click
l2671:
	end method
	method Kajuta114
	add xend,1
	pop xend
	call anhint,getpx
	push 0
	push xend
	push iResY
	call anhint,clip
	push xend
	call anhint,getex
	cmpjl
	cmp0
	je l2673
	cthis play
l2673:
	end method
	method Kajuta115
	localdef $1
	pop $1
	push 550
	cthis setz
	cthis actionname
	push "kolko"
	cmpje
	cmp0
	je l2675
	cthis show
	jmp l2674
l2675:
	push AdventureMode
	cmp0
	je l2677
	push "ma_klucz"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,bis
	neg
	cmp0
	je l2679
	cthis hide
	jmp l2678
l2679:
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2678:
	jmp l2676
l2677:
	cthis hide
l2676:
l2674:
	end method
	method hidepanel
	call grpan,hide
	call anhint,hide
	end method
	method showpanel
	call grpan,show
	call anhint,show
	end method
	method HO_hint_click
	end method
	method kajuta_hint_click
	end method
	method mshowmedalion
	push GAME
	spushs
	spop $a
	call [$a],Kajuta116
	end method
	method Kajuta116
	push "$scripts/common/medalion.pyzG 507"
	cthis img=
	push "wisioropen 50"
	cthis sfx=
	call anmedalion0,Kajuta117
	cthis medalion_close
	end method
	method Kajuta117
	cthis Button_isinalpha
	push "butclick"
	push "Kajuta118"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta118
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2686
	ret
l2686:
	cthis getname
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method rosie_go
	push GAME
	spushs
	spop $a
	call [$a],Kajuta119
	end method
	method Kajuta119
	push "anmedblysk"
	cthis hasvar
	neg
	cmp0
	je l2688
	push "$scripts/common/medblysk.pyz "
	call anmedalion0,getz
	pop $b
	popax
	add $a,$b
	cthis img=
	call anmedblysk,Kajuta120
l2688:
	push 0
	call anmedblysk,play
	push 226
	pop igmstate
	end method
	method Kajuta120
	cthis Button_stdms
	push "butclick"
	push "Kajuta121"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta121
	push igmstate
	push 226
	cmpje
	cmp0
	je l2690
	call anmedalion,framenr
	push 1
	cmpjne
	cmp0
	je l2692
	cthis medalion_open
l2692:
	push 0
	pop igmstate
	cthis anhide
	call but1,onmousemove
	cthis rosie_help
l2690:
	end method
	method mshowalbum
	push AdventureMode
	cmp0
	je l2694
	push "ma_album"
	call clsave,bis
	jmp l2696
l2694:
	push 0
	jmp l2696
l2695:
	push 1
l2696:
	cmp0
	je l2697
	push "$scripts/album/album.pyz 527"
	cthis img=
	call analbum,Kajuta122
l2697:
	end method
	method Kajuta122
	push 0
	push 1
	cthis setframe
	push "plecak"
	call grpan,getsac
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	cthis setz
	push "isbutin"
	push "Kajuta123"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Kajuta124"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta123
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	cmp0
	jne l2699
	push GAME
	spushs
	push "anal"
	spop $a
	call [$a],hasvar
	cmp0
	je l2700
	push $1
	push $2
	push 1
	push 1
	call anal,isin
	jmp l2702
l2700:
	push 0
	jmp l2702
l2701:
	push 1
l2702:
	jmp l2703
l2698:
	push 0
	jmp l2703
l2699:
	push 1
l2703:
	end method
	method Kajuta124
	push igmstate
	push 1
	cmpje
	cmp0
	je l2705
	push 121
	pop igmstate
	cthis foto_album
	jmp l2704
l2705:
	push igmstate
	push 121
	cmpje
	cmp0
	je l2707
	cthis foto_albumout
	push 1
	pop igmstate
	cthis album_hidden
l2707:
l2704:
	end method
	method medalion_open
	push 1
	popax
	sub 0,$a
	push 1
	call anmedalion0,setframe
	call fxwisioropen,play
	push "ma_medalion1"
	call clsave,bis
	cmp0
	je l2709
	call anmedalion1,show
l2709:
	push "ma_medalion2"
	call clsave,bis
	cmp0
	je l2711
	call anmedalion2,show
l2711:
	end method
	method medalion_close
	push 1
	popax
	sub 0,$a
	push 0
	call anmedalion0,setframe
	call anmedalion1,hide
	call anmedalion2,hide
	end method
	method anmedalion0_click
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2713
	ret
l2713:
	cthis framenr
	push 0
	cmpje
	cmp0
	je l2715
	cthis medalion_open
	jmp l2714
l2715:
	cthis medalion_close
l2714:
	end method
	method mbutnext
	push "$scripts/common/butnext.pyz"
	cthis img=
	call anbutnext,Kajuta125
	end method
	method Kajuta125
	push 700
	cthis setz
	cthis Button_stdalpha
	push "butclick"
	push "Kajuta126"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta126
	push igmstate
	push 1
	cmpje
	cmp0
	je l2717
	cthis getname
	push "_click"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2717:
	end method
	method match3but
	push Trudnosc
	push 2
	cmpjae
	cmp0
	je l2719
	ret
l2719:
	push "$scripts/common/match3but.pyz"
	cthis img=
	call anmatch3but,Kajuta127
	end method
	method Kajuta127
	push 710
	cthis setz
	cthis Button_stdalpha
	push "butclick"
	push "Kajuta128"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta128
	push bmatch3mode
	cmp0
	je l2721
	push igmstate
	push 1000
	cmpjne
	cmp0
	jne l2724
	push im3state
	push 0
	cmpjne
	jmp l2725
l2723:
	push 0
	jmp l2725
l2724:
	push 1
l2725:
	cmp0
	je l2726
	ret
l2726:
	call m3ttc,stop
	cthis m3finish
	jmp l2720
l2721:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2728
	ret
l2728:
	cthis match3start
l2720:
	end method
	method match3start
	push 1
	pop bmatch3mode
	push 1000
	pop igmstate
	push "match3off"
	push 0
	call anmatch3but,setframe
	push GAME
	spushs
	spop $a
	call [$a],m3init
	end method
	method match3finish
	push 1
	pop igmstate
	push 0
	pop bmatch3mode
	push "match3mode"
	push 0
	call anmatch3but,setframe
	push GAME
	spushs
	spop $a
	call [$a],m3exit
	end method
	method blockexit
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,mhide
	end method
	method disablexit
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,mdisable
	end method
	method diblockexit
	localstring $1
	pop $1
	push $1
	cthis blockexit
	push $1
	cthis disablexit
	end method
	method titblock
	push "blockexit"
	cthis withlist
	end method
	method dititblock
	push "diblockexit"
	cthis withlist
	end method
	method hodone
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	spushs
	push 1
	spop $a
	call [$a],bhog=
	end method
	method msethover
	localstring $1
	localint $2
	pop $2
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	spushs
	push $2
	spop $a
	call [$a],bstars=
	end method
	method nohover
	localstring $1
	pop $1
	push $1
	push 0
	cthis msethover
	end method
	method mgoldhover
	localstring $1
	pop $1
	push $1
	cthis mgetext
	spushs
	push 1
	spop $a
	call [$a],bgoldhint=
	end method
	method mgetext
	localstring $1
	pop $1
	push "do_"
	push $1
	pop $b
	popax
	add $a,$b
	call grext,getsac
	end method
	method mexits
	push "grext"
	push "exit"
	push 0
	cthis newgrimg
	call grext,hide
	push igmdebug
	cmp0
	je l2730
	new string,sexitfont
	push 20
	cthis stdfont
	pop sexitfont
l2730:
	push "Kajuta129"
	call grext,eval
	push "mshow"
	push "Kajuta134"
	call grext,addmethod
	push "mhide"
	push "Kajuta135"
	call grext,addmethod
	push "mdisable"
	push "Kajuta136"
	call grext,addmethod
	end method
	method Kajuta129
	push A
	push "bshow"
	push 1
	push "benable"
	push 1
	push "bhog"
	push 0
	push "bstars"
	push 1
	push "bgoldhint"
	push 0
	push "sexit"
	cthis actionname
	spushs
	push "do_"
	spop $h
	call $h,strsubbs
	cthis vars2
	push "isbutin"
	push "Kajuta130"
	cthis addmethod
	push "butmoveon"
	push "Kajuta131"
	cthis addmethod
	push "butmoveoff"
	push "Kajuta132"
	cthis addmethod
	push "butclick"
	push "Kajuta133"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kajuta130
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	cthis isin
	end method
	method Kajuta131
	push bshow
	cmp0
	je l2732
	call advmouse,setbut
	push bgoldhint
	cmp0
	je l2734
	cthis hovergold
	jmp l2733
l2734:
	push bstars
	cmp0
	je l2736
	cthis hoverobject
l2736:
l2733:
l2732:
	end method
	method Kajuta132
	push bshow
	cmp0
	je l2738
	call advmouse,setstd
l2738:
	end method
	method Kajuta133
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2740
	ret
l2740:
	push bshow
	cmp0
	je l2742
	push "click_"
	push sexit
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l2741
l2742:
	push benable
	cmp0
	je l2744
	push 0
	pop igmstate
	push "lektordoors"
	cthis txtplay
	jmp l2743
l2744:
	push bhog
	cmp0
	je l2746
	push 0
	pop igmstate
	push "lektorhodone"
	cthis txtplay
l2746:
l2743:
l2741:
	end method
	method Kajuta134
	localstring $1
	pop $1
	push $1
	cthis getsac
	spushs
	push 1
	spop $a
	call [$a],bshow=
	end method
	method Kajuta135
	localstring $1
	pop $1
	push $1
	cthis getsac
	spushs
	push 0
	spop $a
	call [$a],bshow=
	end method
	method Kajuta136
	localstring $1
	pop $1
	push $1
	cthis getsac
	spushs
	push 0
	spop $a
	call [$a],benable=
	end method
	method mbatyskaf
	push "$scripts/common/batyskaf.png 480"
	cthis img=
	end method
	end class

	class Kajuta
	parent Kajuta1
	method init
	localstring $1
	pop $1
	push $1
	clparent Kajuta1,init
	cthis mpanel
	localdef $2
	push "belka"
	call grpan,getsac
	pop $2
	push $2
	spushs
	spop $a
	call [$a],hide
	push "common"
	cthis path=
	push "grpan2"
	push "panelc"
	push $2
	spushs
	spop $a
	call [$a],getz
	cthis newgrimg
	call grpan2,last
	spushs
	spop $a
	call [$a],hide
	push $1
	cthis path=
	push AdventureMode
	cmp0
	je l2748
	call clsave,builditems
	cthis mtimhelper
l2748:
	end method
	method showpan2
	push 2
	call grpan2,get
	spushs
	spop $a
	call [$a],show
	end method
	method hidepan2
	push 2
	call grpan2,get
	spushs
	spop $a
	call [$a],hide
	end method
	method kajuta_hint_click
	push igmstate
	push 1
	cmpje
	cmp0
	je l2750
	cthis hint_click
l2750:
	push igmstate
	push 1
	cmpje
	cmp0
	je l2752
	call grhint,rand
	cthis playhint
l2752:
	end method
	end class

	new string,HiddenPath
	push "null"
	pop HiddenPath
	new string,HiddenExclude
	push "null"
	pop HiddenExclude
	new string,HiddenEls
	push "null"
	pop HiddenEls
	new real,HiddenReduce
	push 0.0
	pop HiddenReduce
	class Hidden
	parent Kajuta1
	method init
	localstring $1
	pop $1
	push $1
	clparent Kajuta1,init
	push HiddenPath
	push "null"
	cmpjne
	cmp0
	je l2754
	push HiddenPath
	cthis path=
	push "null"
	pop HiddenPath
l2754:
	new int,ihoclickdelay
	push "hoclick_delay:"
	call dbconf,dbget
	pop ihoclickdelay
	new int,ihoclicktimes
	push "hoclick_times:"
	call dbconf,dbget
	pop ihoclicktimes
	new int,ihoclickkara
	push "hoclick_kara:"
	call dbconf,dbget
	pop ihoclickkara
	new int,ihoclicker
	push 0
	pop ihoclicker
	push "timhoclicker"
	push ihoclickdelay
	push "Hidden0"
	cthis timer=
	push "timhokara"
	push ihoclickkara
	push "Hidden1"
	cthis timer=
	new img,imgkara
	push iResX
	push iResY
	cthis black
	push 128
	call imgkara,create
	push 2222
	call imgkara,setz
	call imgkara,hide
	push A
	push "tolist0 70"
	push "tolist1 70"
	push "tolist2 50"
	cthis sfxs=
	push "grels"
	push "els"
	push 10
	cthis newgrimg
	new gmimgvec,grelscopy
	push "grels"
	call grelscopy,copy
	push HiddenExclude
	push "null"
	cmpjne
	cmp0
	je l2758
	new gmimgvec,grexclude
	push "dbexc"
	push HiddenExclude
	cthis lang_db
	localint $2
	push 0
	pop $2
l2759:
	push $2
	call dbexc,getrowsno
	cmpjl
	cmp0
	je l2760
	jmp l2762
l2761:
	add $2,1
	pop $2
	jmp l2759
l2762:
	localdef $1
	push $2
	push 0
	call dbexc,get
	call grels,getsac
	pop $1
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call grels,remove
	push $1
	call grexclude,add
	jmp l2761
l2760:
	push "null"
	pop HiddenExclude
l2758:
	push HiddenReduce
	push 0.0
	cmpja
	cmp0
	je l2764
	push "Hidden2"
	call grels,sortimgsfun
	localint $3
	push HiddenReduce
	call grels,size
	pop $b
	popax
	mul $a,$b
	push 0.5
	pop $b
	popax
	add $a,$b
	pop $3
	localint $2
	push 0
	pop $2
l2765:
	push $2
	push $3
	cmpjl
	cmp0
	je l2766
	jmp l2768
l2767:
	add $2,1
	pop $2
	jmp l2765
l2768:
	call grels,first
	spushs
	spop $a
	call [$a],hide
	call grels,removefirst
	jmp l2767
l2766:
	call grels,sortimgs
	push 0.0
	pop HiddenReduce
l2764:
	cthis mpanel
	new string,sclickedho
	push "null"
	pop sclickedho
	push HiddenEls
	push "null"
	cmpjne
	cmp0
	je l2770
	push "dbtxts"
	push HiddenEls
	cthis lang_db
	push "null"
	pop HiddenEls
	jmp l2769
l2770:
	push "dbtxts"
	push "els_"
	cthis lang_db
l2769:
	new gmimgvec,grtxt
	new vector,vtexts
	push "string"
	call vtexts,type
	new gmimgvec,grtxtgrey
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localstring $11
	new int,itxtheight
	push 16
	pop itxtheight
	push "fnttxts"
	push "configs/fonts/timesit.ttf"
	push itxtheight
	cthis newfont
	localint $2
	push 0
	pop $2
l2771:
	push $2
	call dbtxts,getrowsno
	cmpjl
	cmp0
	je l2772
	jmp l2774
l2773:
	add $2,1
	pop $2
	jmp l2771
l2774:
	push $2
	call dbtxts,getcolsno
	push 1
	cmpja
	cmp0
	je l2776
	push $2
	push 0
	call dbtxts,get
	pop $8
	push $8
	call grels,findsac
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l2778
	push $8
	call grels,getsac
	pop $10
	push $2
	push 1
	call dbtxts,get
	pop $9
	push $9
	call vtexts,find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l2780
	push 0
	pop $5
l2781:
	push $5
	call grtxt,size
	cmpjl
	cmp0
	je l2782
	jmp l2784
l2783:
	add $5,1
	pop $5
	jmp l2781
l2784:
	push $5
	call grtxt,get
	pop $11
	push $11
	spushs
	spop $a
	call [$a],idvtext
	push $4
	cmpje
	cmp0
	je l2786
	push $10
	spushs
	push "stxtview"
	push $11
	spop $a
	call [$a],var2
	push $11
	spushs
	push 1
	spop $a
	call [$a],mupdatetxt
l2786:
	jmp l2783
l2782:
	jmp l2779
l2780:
	push $9
	call vtexts,add
	push "txtel_"
	push $8
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $9
	push "fnttxts"
	push 10
	cthis grey
	cthis newtext
	push $8
	spushs
	spop $a
	call [$a],hide
	push $8
	spushs
	push 507
	spop $a
	call [$a],setz
	push $8
	spushs
	push A
	push "stekst"
	push $9
	push "icnt"
	push 1
	push "idvtext"
	call vtexts,size
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],vars2
	push $8
	spushs
	push "mupdatetxt"
	push "Hidden3"
	spop $a
	call [$a],addmethod
	push $8
	call grtxt,add
	push $10
	spushs
	push "stxtview"
	push $8
	spop $a
	call [$a],var2
l2779:
l2778:
l2776:
	jmp l2773
l2772:
	push A
	push "irows"
	push 3
	push "icols"
	push 3
	call grtxt,vars2
	push "lastid"
	push "Hidden4"
	call grtxt,addmethod
	push "shownext"
	push "Hidden5"
	call grtxt,addmethod
	new int,iilegrtxt
	call grtxt,irows
	call grtxt,icols
	pop $b
	popax
	mul $a,$b
	pop iilegrtxt
	push 0
	pop $2
l2800:
	push $2
	push iilegrtxt
	cmpjl
	cmp0
	je l2801
	jmp l2803
l2802:
	add $2,1
	pop $2
	jmp l2800
l2803:
	call grtxt,shownext
	jmp l2802
l2801:
	new int,ilehonaraz
	push 35
	pop ilehonaraz
	new classancounter,ctcen
	push "timcenter"
	push ilehonaraz
	call ctcen,set
	new int,idtimcenter
	push 0
	pop idtimcenter
	new real,rcykcenter
	push 16.0
	pop rcykcenter
	new string,shidenmov
	push "null"
	pop shidenmov
	localint $2
	push 0
	pop $2
l2804:
	push $2
	push ilehonaraz
	cmpjl
	cmp0
	je l2805
	jmp l2807
l2806:
	add $2,1
	pop $2
	jmp l2804
l2807:
	localdef $12
	push 3
	pop $12
	push "timcenter"
	push $2
	pop $b
	popax
	add $a,$b
	push "Hidden6"
	cthis cycle=
	push "timcenter"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push "mstart"
	push "Hidden7"
	spop $a
	call [$a],addmethod
	push "timcenter"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],Hidden8
	push "timcenterb"
	push $2
	pop $b
	popax
	add $a,$b
	push 500
	push "Hidden9"
	cthis timer=
	push "timcenterb"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push A
	push "myid"
	push $2
	spop $a
	call [$a],vars2
	jmp l2806
l2805:
	localdef $1
	cthis getgraphpath
	pop $1
	push "common"
	cthis path=
	localdef $13
	push 60
	pop $13
	push "anhodym"
	push "dymki.pyz"
	push 600
	cthis newanima
	call anhodym,hide
	new gmimgvec,grdym
	push "anhodym"
	push $13
	call grdym,ancopies
	new classancounter,ctdym
	push "anhodym_"
	push $13
	call ctdym,set
	push A
	push "gwiazdki1.pyzGH"
	push "bable.pyzH"
	cthis imgs=
	push "anbable"
	push "anbable2"
	cthis copyanima
	push $1
	cthis setgraphpath
	new int,izels
	push 10
	pop izels
	push "Hidden10"
	call grelscopy,each
	push "Hidden11"
	call grels,each
	push igmdebug
	cmp0
	je l2850
	new string,smovedfont
	push 14
	cthis stdfont
	pop smovedfont
	push "txtmovedho"
	push ""
	push smovedfont
	push 240
	cthis grey
	cthis newtext
	push 1500
	call txtmovedho,setz
	push "txtmovedho2"
	push ""
	push smovedfont
	push 2
	cthis grey
	cthis newtext
	push 1499
	call txtmovedho2,setz
l2850:
	end method
	method Hidden0
	push 0
	pop ihoclicker
	end method
	method Hidden1
	call imgkara,hide
	call lektorclicks,pogadal
	cmp0
	je l2756
	push 1
	pop igmstate
l2756:
	end method
	method Hidden2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	push $2
	spushs
	spop $a
	call [$a],getw
	push $2
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	cmpjl
	end method
	method Hidden3
	localint $1
	pop $1
	push $1
	popax
	add icnt,$a
	pop icnt
	push icnt
	push 1
	cmpja
	cmp0
	je l2788
	push stekst
	push " x "
	pop $b
	popax
	add $a,$b
	push icnt
	pop $b
	popax
	add $a,$b
	cthis txtset
	jmp l2787
l2788:
	push icnt
	push 1
	cmpje
	cmp0
	je l2790
	push stekst
	cthis txtset
l2790:
l2787:
	end method
	method Hidden4
	localint $1
	push 0
	pop $1
l2791:
	push $1
	cthis size
	cmpjl
	cmp0
	je l2792
	push $1
	cthis get
	spushs
	spop $a
	call [$a],isvisible
	jmp l2794
l2792:
	push 0
	jmp l2794
l2793:
	push 1
l2794:
	cmp0
	je l2795
	add $1,1
	pop $1
	jmp l2791
l2795:
	push $1
	end method
	method Hidden5
	localint $1
	cthis lastid
	pop $1
	push $1
	cthis size
	cmpje
	cmp0
	je l2797
	ret
l2797:
	push $1
	push irows
	push icols
	pop $b
	popax
	mul $a,$b
	cmpjl
	cmp0
	je l2799
	localdef $2
	push $1
	cthis get
	pop $2
	localint $3
	push $1
	push icols
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localint $4
	push $1
	push icols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	push $2
	spushs
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call icols,to_r
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	call $4,to_r
	pop $b
	popax
	sub $a,$b
	push 0.5
	pop $b
	popax
	sub $a,$b
	push 120
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call grpan,first
	spushs
	spop $a
	call [$a],getpy
	push 62
	pop $b
	popax
	add $a,$b
	push $3
	push itxtheight
	push 2
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $2
	spushs
	spop $a
	call [$a],show
l2799:
	end method
	method Hidden6
	add icyk,1
	pop icyk
	push rpx
	popax
	add rdx,$a
	pop rdx
	push rpy
	popax
	add rdy,$a
	pop rdy
	push ietap
	push 2
	cmpje
	cmp0
	je l2809
	push shidenmov
	spushs
	push icyk
	call vhox,get
	push icyk
	call vhoy,get
	spop $a
	call [$a],ansetbpos
	push icyk
	call vhox,get
	push icyk
	call vhoy,get
	call grgwiazdki1,setpos
	jmp l2808
l2809:
	push shidenmov
	spushs
	push rdx
	push rdy
	spop $a
	call [$a],move
l2808:
	push rdx
	spushs
	spop $h
	call $h,to_i
	popax
	sub rdx,$a
	pop rdx
	push rdy
	spushs
	spop $h
	call $h,to_i
	popax
	sub rdy,$a
	pop rdy
	localdef $1
	call ctdym,get
	pop $1
	push $1
	spushs
	push shidenmov
	spushs
	spop $a
	call [$a],getcx
	push shidenmov
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setpos
	push $1
	spushs
	push shidenmov
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push icyk
	push rcykcenter
	cmpjae
	cmp0
	je l2811
	push ietap
	push 1
	cmpje
	cmp0
	je l2813
	push idestx2
	pop idestx
	push idesty2
	pop idesty
	push 2
	pop ietap
	push shidenmov
	spushs
	spop $a
	call [$a],getcx
	push shidenmov
	spushs
	spop $a
	call [$a],getcy
	call grgwiazdki1,setpos
	push shidenmov
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	call grgwiazdki1,setz
	push 1
	popax
	sub 0,$a
	call grgwiazdki1,nplay
	push shidenmov
	spushs
	spop $a
	call [$a],getcx
	push shidenmov
	spushs
	spop $a
	call [$a],getcy
	call anbable2,setpos
	push shidenmov
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbable2,setz
	push 0
	call anbable2,play
	call fxtolist2,playif
	cthis mstart
	push "timcenterb"
	push myid
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	jmp l2812
l2813:
	cthis getname
	call ctcen,retf
	call ctcen,allfree
	cmp0
	je l2815
	push "init"
	pop sgmstate
	push 1
	pop igmstate
l2815:
	push shidenmov
	spushs
	spop $a
	call [$a],hide
	push shidenmov
	call grels,remove
	localdef $2
	call grtxt,irows
	call grtxt,icols
	pop $b
	popax
	mul $a,$b
	pop $2
	localdef $3
	push shidenmov
	spushs
	spop $a
	call [$a],actionname
	pop $3
	push sclickedho
	spushs
	spop $a
	call [$a],icnt
	push 1
	cmpja
	cmp0
	je l2817
	push sclickedho
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],mupdatetxt
	jmp l2816
l2817:
	push sclickedho
	call grtxt,remove
	push sclickedho
	call grtxtgrey,add
	push sclickedho
	spushs
	push 128
	cthis grey
	spop $a
	call [$a],createtxt
	call grtxtgrey,size
	push $2
	cmpje
	cmp0
	je l2819
	call grtxt,size
	push 0
	cmpja
	jmp l2821
l2819:
	push 0
	jmp l2821
l2820:
	push 1
l2821:
	cmp0
	je l2822
	call grtxtgrey,hide
	call grtxtgrey,free
	localint $4
	push 0
	pop $4
l2823:
	push $4
	push $2
	cmpjl
	cmp0
	je l2824
	call grtxt,size
	push 0
	cmpja
	jmp l2826
l2824:
	push 0
	jmp l2826
l2825:
	push 1
l2826:
	cmp0
	je l2827
	call grtxt,shownext
	add $4,1
	pop $4
	jmp l2823
l2827:
l2822:
l2816:
	push $1
	spushs
	push sclickedho
	spushs
	spop $a
	call [$a],getpx
	push sclickedho
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push sclickedho
	spushs
	spop $a
	call [$a],getpy
	push sclickedho
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push "end"
	spop $a
	call [$a],play
	push $3
	push "_put"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis hiddenobj_put
l2812:
	jmp l2810
l2811:
	push ietap
	push 1
	cmpje
	cmp0
	jne l2830
	push ietap
	push 2
	cmpje
	jmp l2831
l2829:
	push 0
	jmp l2831
l2830:
	push 1
l2831:
	cmp0
	je l2832
	push $1
	spushs
	push "go"
	spop $a
	call [$a],play
l2832:
	cthis play
l2810:
	end method
	method Hidden7
	localdef $1
	push shidenmov
	spushs
	spop $a
	call [$a],getcx
	pop $1
	localdef $2
	push shidenmov
	spushs
	spop $a
	call [$a],getcy
	pop $2
	push idestx
	push $1
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push rcykcenter
	pop $b
	popax
	div $a,$b
	psax
	pop rpx
	push idesty
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	push rcykcenter
	pop $b
	popax
	div $a,$b
	psax
	pop rpy
	push 0.0
	pop rdx
	push 0.0
	pop rdy
	push 0
	pop icyk
	push ietap
	push 2
	cmpje
	cmp0
	je l2834
	push 0
	push $1
	push $1
	push shidenmov
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	sub $a,$b
	call vhox,set
	push 0
	push $2
	push $2
	push shidenmov
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	sub $a,$b
	call vhoy,set
	push rpx
	push 0
	cmpjl
	cmp0
	je l2836
	localint $3
	push 1
	pop $3
l2837:
	push $3
	push rcykcenter
	cmpjle
	cmp0
	je l2838
	jmp l2840
l2839:
	add $3,1
	pop $3
	jmp l2837
l2840:
	push $3
	push rpx
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vhox,get
	pop $b
	popax
	add $a,$b
	push $3
	call rcykcenter,to_i
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call vhox,set
	push $3
	push rpy
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vhoy,get
	pop $b
	popax
	add $a,$b
	push $3
	call rcykcenter,to_i
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call vhoy,set
	jmp l2839
l2838:
	jmp l2835
l2836:
	localint $3
	push 1
	pop $3
l2841:
	push $3
	push rcykcenter
	cmpjle
	cmp0
	je l2842
	jmp l2844
l2843:
	add $3,1
	pop $3
	jmp l2841
l2844:
	push $3
	push rpx
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vhox,get
	pop $b
	popax
	add $a,$b
	push $3
	call rcykcenter,to_i
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call vhox,set
	push $3
	push rpy
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call vhoy,get
	pop $b
	popax
	add $a,$b
	push $3
	call rcykcenter,to_i
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call vhoy,set
	jmp l2843
l2842:
l2835:
	localreal $4
	localreal $5
	localreal $6
	localreal $7
	push idesty
	push $2
	pop $b
	popax
	sub $a,$b
	pop $4
	push rcykcenter
	push 1
	pop $b
	popax
	sub $a,$b
	call vhoy,get
	push 0
	call vhoy,get
	pop $b
	popax
	sub $a,$b
	pop $5
	push $4
	push $5
	pop $b
	popax
	div $a,$b
	psax
	pop $6
	push 1
	pop $3
l2845:
	push $3
	push rcykcenter
	cmpjle
	cmp0
	je l2846
	jmp l2848
l2847:
	add $3,1
	pop $3
	jmp l2845
l2848:
	push $3
	push $3
	call vhoy,get
	push $6
	pop $b
	popax
	mul $a,$b
	call vhoy,set
	jmp l2847
l2846:
l2834:
	end method
	method Hidden8
	localdef $1
	pop $1
	new vector,vhox
	push "real"
	call vhox,type
	push rcykcenter
	push 1
	pop $b
	popax
	add $a,$b
	push 0.0
	call vhox,resize
	new vector,vhoy
	push "real"
	call vhoy,type
	push rcykcenter
	push 1
	pop $b
	popax
	add $a,$b
	push 0.0
	call vhoy,resize
	push A
	push "rdx"
	push "rdy"
	push "rpx"
	push "rpy"
	push "icyk"
	push "idestx"
	push "idesty"
	push "idestx2"
	push "idesty2"
	push "ietap"
	push "shidenmov"
	push "myid"
	push "sclickedho"
	cthis vars
	push $1
	pop myid
	push "null"
	pop shidenmov
	push "null"
	pop sclickedho
	end method
	method Hidden9
	push "timcenter"
	push myid
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mstart
	call fxtolist1,playif
	push "timcenter"
	push myid
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	end method
	method Hidden10
	localdef $1
	pop $1
	push izels
	push $1
	push 5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method Hidden11
	localdef $1
	pop $1
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	cthis mhobut
	end method
	method mmasks
	cthis getgraphpath
	push "masks.pyz"
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l2852
	push "grmasks"
	push "masks"
	push 0
	cthis newgrimg
	push "Hidden12"
	call grmasks,eval
	jmp l2851
l2852:
	new gmimgvec,grmasks
l2851:
	end method
	method Hidden12
	cthis actionname
	cthis mmask
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l2854
	push 1
	popax
	sub 0,$a
	cthis play
l2854:
	end method
	method mmask
	localstring $1
	pop $1
	push 0
	push 5
	call $1,getb
	push "_prev"
	cmpje
	cmp0
	je l2856
	localdef $2
	cthis getname
	call grmasks,find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l2858
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call grmasks,get
	spushs
	spop $a
	call [$a],getz
	cthis setz
	jmp l2857
l2858:
	push 2
	cthis setz
l2857:
	jmp l2855
l2856:
	localstring $3
	localdef $2
	push $1
	call grelscopy,findsac
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l2860
	push $1
	call grexclude,getsac
	pop $3
	jmp l2859
l2860:
	push $2
	call grelscopy,get
	pop $3
l2859:
	push $3
	spushs
	spop $a
	call [$a],getz
	push 2
	pop $b
	popax
	add $a,$b
	cthis setz
l2855:
	end method
	method mhider
	localstring $1
	pop $1
	localdef $2
	push $1
	call grels,getsac
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getz
	push 2
	pop $b
	popax
	sub $a,$b
	cthis setz
	push $2
	spushs
	spop $a
	call [$a],hide
	push "maskedobj"
	push $2
	cthis var2
	push "hidemask"
	push "Hidden13"
	cthis addmethod
	push "showmask"
	push "Hidden14"
	cthis addmethod
	end method
	method Hidden13
	push maskedobj
	call grels,contains
	cmp0
	je l2862
	push maskedobj
	spushs
	spop $a
	call [$a],hide
l2862:
	end method
	method Hidden14
	push maskedobj
	call grels,contains
	cmp0
	je l2864
	push maskedobj
	spushs
	spop $a
	call [$a],show
l2864:
	end method
	method mhiderclick
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l2866
	push 1
	push 0
	cthis setframe
	cthis showmask
	jmp l2865
l2866:
	push 0
	push 0
	cthis setframe
	cthis hidemask
l2865:
	end method
	method mho_click
	push "stxtview"
	cthis hasvar
	cmp0
	je l2868
	push stxtview
	spushs
	spop $a
	call [$a],isvisible
	jmp l2870
l2868:
	push 0
	jmp l2870
l2869:
	push 1
l2870:
	cmp0
	je l2871
	push stxtview
	pop sclickedho
	jmp l2867
l2871:
	push "null"
	pop sclickedho
l2867:
	push sclickedho
	push "null"
	cmpjne
	cmp0
	je l2873
	push igmstate
	push 1
	cmpje
	cmp0
	jne l2876
	push sgmstate
	push "hoout"
	cmpje
	jmp l2877
l2875:
	push 0
	jmp l2877
l2876:
	push 1
l2877:
	jmp l2878
l2873:
	push 0
	jmp l2878
l2874:
	push 1
l2878:
	cmp0
	je l2879
	localdef $1
	call ctcen,getf
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2881
	push 0
	pop ihoclicker
	cthis getname
	call but1,removebut
	call angwiazdkif,anhide
	cthis getname
	pop shidenmov
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],shidenmov=
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push 600
	cthis setz
	push 2
	pop igmstate
	push GAME
	spushs
	cthis actionname
	push "_put"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],hasmet
	cmp0
	je l2883
	push "init"
	pop sgmstate
	jmp l2882
l2883:
	push "hoout"
	pop sgmstate
l2882:
	push $1
	spushs
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],idestx=
	push $1
	spushs
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	spop $a
	call [$a],idesty=
	push $1
	spushs
	push sclickedho
	spushs
	spop $a
	call [$a],getpx
	push sclickedho
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],idestx2=
	push $1
	spushs
	push sclickedho
	spushs
	spop $a
	call [$a],getpy
	push sclickedho
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],idesty2=
	push $1
	spushs
	push 1
	spop $a
	call [$a],ietap=
	push $1
	spushs
	push sclickedho
	spop $a
	call [$a],sclickedho=
	push $1
	spushs
	spop $a
	call [$a],mstart
	localdef $2
	call ctdym,get
	pop $2
	push $2
	spushs
	push shidenmov
	spushs
	spop $a
	call [$a],getcx
	push shidenmov
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setpos
	push $2
	spushs
	push "start"
	spop $a
	call [$a],play
	call fxtolist0,playif
	push $1
	spushs
	spop $a
	call [$a],play
	jmp l2880
l2881:
	push "null"
	pop sclickedho
l2880:
l2879:
	end method
	method but1_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l2885
	call grtxt,empty
	neg
	jmp l2887
l2885:
	push 0
	jmp l2887
l2886:
	push 1
l2887:
	cmp0
	je l2888
	call timhoclicker,isplaying
	cmp0
	je l2890
	add ihoclicker,1
	pop ihoclicker
l2890:
	push ihoclicker
	push ihoclicktimes
	cmpje
	cmp0
	je l2892
	push 0
	pop ihoclicker
	push 0
	call timhoclicker,stop
	push "null"
	pop sobject
	push 12345
	pop igmstate
	call imgkara,show
	call timhokara,play
	push "ho_ukarany"
	call clsave,bis
	neg
	cmp0
	je l2894
	push "ho_ukarany"
	call clsave,bset
	push "lektorclicks"
	cthis txtplay
l2894:
	jmp l2891
l2892:
	call timhoclicker,play
l2891:
	jmp l2884
l2888:
	push 0
	pop ihoclicker
l2884:
	end method
	method HO_hint_click
	call fxshowhint,playif
	new gmobjvec,_grtmp
	localstring $1
	localint $2
	push 0
	pop $2
l2895:
	push $2
	call grels,size
	cmpjl
	cmp0
	je l2896
	jmp l2898
l2897:
	add $2,1
	pop $2
	jmp l2895
l2898:
	push $2
	call grels,get
	pop $1
	push $1
	spushs
	push "stxtview"
	spop $a
	call [$a],hasvar
	cmp0
	je l2900
	push $1
	spushs
	spop $a
	call [$a],stxtview
	spushs
	spop $a
	call [$a],isvisible
	jmp l2902
l2900:
	push 0
	jmp l2902
l2901:
	push 1
l2902:
	cmp0
	je l2903
	push $1
	call _grtmp,add
l2903:
	jmp l2897
l2896:
	call _grtmp,rand
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2905
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call angwiazdkif,setpos
	push 600
	call angwiazdkif,setz
	push 0
	call angwiazdkif,play
l2905:
	delete _grtmp
	end method
	method mgetel
	localstring $1
	pop $1
	localdef $2
	push $1
	call grels,findsac
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2907
	push $2
	call grels,get
	jmp l2906
l2907:
	push "null"
l2906:
	end method
	method mouse_move
	clparent StdGame,mouse_move
	push igmdebug
	cmp0
	je l2909
	push igmstate
	push 1
	cmpje
	cmp0
	je l2911
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2913
	localdef $1
	call grels,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $1
	call txtmovedho,get
	push $1
	cmpjne
	cmp0
	je l2915
	push $1
	call txtmovedho,txtset
	push $1
	call txtmovedho2,txtset
l2915:
	call mouse,getpx
	call mouse,getpy
	call txtmovedho,geth
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call txtmovedho,setpos
	call mouse,getpx
	push 1
	pop $b
	popax
	add $a,$b
	call mouse,getpy
	call txtmovedho,geth
	pop $b
	popax
	sub $a,$b
	call txtmovedho2,setpos
	call txtmovedho,show
	call txtmovedho2,show
	jmp l2912
l2913:
	call txtmovedho,hide
	call txtmovedho2,hide
l2912:
	jmp l2910
l2911:
	call txtmovedho,hide
	call txtmovedho2,hide
l2910:
l2909:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/music.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/sfx/butmovon.wav"
	call sndakskermovon,load
	push 50
	call sndakskermovon,setvol
	class classasker2
	parent classasker
	method init
	clparent classasker,init
	new snd,sndaskexit
	push 0
	push 1
	call sndaskexit,setstartstopflag
	new snd,sndaskexitgame
	push 0
	push 1
	call sndaskexitgame,setstartstopflag
	new snd,sndyes
	push 0
	push 1
	call sndyes,setstartstopflag
	new snd,sndno
	push 0
	push 1
	call sndno,setstartstopflag
	new snd,sndaskrestart
	push 0
	push 1
	call sndaskrestart,setstartstopflag
	new snd,sndaskrestart2
	push 0
	push 1
	call sndaskrestart2,setstartstopflag
	cthis reload
	push "scripts/common/asker.pyz"
	clparent classgame,getlangfile
	push 12000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method reload
	push SNDPATH
	cthis setwavpath
	localdef $1
	cthis getsndpath
	pop $1
	push $1
	push "narexit.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexit,load
	push $1
	push "narexitgame.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexitgame,load
	push $1
	push "naryes.wav"
	pop $b
	popax
	add $a,$b
	call sndyes,load
	push $1
	push "narno.wav"
	pop $b
	popax
	add $a,$b
	call sndno,load
	push $1
	push "narrestart.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart,load
	push $1
	push "narrestart.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart2,load
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askexitgame
	push "sndaskexitgame"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	push GAME
	spushs
	push "clsave"
	spop $a
	call [$a],hasvar
	cmp0
	je l2917
	call clsave,free
l2917:
	call gameapi,getgamename
	spushs
	push "MainMenu"
	cmpst
	jne l2919
	spop $a
	push "exit"
	jmp l2918
l2919:
	spop $a
	push "MainMenu"
l2918:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "SubMenu"
	cmpst
	jne l2921
	spop $a
	push "MenuGry"
	jmp l2920
l2921:
	spop $a
	push "MainMenu"
l2920:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call ccs,isplaying
	neg
	cmp0
	je l2923
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent classasker,ask
l2923:
	end method
	end class

	new classasker2,claskexit
	method LANG=
	localdef $1
	pop $1
	push $1
	pop LANG
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l2925
	push ""
	pop LANG
l2925:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l2927
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l2927:
	call claskexit,reload
	end method
	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 4000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	push "scripts/common/buts.db"
	call dbb,load
	new snd,sndfxglobon
	push "sounds/sfx/globbutmovon.wav"
	call sndfxglobon,load
	push 50
	call sndfxglobon,setvol
	new def,bvisible
	push 1
	pop bvisible
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2929
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l2930:
	push $4
	push $3
	cmpjl
	cmp0
	je l2931
	jmp l2933
l2932:
	add $4,1
	pop $4
	jmp l2930
l2933:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l2932
l2931:
l2929:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l2935
	call mouse,hide
l2935:
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "pause"
	cmpje
	cmp0
	je l2937
	call clpause,pause
	jmp l2936
l2937:
	push $1
	push "menu"
	cmpje
	cmp0
	je l2939
	call gameapi,getgamename
	spushs
	push "MainMenu"
	cmpst
	jne l2941
	spop $a
	call claskexit,askexitgame
	jmp l2940
l2941:
	spop $a
	call claskexit,askexittomenu
l2940:
	jmp l2938
l2939:
	push $1
	push "restart"
	cmpje
	cmp0
	je l2943
	call claskexit,askrestart
l2943:
l2938:
l2936:
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push 0
	pop igmstate
	push 0
	push 0
	push 1
	pop igmbegin
	pop igmdemo
	pop igmeasy
	call bsms,setstd
	call clbuts,load
	push igmdebug
	neg
	cmp0
	je l2945
	push igmipad
	jmp l2947
l2945:
	push 0
	jmp l2947
l2946:
	push 1
l2947:
	cmp0
	je l2948
	push "scripts/common/kursorypad.pyz"
	call advmouse,load
	jmp l2944
l2948:
	push "scripts/common/cursors.pyz"
	call advmouse,load
l2944:
	new int,Trudnosc
	push "trudnosc:"
	call dbconf,dbget
	pop Trudnosc
	new int,bFullScreen
	push "MainLoader"
	call gameapi,play
	game MainLoader
	parent StdGame
	method init
	push "mainloader"
	clparent StdGame,init
	push "fullscreen"
	call clsmen,has
	cmp0
	je l2950
	push "fullscreen"
	call clsmen,get
	pop bFullScreen
	push bFullScreen
	call engine,setfullscreen
	jmp l2949
l2950:
	push 1
	pop bFullScreen
	push "fullscreen"
	push 1
	call clsmen,set
	call clsmen,stdsave
	push bFullScreen
	call engine,setfullscreen
l2949:
	push "debug_mode:"
	call dbconf,dbget
	pop igmdebug
	push "adventure_mode:"
	call dbconf,dbget
	pop AdventureMode
	push "bigfish:"
	call dbconf,dbget
	pop ibigfish
	push "gamehouse:"
	call dbconf,dbget
	pop igamehouse
	new db,dbsnd
	push "scripts/common/sounds.db"
	call dbsnd,load
	push igmdebug
	cmp0
	je l2952
	push "exports/snd.dlg"
	call dbsnd,save
l2952:
	new db,dbl
	push "init.beh"
	cthis getpath
	call dbl,loadbeh
	push "startgame:"
	push 1
	call dbl,dbgets
	call gameapi,play
	end method
	end game

	game Platforma
	parent Kajuta1
	method init
	push "02platforma"
	clparent Kajuta1,init
	push "platforma"
	cthis setsndbase
	push A
	push "hotel.jpg"
	push "hel1.pyzP 5"
	push "hel2.pyzH 20"
	push "grall"
	cthis imgsgr=
	push A
	push "bgrmorze2N 40"
	cthis sfxs=
	push "timhel"
	push 4000
	push "Platforma0"
	cthis timplay
	cthis loadsnddb
	push A
	push ":lektor4"
	push "Przy udziale ogromnych rodkw firm prywatnych zbudowano najnowoczeniejsz platform hotelow na wiecie. Jest w stanie wytrzyma najwiksze sztormy wystpujce na tych wodach"
	push "Platforma1"
	cthis sounds=
	push "anhel2"
	push "anhel"
	cthis copyanima
	push 2
	push 0
	call anhel,setframe
	push iResX
	call anhel2,lodx
	pop $b
	popax
	sub $a,$b
	push 0.01
	push iResY
	pop $b
	popax
	mul $a,$b
	call anhel2,setpos
	call anhel,hide
	new int,idestx
	call anhel,getpx
	pop idestx
	new int,idesty
	call anhel,getpy
	pop idesty
	new real,rdesth
	call anhel,geth
	pop rdesth
	new real,rstepx
	push 6.0
	popax
	sub 0,$a
	pop rstepx
	new real,rstepy
	push 1.8
	pop rstepy
	new real,rodleg
	call anhel2,getpx
	push idestx
	pop $b
	popax
	sub $a,$b
	call anhel2,getpy
	push idesty
	pop $b
	popax
	sub $a,$b
	call rstepy,length
	pop rodleg
	new real,rgox
	push 0.0
	pop rgox
	new real,rgoy
	push 0.0
	pop rgoy
	new real,istartx
	call anhel2,getpx
	push 5.0
	pop $b
	popax
	sub $a,$b
	pop istartx
	new real,istarty
	call anhel2,getpy
	push 3.0
	pop $b
	popax
	sub $a,$b
	pop istarty
	new filter,fthel
	push "tim3"
	push 14000
	push "Platforma2"
	cthis timer=
	push "tim5"
	push "Platforma3"
	cthis cycle=
	push "Platforma4"
	call ccs,enter
	end method
	method Platforma0
	push "helikopter.ogg"
	call mus,playstr
	end method
	method Platforma1
	call tcr,ahide
	end method
	method Platforma2
	push "anhel2"
	call fthel,link
	push 1
	call fthel,setpivottype
	push 0
	call anhel2,play
	call tim5,play
	end method
	method Platforma3
	cthis modleg
	push 1
	popax
	sub 0,$a
	call anhel2,isplaying
	push 0
	cmpje
	cmp0
	je l2954
	push 0
	call anhel2,play
l2954:
	call anhel2,getposx
	push 50
	pop $b
	popax
	sub $a,$b
	push idestx
	cmpja
	cmp0
	je l2956
	cthis play
	jmp l2955
l2956:
	push "playend"
	cthis hasvar
	neg
	cmp0
	je l2958
	push "playend"
	cthis var
	cthis mend
l2958:
	cthis play
l2955:
	end method
	method Platforma4
	push "tim4"
	push 1500
	push "Platforma5"
	cthis timplay
	call tim3,play
	end method
	method Platforma5
	push "lektor4"
	cthis txtplay
	end method
	method modleg
	localreal $1
	call anhel2,getposx
	push idestx
	pop $b
	popax
	sub $a,$b
	pop $1
	localreal $2
	call anhel2,getposy
	push idesty
	pop $b
	popax
	sub $a,$b
	pop $2
	localreal $3
	push $1
	push $2
	call $1,length
	push rodleg
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localdef $4
	push 0.05
	pop $4
	localdef $5
	push 1.2
	pop $5
	push $3
	push 0
	cmpjle
	cmp0
	je l2960
	push 0.1
	pop $3
l2960:
	localreal $6
	push $4
	push $5
	push $3
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push 0.1
	cmpja
	cmp0
	je l2962
	push $6
	call fthel,setzoom
l2962:
	push rstepx
	push $3
	pop $b
	popax
	mul $a,$b
	popax
	add rgox,$a
	pop rgox
	push rstepy
	push $3
	pop $b
	popax
	mul $a,$b
	popax
	add rgoy,$a
	pop rgoy
	localint $7
	push rgox
	pop $7
	localint $8
	push rgoy
	pop $8
	push $7
	cmp0
	jne l2965
	push $8
	jmp l2966
l2964:
	push 0
	jmp l2966
l2965:
	push 1
l2966:
	cmp0
	je l2967
	push $7
	popax
	sub rgox,$a
	pop rgox
	push $8
	popax
	sub rgoy,$a
	pop rgoy
	push $7
	push $8
	call anhel2,move
	push $7
	popax
	add istartx,$a
	pop istartx
	push $8
	popax
	add istarty,$a
	pop istarty
l2967:
	end method
	method mend
	push "Winda"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l2969
	cthis mend
l2969:
	end method
	end game

	game Winda
	parent Kajuta1
	method init
	push "03winda"
	clparent Kajuta1,init
	push "winda"
	cthis setsndbase
	push A
	push "03winda.jpg"
	push "windaa.jpg"
	push "bat.pyz 5"
	push "winda.pyzG 10"
	push "metry.pyz 11"
	push "bable.pyzP 7"
	cthis imgs=
	new img,imgwinda
	push iResX
	push 800
	push 1
	push 6
	push 12
	push 255
	call imgwinda,create
	push 0
	call imgwindaa,getey
	call imgwinda,setpos
	push 0
	call imgwinda,getey
	call img03winda,setpos
	push 0
	call imgwinda,getey
	call anbat,setpos
	new gmimgvec,grall
	push A
	push "img03winda"
	push "imgwindaa"
	push "imgwinda"
	push "anbat"
	call grall,addlist
	push 0
	push 300
	popax
	sub 0,$a
	call anbat,move
	cthis loadsnddb
	push A
	push ":lektor5"
	push "Jednak szczytem myli technicznej jest podwodne muzeum. Zastosowano tu najnowoczeniejsze materiay aby konstrukcja moga wytrzyma napr ogromnego cinienia."
	push "Winda0"
	cthis sounds=
	push "ambient_podwodny.ogg -v 60"
	call mus,playstr
	push "tim2"
	push "Winda1"
	cthis cycle=
	push "Winda2"
	call ccs,enter
	end method
	method Winda0
	call tcr,ahide
	end method
	method Winda1
	push 0
	push 5
	popax
	sub 0,$a
	call grall,move
	call img03winda,getey
	push 1.35
	push iResY
	pop $b
	popax
	mul $a,$b
	cmpjl
	cmp0
	je l2971
	push "gobat"
	cthis hasvar
	neg
	jmp l2973
l2971:
	push 0
	jmp l2973
l2972:
	push 1
l2973:
	cmp0
	je l2974
	new int,gobat
	push 0
	call anbat,play
l2974:
	call img03winda,getey
	push iResY
	cmpjl
	cmp0
	je l2976
	push "tim3"
	push 500
	push "mend"
	cthis timplay
	jmp l2975
l2976:
	cthis play
l2975:
	end method
	method Winda2
	push "tim1"
	push 1000
	push "Winda3"
	cthis timplay
	end method
	method Winda3
	call tim2,play
	push "lektor5"
	cthis txtplay
	end method
	method mend
	push "Podwodnemuzeum"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l2978
	cthis mend
l2978:
	end method
	end game

	game Podwodnemuzeum
	parent Kajuta
	method init
	push "04podwodnemuzeum"
	clparent Kajuta,init
	push "podwodnemuzeum"
	cthis setsndbase
	push A
	push "woda.jpg"
	push "maska1.pyz 10"
	push "lawica1.pyzP 15"
	push "bkg.png 25"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lektor6"
	push "Twrcy muzeum zdecydowali si na zbudowanie repliki wraku, gwnie z powodw technicznych. Prawdziwy wrak jest w bardzo zym stanie i wszelka zmiana rodowiska mogaby zniszczy go do koca."
	push "Podwodnemuzeum0"
	push ":lilian1"
	push "Jaki oszaamiajcy widok! Musz zobaczy cae muzeum od rodka. O... tam widz jake tablice informacyjne"
	push "Podwodnemuzeum1"
	push ":lilian2"
	push "Tam w oddali widz wiata biurowcw, pewnie tam musz pj."
	push "stdret"
	cthis sounds=
	push "kopula.ogg -l -v 60"
	call mus,playstr
	cthis mexits
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l2980
	push "e1_podwodnemuzeum_enter"
	call clsave,bis
	neg
	jmp l2982
l2980:
	push 0
	jmp l2982
l2981:
	push 1
l2982:
	cmp0
	je l2983
	cthis hidepanel
l2983:
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l2985
	push "e1_hotablicepamiatki"
	call clsave,bis
	cmp0
	je l2987
	push "41dok"
	cthis blockexit
	jmp l2986
l2987:
	push A
	push "07trap"
	push "41dok"
	cthis titblock
l2986:
l2985:
	push "timryby"
	push "Podwodnemuzeum2"
	cthis cycle=
	call timryby,play
	push "Podwodnemuzeum3"
	call ccs,enter
	end method
	method Podwodnemuzeum0
	push "lilian1"
	cthis txtplay
	end method
	method Podwodnemuzeum1
	call tcr,ahide
	push 1
	pop igmstate
	cthis showpanel
	push "belka"
	call grpan,getsac
	spushs
	spop $a
	call [$a],hide
	end method
	method Podwodnemuzeum2
	push 1
	popax
	sub 0,$a
	push 0
	call anlawica1,move
	call anlawica1,getpx
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cmpjl
	cmp0
	je l2989
	push iResX
	call anlawica1,getpx
	pop $b
	popax
	sub $a,$b
	push 0
	call anlawica1,move
l2989:
	cthis play
	end method
	method Podwodnemuzeum3
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l2991
	cthis grextohint
	push "e1_podwodnemuzeum_enter"
	call clsave,bis
	cmp0
	je l2993
	push 1
	pop igmstate
	jmp l2992
l2993:
	push "e1_podwodnemuzeum_enter"
	call clsave,bset
	push "lektor6"
	cthis txtplay
l2992:
	jmp l2990
l2991:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l2995
	push "41dok"
	cthis extohint
	push "e3_podwodnemuzeumenter"
	call clsave,bgo
	cmp0
	je l2997
	push "lilian2"
	cthis txtplay
	jmp l2996
l2997:
	push 1
	pop igmstate
l2996:
l2995:
l2990:
	end method
	method click_07trap
	push "Trap"
	cthis mprzejdz
	end method
	method click_05tablice
	push "Tablice"
	cthis mprzejdz
	end method
	method click_41dok
	push "Dok"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Tablice
	parent Kajuta
	method init
	push "05tablice"
	clparent Kajuta,init
	push "tablice"
	cthis setsndbase
	push A
	push "05tablice.jpg"
	push "swiece.pyzG 5"
	cthis imgs=
	push "Tablice0"
	call grswiece,eval
	cthis loadsnddb
	push A
	push ":kasjer1"
	push "Tutaj widz pastwo list wszystkich ofiar katastrofy; Te wiece przynieli krewni i znajomi ofiar; Na ekranie obok mog pastwo zobaczy przedmioty znalezione na wraku; Zachcamy pastwa do przejrzenia by moe znajdziecie co co naleao do waszych krewnych"
	push "Tablice1"
	push ":lilian1"
	push "To nazwiska ludzi ktrzy zginli. Bardzo duga lista. To straszna tragedia."
	push "Tablice2"
	push ":lilian2"
	push "Na ekranie dotykowym mona zobaczy przedmioty tych ludzi."
	push "stdret"
	push ":lilian3"
	push "Poszukam wejscia do wntrza muzuem."
	push "stdret"
	push ":lilian4"
	push "Tam lezy jakas podarta fotografia."
	push "stdret"
	cthis sounds=
	push "lektor15"
	push "lektor15"
	push "stdret"
	cthis snd=
	push "tablice.ogg -l"
	call mus,playstr
	cthis mexits
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l2999
	push "e1_hotablicepamiatki"
	call clsave,bis
	neg
	cmp0
	je l3001
	push A
	push "07trap"
	cthis titblock
	push "06ho_tablicepamiatki"
	cthis extohint
	jmp l3000
l3001:
	push "07trap"
	cthis extohint
l3000:
	jmp l2998
l2999:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3003
	push A
	push "04podwodnemuzeum"
	push "07trap"
	push "06ho_tablicepamiatki"
	cthis dititblock
	push "zdjecie.pyz 10"
	cthis img=
	new itemadder,clz
	call anzdjecie,Tablice3
	push "anzdjecie"
	cthis hoverhint
l3003:
l2998:
	push "Tablice8"
	call ccs,enter
	end method
	method Tablice0
	push 1
	popax
	sub 0,$a
	cthis play
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	cthis nofframes
	spushs
	spop $h
	call $h,rand
	cthis setframe
	end method
	method Tablice1
	push "lilian1"
	cthis txtplay
	end method
	method Tablice2
	push "lilian2"
	cthis txtplay
	end method
	method Tablice3
	cthis Button_stdalpha
	push "butclick"
	push "Tablice4"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Tablice4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3005
	ret
l3005:
	push 1
	push 0
	cthis setframe
	cthis getname
	call but1,removebut
	cthis getname
	push "Tablice5"
	call clz,showitem
	end method
	method Tablice5
	push "tim1"
	push 1500
	push "Tablice6"
	cthis timplay
	end method
	method Tablice6
	push "anzdjecie"
	push "Tablice7"
	call clz,hideitem
	end method
	method Tablice7
	call anzdjecie,hide
	push "Zdjecie"
	cthis mprzejdz
	end method
	method Tablice8
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3007
	push "e1_tablice_enter"
	call clsave,bis
	cmp0
	je l3009
	call clsave,last
	push "Tablicepamiatki"
	cmpje
	cmp0
	je l3011
	push "lilian3"
	cthis txtplay
	jmp l3010
l3011:
	push 1
	pop igmstate
l3010:
	jmp l3008
l3009:
	push "e1_tablice_enter"
	call clsave,bset
	push "kasjer1"
	cthis txtplay
l3008:
	jmp l3006
l3007:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3013
	push 1
	pop igmstate
	push "04podwodnemuzeum"
	cthis extohint
	jmp l3012
l3013:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3015
	push 1
	pop igmstate
l3015:
l3012:
l3006:
	end method
	method hint_click
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3017
	push 0
	pop igmstate
	push "anzdjecie"
	cthis playhint
	push "lilian4"
	cthis txtplay
l3017:
	end method
	method click_07trap
	push "Trap"
	cthis mprzejdz
	end method
	method click_06ho_tablicepamiatki
	push "e1_hotablicepamiatki"
	call clsave,bis
	cmp0
	je l3019
	push 0
	pop igmstate
	push "lektor15"
	cthis txtplay
	jmp l3018
l3019:
	push "e1_hotablicepamiatki"
	call clsave,bset
	push "Tablicepamiatki"
	cthis mprzejdz
l3018:
	end method
	method click_04podwodnemuzeum
	push "Podwodnemuzeum"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Trap
	parent Kajuta
	method init
	push "07trap"
	clparent Kajuta,init
	push A
	push "07trap.jpg"
	push "wiatrak.pyzG 5"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grwiatrak,nplay
	push "trap"
	cthis setsndbase
	push "kopula.ogg -l -v 50"
	call mus,playstr
	cthis loadsnddb
	push A
	push ":kasjer1"
	push "Zapraszamy pastwa do zwiedzania wraku. Jego replika jest cakowicie bezpieczna. Na ekranach dotykowych moecie pastwo zobaczy materiay historyczne zwizane z budow i eksploatacj Titanica."
	push "Trap0"
	cthis sounds=
	cthis mexits
	push "Trap1"
	call ccs,enter
	end method
	method Trap0
	call tcr,ahide
	push "HOTrap"
	cthis mprzejdz
	end method
	method Trap1
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3021
	push "e1_traphistorial"
	call clsave,bis
	neg
	cmp0
	je l3023
	push "historial"
	cthis extohint
	jmp l3022
l3023:
	push "e1_traphistoriar"
	call clsave,bis
	neg
	cmp0
	je l3025
	push "historiar"
	cthis extohint
	jmp l3024
l3025:
	push "08kasy"
	cthis extohint
l3024:
l3022:
	push "e1_trap_enter"
	call clsave,bis
	cmp0
	je l3027
	push 1
	pop igmstate
	jmp l3026
l3027:
	push "e1_trap_enter"
	call clsave,bset
	push "kasjer1"
	cthis txtplay
l3026:
	jmp l3020
l3021:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3029
	push 1
	pop igmstate
	push "04podwodnemuzeum"
	cthis extohint
l3029:
l3020:
	end method
	method click_08kasy
	push "Kasy"
	cthis mprzejdz
	end method
	method click_historial
	push "e1_traphistorial"
	call clsave,bset
	push "InfoTrapL"
	cthis mprzejdz
	end method
	method click_historiar
	push "e1_traphistoriar"
	call clsave,bset
	push "InfoTrapR"
	cthis mprzejdz
	end method
	method click_04podwodnemuzeum
	push "Podwodnemuzeum"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Kasy
	parent Kajuta
	method init
	push "08kasy"
	clparent Kajuta,init
	push "kasy"
	cthis setsndbase
	push A
	push "08kasy.jpg"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":kasjer1"
	push "Na tych ekranach dotykowych mog pastwo zapozna si faktami i materiaami zebranymi na temat samej katastrofy."
	push "stdret"
	push ":lilian1"
	push "Musz wyj na zewntrz statku i tam znajd droge do dokw z batyskafami."
	push "stdret"
	push ":lilian2"
	push "I better head into the replica."
	push "stdret"
	cthis sounds=
	push "kopula.ogg -l -v 50"
	call mus,playstr
	cthis mexits
	push "e1_hotitanic"
	call clsave,bis
	cmp0
	je l3031
	push "08ho_titanic"
	cthis diblockexit
	push "08ho_titanic"
	cthis hodone
	jmp l3030
l3031:
	push A
	push "07trap"
	push "09korytarzmuzeum"
	cthis titblock
l3030:
	push "Kasy0"
	call ccs,enter
	end method
	method Kasy0
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3033
	push "e1_kasy_enter"
	call clsave,bis
	cmp0
	je l3035
	push 1
	pop igmstate
	jmp l3034
l3035:
	push "e1_kasy_enter"
	call clsave,bset
	push "kasjer1"
	cthis txtplay
	push "08ho_titanic"
	cthis extohint
l3034:
	jmp l3032
l3033:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3037
	push "e3_kasyenter"
	call clsave,bgo
	cmp0
	je l3039
	push "lilian1"
	cthis txtplay
	jmp l3038
l3039:
	push 1
	pop igmstate
l3038:
	push "07trap"
	cthis extohint
l3037:
l3032:
	end method
	method hint_click
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3041
	push "e1_hotitanic"
	call clsave,bis
	jmp l3043
l3041:
	push 0
	jmp l3043
l3042:
	push 1
l3043:
	cmp0
	je l3044
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
l3044:
	end method
	method click_historia
	push "InfoKasyL"
	cthis mprzejdz
	end method
	method click_08ho_titanic
	push "e1_hotitanic"
	call clsave,bset
	push "HOTytan"
	cthis mprzejdz
	end method
	method click_07trap
	push "Trap"
	cthis mprzejdz
	end method
	method click_09korytarzmuzeum
	push "Korytarzmuzeum"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Korytarzmuzeum
	parent Kajuta
	method init
	push "09korytarzmuzeum"
	clparent Kajuta,init
	push "korytarzmuzeum"
	cthis setsndbase
	push A
	push "09korytarzmuzeum.jpg"
	push "drzwi.pyz 5"
	cthis imgs=
	push "kopula.ogg -l -v 40"
	call mus,playstr
	cthis loadsnddb
	push A
	push ":kasjer1"
	push "Zachcamy pastwa do zwiedzania rnych pomieszcze; Prosz si nie krpowa my czuwamy nad waszym bezpieczestwem i nic pastwu nie grozi; Zachcamy do zgbiania tajemnic wraku i jego tragicznego rejsu"
	push "stdret"
	push ":lilian15"
	push "Syszaam e na pokadzie statku byo morderstwo; Czy wie pan co wicej na ten temat"
	push "Korytarzmuzeum0"
	push ":kasjer2"
	push "Niestety nie za wiele; Wiemy tylko tyle ile wiadkowie mogli przekaza jednak z trzeciej klasy niewielu ludzi ocalao; Bya zamknita krata i ci biedacy zostali tam na wieki; Kajuty trzeciej klasy mona zobaczy na prawdziwym wraku wykupujc dodatkow wycieczk batyskafem z przewodnikiem"
	push "Korytarzmuzeum1"
	push ":lilian16"
	push "Gdzie mog wykupi tak wycieczk?"
	push "Korytarzmuzeum2"
	push ":kasjer3"
	push "Na drugim kocu muzeum s budynki administracyjne National Geographic; Prosz si tam uda i tam wszystko bdzie mona zaatwi"
	push "stdret"
	push ":lilian17"
	push "Ciekawe co jest za tymi drzwiami?"
	push "Korytarzmuzeum3"
	cthis sounds=
	push A
	push "opendoor"
	cthis sfxs=
	cthis mexits
	push "Korytarzmuzeum4"
	call ccs,enter
	end method
	method Korytarzmuzeum0
	push "kasjer2"
	cthis txtplay
	end method
	method Korytarzmuzeum1
	push "lilian16"
	cthis txtplay
	end method
	method Korytarzmuzeum2
	push "kasjer3"
	cthis txtplay
	end method
	method Korytarzmuzeum3
	push "HOKajutamuzeum"
	cthis mprzejdz
	end method
	method Korytarzmuzeum4
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3046
	push "e1_korytarzmuzeum_enter"
	call clsave,bis
	cmp0
	je l3048
	push 1
	pop igmstate
	jmp l3047
l3048:
	push "e1_korytarzmuzeum_enter"
	call clsave,bset
	push "kasjer1"
	cthis txtplay
l3047:
	push "e1_hokajutamuzeum"
	call clsave,bis
	neg
	cmp0
	je l3050
	push "10kajutamuzeum"
	cthis extohint
	jmp l3049
l3050:
	cthis grextohint
l3049:
	jmp l3045
l3046:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3052
	push "e3_przewodnik"
	call clsave,bis
	neg
	cmp0
	je l3054
	push "e3_przewodnik"
	call clsave,bset
	push "lilian15"
	cthis txtplay
	jmp l3053
l3054:
	push 1
	pop igmstate
l3053:
	push "08kasy"
	cthis extohint
	push "10kajutamuzeum"
	cthis nohover
l3052:
l3045:
	end method
	method click_08kasy
	push "Kasy"
	cthis mprzejdz
	end method
	method click_10kajutamuzeum
	push 1
	call andrzwi,play
	call fxopendoor,play
	push "e1_hokajutamuzeum"
	call clsave,bis
	neg
	cmp0
	je l3056
	push "e1_hokajutamuzeum"
	call clsave,bset
	push 0
	pop igmstate
	push "lilian17"
	cthis txtplay
	jmp l3055
l3056:
	push "Kajutamuzeum"
	cthis mprzejdz
l3055:
	end method
	method tit_lclick
	end method
	end game

	game Kajutamuzeum
	parent Kajuta
	method init
	push "10kajutamuzeum"
	clparent Kajuta,init
	push "kajutamuzeum"
	cthis setsndbase
	push A
	push "kajutamuzeum.jpg"
	push "lustromask.pyzH"
	cthis imgs=
	push "kopula.ogg -l -v 40"
	call mus,playstr
	cthis loadsnddb
	push A
	push ":lilian3"
	push "Kim jeste? aaaaaaaaaaaa"
	push "Kajutamuzeum0"
	push ":prab1"
	push "Dugo czekaam  na ciebie; Wiele dusz wspierao dziaania ludzi aby moga tu dotrze"
	push "Kajutamuzeum1"
	push ":lilian4"
	push "Czuje jakbym ci znaa; Bya tutaj w dniu katastrofy?"
	push "Kajutamuzeum2"
	push ":prab2"
	push "Znasz mnie z opowieci; Widz e dostaa jedyn pamitk po mnie; W dniu katastrofy wrzuciam medalion do jednej z odzi ratunkowych; Niestety medalion nie jest kompletny zgubiam na pokadzie kilka jego elementw"
	push "Kajutamuzeum3"
	push ":lilian5"
	push "Prababcia?! Jak to moliwe e z tob rozmawiam? Czemu musiaa tu zgin? Mam tyle pyta do ciebie; Mama mwia e pracowaa tutaj jako pielgniarka na grnych pokadach; Czy ju zostaniesz z nami ?"
	push "Kajutamuzeum4"
	push ":prab3"
	push "Niestety mj wiat jest ju gdzie indziej ale czekalimy na ciebie i musisz nam pomc aby podobne rzeczy nie wydarzyy si w przyszoci"
	push "Kajutamuzeum5"
	push ":prab4"
	push "W dniu katastrofy na dolnych pokadach zostali zamknici ludzie biedota ktra emigrowaa do Ameryki; Chciaam im pomc ale niestety nie mogam otworzy kraty ktra oddzielaa ich poziom od wolnoci; Pom nam moemy jeszcze to zmieni"
	push "Kajutamuzeum6"
	push ":lilian6"
	push "Ale jak? aaaaaaaaaaa"
	push "Kajutamuzeum7"
	push ":prab5"
	push "To lustro przeniesie ci do 1912 roku do dnia kiedy wydarzya si katastrofa; Odszukaj prosz wszystkie klucze do kraty a take wszystkie brakujce czci medalionu; Bd ci wspiera; Nie bj si"
	push "Kajutamuzeum8"
	push ":lilian9"
	push "What can I do to save them?"
	push "Kajutamuzeum9"
	push ":prab6"
	push "Jeszcze jedno; Widz e masz ju album na zdjcia ktry pomoe wielu duszom na spokojne odejcie; Spotkasz na swojej drodze duchy; Nie bj si ich i zaopiekuj si nimi; One pomog tobie a ty bardzo pomoesz im"
	push "Kajutamuzeum10"
	push ":prab7"
	push "One more thing, I see that you have a picture album containing photos of passengers who died during the tragic wreck. Throughout your journey, you will meet with spirits from the Titanic, but don't be afraid of them. Help them out, and they will help you in return! Farewell, Lilian, and good luck!"
	push "Kajutamuzeum11"
	push ":lilian7"
	push "Wow! Ja chyba ni! Najpierw duch przy schodach teraz moja prababcia i na dodatek to magiczne lustro przenoszce do innego wymiaru; Co niedobrego dzieje si z moj gow; ale jednak sprawdz czy prababcia mwia prawd"
	push "stdret"
	push ":lilian8"
	push "Moe w biurze muzeum bd wiedzieli czy jest jakas moliwo dostania si na prawdziwy wrak. Zapytam kogo z obsugi."
	push "stdret"
	push ":prab19"
	push "Dzikuj ci Lilian; Mam ju wszystkie klucze dziki ktrym uratuje bardzo wielu ludzi"
	push "Kajutamuzeum14"
	push ":lilian24"
	push "Tak si ciesz e mogam ci zobaczy; Czy spotkamy si jeszcze?"
	push "Kajutamuzeum16"
	push ":prab20"
	push "egnaj Lilian"
	push "Kajutamuzeum17"
	cthis sounds=
	cthis mexits
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3058
	push "11kajutalustro"
	cthis diblockexit
	push "09korytarzmuzeum"
	cthis extohint
	jmp l3057
l3058:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3060
	push A
	push "09korytarzmuzeum"
	push "11kajutalustro"
	cthis titblock
	push "babki.pyz 10"
	cthis img=
	push "ankluczes"
	push "klucze.pyz"
	push 100
	cthis newanima
	call ankluczes,hide
	new itemadder,clkey
	jmp l3059
l3060:
	push "11kajutalustro"
	cthis extohint
l3059:
l3057:
	push "Kajutamuzeum18"
	call ccs,enter
	end method
	method Kajutamuzeum0
	push "prab1"
	cthis txtplay
	end method
	method Kajutamuzeum1
	push "lilian4"
	cthis txtplay
	end method
	method Kajutamuzeum2
	push "prab2"
	cthis txtplay
	end method
	method Kajutamuzeum3
	push "lilian5"
	cthis txtplay
	end method
	method Kajutamuzeum4
	push "prab3"
	cthis txtplay
	end method
	method Kajutamuzeum5
	push "lilian6"
	cthis txtplay
	end method
	method Kajutamuzeum6
	push "lilian6"
	cthis txtplay
	end method
	method Kajutamuzeum7
	push "prab5"
	cthis txtplay
	end method
	method Kajutamuzeum8
	push "lilian9"
	cthis txtplay
	end method
	method Kajutamuzeum9
	push "prab6"
	cthis txtplay
	end method
	method Kajutamuzeum10
	push "prab7"
	cthis txtplay
	end method
	method Kajutamuzeum11
	call tcr,ahide
	push "Kajutamuzeum12"
	push "Kajutamuzeum13"
	call ccs,playfin
	end method
	method Kajutamuzeum12
	call anbabki,hide
	end method
	method Kajutamuzeum13
	push "lilian7"
	cthis txtplay
	end method
	method Kajutamuzeum14
	call tcr,ahide
	push "ankluczes"
	push "Kajutamuzeum15"
	call clkey,hideitem
	end method
	method Kajutamuzeum15
	call clkey,freeitem
	call ankluczes,hide
	push "lilian24"
	cthis txtplay
	end method
	method Kajutamuzeum16
	push "prab20"
	cthis txtplay
	end method
	method Kajutamuzeum17
	call tcr,ahide
	push "Tablice"
	cthis mprzejdz
	end method
	method Kajutamuzeum18
	push "epizod"
	push "e1_muzeum"
	call clsave,is
	cmp0
	je l3062
	push "e1_kajutamuzeum_enter"
	call clsave,bis
	cmp0
	je l3064
	push 1
	pop igmstate
	jmp l3063
l3064:
	push "e1_kajutamuzeum_enter"
	call clsave,bset
	push "babcia.pyzH 10"
	cthis img=
	push "onfinish"
	push "Kajutamuzeum19"
	call anbabcia,addmethod
	push "timbabka"
	push 1000
	push "Kajutamuzeum25"
	cthis timplay
l3063:
	jmp l3061
l3062:
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3068
	push "e3_kajutamuzeumenter"
	call clsave,bgo
	cmp0
	je l3070
	push "lilian8"
	cthis txtplay
	jmp l3069
l3070:
	push 1
	pop igmstate
l3069:
	jmp l3067
l3068:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3072
	call grklucze,hide
	push "ma_klucz1"
	push 0
	call clsave,set
	push "ma_klucz2"
	push 0
	call clsave,set
	push "ma_klucz3"
	push 0
	call clsave,set
	push "ma_klucz4"
	push 0
	call clsave,set
	push "ma_klucz5"
	push 0
	call clsave,set
	push "ma_klucz6"
	push 0
	call clsave,set
	push "ankluczes"
	push "Kajutamuzeum26"
	call clkey,showitem
l3072:
l3067:
l3061:
	end method
	method Kajutamuzeum19
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l3066
	push "Kajutamuzeum20"
	push "Kajutamuzeum21"
	call ccs,playfin
l3066:
	end method
	method Kajutamuzeum20
	push 1
	call anbabcia,play
	end method
	method Kajutamuzeum21
	push "timbabka2"
	push 500
	push "Kajutamuzeum22"
	cthis timplay
	end method
	method Kajutamuzeum22
	push "Kajutamuzeum23"
	push "Kajutamuzeum24"
	call ccs,playfin
	end method
	method Kajutamuzeum23
	delete anbabcia
	push "babki.pyz 10"
	cthis img=
	end method
	method Kajutamuzeum24
	push "lilian3"
	cthis txtplay
	end method
	method Kajutamuzeum25
	push 0
	call anbabcia,play
	call fxshowhint,play
	end method
	method Kajutamuzeum26
	call clkey,freeitem
	push "prab19"
	cthis txtplay
	end method
	method click_09korytarzmuzeum
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l3074
	push "e3_hokorytarzmuzeum"
	call clsave,bis
	neg
	jmp l3076
l3074:
	push 0
	jmp l3076
l3075:
	push 1
l3076:
	cmp0
	je l3077
	push "e3_hokorytarzmuzeum"
	call clsave,bset
	push "HOKorytarzmuzeum"
	cthis mprzejdz
	jmp l3073
l3077:
	push "Korytarzmuzeum"
	cthis mprzejdz
l3073:
	end method
	method click_11kajutalustro
	push "epizod"
	push "e2_1912"
	call clsave,set
	push "Kajutalustro"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Kajutalustro
	parent Kajuta
	method init
	push "11kajutalustro"
	clparent Kajuta,init
	push "kajutalustro"
	cthis setsndbase
	push A
	push "kajutalustro.png"
	push "grall"
	cthis imgsgr=
	cthis loadsnddb
	push A
	push ":lilian6"
	push "Jednak to prawda!"
	push "Kajutalustro0"
	push ":prab7"
	push "Pom mi Lilian; Znajd klucze!"
	push "stdret"
	push ":prab18"
	push "Zosta teraz ostatni klucz; Niestety znajdziesz go w swoich czasach na prawdziwym wraku; Powodzenia Lilian"
	push "stdret"
	push ":prab19"
	push "Dzikuj ci Lilian; Mam ju wszystkie klucze dziki ktrym uratuje bardzo wielu ludzi"
	push "Kajutalustro1"
	push ":lilian24"
	push "Tak si ciesz e mogam ci zobaczy; Czy spotkamy si jeszcze?"
	push "Kajutalustro3"
	push ":prab20"
	push "egnaj Lilian"
	push "Kajutalustro4"
	push ":lilian25"
	push "Przeszukam to pomieszcznie zanim przenios si do moich czasw."
	push "Kajutalustro5"
	push ":lilian26"
	push "We've hit the iceberg! I need to hurry and find this ring!"
	push "stdret"
	cthis sounds=
	cthis mexits
	push A
	push "bgrsala2N"
	cthis sfxs=
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3079
	push "e2_kajutalustrofinito"
	call clsave,bis
	cmp0
	je l3081
	push A
	push "11ho_kajutalustro"
	push "12schody"
	cthis dititblock
	push "11ho_kajutalustro"
	cthis hodone
	jmp l3080
l3081:
	push "e2_morderstworozwiazane"
	call clsave,bis
	cmp0
	je l3083
	push A
	push "10kajutamuzeum"
	push "12schody"
	cthis dititblock
	push "statekbum"
	cthis sfx=
	push "timbum"
	push "Kajutalustro7"
	cthis cycle=
	jmp l3082
l3083:
	push A
	push "10kajutamuzeum"
	push "11ho_kajutalustro"
	cthis titblock
l3082:
l3080:
	jmp l3078
l3079:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3089
	push A
	push "11ho_kajutalustro"
	push "12schody"
	push "10kajutamuzeum"
	cthis titblock
	push A
	push "$scripts/10kajutamuzeum/babki.pyz 10"
	cthis imgs=
	push "ankluczes"
	push "klucze.pyz"
	push 100
	cthis newanima
	call ankluczes,hide
	new itemadder,clkey
l3089:
l3078:
	cthis grextohint
	push "Kajutalustro8"
	call ccs,enter
	end method
	method Kajutalustro0
	push "prab7"
	cthis txtplay
	end method
	method Kajutalustro1
	call tcr,ahide
	push "ankluczes"
	push "Kajutalustro2"
	call clkey,hideitem
	end method
	method Kajutalustro2
	call clkey,freeitem
	call ankluczes,hide
	push "lilian24"
	cthis txtplay
	end method
	method Kajutalustro3
	push "prab20"
	cthis txtplay
	end method
	method Kajutalustro4
	call tcr,ahide
	push "Tablice"
	cthis mprzejdz
	end method
	method Kajutalustro5
	call tcr,ahide
	push "timbum2"
	push 300
	push "Kajutalustro6"
	cthis timplay
	end method
	method Kajutalustro6
	call fxstatekbum,play
	push 2
	call timbum,setcycle
	push "idbum"
	push 20
	call timbum,var2
	call timbum,play
	end method
	method Kajutalustro7
	push idbum
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	cmp0
	je l3085
	push 1
	popax
	sub 0,$a
	push 0
	call grall,move
	jmp l3084
l3085:
	push 1
	push 0
	call grall,move
l3084:
	sub idbum,1
	pop idbum
	push idbum
	push 0
	cmpja
	cmp0
	je l3087
	cthis play
	jmp l3086
l3087:
	push "lilian26"
	cthis txtplay
l3086:
	end method
	method Kajutalustro8
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3091
	push "e2_kajutalustrofinito"
	call clsave,bis
	cmp0
	je l3093
	cthis rosie_go
	jmp l3092
l3093:
	push "e2_morderstworozwiazane"
	call clsave,bis
	cmp0
	je l3095
	push "lilian25"
	cthis txtplay
	jmp l3094
l3095:
	push "e2_kajutalustro_enter"
	call clsave,bis
	cmp0
	je l3097
	push 1
	pop igmstate
	jmp l3096
l3097:
	push "e2_kajutalustro_enter"
	call clsave,bset
	push "lilian6"
	cthis txtplay
l3096:
l3094:
l3092:
	jmp l3090
l3091:
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l3099
	call grklucze,hide
	push "ma_klucz1"
	push 0
	call clsave,set
	push "ma_klucz2"
	push 0
	call clsave,set
	push "ma_klucz3"
	push 0
	call clsave,set
	push "ma_klucz4"
	push 0
	call clsave,set
	push "ma_klucz5"
	push 0
	call clsave,set
	push "ma_klucz6"
	push 0
	call clsave,set
	push "ankluczes"
	push "Kajutalustro9"
	call clkey,showitem
l3099:
l3090:
	end method
	method Kajutalustro9
	call clkey,freeitem
	push "prab19"
	cthis txtplay
	end method
	method rosie_help
	push "prab18"
	cthis txtplay
	end method
	method click_12schody
	push "Schody"
	cthis mprzejdz
	end method
	method click_10kajutamuzeum
	push "epizod"
	push "e3_powrot"
	call clsave,set
	push "Kajutamuzeum"
	cthis mprzejdz
	end method
	method click_11ho_kajutalustro
	push "e2_kajutalustrofinito"
	call clsave,bset
	push "HOKajutalustro"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Schody
	parent Kajuta
	method init
	push "12schody"
	clparent Kajuta,init
	push "schody"
	cthis setsndbase
	push A
	push "12schody.jpg"
	push "skrytka.pyz 10"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Jestem niewidzialna; Mog wej wszdzie i nikt mnie nie zobaczy"
	push "stdret"
	push ":lilian2"
	push "Zepsuty zegar Co mi podpowiada e to nie jedyna jego funkcja"
	push "Schody0"
	push ":lilian3"
	push "Mam pierwszy z szeciu zaginionych kluczy! Musz przeszuka pokad Tytanika w poszukiwaniu pozostaych oraz drugiej czci medalionu prababci."
	push "stdret"
	push ":lilian4"
	push "Poszukam sali o ktrej mwia prababcia."
	push "stdret"
	push ":lilian5"
	push "Wydje mi si, e wejscie do sali tureckiej byo blisko kanapy."
	push "stdret"
	cthis sounds=
	push A
	push "bgrsala2N"
	cthis sfxs=
	cthis mexits
	push "14korytarz3odnogi"
	cthis mgoldhover
	push "11kajutalustro"
	cthis nohover
	push "e2_schody_otwarta_skrytka"
	call clsave,bis
	cmp0
	je l3101
	push "open"
	push 0
	call anskrytka,setframe
	push "13ho_skrytkaschody"
	cthis diblockexit
	push "13ho_skrytkaschody"
	cthis hodone
l3101:
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3103
	push "e2_recepcjalustro"
	call clsave,bis
	cmp0
	je l3105
	push A
	push "38salaturecka"
	push "36salabalowarecepcja"
	push "11kajutalustro"
	cthis titblock
	push "14korytarz3odnogi"
	cthis extohint
	jmp l3104
l3105:
	push "e2_wnioskitajemnica"
	call clsave,bis
	cmp0
	je l3107
	push "gwarludziN 50"
	cthis sfx=
	push "e2ludzie2.pyzG 20"
	cthis img=
	push "e2_recepcjaszafa"
	call clsave,bis
	cmp0
	je l3109
	push "e2_hosalaturecka"
	call clsave,bis
	neg
	jmp l3111
l3109:
	push 0
	jmp l3111
l3110:
	push 1
l3111:
	cmp0
	je l3112
	push A
	push "14korytarz3odnogi"
	push "11kajutalustro"
	cthis titblock
	push "38salaturecka"
	cthis extohint
	jmp l3108
l3112:
	push A
	push "38salaturecka"
	push "14korytarz3odnogi"
	push "11kajutalustro"
	cthis titblock
	cthis grextohint
l3108:
	jmp l3106
l3107:
	push "e2ludzie.pyzG 20"
	cthis img=
	push "gwarludziN 50"
	cthis sfx=
	push "e2_schody_otwarta_skrytka"
	call clsave,bis
	neg
	cmp0
	je l3114
	push A
	push "38salaturecka"
	push "14korytarz3odnogi"
	push "36salabalowarecepcja"
	cthis titblock
	push "13ho_skrytkaschody"
	cthis extohint
	jmp l3113
l3114:
	push A
	push "38salaturecka"
	push "36salabalowarecepcja"
	cthis titblock
	push "14korytarz3odnogi"
	cthis extohint
l3113:
l3106:
l3104:
l3103:
	push "Schody1"
	call ccs,enter
	end method
	method Schody0
	call tcr,ahide
	push "Zegar"
	cthis mprzejdz
	end method
	method Schody1
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3116
	push "e2_schody_enter"
	call clsave,bis
	cmp0
	je l3118
	push "e2_schody_otwarta_skrytka"
	call clsave,bis
	cmp0
	je l3120
	push "e2_schodykoment1"
	call clsave,bis
	neg
	jmp l3122
l3120:
	push 0
	jmp l3122
l3121:
	push 1
l3122:
	cmp0
	je l3123
	push "e2_schodykoment1"
	call clsave,bset
	push "lilian3"
	cthis txtplay
	jmp l3119
l3123:
	push "e2_wnioskitajemnica"
	call clsave,bis
	cmp0
	je l3125
	push "e2_schodykomentsalabalowa"
	call clsave,bgo
	jmp l3127
l3125:
	push 0
	jmp l3127
l3126:
	push 1
l3127:
	cmp0
	je l3128
	push "lilian4"
	cthis txtplay
	jmp l3124
l3128:
	push 1
	pop igmstate
l3124:
l3119:
	jmp l3117
l3118:
	push "e2_schody_enter"
	call clsave,bset
	push "lilian1"
	cthis txtplay
l3117:
l3116:
	end method
	method hint_click
	push "e2_recepcjaszafa"
	call clsave,bis
	cmp0
	je l3130
	push "e2_hosalaturecka"
	call clsave,bis
	neg
	jmp l3132
l3130:
	push 0
	jmp l3132
l3131:
	push 1
l3132:
	cmp0
	je l3133
	push 0
	pop igmstate
	push "38salaturecka"
	cthis playexhint
	push "lilian5"
	cthis txtplay
l3133:
	end method
	method click_38salaturecka
	push "Salaturecka"
	cthis mprzejdz
	end method
	method click_14korytarz3odnogi
	push "e2_hokorytarz3odnogi"
	call clsave,bis
	neg
	cmp0
	je l3135
	push "e2_hokorytarz3odnogi"
	call clsave,bset
	push "HOKorytarz3odnogi"
	cthis mprzejdz
	jmp l3134
l3135:
	push "Korytarz3odnogi"
	cthis mprzejdz
l3134:
	end method
	method click_36salabalowarecepcja
	push "Salabalowarecepcja"
	cthis mprzejdz
	end method
	method click_13ho_skrytkaschody
	push "e2_schody_otwarta_skrytka"
	call clsave,bset
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method click_11kajutalustro
	push "Kajutalustro"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Korytarz3odnogi
	parent Kajuta
	method init
	push "14korytarz3odnogi"
	clparent Kajuta,init
	push "korytarz3odnogi"
	cthis setsndbase
	push A
	push "14korytarz3odnogi.jpg"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Pjd prosto korytarzem."
	push "stdret"
	push ":lilian2"
	push "Moe teraz pjd w inna stron?"
	push "stdret"
	push ":lilian3"
	push "Teraz zostaa mi tylko jedna droga."
	push "stdret"
	cthis sounds=
	push A
	push "bgrsala2N"
	cthis sfxs=
	cthis mexits
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3137
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3139
	push A
	push "15korytarzambulatorium"
	push "20korytarzkrata"
	cthis titblock
	push "18kajutabos"
	cthis extohint
	push "12schody"
	cthis nohover
	jmp l3138
l3139:
	push "e2_recepcjalustro"
	call clsave,bis
	cmp0
	je l3141
	push A
	push "15korytarzambulatorium"
	push "18kajutabos"
	cthis titblock
	push "20korytarzkrata"
	cthis extohint
	push "12schody"
	cthis nohover
	jmp l3140
l3141:
	push "ma_klucz3"
	call clsave,bis
	cmp0
	je l3143
	jmp l3142
l3143:
	push "ma_klucz2"
	call clsave,bis
	cmp0
	je l3145
	push "20korytarzkrata"
	cthis blockexit
	jmp l3144
l3145:
	push A
	push "20korytarzkrata"
	push "18kajutabos"
	cthis titblock
l3144:
l3142:
l3140:
l3138:
l3137:
	new int,ipodpokor
	push 0
	pop ipodpokor
	push "Korytarz3odnogi0"
	call ccs,enter
	end method
	method Korytarz3odnogi0
	push "e2_hoskrzyniaplay"
	call clsave,bis
	cmp0
	je l3147
	push "e2_ko3ostatniadroga"
	call clsave,bis
	neg
	jmp l3149
l3147:
	push 0
	jmp l3149
l3148:
	push 1
l3149:
	cmp0
	je l3150
	push "lilian3"
	cthis txtplay
	push 3
	pop ipodpokor
	jmp l3146
l3150:
	push "e2_hoambulatorium"
	call clsave,bis
	cmp0
	je l3152
	push "e2_kor3koment2"
	call clsave,bis
	neg
	jmp l3154
l3152:
	push 0
	jmp l3154
l3153:
	push 1
l3154:
	cmp0
	je l3155
	push "lilian2"
	cthis txtplay
	push 2
	pop ipodpokor
	jmp l3151
l3155:
	push "e2_hokorytarz3odnogidone"
	call clsave,bis
	neg
	cmp0
	je l3157
	push "lilian1"
	cthis txtplay
	push 1
	pop ipodpokor
	jmp l3156
l3157:
	push 1
	pop igmstate
l3156:
l3151:
l3146:
	end method
	method hint_click
	push ipodpokor
	spushs
	push 1
	cmpst
	jne l3159
	spop $a
	push 0
	pop igmstate
	push "lilian1"
	cthis txtplay
	push "15korytarzambulatorium"
	cthis playexhint
	jmp l3158
l3159:
	push 2
	cmpst
	jne l3160
	spop $a
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	push "18kajutabos"
	cthis playexhint
	jmp l3158
l3160:
	push 3
	cmpst
	jne l3161
	spop $a
	push 0
	pop igmstate
	push "lilian3"
	cthis txtplay
	push "20korytarzkrata"
	cthis playexhint
	jmp l3158
l3161:
	spop $a
l3158:
	end method
	method click_15korytarzambulatorium
	push "e2_hokorytarz3odnogidone"
	call clsave,bset
	push "Korytarzambulatorium"
	cthis mprzejdz
	end method
	method click_20korytarzkrata
	push "e2_ko3ostatniadroga"
	call clsave,bset
	push "Korytarzkrata"
	cthis mprzejdz
	end method
	method click_18kajutabos
	push "e2_kor3koment2"
	call clsave,bset
	push "Kajutabos"
	cthis mprzejdz
	end method
	method click_12schody
	push "Schody"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Korytarzambulatorium
	parent Kajuta
	method init
	push "15korytarzambulatorium"
	clparent Kajuta,init
	push "korytarzambulatorium"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":lilian7"
	push "To pewnie gabinet prababci"
	push "Korytarzambulatorium0"
	push ":lilian1"
	push "Sprawdz czy drzwi s otwarte. By moe znajd tam co ciekawego."
	push "stdret"
	cthis sounds=
	push A
	push "opendoor"
	push "bgrsala2N"
	push "foto2 30"
	cthis sfxs=
	push "15korytarzambulatorium.jpg"
	cthis img=
	push A
	push "zegar.pyzP 5"
	push "zegarmask.pyz 10"
	push "doors.pyz 5"
	cthis imgs=
	cthis mexits
	push "e2_hoambulatorium"
	call clsave,bis
	cmp0
	je l3163
	push "14korytarz3odnogi"
	cthis extohint
	jmp l3162
l3163:
	push "16ambulatorium"
	cthis extohint
l3162:
	push "Korytarzambulatorium1"
	call ccs,enter
	end method
	method Korytarzambulatorium0
	push "HOAmbulatorium2"
	cthis mprzejdz
	end method
	method Korytarzambulatorium1
	push "e2_weszlakorambulatorium"
	call clsave,bis
	neg
	cmp0
	je l3165
	push "e2_weszlakorambulatorium"
	call clsave,bset
	push "lilian1"
	cthis txtplay
	jmp l3164
l3165:
	push 1
	pop igmstate
l3164:
	end method
	method click_16ambulatorium
	push 0
	push 1
	call andoors,setframe
	call fxopendoor,play
	push "e2_korytarzambulatorium_enter"
	call clsave,bis
	neg
	cmp0
	je l3167
	push "e2_korytarzambulatorium_enter"
	call clsave,bset
	push 0
	pop igmstate
	push "lilian7"
	cthis txtplay
	jmp l3166
l3167:
	push "Ambulatorium"
	cthis mprzejdz
l3166:
	end method
	method click_14korytarz3odnogi
	push "Korytarz3odnogi"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Ambulatorium
	parent Kajuta
	method init
	push "16ambulatorium"
	clparent Kajuta,init
	push "ambulatorium"
	cthis setsndbase
	push A
	push ":lilian1"
	push "Rosemary must have been in a hurry, she left many items in disarray! What a caring woman, risking her own life to try to save those trapped passengers."
	push "stdret"
	push ":lilian2"
	push "Moe apteczka skrywa co w swoim wntrzu?"
	push "Ambulatorium0"
	push ":lilian3"
	push "Nie ma tu ju nic do zrobienia. Id szuka kluczy w innych miejscach."
	push "stdret"
	cthis titsounds=
	push A
	push "bkg.pyz"
	push "firany.pyzG 5"
	push "polka.pyz 10"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grfirany,nplay
	push A
	push "przeciagN"
	cthis sfxs=
	cthis mexits
	push "e2_hoambulatorium"
	call clsave,bis
	cmp0
	je l3169
	push 2
	push 0
	call anpolka,setframe
	push "17ho_ambulatorium"
	cthis diblockexit
	push "17ho_ambulatorium"
	cthis hodone
	push "15korytarzambulatorium"
	cthis extohint
	jmp l3168
l3169:
	push "17ho_ambulatorium"
	cthis extohint
l3168:
	push "Ambulatorium1"
	call ccs,enter
	end method
	method Ambulatorium0
	push "HOAmbulatorium"
	cthis mprzejdz
	end method
	method Ambulatorium1
	call clsave,last
	push "HOAmbulatorium"
	cmpje
	cmp0
	je l3171
	push "lilian3"
	cthis txtplay
	jmp l3170
l3171:
	push "e2_weszlaambulatorium"
	call clsave,bgo
	cmp0
	je l3173
	push "lilian1"
	cthis txtplay
	jmp l3172
l3173:
	push 1
	pop igmstate
l3172:
l3170:
	end method
	method click_17ho_ambulatorium
	push 1
	call anpolka,play
	push "e2_hoambulatorium"
	call clsave,bset
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method click_15korytarzambulatorium
	push "Korytarzambulatorium"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Kajutabos
	parent Kajuta
	method init
	push "18kajutabos"
	clparent Kajuta,init
	push "kajutabos"
	cthis setsndbase
	push A
	push "kajutabos.png 5"
	push "morze.pyzP"
	push "dymek.pyzP 10"
	push "skrzynia.pyz 20"
	cthis imgs=
	push A
	push "bgrmorzeN 70"
	push "skrzyniaopen 30"
	cthis sfxs=
	cthis loadsnddb
	push A
	push ":prab14"
	push "Rozwizaa zagadk mierci dziewczyny; Nieszczliwa mio a po grb"
	push "Kajutabos0"
	push ":lilian17"
	push "It was the officer! He killed the woman because she didn't return his love!"
	push "Kajutabos1"
	push ":prab15"
	push "Za chwil dojdzie do katastrofy; Musisz wrci do swojego czasu aby zdoby ostatni klucz"
	push "Kajutabos2"
	push ":lilian14"
	push "Nie zd uratowa tych nieszcznikw!"
	push "Kajutabos3"
	push ":prab16"
	push "Dasz rad;  ja ci w tym bardzo pomog; Teraz jednak musisz wrci do mojego pokoju i odnale tam piercionek jaki znalazam przy tej zabitej dziewczynie; Ostatni klucz ma przy sobie oficer ktry jest gdzie we wraku Titanica; Musisz wrci do swoich czasw i tam go odszuka"
	push "Kajutabos4"
	push ":prab17"
	push "Popiesz si Lilian"
	push "Kajutabos5"
	push ":lilian15"
	push "To chyba kajuta jakiego oficera, rozejrz si."
	push "stdret"
	push ":lilian16"
	push "Maybe I overlooked something in the trunk last time I searched through it."
	push "stdret"
	cthis sounds=
	cthis mexits
	push "do_19skrzynia"
	call grext,mhide
	push "ma_klucz3"
	call clsave,bis
	neg
	cmp0
	jne l3176
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3177
	push "e2_hoskrzyniaagain"
	call clsave,bis
	neg
	jmp l3179
l3177:
	push 0
	jmp l3179
l3178:
	push 1
l3179:
	jmp l3180
l3175:
	push 0
	jmp l3180
l3176:
	push 1
l3180:
	cmp0
	je l3181
	push "anskrzynia"
	cthis antohint
	jmp l3174
l3181:
	push "14korytarz3odnogi"
	cthis extohint
l3174:
	call anskrzynia,mhobj
	push "anskrzynia"
	cthis hoverhint
	push "18kajutabos_skrzynia_open"
	call clsave,bis
	cmp0
	je l3183
	push "open"
	push 0
	call anskrzynia,setframe
l3183:
	push "e2_hoskrzyniaagain"
	call clsave,bis
	cmp0
	je l3185
	push "e2_morderstworozwiazane"
	call clsave,bis
	neg
	jmp l3187
l3185:
	push 0
	jmp l3187
l3186:
	push 1
l3187:
	cmp0
	je l3188
	push "e2_morderstworozwiazane"
	call clsave,bset
	cthis rosie_go
	jmp l3184
l3188:
	push "Kajutabos6"
	call ccs,enter
l3184:
	end method
	method Kajutabos0
	push "lilian17"
	cthis txtplay
	end method
	method Kajutabos1
	push "prab15"
	cthis txtplay
	end method
	method Kajutabos2
	push "lilian14"
	cthis txtplay
	end method
	method Kajutabos3
	push "prab16"
	cthis txtplay
	end method
	method Kajutabos4
	push "prab17"
	cthis txtplay
	end method
	method Kajutabos5
	push "Kajutalustro"
	cthis mprzejdz
	end method
	method Kajutabos6
	push "e2_kajutaoficerenter"
	call clsave,bgo
	cmp0
	je l3190
	push "lilian15"
	cthis txtplay
	jmp l3189
l3190:
	push 1
	pop igmstate
l3189:
	end method
	method rosie_help
	push "prab14"
	cthis txtplay
	end method
	method click_14korytarz3odnogi
	push "Korytarz3odnogi"
	cthis mprzejdz
	end method
	method anskrzynia_click
	call anskrzynia,actionname
	push "close"
	cmpje
	cmp0
	je l3192
	push "18kajutabos_skrzynia_open"
	call clsave,bset
	push "open"
	push 0
	call anskrzynia,setframe
	call fxskrzyniaopen,play
	jmp l3191
l3192:
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3194
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3196
	push "e2_hoskrzyniaagain"
	call clsave,bis
	neg
	jmp l3198
l3196:
	push 0
	jmp l3198
l3197:
	push 1
l3198:
	cmp0
	je l3199
	push "e2_hoskrzyniaagain"
	call clsave,bset
	push "els_"
	pop HiddenExclude
	push "els2_"
	pop HiddenEls
	push "Skrzynia"
	cthis mprzejdz
	jmp l3195
l3199:
	push "ma_klucz3"
	call clsave,bis
	neg
	cmp0
	je l3201
	push "Skrzynia"
	cthis mprzejdz
l3201:
l3195:
l3194:
l3191:
	end method
	method hint_click
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3203
	push "e2_hoskrzyniaagain"
	call clsave,bis
	neg
	jmp l3205
l3203:
	push 0
	jmp l3205
l3204:
	push 1
l3205:
	cmp0
	je l3206
	push 0
	pop igmstate
	push "lilian16"
	cthis txtplay
l3206:
	end method
	method tit_lclick
	end method
	end game

	game Korytarzkrata
	parent Kajuta
	method init
	push "20korytarzkrata"
	clparent Kajuta,init
	push "korytarzkrata"
	cthis setsndbase
	push A
	push "20korytarzkrata.jpg"
	push "krata.pyz 10"
	push "kufer.pyz 10"
	cthis imgs=
	push A
	push ":lilian1"
	push "Krata blokuje przejcie. Sprbuj j otworzy."
	push "stdret"
	push ":lilian2"
	push "Super! Udao mi si! Schody prowadz na gr."
	push "stdret"
	cthis titsounds=
	push A
	push "skrzyniaopen 30"
	push "bgrsala2N"
	cthis sfxs=
	cthis mexits
	push "e2_otworzyl_krate"
	call clsave,bis
	cmp0
	je l3208
	push 1
	push 0
	call ankrata,setframe
	push "klodki"
	cthis diblockexit
	push "21korytarznamostek"
	cthis extohint
	jmp l3207
l3208:
	push "21korytarznamostek"
	cthis blockexit
	push "21korytarznamostek"
	cthis mgetext
	spushs
	push 0
	push 1000
	popax
	sub 0,$a
	spop $a
	call [$a],move
l3207:
	push "e2_kuferkorytarznamostek"
	call clsave,bis
	cmp0
	je l3210
	push "20ho_korytarzkrata"
	cthis blockexit
	push "20ho_korytarzkrata"
	cthis disablexit
	push "20ho_korytarzkrata"
	cthis hodone
	push "e2_otworzyl_krate"
	call clsave,bis
	neg
	cmp0
	je l3212
	push "klodki"
	cthis extohint
	jmp l3211
l3212:
	push "klodki"
	cthis mgetext
	spushs
	push 0
	push 1000
	popax
	sub 0,$a
	spop $a
	call [$a],move
l3211:
	push "14korytarz3odnogi"
	cthis nohover
	jmp l3209
l3210:
	push "klodki"
	cthis blockexit
	push "20ho_korytarzkrata"
	cthis extohint
l3209:
	push "Korytarzkrata0"
	call ccs,enter
	end method
	method Korytarzkrata0
	call clsave,last
	push "Klodki"
	cmpje
	cmp0
	je l3214
	push "lilian2"
	cthis txtplay
	jmp l3213
l3214:
	push "e2_korytarzkrataenter"
	call clsave,bgo
	cmp0
	je l3216
	push "lilian1"
	cthis txtplay
	jmp l3215
l3216:
	push 1
	pop igmstate
l3215:
l3213:
	end method
	method click_20ho_korytarzkrata
	push "e2_kuferkorytarznamostek"
	call clsave,bset
	push "item_szyfr"
	call clsave,bset
	push 2
	pop igmstate
	push 1
	push 0
	call ankufer,setframe
	call fxskrzyniaopen,play
	push "tim1"
	push 1000
	push "Korytarzkrata1"
	cthis timplay
	end method
	method Korytarzkrata1
	push "HOKorytarzkrata"
	cthis mprzejdz
	end method
	method click_21korytarznamostek
	push "e2_hokorytarznamostek"
	call clsave,bis
	neg
	cmp0
	je l3218
	push "e2_hokorytarznamostek"
	call clsave,bset
	push "HOKorytarznamostek"
	cthis mprzejdz
	jmp l3217
l3218:
	push "Korytarznamostek"
	cthis mprzejdz
l3217:
	end method
	method click_klodki
	push "e2_otworzyl_krate"
	call clsave,bset
	push "Klodki"
	cthis mprzejdz
	end method
	method click_14korytarz3odnogi
	push "Korytarz3odnogi"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Korytarznamostek
	parent Kajuta
	method init
	push "21korytarznamostek"
	clparent Kajuta,init
	push A
	push "21korytarznamostek.jpg"
	push "lampy.pyzG 10"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grlampy,nplay
	push A
	push "bgrsala2N"
	cthis sfxs=
	cthis mexits
	push "22mostek"
	cthis extohint
	push "22mostek"
	cthis mgoldhover
	cthis mstdenter
	end method
	method click_20korytarzkrata
	push "Korytarzkrata"
	cthis mprzejdz
	end method
	method click_22mostek
	push "Mostek"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Mostek
	parent Kajuta
	method init
	push "22mostek"
	clparent Kajuta,init
	push "mostek"
	cthis setsndbase
	push A
	push "22mostek.jpg"
	push "22mostek2.jpg"
	push "maska.pyz 5"
	push "morze.pyzP 2"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":oficer1"
	push "Panie kapitanie! Mam z wiadomo; Dokonano ohydnego morderstwa w kajucie klasy trzeciej"
	push "Mostek0"
	push ":kapitan1"
	push "No jeszcze tego nam brakowao; Co dokadnie si stao?"
	push "Mostek1"
	push ":oficer2"
	push "Dzisiaj rano niejaki Brandon, znalaz ciao swojej przyszej narzeczonej i od razu zawiadomi obsug statku; Lekarz stwierdzi zgon w wyniku gbokiej rany zadanej noem"
	push "Mostek2"
	push ":kapitan2"
	push "Powinna si tym zaj policja; Prosz zaplombowa jej kajut i niczego nie rusza"
	push "Mostek3"
	push ":oficer3"
	push "Z caym szacunkiem ale kiedy dopyniemy do portu morderca moe uciec; Zaplombowanie samej kajuty nic nie da; Kazaem zamkn krat wejciowa na trzeci pokad"
	push "Mostek4"
	push ":kapitan3"
	push "Wie pan czym to grozi? Co bdzie w przypadku jakiej nie daj Boe katastrofy?"
	push "Mostek5"
	push ":oficer4"
	push "Klucz mam przy sobie wiec w razie nagego wypadku szybko otworz krat; Prosz si nie obawia przecie ten statek jest niezatapialny"
	push "Mostek6"
	push ":kapitan4"
	push "Dobrze; Ma pan racje; Zostawmy zamknite przedziay trzeciej klasy; Klucz prosz mie przy sobie"
	push "Mostek7"
	push ":lilian8"
	push "O czym oni mwi? Jakie morderstwo? Moe to jest wanie ta mroczna tajemnica o ktrej mwia Prababcia ?"
	push "stdret"
	push ":lilian9"
	push "Przeszukam to pomieszczenie moe znajd jakies wskazwki "
	push "stdret"
	push ":lilian10"
	push "Plan statku z zaznaczonymi miejscami? Pewnie to s miejsca skrytek gdzie oficer schowa klucze; Ciekawe dlaczego to zrobi? Mwi e klucze trzyma przy sobie"
	push "Mostek10"
	push ":lilian11"
	push "Musz dalej szuka kluczy; Obiecaam e pomog uwolni tych nieszcznikw"
	push "stdret"
	push ":lilian12"
	push "Te belki pod sufitem s do due. Przyjrz si im bliej."
	push "stdret"
	cthis sounds=
	push A
	push "bgrszumoceanuN 60"
	push "mapafound"
	cthis sfxs=
	cthis mexits
	push "21korytarznamostek"
	cthis diblockexit
	push "23korytarzdolnypoklad"
	cthis extohint
	push "e2_pogadal_kapitan"
	call clsave,bis
	cmp0
	je l3220
	call img22mostek,hide
	jmp l3219
l3220:
	call img22mostek2,hide
	new itemadder,clmap
	push A
	push "mapka.pyz 10"
	push "mapka2.pyzH 100"
	push "captain.pyz 10"
	cthis imgs=
	push "23korytarzdolnypoklad"
	cthis nohover
	call anmapka,Mostek11
l3219:
	push "Mostek14"
	call ccs,enter
	end method
	method Mostek0
	push "kapitan1"
	cthis txtplay
	end method
	method Mostek1
	push "oficer2"
	cthis txtplay
	end method
	method Mostek2
	push "kapitan2"
	cthis txtplay
	end method
	method Mostek3
	push "oficer3"
	cthis txtplay
	end method
	method Mostek4
	push "kapitan3"
	cthis txtplay
	end method
	method Mostek5
	push "oficer4"
	cthis txtplay
	end method
	method Mostek6
	push "kapitan4"
	cthis txtplay
	end method
	method Mostek7
	call tcr,ahide
	push "Mostek8"
	push "Mostek9"
	call ccs,playfin
	end method
	method Mostek8
	call img22mostek,hide
	call img22mostek2,show
	call ancaptain,hide
	end method
	method Mostek9
	push "lilian8"
	cthis txtplay
	end method
	method Mostek10
	push "anmapka2"
	push "null"
	call clmap,hideitem
	push "lilian11"
	cthis txtplay
	end method
	method Mostek11
	cthis Button_stdalpha
	push "anmapka"
	cthis addhintpad
	cthis getname
	cthis hoverhint
	push "butclick"
	push "Mostek12"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Mostek12
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3222
	ret
l3222:
	push 2
	pop igmstate
	cthis hide
	call fxmapafound,play
	call anmapka2,ancenterscreen
	push "e2_ma_mapke"
	call clsave,bset
	push "anmapka2"
	push "Mostek13"
	call clmap,showitem
	push "anmapka"
	call grhint,remove
	push "anmapka"
	cthis removehintpad
	push "23korytarzdolnypoklad"
	cthis mgetext
	cthis hoverhint
	end method
	method Mostek13
	push "lilian10"
	cthis txtplay
	end method
	method Mostek14
	push "e2_pogadal_kapitan"
	call clsave,bis
	cmp0
	je l3224
	push 1
	pop igmstate
	jmp l3223
l3224:
	push "e2_pogadal_kapitan"
	call clsave,bset
	push "oficer1"
	cthis txtplay
l3223:
	end method
	method click_21korytarznamostek
	push "e2_ma_mapke"
	call clsave,bis
	cmp0
	je l3226
	push "Korytarznamostek"
	cthis mprzejdz
	jmp l3225
l3226:
	push 0
	pop igmstate
	push "lilian9"
	cthis txtplay
l3225:
	end method
	method click_23korytarzdolnypoklad
	push "e2_ma_mapke"
	call clsave,bis
	cmp0
	je l3228
	push "e2_hokorytarzdolnypoklad"
	call clsave,bis
	neg
	cmp0
	je l3230
	push "e2_hokorytarzdolnypoklad"
	call clsave,bset
	push "HOKorytarzdolnypoklad"
	cthis mprzejdz
	jmp l3229
l3230:
	push "Korytarzdolnypoklad"
	cthis mprzejdz
l3229:
	jmp l3227
l3228:
	push 0
	pop igmstate
	push "lilian9"
	cthis txtplay
l3227:
	end method
	method tit_lclick
	end method
	method hint_click
	push "e2_ma_mapke"
	call clsave,bis
	neg
	cmp0
	je l3232
	push 0
	pop igmstate
	push "lilian12"
	cthis txtplay
	push "anmapka"
	cthis playhint
l3232:
	end method
	end game

	game Pokojlilian
	parent Hidden
	method init
	push "01pokojlilian"
	clparent Hidden,init
	push "pokojlilian"
	cthis setsndbase
	push A
	push "pokojlilian.png"
	push "lampa.pyzH 5"
	push "lampamask.pyzH"
	push "szuflada.pyz"
	push "maskamedalion.pyz"
	push "maskaparasol.pyz"
	cthis imgs=
	push A
	push "szufladaopen"
	push "szufladaclose"
	push "lampka 80"
	cthis sfxs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Zabior kilka drobiazgw i wyjedam jeszcze dzisiaj"
	push "Pokojlilian0"
	push ":lilian2"
	push "My great-great-grandmother Rosemarys medallion the only belonging of hers that survived from the catastrophe! After news of the ship's sinking, the medallion was returned to Rosemarys daughter, my great-grandmother, and it has been passed down through the family ever since. Unfortunately, it was damaged during that chaotic night on the ship. Its entire interior was left on the Titanic, broken in pieces."
	push "Pokojlilian1"
	push ":lilian3"
	push "A zabrae medalion? Potem znowu bdziesz pisa, e si gra wywala!"
	push "stdret"
	cthis sounds=
	push "lektor1"
	push "lektor1"
	push "Pokojlilian2"
	cthis snd=
	push "lektor3"
	push "lektor3"
	push "Pokojlilian3"
	cthis snd=
	push "titanic"
	call anszuflada,mhider
	call anszuflada,mhobj
	push "anszuflada"
	cthis hoverhint
	call anlampamask,mhobjmask
	push "anlampamask"
	cthis hoverhint
	push "parasol"
	call anmaskaparasol,mmask
	push "medalion"
	call anmaskamedalion,mmask
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3234
	cthis mbutnext
l3234:
	push "epizod"
	push "e1_muzeum"
	call clsave,set
	push "Pokojlilian4"
	call ccs,enter
	end method
	method Pokojlilian0
	push "lektor1"
	cthis txtplay
	end method
	method Pokojlilian1
	call tcr,ahide
	push 1
	pop igmstate
	cthis hiddenobj_put
	end method
	method Pokojlilian2
	call tcr,ahide
	push 1
	pop igmstate
	end method
	method Pokojlilian3
	push 15
	pop igmstate
	end method
	method Pokojlilian4
	push "lilian1"
	cthis txtplay
	end method
	method anlampamask_click
	call fxlampka,play
	call anlampa,isvisible
	cmp0
	je l3236
	call anlampa,hide
	jmp l3235
l3236:
	call anlampa,show
l3235:
	end method
	method anszuflada_click
	cthis mhiderclick
	push 1
	popax
	sub 0,$a
	call anszuflada,actionnr
	push 0
	cmpjne
	cmp0
	je l3238
	call fxszufladaopen,play
	jmp l3237
l3238:
	call fxszufladaclose,play
l3237:
	end method
	method medalion_put
	push "ma_medalion"
	call clsave,bset
	cthis mshowmedalion
	push 10
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3240
	push igmstate
	push 10
	cmpjne
	jmp l3242
l3240:
	push 0
	jmp l3242
l3241:
	push 1
l3242:
	cmp0
	je l3243
	push "lektor3"
	cthis txtplay
l3243:
	end method
	method tit_lclick
	push igmstate
	push 15
	cmpje
	cmp0
	je l3245
	push "Platforma"
	cthis mprzejdz
l3245:
	end method
	method anbutnext_click
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3247
	ret
l3247:
	push "ma_medalion"
	call clsave,bis
	cmp0
	je l3249
	call grtxt,free
	cthis hiddenobj_put
	jmp l3248
l3249:
	push "lilian3"
	cthis txtplay
l3248:
	end method
	end game

	game Tablicepamiatki
	parent Hidden
	method init
	push "06ho_tablicepamiatki"
	clparent Hidden,init
	push "tablicepamiatki"
	cthis setsndbase
	push A
	push "06ho_tablicepamiatki.png"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Fragmen medalionu prababci. To niesamowite, e udao mi si go znale."
	push "Tablicepamiatki0"
	push ":lilian2"
	push "Ten album emanuje dziwn energi. Zabior go."
	push "stdret"
	cthis sounds=
	push "lektor1"
	push "lektor1"
	push "Tablicepamiatki1"
	cthis snd=
	push "lektor3"
	push "lektor3"
	push "Tablicepamiatki2"
	cthis snd=
	push "lektor8"
	push "lektor8"
	push "Tablicepamiatki3"
	cthis snd=
	push "lektor9"
	push "lektor9"
	push "Tablicepamiatki4"
	cthis snd=
	cthis mmasks
	push "tablice.ogg -l"
	call mus,playstr
	push igmdebug
	cmp0
	je l3251
	cthis mbutnext
l3251:
	push "Tablicepamiatki5"
	call ccs,enter
	end method
	method Tablicepamiatki0
	call tcr,ahide
	push "Tablice"
	cthis mprzejdz
	end method
	method Tablicepamiatki1
	call tcr,ahide
	push 1
	pop igmstate
	end method
	method Tablicepamiatki2
	push 15
	pop igmstate
	end method
	method Tablicepamiatki3
	push "lilian1"
	cthis txtplay
	end method
	method Tablicepamiatki4
	push 15
	pop igmstate
	end method
	method Tablicepamiatki5
	push "lektor1"
	cthis txtplay
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],Tablicepamiatki6
	end method
	method Tablicepamiatki6
	call grtxt,empty
	cmp0
	je l3253
	push igmstate
	push 10
	cmpjne
	jmp l3255
l3253:
	push 0
	jmp l3255
l3254:
	push 1
l3255:
	cmp0
	je l3256
	new itemadder,clb1
	push 2
	pop igmstate
	push "$scripts/items/brylant1get.pyz 750"
	cthis img=
	push "anbrylant1get"
	push "Tablicepamiatki7"
	call clb1,showitem
l3256:
	end method
	method Tablicepamiatki7
	push "timbryl1"
	push 1000
	push "Tablicepamiatki8"
	cthis timplay
	end method
	method Tablicepamiatki8
	cthis medalion_open
	push "anbrylant1get"
	push "anmedalion1"
	push 15
	push "Tablicepamiatki9"
	call clb1,gotodestan
	end method
	method Tablicepamiatki9
	call anbrylant1get,hide
	push "ma_medalion1"
	call clsave,bset
	cthis medalion_open
	call anmedalion1,getcx
	call anmedalion1,getcy
	call angwiazdkif,setpos
	call anmedalion1,getz
	push 1
	pop $b
	popax
	add $a,$b
	call angwiazdkif,setz
	push 0
	call angwiazdkif,play
	push "timbryl2"
	push 1000
	push "Tablicepamiatki10"
	cthis timplay
	end method
	method Tablicepamiatki10
	push "lilian1"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method ho_album_put
	push GAME
	spushs
	spop $a
	call [$a],Tablicepamiatki11
	end method
	method Tablicepamiatki11
	push "ma_album"
	call clsave,bset
	cthis mshowalbum
	push 2
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method tit_lclick
	end method
	end game

	game HOTytan
	parent Hidden
	method init
	push "08ho_tytan"
	clparent Hidden,init
	push "hotytan"
	cthis setsndbase
	push A
	push "hotytan.jpg"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lektor1"
	push "Zobacz przedmioty wydobyte z wraku Titanica."
	push "stdret"
	cthis sounds=
	cthis mmasks
	push "waltzing_ghosts.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3258
	cthis mbutnext
l3258:
	push "HOTytan0"
	call ccs,enter
	end method
	method HOTytan0
	push "lektor1"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3260
	push "Kasy"
	cthis mprzejdz
l3260:
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKajutalustro
	parent Hidden
	method init
	push "11ho_kajutalustro"
	clparent Hidden,init
	push "hokajutalustro"
	cthis setsndbase
	push A
	push "lilian1"
	push "Jaki pikny pierscionek zarczynowy. Musia kosztowac fortun."
	push "mend"
	cthis titsounds=
	push A
	push "hokajutalustro.jpg"
	push "$scripts/items/ringget.pyzH 700"
	cthis imgs=
	cthis mmasks
	push "mystery_war.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3262
	cthis mbutnext
l3262:
	cthis mstdenter
	end method
	method mend
	push "Kajutalustro"
	cthis mprzejdz
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],HOKajutalustro0
	end method
	method HOKajutalustro0
	call grtxt,empty
	cmp0
	je l3264
	new itemadder,clb1
	push "item_ring"
	call clsave,bset
	push "anringget"
	push "HOKajutalustro1"
	call clb1,showitem
l3264:
	end method
	method HOKajutalustro1
	push "timring"
	push 1000
	push "HOKajutalustro2"
	cthis timplay
	end method
	method HOKajutalustro2
	push "anringget"
	push "HOKajutalustro3"
	call clb1,hideitem
	end method
	method HOKajutalustro3
	call anringget,hide
	push "lilian1"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3266
	call grtxt,free
	cthis hiddenobj_put
l3266:
	end method
	end game

	game Skrytkaschody
	parent Hidden
	method init
	push "13ho_skrytkaschody"
	clparent Hidden,init
	push "hoskrytkaschody"
	cthis setsndbase
	push A
	push "skrytkaschody.png"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Znalazam pierwszy klucz!"
	push "Skrytkaschody0"
	push ":lilian2"
	push "Wiedziaam, e ten zegar co kryje! Musz zebra wszystkie przedmioty ze skrytki."
	push "stdret"
	cthis sounds=
	cthis mmasks
	push "waltzing_ghosts.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3268
	cthis mbutnext
l3268:
	push "Skrytkaschody1"
	call ccs,enter
	end method
	method Skrytkaschody0
	call tcr,ahide
	push 1
	cthis klucz_to_kolo
	end method
	method Skrytkaschody1
	push "lilian2"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3270
	push 1
	cthis klucz_show
l3270:
	end method
	method klucz1_shown
	push "lilian1"
	cthis txtplay
	end method
	method klucz1_in_kolo
	push "Schody"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOAmbulatorium
	parent Hidden
	method init
	push "17ho_ambulatorium"
	clparent Hidden,init
	push "hoambulatorium"
	cthis setsndbase
	push A
	push "17ho_ambulatorium.jpg"
	cthis imgs=
	push A
	push ":lilian1"
	push "I've found the second key!"
	push "HOAmbulatorium0"
	cthis titsounds=
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3272
	cthis mbutnext
l3272:
	cthis mstdenter
	end method
	method HOAmbulatorium0
	call tcr,ahide
	push "Ambulatorium"
	cthis mprzejdz
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3274
	push 2
	cthis klucz_show
l3274:
	end method
	method klucz2_shown
	push "timkey"
	push 2000
	push "HOAmbulatorium1"
	cthis timplay
	end method
	method HOAmbulatorium1
	push 2
	cthis klucz_to_kolo
	end method
	method klucz2_in_kolo
	push "lilian1"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3276
	call grtxt,free
	cthis hiddenobj_put
l3276:
	end method
	end game

	game Skrzynia
	parent Hidden
	method init
	push "19skrzynia"
	clparent Hidden,init
	push "skrzynia"
	cthis setsndbase
	push A
	push "skrzynia.png"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "I cannot stop thinking about you. Please come to me, to my room. I love you more than anything and I can't stand the thought that you have a fiance now. If you don't come with me, I feel like I am going to do something that I will regret for the rest of my life."
	push "Skrzynia0"
	push ":lilian4"
	push "My dear! You will always be in my heart as someone very close to me. However, I love my fiance and I will spend the rest of my life with him. Please forgive me. Yours, Margaret."
	push "Skrzynia1"
	push ":lilian2"
	push "To chyba nie pierwszy statek na ktrym ten oficer suy. Sporo rzeczy nazbiera podczas swoich rejsw."
	push "stdret"
	push ":lilian3"
	push "I've found the third key!"
	push "Skrzynia2"
	cthis sounds=
	new img,anskiplist
	call anskiplist,Skrzynia3
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3278
	cthis mbutnext
l3278:
	push "Skrzynia5"
	call ccs,enter
	end method
	method Skrzynia0
	push "lilian4"
	cthis txtplay
	end method
	method Skrzynia1
	push "Kajutabos"
	cthis mprzejdz
	end method
	method Skrzynia2
	push "Kajutabos"
	cthis mprzejdz
	end method
	method Skrzynia3
	push "anskip"
	cthis copy
	push 755
	cthis setz
	cthis hide
	cthis Button_stdms
	push "butclick"
	push "Skrzynia4"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Skrzynia4
	push "Kajutabos"
	cthis mprzejdzclick
	end method
	method Skrzynia5
	push "e2_hoskrzyniaplay"
	call clsave,bgo
	cmp0
	je l3280
	push "lilian2"
	cthis txtplay
	jmp l3279
l3280:
	push 1
	pop igmstate
l3279:
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3282
	push "e2_hoskrzyniaagain"
	call clsave,bis
	cmp0
	je l3284
	push 23
	pop igmstate
	push "timend"
	push 200
	push "Skrzynia6"
	cthis timplay
	jmp l3283
l3284:
	push 3
	cthis klucz_show
l3283:
l3282:
	end method
	method Skrzynia6
	push GAME
	spushs
	spop $a
	call [$a],Skrzynia7
	end method
	method Skrzynia7
	push "$scripts/common/kartka2.png 500"
	cthis img=
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call imgkartka2,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0.7
	call imgkartka2,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	call imgkartka2,setpos
	push sgmfontitalic
	push 14
	push "$lang:list_"
	push 50
	push 20
	push 195
	call imgkartka2,getpx
	push 0.07
	call imgkartka2,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call imgkartka2,getpy
	push 0.15
	call imgkartka2,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 10
	push 750
	push "center"
	new TextDb,tdlist
	push sgmfontitalic
	push 14
	push "$lang:list2_"
	push 120
	push 10
	push 15
	call tdlist,getpx
	call tdlist,getey
	push 30
	pop $b
	popax
	add $a,$b
	push 8
	push 750
	push "center"
	new TextDb,tdlist2
	new img,imlist
	call tdlist2,getw
	push 10
	pop $b
	popax
	add $a,$b
	call tdlist2,geth
	push 10
	pop $b
	popax
	add $a,$b
	cthis transparent
	call imlist,create
	call tdlist2,getpx
	push 5
	pop $b
	popax
	sub $a,$b
	call tdlist2,getpy
	push 5
	pop $b
	popax
	sub $a,$b
	call imlist,setpos
	push "imlist"
	call tdlist2,blitto
	call tdlist2,hide
	new filter,ftlist
	push "imlist"
	call ftlist,link
	push 7
	call ftlist,setrotate
	push 750
	call imlist,setz
	call imlist,getcx
	call imlist,getey
	call anskiplist,ansetbpos
	call anskiplist,show
	end method
	method klucz3_shown
	push "timkey"
	push 2000
	push "Skrzynia8"
	cthis timplay
	end method
	method Skrzynia8
	push 3
	cthis klucz_to_kolo
	end method
	method klucz3_in_kolo
	push "lilian3"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	push igmstate
	push 23
	cmpje
	cmp0
	je l3286
l3286:
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3288
	call grtxt,free
	cthis hiddenobj_put
l3288:
	end method
	end game

	game HOKorytarzkrata
	parent Hidden
	method init
	push "21ho_korytarzkrata"
	clparent Hidden,init
	push "hokorytarzkrata"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Kartka z dziwnymi napisami. Przeczytam j pniej, jak skocz przeszukiwa t skrzyni."
	push "HOKorytarzkrata0"
	cthis sounds=
	push A
	push "hokorytarzkrata.jpg"
	push "$scripts/items/szyfr.pyzH 500"
	cthis imgs=
	cthis mmasks
	push "mystery_war.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3292
	cthis mbutnext
l3292:
	new itemadder,clsrub
	cthis mstdenter
	end method
	method HOKorytarzkrata0
	call grtxt,empty
	cmp0
	je l3290
	cthis mend
	jmp l3289
l3290:
	cthis stdret
l3289:
	end method
	method hiddenobj_put
	push igmstate
	push 20
	cmpjne
	cmp0
	je l3294
	call grtxt,empty
	jmp l3296
l3294:
	push 0
	jmp l3296
l3295:
	push 1
l3296:
	cmp0
	je l3297
	cthis mend
l3297:
	end method
	method szyfr_shown
	push "timkey"
	push 2000
	push "HOKorytarzkrata1"
	cthis timplay
	end method
	method HOKorytarzkrata1
	push "anszyfr"
	push "HOKorytarzkrata2"
	call clsrub,hideitem
	end method
	method HOKorytarzkrata2
	call anszyfr,hide
	cthis hiddenobj_put
	push "lilian1"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method HO_szyfr_put
	push 1
	push 0
	call anszyfr,setframe
	push 20
	pop igmstate
	push "anszyfr"
	push "szyfr_shown"
	call clsrub,showitem
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3299
	call grtxt,free
	cthis hiddenobj_put
l3299:
	end method
	method mend
	push "Korytarzkrata"
	cthis mprzejdz
	end method
	end game

	game HOKotlownia
	parent Hidden
	method init
	push "27ho_kotlownia"
	clparent Hidden,init
	push A
	push "27ho_kotlownia.jpg"
	cthis imgs=
	cthis mmasks
	push "mystery_war.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3301
	cthis mbutnext
l3301:
	cthis mstdenter
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3303
	push 4
	cthis klucz_show
l3303:
	end method
	method klucz4_shown
	push "timkey"
	push 2000
	push "HOKotlownia0"
	cthis timplay
	end method
	method HOKotlownia0
	push 4
	cthis klucz_to_kolo
	end method
	method klucz4_in_kolo
	push "item_klocek"
	push 0
	call clsave,set
	push "ma_klucz4"
	call clsave,bset
	push "otwarte_drzwikotlownia"
	call clsave,bset
	push "Kotlownia"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3305
	call grtxt,free
	cthis hiddenobj_put
l3305:
	end method
	end game

	game HOKuchnia
	parent Hidden
	method init
	push "30ho_kuchnia"
	clparent Hidden,init
	push "hokuchnia"
	cthis setsndbase
	push A
	push "30ho_kuchnia.jpg"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Tajemnica tragicznej  mioci zamknita jest w skrzyni oficera"
	push "HOKuchnia0"
	push ":lilian13"
	push "Skrzynia w  kajucie oficera; Moe znajd tam rozwizanie zagadki mierci tej biednej dziewczyny"
	push "HOKuchnia1"
	cthis sounds=
	cthis mmasks
	new img,anskiplist
	call anskiplist,HOKuchnia2
	push "waltzing_ghosts.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3307
	cthis mbutnext
l3307:
	cthis mstdenter
	end method
	method HOKuchnia0
	push "lilian13"
	cthis txtplay
	end method
	method HOKuchnia1
	push "Kuchnia"
	cthis mprzejdz
	end method
	method HOKuchnia2
	push "anskip"
	cthis copy
	push 755
	cthis setz
	cthis hide
	cthis Button_stdms
	push "butclick"
	push "HOKuchnia3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method HOKuchnia3
	push "Kuchnia"
	cthis mprzejdzclick
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3309
	push 3
	pop igmstate
	push 5
	cthis klucz_show
l3309:
	end method
	method klucz5_shown
	push "timkey"
	push 2000
	push "HOKuchnia4"
	cthis timplay
	end method
	method HOKuchnia4
	push 5
	cthis klucz_to_kolo
	end method
	method klucz5_in_kolo
	push GAME
	spushs
	spop $a
	call [$a],HOKuchnia5
	end method
	method HOKuchnia5
	push "$scripts/common/kartka.png 500"
	cthis img=
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call imgkartka,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call imgkartka,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgkartka,setpos
	push sgmfontitalic
	push 18
	push "$lang:list_"
	push 50
	push 20
	push 195
	call imgkartka,getpx
	push 0.15
	call imgkartka,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call imgkartka,getpy
	push 0.15
	call imgkartka,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 5
	push 750
	push "center"
	new TextDb,tdlist
	call imgkartka,getcx
	call anskiplist,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgkartka,getey
	call anskiplist,setpos
	call anskiplist,show
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOZejscie
	parent Hidden
	method init
	push "24ho_zejscie"
	clparent Hidden,init
	push A
	push "24ho_zejscie.jpg"
	push "$scripts/items/kolo.pyzH 507"
	cthis imgs=
	push 1
	push 0
	call ankolo,setframe
	push A
	push ":lilian1"
	push "Look at this wheel I found! I should hold on to this, maybe I can use it later."
	push "HOZejscie0"
	cthis sounds=
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3311
	cthis mbutnext
l3311:
	cthis mstdenter
	end method
	method HOZejscie0
	call tcr,ahide
	push "ankolo"
	push "HOZejscie1"
	call clb1,hideitem
	end method
	method HOZejscie1
	call ankolo,hide
	push "item_kolo"
	call clsave,bset
	cthis mend
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method mend
	push "Zejsciedomaszynowni"
	cthis mprzejdz
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],HOZejscie2
	end method
	method HOZejscie2
	call grtxt,empty
	cmp0
	je l3313
	new itemadder,clb1
	push 0
	pop igmstate
	push "ankolo"
	push "HOZejscie3"
	call clb1,showitem
l3313:
	end method
	method HOZejscie3
	push "timkolo"
	push 100
	push "HOZejscie4"
	cthis timplay
	end method
	method HOZejscie4
	push "lilian1"
	cthis txtplay
	end method
	method tit_lclick
	end method
	end game

	game HOPokojadministracyjny
	parent Hidden
	method init
	push "35ho_pokojadm"
	clparent Hidden,init
	push A
	push "35ho_pokojadm.jpg"
	push "$scripts/items/batyskaf.pyzH 507"
	cthis imgs=
	push 1
	push 0
	call anbatyskaf,setframe
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3315
	cthis mbutnext
l3315:
	new itemadder,cldiam
	cthis mstdenter
	end method
	method hiddenobj_put
	push igmstate
	push 20
	cmpjne
	cmp0
	je l3317
	call grtxt,empty
	jmp l3319
l3317:
	push 0
	jmp l3319
l3318:
	push 1
l3319:
	cmp0
	je l3320
	push "Pokojadministracyjny"
	cthis mprzejdz
l3320:
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method bat_shown
	push "timbat"
	push 2000
	push "HOPokojadministracyjny0"
	cthis timplay
	end method
	method HOPokojadministracyjny0
	push "item_batyskaf"
	call clsave,bset
	push "anbatyskaf"
	push "HOPokojadministracyjny1"
	call cldiam,hideitem
	end method
	method HOPokojadministracyjny1
	push 1
	pop igmstate
	call anbatyskaf,hide
	cthis hiddenobj_put
	end method
	method HO_batyskaf_put
	push 20
	pop igmstate
	push "anbatyskaf"
	push "bat_shown"
	call cldiam,showitem
	end method
	method tit_lclick
	end method
	end game

	game HODok
	parent Hidden
	method init
	push "41ho_dok"
	clparent Hidden,init
	push A
	push "41ho_dok.jpg"
	push "$scripts/41dok/haslofragment.pyzH 507"
	push "$scripts/items/mapa.pyzH 507"
	push "$scripts/items/mapafull.pyzH 507"
	cthis imgs=
	push 1
	push 0
	call anmapa,setframe
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3322
	cthis mbutnext
l3322:
	cthis mstdenter
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],HODok0
	end method
	method HODok0
	call grtxt,empty
	cmp0
	je l3324
	new itemadder,clb1
	new itemadder,clmap
	new int,ilefragmov
	push 50
	pop ilefragmov
	push ilefragmov
	push ilefragmov
	call anhaslofragment,move
	push "anhaslofragment"
	push "HODok1"
	call clb1,showitem
l3324:
	end method
	method HODok1
	push "timbryl1"
	push 1000
	push "HODok2"
	cthis timplay
	end method
	method HODok2
	push "anmapa"
	push "HODok3"
	call clmap,showitem
	end method
	method HODok3
	push "timfrag"
	push "HODok4"
	cthis cycle=
	call timfrag,play
	end method
	method HODok4
	localdef $1
	push 2
	popax
	sub 0,$a
	pop $1
	push $1
	push $1
	call anhaslofragment,move
	push $1
	popax
	add ilefragmov,$a
	pop ilefragmov
	push ilefragmov
	push 0
	cmpjle
	cmp0
	je l3326
	call anhaslofragment,hide
	call anmapa,hide
	call anmapafull,show
	push 1
	push 0
	call anmapafull,setframe
	push "timdok1"
	push 2000
	push "HODok5"
	cthis timplay
	jmp l3325
l3326:
	cthis play
l3325:
	end method
	method HODok5
	push "anmapafull"
	push "HODok6"
	call clb1,hideitem
	end method
	method HODok6
	call anmapafull,hide
	push "item_mapa"
	push 0
	call clsave,set
	push "item_mapafull"
	call clsave,bset
	push "Dok"
	cthis mprzejdz
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3328
	call grtxt,free
	cthis hiddenobj_put
l3328:
	end method
	end game

	game HOSalabalowa
	parent Hidden
	method init
	push "37ho_salabalowa"
	clparent Hidden,init
	push "hosalabalowa"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Podarta fotografia. Zo j po przeszukaniu szafy."
	push "stdret"
	cthis sounds=
	push A
	push "37ho_salabalowa.jpg"
	push "krysztal15.pyzH 507"
	push "zdjecie.pyzH 507"
	cthis imgs=
	cthis mmasks
	push "waltzing_ghosts.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3330
	cthis mbutnext
l3330:
	new itemadder,cldiam
	cthis mstdenter
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method hiddenobj_put
	push igmstate
	push 20
	cmpjne
	cmp0
	je l3332
	call grtxt,empty
	jmp l3334
l3332:
	push 0
	jmp l3334
l3333:
	push 1
l3334:
	cmp0
	je l3335
	push "Zdjecie"
	cthis mprzejdz
l3335:
	end method
	method diament_shown
	push "timdiam15"
	push 2000
	push "HOSalabalowa0"
	cthis timplay
	end method
	method HOSalabalowa0
	push "item_krysztal15"
	call clsave,bset
	push "ankrysztal15"
	push "HOSalabalowa1"
	call cldiam,hideitem
	end method
	method HOSalabalowa1
	push 1
	pop igmstate
	call ankrysztal15,hide
	cthis hiddenobj_put
	end method
	method HO_diament_put
	push 20
	pop igmstate
	push "ankrysztal15"
	push "diament_shown"
	call cldiam,showitem
	end method
	method zdjecie_shown
	push "timzdjecie"
	push 2000
	push "HOSalabalowa2"
	cthis timplay
	end method
	method HOSalabalowa2
	push "anzdjecie"
	push "HOSalabalowa3"
	call cldiam,hideitem
	end method
	method HOSalabalowa3
	call anzdjecie,hide
	cthis hiddenobj_put
	push "lilian1"
	cthis txtplay
	end method
	method HO_zdjecia_put
	push 20
	pop igmstate
	push "anzdjecie"
	push "zdjecie_shown"
	call cldiam,showitem
	end method
	method tit_lclick
	end method
	end game

	game HOSalaturecka
	parent Hidden
	method init
	push "39ho_salaturecka"
	clparent Hidden,init
	push A
	push "39ho_salaturecka.jpg"
	push "diament14.pyzH 507"
	cthis imgs=
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3337
	cthis mbutnext
l3337:
	new itemadder,cldiam
	cthis mstdenter
	end method
	method hiddenobj_put
	push igmstate
	push 20
	cmpjne
	cmp0
	je l3339
	call grtxt,empty
	jmp l3341
l3339:
	push 0
	jmp l3341
l3340:
	push 1
l3341:
	cmp0
	je l3342
	push "Salaturecka"
	cthis mprzejdz
l3342:
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method diament_shown
	push "timdiam14"
	push 2000
	push "HOSalaturecka0"
	cthis timplay
	end method
	method HOSalaturecka0
	push "item_krysztal14"
	call clsave,bset
	push "andiament14"
	push "HOSalaturecka1"
	call cldiam,hideitem
	end method
	method HOSalaturecka1
	push 1
	pop igmstate
	call andiament14,hide
	cthis hiddenobj_put
	end method
	method HO_diament14_put
	push 20
	pop igmstate
	push "andiament14"
	push "diament_shown"
	call cldiam,showitem
	end method
	method tit_lclick
	end method
	method mouse_rclick
	ret
	push igmdebug
	cmp0
	je l3344
	call grtxt,free
	cthis hiddenobj_put
l3344:
	end method
	end game

	game HOSkrytkalustro
	parent Hidden
	method init
	push "40ho_skrytkalustro"
	clparent Hidden,init
	push "hoskrytkalustro"
	cthis setsndbase
	push A
	push "40ho_skrytkalustro.jpg"
	push "klocek.pyzH 507"
	push "klocekb.pyzH 507"
	cthis imgs=
	push A
	push ":lilian1"
	push "Znalazam brakujce fragmenty herbu. Wracam do kotowni"
	push "mend"
	cthis titsounds=
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3346
	cthis mbutnext
l3346:
	cthis mstdenter
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method mend
	push "Salabalowarecepcja"
	cthis mprzejdz
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],HOSkrytkalustro0
	end method
	method HOSkrytkalustro0
	call grtxt,empty
	cmp0
	je l3348
	new itemadder,clb1
	new itemadder,clb2
	push "item_klocek"
	call clsave,bset
	push "item_klocekb"
	call clsave,bset
	push "anklocek"
	push "HOSkrytkalustro1"
	call clb1,showitem
l3348:
	end method
	method HOSkrytkalustro1
	push "timbryl1"
	push 1000
	push "HOSkrytkalustro2"
	cthis timplay
	end method
	method HOSkrytkalustro2
	push "anklocek"
	push "HOSkrytkalustro3"
	call clb1,hideitem
	end method
	method HOSkrytkalustro3
	call anklocek,hide
	push "anklocekb"
	push "HOSkrytkalustro4"
	call clb2,showitem
	end method
	method HOSkrytkalustro4
	push "timbryl2"
	push 1000
	push "HOSkrytkalustro5"
	cthis timplay
	end method
	method HOSkrytkalustro5
	push "anklocekb"
	push "HOSkrytkalustro6"
	call clb2,hideitem
	end method
	method HOSkrytkalustro6
	call anklocekb,hide
	push "lilian1"
	cthis txtplay
	end method
	end game

	game HOWrak
	parent Hidden
	method init
	push "46ho_wrak"
	clparent Hidden,init
	push "howrak"
	cthis setsndbase
	push A
	push ":lilian1"
	push "Pewnie w tej stercie przedmitw ukryty jest ostatni klucz."
	push "stdret"
	cthis titsounds=
	push A
	push "howrak.jpg"
	push "box.pyzH 507"
	cthis imgs=
	cthis mmasks
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push igmdebug
	cmp0
	je l3350
	cthis mbutnext
l3350:
	push "HOWrak0"
	call ccs,enter
	end method
	method HOWrak0
	push "lilian1"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	method hiddenobj_put
	push GAME
	spushs
	spop $a
	call [$a],HOWrak1
	end method
	method HOWrak1
	call grtxt,empty
	cmp0
	je l3352
	new itemadder,clb1
	push "anbox"
	push "HOWrak2"
	call clb1,showitem
l3352:
	end method
	method HOWrak2
	push "timbryl1"
	push 1000
	push "HOWrak3"
	cthis timplay
	end method
	method HOWrak3
	push "anbox"
	push "HOWrak4"
	call clb1,hideitem
	end method
	method HOWrak4
	call anbox,hide
	push "item_mapafull"
	push 0
	call clsave,set
	push "BoxA"
	cthis mprzejdz
	end method
	end game

	class Hiddenp
	parent Hidden
	method init
	localstring $1
	pop $1
	localreal $2
	call gameapi,getgamename
	push "HOTrap"
	cmpje
	cmp0
	je l3354
	push 27
	jmp l3353
l3354:
	push 14
l3353:
	pop $2
	push Trudnosc
	spushs
	push 0
	cmpst
	jne l3356
	spop $a
	push 7
	jmp l3355
l3356:
	push 1
	cmpst
	jne l3357
	spop $a
	push 9
	jmp l3355
l3357:
	push 2
	cmpst
	jne l3358
	spop $a
	push 12
	jmp l3355
l3358:
	spop $a
l3355:
	localreal $3
	pop $3
	push $2
	push $3
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	psax
	pop HiddenReduce
	push $1
	clparent Hidden,init
	push "$scripts/common/skip_collection.pyz 800"
	cthis img=
	call anskip_collection,Hiddenp0
	end method
	method Hiddenp0
	cthis Button_isinalpha
	push "butmoveon"
	push "Hiddenp1"
	cthis addmethod
	cthis Button_moveoffms
	push "butclick"
	push "collect_all"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Hiddenp1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3360
	call advmouse,setbut
l3360:
	end method
	method collect_all
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3362
	ret
l3362:
	localint $1
	push 0
	pop $1
l3363:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l3364
	jmp l3366
l3365:
	add $1,1
	pop $1
	jmp l3363
l3366:
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],butclick
	jmp l3365
l3364:
	end method
	end class

	game HOTrap
	parent Hiddenp
	method init
	push "07trap"
	pop HiddenPath
	push "hotrap"
	clparent Hiddenp,init
	new int,trapduch
	push 1
	pop trapduch
	new classplacepointer2,clp
	cthis loadsnddb
	push A
	push ":lektor11"
	push "Eteryczna posta. Kliknij na niej aby rozwiza tajemnic jej wielowymiarowego pochodzenia."
	push "HOTrap0"
	push ":lektor12"
	push "Zbierz z lokacji fragmenty fotografii."
	push "HOTrap1"
	push ":lilian2"
	push "To jest zdjcie pasaera statku! Co si dzieje? Dlaczego widz takie rzeczy? Czyby czekay mnie wiksze tajemnice?"
	push "HOTrap2"
	push ":lilian3"
	push "What just happened? Did I see that or am I hallucinating? I feel like I have memories from this place, but I've never been here before!"
	push "HOTrap3"
	push ":lilian4"
	push "Le jakie fragmety fotografi. Pozbieram je."
	push "HOTrap4"
	push ":lilian5"
	push "Rozejrz si po tym pomieszczneniu, moe odkryj jeszcze co ciekawego."
	push "HOTrap5"
	push ":lektor1"
	push "Click on the fragment!"
	push "HOTrap6"
	push ":lektor2"
	push "You can also choose to skip the collection at any time!"
	push "HOTrap7"
	cthis sounds=
	push A
	push "07trap.jpg"
	push "wiatrak.pyzG 5"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grwiatrak,nplay
	cthis mmasks
	push "kopula.ogg -l -v 50"
	call mus,playstr
	push A
	push "aparat"
	cthis sfxs=
	call grtxt,hide
	call anskip_collection,hide
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3368
	call grels,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 6
	push 9
	call anzd,load
	call anzd,hide
	push 10
	call anzd,setz
	push "HOTrap8"
	call ccs,enter
	jmp l3367
l3368:
	push "HOTrap10"
	call ccs,enter
l3367:
	push igmdebug
	cmp0
	je l3370
	cthis mbutnext
l3370:
	end method
	method HOTrap0
	call tcr,ahide
	push iduchstate
	pop igmstate
	end method
	method HOTrap1
	cthis stdret
	end method
	method HOTrap2
	call tcr,ahide
	push trapduch
	cthis foto_to_album
	end method
	method HOTrap3
	push "lilian4"
	cthis txtplay
	end method
	method HOTrap4
	call grtxt,show
	localdef $1
	call grels,first
	pop $1
	push "lektor1"
	cthis txtplay
	push $1
	push "rd"
	call clp,showob
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call angwiazdkif,ansetcpos
	push 0
	call angwiazdkif,play
	end method
	method HOTrap5
	push "Trap"
	cthis mprzejdz
	end method
	method HOTrap6
	call anskip_collection,show
	push "anskip_collection"
	push "lu"
	call clp,showob
	push "lektor2"
	cthis txtplay
	end method
	method HOTrap7
	call clp,stoph
	cthis stdret
	end method
	method HOTrap8
	push "tim1"
	push 2000
	push "HOTrap9"
	cthis timplay
	end method
	method HOTrap9
	call anzd,play
	end method
	method HOTrap10
	push "tim1"
	push 2000
	push "HOTrap11"
	cthis timplay
	end method
	method HOTrap11
	push "lektor12"
	cthis txtplay
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	push "lilian3"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3372
	push 20
	pop igmstate
	push "HOTrap12"
	push "HOTrap13"
	call ccs,playfin
l3372:
	end method
	method HOTrap12
	cthis foto_album
	end method
	method HOTrap13
	push trapduch
	cthis foto_show
	end method
	method duch_wybuchl
	push "lektor12"
	cthis txtplay
	end method
	method foto_shown
	push "lilian2"
	cthis txtplay
	end method
	method foto_in_album
	push "timduchend"
	push 1000
	push "HOTrap14"
	cthis timplay
	end method
	method HOTrap14
	push "lilian5"
	cthis txtplay
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKajutamuzeum
	parent Hiddenp
	method init
	push "10kajutamuzeum"
	pop HiddenPath
	push "hokajutamuzeum"
	clparent Hiddenp,init
	new int,trapduch
	push 6
	pop trapduch
	cthis loadsnddb
	push A
	push ":lilian1"
	push "To jedna z kajut. Niesamowite jak te wszystkie meble porosy glonami. Ciekawe czemu to lustro jest takie czyste?"
	push "HOKajutamuzeum0"
	push ":lilian2"
	push "Znowu te wspomnienia! Co niezwykle tajmniczego mnie spotyka."
	push "HOKajutamuzeum1"
	push ":lilian3"
	push "Znowu fragmenty fotografi. Pozbieram je."
	push "HOKajutamuzeum2"
	cthis sounds=
	push A
	push "kajutamuzeum.jpg"
	cthis imgs=
	cthis mmasks
	push A
	push "aparat"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3374
	call grels,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 2
	push 9
	call anzd,load
	call anzd,hide
	call grtxt,hide
	push "HOKajutamuzeum3"
	call ccs,enter
	jmp l3373
l3374:
	push "HOKajutamuzeum4"
	call ccs,enter
l3373:
	push "kopula.ogg -l -v 40"
	call mus,playstr
	push igmdebug
	cmp0
	je l3376
	cthis mbutnext
l3376:
	end method
	method HOKajutamuzeum0
	call tcr,ahide
	call anzd,play
	end method
	method HOKajutamuzeum1
	push "lilian3"
	cthis txtplay
	end method
	method HOKajutamuzeum2
	call grtxt,show
	cthis stdret
	end method
	method HOKajutamuzeum3
	push "lilian1"
	cthis txtplay
	end method
	method HOKajutamuzeum4
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	push "lilian2"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3378
	push 20
	pop igmstate
	push "HOKajutamuzeum5"
	push "HOKajutamuzeum6"
	call ccs,playfin
l3378:
	end method
	method HOKajutamuzeum5
	cthis foto_album
	end method
	method HOKajutamuzeum6
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKajutamuzeum7"
	cthis timplay
	end method
	method HOKajutamuzeum7
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKajutamuzeum8"
	cthis timplay
	end method
	method HOKajutamuzeum8
	push "Kajutamuzeum"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOSchody
	parent Hiddenp
	method init
	push "12schody"
	pop HiddenPath
	push "hoschody"
	clparent Hiddenp,init
	new int,trapduch
	push 3
	pop trapduch
	push A
	push "12schody.jpg"
	cthis imgs=
	cthis mmasks
	push A
	push "aparat"
	push "bgrsalaN"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3380
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push "HOSchody0"
	call ccs,enter
	jmp l3379
l3380:
	push "HOSchody1"
	call ccs,enter
l3379:
	push igmdebug
	cmp0
	je l3382
	cthis mbutnext
l3382:
	end method
	method HOSchody0
	call anzd,play
	end method
	method HOSchody1
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3384
	push 20
	pop igmstate
	push "HOSchody2"
	push "HOSchody3"
	call ccs,playfin
l3384:
	end method
	method HOSchody2
	cthis foto_album
	end method
	method HOSchody3
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOSchody4"
	cthis timplay
	end method
	method HOSchody4
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOSchody5"
	cthis timplay
	end method
	method HOSchody5
	push "Schody"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKorytarz3odnogi
	parent Hiddenp
	method init
	push "14korytarz3odnogi"
	pop HiddenPath
	push "hokorytarz3odnogi"
	clparent Hiddenp,init
	new int,trapduch
	push 4
	pop trapduch
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Teraz ju wiem, e to informacja od zagubionych dusz. Pozbieram wszystkie fragmenty fotografi. Pomoge im."
	push "HOKorytarz3odnogi0"
	cthis sounds=
	push A
	push "14korytarz3odnogi.jpg"
	cthis imgs=
	cthis mmasks
	push A
	push "aparat"
	push "bgrsalaN"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3386
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push "HOKorytarz3odnogi1"
	call ccs,enter
	jmp l3385
l3386:
	push "HOKorytarz3odnogi2"
	call ccs,enter
l3385:
	push igmdebug
	cmp0
	je l3388
	cthis mbutnext
l3388:
	end method
	method HOKorytarz3odnogi0
	cthis stdret
	call grtxt,show
	end method
	method HOKorytarz3odnogi1
	call anzd,play
	end method
	method HOKorytarz3odnogi2
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	push "lilian1"
	cthis txtplay
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3390
	push 20
	pop igmstate
	push "HOKorytarz3odnogi3"
	push "HOKorytarz3odnogi4"
	call ccs,playfin
l3390:
	end method
	method HOKorytarz3odnogi3
	cthis foto_album
	end method
	method HOKorytarz3odnogi4
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKorytarz3odnogi5"
	cthis timplay
	end method
	method HOKorytarz3odnogi5
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKorytarz3odnogi6"
	cthis timplay
	end method
	method HOKorytarz3odnogi6
	push "Korytarz3odnogi"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOAmbulatorium2
	parent Hiddenp
	method init
	push "16ambulatorium"
	pop HiddenPath
	push "hoambulatoriumb"
	clparent Hiddenp,init
	new int,trapduch
	push 5
	pop trapduch
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Zdjcia tych ludzi s bardzo podobne do siebie. Zupenie jakby fotograf sta w jednym miejscu statku. Niezapomniana pamitka z rejsu i jedyna pamitka po tych ludziach."
	push "HOAmbulatorium20"
	cthis sounds=
	push A
	push "bkg.pyz"
	push "firany.pyzG 5"
	push "polka.pyz 10"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grfirany,nplay
	push A
	push "przeciagN"
	push "aparat"
	cthis sfxs=
	cthis mmasks
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3392
	call grels,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	push 20
	call anzd,setz
	call anzd,hide
	call grtxt,hide
	push "HOAmbulatorium21"
	call ccs,enter
	jmp l3391
l3392:
	push "HOAmbulatorium22"
	call ccs,enter
l3391:
	push igmdebug
	cmp0
	je l3394
	cthis mbutnext
l3394:
	end method
	method HOAmbulatorium20
	call tcr,ahide
	push trapduch
	cthis foto_to_album
	end method
	method HOAmbulatorium21
	call anzd,play
	end method
	method HOAmbulatorium22
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3396
	push 20
	pop igmstate
	push "HOAmbulatorium23"
	push "HOAmbulatorium24"
	call ccs,playfin
l3396:
	end method
	method HOAmbulatorium23
	cthis foto_album
	end method
	method HOAmbulatorium24
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOAmbulatorium25"
	cthis timplay
	end method
	method HOAmbulatorium25
	push "lilian1"
	cthis txtplay
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOAmbulatorium26"
	cthis timplay
	end method
	method HOAmbulatorium26
	push "Ambulatorium"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKorytarzdolnypoklad
	parent Hiddenp
	method init
	push "23korytarzdolnypoklad"
	pop HiddenPath
	push "hokorytarzdolnypoklad"
	clparent Hiddenp,init
	new int,trapduch
	push 7
	pop trapduch
	push A
	push "bkg.pyz"
	push "tla.pyzG 5"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grtla,nplay
	push "przeciag2.ogg -l"
	call mus,playstr
	cthis mmasks
	push A
	push "aparat"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3398
	call grels,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	push 20
	call anzd,setz
	call anzd,hide
	call grtxt,hide
	push "HOKorytarzdolnypoklad0"
	call ccs,enter
	jmp l3397
l3398:
	push "HOKorytarzdolnypoklad1"
	call ccs,enter
l3397:
	push igmdebug
	cmp0
	je l3400
	cthis mbutnext
l3400:
	end method
	method HOKorytarzdolnypoklad0
	call anzd,play
	end method
	method HOKorytarzdolnypoklad1
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grtxt,show
	call grels,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3402
	push 20
	pop igmstate
	push "HOKorytarzdolnypoklad2"
	push "HOKorytarzdolnypoklad3"
	call ccs,playfin
l3402:
	end method
	method HOKorytarzdolnypoklad2
	cthis foto_album
	end method
	method HOKorytarzdolnypoklad3
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKorytarzdolnypoklad4"
	cthis timplay
	end method
	method HOKorytarzdolnypoklad4
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKorytarzdolnypoklad5"
	cthis timplay
	end method
	method HOKorytarzdolnypoklad5
	push "Korytarzdolnypoklad"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOSzczelina
	parent Hiddenp
	method init
	push "43szczelina"
	pop HiddenPath
	push "hoszczelina"
	clparent Hiddenp,init
	new int,trapduch
	push 2
	pop trapduch
	push A
	push "43szczelina.jpg"
	cthis imgs=
	cthis mmasks
	push "mapa2.ogg -l -v 60"
	call mus,playstr
	push A
	push "aparat"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3404
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push "HOSzczelina0"
	call ccs,enter
	jmp l3403
l3404:
	push "HOSzczelina1"
	call ccs,enter
l3403:
	push igmdebug
	cmp0
	je l3406
	cthis mbutnext
l3406:
	end method
	method HOSzczelina0
	call anzd,play
	end method
	method HOSzczelina1
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3408
	push 20
	pop igmstate
	push "HOSzczelina2"
	push "HOSzczelina3"
	call ccs,playfin
l3408:
	end method
	method HOSzczelina2
	cthis foto_album
	end method
	method HOSzczelina3
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOSzczelina4"
	cthis timplay
	end method
	method HOSzczelina4
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOSzczelina5"
	cthis timplay
	end method
	method HOSzczelina5
	push "Szczelina"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKorytarzmuzeum
	parent Hiddenp
	method init
	push "09korytarzmuzeum"
	pop HiddenPath
	push "hokorytarzmuzeum"
	clparent Hiddenp,init
	new int,trapduch
	push 8
	pop trapduch
	push A
	push "09korytarzmuzeum.jpg"
	push "drzwi.pyz 5"
	cthis imgs=
	cthis mmasks
	push A
	push "aparat"
	push "bgrsalaN"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3410
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push 20
	call anzd,setz
	push "HOKorytarzmuzeum0"
	call ccs,enter
	jmp l3409
l3410:
	push "HOKorytarzmuzeum1"
	call ccs,enter
l3409:
	push igmdebug
	cmp0
	je l3412
	cthis mbutnext
l3412:
	end method
	method HOKorytarzmuzeum0
	call anzd,play
	end method
	method HOKorytarzmuzeum1
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3414
	push 20
	pop igmstate
	push "HOKorytarzmuzeum2"
	push "HOKorytarzmuzeum3"
	call ccs,playfin
l3414:
	end method
	method HOKorytarzmuzeum2
	cthis foto_album
	end method
	method HOKorytarzmuzeum3
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKorytarzmuzeum4"
	cthis timplay
	end method
	method HOKorytarzmuzeum4
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKorytarzmuzeum5"
	cthis timplay
	end method
	method HOKorytarzmuzeum5
	push "Korytarzmuzeum"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKorytarznamostek
	parent Hiddenp
	method init
	push "21korytarznamostek"
	pop HiddenPath
	push "hokorytarznamostek"
	clparent Hiddenp,init
	new int,trapduch
	push 9
	pop trapduch
	push A
	push "21korytarznamostek.jpg"
	push "lampy.pyzG 10"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grlampy,nplay
	cthis mmasks
	push A
	push "aparat"
	push "bgrsalaN"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3416
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push 20
	call anzd,setz
	push "HOKorytarznamostek0"
	call ccs,enter
	jmp l3415
l3416:
	push "HOKorytarznamostek1"
	call ccs,enter
l3415:
	push igmdebug
	cmp0
	je l3418
	cthis mbutnext
l3418:
	end method
	method HOKorytarznamostek0
	call anzd,play
	end method
	method HOKorytarznamostek1
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3420
	push 20
	pop igmstate
	push "HOKorytarznamostek2"
	push "HOKorytarznamostek3"
	call ccs,playfin
l3420:
	end method
	method HOKorytarznamostek2
	cthis foto_album
	end method
	method HOKorytarznamostek3
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKorytarznamostek4"
	cthis timplay
	end method
	method HOKorytarznamostek4
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKorytarznamostek5"
	cthis timplay
	end method
	method HOKorytarznamostek5
	push "Korytarznamostek"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	game HOKuchnia2
	parent Hiddenp
	method init
	push "29kuchnia"
	pop HiddenPath
	push "hokuchniab"
	clparent Hiddenp,init
	new int,trapduch
	push 10
	pop trapduch
	push A
	push "29kuchnia.jpg"
	cthis imgs=
	cthis mmasks
	push A
	push "aparat"
	push "bgrsalaN"
	cthis sfxs=
	new int,isduch
	push 1
	pop isduch
	push isduch
	cmp0
	je l3422
	call grels,hide
	call grtxt,hide
	new imganima,anzd
	push "fl"
	push "jpg"
	push 0
	push 3
	push 9
	call anzd,load
	call anzd,hide
	push "HOKuchnia20"
	call ccs,enter
	jmp l3421
l3422:
	push "HOKuchnia21"
	call ccs,enter
l3421:
	push igmdebug
	cmp0
	je l3424
	cthis mbutnext
l3424:
	end method
	method HOKuchnia20
	call anzd,play
	end method
	method HOKuchnia21
	push 1
	pop igmstate
	end method
	method anzd_endframe
	call fxaparat,play
	end method
	method anzd_finish
	cthis hide
	call grels,show
	call grtxt,show
	push 1
	pop igmstate
	end method
	method hiddenobj_put
	call grtxt,empty
	cmp0
	je l3426
	push 20
	pop igmstate
	push "HOKuchnia22"
	push "HOKuchnia23"
	call ccs,playfin
l3426:
	end method
	method HOKuchnia22
	cthis foto_album
	end method
	method HOKuchnia23
	push trapduch
	cthis foto_show
	end method
	method foto_shown
	push "tim2"
	push 2000
	push "HOKuchnia24"
	cthis timplay
	end method
	method HOKuchnia24
	push trapduch
	cthis foto_to_album
	end method
	method foto_in_album
	push "timduchend"
	push 2000
	push "HOKuchnia25"
	cthis timplay
	end method
	method HOKuchnia25
	push "Kuchnia"
	cthis mprzejdz
	end method
	method anbutnext_click
	call grtxt,free
	cthis hiddenobj_put
	end method
	method tit_lclick
	end method
	end game

	new int,SuwakiRow
	push 16
	pop SuwakiRow
	game Drzwikotlownia
	parent Kajuta
	method init
	push "drzwikotlownia"
	clparent Kajuta,init
	localint $1
	push SuwakiRow
	pop $1
	push A
	push "lektor1"
	push "U herb firmy White Star, przesuwajc jego fragmenty.|Jak chcesz przesun jeden z fragmentw, kliknij na niego."
	push "stdret"
	cthis titsounds=
	push A
	push "nasadza 60"
	push "blokmove 50"
	push "wcisnij 70"
	cthis sfxs=
	push A
	push "bkg.pyz"
	push "zasuwy.pyz 10"
	push "zamek.pyz 15"
	push "drzwi.pyz 20"
	push "maska.pyz 50"
	cthis imgs=
	new int,Rows
	new int,Cols
	push SuwakiRow
	spushs
	push 9
	cmpst
	jne l3428
	spop $a
	push 3
	push 3
	pop Cols
	pop Rows
	jmp l3427
l3428:
	push 12
	cmpst
	jne l3429
	spop $a
	push 3
	push 4
	pop Cols
	pop Rows
	jmp l3427
l3429:
	push 16
	cmpst
	jne l3430
	spop $a
	push 4
	push 4
	pop Cols
	pop Rows
	jmp l3427
l3430:
	push 24
	cmpst
	jne l3431
	spop $a
	push 4
	push 6
	pop Cols
	pop Rows
	jmp l3427
l3431:
	push 35
	cmpst
	jne l3432
	spop $a
	push 5
	push 7
	pop Cols
	pop Rows
	jmp l3427
l3432:
	push 40
	cmpst
	jne l3433
	spop $a
	push 5
	push 8
	pop Cols
	pop Rows
	jmp l3427
l3433:
	spop $a
l3427:
	push "grels"
	push "p"
	push $1
	pop $b
	popax
	add $a,$b
	push 25
	cthis newgrimg
	new vector,vx1
	new vector,vy1
	push "Drzwikotlownia0"
	call grels,each
	call grels,last
	spushs
	spop $a
	call [$a],getex
	call vx1,add
	call grels,last
	spushs
	spop $a
	call [$a],getpy
	call vy1,add
	new vector,vsuw
	call grels,size
	call vsuw,vecnewint
	push 1
	popax
	sub 0,$a
	call vsuw,add
	push 11
	push 1
	popax
	sub 0,$a
	call vsuw,set
	push 11
	call grels,get
	spushs
	spop $a
	call [$a],hide
	call vsuw,hash
	cthis mrestore
	push igmdebug
	cmp0
	je l3435
	cthis mbutnext
l3435:
	cthis mskipminigame
	cthis match3but
	push Trudnosc
	push 2
	cmpjl
	cmp0
	je l3437
	push 0
	push 10
	popax
	sub 0,$a
	call anmatch3but,move
l3437:
	push "Drzwikotlownia1"
	call ccs,enter
	end method
	method Drzwikotlownia0
	localdef $1
	pop $1
	push "myid"
	push $1
	cthis var2
	cthis getpx
	call vx1,add
	cthis getpy
	call vy1,add
	end method
	method Drzwikotlownia1
	push "lektor1"
	cthis txtplay
	end method
	method anbutnext_click
	cthis mend
	end method
	method mend
	push AdventureMode
	cmp0
	je l3439
	push "ukonczone_drzwikotlownia"
	call clsave,bset
	push "DrzwikotlowniaB"
	cthis mprzejdz
	jmp l3438
l3439:
	push "MainMenu"
	cthis mprzejdz
l3438:
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method mgo
	push 1
	pop igmstate
	end method
	method mget
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l3441
	push $1
	push Rows
	cmpjl
	cmp0
	je l3441
	push $2
	push 0
	cmpjae
	cmp0
	je l3441
	push $2
	push Cols
	cmpjl
	jmp l3443
l3441:
	push 0
	jmp l3443
l3442:
	push 1
l3443:
	cmp0
	je l3444
	push $1
	push Cols
	pop $b
	popax
	mul $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	call vsuw,get
	jmp l3440
l3444:
	push 2
	popax
	sub 0,$a
l3440:
	end method
	method mcheck
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis mget
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l3446
	localdef $5
	push $3
	push Cols
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	pop $5
	push $2
	push $5
	call vsuw,swap
	cthis mrestore
	cthis mcheckwin
	call fxblokmove,play
	push 1
	jmp l3445
l3446:
	push 0
l3445:
	end method
	method mcheckwin
	localint $1
	push 1
	pop $1
	localint $2
	push 0
	pop $2
l3447:
	push $2
	call grels,size
	cmpjl
	cmp0
	je l3448
	jmp l3450
l3449:
	add $2,1
	pop $2
	jmp l3447
l3450:
	push $2
	call grels,get
	spushs
	spop $a
	call [$a],myid
	push $2
	cmpjne
	cmp0
	je l3452
	push 0
	pop $1
l3452:
	jmp l3449
l3448:
	push $1
	cmp0
	je l3454
	cthis mend
	push 2
	pop igmstate
l3454:
	end method
	method mrestore
	localint $1
	push 0
	pop $1
l3455:
	push $1
	push Rows
	cmpjl
	cmp0
	je l3456
	jmp l3458
l3457:
	add $1,1
	pop $1
	jmp l3455
l3458:
	localint $2
	push 0
	pop $2
l3459:
	push $2
	push Cols
	cmpjl
	cmp0
	je l3460
	jmp l3462
l3461:
	add $2,1
	pop $2
	jmp l3459
l3462:
	localdef $3
	push $1
	push Cols
	pop $b
	popax
	mul $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $3
	localdef $4
	push $3
	call vsuw,get
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l3464
	localdef $5
	push $4
	call grels,get
	pop $5
	push $5
	spushs
	push $3
	spop $a
	call [$a],msetpos
l3464:
	jmp l3461
l3460:
	jmp l3457
l3456:
	end method
	method msetpos
	localint $1
	pop $1
	push $1
	call vx1,get
	push $1
	call vy1,get
	cthis ansetbpos
	push $1
	cthis myid=
	end method
	method tit_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3466
	push 1
	cthis cactsndstop
l3466:
	push igmstate
	push 1
	cmpje
	cmp0
	je l3468
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l3470
	localdef $1
	call grels,getsfound
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],myid
	pop $2
	localdef $3
	push $2
	push Cols
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	localdef $4
	push $2
	push Cols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	localdef $5
	push $1
	spushs
	spop $a
	call [$a],getcx
	pop $5
	localdef $6
	push $1
	spushs
	spop $a
	call [$a],getcy
	pop $6
	localdef $7
	call mouse,getpx
	pop $7
	localdef $8
	call mouse,getpy
	pop $8
	push $7
	push $5
	cmpjae
	cmp0
	je l3472
	push $8
	push $6
	cmpjle
	jmp l3474
l3472:
	push 0
	jmp l3474
l3473:
	push 1
l3474:
	cmp0
	je l3475
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3477
	jmp l3476
l3477:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis mcheck
	cmp0
	je l3479
	jmp l3478
l3479:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3481
	jmp l3480
l3481:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mcheck
	cmp0
	je l3483
l3483:
l3480:
l3478:
l3476:
	jmp l3471
l3475:
	push $7
	push $5
	cmpjae
	cmp0
	je l3485
	push $8
	push $6
	cmpjae
	jmp l3487
l3485:
	push 0
	jmp l3487
l3486:
	push 1
l3487:
	cmp0
	je l3488
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3490
	jmp l3489
l3490:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis mcheck
	cmp0
	je l3492
	jmp l3491
l3492:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mcheck
	cmp0
	je l3494
	jmp l3493
l3494:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3496
l3496:
l3493:
l3491:
l3489:
	jmp l3484
l3488:
	push $7
	push $5
	cmpjle
	cmp0
	je l3498
	push $8
	push $6
	cmpjae
	jmp l3500
l3498:
	push 0
	jmp l3500
l3499:
	push 1
l3500:
	cmp0
	je l3501
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3503
	jmp l3502
l3503:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mcheck
	cmp0
	je l3505
	jmp l3504
l3505:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis mcheck
	cmp0
	je l3507
	jmp l3506
l3507:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3509
l3509:
l3506:
l3504:
l3502:
	jmp l3497
l3501:
	push $7
	push $5
	cmpjle
	cmp0
	je l3511
	push $8
	push $6
	cmpjle
	jmp l3513
l3511:
	push 0
	jmp l3513
l3512:
	push 1
l3513:
	cmp0
	je l3514
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3516
	jmp l3515
l3516:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mcheck
	cmp0
	je l3518
	jmp l3517
l3518:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis mcheck
	cmp0
	je l3520
	jmp l3519
l3520:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3522
l3522:
l3519:
l3517:
l3515:
	jmp l3510
l3514:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis mcheck
	cmp0
	je l3524
	jmp l3523
l3524:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3526
	jmp l3525
l3526:
	push $1
	push $2
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis mcheck
	cmp0
	je l3528
	jmp l3527
l3528:
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $4
	cthis mcheck
	cmp0
	je l3530
l3530:
l3527:
l3525:
l3523:
l3510:
l3497:
l3484:
l3471:
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],myid
	cmpje
	cmp0
	je l3532
	call fxwcisnij,play
l3532:
l3470:
l3468:
	end method
	method mouse_rclick
	end method
	end game

	game DrzwikotlowniaB
	parent Kajuta
	method init
	push "drzwikotlowniab"
	clparent Kajuta,init
	push "drzwikotlownia"
	cthis path=
	push A
	push "bkg.pyz"
	push "zasuwy.pyz 10"
	push "zamek.pyz 15"
	push "drzwi.pyz 20"
	push "maska.pyz 50"
	push "klocek.pyzH 625"
	push "klocekb.pyzH 625"
	cthis imgs=
	push "grels"
	push "p16"
	push 25
	cthis newgrimg
	push 11
	call grels,get
	spushs
	spop $a
	call [$a],hide
	push A
	push "putklocek"
	push "putdiament"
	cthis sfxs=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Brakuje dwoch elementow"
	push "DrzwikotlowniaB0"
	cthis sounds=
	new DelayMover,cmov
	call cmov,unlock
	push "DrzwikotlowniaB2"
	call ccs,enter
	end method
	method DrzwikotlowniaB0
	call tcr,ahide
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3534
	push 1
	pop igmstate
	jmp l3533
l3534:
	push "tim2"
	push 1000
	push "DrzwikotlowniaB1"
	cthis timplay
l3533:
	end method
	method DrzwikotlowniaB1
	push "Kotlownia"
	cthis mprzejdz
	end method
	method DrzwikotlowniaB2
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3536
	push 1
	pop igmstate
	jmp l3535
l3536:
	push "tim1"
	push 1000
	push "DrzwikotlowniaB3"
	cthis timplay
l3535:
	end method
	method DrzwikotlowniaB3
	push "lilian1"
	cthis txtplay
	end method
	method mend
	push "HOKotlownia"
	cthis mprzejdz
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3538
	ret
l3538:
	call mouse,getpos
	push 1
	push 1
	call anitemklocek,isin
	cmp0
	je l3540
	call anitemklocek,getcx
	call anitemklocek,getcy
	call anklocek,ansetcpos
	call anklocek,show
	push "anklocek"
	cthis mssetobj
	call anitemklocek,hide
	push 2
	pop igmstate
	jmp l3539
l3540:
	call mouse,getpos
	push 1
	push 1
	call anitemklocekb,isin
	cmp0
	je l3542
	call anitemklocekb,getcx
	call anitemklocekb,getcy
	call anklocekb,ansetcpos
	call anklocekb,show
	push "anklocekb"
	cthis mssetobj
	call anitemklocekb,hide
	push 2
	pop igmstate
l3542:
l3539:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 25
	spop $a
	call [$a],aninlod
	cmp0
	je l3544
	push "item_"
	push "an"
	call $1,strsubbs
	pop $b
	popax
	add $a,$b
	push 0
	call clsave,set
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 30
	spop $a
	call [$a],setz
	call fxputdiament,play
	push "item_klocek"
	push 0
	call clsave,is
	cmp0
	je l3546
	push "item_klocekb"
	push 0
	call clsave,is
	jmp l3548
l3546:
	push 0
	jmp l3548
l3547:
	push 1
l3548:
	cmp0
	je l3549
	call fxputklocek,play
	call anzasuwy,hide
	push "tim3"
	push 500
	push "DrzwikotlowniaB4"
	cthis timplay
	jmp l3545
l3549:
	push 1
	pop igmstate
l3545:
	jmp l3543
l3544:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push 0
	push 1
	call $1,gete
	push "b"
	cmpje
	cmp0
	je l3551
	call anitemklocekb,show
	jmp l3550
l3551:
	call anitemklocek,show
l3550:
	push 1
	pop igmstate
l3543:
	end method
	method DrzwikotlowniaB4
	call grels,hide
	call anklocek,hide
	call anklocekb,hide
	push 1
	push 0
	call andrzwi,setframe
	push "tim4"
	push 1000
	push "mend"
	cthis timplay
	end method
	method hint_click
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3553
	push "anitemklocek"
	push "anklocek"
	cthis playhints
	jmp l3552
l3553:
	push "item_klocekb"
	call clsave,bis
	cmp0
	je l3555
	push "anitemklocekb"
	push "anklocekb"
	cthis playhints
l3555:
l3552:
	end method
	end game

	game Zegar
	parent Kajuta
	method init
	push "zegar"
	clparent Kajuta,init
	push A
	push "zegar.png"
	push "els1.pyzG 10"
	push "els2.pyzGH 15"
	push "wskazowki.pyz 120"
	push "szyba.pyz 125"
	push "podpo.pyz 20"
	push "$scripts/common/bable.pyzH 5"
	cthis imgs=
	push 10
	call grels1,sortz
	new classplacepointer2,clp
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Uszkodzny zegar. Wszystkie cyfry pospaday ze swoich miejsc. Uo je."
	push "Zegar0"
	push "lektor1"
	push "If you want to skip this Mini Game, you can play Match 3 instead."
	push "Zegar1"
	cthis sounds=
	push A
	push "cyfra"
	push "wcisnij"
	cthis sfxs=
	call anszyba,getpx
	call anszyba,getpy
	call anszyba,getw
	call anszyba,geth
	new Rect,rec2
	new DelayMover,cmov
	call cmov,unlock
	push "Zegar2"
	call grels2,eval
	push igmdebug
	cmp0
	je l3569
	cthis mbutnext
l3569:
	cthis mskipminigame
	cthis match3but
	push "mystery_war.ogg -l -v 50"
	call mus,playstr
	push "Zegar6"
	call ccs,enter
	end method
	method Zegar0
	push Trudnosc
	push 2
	cmpjl
	cmp0
	je l3557
	push "anmatch3but"
	push "uu"
	call clp,showob
	push "lektor1"
	cthis txtplay
	jmp l3556
l3557:
	cthis stdret
l3556:
	end method
	method Zegar1
	call clp,stoph
	cthis stdret
	end method
	method Zegar2
	push "isbutin"
	push "Zegar3"
	cthis addmethod
	push "butmoveon"
	push "Zegar4"
	cthis addmethod
	push "butmoveoff"
	push "Zegar5"
	cthis addmethod
	push "yesitsme"
	push 0
	cthis var2
	cthis getname
	call but1,add
	end method
	method Zegar3
	localdef $1
	localdef $2
	pop $2
	pop $1
	call cmov,moving
	cmp0
	je l3559
	push 1
	popax
	sub 0,$a
	cthis actionnr
	call cmov,getmover
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	cmpje
	jmp l3561
l3559:
	push 0
	jmp l3561
l3560:
	push 1
l3561:
	cmp0
	je l3562
	push $1
	push $2
	cthis mcheckpos
	jmp l3558
l3562:
	push 0
l3558:
	end method
	method Zegar4
	cthis isvisible
	push 0
	cmpje
	cmp0
	je l3564
	call cmov,moving
	jmp l3566
l3564:
	push 0
	jmp l3566
l3565:
	push 1
l3566:
	cmp0
	je l3567
	call advmouse,setbut
	push 1
	pop yesitsme
l3567:
	end method
	method Zegar5
	push 0
	pop yesitsme
	call advmouse,setstd
	end method
	method Zegar6
	push "lilian1"
	cthis txtplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3571
	ret
l3571:
	call anszyba,framenr
	push 0
	cmpje
	cmp0
	je l3573
	call mouse,getpos
	push 1
	push 0
	call anszyba,isin
	cmp0
	je l3575
	push 0
	push 1
	call anszyba,setframe
	call fxwcisnij,play
l3575:
	jmp l3572
l3573:
	call mouse,getpos
	push 1
	push 0
	call grels1,isin
	cmp0
	je l3577
	localdef $1
	call grels1,getsfound
	pop $1
	push $1
	cthis mssetobj
	push $1
	spushs
	push 130
	spop $a
	call [$a],setz
	push $1
	call grels1,remove
	call fxwcisnij,play
l3577:
l3572:
	end method
	method mcheckpos
	localint $1
	localint $2
	pop $2
	pop $1
	push 0
	spushs
	push $1
	cthis getcx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getcy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push 40
	cmpjl
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],anactnr
	call grels2,findac
	call grels2,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],yesitsme
	cmp0
	je l3579
	push $1
	spushs
	spop $a
	call [$a],hide
	push $2
	spushs
	spop $a
	call [$a],show
	call fxcyfra,play
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	call anbable,setpos
	push 0
	call anbable,play
	push $2
	call grels2,remove
	call grels2,empty
	cmp0
	je l3581
	push 2
	pop igmstate
	cthis mend
l3581:
	jmp l3578
l3579:
	push $1
	cthis melret
	call fxwcisnij,play
l3578:
	end method
	method melret
	localstring $1
	pop $1
	push $1
	call grels1,add
	push 10
	call grels1,sortz
	push $1
	call rec2,fit
	end method
	method hint_click
	call anszyba,framenr
	push 0
	cmpje
	cmp0
	je l3583
	jmp l3582
l3583:
	call grels1,size
	cmp0
	je l3585
	localdef $1
	call grels1,rand
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],anactnr
	call grels2,findac
	call grels2,get
	pop $2
	push $1
	push $2
	cthis playhints
l3585:
l3582:
	end method
	method anbutnext_click
	cthis mend
	end method
	method mend
	push "Skrytkaschody"
	cthis mprzejdz
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	end game

	game BoxA
	parent Kajuta
	method init
	push "boxa"
	clparent Kajuta,init
	push "box"
	cthis path=
	push A
	push ":lilian1"
	push "Nareszcie!! Udao si!! mam ostatni klucz. Zabior go i szybko przekae wszystkie klucze prababci."
	push "BoxA0"
	cthis titsounds=
	push A
	push "bga.jpg"
	push "boxa.pyz 5"
	push "txta.pyzH 10"
	push "keya.pyzH 20"
	cthis imgs=
	push A
	push "skrzyniaopen2 70"
	cthis sfxs=
	push "tytan_wnetrze.ogg -l -v 30"
	call mus,playstr
	push "e3_ulozylabox"
	call clsave,bis
	cmp0
	je l3587
	call antxta,show
	call anboxa,BoxA1
	call ankeya,BoxA3
	jmp l3586
l3587:
	call anboxa,BoxA5
l3586:
	push "BoxA7"
	call ccs,enter
	end method
	method BoxA0
	push "Kajutamuzeum"
	cthis mprzejdz
	end method
	method BoxA1
	cthis Button_stdalpha
	push "butclick"
	push "BoxA2"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method BoxA2
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3589
	ret
l3589:
	cthis getname
	call but1,removebut
	push 1
	push 0
	cthis setframe
	call fxskrzyniaopen2,play
	call antxta,hide
	call ankeya,show
	end method
	method BoxA3
	cthis Button_stdalpha
	push "butclick"
	push "BoxA4"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method BoxA4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3591
	ret
l3591:
	push 0
	pop igmstate
	push GAME
	spushs
	push 6
	spop $a
	call [$a],klucz_show
	cthis hide
	end method
	method BoxA5
	cthis Button_stdalpha
	push "butclick"
	push "BoxA6"
	cthis addmethod
	cthis getname
	call but1,add
	cthis getname
	cthis hoverhint
	end method
	method BoxA6
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3593
	ret
l3593:
	push 0
	pop igmstate
	push "e3_ulozylabox"
	call clsave,bset
	push "BoxB"
	cthis mprzejdz
	end method
	method BoxA7
	push 1
	pop igmstate
	end method
	method klucz6_shown
	push "timkey"
	push 2000
	push "BoxA8"
	cthis timplay
	end method
	method BoxA8
	push 6
	cthis klucz_to_kolo
	end method
	method klucz6_in_kolo
	push "epizod"
	push "e4_end"
	call clsave,set
	push "lilian1"
	cthis txtplay
	end method
	end game

	game BoxB
	parent Kajuta
	method init
	push "boxa"
	clparent Kajuta,init
	push "box"
	cthis path=
	push A
	push ":lilian1"
	push "Miedziane litery odpady z pudeka. Uoe je na swoich miejscach."
	push "stdret"
	cthis titsounds=
	push A
	push "bgb.jpg"
	push "elsb.pyzG 10"
	push "$scripts/common/bable.pyzH 3"
	cthis imgs=
	push A
	push "litera"
	cthis sfxs=
	push "tytan_wnetrze.ogg -l -v 30"
	call mus,playstr
	push "BoxB0"
	call grelsb,eval
	call grelsb,first
	push "anpoka"
	cthis copyanima
	call anpoka,hide
	new DelayMover,cmov
	call cmov,unlock
	push igmdebug
	cmp0
	je l3595
	cthis mbutnext
l3595:
	cthis mskipminigame
	cthis match3but
	push "BoxB1"
	call ccs,enter
	end method
	method BoxB0
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	end method
	method BoxB1
	push "lilian1"
	cthis txtplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3597
	ret
l3597:
	call mouse,getpos
	push 1
	push 1
	call grelsb,isin
	cmp0
	je l3599
	localdef $1
	call grelsb,getsfound
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localdef $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],ansetbpos
	push $1
	cthis mssetobj
	push $1
	spushs
	push 130
	spop $a
	call [$a],setz
	push $1
	call grelsb,remove
l3599:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 50
	spop $a
	call [$a],aninlod
	cmp0
	je l3601
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anbable,setpos
	push 0
	call anbable,play
	call fxlitera,play
	call grelsb,empty
	cmp0
	je l3603
	cthis mend
	jmp l3602
l3603:
	push 1
	pop igmstate
l3602:
	jmp l3600
l3601:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grelsb,add
l3600:
	end method
	method anbutnext_click
	cthis mend
	end method
	method mend
	push AdventureMode
	cmp0
	je l3605
	push "BoxA"
	cthis mprzejdz
	jmp l3604
l3605:
	push "MainMenu"
	cthis mprzejdz
l3604:
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method hint_click
	call grelsb,size
	cmp0
	je l3607
	localdef $1
	call grelsb,rand
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push 0
	call anpoka,setframe
	push 0
	push 0
	call anpoka,setpos
	push $1
	push "anpoka"
	cthis playhints
l3607:
	end method
	end game

	game Korytarzdolnypoklad
	parent Kajuta
	method init
	push "23korytarzdolnypoklad"
	clparent Kajuta,init
	push "korytarzdolnypoklad"
	cthis setsndbase
	push A
	push "bkg.pyz"
	push "tla.pyzG 5"
	cthis imgs=
	push 1
	popax
	sub 0,$a
	call grtla,nplay
	cthis loadsnddb
	push A
	push ":lilian9"
	push "Plan oficera pokazywa e jedna ze skrytek jest w maszynowni"
	push "stdret"
	push ":lilian12"
	push "Mamy niewiele czasu a brakuje mi jeszcze dwch kluczy; Pom mi"
	push "Korytarzdolnypoklad0"
	push ":prab12"
	push "W kuchni znajdziesz pity klucz; Szukaj dobrze by moe wiele tajemnic odnajdzie swj fina"
	push "stdret"
	push ":lilian13"
	push "W maszynowni zawsze jest ciemno i gono, moe tam prowadzi ten ciemny korytarz."
	push "stdret"
	push ":lilian14"
	push "Sprbuj pj w prawo."
	push "stdret"
	push ":lilian5"
	push "Musz szybko odnale kajut oficera."
	push "stdret"
	cthis sounds=
	push A
	push "przeciag2N"
	cthis sfxs=
	cthis mexits
	new int,iwprawohint
	push 0
	pop iwprawohint
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3609
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3611
	push A
	push "29kuchnia"
	push "24zejsciedomaszynowni"
	cthis titblock
	push "12schody"
	cthis extohint
	push "Korytarzdolnypoklad1"
	call ccs,enter
	jmp l3610
l3611:
	push "otwarte_drzwikotlownia"
	call clsave,bis
	cmp0
	je l3613
	push "12schody"
	cthis blockexit
	push "29kuchnia"
	cthis extohint
	push "Korytarzdolnypoklad2"
	call ccs,enter
	jmp l3612
l3613:
	push "e2_wnioskitajemnica"
	call clsave,bis
	cmp0
	je l3617
	push "29kuchnia"
	cthis blockexit
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3619
	push "24zejsciedomaszynowni"
	cthis extohint
	push "12schody"
	cthis nohover
	jmp l3618
l3619:
	push "12schody"
	cthis extohint
l3618:
	cthis mstdenter
	jmp l3616
l3617:
	push A
	push "29kuchnia"
	push "12schody"
	cthis titblock
	push "24zejsciedomaszynowni"
	cthis extohint
	push "e2_kordolnypoklad_comment"
	call clsave,bis
	neg
	cmp0
	je l3621
	push "e2_kordolnypoklad_comment"
	call clsave,bset
	push "lilian9"
	cthis txtplay
	jmp l3620
l3621:
	cthis mstdenter
l3620:
l3616:
l3612:
l3610:
l3609:
	end method
	method Korytarzdolnypoklad0
	push "prab12"
	cthis txtplay
	end method
	method Korytarzdolnypoklad1
	push "lilian5"
	cthis txtplay
	end method
	method Korytarzdolnypoklad2
	push "e2_zostaly2klucze"
	call clsave,bis
	neg
	cmp0
	je l3615
	push "e2_zostaly2klucze"
	call clsave,bset
	cthis rosie_go
	jmp l3614
l3615:
	push 1
	pop igmstate
l3614:
	end method
	method rosie_help
	push "lilian12"
	cthis txtplay
	end method
	method click_24zejsciedomaszynowni
	push "e2_zeszladomaszynowni"
	call clsave,bset
	push "Zejsciedomaszynowni"
	cthis mprzejdz
	end method
	method hint_click
	push "e2_zeszladomaszynowni"
	call clsave,bis
	neg
	cmp0
	je l3623
	push 0
	pop igmstate
	push "lilian13"
	cthis txtplay
	push "24zejsciedomaszynowni"
	cthis playexhint
	jmp l3622
l3623:
	push "e2_wnioskitajemnica"
	call clsave,bis
	cmp0
	je l3625
	push "e2_salabalowaenter"
	call clsave,bis
	neg
	jmp l3627
l3625:
	push 0
	jmp l3627
l3626:
	push 1
l3627:
	cmp0
	je l3628
	push 0
	pop igmstate
	push "lilian14"
	cthis txtplay
	push "12schody"
	cthis playexhint
l3628:
l3622:
	end method
	method click_29kuchnia
	push "e2_hokuchnia2"
	call clsave,bis
	neg
	cmp0
	je l3630
	push "e2_hokuchnia2"
	call clsave,bset
	push "HOKuchnia2"
	cthis mprzejdz
	jmp l3629
l3630:
	push "Kuchnia"
	cthis mprzejdz
l3629:
	end method
	method click_12schody
	push "Schody"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Zejsciedomaszynowni
	parent Kajuta
	method init
	push "24zejsciedomaszynowni"
	clparent Kajuta,init
	push "zejsciedomaszynowni"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":prab9"
	push "Witaj Lilian! Dzielnie si spisaa; Masz ju skompletowany cay medalion; Moesz mnie teraz wezwa kiedy zechcesz"
	push "Zejsciedomaszynowni0"
	push ":lilian10"
	push "Poznaam mrocz tajemnic o ktrej mwia; Chodzi o morderstwo w trzeciej klasie"
	push "Zejsciedomaszynowni1"
	push ":prab10"
	push "Tak; Nigdy nie odnaleziono sprawcy; Nieszczsna dziewczyna"
	push "Zejsciedomaszynowni2"
	push ":lilian11"
	push "Nie mogam otworzy skrytki w kotowni; Brakuje jednego elementu"
	push "Zejsciedomaszynowni3"
	push ":prab11"
	push "Sprbuj moe w recepcji to dua sala gdzie gocie oczekiwali na zaatwienie wszelkich formalnoci; Ci sami ludzie ktrzy budowali skrytk w kotowni wykaczali take boilery w kotowni"
	push "Zejsciedomaszynowni4"
	push ":lilian12"
	push "Zamknite drzwi, adnej klamki. Moe znajd co w tej stercie narzdzi"
	push "stdret"
	push ":lilian13"
	push "To koo powinno rozwiza problem zamknitych drzwi."
	push "stdret"
	push ":lilian14"
	push "Tutaj nie mam ju nic do zrobienia."
	push "stdret"
	push ":lilian15"
	push "It's closed!"
	push "stdret"
	push ":lilian16"
	push "I need to return to the Engine Room to open the hatch!"
	push "stdret"
	cthis sounds=
	push A
	push "iskry 70"
	cthis sfxs=
	push A
	push "bg.pyz"
	push "doors.pyz 5"
	push "prund.pyzH 10"
	push "rura.pyz 20"
	cthis imgs=
	push "timprund"
	push 5000
	push "Zejsciedomaszynowni5"
	cthis timplay
	push "maszynownia.ogg -l -v 40"
	call mus,playstr
	cthis mexits
	push "onfinish"
	push "Zejsciedomaszynowni6"
	call andoors,addmethod
	push "e2_hozejsciedomaszynowni"
	call clsave,bis
	cmp0
	je l3632
	push "24ho_zejscie"
	cthis diblockexit
	push "24ho_zejscie"
	cthis hodone
	jmp l3631
l3632:
	push "24ho_zejscie"
	cthis extohint
l3631:
	push "e2_odkrecilmaszynownia"
	call clsave,bis
	neg
	cmp0
	je l3634
	push "item_kolo"
	call clsave,bis
	cmp0
	je l3636
	new DelayMover,cmov
	call cmov,unlock
	push "metaldoors"
	cthis sfx=
l3636:
	jmp l3633
l3634:
	push 2
	push 0
	call andoors,setframe
l3633:
	push "Zejsciedomaszynowni7"
	call ccs,enter
	end method
	method Zejsciedomaszynowni0
	push "lilian10"
	cthis txtplay
	end method
	method Zejsciedomaszynowni1
	push "prab10"
	cthis txtplay
	end method
	method Zejsciedomaszynowni2
	push "lilian11"
	cthis txtplay
	end method
	method Zejsciedomaszynowni3
	push "prab11"
	cthis txtplay
	end method
	method Zejsciedomaszynowni4
	call tcr,ahide
	push 1
	pop igmstate
	end method
	method Zejsciedomaszynowni5
	push 0
	call anprund,play
	call fxiskry,play
	cthis play
	end method
	method Zejsciedomaszynowni6
	push "e2_odkrecilmaszynownia"
	call clsave,bset
	push "do_25kotlypalacz"
	call grext,mshow
	push 1
	pop igmstate
	end method
	method Zejsciedomaszynowni7
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3638
	push "ma_medalion2"
	call clsave,bis
	cmp0
	je l3640
	push "e2_wnioskitajemnica"
	call clsave,bis
	neg
	jmp l3642
l3640:
	push 0
	jmp l3642
l3641:
	push 1
l3642:
	cmp0
	je l3643
	push "e2_wnioskitajemnica"
	call clsave,bset
	cthis rosie_go
	push "25kotlypalacz"
	cthis nohover
	jmp l3639
l3643:
	push "e2_zejsciestertaklamka"
	call clsave,bgo
	cmp0
	je l3645
	push "lilian12"
	cthis txtplay
	jmp l3644
l3645:
	call clsave,last
	push "HOZejscie"
	cmpje
	cmp0
	je l3647
	push "lilian13"
	cthis txtplay
	jmp l3646
l3647:
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3649
	push "23korytarzdolnypoklad"
	cthis nohover
l3649:
	push 1
	pop igmstate
l3646:
l3644:
l3639:
l3638:
	end method
	method rosie_help
	push "prab9"
	cthis txtplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3651
	ret
l3651:
	call mouse,getpos
	push 1
	push 1
	call anitemkolo,isin
	cmp0
	je l3653
	push "anitemkolo"
	cthis mssetobj
	push 2
	pop igmstate
l3653:
	end method
	method cmov_PUT
	cthis retobj
	call mouse,getpos
	push 1
	push 1
	call andoors,isin
	cmp0
	je l3655
	call anitemkolo,hide
	push "item_kolo"
	push 0
	call clsave,set
	push 1
	call andoors,play
	call fxmetaldoors,play
	jmp l3654
l3655:
	push 1
	pop igmstate
l3654:
	end method
	method click_24ho_zejscie
	push "e2_hozejsciedomaszynowni"
	call clsave,bset
	push "HOZejscie"
	cthis mprzejdz
	end method
	method click_25kotlypalacz
	push "e2_odkrecilmaszynownia"
	call clsave,bis
	neg
	cmp0
	je l3657
	push 0
	pop igmstate
	push "lilian15"
	cthis txtplay
	jmp l3656
l3657:
	push "Kotlypalacz"
	cthis mprzejdz
l3656:
	end method
	method click_23korytarzdolnypoklad
	push "Korytarzdolnypoklad"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	method hint_click
	push "e2_odkrecilmaszynownia"
	call clsave,bis
	neg
	cmp0
	je l3659
	push "item_kolo"
	call clsave,bis
	jmp l3661
l3659:
	push 0
	jmp l3661
l3660:
	push 1
l3661:
	cmp0
	je l3662
	push "anitemkolo"
	push "do_25kotlypalacz"
	call grext,getsac
	cthis playhints
	jmp l3658
l3662:
	push "e2_hozejsciedomaszynowni"
	call clsave,bis
	cmp0
	je l3664
	push "e2_odkrecilmaszynownia"
	call clsave,bis
	jmp l3666
l3664:
	push 0
	jmp l3666
l3665:
	push 1
l3666:
	cmp0
	je l3667
	push "item_klocek"
	call clsave,bis
	cmp0
	jne l3670
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	neg
	jmp l3671
l3669:
	push 0
	jmp l3671
l3670:
	push 1
l3671:
	cmp0
	je l3672
	push "25kotlypalacz"
	cthis playexhint
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3674
	push 0
	pop igmstate
	push "lilian16"
	cthis txtplay
l3674:
	jmp l3668
l3672:
	push "23korytarzdolnypoklad"
	cthis playexhint
	push 0
	pop igmstate
	push "lilian14"
	cthis txtplay
l3668:
l3667:
l3658:
	end method
	end game

	game Kotlypalacz
	parent Kajuta
	method init
	push "25kotlypalacz"
	clparent Kajuta,init
	push "kotlypalacz"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":palacz1"
	push "Co jest! Do stu tysicy diabw morskich! Karty same si uoyy!! Duchy, czy moe za duo rumu? Wezm si lepiej za robot"
	push "Kotlypalacz0"
	push ":palacz2"
	push "Duchu moe masz ochot zagra w kko i krzyyk? No chod nie daj si prosi"
	push "Kotlypalacz2"
	push ":palacz3"
	push "Duchu! Nie wiem gdzie jeste bo ci nie widz ale za to e wygrae masz tak ma byskotk ktr znalazem na stercie wgla"
	push "Kotlypalacz4"
	push ":lilian1"
	push "W kotach napalone i chwila przerwy na may pasjans?|Przyacze si do gry. Ciekawe jak bdzie mia min palacz... Jestem w kocu niewidzialna."
	push "stdret"
	push ":lilian2"
	push "Mam ju drugi fragment medalionu prababci! Niesamowite, e udao mi si skompletowac cao. Pjd dalej w gb kotowni, moe znajd tam co ciekawego."
	push "stdret"
	cthis sounds=
	push A
	push "25kotlypalacz.jpg"
	push "palacz.pyz 3"
	push "deska.pyz 1"
	push "memo.pyz 2"
	cthis imgs=
	push "maszynownia.ogg -l -v 50"
	call mus,playstr
	cthis mexits
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3676
	push "e2_wygralamemo"
	call clsave,bis
	neg
	cmp0
	je l3678
	push A
	push "26kotlownia"
	push "24zejsciedomaszynowni"
	cthis titblock
	call anmemo,Kotlypalacz10
	push "anmemo"
	cthis antohint
	push "anmemo"
	cthis hoverhint
	jmp l3677
l3678:
	push 1
	push 0
	call anpalacz,setframe
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	neg
	cmp0
	je l3682
	push "24zejsciedomaszynowni"
	cthis blockexit
	push "26kotlownia"
	cthis extohint
	jmp l3681
l3682:
	push "item_klocek"
	call clsave,bis
	cmp0
	je l3684
	push "26kotlownia"
	cthis extohint
	push "24zejsciedomaszynowni"
	cthis nohover
	jmp l3683
l3684:
	push "24zejsciedomaszynowni"
	cthis extohint
l3683:
l3681:
l3677:
l3676:
	push "Kotlypalacz12"
	call ccs,enter
	end method
	method Kotlypalacz0
	call tcr,ahide
	push "e2_do100tys"
	call clsave,bset
	push "timp1"
	push 2000
	push "Kotlypalacz1"
	cthis timplay
	end method
	method Kotlypalacz1
	push "palacz2"
	cthis txtplay
	end method
	method Kotlypalacz2
	push "e2_wygralakolkokrzyz"
	call clsave,bset
	call tcr,ahide
	push "timp2"
	push 1000
	push "Kotlypalacz3"
	cthis timplay
	end method
	method Kotlypalacz3
	push "Kolkokrzyz"
	cthis mprzejdz
	end method
	method Kotlypalacz4
	push GAME
	spushs
	spop $a
	call [$a],Kotlypalacz5
	end method
	method Kotlypalacz5
	call tcr,ahide
	new itemadder,clb2
	push A
	push "$scripts/items/brylant2get.pyz 750"
	cthis imgs=
	new anima,angwiazdkif2
	push "scripts/common/gwiazdkif.pyz"
	call angwiazdkif2,load
	call angwiazdkif2,hide
	push "anbrylant2get"
	push "Kotlypalacz6"
	call clb2,showitem
	end method
	method Kotlypalacz6
	push "timbryl1"
	push 1000
	push "Kotlypalacz7"
	cthis timplay
	end method
	method Kotlypalacz7
	cthis medalion_open
	push "anbrylant2get"
	push "anmedalion2"
	push 15
	push "Kotlypalacz8"
	call clb2,gotodestan
	end method
	method Kotlypalacz8
	call anbrylant2get,hide
	push "ma_medalion2"
	call clsave,bset
	cthis medalion_open
	call anmedalion2,getcx
	call anmedalion2,getcy
	call angwiazdkif2,setpos
	call anmedalion2,getz
	push 1
	pop $b
	popax
	add $a,$b
	call angwiazdkif2,setz
	push 0
	call angwiazdkif2,play
	push "timbryl2"
	push 1000
	push "Kotlypalacz9"
	cthis timplay
	end method
	method Kotlypalacz9
	push "lilian2"
	cthis txtplay
	end method
	method Kotlypalacz10
	cthis Button_std
	push "butclick"
	push "Kotlypalacz11"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Kotlypalacz11
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3680
	ret
l3680:
	push "e2_wygralamemo"
	call clsave,bset
	push "Memo"
	cthis mprzejdz
	end method
	method Kotlypalacz12
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3686
	push "e2_wygralamemo"
	call clsave,bis
	cmp0
	je l3688
	push "e2_do100tys"
	call clsave,bis
	neg
	cmp0
	je l3690
	push "palacz1"
	cthis txtplay
	jmp l3689
l3690:
	push "e2_wygralakolkokrzyz"
	call clsave,bis
	neg
	cmp0
	je l3692
	push "palacz2"
	cthis txtplay
	jmp l3691
l3692:
	push "ma_medalion2"
	call clsave,bis
	neg
	cmp0
	je l3694
	push "palacz3"
	cthis txtplay
	jmp l3693
l3694:
	push 1
	pop igmstate
l3693:
l3691:
l3689:
	jmp l3687
l3688:
	push "e2_enterpalaczkotlownia"
	call clsave,bgo
	cmp0
	je l3696
	push "lilian1"
	cthis txtplay
	jmp l3695
l3696:
	push 1
	pop igmstate
l3695:
l3687:
l3686:
	end method
	method click_26kotlownia
	push "Kotlownia"
	cthis mprzejdz
	end method
	method click_24zejsciedomaszynowni
	push "Zejsciedomaszynowni"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Kotlownia
	parent Kajuta
	method init
	push "26kotlownia"
	clparent Kajuta,init
	push "kotlownia"
	cthis setsndbase
	push A
	push "26kotlownia.jpg"
	push "drzwi.pyz 10"
	cthis imgs=
	push A
	push ":lilian1"
	push "Jakie te koty ogromne. Pi kotw w jednym rzdzie. eby Titanic mg pyn potrzebna bya ogromna ilo pary."
	push "stdret"
	push ":lilian2"
	push "O.. jaki dziwny waz na jednym z kotw. Sprawdz to."
	push "stdret"
	push ":lilian3"
	push "Musz znale brakujce elementy w innych pomieszczeniach."
	push "stdret"
	push ":lilian4"
	push "Wracam na grne pokady, tu ju nie mam nic do zrobienia."
	push "stdret"
	cthis titsounds=
	push "maszynownia.ogg -l"
	call mus,playstr
	cthis mexits
	push "otwarte_drzwikotlownia"
	call clsave,bis
	cmp0
	je l3698
	push "27ho_kotlownia"
	cthis diblockexit
	push "27ho_kotlownia"
	cthis hodone
	push "open"
	push 0
	call andrzwi,setframe
	push "25kotlypalacz"
	cthis extohint
	jmp l3697
l3698:
	push "item_klocek"
	call clsave,bis
	cmp0
	jne l3701
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	neg
	jmp l3702
l3700:
	push 0
	jmp l3702
l3701:
	push 1
l3702:
	cmp0
	je l3703
	push "27ho_kotlownia"
	cthis extohint
	jmp l3699
l3703:
	push "25kotlypalacz"
	cthis extohint
l3699:
l3697:
	push "Kotlownia0"
	call ccs,enter
	end method
	method Kotlownia0
	push "e2_kotlowniaenter"
	call clsave,bgo
	cmp0
	je l3705
	push "lilian1"
	cthis txtplay
	jmp l3704
l3705:
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	cmp0
	je l3707
	push "e2_ukonczonedrzwikotkoment"
	call clsave,bgo
	jmp l3709
l3707:
	push 0
	jmp l3709
l3708:
	push 1
l3709:
	cmp0
	je l3710
	push "lilian3"
	cthis txtplay
	jmp l3706
l3710:
	call clsave,last
	push "HOKotlownia"
	cmpje
	cmp0
	je l3712
	push "lilian4"
	cthis txtplay
	jmp l3711
l3712:
	push 1
	pop igmstate
l3711:
l3706:
l3704:
	end method
	method hint_click
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	neg
	cmp0
	je l3714
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
l3714:
	end method
	method click_27ho_kotlownia
	push "ukonczone_drzwikotlownia"
	call clsave,bis
	cmp0
	je l3716
	push "DrzwikotlowniaB"
	cthis mprzejdz
	jmp l3715
l3716:
	push "Drzwikotlownia"
	cthis mprzejdz
l3715:
	end method
	method click_25kotlypalacz
	push "Kotlypalacz"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Kuchnia
	parent Kajuta
	method init
	push "29kuchnia"
	clparent Kajuta,init
	push "kuchnia"
	cthis setsndbase
	push A
	push ":lilian1"
	push "Przeszukam to pomieszczenie. Prababcia mwia, e znajd tutaj klucz."
	push "stdret"
	cthis titsounds=
	push A
	push "29kuchnia.jpg"
	cthis imgs=
	push A
	push "bgrsala2N"
	cthis sfxs=
	cthis mexits
	push "e2_hokuchnia"
	call clsave,bis
	cmp0
	je l3718
	push "30ho_kuchnia"
	cthis diblockexit
	push "30ho_kuchnia"
	cthis hodone
	push "23korytarzdolnypoklad"
	cthis extohint
	jmp l3717
l3718:
	push "30ho_kuchnia"
	cthis extohint
	push "23korytarzdolnypoklad"
	cthis nohover
l3717:
	push "Kuchnia0"
	call ccs,enter
	end method
	method Kuchnia0
	push "e2_kuchniaenter"
	call clsave,bgo
	cmp0
	je l3720
	push 0
	pop igmstate
	push "lilian1"
	cthis txtplay
	jmp l3719
l3720:
	push 1
	pop igmstate
l3719:
	end method
	method click_30ho_kuchnia
	push "e2_hokuchnia"
	call clsave,bset
	push "HOKuchnia"
	cthis mprzejdz
	end method
	method click_23korytarzdolnypoklad
	push "Korytarzdolnypoklad"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Salabalowarecepcja
	parent Kajuta
	method init
	push "36salabalowarecepcja"
	clparent Kajuta,init
	push "salabalowarecepcja"
	cthis setsndbase
	push A
	push "36salabalowarecepcja.jpg"
	push "lustro.pyz 5"
	push "szafa.pyz 5"
	cthis imgs=
	push A
	push ":lilian1"
	push "Jakie piekne miejsce i tylu wytwornych pasaerw. Rozejrz si u poszukam miejsca gdzie mog by brakujce fragmenty herbu."
	push "stdret"
	push ":lilian2"
	push "W rogu stoi szafa, moe tam co znajd."
	push "stdret"
	push ":lilian3"
	push "Poszukam sali ze zdjecia."
	push "stdret"
	cthis titsounds=
	push "gwarludziN 60"
	cthis sfx=
	cthis mexits
	push "epizod"
	push "e2_1912"
	call clsave,is
	cmp0
	je l3722
	push "ludzie.pyzG 10"
	cthis img=
l3722:
	push "e2_recepcjalustro"
	call clsave,bis
	cmp0
	je l3724
	push 1
	push 0
	call anlustro,setframe
	push "40ho_skrytkalustro"
	cthis diblockexit
	push "40ho_skrytkalustro"
	cthis hodone
	push "12schody"
	cthis extohint
	jmp l3723
l3724:
	push "item_krysztal14"
	call clsave,bis
	cmp0
	je l3726
	push "item_krysztal15"
	call clsave,bis
	jmp l3728
l3726:
	push 0
	jmp l3728
l3727:
	push 1
l3728:
	cmp0
	je l3729
	push "anlustro"
	cthis antohint
	jmp l3725
l3729:
	push "12schody"
	cthis extohint
l3725:
l3723:
	push "e2_recepcjaszafa"
	call clsave,bis
	cmp0
	je l3731
	push 1
	push 0
	call anszafa,setframe
	push "37ho_salabalowa"
	cthis diblockexit
	push "37ho_salabalowa"
	cthis hodone
	jmp l3730
l3731:
	push "anszafa"
	cthis antohint
l3730:
	push "Salabalowarecepcja0"
	call ccs,enter
	end method
	method Salabalowarecepcja0
	push "e2_salabalowaenter"
	call clsave,bgo
	cmp0
	je l3733
	push "lilian1"
	cthis txtplay
	jmp l3732
l3733:
	call clsave,last
	push "Zdjecie"
	cmpje
	cmp0
	je l3735
	push "lilian3"
	cthis txtplay
	jmp l3734
l3735:
	push 1
	pop igmstate
l3734:
l3732:
	end method
	method click_37ho_salabalowa
	push "e2_recepcjaszafa"
	call clsave,bset
	push "Szafa"
	cthis mprzejdz
	end method
	method click_40ho_skrytkalustro
	push "KrysztalyA"
	cthis mprzejdz
	end method
	method click_12schody
	push "e2_recepcjalustro"
	call clsave,bis
	cmp0
	je l3737
	push "e2_hoschody"
	call clsave,bis
	neg
	jmp l3739
l3737:
	push 0
	jmp l3739
l3738:
	push 1
l3739:
	cmp0
	je l3740
	push "e2_hoschody"
	call clsave,bset
	push "HOSchody"
	cthis mprzejdz
	jmp l3736
l3740:
	push "Schody"
	cthis mprzejdz
l3736:
	end method
	method hint_click
	push "e2_recepcjaszafa"
	call clsave,bis
	neg
	cmp0
	je l3742
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	push "anszafa"
	cthis playhint
l3742:
	end method
	method tit_lclick
	end method
	end game

	game Salaturecka
	parent Kajuta
	method init
	push "38salaturecka"
	clparent Kajuta,init
	push "salaturecka"
	cthis setsndbase
	push A
	push "38salaturecka.jpg"
	cthis imgs=
	push A
	push ":lilian1"
	push "To chyba aznia turecka. Budowniczowie Titanica zadbali o wszelkie wygody dla pasaerw."
	push "stdret"
	push ":lilian2"
	push "Te szufladki na cianie mog kry jak zagadk."
	push "stdret"
	push ":lilian3"
	push "Wrc do sali z szaf. Moe tam dowiem si co mog zrobi z krysztaami."
	push "stdret"
	cthis titsounds=
	cthis mexits
	push A
	push "bgrsala2N"
	cthis sfxs=
	push "e2_hosalaturecka"
	call clsave,bis
	cmp0
	je l3744
	push "39ho_salaturecka"
	cthis diblockexit
	push "39ho_salaturecka"
	cthis hodone
	push "12schody"
	cthis extohint
l3744:
	push "Salaturecka0"
	call ccs,enter
	end method
	method Salaturecka0
	call clsave,last
	push "HOSalaturecka"
	cmpje
	cmp0
	je l3746
	push "lilian3"
	cthis txtplay
	jmp l3745
l3746:
	push "e2_salatureckaenter"
	call clsave,bgo
	cmp0
	je l3748
	push "lilian1"
	cthis txtplay
	jmp l3747
l3748:
	push 1
	pop igmstate
l3747:
l3745:
	end method
	method hint_click
	push "e2_hosalaturecka"
	call clsave,bis
	neg
	cmp0
	je l3750
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	push "39ho_salaturecka"
	cthis playexhint
l3750:
	end method
	method click_39ho_salaturecka
	push "e2_hosalaturecka"
	call clsave,bset
	push "Szuflady"
	cthis mprzejdz
	end method
	method click_12schody
	push "Schody"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game MainMenu
	parent StdGame
	method init
	push 0
	pop AdventureMode
	push "menu"
	clparent StdGame,init
	push A
	push "click 80"
	cthis sfxs=
	push 1
	call clsmen,saveonset=
	push "currentprofile"
	call clsmen,has
	cmp0
	je l3752
	push "currentprofile"
	call clsmen,get
	pop iProfilId
	push "difficulty_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	call clsmen,get
	pop Trudnosc
	jmp l3751
l3752:
	push 0
	pop iProfilId
	push 1
	pop Trudnosc
	push "currentprofile"
	push iProfilId
	call clsmen,set
	cthis setstdprofile
l3751:
	push igmipad
	cmp0
	je l3754
	push A
	push "bg.jpg"
	push "panelpod.pyzG 9"
	push "menunakipad.pyz 15"
	push "stdbutsipad.pyzG 10"
	push "$scripts/introg2/fala.pyzP 5"
	push "$scripts/introg2/dym.pyzG 6"
	cthis imgs=
	push "anmenunak"
	call anmenunakipad,addtogamevars
	push "grstdbuts"
	call grstdbutsipad,addtogamevars
	jmp l3753
l3754:
	push A
	push "bg.jpg"
	push "panelpod.pyzG 9"
	push "menunak.pyz 15"
	push "stdbuts.pyzG 10"
	push "$scripts/introg2/fala.pyzP 5"
	push "$scripts/introg2/dym.pyzG 6"
	cthis imgs=
l3753:
	push LANG
	push "pol"
	cmpje
	cmp0
	je l3756
	push "linkwww.pyzH"
	cthis img=
	call anlinkwww,MainMenu0
l3756:
	push "dbtxt"
	push "teksty_"
	cthis lang_db
	push 1
	popax
	sub 0,$a
	call grdym,nplay
	push A
	push "savebut.pyzH 50"
	push "okienko.pyzH 20"
	push "ok.pyzH 35"
	push "exit.pyzGH 40"
	push "credits.pyzH 25"
	push "extras.pyzH 25"
	push "explansze.pyzGH 25"
	push "exmin.pyzGH 30"
	push "exsnd.pyzGH 30"
	push "exlearn.pyzGH 30"
	push "options.pyzH 25"
	push "optplansze.pyzGH 25"
	push "optsound.pyzGH 25"
	push "opsuwmuz.pyzH 30"
	push "opsuwfx.pyzH 30"
	push "optmode.pyzHG 30"
	push "optmodes.pyzH 25"
	push "optfullscreen.pyzH 30"
	push "optfson.pyzH 25"
	push "prwindow.pyzH 20"
	push "profiles.pyzH 25"
	push "prwnd.pyzH 25"
	push "prdel.pyzHG 30"
	push "welcome.pyz 15"
	push "grmen"
	cthis imgsgr=
	push "logo_ng:"
	call dbconf,dbget
	spushs
	spop $h
	call $h,to_i
	cmp0
	je l3764
	push "logong.pyz 10"
	cthis img=
l3764:
	push "anwelcome"
	call grmen,remove
	new string,sactmenu
	push "null"
	pop sactmenu
	new int,icredx1
	call anokienko,getpx
	push 70
	pop $b
	popax
	add $a,$b
	pop icredx1
	new int,icredy1
	call ancredits,getey
	push 10
	pop $b
	popax
	add $a,$b
	pop icredy1
	new int,icredy2
	call anokienko,getey
	push 20
	pop $b
	popax
	sub $a,$b
	pop icredy2
	localdef $1
	push 16
	pop $1
	push "fntcred_italic"
	push "configs/fonts/FreeSerifItalic.ttf"
	push $1
	cthis newfont
	push "fntcred_bold_italic"
	push "configs/fonts/FreeSerifBoldItalic.ttf"
	push $1
	cthis newfont
	push "fntcred_italic$fntcred_bold_italic"
	push $1
	push "$lang:credits_"
	push 20
	cthis grey
	push icredx1
	push icredy1
	push 5
	push 25
	push "left"
	new TextDb,tdcred
	push 0
	push icredy1
	push iResX
	push icredy2
	call tdcred,clip
	call tdcred,hide
	push "timcred"
	push "MainMenu4"
	cthis cycle=
	call anextras,butmen
	new int,idextras
	push 1
	pop idextras
	new int,idexsnd
	push 0
	pop idexsnd
	push "MainMenu5"
	call grexsnd,eval
	push "MainMenu7"
	call grexplansze,eval
	push "MainMenu9"
	call grexmin,eval
	push "MainMenu11"
	call grexlearn,eval
	call ancredits,butmen
	push 0
	push 25
	popax
	sub 0,$a
	call anprofiles,move
	new int,iileprofili
	push 5
	pop iileprofili
	new int,itmprofil
	push iProfilId
	pop itmprofil
	new gmimgvec,grprof
	push "fntprit"
	push sgmfontitalic
	push 14
	cthis newfont
	push "txtenter"
	push "entername"
	call dbtxt,dbget
	push "fntprit"
	cthis menucol
	cthis newtext
	call txtenter,hide
	push 35
	call txtenter,setz
	push "txtexists"
	push "exists"
	call dbtxt,dbget
	push "fntprit"
	cthis menucol
	cthis newtext
	call txtexists,hide
	push 35
	call txtexists,setz
	push "fntprnom"
	push sgmfontfile
	push 20
	cthis newfont
	push "txtwelcome"
	push ""
	push "fntprnom"
	cthis menucol
	cthis newtext
	push 18
	call txtwelcome,setz
	cthis mwelcome
	localdef $2
	push 12
	pop $2
	push "fntprnom"
	push 20
	cthis menucol
	push "at0 "
	push $2
	new ConTextTyper,ttp
	push "left"
	call ttp,Sdir=
	push GAME
	push "mendtype"
	call ttp,onenter
	call ttp,disable
	push 35
	call ttp,setz
	call ttp,hide
	new string,stypemode
	localint $3
	push 1
	pop $3
l3788:
	push $3
	push iileprofili
	cmpjle
	cmp0
	je l3789
	jmp l3791
l3790:
	add $3,1
	pop $3
	jmp l3788
l3791:
	localdef $4
	push "grt"
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	spop $e
	new gmimgvec,[$e]
	localdef $5
	push $3
	cthis mwnd
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	localdef $6
	push $5
	push "txt1"
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push "newprofile"
	call dbtxt,dbget
	push "fntprit"
	cthis menucol
	cthis newtext
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	localdef $7
	push $5
	push "txt2"
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push ""
	push "fntprnom"
	cthis black
	cthis newtext
	push $7
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $3
	cthis hasprofile
	cmp0
	je l3793
	push $7
	spushs
	push "profilename_"
	push $3
	pop $b
	popax
	add $a,$b
	call clsmen,get
	spop $a
	call [$a],txtset
l3793:
	push $6
	spushs
	spop $a
	call [$a],hide
	push $7
	spushs
	spop $a
	call [$a],hide
	push $6
	spushs
	push $5
	spop $a
	call [$a],mcenterpos
	push $7
	spushs
	push $5
	spop $a
	call [$a],mcenterpos
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
	push $4
	spushs
	push $7
	spop $a
	call [$a],add
	push $5
	spushs
	push $3
	spop $a
	call [$a],MainMenu13
	push $3
	cthis mwnd
	push "ok"
	pop $b
	popax
	add $a,$b
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	push $5
	spushs
	push "ok"
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	spop $a
	call [$a],buildprofile
	push $5
	spushs
	spop $a
	call [$a],MainMenu16
	push $3
	cthis mwnd
	push "rename"
	pop $b
	popax
	add $a,$b
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	push $5
	spushs
	push "rename"
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	spop $a
	call [$a],buildprofile
	push $5
	spushs
	spop $a
	call [$a],MainMenu18
	push $3
	cthis mwnd
	push "delete"
	pop $b
	popax
	add $a,$b
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	push $5
	spushs
	push "delete"
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	spop $a
	call [$a],buildprofile
	push $5
	spushs
	spop $a
	call [$a],MainMenu20
	push 1
	call grprdel,get
	spushs
	spop $a
	call [$a],MainMenu22
	push 2
	call grprdel,get
	spushs
	spop $a
	call [$a],MainMenu24
	push $3
	cthis mwnd
	push "ok2"
	pop $b
	popax
	add $a,$b
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	push $5
	spushs
	push "ok2"
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	spop $a
	call [$a],buildprofile
	push $5
	spushs
	spop $a
	call [$a],msetok2
	push $5
	spushs
	spop $a
	call [$a],MainMenu26
	push $3
	cthis mwnd
	push "cancel"
	pop $b
	popax
	add $a,$b
	pop $5
	push "anprwnd"
	push $5
	cthis copyanima
	push $5
	spushs
	push "cancel"
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	spop $a
	call [$a],buildprofile
	push $5
	spushs
	spop $a
	call [$a],MainMenu28
	push $4
	spushs
	push 40
	popax
	sub 0,$a
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push 2.3
	push $5
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],move
	jmp l3790
l3789:
	call anoptions,butmen
	new int,idoptplansze
	push 0
	pop idoptplansze
	push "MainMenu30"
	call groptplansze,eval
	push "MainMenu32"
	call groptmode,eval
	push 2
	call anopsuwmuz,createsuwak
	push 3
	call anopsuwfx,createsuwak
	call anoptfson,MainMenu35
	push "MainMenu38"
	call ccs,enter
	push 1
	call grexit,get
	spushs
	spop $a
	call [$a],MainMenu39
	push 2
	call grexit,get
	spushs
	spop $a
	call [$a],MainMenu41
	new int,isubstate
	push 10
	pop isubstate
	push "MainMenu43"
	call grstdbuts,eval
	call anok,MainMenu45
	cthis mcheckplay
	end method
	method MainMenu0
	cthis Button_isinvis
	push "butmoveon"
	push "MainMenu1"
	cthis addmethod
	push "butmoveoff"
	push "MainMenu2"
	cthis addmethod
	push "butclick"
	push "MainMenu3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu1
	push sgmstate
	push "game"
	cmpjne
	cmp0
	je l3758
	ret
l3758:
	call advmouse,setact
	end method
	method MainMenu2
	push sgmstate
	push "game"
	cmpjne
	cmp0
	je l3760
	ret
l3760:
	call advmouse,setstd
	end method
	method MainMenu3
	push sgmstate
	push "game"
	cmpjne
	cmp0
	je l3762
	ret
l3762:
	push "http://playway.com/"
	call engine,linkwww
	end method
	method MainMenu4
	push 0
	push 1
	popax
	sub 0,$a
	call tdcred,move
	call tdcred,getey
	push icredy1
	push 50
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3766
	cthis mcredgo
l3766:
	cthis play
	end method
	method MainMenu5
	localdef $1
	cthis actionname
	pop $1
	push "play"
	call $1,contains
	cmp0
	je l3768
	cthis Button_stdmsisin
	push "butclick"
	push "MainMenu6"
	cthis addmethod
	cthis getname
	call but1,add
l3768:
	end method
	method MainMenu6
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3770
	ret
l3770:
	cthis actionname
	spushs
	push 0
	push 1
	spop $h
	call $h,gete
	pop idexsnd
	cthis putexsnd
	end method
	method MainMenu7
	cthis Button_stdmsisin
	push "butclick"
	push "MainMenu8"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu8
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3772
	ret
l3772:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop idextras
	push GAME
	spushs
	spop $a
	call [$a],putextras
	end method
	method MainMenu9
	cthis Button_stdmsisin
	push "butclick"
	push "MainMenu10"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu10
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3774
	ret
l3774:
	push 0
	pop AdventureMode
	cthis actionname
	spushs
	push "1_memo"
	cmpst
	jne l3776
	spop $a
	push "Memo"
	jmp l3775
l3776:
	push "2_pietnacha"
	cmpst
	jne l3777
	spop $a
	push "Drzwikotlownia"
	jmp l3775
l3777:
	push "3_lustro"
	cmpst
	jne l3778
	spop $a
	push "Krysztaly"
	jmp l3775
l3778:
	push "4_sejf"
	cmpst
	jne l3779
	spop $a
	push "Roznice"
	jmp l3775
l3779:
	push "5_panel"
	cmpst
	jne l3780
	spop $a
	push "Puzzle"
	jmp l3775
l3780:
	push "6_box"
	cmpst
	jne l3781
	spop $a
	push "BoxB"
	jmp l3775
l3781:
	spop $a
l3775:
	cthis mprzejdz
	end method
	method MainMenu11
	cthis Button_stdmsisin
	push "butclick"
	push "MainMenu12"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu12
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3783
	ret
l3783:
	push 0
	pop AdventureMode
	cthis actionname
	spushs
	push "budowa"
	cmpst
	jne l3785
	spop $a
	push "InfoTrapR"
	jmp l3784
l3785:
	push "przekroj"
	cmpst
	jne l3786
	spop $a
	push "InfoTrapL"
	jmp l3784
l3786:
	push "lost"
	cmpst
	jne l3787
	spop $a
	push "InfoKasyL"
	jmp l3784
l3787:
	spop $a
l3784:
	cthis mprzejdz
	end method
	method MainMenu13
	localint $1
	pop $1
	cthis Button_stdms
	push "butclick"
	push "MainMenu14"
	cthis addmethod
	cthis getname
	call but1,add
	push "mshowtxt"
	push "MainMenu15"
	cthis addmethod
	push $1
	cthis buildprofile
	end method
	method MainMenu14
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3795
	ret
l3795:
	push myid
	pop itmprofil
	cthis msetactprofile
	localdef $1
	push myid
	cthis mwnd
	pop $1
	push myid
	cthis hasprofile
	neg
	cmp0
	je l3797
	push $1
	push "txt1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push $1
	call txtenter,mcenterpos
	call txtenter,show
	push "newprofile"
	pop stypemode
	cthis mstarttype
	jmp l3796
l3797:
l3796:
	end method
	method MainMenu15
	push myid
	cthis hasprofile
	cmp0
	je l3799
	cthis getname
	push "txt2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	cthis getname
	push "txt1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l3798
l3799:
	cthis getname
	push "txt2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	cthis getname
	push "txt1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
l3798:
	end method
	method MainMenu16
	cthis Button_stdms
	push "butclick"
	push "MainMenu17"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu17
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	jne l3802
	cthis framenr
	push 0
	cmpje
	jmp l3803
l3801:
	push 0
	jmp l3803
l3802:
	push 1
l3803:
	cmp0
	je l3804
	ret
l3804:
	push itmprofil
	pop iProfilId
	push "currentprofile"
	push itmprofil
	call clsmen,set
	push "difficulty_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	call clsmen,get
	pop Trudnosc
	cthis setgamevolume
	cthis wczytajglosnosc
	push "game"
	pop sgmstate
	push GAME
	spushs
	spop $a
	call [$a],hideactmen
	cthis mwelcome
	cthis mcheckplay
	end method
	method MainMenu18
	cthis Button_stdms
	push "butclick"
	push "MainMenu19"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu19
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	jne l3807
	cthis framenr
	push 0
	cmpje
	jmp l3808
l3806:
	push 0
	jmp l3808
l3807:
	push 1
l3808:
	cmp0
	je l3809
	ret
l3809:
	push "profilename_"
	push itmprofil
	pop $b
	popax
	add $a,$b
	call clsmen,get
	call ttp,txtset
	cthis mcheckname
	cthis mactwnd
	push "txt2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push "renameprofile"
	pop stypemode
	cthis mstarttype
	end method
	method MainMenu20
	cthis Button_stdms
	push "butclick"
	push "MainMenu21"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu21
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	jne l3812
	cthis framenr
	push 0
	cmpje
	jmp l3813
l3811:
	push 0
	jmp l3813
l3812:
	push 1
l3813:
	cmp0
	je l3814
	ret
l3814:
	push "delprofil"
	pop sgmstate
	call grprdel,show
	end method
	method MainMenu22
	cthis Button_stdms
	push "butclick"
	push "MainMenu23"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu23
	push sgmstate
	push "delprofil"
	cmpjne
	cmp0
	je l3816
	ret
l3816:
	push "profilename_"
	push itmprofil
	pop $b
	popax
	add $a,$b
	call clsmen,remove
	push "difficulty_"
	push itmprofil
	pop $b
	popax
	add $a,$b
	call clsmen,remove
	push "sfx_volume"
	push itmprofil
	pop $b
	popax
	add $a,$b
	call clsmen,remove
	push "music_volume"
	push itmprofil
	pop $b
	popax
	add $a,$b
	call clsmen,remove
	push "profil_"
	push itmprofil
	pop $b
	popax
	add $a,$b
	push "_started"
	pop $b
	popax
	add $a,$b
	push 0
	call clsmen,set
	cthis mfirstprofile
	pop itmprofil
	push GAME
	spushs
	spop $a
	call [$a],putprofiles
	end method
	method MainMenu24
	cthis Button_stdms
	push "butclick"
	push "MainMenu25"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu25
	push sgmstate
	push "delprofil"
	cmpjne
	cmp0
	je l3818
	ret
l3818:
	push GAME
	spushs
	spop $a
	call [$a],putprofiles
	end method
	method MainMenu26
	cthis Button_stdms
	push "butclick"
	push "MainMenu27"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu27
	push sgmstate
	push "typeprofile"
	cmpje
	cmp0
	je l3820
	cthis framenr
	push 1
	cmpje
	jmp l3822
l3820:
	push 0
	jmp l3822
l3821:
	push 1
l3822:
	cmp0
	je l3823
	push GAME
	spushs
	spop $a
	call [$a],mendtype
	jmp l3819
l3823:
	push sgmstate
	push "profileexist"
	cmpje
	cmp0
	je l3825
	push "submenu"
	pop sgmstate
	cthis putprofiles
l3825:
l3819:
	end method
	method MainMenu28
	cthis Button_stdms
	push "butclick"
	push "MainMenu29"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu29
	push sgmstate
	push "typeprofile"
	cmpje
	cmp0
	je l3827
	push myid
	cthis hasprofile
	neg
	cmp0
	je l3829
	push 0
	pop itmprofil
l3829:
	push GAME
	spushs
	spop $a
	call [$a],putprofiles
	jmp l3826
l3827:
	push sgmstate
	push "profileexist"
	cmpje
	cmp0
	je l3831
	push "submenu"
	pop sgmstate
	cthis putprofiles
l3831:
l3826:
	end method
	method MainMenu30
	cthis Button_stdmsisin
	push "butclick"
	push "MainMenu31"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu31
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop idoptplansze
	push GAME
	spushs
	spop $a
	call [$a],putoptions
	end method
	method MainMenu32
	push "isbutin"
	push "MainMenu33"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "MainMenu34"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu33
	localdef $1
	localdef $2
	pop $2
	pop $1
	call anoptions,isvisible
	cmp0
	je l3832
	push idoptplansze
	push 0
	cmpje
	cmp0
	je l3832
	push $1
	push $2
	push 0
	push 0
	cthis isin
	jmp l3834
l3832:
	push 0
	jmp l3834
l3833:
	push 1
l3834:
	end method
	method MainMenu34
	push Trudnosc
	call groptmode,get
	spushs
	spop $a
	call [$a],hide
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop Trudnosc
	push "difficulty_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push Trudnosc
	call clsmen,set
	cthis show
	end method
	method MainMenu35
	push "isbutin"
	push "MainMenu36"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "MainMenu37"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu36
	localdef $1
	localdef $2
	pop $2
	pop $1
	call anoptions,isvisible
	cmp0
	je l3835
	push idoptplansze
	push 2
	cmpje
	cmp0
	je l3835
	push $1
	push $2
	push 0
	push 0
	cthis isin
	jmp l3837
l3835:
	push 0
	jmp l3837
l3836:
	push 1
l3837:
	end method
	method MainMenu37
	push bFullScreen
	neg
	pop bFullScreen
	push bFullScreen
	cmp0
	je l3839
	cthis show
	jmp l3838
l3839:
	cthis hide
l3838:
	push bFullScreen
	call engine,setfullscreen
	cthis getcx
	cthis getcy
	call mouse,setpos
	push "fullscreen"
	push bFullScreen
	call clsmen,set
	end method
	method MainMenu38
	push "wizards.ogg -l -v 60"
	call mus,playstr
	push "game"
	pop sgmstate
	end method
	method MainMenu39
	cthis Button_stdms
	push "butclick"
	push "MainMenu40"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu40
	push "exit"
	pop sgmstate
	push "exit"
	cthis mprzejdz
	end method
	method MainMenu41
	cthis Button_stdms
	push "butclick"
	push "MainMenu42"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu42
	push "game"
	pop sgmstate
	call grexit,hide
	call but1,onmousemove
	end method
	method MainMenu43
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "MainMenu44"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu44
	push sgmstate
	push "game"
	cmpjne
	cmp0
	je l3841
	ret
l3841:
	cthis actionname
	spushs
	push "_profiles"
	cmpst
	jne l3843
	spop $a
	push GAME
	spushs
	spop $a
	call [$a],putprofiles
	jmp l3842
l3843:
	push "_quit"
	cmpst
	jne l3844
	spop $a
	call grexit,show
	push "askexit"
	pop sgmstate
	jmp l3842
l3844:
	push "_extras"
	cmpst
	jne l3845
	spop $a
	push GAME
	spushs
	spop $a
	call [$a],putextras
	jmp l3842
l3845:
	push "_options"
	cmpst
	jne l3846
	spop $a
	push GAME
	spushs
	spop $a
	call [$a],putoptions
	jmp l3842
l3846:
	push "_play"
	cmpst
	jne l3847
	spop $a
	push 1
	pop AdventureMode
	push "IntroG1"
	cthis mprzejdz
	jmp l3842
l3847:
	push "_continue"
	cmpst
	jne l3848
	spop $a
	cthis framenr
	push 1
	cmpje
	cmp0
	je l3850
	push iProfilId
	push 0
	cmpje
	cmp0
	je l3852
	push GAME
	spushs
	spop $a
	call [$a],putprofiles
	jmp l3851
l3852:
	push 1
	pop AdventureMode
	push "profil_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push "_started"
	pop $b
	popax
	add $a,$b
	push 1
	call clsmen,set
	push "IntroG1"
	cthis mprzejdz
l3851:
	jmp l3849
l3850:
	push 2
	pop AdventureMode
	cthis loadsaver
	call clsave,stdload
	push "currentgame"
	call clsave,bis
	cmp0
	je l3854
	push "currentgame"
	call clsave,get
	cthis mprzejdz
	jmp l3853
l3854:
	push "IntroG1"
	cthis mprzejdz
l3853:
l3849:
	jmp l3842
l3848:
	push "_credits"
	cmpst
	jne l3855
	spop $a
	push GAME
	spushs
	spop $a
	call [$a],putcredits
	jmp l3842
l3855:
	spop $a
l3842:
	end method
	method MainMenu45
	cthis Button_stdms
	push "butclick"
	push "MainMenu46"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu46
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3857
	ret
l3857:
	push GAME
	spushs
	spop $a
	call [$a],hideactmen
	call but1,onmousemove
	push "game"
	pop sgmstate
	end method
	method wczytajglosnosc
	localdef $1
	cthis loadsndvolume
	pop $1
	call $1,to_r
	push 100.0
	pop $b
	popax
	div $a,$b
	psax
	call anopsuwfx,suwakpos
	push $1
	call engine,setsndvol
	cthis loadmusicvolume
	pop $1
	call $1,to_r
	push 100.0
	pop $b
	popax
	div $a,$b
	psax
	call anopsuwmuz,suwakpos
	push $1
	call gameapi,setmusicvol
	end method
	method setstdprofile
	push "difficulty_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push 1
	call clsmen,set
	push "music_volume"
	push iProfilId
	pop $b
	popax
	add $a,$b
	cthis stdmusicvol
	call clsmen,set
	push "sfx_volume"
	push iProfilId
	pop $b
	popax
	add $a,$b
	cthis stdsndvol
	call clsmen,set
	end method
	method mcheckplay
	localdef $1
	push "_continue"
	call grstdbuts,getsac
	pop $1
	push iProfilId
	push 0
	cmpje
	cmp0
	jne l3860
	push "profil_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push "_started"
	pop $b
	popax
	add $a,$b
	push 1
	call clsmen,is
	neg
	jmp l3861
l3859:
	push 0
	jmp l3861
l3860:
	push 1
l3861:
	cmp0
	je l3862
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	jmp l3858
l3862:
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l3858:
	end method
	method mwelcome
	push iProfilId
	push 0
	cmpja
	cmp0
	je l3864
	push "welcome"
	call dbtxt,dbget
	push " "
	pop $b
	popax
	add $a,$b
	push "profilename_"
	push iProfilId
	pop $b
	popax
	add $a,$b
	call clsmen,get
	pop $b
	popax
	add $a,$b
	call txtwelcome,txtset
	call txtwelcome,show
	call anwelcome,show
	jmp l3863
l3864:
	call txtwelcome,hide
	call anwelcome,hide
l3863:
	push "anwelcome"
	call txtwelcome,mcenterpos
	end method
	method mfirstprofile
	localint $1
	push 1
	pop $1
l3865:
	push $1
	push iileprofili
	cmpjle
	cmp0
	je l3866
	jmp l3868
l3867:
	add $1,1
	pop $1
	jmp l3865
l3868:
	push $1
	cthis hasprofile
	cmp0
	je l3870
	push $1
	ret
l3870:
	jmp l3867
l3866:
	push 0
	end method
	method mendtype
	call keyboard,hide
	call txtenter,hide
	localdef $1
	cthis mactwnd
	pop $1
	localdef $2
	call ttp,get
	pop $2
	call $2,clear
	push ""
	call ttp,txtset
	call ttp,disable
	localint $3
	push 1
	pop $3
	call $2,length
	cmp0
	je l3872
	localint $4
	push 1
	pop $4
l3873:
	push $4
	push iileprofili
	cmpjle
	cmp0
	je l3874
	jmp l3876
l3875:
	add $4,1
	pop $4
	jmp l3873
l3876:
	push $4
	push itmprofil
	cmpjne
	cmp0
	je l3878
	push $2
	push "profilename_"
	push $4
	pop $b
	popax
	add $a,$b
	call clsmen,get
	cmpje
	cmp0
	je l3880
	push $1
	call txtexists,mcenterpos
	call txtexists,show
	push 0
	pop $3
l3880:
l3878:
	jmp l3875
l3874:
	push $3
	cmp0
	je l3882
	push "profilename_"
	push itmprofil
	pop $b
	popax
	add $a,$b
	push $2
	call clsmen,set
	localdef $5
	push $1
	push "txt2"
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $2
	spop $a
	call [$a],txtset
	push $5
	spushs
	push $1
	spop $a
	call [$a],mcenterpos
	push $5
	spushs
	spop $a
	call [$a],show
	jmp l3881
l3882:
	push itmprofil
	cthis hasprofile
	neg
	cmp0
	je l3884
	push 0
	pop itmprofil
l3884:
l3881:
	jmp l3871
l3872:
	push $1
	push "txt1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
l3871:
	call ttp,hide
	push $3
	cmp0
	je l3886
	push "submenu"
	pop sgmstate
	push stypemode
	push "newprofile"
	cmpje
	cmp0
	je l3888
	push itmprofil
	pop iProfilId
	cthis setstdprofile
	cthis setgamevolume
	cthis wczytajglosnosc
l3888:
	cthis putprofiles
	jmp l3885
l3886:
	push "profileexist"
	pop sgmstate
l3885:
	end method
	method mstarttype
	localdef $1
	cthis mactwnd
	pop $1
	push $1
	push "ok"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push $1
	push "rename"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push $1
	push "delete"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	push $1
	push "ok2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	push $1
	push "cancel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	call txtexists,hide
	push $1
	spushs
	spop $a
	call [$a],getpx
	push 100
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	call ttp,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call ttp,setpos
	call ttp,show
	call ttp,enable
	push "typeprofile"
	pop sgmstate
	call but1,onmousemove
	call keyboard,show
	end method
	method ttp_ontype
	call txtenter,hide
	end method
	method ttp_ontyped
	cthis mcheckname
	end method
	method mcheckname
	localdef $1
	call ttp,get
	pop $1
	call $1,clear
	cthis mactwnd
	push "ok2"
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	call $1,length
	push 0
	cmpja
	cmp0
	je l3890
	push 1
	jmp l3889
l3890:
	push 0
l3889:
	spop $a
	call [$a],setframe
	end method
	method mcenterpos
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method menucol
	push 32
	cthis grey
	end method
	method mwnd
	localint $1
	pop $1
	push "anpr_"
	push $1
	pop $b
	popax
	add $a,$b
	end method
	method mactwnd
	push itmprofil
	cthis mwnd
	end method
	method buildprofile
	localint $1
	pop $1
	push "grt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	call [$a],add
	push A
	push "myid"
	push $1
	cthis vars2
	cthis getname
	call grprof,add
	end method
	method hasprofile
	localint $1
	pop $1
	push "profilename_"
	push $1
	pop $b
	popax
	add $a,$b
	call clsmen,has
	end method
	method putextras
	push "submenu"
	pop sgmstate
	push sactmenu
	push "anextras"
	cmpje
	cmp0
	je l3892
	call grmen,hide
	jmp l3891
l3892:
	cthis hideactmen
	push 500
	call mus,fadeout
l3891:
	push "anextras"
	pop sactmenu
	call anokienko,show
	call anextras,show
	call anok,show
	push "MainMenu47"
	call grexplansze,eval
	push idextras
	push 0
	cmpje
	cmp0
	je l3896
	call grexsnd,show
	push 0
	pop idexsnd
	cthis putexsnd
	jmp l3895
l3896:
	push idextras
	push 1
	cmpje
	cmp0
	je l3898
	call grexmin,show
	jmp l3897
l3898:
	push idextras
	push 2
	cmpje
	cmp0
	je l3900
	call grexlearn,show
l3900:
l3897:
l3895:
	end method
	method MainMenu47
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push idextras
	cmpje
	cmp0
	je l3894
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	jmp l3893
l3894:
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l3893:
	cthis show
	end method
	method putexsnd
	localint $1
	push 1
	pop $1
l3901:
	push $1
	push 3
	cmpjle
	cmp0
	je l3902
	jmp l3904
l3903:
	add $1,1
	pop $1
	jmp l3901
l3904:
	push $1
	push idexsnd
	cmpje
	cmp0
	je l3906
	localdef $2
	push "wiol"
	push $1
	pop $b
	popax
	add $a,$b
	call grexsnd,getsac
	spushs
	spop $a
	call [$a],framenr
	pop $2
	push $2
	push 1
	cmpje
	cmp0
	je l3908
	push 0
	pop idexsnd
	push 500
	call mus,fadeout
	cthis putexsnd
	ret
	jmp l3907
l3908:
	push "wiol"
	push $1
	pop $b
	popax
	add $a,$b
	call grexsnd,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push "play"
	push $1
	pop $b
	popax
	add $a,$b
	call grexsnd,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push idexsnd
	spushs
	push 1
	cmpst
	jne l3910
	spop $a
	push "mystery_war.ogg"
	jmp l3909
l3910:
	push 2
	cmpst
	jne l3911
	spop $a
	push "waltzing_ghosts.ogg"
	jmp l3909
l3911:
	push 3
	cmpst
	jne l3912
	spop $a
	push "wizards.ogg"
	jmp l3909
l3912:
	spop $a
l3909:
	call mus,playstr
l3907:
	jmp l3905
l3906:
	push "wiol"
	push $1
	pop $b
	popax
	add $a,$b
	call grexsnd,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push "play"
	push $1
	pop $b
	popax
	add $a,$b
	call grexsnd,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l3905:
	jmp l3903
l3902:
	end method
	method createsuwak
	localint $1
	pop $1
	localdef $2
	push $1
	call groptsound,get
	pop $2
	localdef $3
	push 50
	pop $3
	localdef $4
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	localdef $5
	push $2
	spushs
	spop $a
	call [$a],getex
	push $3
	pop $b
	popax
	sub $a,$b
	pop $5
	push A
	push "ypos"
	push $2
	spushs
	spop $a
	call [$a],getcy
	push "xpos"
	push $4
	push "expos"
	push $5
	cthis vars2
	cthis Button_stdms
	push "butmoving"
	push "MainMenu48"
	cthis addmethod
	cthis getname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	push "fx"
	cmpje
	cmp0
	je l3920
	cthis loadsndvolume
	spushs
	spop $h
	call $h,to_r
	push 100.0
	pop $b
	popax
	div $a,$b
	psax
	cthis suwakpos
	jmp l3919
l3920:
	cthis loadmusicvolume
	spushs
	spop $h
	call $h,to_r
	push 100.0
	pop $b
	popax
	div $a,$b
	psax
	cthis suwakpos
l3919:
	cthis getname
	call but1,add
	end method
	method MainMenu48
	localdef $1
	call mouse,getpx
	pop $1
	push $1
	push xpos
	cmpjle
	cmp0
	je l3914
	push xpos
	push ypos
	cthis ansetcpos
	jmp l3913
l3914:
	push $1
	push expos
	cmpjae
	cmp0
	je l3916
	push expos
	push ypos
	cthis ansetcpos
	jmp l3915
l3916:
	push $1
	push ypos
	cthis ansetcpos
l3915:
l3913:
	localreal $2
	localreal $3
	push expos
	cthis getcx
	pop $b
	popax
	sub $a,$b
	pop $2
	push expos
	push xpos
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push 1.0
	push $2
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 100.0
	pop $b
	popax
	mul $a,$b
	pop $4
	cthis getname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	push "fx"
	cmpje
	cmp0
	je l3918
	push $4
	call engine,setsndvol
	push "sfx_volume"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push $4
	call clsmen,set
	jmp l3917
l3918:
	push $4
	call gameapi,setmusicvol
	push "music_volume"
	push iProfilId
	pop $b
	popax
	add $a,$b
	push $4
	call clsmen,set
l3917:
	end method
	method suwakpos
	localreal $1
	pop $1
	push xpos
	push $1
	push expos
	push xpos
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push ypos
	cthis ansetcpos
	end method
	method mnofullscreen
	push igmipad
	cmp0
	jne l3922
	push igmmac
	jmp l3923
l3921:
	push 0
	jmp l3923
l3922:
	push 1
l3923:
	end method
	method putoptions
	push "submenu"
	pop sgmstate
	cthis hideactmen
	push "anoptions"
	pop sactmenu
	call anokienko,show
	call anoptions,show
	call anok,show
	call groptplansze,show
	cthis mnofullscreen
	cmp0
	je l3925
	push 2
	call groptplansze,get
	spushs
	spop $a
	call [$a],hide
l3925:
	push "MainMenu49"
	call groptplansze,eval
	push idoptplansze
	push 0
	cmpje
	cmp0
	je l3929
	push Trudnosc
	call groptmode,get
	spushs
	spop $a
	call [$a],show
	call anoptmodes,show
	jmp l3928
l3929:
	push idoptplansze
	push 1
	cmpje
	cmp0
	je l3931
	call groptsound,show
	call anopsuwmuz,show
	call anopsuwfx,show
	jmp l3930
l3931:
	push idoptplansze
	push 2
	cmpje
	cmp0
	je l3933
	cthis mnofullscreen
	cmp0
	je l3935
	call anoptfullscreen,hide
	call anoptfson,hide
	jmp l3934
l3935:
	call anoptfullscreen,show
	push bFullScreen
	cmp0
	je l3937
	call anoptfson,show
l3937:
l3934:
l3933:
l3930:
l3928:
	end method
	method MainMenu49
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push idoptplansze
	cmpje
	cmp0
	je l3927
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	jmp l3926
l3927:
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l3926:
	end method
	method putprofiles
	push "submenu"
	pop sgmstate
	cthis hideactmen
	push "anprofiles"
	pop sactmenu
	push ""
	call ttp,txtset
	call ttp,disable
	call ttp,hide
	call txtenter,hide
	call anprofiles,show
	call anprwindow,show
	cthis msetactprofile
	end method
	method misactprofil
	push itmprofil
	cthis hasprofile
	end method
	method msetok2
	push myid
	cthis hasprofile
	cmp0
	je l3939
	push "ok2"
	push 1
	cthis setframe
	jmp l3938
l3939:
	push "ok2"
	push 0
	cthis setframe
l3938:
	end method
	method msetactprofile
	push "MainMenu50"
	call grprof,eval
	end method
	method MainMenu50
	cthis show
	push itmprofil
	push myid
	cmpje
	cmp0
	je l3941
	cthis actionname
	spushs
	push "okno"
	cmpst
	jne l3943
	spop $a
	cthis mshowtxt
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	jmp l3942
l3943:
	push "rename"
	cmpst
	je l3945
	push "ok"
	cmpst
	je l3945
	push "delete"
	cmpst
	je l3945
	jmp l3944
l3945:
	spop $a
	push myid
	cthis hasprofile
	cmp0
	je l3947
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l3947:
	jmp l3942
l3944:
	push "ok2"
	cmpst
	je l3949
	push "cancel"
	cmpst
	je l3949
	jmp l3948
l3949:
	spop $a
	cthis hide
	jmp l3942
l3948:
	spop $a
l3942:
	jmp l3940
l3941:
	cthis actionname
	spushs
	push "okno"
	cmpst
	jne l3951
	spop $a
	cthis mshowtxt
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	jmp l3950
l3951:
	push "rename"
	cmpst
	je l3953
	push "ok"
	cmpst
	je l3953
	push "delete"
	cmpst
	je l3953
	jmp l3952
l3953:
	spop $a
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	jmp l3950
l3952:
	push "ok2"
	cmpst
	jne l3954
	spop $a
	cthis hide
	cthis msetok2
	jmp l3950
l3954:
	push "cancel"
	cmpst
	jne l3955
	spop $a
	cthis hide
	jmp l3950
l3955:
	spop $a
l3950:
l3940:
	end method
	method anprofiles_exit
	call grprof,hide
	localint $1
	push 1
	pop $1
l3956:
	push $1
	push iileprofili
	cmpjle
	cmp0
	je l3957
	jmp l3959
l3958:
	add $1,1
	pop $1
	jmp l3956
l3959:
	push "grt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l3958
l3957:
	call txtexists,hide
	end method
	method mcredgo
	push icredx1
	push icredy2
	call tdcred,setpos
	call tdcred,show
	end method
	method putcredits
	push "submenu"
	pop sgmstate
	cthis hideactmen
	push "ancredits"
	pop sactmenu
	call anokienko,show
	call ancredits,show
	call anok,show
	cthis mcredgo
	call timcred,play
	end method
	method ancredits_exit
	push 0
	call timcred,stop
	call tdcred,hide
	end method
	method butmen
	ret
	cthis Button_stdms
	push "butclick"
	push "MainMenu51"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu51
	push sgmstate
	push "submenu"
	cmpjne
	cmp0
	je l3961
	ret
l3961:
	push GAME
	spushs
	spop $a
	call [$a],hideactmen
	call but1,onmousemove
	push "game"
	pop sgmstate
	push GAME
	spushs
	cthis getname
	push "_exit"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method anextras_exit
	push "wizards.ogg -l -v 60"
	call mus,playstr
	end method
	method hideactmen
	push sactmenu
	push "null"
	cmpjne
	cmp0
	je l3963
	push sactmenu
	push "_exit"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop sactmenu
l3963:
	call grmen,hide
	end method
	method but1_lclick
	push sobject
	push "null"
	cmpjne
	cmp0
	je l3965
	call fxclick,play
l3965:
	end method
	end game

	class TPuzzle
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iCols
	push $4
	pop iCols
	new int,iRows
	push $3
	pop iRows
	push "imgbkg"
	push $1
	push 0
	cthis newimg
	new gmimgvec,grel
	new gmimgvec,grend
	push "grel"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	call grel,hash
	push "TPuzzle0"
	call grel,each
	new int,ibadajl
	push 25
	pop ibadajl
	new string,sactpuz
	new int,iblitopacity
	push 192
	pop iblitopacity
	new int,PuzzleState
	push 0
	pop PuzzleState
	new DelayMover,cmov
	push 200
	new SimpleCounter,cnt
	new int,iX
	push $5
	pop iX
	new int,iY
	push $6
	pop iY
	push iX
	push iY
	call grel,move
	end method
	method TPuzzle0
	localdef $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method setpuzstate
	localint $1
	pop $1
	push $1
	pop PuzzleState
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l3967
	new gmimgvec,grblit
	localdef $2
	pop $2
	push "grblit"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	call grblit,hide
l3967:
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3969
	ret
l3969:
	call mouse,getpos
	push 1
	push 1
	call grel,isincut
	cmp0
	je l3971
	localstring $1
	call grel,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	cthis tpuzzle_get
l3971:
	end method
	method cwithin
	localstring $1
	pop $1
	localint $2
	cthis gettype
	push "anima"
	cmpjne
	cmp0
	je l3973
	push 0
	pop $2
l3974:
	push $2
	cthis size
	cmpjl
	cmp0
	je l3975
	jmp l3977
l3976:
	add $2,1
	pop $2
	jmp l3974
l3977:
	push $2
	cthis get
	spushs
	push $1
	spop $a
	call [$a],cwithin
	cmp0
	je l3979
	push 1
	ret
l3979:
	jmp l3976
l3975:
	push 0
	ret
	jmp l3972
l3973:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l3981
	localint $3
	cthis framenr
	pop $3
	localint $4
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	push A
	push $4
	push 0
	cmpja
	cmp0
	je l3983
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
l3983:
	push $4
	push iCols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3985
	push $3
	push 1
	pop $b
	popax
	add $a,$b
l3985:
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l3987
	push $3
	push iCols
	pop $b
	popax
	sub $a,$b
l3987:
	push $4
	push iRows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l3989
	push $3
	push iCols
	pop $b
	popax
	add $a,$b
l3989:
	push $1
	spushs
	spop $a
	call [$a],framenr
	spushs
	spop $h
	call $h,in
	ret
	jmp l3980
l3981:
	push 0
	pop $2
l3990:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l3991
	jmp l3993
l3992:
	add $2,1
	pop $2
	jmp l3990
l3993:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cwithin
	cmp0
	je l3995
	push 1
	ret
l3995:
	jmp l3992
l3991:
	push 0
	ret
l3980:
l3972:
	end method
	method cblit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l3997
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l3999
	push $1
	spushs
	push iX
	push iY
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	spushs
	spop $a
	call [$a],framenr
	call grblit,get
	pop $1
l3999:
	push $1
	spushs
	spop $a
	call [$a],TPuzzle1
	jmp l3996
l3997:
	localint $2
	push 0
	pop $2
l4000:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4001
	jmp l4003
l4002:
	add $2,1
	pop $2
	jmp l4000
l4003:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cblit
	jmp l4002
l4001:
l3996:
	end method
	method TPuzzle1
	push 1
	cthis setz
	cthis show
	push iX
	push iY
	cthis setpos
	localint $1
	cthis getpx
	pop $1
	localint $2
	cthis getpy
	pop $2
	cthis anaddfilter
	push iblitopacity
	cthis setopacity
	push $1
	push $2
	cthis setpos
	cthis getname
	call imgbkg,blit
	cthis unlink
	push iX
	push iY
	cthis setpos
	cthis hide
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	end method
	method cput
	cthis tpuzzle_put
	localstring $1
	call cmov,getmover
	pop $1
	push $1
	spushs
	push 100
	call cnt,next
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	call cmov,free
	call grel,TPuzzle2
	localstring $2
	push $1
	pop $2
	localstring $3
	push $1
	pop sactpuz
l4004:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpjne
	cmp0
	je l4005
	push $1
	spushs
	push 0
	spop $a
	call [$a],get
	pop $1
	jmp l4004
l4005:
	push $1
	spushs
	spop $a
	call [$a],lodx
	push iX
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],lody
	push iY
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	call ibadajl,length
	push ibadajl
	cmpjl
	cmp0
	je l4007
	push "null"
	pop sactpuz
	push $2
	cthis cblit
	push $2
	call grel,remove
	push $2
	call grend,add
	cthis tpuzzle_blit
	call grel,empty
	cmp0
	je l4009
	call grend,show
	cthis tpuzzle_end
l4009:
	jmp l4006
l4007:
	push $2
	call grel,remove
	localint $4
	push 0
	pop $4
l4010:
	push $4
	call grel,size
	cmpjl
	cmp0
	je l4011
	jmp l4013
l4012:
	add $4,1
	pop $4
	jmp l4010
l4013:
	push $4
	call grel,get
	pop $1
	push $1
	push $2
	call cllen,iposlen
	push 0
	cmpjl
	cmp0
	je l4015
	push $2
	spushs
	push $1
	spop $a
	call [$a],cwithin
	jmp l4017
l4015:
	push 0
	jmp l4017
l4016:
	push 1
l4017:
	cmp0
	je l4018
	localint $5
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $6
	pop $5
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l4020
	push $1
	cthis mwyjmij
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l4022
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new gmimgvec,[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],add
	push $3
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l4021
l4022:
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	pop $3
l4021:
	push $1
	call grel,remove
	push $3
	call grel,add
	jmp l4019
l4020:
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l4024
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l4023
l4024:
	push $1
	spushs
	push $2
	spop $a
	call [$a],addgr
l4023:
	push $1
	pop $3
l4019:
	push $3
	spushs
	push $5
	push $6
	spop $a
	call [$a],setpos
	push $3
	spushs
	push $2
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	call grel,sortimgs
	push $3
	pop sactpuz
	ret
l4018:
	jmp l4012
l4011:
	push $2
	call grel,add
l4006:
	end method
	method TPuzzle2
	cthis sortimgs
	push "TPuzzle3"
	cthis each
	end method
	method TPuzzle3
	localint $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method tpuzzle_end
	end method
	method tpuzzle_get
	end method
	method tpuzzle_blit
	end method
	method tpuzzle_put
	end method
	end class

	game Puzzle
	parent Kajuta
	parent TPuzzle
	method init
	push "puzzle"
	clparent Kajuta,init
	push A
	push "lektor1"
	push "Na grze ekranu s fragmenty poczne. Ukadaj je w odpiednich miejscach tak aby electricity, oxygen, fuel poaczyy si odpowiednimi zegarami po przeciwnej stronie ekranu."
	push "Puzzle0"
	cthis titsounds=
	push A
	push "getpuz 60"
	push "putpuz 60"
	push "ok 60"
	push "puzzleok 50"
	push "putpuz2 60"
	cthis sfxs=
	new int,iPuzRow
	push 4
	pop iPuzRow
	new int,iPuzCol
	push 5
	pop iPuzCol
	new int,bPlayMusic
	push 1
	pop bPlayMusic
	push "bgpuzzle.png"
	push "puz4_5.pyz"
	push iPuzRow
	push iPuzCol
	push 0
	push 0
	cthis tinit
	push A
	push "left.pyz 200"
	push "right.pyz 200"
	push "maski.pyzG 199"
	push "finisz.pyzH 20"
	cthis imgs=
	call anleft,Button_std
	call anright,Button_std
	push "anleft"
	call but1,add
	push "anright"
	call but1,add
	new int,strzalkax
	push 5
	pop strzalkax
	new int,rewindspeed
	push 10
	pop rewindspeed
	push "timleft"
	push "Puzzle1"
	cthis cycle=
	push "timright"
	push "Puzzle2"
	cthis cycle=
	push 6
	push 54
	push 1012
	push 690
	new Rect,rec2
	new gmimgvec,grpes
	localint $1
	push 0
	pop $1
l4039:
	push $1
	call grel,size
	cmpjl
	cmp0
	je l4040
	jmp l4042
l4041:
	add $1,1
	pop $1
	jmp l4039
l4042:
	push $1
	call grel,get
	cthis mwstaw
	jmp l4041
l4040:
	push "timwatch"
	push 2000
	push "mend"
	cthis timer=
	push igmdebug
	cmp0
	je l4044
	cthis mbutnext
l4044:
	cthis mskipminigame
	cthis match3but
	push Trudnosc
	push 2
	cmpjl
	cmp0
	je l4046
	push 0
	push iResY
	call anmatch3but,getey
	pop $b
	popax
	sub $a,$b
	push 120
	pop $b
	popax
	sub $a,$b
	call anmatch3but,move
l4046:
	push bPlayMusic
	cmp0
	je l4048
l4048:
	push "Puzzle3"
	call ccs,enter
	end method
	method Puzzle0
	cthis unlockall
	cthis stdret
	end method
	method Puzzle1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4026
	call grpes,size
	jmp l4028
l4026:
	push 0
	jmp l4028
l4027:
	push 1
l4028:
	cmp0
	je l4029
	push rewindspeed
	push 0
	call grpes,move
	localdef $1
	call grpes,first
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l4031
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push 0
	call grpes,move
l4031:
	cthis play
l4029:
	end method
	method Puzzle2
	push igmstate
	push 1
	cmpje
	cmp0
	je l4033
	call grpes,size
	jmp l4035
l4033:
	push 0
	jmp l4035
l4034:
	push 1
l4035:
	cmp0
	je l4036
	push rewindspeed
	popax
	sub 0,$a
	push 0
	call grpes,move
	localdef $1
	call grpes,last
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4038
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	push 0
	call grpes,move
l4038:
	cthis play
l4036:
	end method
	method Puzzle3
	push "lektor1"
	cthis txtplay
	end method
	method mend
	push AdventureMode
	cmp0
	je l4050
	push "HasloA"
	cthis mprzejdz
	jmp l4049
l4050:
	push "MainMenu"
	cthis mprzejdz
l4049:
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method play_music
	push "wizards.ogg -v 50 -l"
	call mus,playstr
	end method
	method stop_music
	push 1000
	call mus,fadeout
	end method
	method mwstaw
	localstring $1
	pop $1
	localint $2
	push 5
	pop $2
	localint $3
	call grpes,size
	cmp0
	je l4052
	call grpes,last
	spushs
	spop $a
	call [$a],getex
	pop $3
	jmp l4051
l4052:
	call anleft,getex
	pop $3
l4051:
	push $1
	spushs
	push $3
	push strzalkax
	pop $b
	popax
	add $a,$b
	call grmaski,first
	spushs
	spop $a
	call [$a],getpy
	push 10
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	push $1
	spushs
	call anleft,getex
	push strzalkax
	pop $b
	popax
	add $a,$b
	push 0
	call anright,getpx
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push iResY
	spop $a
	call [$a],clip
	push $1
	call grpes,add
	end method
	method mwyjmij
	localstring $1
	pop $1
	localint $2
	push $1
	call grpes,find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l4054
	ret
l4054:
	push $1
	spushs
	push 0
	push 0
	push iResX
	push iResY
	spop $a
	call [$a],clip
	push $1
	call grpes,remove
	localint $3
	push $2
	pop $3
l4055:
	push $3
	call grpes,size
	cmpjl
	cmp0
	je l4056
	jmp l4058
l4057:
	add $3,1
	pop $3
	jmp l4055
l4058:
	push $3
	call grpes,get
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	popax
	sub 0,$a
	push strzalkax
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l4057
l4056:
	end method
	method clbuts_help_butmoveon
	end method
	method clbuts_help_butmoveoff
	end method
	method tpuzzle_get
	call fxgetpuz,play
	call grel,getsfound
	cthis mwyjmij
	end method
	method tpuzzle_put
	call fxputpuz,play
	end method
	method tpuzzle_blit
	call fxputpuz2,play
	end method
	method tpuzzle_end
	call fxok,play
	call grend,hide
	push 2
	pop igmstate
	push 0
	call anfinisz,play
	call timwatch,play
	call fxpuzzleok,play
	end method
	method anbutnext_click
	cthis tpuzzle_end
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	push sactpuz
	push "null"
	cmpjne
	cmp0
	je l4060
	push sactpuz
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l4062
	push sactpuz
	spushs
	spop $a
	call [$a],getpy
	call anleft,getcy
	cmpjl
	jmp l4064
l4062:
	push 0
	jmp l4064
l4063:
	push 1
l4064:
	cmp0
	je l4065
	push sactpuz
	cthis mwstaw
	jmp l4061
l4065:
	push sactpuz
	call rec2,fit
l4061:
l4060:
	end method
	method tit_lclick
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4067
	push $1
	push $2
	push 1
	push 1
	call anleft,isin
	cmp0
	je l4069
	call timleft,play
	jmp l4068
l4069:
	push $1
	push $2
	push 1
	push 1
	call anright,isin
	cmp0
	je l4071
	call timright,play
l4071:
l4068:
l4067:
	end method
	method mouse_lrel
	push igmstate
	push 1
	cmpje
	cmp0
	je l4073
	call timleft,isplaying
	cmp0
	je l4075
	push 0
	call timleft,stop
l4075:
	call timright,isplaying
	cmp0
	je l4077
	push 0
	call timright,stop
l4077:
l4073:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4079
	call grpes,print
l4079:
	end method
	end game

	class GraczeMemo
	method init
	localint $1
	pop $1
	new int,idrugi
	push 1
	pop idrugi
	push $1
	push 1
	cmpje
	cmp0
	je l4081
	push 2
	pop idrugi
l4081:
	new anima,angracz1
	push "scripts/memo/gracze.pyz"
	call angracz1,load
	push "angracz1"
	push "angracz2"
	cthis copyanima
	push "angracz1"
	call angracz1,addtogamevars
	push "angracz2"
	call angracz2,addtogamevars
	push "aktualny"
	cthis var
	push 1
	cthis set
	end method
	method set
	localint $1
	pop $1
	push $1
	pop aktualny
	push $1
	push 1
	cmpje
	cmp0
	je l4083
	push 0
	push 1
	call angracz1,setframe
	push 1
	push 0
	call angracz2,setframe
	jmp l4082
l4083:
	push 0
	push 0
	call angracz1,setframe
	push 1
	push 1
	call angracz2,setframe
l4082:
	end method
	method next
	push aktualny
	push 1
	cmpje
	cmp0
	je l4085
	push 2
	cthis set
	jmp l4084
l4085:
	push 1
	cthis set
l4084:
	end method
	end class

	push 6
	pop iMemoW
	push 5
	pop iMemoH
	push 1
	pop iMemoTryb
	game Memo
	parent Kajuta
	parent TMemo
	method init
	push "memo"
	clparent Kajuta,init
	push "$scripts/25kotlypalacz/25kotlypalacz.jpg"
	push "tmale.pyz"
	push "tafmaly.pyz"
	push 2
	cthis tinit
	push "25kotlypalacz"
	cthis path=
	push A
	push "palacz.pyz 3"
	push "deska.pyz 1"
	push "memo.pyz 2"
	cthis imgs=
	push "memo"
	cthis path=
	push 720
	push 510
	cthis tfitinsurf
	localdef $1
	push 15
	popax
	sub 0,$a
	pop $1
	push 0
	push $1
	call grnak,move
	push 0
	push $1
	call grtaf,move
	push A
	push "memo1"
	push "memo2"
	push "brawo"
	push "buu"
	cthis sfxs=
	push iMemoTryb
	new GraczeMemo,gracze
	push "null"
	push 40
	cthis white
	call angracz1,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call angracz1,getey
	push 3
	pop $b
	popax
	add $a,$b
	push 500
	new Cypher,ct1
	push "null"
	push 40
	cthis white
	call angracz2,getcx
	push 10
	pop $b
	popax
	sub $a,$b
	call angracz2,getey
	push 3
	pop $b
	popax
	add $a,$b
	push 500
	new Cypher,ct2
	push igmdebug
	cmp0
	je l4087
	cthis mbutnext
l4087:
	cthis mskipminigame
	cthis match3but
	push "tm_start"
	call ccs,enter
	end method
	method tm_start
	push 1
	pop igmstate
	clparent TMemo,tm_start
	end method
	method tnextplayer
	clparent TMemo,tnextplayer
	push iplayer
	call gracze,set
	end method
	method askrestart2
	push iMemoTryb
	push 1
	cmpje
	cmp0
	je l4089
	call claskexit,askrestart
	jmp l4088
l4089:
	call claskexit,askrestart2
l4088:
	end method
	method tfinish
	push "ct"
	push iplayer
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],operator++
	localint $1
	call ct1,get
	pop $1
	localint $2
	call ct2,get
	pop $2
	push $1
	push $2
	cmpje
	cmp0
	je l4091
	cthis memrestart
	jmp l4090
l4091:
	push $1
	push $2
	cmpja
	cmp0
	je l4093
	cthis mend
	jmp l4092
l4093:
	cthis memrestart
l4092:
l4090:
	end method
	method mend
	push AdventureMode
	cmp0
	je l4095
	push "Kotlypalacz"
	cthis mprzejdz
	jmp l4094
l4095:
	push "MainMenu"
	cthis mprzejdz
l4094:
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method memrestart
	push "Memo"
	cthis mprzejdz
	end method
	method tpoint
	push iMemoTryb
	push 0
	cmpja
	cmp0
	je l4097
	push "ct"
	push iplayer
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],operator++
l4097:
	call fxmemo2,play
	end method
	method tchoose
	call fxmemo1,play
	end method
	method terror
	end method
	method tit_lclick
	cthis tm_mouselclick
	end method
	method anbutnext_click
	cthis mend
	end method
	end game

	game Kolkokrzyz
	parent Kajuta
	method init
	push "kolkokrzyz"
	clparent Kajuta,init
	push A
	push "bg.jpg"
	push "pola.pyzGH"
	push "ramka.pyz 5"
	push "kolo.pyzGH 10"
	push "krzyz.pyzGH 10"
	push "kreski.pyzH 20"
	cthis imgs=
	push 1
	new GraczeMemo,gracze
	push 2
	spushs
	spop $h
	call $h,rand
	push 1
	pop $b
	popax
	add $a,$b
	call gracze,set
	push A
	push "kreska"
	push "putznak"
	cthis sfxs=
	push "maszynownia.ogg -l -v 30"
	call mus,playstr
	new vector,vgracz1
	new vector,vgracz2
	push "Kolkokrzyz0"
	call grpola,each
	push "timpalacz"
	push 1000
	push "Kolkokrzyz1"
	cthis timer=
	push "timrepeat"
	push 1000
	push "Kolkokrzyz2"
	cthis timer=
	push "timwin"
	push 1000
	push "Kolkokrzyz3"
	cthis timer=
	call gracze,aktualny
	push 2
	cmpje
	cmp0
	je l4104
	cthis mpalacz
	jmp l4103
l4104:
	push 1
	pop igmstate
l4103:
	end method
	method Kolkokrzyz0
	localdef $1
	pop $1
	push "myid"
	push $1
	cthis var2
	end method
	method Kolkokrzyz1
	localdef $1
	call grpola,size
	spushs
	spop $h
	call $h,rand
	pop $1
	localdef $2
	push $1
	call grpola,get
	spushs
	spop $a
	call [$a],myid
	pop $2
	push $1
	call grpola,removeat
	push $2
	call vgracz2,add
	push $2
	call grkrzyz,get
	spushs
	spop $a
	call [$a],show
	call fxputznak,play
	push "vgracz2"
	cthis mwin
	cmp0
	jne l4100
	call grpola,empty
	jmp l4101
l4099:
	push 0
	jmp l4101
l4100:
	push 1
l4101:
	cmp0
	je l4102
	call timrepeat,play
	jmp l4098
l4102:
	push 1
	pop igmstate
	call gracze,next
l4098:
	end method
	method Kolkokrzyz2
	push "Kolkokrzyz"
	cthis mprzejdz
	end method
	method Kolkokrzyz3
	push "Kotlypalacz"
	cthis mprzejdz
	end method
	method mpalacz
	push 0
	pop igmstate
	call timpalacz,play
	end method
	method tit_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4106
	call mouse,getpos
	push 0
	push 1
	call grpola,isin
	jmp l4108
l4106:
	push 0
	jmp l4108
l4107:
	push 1
l4108:
	cmp0
	je l4109
	push 0
	pop igmstate
	localdef $1
	call grpola,getfound
	pop $1
	localdef $2
	push $1
	call grpola,get
	spushs
	spop $a
	call [$a],myid
	pop $2
	push $1
	call grpola,removeat
	push $2
	call vgracz1,add
	push $2
	call grkolo,get
	spushs
	spop $a
	call [$a],show
	call fxputznak,play
	push "vgracz1"
	cthis mwin
	cmp0
	je l4111
	call timwin,play
	jmp l4110
l4111:
	call grpola,empty
	cmp0
	je l4113
	call timrepeat,play
	jmp l4112
l4113:
	call gracze,next
	call timpalacz,play
l4112:
l4110:
l4109:
	end method
	method mwin
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],size
	push 3
	cmpjae
	cmp0
	je l4115
	localint $2
	push 0
	pop $2
l4116:
	push $2
	call ankreski,nofactions
	cmpjl
	cmp0
	je l4117
	jmp l4119
l4118:
	add $2,1
	pop $2
	jmp l4116
l4119:
	push $2
	push 0
	call ankreski,setframe
	call fxkreska,play
	localstring $3
	call ankreski,actionname
	pop $3
	push $1
	spushs
	push 0
	push 1
	call $3,getb
	spop $a
	call [$a],contains
	cmp0
	je l4121
	push $1
	spushs
	push 1
	push 1
	call $3,getb
	spop $a
	call [$a],contains
	cmp0
	je l4121
	push $1
	spushs
	push 2
	push 1
	call $3,getb
	spop $a
	call [$a],contains
	jmp l4123
l4121:
	push 0
	jmp l4123
l4122:
	push 1
l4123:
	cmp0
	je l4124
	call ankreski,show
	push 1
	ret
l4124:
	jmp l4118
l4117:
l4115:
	push 0
	end method
	end game

	game Intro
	parent StdGame
	method init
	push "intro"
	clparent StdGame,init
	push A
	push "logo 60"
	push "logong 70"
	push "ruchwody 70"
	cthis sfxs=
	new img,imgpw3
	push iResX
	push iResY
	cthis white
	push 255
	call imgpw3,create
	push 4
	call imgpw3,setz
	call imgpw3,hide
	new classfadeinout,clfio
	cthis mnofish
	cmp0
	je l4126
	push A
	push "ng.png"
	push "pw.pngH 5"
	cthis imgs=
	call fxlogong,play
	jmp l4125
l4126:
	push igamehouse
	cmp0
	je l4128
	push "imbfg"
	push "gh1024x768_white.jpg"
	push 0
	cthis newimg
	jmp l4127
l4128:
	push ibigfish
	cmp0
	je l4130
	push "imbfg"
	push "splash_1024x768.jpg"
	push 0
	cthis newimg
l4130:
l4127:
	call fxlogong,play
	push "timbfg"
	push 2000
	push "Intro0"
	cthis timer=
l4125:
	push "tim1a"
	push 500
	push "Intro3"
	cthis timer=
	push "tim1"
	push 500
	push "Intro6"
	cthis timer=
	push "tim2"
	push 500
	push "Intro8"
	cthis timer=
	push "tim3"
	push 500
	push "Intro10"
	cthis timer=
	new int,wodaspeed
	push 10
	popax
	sub 0,$a
	pop wodaspeed
	push "tim4a"
	push "Intro12"
	cthis cycle=
	push "tim4"
	push "Intro13"
	cthis cycle=
	push "tim5"
	push "Intro15"
	cthis cycle=
	push "tim6"
	push 1000
	push "Intro16"
	cthis timer=
	push "tim7"
	push 200
	push "Intro18"
	cthis timer=
	push "tim9"
	push 2000
	push "mstart"
	cthis timer=
	push "intro.ogg -v 80"
	call mus,playstr
	push "Intro20"
	call ccs,enter
	end method
	method Intro0
	push "Intro1"
	push "Intro2"
	call ccs,playfin
	end method
	method Intro1
	delete imbfg
	push A
	push "ng.png"
	push "pw.pngH 5"
	cthis imgs=
	call fxlogong,play
	end method
	method Intro2
	call tim1a,play
	end method
	method Intro3
	push 0
	call imgpw3,transparency
	call imgpw3,show
	push 1
	push 5
	push "imgpw3"
	push "Intro4"
	call clfio,imgtransparency
	end method
	method Intro4
	push GAME
	spushs
	spop $a
	call [$a],Intro5
	end method
	method Intro5
	push "imgpw3"
	call imgng,clone
	call imgng,show
	cthis getgraphpath
	push "pw3.jpg"
	pop $b
	popax
	add $a,$b
	call imgpw3,load
	call imgpw3,hide
	call tim1,play
	end method
	method Intro6
	push 0
	call imgpw,transparency
	call imgpw,show
	call fxlogong,play
	push 1
	push 5
	push "imgpw"
	push "Intro7"
	call clfio,imgtransparency
	end method
	method Intro7
	cthis getgraphpath
	push "pw2.jpg"
	pop $b
	popax
	add $a,$b
	call imgng,load
	call tim2,play
	end method
	method Intro8
	push 1
	push 5
	popax
	sub 0,$a
	push "imgpw"
	push "Intro9"
	call clfio,imgtransparency
	end method
	method Intro9
	call imgpw,hide
	call tim3,play
	end method
	method Intro10
	push GAME
	spushs
	spop $a
	call [$a],Intro11
	end method
	method Intro11
	delete imgpw
	new img,imwater
	push iResX
	push iResY
	push 3
	push 14
	push 33
	push 255
	call imwater,create
	push A
	push "wrak.pyz 10"
	push "fale.pyz 10"
	push "water.pyz 5"
	cthis imgs=
	push 0
	push iResY
	call anwrak,setpos
	push 0
	push iResY
	call anfale,getpy
	pop $b
	popax
	sub $a,$b
	call anfale,move
	push 0
	call anfale,play
	push 0
	call anfale,getpy
	push 30
	pop $b
	popax
	add $a,$b
	call anwater,setpos
	push 0
	push iResY
	call imwater,setpos
	call imgpw3,show
	push 0
	call anwater,getpy
	push iResX
	push iResY
	call imgpw3,clip
	call imgng,getz
	push 1
	pop $b
	popax
	add $a,$b
	call imgpw3,setz
	call fxruchwody,play
	call tim4a,play
	end method
	method Intro12
	push 0
	push wodaspeed
	call anfale,move
	call anwater,getpy
	push 0
	cmpjl
	cmp0
	je l4132
	push 0
	push 0
	call anwater,setpos
	call imgng,hide
	push 0
	call anwater,getpy
	push iResX
	push iResY
	call imgpw3,clip
	jmp l4131
l4132:
	push 0
	push wodaspeed
	call anwater,move
	push 0
	call anwater,getpy
	push 30
	pop $b
	popax
	add $a,$b
	push iResX
	push iResY
	call imgpw3,clip
l4131:
	call anfale,getey
	push 0
	cmpjl
	cmp0
	je l4134
	call anfale,anhide
	call tim4,play
	jmp l4133
l4134:
	cthis play
l4133:
	end method
	method Intro13
	push 0
	push wodaspeed
	call anwater,move
	push 0
	push wodaspeed
	call imwater,move
	push 0
	push wodaspeed
	call imgng,move
	push 0
	push wodaspeed
	call imgpw3,move
	call imwater,getpy
	push 0
	cmpjle
	cmp0
	je l4136
	push 0
	push 0
	call imwater,setpos
	call anwater,anhide
	push iResX
	push iResY
	push 0
	push 8
	push 4
	push 255
	call imgng,create
	push 0
	push 0
	call imgng,setpos
	call imwater,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call imgng,setz
	call imgng,show
	push 1
	push 5
	popax
	sub 0,$a
	push "imwater"
	push "Intro14"
	call clfio,imgtransparency
	jmp l4135
l4136:
	cthis play
l4135:
	end method
	method Intro14
	call imwater,hide
	call tim5,play
	end method
	method Intro15
	push 0
	push wodaspeed
	call anwrak,move
	call anwrak,getey
	push iResY
	cmpjl
	cmp0
	je l4138
	push 0
	push iResY
	call anwrak,getey
	pop $b
	popax
	sub $a,$b
	call anwrak,move
	cthis getgraphpath
	push "t1.jpg"
	pop $b
	popax
	add $a,$b
	call imwater,load
	call anwrak,getz
	push 1
	pop $b
	popax
	add $a,$b
	call imwater,setz
	call imwater,hide
	push 0
	call imwater,transparency
	call tim6,play
	jmp l4137
l4138:
	cthis play
l4137:
	end method
	method Intro16
	call imwater,show
	push 1
	push 5
	push "imwater"
	push "Intro17"
	call clfio,imgtransparency
	end method
	method Intro17
	call tim7,play
	call anwrak,hide
	cthis getgraphpath
	push "t2.jpg"
	pop $b
	popax
	add $a,$b
	call imgng,load
	end method
	method Intro18
	push 1
	push 5
	popax
	sub 0,$a
	push "imwater"
	push "Intro19"
	call clfio,imgtransparency
	end method
	method Intro19
	push GAME
	spushs
	spop $a
	call [$a],mtytul
	end method
	method Intro20
	cthis mnofish
	cmp0
	je l4140
	push 1000
	call tim1a,setdelay
	call tim1a,play
	jmp l4139
l4140:
	call timbfg,play
l4139:
	end method
	method mnofish
	push igmipad
	cmp0
	jne l4142
	push ibigfish
	push 0
	cmpje
	cmp0
	je l4143
	push igamehouse
	push 0
	cmpje
	jmp l4145
l4143:
	push 0
	jmp l4145
l4144:
	push 1
l4145:
	jmp l4146
l4141:
	push 0
	jmp l4146
l4142:
	push 1
l4146:
	end method
	method mtytul
	push "tytul.pyz 10"
	cthis img=
	new filter,ftyt
	push "antytul"
	call ftyt,link
	new real,rstartzooom
	push 1.7
	pop rstartzooom
	push rstartzooom
	call ftyt,setzoom
	new real,iletyt
	push 30.0
	pop iletyt
	new real,ityty
	push iResY
	call antytul,getpy
	pop $b
	popax
	sub $a,$b
	pop ityty
	new real,isteptyt
	push ityty
	push iletyt
	pop $b
	popax
	div $a,$b
	psax
	pop isteptyt
	new real,rstep
	push 0.0
	pop rstep
	push 0
	push ityty
	call antytul,move
	push "tim8"
	push "Intro21"
	cthis cycle=
	push "ile"
	push iletyt
	call tim8,var2
	call tim8,play
	push "timlogo"
	push 900
	push "Intro22"
	cthis timplay
	end method
	method Intro21
	push isteptyt
	popax
	add rstep,$a
	pop rstep
	localint $1
	push rstep
	pop $1
	push $1
	cmp0
	je l4148
	push $1
	popax
	sub rstep,$a
	pop rstep
	push 0
	push $1
	popax
	sub 0,$a
	call antytul,move
l4148:
	localreal $2
	push 1.0
	push rstartzooom
	push 1.0
	pop $b
	popax
	sub $a,$b
	push ile
	push iletyt
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call ftyt,setzoom
	sub ile,1
	pop ile
	push ile
	push 0
	cmpjl
	cmp0
	je l4150
	call ftyt,unlink
	call tim9,play
	jmp l4149
l4150:
	cthis play
l4149:
	end method
	method Intro22
	call fxlogo,play
	end method
	method mtogame
	push "MainMenu"
	call gameapi,play
	end method
	method mstart
	push igmstate
	push 0
	cmpje
	cmp0
	je l4152
	push 1
	pop igmstate
	cthis mtogame
l4152:
	end method
	method mouse_lclick
	cthis mstart
	end method
	end game

	game IntroG1
	parent StdGame
	method init
	push "introg"
	clparent StdGame,init
	push A
	push "bg.jpg"
	push "fala.pyzP 5"
	push "dym.pyzG 10"
	push "grall"
	cthis imgsgr=
	push 1
	popax
	sub 0,$a
	call grdym,nplay
	push "skipintro.pyz 100"
	cthis img=
	localdef $1
	push 14
	pop $1
	push LANG
	push "eng"
	cmpje
	cmp0
	je l4154
	push 24
	pop $1
l4154:
	push "fnt1"
	push "configs/fonts/timesbd.ttf"
	push $1
	cthis newfont
	push "txtskip"
	push "skipintro"
	call dblangcom,dbget
	push "fnt1"
	cthis black
	cthis newtext
	call anskipintro,getcx
	call txtskip,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anskipintro,getcy
	call txtskip,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txtskip,setpos
	call anskipintro,getz
	call txtskip,setz
	call anskipintro,IntroG10
	push A
	push "statekN 50"
	push "statekbum"
	push "fx3 50"
	cthis sfxs=
	push A
	push "snd1"
	push "eRMS Titanic; Wspaniay wytwr ludzkiej myli technicznej pocztku 20 wieku Dla jednych luksusowy rodek transportu, dla innych wehiku do nowego wiata dajcy nadziej na lepsz przyszo"
	push "IntroG12"
	push "snd2"
	push "W czasie swego dziewiczego rejsu by wiadkiem wielu wydarze i ludzkich historii ktrych by moe nigdy ju nie poznamy; Wszystkie zostay bolenie przerwane tragicznej nocy z 14 na 15 kwietnia 1912 roku"
	push "IntroG13"
	cthis sounds=
	push "tim1"
	push 500
	push "IntroG14"
	cthis timer=
	push "tim2"
	push 500
	push "IntroG15"
	cthis timer=
	push "null"
	push 16
	push "$lang:txt1_"
	push 20
	cthis grey
	push 0.56
	push iResX
	pop $b
	popax
	mul $a,$b
	push 0.26
	push iResY
	pop $b
	popax
	mul $a,$b
	push 5
	push 250
	push "left"
	new TextDb,tdtxt
	new tcramka,tcr
	push "tdtxt"
	call tcr,view
	call tcr,hide
	push "IntroG16"
	call ccs,enter
	end method
	method IntroG10
	cthis Button_stdms
	push "butclick"
	push "IntroG11"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method IntroG11
	push "Cs1Pad"
	call gameapi,play
	end method
	method IntroG12
	call tim2,play
	call tcr,ahide
	end method
	method IntroG13
	push 0
	call angora,play
	call tcr,ahide
	end method
	method IntroG14
	push "snd1"
	cthis cbplay
	end method
	method IntroG15
	push "initG2"
	call ccs,close
	end method
	method IntroG16
	call tim1,play
	call tcr,ashow
	push "mystery_war.ogg -l -v 60"
	call mus,playstr
	end method
	method initG2
	call grall,deleteinit
	delete grall
	push "introg2"
	cthis path=
	push A
	push "bg2.jpg"
	push "tafla.pyzP 5"
	push "odbicie.pyzP 10"
	push "statek.pyzP 15"
	push "fala.pyzP 20"
	push "gora.pyzH 25"
	push "kra1.pyz 30"
	push "kra2.pyz 35"
	push "dym.pyzG 40"
	push "grall"
	cthis imgsgr=
	push 1
	popax
	sub 0,$a
	call grdym,nplay
	call ankra1,getex
	popax
	sub 0,$a
	push 70
	call ankra1,move
	call ankra2,getex
	popax
	sub 0,$a
	push 200
	pop $b
	popax
	sub $a,$b
	push 170
	call ankra2,move
	push "ankra1"
	push 2.2
	push 0.24
	popax
	sub 0,$a
	new AnMover,cskra1
	push "ankra2"
	push 3
	push 0.3
	popax
	sub 0,$a
	new AnMover,cskra2
	call cskra1,play
	call cskra2,play
	push "cskra1"
	call grall,add
	push "cskra2"
	call grall,add
	push "onendframe"
	push "IntroG17"
	call angora,addmethod
	push "onfinish"
	push "IntroG18"
	call anstatek,addmethod
	push "null"
	push 16
	push "$lang:txt2_"
	push 20
	cthis grey
	push 0.56
	push iResX
	pop $b
	popax
	mul $a,$b
	push 0.26
	push iResY
	pop $b
	popax
	mul $a,$b
	push 5
	push 250
	push "left"
	new TextDb,tdtxt2
	push "tdtxt2"
	call tcr,view
	call tcr,hide
	push "timend"
	push 2000
	push "IntroG19"
	cthis timer=
	push "IntroG110"
	call ccs,enter
	end method
	method IntroG17
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l4156
	push 1
	call anstatek,play
	call anfala,anhide
	call fxstatekbum,play
l4156:
	end method
	method IntroG18
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	cmpje
	cmp0
	je l4158
	call timend,play
l4158:
	end method
	method IntroG19
	push "initG3"
	call ccs,close
	end method
	method IntroG110
	call tcr,ashow
	push "snd2"
	cthis cbplay
	end method
	method initG3
	push 0
	call fxstatek,stop
	push 0
	call fxstatekbum,stop
	call grall,deleteinit
	delete grall
	push "introg3"
	cthis path=
	push A
	push "bg3.jpg"
	push "woda.pyzH 10"
	push "woda2.pyzH 15"
	push "woda3.pyzH 20"
	push "grall"
	cthis imgsgr=
	push "anwoda"
	push "anwodab"
	cthis copyanima
	push "anwodab"
	call grall,add
	new filter,ftw
	push "anwoda"
	call ftw,link
	push 128
	call ftw,setopacity
	new filter,ftw2
	push "anwodab"
	call ftw2,link
	call anwodab,hide
	push 9
	call anwodab,setz
	push A
	push "zalanakotlowniaP 70"
	cthis sfxs=
	push "onsetframe"
	push "IntroG111"
	call anwoda,addmethod
	push "onsetframe"
	push "IntroG112"
	call anwodab,addmethod
	push 4
	call anwoda,play
	push 92
	call ftw,setopacity
	push "onfinish"
	push "IntroG113"
	call anwodab,addmethod
	push "tim11"
	push 500
	push "IntroG114"
	cthis timer=
	push "tim12"
	push 500
	push "IntroG115"
	cthis timer=
	push "tim13"
	push 1500
	push "IntroG116"
	cthis timer=
	end method
	method IntroG111
	cthis framenr
	push 1
	cmpje
	cmp0
	je l4160
	push 4
	call anwodab,play
l4160:
	cthis framenr
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 0
	cmpst
	jne l4162
	spop $a
	push 92
	call ftw,setopacity
	jmp l4161
l4162:
	push 1
	cmpst
	jne l4163
	spop $a
	push 164
	call ftw,setopacity
	jmp l4161
l4163:
	push 2
	cmpst
	jne l4164
	spop $a
	push 255
	call ftw,setopacity
	jmp l4161
l4164:
	spop $a
l4161:
	end method
	method IntroG112
	cthis framenr
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 0
	cmpst
	jne l4166
	spop $a
	push 92
	call ftw2,setopacity
	jmp l4165
l4166:
	push 1
	cmpst
	jne l4167
	spop $a
	push 164
	call ftw2,setopacity
	jmp l4165
l4167:
	push 2
	cmpst
	jne l4168
	spop $a
	push 255
	call ftw2,setopacity
	jmp l4165
l4168:
	spop $a
l4165:
	end method
	method IntroG113
	call anwoda,hide
	cthis hide
	call anwoda2,show
	call tim11,play
	end method
	method IntroG114
	call anwoda2,hide
	call anwoda3,show
	call tim12,play
	end method
	method IntroG115
	call anwoda3,hide
	cthis getgraphpath
	push "bg3b.jpg"
	pop $b
	popax
	add $a,$b
	call imgbg3,load
	call tim13,play
	end method
	method IntroG116
	push "initG4"
	call ccs,close
	end method
	method initG4
	push 0
	call fxzalanakotlownia,stop
	delete fxstatek
	delete fxstatekbum
	call ftw,unlink
	call ftw2,unlink
	delete ftw
	delete ftw2
	call grall,deleteinit
	delete grall
	delete tim1
	delete tim2
	push "introg4"
	cthis path=
	push A
	push "b40.jpg 5"
	push "b41.jpg"
	push "grall"
	cthis imgsgr=
	push A
	push "tlumwodaP"
	cthis sfxs=
	new classfadeinout,clfio
	new int,ifio
	push 15
	pop ifio
	push "tim1"
	push 500
	push "IntroG117"
	cthis timer=
	push "tim2"
	push 500
	push "IntroG119"
	cthis timer=
	push "tim3"
	push 500
	push "IntroG121"
	cthis timer=
	push "tim4"
	push 500
	push "IntroG123"
	cthis timer=
	push "tim5"
	push 500
	push "IntroG125"
	cthis timer=
	push "tim6"
	push 500
	push "IntroG127"
	cthis timer=
	push "IntroG128"
	call ccs,enter
	end method
	method IntroG117
	push 1
	push ifio
	popax
	sub 0,$a
	push "imgb40"
	push "IntroG118"
	call clfio,imgtransparency
	end method
	method IntroG118
	push 0
	call imgb40,setz
	cthis getgraphpath
	push "b42.jpg"
	pop $b
	popax
	add $a,$b
	call imgb40,load
	push 5
	call imgb41,setz
	call tim2,play
	end method
	method IntroG119
	push 1
	push ifio
	popax
	sub 0,$a
	push "imgb41"
	push "IntroG120"
	call clfio,imgtransparency
	end method
	method IntroG120
	push 0
	call imgb41,setz
	cthis getgraphpath
	push "b43.jpg"
	pop $b
	popax
	add $a,$b
	call imgb41,load
	push 5
	call imgb40,setz
	call tim3,play
	end method
	method IntroG121
	push 1
	push ifio
	popax
	sub 0,$a
	push "imgb40"
	push "IntroG122"
	call clfio,imgtransparency
	end method
	method IntroG122
	push 0
	call imgb40,setz
	cthis getgraphpath
	push "b44.jpg"
	pop $b
	popax
	add $a,$b
	call imgb40,load
	push 5
	call imgb41,setz
	call tim4,play
	end method
	method IntroG123
	push 1
	push ifio
	popax
	sub 0,$a
	push "imgb41"
	push "IntroG124"
	call clfio,imgtransparency
	end method
	method IntroG124
	push 0
	call imgb41,setz
	cthis getgraphpath
	push "b45.jpg"
	pop $b
	popax
	add $a,$b
	call imgb41,load
	push 5
	call imgb40,setz
	call tim5,play
	end method
	method IntroG125
	push 1
	push ifio
	popax
	sub 0,$a
	push "imgb40"
	push "IntroG126"
	call clfio,imgtransparency
	end method
	method IntroG126
	push 0
	call imgb40,setz
	push 5
	call imgb41,setz
	call tim6,play
	end method
	method IntroG127
	push "initG5"
	call ccs,close
	end method
	method IntroG128
	call tim1,play
	end method
	method initG5
	push 0
	call fxtlumwoda,stop
	delete fxzalanakotlownia
	call grall,deleteinit
	delete grall
	push "introg5"
	cthis path=
	push A
	push "bg5.jpg"
	push "swiatlo.pyz 10"
	push "batyskaf.pyz 15"
	push "grall"
	cthis imgsgr=
	push "anbatyskaf"
	push 10
	popax
	sub 0,$a
	push 0
	new AnMover,csbat
	new int,idx
	push iResX
	call anbatyskaf,getpx
	pop $b
	popax
	sub $a,$b
	pop idx
	new int,idx1
	push 0.5
	push idx
	pop $b
	popax
	mul $a,$b
	pop idx1
	new int,idx2
	push 0.4
	push idx
	pop $b
	popax
	mul $a,$b
	pop idx2
	new int,idx3
	push 0.25
	push idx
	pop $b
	popax
	mul $a,$b
	pop idx3
	new int,idx4
	push 0.12
	push idx
	pop $b
	popax
	mul $a,$b
	pop idx4
	push idx
	push 0
	call anbatyskaf,move
	new int,bx1
	new int,bx2
	new int,bx3
	new int,bx4
	new real,slower
	push 0.75
	pop slower
	new filter,fts
	push "answiatlo"
	call fts,link
	push 0
	call fts,setopacity
	push "timbat"
	push "IntroG129"
	cthis cycle=
	push "timend2"
	push 2000
	push "IntroG130"
	cthis timer=
	call fxfx3,play
	push "IntroG131"
	call ccs,enter
	end method
	method IntroG129
	call csbat,move
	localdef $1
	call anbatyskaf,getpx
	pop $1
	localdef $2
	push iResX
	push 15
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	localreal $3
	push iResX
	push $2
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l4170
	push $1
	call anbatyskaf,lodx
	cmpja
	jmp l4172
l4170:
	push 0
	jmp l4172
l4171:
	push 1
l4172:
	cmp0
	je l4173
	localreal $4
	push $3
	push iResX
	push $2
	pop $b
	popax
	sub $a,$b
	call anbatyskaf,lodx
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	push 255.0
	pop $b
	popax
	mul $a,$b
	pop $4
	push $4
	push $4
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	mul $a,$b
	push 255.0
	push 255.0
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	div $a,$b
	psax
	call fts,setopacity
l4173:
	push $1
	call anbatyskaf,lodx
	cmpjle
	cmp0
	je l4175
	push 255
	call fts,setopacity
	call timend2,play
	ret
	jmp l4174
l4175:
	push $1
	push idx4
	cmpjl
	cmp0
	je l4177
	push bx4
	neg
	cmp0
	je l4179
	push slower
	call csbat,rdx
	pop $b
	popax
	mul $a,$b
	call csbat,rdx=
	push 1
	pop bx4
l4179:
	jmp l4176
l4177:
	push $1
	push idx3
	cmpjl
	cmp0
	je l4181
	push bx3
	neg
	cmp0
	je l4183
	push slower
	call csbat,rdx
	pop $b
	popax
	mul $a,$b
	call csbat,rdx=
	push 1
	pop bx3
l4183:
	jmp l4180
l4181:
	push $1
	push idx2
	cmpjl
	cmp0
	je l4185
	push bx2
	neg
	cmp0
	je l4187
	push slower
	call csbat,rdx
	pop $b
	popax
	mul $a,$b
	call csbat,rdx=
	push 1
	pop bx2
l4187:
	jmp l4184
l4185:
	push $1
	push idx1
	cmpjl
	cmp0
	je l4189
	push bx1
	neg
	cmp0
	je l4191
	push slower
	call csbat,rdx
	pop $b
	popax
	mul $a,$b
	call csbat,rdx=
	push 1
	pop bx1
l4191:
l4189:
l4184:
l4180:
l4176:
l4174:
	call timbat,play
	end method
	method IntroG130
	push 1000
	call mus,fadeout
	push "Cs1Pad"
	cthis mprzejdz
	end method
	method IntroG131
	call timbat,play
	end method
	end game

	game Outro
	parent StdGame
	method init
	push "outro"
	clparent StdGame,init
	push "outroludzie.ogg -l -v 50"
	call mus,playstr
	cthis loadsnddb
	push A
	push ":dziadzio1"
	push "We are forever grateful for your help. We wouldn't be here without You. But how did You do this? It was impossible to find all the keys!"
	push "Outro0"
	push ":rosie1"
	push "You would never believe me if I told You. I think it has something to do with... my grand granddaughter..."
	push "Outro4"
	cthis sounds=
	push 1
	cthis mput
	push A
	push "list.pyzH 20"
	cthis imgs=
	push "anlist"
	push "anlist2"
	cthis copyanima
	push "onfinish"
	push "Outro8"
	call anlist,addmethod
	push "onfinish"
	push "Outro15"
	call anlist2,addmethod
	new classfadeinout,clfio
	push "Outro16"
	call ccs,enter
	end method
	method Outro0
	call tcr,ahide
	push "tim5"
	push 1000
	push "Outro1"
	cthis timplay
	end method
	method Outro1
	push GAME
	spushs
	spop $a
	call [$a],Outro2
	end method
	method Outro2
	delete imgdziad1
	push A
	push "prab1.jpg"
	push "usta2.pyzH 10"
	cthis imgs=
	push "tim6"
	push 1000
	push "Outro3"
	cthis timplay
	end method
	method Outro3
	push "rosie1"
	cthis txtplay
	end method
	method Outro4
	call tcr,ahide
	push 1
	call anusta2,play
	push "tim7"
	push 3000
	push "Outro5"
	cthis timplay
	end method
	method Outro5
	push GAME
	spushs
	spop $a
	call [$a],Outro6
	end method
	method Outro6
	delete imgprab1
	delete anusta2
	push A
	push "siedza.jpg"
	push "babcia2.pyz 5"
	push "lilian.pyz 10"
	cthis imgs=
	new filter,ftil
	push "anlilian"
	call ftil,link
	push 0
	call ftil,setopacity
	push 2
	push 10
	push "ftil"
	push "Outro7"
	call clfio,setopacity
	end method
	method Outro7
	push "tim8"
	push 2000
	push "mend"
	cthis timplay
	end method
	method Outro8
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l4193
	push 1
	call anlist2,play
	jmp l4192
l4193:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	cmpje
	cmp0
	je l4195
	push "tim2"
	push 200
	push "Outro9"
	cthis timplay
l4195:
l4192:
	end method
	method Outro9
	push GAME
	spushs
	spop $a
	call [$a],Outro10
	end method
	method Outro10
	delete anlist2
	delete anlist
	push A
	push "siedza.jpg 20"
	cthis imgs=
	push 0
	call imgsiedza,transparency
	push 1
	push 5
	push "imgsiedza"
	push "Outro11"
	call clfio,imgtransparency
	end method
	method Outro11
	push GAME
	spushs
	spop $a
	call [$a],Outro12
	end method
	method Outro12
	cthis mdel
	push "babcia1.pyzH 30"
	cthis img=
	push "tim3"
	push 3000
	push "Outro13"
	cthis timer=
	push "onfinish"
	push "Outro14"
	call anbabcia1,addmethod
	push 0
	call anbabcia1,play
	end method
	method Outro13
	push GAME
	spushs
	spop $a
	call [$a],mscena2
	end method
	method Outro14
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l4197
	call tim3,play
l4197:
	push 1
	cthis play
	end method
	method Outro15
	cthis hide
	push 2
	call anlist,play
	end method
	method Outro16
	push "tim1"
	push 3000
	push "Outro17"
	cthis timplay
	end method
	method Outro17
	push 0
	call anlist,play
	end method
	method mput
	localint $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],Outro18
	end method
	method Outro18
	localdef $1
	pop $1
	cthis mdel
	push "grels"
	push "outro"
	push $1
	pop $b
	popax
	add $a,$b
	push 10
	cthis newgrimg
	push "Outro19"
	call grels,eval
	end method
	method Outro19
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method mdel
	push GAME
	spushs
	spop $a
	call [$a],Outro20
	end method
	method Outro20
	push "grels"
	cthis hasvar
	cmp0
	je l4199
	call grels,deleteloaded
	delete grels
l4199:
	end method
	method mscena2
	delete anbabcia1
	delete imgsiedza
	push A
	push "dziad1.jpg"
	cthis imgs=
	push "tim4"
	push 1000
	push "Outro21"
	cthis timplay
	end method
	method Outro21
	push "dziadzio1"
	cthis txtplay
	end method
	method mend
	push "profil_"
	push "currentprofile"
	call clsmen,get
	pop $b
	popax
	add $a,$b
	push "_started"
	pop $b
	popax
	add $a,$b
	push 0
	call clsmen,set
	push "MainMenu"
	cthis mprzejdzclick
	end method
	end game

	game Klodki
	parent Kajuta
	method init
	push "klody"
	clparent Kajuta,init
	push A
	push "bgklody.jpg"
	push "klody.pyzG 5"
	push "kloda1.pyzH 10"
	push "szyfr1.pyzGH 15"
	push "kloda2.pyzH 10"
	push "szyfr2.pyzGH 15"
	cthis imgs=
	new itemadder,clk1
	new itemadder,clk2
	push A
	push ":lilian1"
	push "I must use a specific combination of digits and letters to unlock the padlocks."
	push "stdret"
	push ":lilian2"
	push "Maybe the secret document I found could help me figure out these codes."
	push "stdret"
	cthis titsounds=
	push A
	push "cyk"
	push "klodkago"
	push "wcisnij"
	cthis sfxs=
	push "Klodki0"
	call grklody,eval
	push "Klodki2"
	call grszyfr1,eval
	push "Klodki7"
	call grszyfr2,eval
	cthis match3but
	cthis mskipminigame
	push "$scripts/common/showhint.pyz 800"
	cthis img=
	push "Klodki10"
	call ccs,enter
	end method
	method Klodki0
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Klodki1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Klodki1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4201
	ret
l4201:
	push 31
	pop igmstate
	localdef $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push "clk"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],freeitem
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	push "ankloda"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push "clk"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "ankloda"
	push $1
	pop $b
	popax
	add $a,$b
	push "kloda"
	push $1
	pop $b
	popax
	add $a,$b
	push "_shown"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],showitem
	cthis getname
	call but1,removebut
	end method
	method Klodki2
	push "isbutin"
	push "Klodki3"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Klodki4"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Klodki3
	localdef $1
	localdef $2
	pop $2
	pop $1
	push igmstate
	push 40
	cmpje
	cmp0
	je l4202
	push $1
	push $2
	push 0
	push 1
	cthis isin
	jmp l4204
l4202:
	push 0
	jmp l4204
l4203:
	push 1
l4204:
	end method
	method Klodki4
	push igmstate
	push 40
	cmpjne
	cmp0
	je l4206
	ret
l4206:
	cthis isvisible
	cmp0
	je l4208
	cthis hide
	jmp l4207
l4208:
	cthis show
l4207:
	call fxwcisnij,play
	push 1
	cthis mvis
	cmp0
	je l4210
	push 2
	cthis mvis
	cmp0
	je l4210
	push 3
	cthis mvis
	cmp0
	je l4210
	push 7
	cthis mvis
	cmp0
	je l4210
	push 0
	cthis mvis
	neg
	cmp0
	je l4210
	push 4
	cthis mvis
	neg
	cmp0
	je l4210
	push 5
	cthis mvis
	neg
	cmp0
	je l4210
	push 6
	cthis mvis
	neg
	cmp0
	je l4210
	push 8
	cthis mvis
	neg
	cmp0
	je l4210
	push 9
	cthis mvis
	neg
	jmp l4212
l4210:
	push 0
	jmp l4212
l4211:
	push 1
l4212:
	cmp0
	je l4213
	push 1
	push 0
	call ankloda1,setframe
	push 0
	call grklody,get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call fxcyk,play
	call grszyfr1,hide
	push 5
	pop igmstate
	push "timkloda1"
	push 1000
	push "Klodki5"
	cthis timplay
l4213:
	end method
	method Klodki5
	push "Klodki6"
	call grszyfr1,eval
	call fxklodkago,play
	push "ankloda1"
	push 0
	call grklody,get
	push 15
	push "kloda1_ok"
	call clk1,gotodestan
	end method
	method Klodki6
	cthis getname
	call but1,removebut
	cthis hide
	end method
	method Klodki7
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Klodki8"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Klodki8
	push igmstate
	push 30
	cmpjne
	cmp0
	je l4215
	ret
l4215:
	cthis ansetnextfr
	push 0
	cthis mfr
	push 0
	cmpje
	cmp0
	je l4217
	push 1
	cthis mfr
	push 5
	cmpje
	cmp0
	je l4217
	push 2
	cthis mfr
	push 0
	cmpje
	cmp0
	je l4217
	push 3
	cthis mfr
	push 3
	cmpje
	jmp l4219
l4217:
	push 0
	jmp l4219
l4218:
	push 1
l4219:
	cmp0
	je l4220
	push 1
	push 0
	call ankloda2,setframe
	push 1
	call grklody,get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	call fxcyk,play
	call grszyfr2,hide
	push 5
	pop igmstate
	push "timkloda2"
	push 1000
	push "Klodki9"
	cthis timplay
l4220:
	end method
	method Klodki9
	call grszyfr2,hide
	call fxklodkago,play
	push "ankloda2"
	push 1
	call grklody,get
	push 15
	push "kloda2_ok"
	call clk2,gotodestan
	end method
	method Klodki10
	push "lilian1"
	cthis txtplay
	end method
	method kloda1_shown
	call grszyfr1,show
	push 1
	popax
	sub 0,$a
	push 1
	call ankloda1,setframe
	push 40
	pop igmstate
	end method
	method kloda2_shown
	call grszyfr2,show
	push 30
	pop igmstate
	end method
	method kloda1_ok
	call ankloda1,hide
	cthis mcheck
	end method
	method kloda2_ok
	call ankloda2,hide
	cthis mcheck
	end method
	method mcheck
	push 0
	call grklody,get
	spushs
	spop $a
	call [$a],framenr
	push 1
	cmpje
	cmp0
	je l4222
	push 1
	call grklody,get
	spushs
	spop $a
	call [$a],framenr
	push 1
	cmpje
	jmp l4224
l4222:
	push 0
	jmp l4224
l4223:
	push 1
l4224:
	cmp0
	je l4225
	push 3
	pop igmstate
	call anitemszyfr,showszyfr
	jmp l4221
l4225:
	push 1
	pop igmstate
l4221:
	end method
	method showszyfr
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	cthis getname
	push "Klodki11"
	call itszyf,showitem
	end method
	method Klodki11
	push "timszyf"
	push 1000
	push "Klodki12"
	cthis timplay
	end method
	method Klodki12
	call anitemszyfr,hideszyfr
	end method
	method hideszyfr
	cthis getname
	push "Klodki13"
	call itszyf,hideitem
	end method
	method Klodki13
	call anitemszyfr,Klodki14
	push "timend"
	push 1000
	push "mend"
	cthis timplay
	end method
	method Klodki14
	call itszyf,freeitem
	cthis hide
	end method
	method mend
	push "item_szyfr"
	push 0
	call clsave,set
	push "Korytarzkrata"
	cthis mprzejdz
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method mvis
	localint $1
	pop $1
	push $1
	call grszyfr1,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	end method
	method mfr
	localint $1
	pop $1
	push $1
	call grszyfr2,get
	spushs
	spop $a
	call [$a],framenr
	end method
	method mret
	push 1
	pop igmstate
	end method
	method tit_lclick
	push igmstate
	push 40
	cmpje
	cmp0
	je l4227
	call mouse,getpos
	push 1
	push 1
	call ankloda1,isin
	neg
	jmp l4229
l4227:
	push 0
	jmp l4229
l4228:
	push 1
l4229:
	cmp0
	je l4230
	push 5
	pop igmstate
	call grszyfr1,hide
	push "ankloda1"
	push 0
	call grklody,get
	push 15
	push "Klodki15"
	call clk1,gotodestan
	jmp l4226
l4230:
	push igmstate
	push 30
	cmpje
	cmp0
	je l4232
	call mouse,getpos
	push 1
	push 1
	call ankloda2,isin
	neg
	jmp l4234
l4232:
	push 0
	jmp l4234
l4233:
	push 1
l4234:
	cmp0
	je l4235
	push 5
	pop igmstate
	call grszyfr2,hide
	push "ankloda2"
	push 1
	call grklody,get
	push 15
	push "Klodki16"
	call clk2,gotodestan
l4235:
l4226:
	end method
	method Klodki15
	push 1
	pop igmstate
	call ankloda1,hide
	push 0
	call grklody,get
	call but1,add
	end method
	method Klodki16
	push 1
	pop igmstate
	call ankloda2,hide
	push 1
	call grklody,get
	call but1,add
	end method
	method kajuta_hint_click
	push 12
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	end game

	game Cs1Pad
	parent StdGame
	method init
	push "cs1_pad"
	clparent StdGame,init
	push A
	push "bg.jpg"
	push "pad.pyz 10"
	push "foto.pyz 20"
	cthis imgs=
	push "null"
	push 12
	push "$lang:mail_"
	push 20
	cthis grey
	call anpad,getpx
	push 0.18
	call anpad,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call anpad,getpy
	push 0.3
	call anpad,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 5
	push 250
	push "left"
	new TextDb,tdmail
	push 80
	push 60
	popax
	sub 0,$a
	call anfoto,move
	push "dbp"
	push "zatwierdz_"
	cthis lang_db
	new font,fnbold
	push sgmfontbold
	push 14
	call fnbold,load
	push "txtpot"
	push 0
	push 0
	call dbp,get
	push "fnbold"
	cthis blue
	cthis newtext
	call txtpot,Cs1Pad0
	push "tablice.ogg -l -v 60"
	call mus,playstr
	push "Cs1Pad2"
	call ccs,enter
	end method
	method Cs1Pad0
	call tdmail,getpx
	push 5
	pop $b
	popax
	sub $a,$b
	call tdmail,getpy
	call tdmail,geth
	pop $b
	popax
	add $a,$b
	push 20
	pop $b
	popax
	add $a,$b
	cthis setpos
	push 10
	cthis setz
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Cs1Pad1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Cs1Pad1
	push "Pokojlilian"
	cthis mprzejdzclick
	end method
	end game

	game Cs2Batyskaf
	parent StdGame
	method init
	push "cs2_batyskaf"
	clparent StdGame,init
	push A
	push "bkg.jpg"
	push "battyl.pyz 5"
	push "szyby.pyz 10"
	push "dzwig.pyz 15"
	push "batprzod.pyz 20"
	push "swiatla1.pyzH 25"
	push "swiatla2.pyzH 25"
	push "drzwi.pyz 30"
	push "maskaprzed.pyz 35"
	push "panel.pyz 40"
	push "czapka.pyz 45"
	cthis imgs=
	push "bgrdok.ogg -l -v 60"
	call mus,playstr
	push A
	push "mechanizm"
	push "zanurzanie 50"
	cthis sfxs=
	push "onfinish"
	push "Cs2Batyskaf0"
	call andrzwi,addmethod
	new gmimgvec,grbat
	push A
	push "anbatprzod"
	push "answiatla1"
	push "answiatla2"
	push "andrzwi"
	call grbat,addlist
	push "andzwig"
	push "andz2"
	cthis copyanima
	call andz2,hide
	push "onendframe"
	push "Cs2Batyskaf3"
	call andzwig,addmethod
	push "onfinish"
	push "Cs2Batyskaf4"
	call andzwig,addmethod
	push "onfinish"
	push "mend"
	call anbattyl,addmethod
	push "Cs2Batyskaf6"
	call ccs,enter
	end method
	method Cs2Batyskaf0
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l4237
	push "null"
	push "Cs2Batyskaf1"
	call ccs,playfin
	jmp l4236
l4237:
	push 0
	call answiatla1,play
	push 0
	call answiatla2,play
	push "tim2"
	push 2000
	push "Cs2Batyskaf2"
	cthis timplay
l4236:
	end method
	method Cs2Batyskaf1
	push 1
	call andrzwi,play
	end method
	method Cs2Batyskaf2
	call fxmechanizm,play
	call fxzanurzanie,play
	push 0
	call andzwig,play
	end method
	method Cs2Batyskaf3
	localdef $1
	cthis getpy
	call andz2,getpy
	pop $b
	popax
	sub $a,$b
	pop $1
	push 1
	popax
	sub 0,$a
	cthis framenr
	call andz2,setframe
	push 0
	push $1
	call grbat,move
	end method
	method Cs2Batyskaf4
	call answiatla2,anhide
	call grbat,hide
	push "tim3"
	push 3000
	push "Cs2Batyskaf5"
	cthis timplay
	end method
	method Cs2Batyskaf5
	push 0
	call anbattyl,play
	end method
	method Cs2Batyskaf6
	push "tim1"
	push 2000
	push "Cs2Batyskaf7"
	cthis timplay
	end method
	method Cs2Batyskaf7
	push 0
	call andrzwi,play
	end method
	method mend
	push "Dziob"
	cthis mprzejdz
	end method
	end game

	game HasloA
	parent Kajuta
	method init
	push "hasloa"
	clparent Kajuta,init
	push "haslo"
	cthis path=
	push A
	push "bga.jpg"
	push "aon.pyz 5"
	push "apswd.pyzH 5"
	push "apanelon.pyzH 10"
	push "aswiatla.pyzGH 15"
	push "aekranon.pyzH 20"
	push "aczapka.pyz 25"
	cthis imgs=
	push "haslo_wpisane"
	call clsave,bis
	cmp0
	je l4239
	call anaon,hide
	call anapanelon,show
	push 1
	popax
	sub 0,$a
	call graswiatla,nplay
	call anaekranon,show
l4239:
	push A
	push "dokpanelN 80"
	cthis sfxs=
	push "HasloA0"
	call ccs,enter
	push "tim1"
	push 3000
	push "HasloA1"
	cthis timer=
	call anaon,HasloA2
	push "tim2"
	push 500
	push "HasloA4"
	cthis timer=
	call anapswd,HasloA5
	end method
	method HasloA0
	push "haslo_wpisane"
	call clsave,bis
	cmp0
	je l4241
	call tim1,play
	jmp l4240
l4241:
	push 1
	pop igmstate
l4240:
	end method
	method HasloA1
	push "Dok"
	cthis mprzejdz
	end method
	method HasloA2
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "HasloA3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method HasloA3
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4243
	ret
l4243:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l4245
	push 1
	cthis play
	call tim2,play
l4245:
	end method
	method HasloA4
	call anaon,anhide
	call anapswd,show
	call anapanelon,show
	push 1
	popax
	sub 0,$a
	call graswiatla,nplay
	end method
	method HasloA5
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "HasloA6"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method HasloA6
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4247
	ret
l4247:
	push "HasloB"
	cthis mprzejdz
	end method
	end game

	game HasloB
	parent Kajuta
	method init
	push "haslob"
	clparent Kajuta,init
	push "haslo"
	cthis path=
	push A
	push "bkg.pyz"
	push "klawiatura.pyz 5"
	push "bkeys.pyzGH 10"
	push "btxt.pyz 15"
	push "bstar.pyzGH 20"
	push "cload.pyzGH 25"
	cthis imgs=
	push A
	push "dokpanelN 80"
	cthis sfxs=
	new vector,vps
	push "string"
	call vps,type
	call grbstar,size
	push "null"
	call vps,resize
	new int,idps
	push 1
	popax
	sub 0,$a
	pop idps
	localdef $1
	push igmsoundson
	pop $1
	push 1
	pop igmsoundson
	push A
	push "sndpswd"
	push "Please enter password"
	push "HasloB0"
	push "sndwrong"
	push "Wrong password"
	push "HasloB1"
	push "sndok"
	push "Passowrd correct"
	push "HasloB2"
	push ":lilian1"
	push "Hmm. Maybe the map I found can help me determine the correct password."
	push "stdret"
	cthis sounds=
	push $1
	pop igmsoundson
	push "HasloB3"
	call grbkeys,eval
	push "tim1"
	push 1000
	push "HasloB5"
	cthis timer=
	push "tim2"
	push 1500
	push "mend"
	cthis timer=
	push igmdebug
	cmp0
	je l4264
	cthis mbutnext
l4264:
	cthis mskipminigame
	cthis match3but
	push Trudnosc
	push 2
	cmpjl
	cmp0
	je l4266
	push 0
	push 10
	popax
	sub 0,$a
	call anmatch3but,move
l4266:
	cthis game_mute
	push "HasloB6"
	call ccs,enter
	end method
	method HasloB0
	call grbkeys,show
	call grbstar,show
	push 1
	pop igmstate
	end method
	method HasloB1
	push "enter"
	push 0
	call anbtxt,setframe
	push 1
	pop igmstate
	end method
	method HasloB2
	call tim1,play
	end method
	method HasloB3
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "HasloB4"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method HasloB4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4249
	ret
l4249:
	localdef $1
	cthis actionname
	pop $1
	push $1
	spushs
	push "_enter_"
	cmpst
	jne l4251
	spop $a
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l4252:
	push $3
	push idps
	cmpjle
	cmp0
	je l4253
	jmp l4255
l4254:
	add $3,1
	pop $3
	jmp l4252
l4255:
	push $3
	call vps,get
	popax
	add $2,$a
	pop $2
	jmp l4254
l4253:
	push $2
	push "15_space_april_space_1912"
	cmpje
	cmp0
	je l4257
	push 5
	pop igmstate
	push "sndok"
	cthis cbplay
	call grbstar,hide
	push "ok"
	push 0
	call anbtxt,setframe
	jmp l4256
l4257:
	push 5
	pop igmstate
	cthis mreset
	push "wrong"
	push 0
	call anbtxt,setframe
	push "sndwrong"
	cthis cbplay
l4256:
	jmp l4250
l4251:
	push "_del_"
	cmpst
	jne l4258
	spop $a
	push idps
	push 0
	cmpjae
	cmp0
	je l4260
	push idps
	call grbstar,get
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	push idps
	push "null"
	call vps,set
	sub idps,1
	pop idps
l4260:
	jmp l4250
l4258:
	spop $a
	push idps
	call grbstar,size
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4262
	add idps,1
	pop idps
l4262:
	push idps
	call grbstar,get
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push idps
	push $1
	call vps,set
l4250:
	end method
	method HasloB5
	call anklawiatura,hide
	call grbkeys,hide
	call anbtxt,hide
	call grbstar,hide
	push 1
	popax
	sub 0,$a
	call grcload,nplay
	call tim2,play
	end method
	method HasloB6
	push "sndpswd"
	cthis cbplay
	end method
	method game_mute
	localint $1
	push iGameMute
	cmp0
	je l4268
	push 0
	jmp l4267
l4268:
	push 100
l4267:
	pop $1
	push $1
	call sndok,setvol
	push $1
	call sndpswd,setvol
	push $1
	call sndwrong,setvol
	end method
	method hint_click
	push igmstate
	push 1
	cmpje
	cmp0
	je l4270
	push 0
	pop igmstate
	push "lilian1"
	cthis txtplay
l4270:
	end method
	method mreset
	push 1
	popax
	sub 0,$a
	pop idps
	push 1
	popax
	sub 0,$a
	push 0
	call grbstar,setframe
	end method
	method anbutnext_click
	call tim2,play
	end method
	method mend
	push "haslo_wpisane"
	call clsave,bset
	push "Puzzle"
	cthis mprzejdz
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	end game

	game KrysztalyA
	parent Kajuta
	method init
	push "krysztalya"
	clparent Kajuta,init
	push "krysztaly"
	cthis path=
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Czego tu brakuje"
	push "KrysztalyA0"
	cthis sounds=
	push A
	push "putdiament"
	cthis sfxs=
	push "gwarludziN 40"
	cthis sfx=
	push A
	push "bg.pyz"
	push "lustro.pyz 5"
	push "sciana.pyz 10"
	push "krys1.pyz 20"
	push "m14.pyzH"
	push "m15.pyzH"
	push "od14.pyz 20"
	push "od15.pyz 20"
	cthis imgs=
	push "e2_wlozylkrys14"
	call clsave,bis
	neg
	cmp0
	je l4272
	call anod14,hide
l4272:
	push "e2_wlozylkrys15"
	call clsave,bis
	neg
	cmp0
	je l4274
	call anod15,hide
l4274:
	new DelayMover,cmov
	call cmov,unlock
	push "KrysztalyA2"
	call ccs,enter
	end method
	method KrysztalyA0
	call tcr,ahide
	push "timend"
	push 1000
	push "KrysztalyA1"
	cthis timplay
	end method
	method KrysztalyA1
	push "Salabalowarecepcja"
	cthis mprzejdz
	end method
	method KrysztalyA2
	push "item_krysztal14"
	call clsave,bis
	neg
	cmp0
	jne l4277
	push "item_krysztal15"
	call clsave,bis
	neg
	jmp l4278
l4276:
	push 0
	jmp l4278
l4277:
	push 1
l4278:
	cmp0
	je l4279
	push "lilian1"
	cthis txtplay
	jmp l4275
l4279:
	push 1
	pop igmstate
l4275:
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4281
	ret
l4281:
	call mouse,getpos
	push 1
	push 1
	call anitemkrysztal14,isin
	cmp0
	je l4283
	push "anitemkrysztal14"
	cthis mssetobj
	push 2
	pop igmstate
	jmp l4282
l4283:
	call mouse,getpos
	push 1
	push 1
	call anitemkrysztal15,isin
	cmp0
	je l4285
	push "anitemkrysztal15"
	cthis mssetobj
	push 2
	pop igmstate
l4285:
l4282:
	end method
	method hint_click
	push "item_krysztal14"
	call clsave,bis
	cmp0
	je l4287
	push "anitemkrysztal14"
	push "anm14"
	cthis playhints
	jmp l4286
l4287:
	push "item_krysztal15"
	call clsave,bis
	cmp0
	je l4289
	push "anitemkrysztal15"
	push "anm15"
	cthis playhints
l4289:
l4286:
	end method
	method cmov_PUT
	cthis getfree
	cthis mcheck
	end method
	method mcheck
	localstring $1
	pop $1
	localdef $2
	push 0
	push 2
	call $1,gete
	pop $2
	push "anm"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	call mouse,getpos
	push 0
	push 0
	spop $a
	call [$a],isin
	cmp0
	je l4291
	call fxputdiament,play
	push $1
	spushs
	spop $a
	call [$a],hide
	push "anod"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],show
	push "item_krysztal"
	push $2
	pop $b
	popax
	add $a,$b
	push 0
	call clsave,set
	call anod14,isvisible
	cmp0
	je l4293
	call anod15,isvisible
	jmp l4295
l4293:
	push 0
	jmp l4295
l4294:
	push 1
l4295:
	cmp0
	je l4296
	push "timend"
	push 1000
	push "KrysztalyA3"
	cthis timplay
	jmp l4292
l4296:
	push 1
	pop igmstate
l4292:
	jmp l4290
l4291:
	push $1
	spushs
	spop $a
	call [$a],itemonpos
	push 1
	pop igmstate
l4290:
	end method
	method KrysztalyA3
	push "Krysztaly"
	cthis mprzejdz
	end method
	end game

	game Krysztaly
	parent Kajuta
	method init
	push "krysztaly"
	clparent Kajuta,init
	push A
	push "lektor1"
	push "Kady kryszta rzuca odpowiedni blask ktry jest fragmentem obrazu. Zamieniaj miejscami krysztay a w lustrze pokae si obraz przedstawiajcy flag White Star."
	push "stdret"
	cthis titsounds=
	push A
	push "bg.pyz"
	push "lustro.pyz 5"
	push "sciana.pyz 10"
	push "kr.pyzG 20"
	push "$scripts/common/obw.pyzH 25"
	push "nahint.pyzH 30"
	push "animlustro.pyzH 35"
	push "grall"
	cthis imgsgr=
	push "anobw"
	push "anobw2"
	cthis copyanima
	push "anobw2"
	call grall,add
	new gmimgvec,grall2
	push "gwarludziN 40"
	cthis sfx=
	push A
	push "lustroopen"
	push "diamenty 50"
	cthis sfxs=
	new vector,vkr
	new string,set1
	push "null"
	pop set1
	new string,set2
	push "null"
	pop set2
	push "Krysztaly0"
	call grkr,eval
	call vkr,hash
	localint $1
	push 0
	pop $1
l4301:
	push $1
	call vkr,size
	cmpjl
	cmp0
	je l4302
	jmp l4304
l4303:
	add $1,1
	pop $1
	jmp l4301
l4304:
	push $1
	call grkr,get
	spushs
	spop $a
	call [$a],myid
	push $1
	call vkr,get
	cthis zmien
	jmp l4303
l4302:
	push "tim1"
	push 500
	push "Krysztaly3"
	cthis timer=
	push "tim2"
	push 1009
	push "Krysztaly4"
	cthis timer=
	push "tim3"
	push "Krysztaly5"
	cthis cycle=
	push AdventureMode
	cmp0
	je l4318
	push 5
	pop igmstate
	call grkr,hide
	call ananimlustro,show
	push "Krysztaly6"
	call ccs,enter
	jmp l4317
l4318:
	push igmdebug
	cmp0
	je l4320
	cthis mbutnext
l4320:
	cthis match3but
	push "Krysztaly7"
	call ccs,enter
l4317:
	end method
	method Krysztaly0
	push A
	push "myid"
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push "mypos"
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cthis vars2
	push myid
	call vkr,add
	push "isbutin"
	push "Krysztaly1"
	cthis addmethod
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Krysztaly2"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Krysztaly1
	localdef $1
	localdef $2
	pop $2
	pop $1
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push 0
	spushs
	push $1
	cthis getcx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getcy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push 20
	cmpjl
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Krysztaly2
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4298
	ret
l4298:
	push set1
	push "null"
	cmpje
	cmp0
	je l4300
	cthis getname
	pop set1
	push "anobw"
	cthis tsetset
	jmp l4299
l4300:
	cthis getname
	pop set2
	push "anobw2"
	cthis tsetset
	push 5
	pop igmstate
	call tim1,play
l4299:
	end method
	method Krysztaly3
	call anobw,anhide
	call anobw2,anhide
	push set1
	spushs
	spop $a
	call [$a],myid
	push set2
	spushs
	spop $a
	call [$a],myid
	cthis zmien
	call but1,onmousemove
	push "null"
	pop set1
	push "null"
	pop set2
	localint $1
	push 1
	pop $1
	localint $2
	push 0
	pop $2
l4305:
	push $2
	call grkr,size
	cmpjl
	cmp0
	je l4306
	jmp l4308
l4307:
	add $2,1
	pop $2
	jmp l4305
l4308:
	push $2
	call grkr,get
	spushs
	spop $a
	call [$a],myid
	push $2
	call grkr,get
	spushs
	spop $a
	call [$a],mypos
	cmpjne
	cmp0
	je l4310
	push 0
	pop $1
l4310:
	jmp l4307
l4306:
	push $1
	cmp0
	je l4312
	cthis mend
	jmp l4311
l4312:
	push 1
	pop igmstate
l4311:
	end method
	method Krysztaly4
	call anobw,anhide
	call anobw2,anhide
	push 1
	pop igmstate
	end method
	method Krysztaly5
	push 3
	push 0
	call anlustro,move
	call anlustro,getpx
	call anbg,getex
	cmpja
	cmp0
	je l4314
	push AdventureMode
	cmp0
	je l4316
	push "e2_recepcjalustro"
	call clsave,bset
	push "HOSkrytkalustro"
	cthis mprzejdz
	jmp l4315
l4316:
	push "MainMenu"
	cthis mprzejdz
l4315:
	jmp l4313
l4314:
	cthis play
l4313:
	end method
	method Krysztaly6
	call fxlustroopen,play
	call tim3,play
	end method
	method Krysztaly7
	push "lektor1"
	cthis txtplay
	end method
	method m3init
	clparent Kajuta,m3init
	new img,imgbg2
	push iResX
	push iResY
	cthis transparent
	call imgbg2,create
	call grall,sortimgs
	localint $1
	push 0
	pop $1
l4321:
	push $1
	call grall,size
	cmpjl
	cmp0
	je l4322
	jmp l4324
l4323:
	add $1,1
	pop $1
	jmp l4321
l4324:
	localdef $2
	push $1
	call grall,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l4326
	localint $3
	push 0
	pop $3
l4327:
	push $3
	push $2
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l4328
	jmp l4330
l4329:
	add $3,1
	pop $3
	jmp l4327
l4330:
	push $2
	spushs
	push $3
	spop $a
	call [$a],get
	spushs
	spop $a
	call [$a],m3bgblit
	jmp l4329
l4328:
	jmp l4325
l4326:
	push $2
	spushs
	spop $a
	call [$a],m3bgblit
l4325:
	jmp l4323
l4322:
	end method
	method m3bgblit
	cthis isvisible
	cmp0
	je l4332
	cthis getname
	call grall2,add
	cthis getname
	call imgbg2,blit
	cthis hide
l4332:
	end method
	method m3exit
	clparent Kajuta,m3exit
	call grall2,show
	call grall2,free
	delete imgbg2
	end method
	method mend
	push 5
	pop igmstate
	call grkr,hide
	call ananimlustro,show
	call fxlustroopen,play
	call tim3,play
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method tsetset
	localstring $1
	pop $1
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push $1
	spushs
	cthis getpx
	cthis getpy
	spop $a
	call [$a],setpos
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push $1
	spushs
	push 1
	spop $a
	call [$a],play
	end method
	method zmien
	localint $1
	localint $2
	pop $2
	pop $1
	localdef $3
	push $1
	call grkr,get
	pop $3
	localdef $4
	push $2
	call grkr,get
	pop $4
	push $3
	spushs
	push $1
	push 1
	spop $a
	call [$a],setframe
	push $4
	spushs
	push $2
	push 1
	spop $a
	call [$a],setframe
	localdef $5
	push $4
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $5
	localdef $6
	push $4
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $6
	push $3
	spushs
	push $1
	push 0
	spop $a
	call [$a],setframe
	push $4
	spushs
	push $2
	push 0
	spop $a
	call [$a],setframe
	push $3
	spushs
	push $5
	push $6
	spop $a
	call [$a],move
	push $4
	spushs
	push $5
	popax
	sub 0,$a
	push $6
	popax
	sub 0,$a
	spop $a
	call [$a],move
	localdef $7
	push $3
	spushs
	spop $a
	call [$a],mypos
	pop $7
	push $3
	spushs
	push $4
	spushs
	spop $a
	call [$a],mypos
	spop $a
	call [$a],mypos=
	push $4
	spushs
	push $7
	spop $a
	call [$a],mypos=
	call fxdiamenty,play
	end method
	method kajuta_hint_click
	push igmstate
	push 1
	cmpje
	cmp0
	je l4334
	push 0
	call annahint,play
	push 5
	pop igmstate
	localstring $1
	localint $2
	push 0
	pop $2
l4335:
	push $2
	call grkr,size
	cmpjl
	cmp0
	je l4336
	jmp l4338
l4337:
	add $2,1
	pop $2
	jmp l4335
l4338:
	push $2
	call grkr,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],myid
	push $1
	spushs
	spop $a
	call [$a],mypos
	cmpjne
	cmp0
	je l4340
	call grkr,size
	pop $2
l4340:
	jmp l4337
l4336:
	push $1
	spushs
	push "anobw"
	spop $a
	call [$a],tsetset
	push 0
	pop $2
l4341:
	push $2
	call grkr,size
	cmpjl
	cmp0
	je l4342
	jmp l4344
l4343:
	add $2,1
	pop $2
	jmp l4341
l4344:
	push $2
	call grkr,get
	spushs
	spop $a
	call [$a],mypos
	push $1
	spushs
	spop $a
	call [$a],myid
	cmpje
	cmp0
	je l4346
	push $2
	call grkr,get
	spushs
	push "anobw2"
	spop $a
	call [$a],tsetset
l4346:
	jmp l4343
l4342:
	call tim2,play
l4334:
	end method
	method anbutnext_click
	cthis mend
	end method
	end game

	game Szafa
	parent Kajuta
	method init
	push "szafagra"
	clparent Kajuta,init
	push A
	push "bg.jpg"
	push "sruba1.pyz 25"
	push "sruba2.pyz 25"
	push "klodka.pyz 3"
	push "srubo.pyz 30"
	push "zoom.pyzH 20"
	cthis imgs=
	push A
	push ":lilian1"
	push "Jasny gwint! Drzwi zamknite na kdk."
	push "stdret"
	push ":lilian2"
	push "Zamek solidnie przykrcony rubkami."
	push "stdret"
	cthis titsounds=
	new DelayMover,cmov
	call cmov,unlock
	new string,ssruba
	new int,bsruba1
	push 0
	pop bsruba1
	new int,bsruba2
	push 0
	pop bsruba2
	push A
	push "srubka"
	push "srubaout"
	cthis sfxs=
	push "gwarludziN 40"
	cthis sfx=
	push "onendframe"
	push "Szafa0"
	call ansrubo,addmethod
	push "onfinish"
	push "Szafa1"
	call ansrubo,addmethod
	push "timsrub"
	push 1500
	push "Szafa2"
	cthis timer=
	push "Szafa6"
	call ccs,enter
	end method
	method Szafa0
	cthis framename
	push "go"
	cmpje
	cmp0
	je l4348
	push ssruba
	spushs
	spop $a
	call [$a],hide
	call fxsrubka,play
l4348:
	end method
	method Szafa1
	cthis mretzoom
	push bsruba1
	cmp0
	je l4350
	push bsruba2
	jmp l4352
l4350:
	push 0
	jmp l4352
l4351:
	push 1
l4352:
	cmp0
	je l4353
	call anzoom,hide
	push 0
	push 0
	call ansruba1,setframe
	push 0
	push 0
	call ansruba2,setframe
	call ansruba1,show
	call ansruba2,show
	call timsrub,play
	jmp l4349
l4353:
	push 1
	pop igmstate
l4349:
	end method
	method Szafa2
	push 0
	push "Szafa3"
	call ansruba1,anplayfin
	end method
	method Szafa3
	cthis hide
	push 0
	push "Szafa4"
	call ansruba2,anplayfin
	end method
	method Szafa4
	push 0
	push "Szafa5"
	call anklodka,anplayfin
	end method
	method Szafa5
	push "HOSalabalowa"
	cthis mprzejdz
	end method
	method Szafa6
	push "lilian1"
	cthis txtplay
	end method
	method hint_click
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4355
	ret
l4355:
	call mouse,getpos
	push 1
	push 1
	call ansrubo,isin
	cmp0
	je l4357
	push 1
	push 0
	call ansrubo,setframe
	push "ansrubo"
	cthis setcobj
	cthis msmove
	call anzoom,show
	push bsruba1
	neg
	cmp0
	je l4359
	push 1
	push 0
	call ansruba1,setframe
l4359:
	push bsruba2
	neg
	cmp0
	je l4361
	push 1
	push 0
	call ansruba2,setframe
l4361:
	push 2
	pop igmstate
l4357:
	end method
	method cmov_PUT
	cthis free
	localint $1
	localint $2
	push "ansrubo"
	call ansrubo,getpx
	call ansrubo,getpy
	push 0
	push 1
	clparent classansearcher,_findnotr
	pop $2
	pop $1
	push bsruba1
	neg
	cmp0
	je l4363
	push $1
	push $2
	push 0
	push 0
	call ansruba1,isin
	jmp l4365
l4363:
	push 0
	jmp l4365
l4364:
	push 1
l4365:
	cmp0
	je l4366
	push $1
	push $2
	push 1
	cthis mwypad
	jmp l4362
l4366:
	push bsruba2
	neg
	cmp0
	je l4368
	push $1
	push $2
	push 0
	push 0
	call ansruba2,isin
	jmp l4370
l4368:
	push 0
	jmp l4370
l4369:
	push 1
l4370:
	cmp0
	je l4371
	push $1
	push $2
	push 2
	cthis mwypad
	jmp l4367
l4371:
	cthis mretzoom
	push 1
	pop igmstate
l4367:
l4362:
	end method
	method msruby
	push bsruba1
	cmp0
	je l4373
	push 0
	push 0
	call ansruba1,setframe
l4373:
	push bsruba2
	cmp0
	je l4375
	push 0
	push 0
	call ansruba2,setframe
l4375:
	end method
	method mwypad
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "bsruba"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],set
	push "ansruba"
	push $3
	pop $b
	popax
	add $a,$b
	pop ssruba
	push ssruba
	spushs
	spop $a
	call [$a],getcx
	push $1
	pop $b
	popax
	sub $a,$b
	push ssruba
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	call ansrubo,move
	push 1
	call ansrubo,play
	end method
	method mretzoom
	push 0
	push 0
	call ansrubo,setframe
	push 0
	push 0
	call ansrubo,setpos
	end method
	end game

	game Roznice
	parent Kajuta
	method init
	push "roznice"
	clparent Kajuta,init
	push A
	push ":lilian1"
	push "This scene looks similar to the photo I just found. But something is off..."
	push "stdret"
	cthis sounds=
	push A
	push "bkg.pyz"
	push "open.pyzH 10"
	push "op.pyzG 20"
	push "roz.pyzG 30"
	push "$scripts/common/obw.pyzH 35"
	cthis imgs=
	new int,idopas
	push 0
	pop idopas
	push "Roznice0"
	call grroz,eval
	push "tim1"
	push 1500
	push "mend"
	cthis timer=
	push A
	push "rozniceklik"
	cthis sfxs=
	push igmdebug
	cmp0
	je l4381
	cthis mbutnext
l4381:
	cthis mskipminigame
	cthis match3but
	push AdventureMode
	push 0
	cmpje
	cmp0
	je l4383
	push "$scripts/items/batyskaf.pyz 600"
	cthis img=
	call anbatyskaf,Roznice2
l4383:
	push "Roznice4"
	call ccs,enter
	end method
	method Roznice0
	cthis Button_isin
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Roznice1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Roznice1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4377
	ret
l4377:
	call fxrozniceklik,play
	cthis hide
	cthis getname
	call grroz,remove
	call but1,onmousemove
	push idopas
	call grop,get
	spushs
	spop $a
	call [$a],hide
	add idopas,1
	pop idopas
	call grroz,empty
	cmp0
	je l4379
	push 5
	pop igmstate
	call anopen,show
	call tim1,play
l4379:
	end method
	method Roznice2
	cthis Button_stdms
	push "butclick"
	push "Roznice3"
	cthis addmethod
	cthis getname
	call but1,add
	cthis setbatpos
	end method
	method Roznice3
	push igmstate
	push 1
	cmpje
	cmp0
	je l4385
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	push 101
	pop igmstate
	jmp l4384
l4385:
	push igmstate
	push 101
	cmpje
	cmp0
	je l4387
	push 0
	push 0
	cthis setframe
	cthis setbatpos
	push 1
	pop igmstate
l4387:
l4384:
	end method
	method Roznice4
	push "lilian1"
	cthis txtplay
	end method
	method setbatpos
	localdef $1
	push 3
	call grpan2,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anbatyskaf,setpos
	end method
	method kajuta_hint_click
	push igmstate
	push 1
	cmpje
	cmp0
	je l4389
	localdef $1
	call grroz,first
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anobw,setpos
	push 0
	call anobw,play
l4389:
	end method
	method anbutnext_click
	call tim1,play
	end method
	method mend
	push AdventureMode
	cmp0
	je l4391
	push "item_batyskaf"
	push 0
	call clsave,set
	push "Pokojadministracyjny"
	cthis mprzejdz
	jmp l4390
l4391:
	push "MainMenu"
	cthis mprzejdz
l4390:
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	end game

	game Zdjecie
	parent Kajuta
	method init
	push "zdjecie"
	clparent Kajuta,init
	push A
	push "foto1"
	push "foto2"
	push "cyfra"
	push "wcisnij"
	cthis sfxs=
	new int,iidfoto
	push 1
	pop iidfoto
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l4393
	push 2
	pop iidfoto
	push A
	push "$scripts/05tablice/05tablice2.jpg"
	push "ramka2.pyz"
	push "$scripts/common/bable.pyzH 105"
	cthis imgs=
	new img,imblak
	push iResX
	push iResY
	cthis black
	push 128
	call imblak,create
	push "imblak"
	call img05tablice2,blit
	push "anramka2"
	call img05tablice2,blit
	delete anramka2
	delete imblak
	push A
	push "tablica.pyzH 20"
	push "nazwiska.pyzGH 25"
	cthis imgs=
	push "timnaz"
	push 400
	push "Zdjecie0"
	cthis timer=
	push "idnaz"
	push 0
	call timnaz,var2
	push "grels"
	push "els2"
	push 0
	cthis newgrimg
	push "tablice.ogg -l -v 40"
	call mus,playstr
	cthis mskipminigame
	jmp l4392
l4393:
	push A
	push "bg.jpg"
	push "els.pyzG"
	push "ramka.pyz 5"
	push "$scripts/common/bable.pyzH 105"
	cthis imgs=
	push "gwarludziN 40"
	cthis sfx=
l4392:
	push 10
	call grels,sortz
	cthis loadsnddb
	push A
	push ":lilian1"
	push "Podarte zdjcie; Zo je"
	push "stdret"
	push ":lilian2"
	push "Znam to miejsce; Jest niedaleko std"
	push "Zdjecie1"
	push ":lilian25"
	push "To jednak ciebie te uratowaam; Tak si ciesz e mogymy si spotka"
	push "Zdjecie2"
	cthis sounds=
	push 0.1
	push iResX
	pop $b
	popax
	mul $a,$b
	push 0.1
	push iResY
	pop $b
	popax
	mul $a,$b
	push 0.9
	push iResX
	pop $b
	popax
	mul $a,$b
	call grpan,first
	spushs
	spop $a
	call [$a],getpy
	new Rect,rec2
	push "grels"
	call rec2,fitgrouprand
	push igmdebug
	cmp0
	je l4397
	cthis mbutnext
l4397:
	new DelayMover,cmov
	call cmov,unlock
	push "Zdjecie3"
	call ccs,enter
	end method
	method Zdjecie0
	push idnaz
	call grnazwiska,get
	spushs
	spop $a
	call [$a],hide
	add idnaz,1
	pop idnaz
	push idnaz
	call grnazwiska,size
	cmpjae
	cmp0
	je l4395
	push "Outro"
	cthis mprzejdz
	jmp l4394
l4395:
	cthis play
l4394:
	end method
	method Zdjecie1
	push "Salabalowarecepcja"
	cthis mprzejdz
	end method
	method Zdjecie2
	call tcr,ahide
	push "epizod"
	push "e5_outro"
	call clsave,set
	call grels,hide
	call antablica,show
	call grnazwiska,show
	call timnaz,play
	end method
	method Zdjecie3
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l4399
	push 1
	pop igmstate
	jmp l4398
l4399:
	push "lilian1"
	cthis txtplay
l4398:
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4401
	ret
l4401:
	call mouse,getpos
	push 1
	push 0
	call grels,isin
	cmp0
	je l4403
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	cthis mssetobj
	push $1
	spushs
	push 130
	spop $a
	call [$a],setz
	push $1
	call grels,remove
l4403:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push "fxfoto"
	push iidfoto
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	push $1
	spushs
	push 25
	spop $a
	call [$a],aninlod
	cmp0
	je l4405
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 1
	spop $a
	call [$a],setz
	call mouse,getpos
	call anbable,ansetcpos
	push 0
	call anbable,play
	call fxcyfra,play
	call grels,empty
	cmp0
	je l4407
	cthis mkoniec
	jmp l4406
l4407:
	push 1
	pop igmstate
l4406:
	jmp l4404
l4405:
	push $1
	call grels,add
	push 10
	call grels,sortz
	push 1
	pop igmstate
l4404:
	end method
	method mkoniec
	push 2
	pop igmstate
	push "timend"
	push 1000
	push "mend"
	cthis timplay
	end method
	method mend
	push "epizod"
	push "e4_end"
	call clsave,is
	cmp0
	je l4409
	push "lilian25"
	cthis txtplay
	jmp l4408
l4409:
	push "lilian2"
	cthis txtplay
l4408:
	end method
	method anbutnext_click
	cthis mend
	end method
	method skip_minigame
	push "Zdjecie4"
	call grels,eval
	call grels,free
	cthis mkoniec
	end method
	method Zdjecie4
	push 0
	push 0
	cthis setpos
	push 1
	cthis setz
	end method
	end game

	game Szuflady
	parent Kajuta
	method init
	push "szuflady"
	clparent Kajuta,init
	push A
	push "bg.jpg"
	push "maski.pyzH 20"
	push "els.pyzG 10"
	cthis imgs=
	push "anmaski"
	push "anmaski2"
	cthis copyanima
	push A
	push "lektor1"
	push "Kada szuflada pasuje tylko do jednego miejsca. Zamieniaj szuflady miejscami tak aby uoyc kad na swoim miejscu."
	push "stdret"
	push "lektor2"
	push "Try to align the patterns in the wood so that the markings run consistently across each row of drawers."
	push "stdret"
	cthis titsounds=
	push A
	push "szufladaput 70"
	push "szufladaklik"
	push "szufzmiana 50"
	cthis sfxs=
	new vector,vels
	push 12
	call vels,vecnewint
	call vels,hash
	new int,iframe1
	new int,iframe2
	push "Szuflady0"
	call grels,each
	push "tim1"
	push 500
	push "Szuflady2"
	cthis timer=
	push "tim2"
	push 500
	push "Szuflady3"
	cthis timer=
	cthis match3but
	push Trudnosc
	push 2
	cmpjl
	cmp0
	je l4428
	push 0
	push 10
	popax
	sub 0,$a
	call anmatch3but,move
l4428:
	push igmdebug
	cmp0
	je l4430
	cthis mbutnext
l4430:
	cthis mskipminigame
	push "Szuflady4"
	call ccs,enter
	end method
	method Szuflady0
	localdef $1
	pop $1
	push 1
	popax
	sub 0,$a
	push $1
	call vels,get
	cthis setframe
	cthis Button_stdms
	push "butclick"
	push "Szuflady1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Szuflady1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4411
	ret
l4411:
	call fxszufladaklik,play
	call anmaski,isvisible
	cmp0
	je l4413
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	call anmaski2,setframe
	cthis framenr
	pop iframe2
	call anmaski2,show
	push 2
	pop igmstate
	call tim1,play
	jmp l4412
l4413:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	call anmaski,setframe
	cthis framenr
	pop iframe1
	call anmaski,show
l4412:
	end method
	method Szuflady2
	localdef $1
	push 1
	popax
	sub 0,$a
	call anmaski,actionnr
	pop $1
	localdef $2
	push 1
	popax
	sub 0,$a
	call anmaski2,actionnr
	pop $2
	push $1
	call grels,get
	spushs
	push 1
	popax
	sub 0,$a
	push iframe2
	spop $a
	call [$a],setframe
	push $2
	call grels,get
	spushs
	push 1
	popax
	sub 0,$a
	push iframe1
	spop $a
	call [$a],setframe
	call fxszufzmiana,play
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],framename
	spushs
	push "ok"
	spop $h
	call $h,contains
	cmp0
	jne l4416
	push $2
	call grels,get
	spushs
	spop $a
	call [$a],framename
	spushs
	push "ok"
	spop $h
	call $h,contains
	jmp l4417
l4415:
	push 0
	jmp l4417
l4416:
	push 1
l4417:
	cmp0
	je l4418
	call fxszufladaput,play
l4418:
	call tim2,play
	end method
	method Szuflady3
	call anmaski,hide
	call anmaski2,hide
	localint $1
	push 1
	pop $1
	localdef $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l4419:
	push $3
	call grels,size
	cmpjl
	cmp0
	je l4420
	jmp l4422
l4421:
	add $3,1
	pop $3
	jmp l4419
l4422:
	push $3
	call grels,get
	spushs
	spop $a
	call [$a],framename
	spushs
	push "ok"
	spop $h
	call $h,contains
	neg
	cmp0
	je l4424
	push " "
	push $3
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push 0
	pop $1
l4424:
	jmp l4421
l4420:
	push $1
	cmp0
	je l4426
	push "timend"
	push 1000
	push "mend"
	cthis timplay
	jmp l4425
l4426:
	push 1
	pop igmstate
l4425:
	end method
	method Szuflady4
	push "lektor1"
	cthis txtplay
	end method
	method mend
	push "HOSalaturecka"
	cthis mprzejdz
	end method
	method match3_won
	cthis mend
	end method
	method skip_minigame
	cthis mend
	end method
	method anbutnext_click
	cthis mend
	end method
	method hint_click
	push 0
	pop igmstate
	push "lektor2"
	cthis txtplay
	end method
	end game

	game Dok
	parent Kajuta
	method init
	push "41dok"
	clparent Kajuta,init
	push "dok"
	cthis setsndbase
	push A
	push "lilian1"
	push "Maj batyskafy. By moe uda si wypoyczy jeden."
	push "stdret"
	push ":lilian2"
	push "Panel sterujacy uruchamiany jest na haso. Rozjerz si w pobliu moe znajde jak wskazk dotyczc hasa."
	push "stdret"
	push ":lilian3"
	push "Chyba ju mam wskazwk i mog sprbowa uruchomi panel sterujacy batyskafem."
	push "stdret"
	push ":lilian4"
	push "Panel uruchomiony teraz mog otworzy drzwi i mog pyn."
	push "stdret"
	cthis titsounds=
	push A
	push "41dok.jpg"
	cthis imgs=
	push "bgrdok.ogg -l -v 60"
	call mus,playstr
	cthis mexits
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l4432
	push "haslo_wpisane"
	call clsave,bis
	cmp0
	je l4434
	push A
	push "42dokpanel"
	push "41ho_dok"
	cthis dititblock
	push "42dokpanel"
	cthis hodone
	push "41ho_dok"
	cthis hodone
	push "45dziob"
	cthis extohint
	jmp l4433
l4434:
	push "e3_wzielamape"
	call clsave,bis
	cmp0
	je l4436
	push "e3_mafragmenthasla"
	call clsave,bis
	cmp0
	je l4438
	push A
	push "45dziob"
	push "41ho_dok"
	cthis titblock
	push "41ho_dok"
	cthis disablexit
	push "41ho_dok"
	cthis hodone
	push "34pokojadministracyjny"
	cthis nohover
	push "04podwodnemuzeum"
	cthis nohover
	push "42dokpanel"
	cthis extohint
	jmp l4437
l4438:
	push A
	push "45dziob"
	push "42dokpanel"
	cthis titblock
	push "34pokojadministracyjny"
	cthis nohover
	push "04podwodnemuzeum"
	cthis nohover
	push "41ho_dok"
	cthis extohint
l4437:
	jmp l4435
l4436:
	push A
	push "42dokpanel"
	push "45dziob"
	push "41ho_dok"
	cthis titblock
	push "34pokojadministracyjny"
	cthis extohint
l4435:
l4433:
l4432:
	push "Dok0"
	call ccs,enter
	end method
	method Dok0
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l4440
	push "e3_dokenter"
	call clsave,bgo
	cmp0
	je l4442
	push "lilian1"
	cthis txtplay
	jmp l4441
l4442:
	push "e3_wzielamape"
	call clsave,bis
	cmp0
	je l4444
	push "e3_dokszukahaslo"
	call clsave,bgo
	jmp l4446
l4444:
	push 0
	jmp l4446
l4445:
	push 1
l4446:
	cmp0
	je l4447
	push "lilian2"
	cthis txtplay
	jmp l4443
l4447:
	call clsave,last
	push "HODok"
	cmpje
	cmp0
	je l4449
	push "lilian3"
	cthis txtplay
	jmp l4448
l4449:
	call clsave,last
	push "HasloA"
	cmpje
	cmp0
	je l4451
	push "lilian4"
	cthis txtplay
	jmp l4450
l4451:
	push 1
	pop igmstate
l4450:
l4448:
l4443:
l4441:
l4440:
	end method
	method click_41ho_dok
	push "e3_mafragmenthasla"
	call clsave,bset
	push "HODok"
	cthis mprzejdz
	end method
	method click_42dokpanel
	push "HasloA"
	cthis mprzejdz
	end method
	method click_45dziob
	push "Cs2Batyskaf"
	cthis mprzejdz
	end method
	method click_34pokojadministracyjny
	push "Pokojadministracyjny"
	cthis mprzejdz
	end method
	method click_04podwodnemuzeum
	push "Podwodnemuzeum"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Dokpanel
	parent Kajuta
	method init
	push "42dokpanel"
	clparent Kajuta,init
	push A
	push "42dokpanel.jpg"
	cthis imgs=
	cthis mexits
	push A
	push "grext"
	cthis tohint
	cthis mstdenter
	end method
	method click_41dok
	push "Dok"
	cthis mprzejdz
	end method
	method click_puzzle
	push "Puzzle"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Szczelina
	parent Kajuta1
	method init
	push "43szczelina"
	clparent Kajuta1,init
	push "szczelina"
	cthis setsndbase
	push A
	push ":lilian1"
	push "Mam ju wszystkie zdjcia. Magiczny fotograf uwieczni na kliszy ludzi i dzieki temu pozwoli im odej w spokoju. Magicznym miejscem jest Titanic."
	push "stdret"
	push ":lilian2"
	push "Wpywam do rodka wraku."
	push "mend"
	cthis titsounds=
	push A
	push "43szczelina.jpg"
	cthis imgs=
	push "mapa2.ogg -l -v 60"
	call mus,playstr
	cthis mexits
	cthis mbatyskaf
	cthis mtimhelper
	push "Szczelina0"
	call ccs,enter
	end method
	method Szczelina0
	push "lilian1"
	cthis txtplay
	end method
	method mend
	push "Wnetrze"
	cthis mprzejdz
	end method
	method click_44wnetrze
	push 0
	pop igmstate
	push "lilian2"
	cthis txtplay
	end method
	method tit_lclick
	end method
	end game

	game Wnetrze
	parent Kajuta
	method init
	push "44wnetrze"
	clparent Kajuta,init
	push "wnetrze"
	cthis setsndbase
	cthis loadsnddb
	push A
	push ":duchoficera5"
	push "Witaj Lilian; Odkrya moj tajemnic; Nawet nie wiesz jak bardzo czekaem na ciebie; Zrobiem straszn rzecz ktra pocigna za sob tak wiele mierci; Kiedy zorientowaem si; e przez moje zalepienie zgino tak wielu ludzi rozpacz wypala moj dusz; Nie pomogem wtedy i dugo czekaem na kogo takiego jak ty aby pomc im teraz"
	push "Wnetrze0"
	push ":lilian22"
	push "Mam dla ciebie piercionek Margaret"
	push "stdret"
	push ":duchoficera6"
	push "Boe! To jest piercionek zarczynowy ktry daem Margaret; Zrobiem straszn rzecz; Jak mogem by tak zalepiony; Ja j kochaem"
	push "Wnetrze1"
	push ":lilian23"
	push "Daj mi prosz ostatni klucz, naprawi cz twojego bdu z przeszoci"
	push "Wnetrze2"
	push ":duchoficera7"
	push "Prosz oto skrzynka w ktrej jest klucz; Dzikuj ci za pomoc; Ja zostan tu na wieki i bd si opiekowa duszami ludzi ktre tak jak ja zostay tutaj"
	push "Wnetrze3"
	push ":margaret1"
	push "John! Wybaczam ci; Wiem e zrobie to z wielkiej mioci; Chod ze mn; Wybaczanie to wielka sia ktra moe uleczy kad dusze"
	push "Wnetrze6"
	push ":duchoficera8"
	push "Margaret! Ja nie zasuguje na wybaczenie; Zrobiem wiele zego"
	push "Wnetrze7"
	push ":margaret2"
	push "Chod ze mn John"
	push "Wnetrze8"
	cthis sounds=
	new imganima,anwnetrze
	push "bg"
	push "jpg"
	push 0
	push 5
	push 7
	call anwnetrze,load
	call anwnetrze,play
	push "tytan_wnetrze.ogg -l -v 60"
	call mus,playstr
	push A
	push "duch.pyzH 10"
	push "duch7.pyzH 10"
	cthis imgs=
	push 0.2
	push iResX
	pop $b
	popax
	mul $a,$b
	push 0.1
	push iResY
	pop $b
	popax
	mul $a,$b
	call anduch,setpos
	push 0.6
	push iResX
	pop $b
	popax
	mul $a,$b
	push 0.1
	push iResY
	pop $b
	popax
	mul $a,$b
	call anduch7,setpos
	new itemadder,clduch
	cthis mbatyskaf
	push "item_ring"
	call clsave,bis
	cmp0
	je l4453
	new DelayMover,cmov
	call cmov,unlock
	push A
	push "lampka"
	cthis sfxs=
l4453:
	push "Wnetrze14"
	call ccs,enter
	end method
	method Wnetrze0
	push "lilian22"
	cthis txtplay
	end method
	method Wnetrze1
	push "lilian23"
	cthis txtplay
	end method
	method Wnetrze2
	push "duchoficera7"
	cthis txtplay
	end method
	method Wnetrze3
	push GAME
	spushs
	spop $a
	call [$a],Wnetrze4
	end method
	method Wnetrze4
	push 0
	call anduch7,play
	push "anduch7"
	push "Wnetrze5"
	call clduch,showitem
	end method
	method Wnetrze5
	call clduch,freeitem
	push "margaret1"
	cthis txtplay
	end method
	method Wnetrze6
	push "duchoficera8"
	cthis txtplay
	end method
	method Wnetrze7
	push "margaret2"
	cthis txtplay
	end method
	method Wnetrze8
	push GAME
	spushs
	spop $a
	call [$a],Wnetrze9
	end method
	method Wnetrze9
	call tcr,ahide
	push "anduch7"
	push "Wnetrze10"
	call clduch,hideitem
	end method
	method Wnetrze10
	push GAME
	spushs
	spop $a
	call [$a],Wnetrze11
	end method
	method Wnetrze11
	call anduch7,anhide
	push "anduch"
	push "Wnetrze12"
	call clduch,hideitem
	end method
	method Wnetrze12
	call clduch,freeitem
	call anduch,anhide
	push "tim2"
	push 1000
	push "Wnetrze13"
	cthis timplay
	end method
	method Wnetrze13
	push "HOWrak"
	cthis mprzejdz
	end method
	method Wnetrze14
	push "tim1"
	push 1000
	push "Wnetrze15"
	cthis timplay
	end method
	method Wnetrze15
	push 0
	call anduch,play
	push "anduch"
	push "Wnetrze16"
	call clduch,showitem
	end method
	method Wnetrze16
	call clduch,freeitem
	push "duchoficera5"
	cthis txtplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4455
	ret
l4455:
	call mouse,getpos
	push 1
	push 1
	call anitemring,isin
	cmp0
	je l4457
	push "anitemring"
	cthis mssetobj
	push 1000
	call anitemring,setz
	call fxlampka,play
	push 2
	pop igmstate
l4457:
	end method
	method cmov_PUT
	call mouse,getpos
	push 1
	push 1
	call anduch,isin
	cmp0
	je l4459
	cthis free
	push "item_ring"
	push 0
	call clsave,set
	push "timring"
	push 1000
	push "Wnetrze17"
	cthis timplay
	call fxshowhint,play
	jmp l4458
l4459:
	push 1
	pop igmstate
	cthis retobj
l4458:
	end method
	method Wnetrze17
	push "anitemring"
	push "Wnetrze18"
	call clduch,hideitem
	end method
	method Wnetrze18
	call anitemring,hide
	push "duchoficera6"
	cthis txtplay
	end method
	method hint_click
	push "item_ring"
	call clsave,bis
	cmp0
	je l4461
	push "anitemring"
	push "anduch"
	cthis playhints
l4461:
	end method
	method anwnetrze_finish
	cthis play
	end method
	method tit_lclick
	end method
	end game

	game Dziob
	parent Kajuta1
	method init
	push "45dziob"
	clparent Kajuta1,init
	push "dziob"
	cthis setsndbase
	push A
	push ":lilian1"
	push "Niesamowity widok. Tyle lat pod wod a cigle robi wraenie. Musz poszuka jakiej szczeliny w kadubie aby dostac si do rodka."
	push "stdret"
	cthis titsounds=
	push A
	push "45dziob.jpg"
	cthis imgs=
	push "mapa2.ogg -l -v 60"
	call mus,playstr
	cthis mexits
	cthis mbatyskaf
	cthis mtimhelper
	push "Dziob0"
	call ccs,enter
	end method
	method Dziob0
	push "lilian1"
	cthis txtplay
	end method
	method click_43szczelina
	push "HOSzczelina"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	game Pokojadministracyjny
	parent Kajuta
	method init
	push "34pokojadministracyjny"
	clparent Kajuta,init
	push "pokojadministracyjny"
	cthis setsndbase
	push A
	push "34pokojadministracyjny.jpg"
	push "obraz.pyz 10"
	push "rama.pyz 5"
	push "bable.pyzP 2"
	cthis imgs=
	cthis loadsnddb
	push A
	push ":lilian17"
	push "Witaj Robercie! Co za zbieg okolicznoci!"
	push "Pokojadministracyjny0"
	push ":robert1"
	push "Lilian? Co ty tutaj robisz? No tak; zapomniaem e w tym feralnym rejsie pyna twoja prababcia"
	push "Pokojadministracyjny1"
	push ":lilian18"
	push "Tak si ciesz e ciebie wanie tu spotkaam; Chciaabym zwiedzi wrak; Czy moesz mi udostpni batyskaf?"
	push "Pokojadministracyjny2"
	push ":robert2"
	push "Z wielk radoci; Popyn z tob"
	push "Pokojadministracyjny3"
	push ":lilian19"
	push "Wolaabym sama tam popyn"
	push "Pokojadministracyjny4"
	push ":robert3"
	push "Wiele razem pywalimy w takich batyskafach ale nie mog ci puci samej; Wyjd przygotowa batyskaf a ty we prosz ze skrytki za obrazem mapy wraku; Szyfr do skrytki jest prost amigwk ktr kiedy sama zaprojektowaa; Informacje znajdziesz na biurku; Dasz sobie rad"
	push "Pokojadministracyjny5"
	push ":lilian20"
	push "Poradz sobie; Jak wezm mapy to przyjd do doku"
	push "Pokojadministracyjny6"
	push ":lilian21"
	push "Przeszukam biurko, moe tam znajd jak wsakzwk."
	push "stdret"
	push ":lilian22"
	push "Mam fotografi to teraz moge sprbowa otworzy skrytk."
	push "stdret"
	push ":lilian23"
	push "Udao si otworzyc skrytk. Teraz zbieram map i ide do doku."
	push "stdret"
	push ":lilian24"
	push "I think I see the map in that secret opening."
	push "stdret"
	cthis sounds=
	cthis mexits
	push "epizod"
	push "e3_powrot"
	call clsave,is
	cmp0
	je l4463
	push "e3_weszlapokojadmi"
	call clsave,bis
	neg
	cmp0
	je l4465
	push "ludzie1.pyzG 20"
	cthis img=
l4465:
	push "e3_hopokojadmi"
	call clsave,bis
	cmp0
	je l4467
	push "35ho_pokojadministracyjny"
	cthis diblockexit
	push "35ho_pokojadministracyjny"
	cthis hodone
	jmp l4466
l4467:
	push "roznice"
	cthis diblockexit
l4466:
	push "e3_otwartyobraz"
	call clsave,bis
	cmp0
	je l4469
	push "roznice"
	cthis diblockexit
	push 1
	push 0
	call anobraz,setframe
	push "e3_wzielamape"
	call clsave,bis
	neg
	cmp0
	je l4471
	new itemadder,clmap
	push A
	push "mapa.pyz 15"
	cthis imgs=
	push "41dok"
	cthis nohover
	call anmapa,Pokojadministracyjny9
	push "anmapa"
	cthis antohint
	push "anmapa"
	cthis hoverhint
	jmp l4470
l4471:
	push "roznice"
	cthis hodone
	push "41dok"
	cthis extohint
l4470:
l4469:
l4463:
	push "Pokojadministracyjny13"
	call ccs,enter
	end method
	method Pokojadministracyjny0
	push "robert1"
	cthis txtplay
	end method
	method Pokojadministracyjny1
	push "lilian18"
	cthis txtplay
	end method
	method Pokojadministracyjny2
	push "robert2"
	cthis txtplay
	end method
	method Pokojadministracyjny3
	push "lilian19"
	cthis txtplay
	end method
	method Pokojadministracyjny4
	push "robert3"
	cthis txtplay
	end method
	method Pokojadministracyjny5
	push "lilian20"
	cthis txtplay
	end method
	method Pokojadministracyjny6
	call tcr,ahide
	push "Pokojadministracyjny7"
	push "Pokojadministracyjny8"
	call ccs,playfin
	end method
	method Pokojadministracyjny7
	call grludzie1,hide
	end method
	method Pokojadministracyjny8
	push 1
	pop igmstate
	end method
	method Pokojadministracyjny9
	cthis Button_stdalpha
	push "butclick"
	push "Pokojadministracyjny10"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Pokojadministracyjny10
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4473
	ret
l4473:
	push 2
	pop igmstate
	cthis hide
	push "e3_wzielamape"
	call clsave,bset
	push GAME
	spushs
	push "mapa"
	spop $a
	call [$a],addnewitem
	push 1
	push 0
	call anitemmapa,setframe
	push 0
	push 0
	call anitemmapa,setpos
	push "anmapa"
	call grhint,remove
	push "41dok"
	cthis extohint
	push "tim1"
	push 1500
	push "Pokojadministracyjny11"
	cthis timplay
	end method
	method Pokojadministracyjny11
	call anitemmapa,itemonpos
	localdef $1
	call anitemmapa,getpx
	pop $1
	localdef $2
	call anitemmapa,getpy
	pop $2
	localdef $3
	call anitemmapa,geth
	pop $3
	push 1
	push 0
	call anitemmapa,setframe
	push 0
	push 0
	call anitemmapa,setpos
	push "anitemmapa"
	push $3
	push $1
	push $2
	push 15
	push "Pokojadministracyjny12"
	call clmap,gotodest
	end method
	method Pokojadministracyjny12
	call anitemmapa,itemonpos
	push 1
	pop igmstate
	push "41dok"
	push 1
	cthis msethover
	end method
	method Pokojadministracyjny13
	push "e3_weszlapokojadmi"
	call clsave,bis
	neg
	cmp0
	je l4475
	push "e3_weszlapokojadmi"
	call clsave,bset
	push "lilian17"
	cthis txtplay
	jmp l4474
l4475:
	call clsave,last
	push "Roznice"
	cmpje
	cmp0
	je l4477
	push "lilian23"
	cthis txtplay
	jmp l4476
l4477:
	push 1
	pop igmstate
l4476:
l4474:
	end method
	method hint_click
	push "e3_hopokojadmi"
	call clsave,bis
	neg
	cmp0
	je l4479
	push 0
	pop igmstate
	push "lilian21"
	cthis txtplay
	push "35ho_pokojadministracyjny"
	cthis playexhint
	jmp l4478
l4479:
	push "e3_wzielamape"
	call clsave,bis
	neg
	cmp0
	je l4481
	push 0
	pop igmstate
	push "e3_otwartyobraz"
	call clsave,bis
	cmp0
	je l4483
	push "lilian24"
	cthis txtplay
	jmp l4482
l4483:
	push "lilian22"
	cthis txtplay
l4482:
	push "roznice"
	cthis playexhint
l4481:
l4478:
	end method
	method click_roznice
	push "e3_otwartyobraz"
	call clsave,bset
	push "Roznice"
	cthis mprzejdz
	end method
	method click_35ho_pokojadministracyjny
	push "e3_hopokojadmi"
	call clsave,bset
	push "HOPokojadministracyjny"
	cthis mprzejdz
	end method
	method click_41dok
	push "Dok"
	cthis mprzejdz
	end method
	method tit_lclick
	end method
	end game

	class InfoTit
	parent Kajuta1
	method init
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	clparent Kajuta1,init
	push "info"
	cthis path=
	new string,sretgame
	push $2
	pop sretgame
	push "powrot.pyz 100"
	cthis img=
	call anpowrot,InfoTit0
	end method
	method InfoTit0
	cthis Button_stdms
	push "butclick"
	push "InfoTit1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method InfoTit1
	push AdventureMode
	cmp0
	je l4485
	push sretgame
	cthis mprzejdz
	jmp l4484
l4485:
	push "MainMenu"
	cthis mprzejdz
l4484:
	end method
	end class

	game InfoKasyL
	parent InfoTit
	method init
	push "infotrapr"
	push "Kasy"
	clparent InfoTit,init
	new img,imbg
	new int,idimbg
	push 0
	pop idimbg
	cthis reloadbg
	push 1
	pop igmstate
	push "strzalki.pyz 10"
	cthis img=
	call anstrzalki,InfoKasyL0
	push 0
	push iResY
	call anpowrot,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call anpowrot,move
	cthis mstdenter
	end method
	method InfoKasyL0
	push 0
	push 20
	cthis move
	cthis Button_stdms
	push "butclick"
	push "InfoKasyL1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method InfoKasyL1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4487
	push GAME
	spushs
	spop $a
	call [$a],reloadbg
l4487:
	end method
	method reloadbg
	push idimbg
	spushs
	push 0
	cmpst
	jne l4489
	spop $a
	push "lost.jpg"
	jmp l4488
l4489:
	push 1
	cmpst
	jne l4490
	spop $a
	push "saved.jpg"
	jmp l4488
l4490:
	push 2
	cmpst
	jne l4491
	spop $a
	push "historia.png"
	jmp l4488
l4491:
	spop $a
l4488:
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	call imbg,load
	push idimbg
	push 1
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	pop idimbg
	end method
	end game

	game InfoTrapL
	parent InfoTit
	method init
	push "infotrapl"
	push "Trap"
	clparent InfoTit,init
	new img,imbg
	new int,idimbg
	push 0
	pop idimbg
	cthis reloadbg
	call imbg,geth
	push iResY
	cmpjl
	cmp0
	je l4493
	localint $1
	localint $2
	localint $3
	push 5
	call imbg,getey
	push 5
	pop $b
	popax
	sub $a,$b
	call imbg,getrgb
	pop $3
	pop $2
	pop $1
	new img,imbg2
	push iResX
	push iResY
	call imbg,geth
	pop $b
	popax
	sub $a,$b
	push $1
	push $2
	push $3
	push 255
	call imbg2,create
	push 0
	call imbg,geth
	call imbg2,setpos
l4493:
	push 1
	pop igmstate
	push "strzalki.pyz 10"
	cthis img=
	call anstrzalki,InfoTrapL0
	push 0
	push iResY
	call anpowrot,geth
	pop $b
	popax
	sub $a,$b
	push 5
	pop $b
	popax
	sub $a,$b
	call anpowrot,move
	cthis mstdenter
	end method
	method InfoTrapL0
	push 0
	push 20
	cthis move
	cthis Button_stdms
	push "butclick"
	push "InfoTrapL1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method InfoTrapL1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4495
	push GAME
	spushs
	spop $a
	call [$a],reloadbg
l4495:
	end method
	method reloadbg
	push idimbg
	spushs
	push 0
	cmpst
	jne l4497
	spop $a
	push "przekroj1.png"
	jmp l4496
l4497:
	push 1
	cmpst
	jne l4498
	spop $a
	push "przekroj2.png"
	jmp l4496
l4498:
	push 2
	cmpst
	jne l4499
	spop $a
	push "przekroj3.png"
	jmp l4496
l4499:
	spop $a
l4496:
	localstring $1
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	call imbg,load
	push idimbg
	push 1
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	div $a,$b
	push $d
	pop idimbg
	end method
	end game

	game InfoTrapR
	parent InfoTit
	method init
	push "infotrapr"
	push "Trap"
	clparent InfoTit,init
	push "budowa.jpg"
	cthis img=
	push iResX
	call anpowrot,getw
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	push iResY
	call anpowrot,geth
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	call anpowrot,ansetbpos
	cthis mstdenter
	end method
	end game

