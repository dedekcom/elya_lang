; Dominik Dagiel   ix 2005

	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l2
	push $1
	push $2
	cthis varnew
l2:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l4
	push $1
	cthis vardel
l4:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global0"
	cthis addmethod
	end method
	method global0
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global1"
	cthis addmethod
	end method
	method global1
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l5:
	push A
	push $2
	cmpjne
	cmp0
	je l6
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l5
l6:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l7:
	push A
	push $2
	cmpjne
	cmp0
	je l8
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l7
l8:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l9:
	push A
	push $3
	cmpjne
	cmp0
	je l10
	push $1
	neg
	cmp0
	je l12
	push $2
	push $3
	cmpje
	pop $1
l12:
	localdef $3
	pop $3
	jmp l9
l10:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l13:
	push $2
	push A
	cmpjne
	cmp0
	je l14
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l13
l14:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global2"
	cthis addmethod
	end method
	method global2
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l15:
	push $2
	push A
	cmpjne
	cmp0
	je l16
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l15
l16:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l18
	ret
l18:
l19:
	push $1
	push $2
	cmpjle
	cmp0
	je l20
	jmp l22
l21:
	add $1,1
	pop $1
	jmp l19
l22:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l21
l20:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l24
	ret
l24:
l25:
	push $1
	push $2
	cmpjae
	cmp0
	je l26
	jmp l28
l27:
	sub $1,1
	pop $1
	jmp l25
l28:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l27
l26:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l29:
	push $5
	push $1
	cmpjl
	cmp0
	je l30
	jmp l32
l31:
	add $5,1
	pop $5
	jmp l29
l32:
	push 0
	pop $4
l33:
	push $4
	push $2
	cmpjl
	cmp0
	je l34
	jmp l36
l35:
	add $4,1
	pop $4
	jmp l33
l36:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l35
l34:
	jmp l31
l30:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	end method
	method get
	add _iile,1
	pop _iile
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l37:
	push $2
	push $3
	cmpjl
	cmp0
	je l38
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l37
l38:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l40
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l40:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l43
	push $3
	push 0
	cmpjle
	jmp l44
l42:
	push 0
	jmp l44
l43:
	push 1
l44:
	cmp0
	je l45
	ret
l45:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l46:
	push $2
	push 0
	cmpja
	cmp0
	je l47
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l46
l47:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis hasvar
	neg
	cmp0
	je l49
	push $1
	cthis add
l49:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l51
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l51:
	end method
	method free
	call vn,free
	call vec,free
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l52:
	push $2
	push $3
	cmpjl
	cmp0
	je l53
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l55
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l57
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l59
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l59:
	jmp l56
l57:
	push 100
	call gameapi,setmusicvol
l56:
	push $6
	call gameapi,playmusic
	jmp l54
l55:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l61
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l63
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l65
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l65:
	jmp l62
l63:
	push 100
	call _sndbgr,setvol
l62:
	cthis playbgr
	jmp l60
l61:
	add $2,1
	pop $2
l60:
l54:
	jmp l52
l53:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	new int,igmipad
	push 1
	pop igmipad
	new int,igmmac
	push 0
	pop igmmac
	new int,igmstate
	push 0
	pop igmstate
	new int,igmdebug
	push 1
	pop igmdebug
	new int,igmeasy
	push 0
	pop igmeasy
	new int,igmdemo
	push 0
	pop igmdemo
	new int,igmbegin
	push 1
	pop igmbegin
	push igmdebug
	cmp0
	jne l68
	push igmipad
	neg
	cmp0
	je l69
	push igmmac
	neg
	jmp l71
l69:
	push 0
	jmp l71
l70:
	push 1
l71:
	jmp l72
l67:
	push 0
	jmp l72
l68:
	push 1
l72:
	cmp0
	je l73
	push "getsavepath"
	push "global3"
	call engine,addmethod
l73:
	method global3
	push "saves/"
	end method
	new string,sgmfontfile
	push "configs/fonts/ala.ttf"
	pop sgmfontfile
	new string,sgmfontmono
	push "configs/fonts/mono.ttf"
	pop sgmfontmono
	new string,SFXPATH
	push "sounds/sfx/"
	pop SFXPATH
	new string,BGRPATH
	push "sounds/bgr/"
	pop BGRPATH
	new string,MUSICPATH
	push "sounds/music/"
	pop MUSICPATH
	new string,LANG
	push "eng"
	pop LANG
	new string,SNDPATH
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l75
	push ""
	pop LANG
l75:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l77
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l77:
	new int,iResX
	push 1024
	pop iResX
	new int,iResY
	push 768
	pop iResY
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	call engine,verifyapp
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l79
	push sgmfontfile
	pop $1
l79:
	push ".ttf"
	call $1,contains
	cmp0
	je l81
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l81:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l83
	ret
l83:
	sub $3,1
	pop $3
l84:
	push $3
	push 0
	cmpjae
	cmp0
	je l85
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l84
l85:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	ret
	end method
	method getsndpath
	push _sclwavpath
	ret
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l87
	ret
l87:
	localint $5
	push 0
	pop $5
l88:
	push $5
	push $4
	cmpjl
	cmp0
	je l89
	jmp l91
l90:
	add $5,1
	pop $5
	jmp l88
l91:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l90
l89:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l93
	ret
l93:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l94:
	push $6
	push $5
	cmpjl
	cmp0
	je l95
	jmp l97
l96:
	add $6,1
	pop $6
	jmp l94
l97:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l99
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l99:
	jmp l96
l95:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l100:
	push $8
	push $7
	cmpjl
	cmp0
	je l101
	jmp l103
l102:
	add $8,1
	pop $8
	jmp l100
l103:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l102
l101:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l105
	push $1
	cthis looponfinish
	jmp l104
l105:
	push "H"
	call $2,contains
	cmp0
	je l107
	push $1
	cthis hideonfinish
l107:
l104:
	push "P"
	call $2,contains
	cmp0
	je l109
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l109:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l110:
	push $6
	push $4
	cmpjl
	cmp0
	je l111
	jmp l113
l112:
	add $6,1
	pop $6
	jmp l110
l113:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l115
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l115:
	jmp l112
l111:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l116:
	push $5
	push $4
	cmpjl
	cmp0
	je l117
	jmp l119
l118:
	add $5,1
	pop $5
	jmp l116
l119:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l118
l117:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],loadscript
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l121
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l121:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	push igmdebug
	neg
	cmp0
	je l123
	push igmipad
	jmp l125
l123:
	push 0
	jmp l125
l124:
	push 1
l125:
	cmp0
	je l126
	push "configs/empty.png"
	push "configs/empty.png"
	call bsms,load
	jmp l122
l126:
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
l122:
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
	end method
	method setact
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l127
	push $1
	push $5
	cmpjle
	cmp0
	je l127
	push $2
	push $4
	cmpjae
	cmp0
	je l127
	push $2
	push $6
	cmpjle
	jmp l129
l127:
	push 0
	jmp l129
l128:
	push 1
l129:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l130
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l130
	push $2
	push $4
	cmpjae
	cmp0
	je l130
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l132
l130:
	push 0
	jmp l132
l131:
	push 1
l132:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l134
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l134
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l134
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l135
l133:
	push 0
	jmp l135
l134:
	push 1
l135:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l137
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l138
l136:
	push 0
	jmp l138
l137:
	push 1
l138:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l139
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l139
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l139
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l141
l139:
	push 0
	jmp l141
l140:
	push 1
l141:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l142
	push ilx
	push $6
	cmpjle
	cmp0
	je l142
	push ily
	push $5
	cmpjae
	cmp0
	je l142
	push ily
	push $7
	cmpjle
	jmp l144
l142:
	push 0
	jmp l144
l143:
	push 1
l144:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l145:
	push $2
	push $6
	cmpjne
	cmp0
	je l146
	push $3
	push $7
	cmpjne
	jmp l148
l146:
	push 0
	jmp l148
l147:
	push 1
l148:
	cmp0
	je l149
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l151
	push $2
	push $3
	ret
l151:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l145
l149:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l153
	push $1
	cthis play
l153:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l154
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l156
l154:
	push 0
	jmp l156
l155:
	push 1
l156:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l157:
	push $2
	cthis size
	cmpjl
	cmp0
	je l158
	jmp l160
l159:
	add $2,1
	pop $2
	jmp l157
l160:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l159
l158:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l161:
	push $1
	push iile
	cmpjl
	cmp0
	je l162
	jmp l164
l163:
	add $1,1
	pop $1
	jmp l161
l164:
	push $1
	call _vs,get
	neg
	cmp0
	je l166
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l166:
	jmp l163
l162:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _pos
	push 10
	call $1,getb
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l168
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l170
	spop $a
	push $1
	cthis copy
	jmp l169
l170:
	push "gmobjvec"
	cmpst
	jne l171
	spop $a
	push $1
	cthis copy
	jmp l169
l171:
	push "gmimgvec"
	cmpst
	jne l172
	spop $a
	push $1
	cthis copy
	jmp l169
l172:
	spop $a
	cthis free
	push $1
	cthis add
l169:
	jmp l167
l168:
	cthis free
	push $1
	cthis add
l167:
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l173:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l174
	jmp l176
l175:
	add $2,1
	pop $2
	jmp l173
l176:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l175
l174:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l177:
	push $2
	cthis size
	cmpjl
	cmp0
	je l178
	jmp l180
l179:
	add $2,1
	pop $2
	jmp l177
l180:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l179
l178:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l181:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l182
	jmp l184
l183:
	add $2,1
	pop $2
	jmp l181
l184:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l183
l182:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	call lsim,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l185:
	push $3
	push 0
	cmpja
	cmp0
	je l186
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l185
l186:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l187:
	push $1
	cthis size
	cmpjl
	cmp0
	je l188
	jmp l190
l189:
	add $1,1
	pop $1
	jmp l187
l190:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l189
l188:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l191:
	push $2
	cthis size
	cmpjl
	cmp0
	je l192
	jmp l194
l193:
	add $2,1
	pop $2
	jmp l191
l194:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l193
l192:
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l196
	push $1
	call lsim,add
l196:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l197:
	push $2
	push $1
	cmpjne
	cmp0
	je l198
	push $2
	cthis addbegin
	pop $2
	jmp l197
l198:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l200
	push $1
	cthis addbegin
	jmp l199
l200:
	push $2
	push $3
	cmpjae
	cmp0
	je l202
	push $1
	cthis add
	jmp l201
l202:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l203:
	push $4
	push $2
	cmpja
	cmp0
	je l204
	jmp l206
l205:
	sub $4,1
	pop $4
	jmp l203
l206:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l205
l204:
	push $2
	push $1
	cthis set
l201:
l199:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l207:
	push $1
	cthis contains
	cmp0
	je l208
	push $1
	cthis remove
	jmp l207
l208:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l209:
	push $2
	cthis size
	cmpjl
	cmp0
	je l210
	jmp l212
l211:
	add $2,1
	pop $2
	jmp l209
l212:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l214
	push $2
	cthis removeat
l214:
	jmp l211
l210:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l215:
	push $2
	push $3
	cmpjle
	cmp0
	je l216
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l215
l216:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l218
	call $1,rand
	cthis get
	jmp l217
l218:
	push "null"
l217:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l220
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l221:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l222
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l224
	push "null"
	ret
l224:
	jmp l221
l222:
	push $3
	cthis get
	ret
l220:
	push "null"
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l226
l227:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l228
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l227
l228:
l226:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l229:
	push $5
	push 0
	cmpjae
	cmp0
	je l230
	jmp l232
l231:
	sub $5,1
	pop $5
	jmp l229
l232:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l234
	push $5
	call lsim,get
	ret
l234:
	jmp l231
l230:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l235:
	push $5
	push 0
	cmpjae
	cmp0
	je l236
	jmp l238
l237:
	sub $5,1
	pop $5
	jmp l235
l238:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l240
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l240:
	jmp l237
l236:
	push 0
	ret
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l241:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l242
	jmp l244
l243:
	add $2,1
	pop $2
	jmp l241
l244:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l243
l242:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l245:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l246
	jmp l248
l247:
	add $3,1
	pop $3
	jmp l245
l248:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l247
l246:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l249:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l250
	jmp l252
l251:
	add $4,1
	pop $4
	jmp l249
l252:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l251
l250:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l253:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l254
	jmp l256
l255:
	add $5,1
	pop $5
	jmp l253
l256:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l255
l254:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l257:
	push $3
	cthis size
	cmpjl
	cmp0
	je l258
	jmp l260
l259:
	add $3,1
	pop $3
	jmp l257
l260:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l262
	push $3
	ret
l262:
	jmp l259
l258:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l263:
	push $3
	cthis size
	cmpjl
	cmp0
	je l264
	jmp l266
l265:
	add $3,1
	pop $3
	jmp l263
l266:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l268
	push $3
	ret
l268:
	jmp l265
l264:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l269:
	push $2
	cthis size
	cmpjl
	cmp0
	je l270
	jmp l272
l271:
	add $2,1
	pop $2
	jmp l269
l272:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l271
l270:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l273:
	push $3
	cthis size
	cmpjl
	cmp0
	je l274
	jmp l276
l275:
	add $3,1
	pop $3
	jmp l273
l276:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l275
l274:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l277:
	push $4
	cthis size
	cmpjl
	cmp0
	je l278
	jmp l280
l279:
	add $4,1
	pop $4
	jmp l277
l280:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l279
l278:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l281:
	push $2
	cthis size
	cmpjl
	cmp0
	je l282
	jmp l284
l283:
	add $2,1
	pop $2
	jmp l281
l284:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l286
	push 0
	ret
l286:
	jmp l283
l282:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l288
	ret
l288:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l289:
	push $6
	cthis size
	cmpjl
	cmp0
	je l290
	jmp l292
l291:
	add $6,1
	pop $6
	jmp l289
l292:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l294
	push $6
	pop $3
	push $5
	pop $4
l294:
	jmp l291
l290:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l296
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l297
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l299
l297:
	push 0
	jmp l299
l298:
	push 1
l299:
	jmp l300
l295:
	push 0
	jmp l300
l296:
	push 1
l300:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l302
	push _ix
	ret
l302:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l303:
	push $4
	push $1
	cmpjl
	cmp0
	je l304
	jmp l306
l305:
	add $4,1
	pop $4
	jmp l303
l306:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l308
	push $3
	pop $2
l308:
	jmp l305
l304:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l310
	push _iy
	ret
l310:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l311:
	push $4
	push $1
	cmpjl
	cmp0
	je l312
	jmp l314
l313:
	add $4,1
	pop $4
	jmp l311
l314:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l316
	push $3
	pop $2
l316:
	jmp l313
l312:
	push $2
	ret
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l318
	push _ix
	ret
l318:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l319:
	push $4
	push $1
	cmpjl
	cmp0
	je l320
	jmp l322
l321:
	add $4,1
	pop $4
	jmp l319
l322:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l324
	push $3
	pop $2
l324:
	jmp l321
l320:
	push $2
	ret
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l326
	push _iy
	ret
l326:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l327:
	push $4
	push $1
	cmpjl
	cmp0
	je l328
	jmp l330
l329:
	add $4,1
	pop $4
	jmp l327
l330:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l332
	push $3
	pop $2
l332:
	jmp l329
l328:
	push $2
	ret
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l334
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l334:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l335:
	push $3
	cthis size
	cmpjl
	cmp0
	je l336
	jmp l338
l337:
	add $3,1
	pop $3
	jmp l335
l338:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l337
l336:
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l339:
	push $1
	cthis size
	cmpjl
	cmp0
	je l340
	jmp l342
l341:
	add $1,1
	pop $1
	jmp l339
l342:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l341
l340:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l343:
	push $5
	push 0
	cmpjae
	cmp0
	je l344
	jmp l346
l345:
	sub $5,1
	pop $5
	jmp l343
l346:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l348
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l348:
	jmp l345
l344:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l349:
	push $4
	push 0
	cmpjae
	cmp0
	je l350
	jmp l352
l351:
	sub $4,1
	pop $4
	jmp l349
l352:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l354
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l354:
	jmp l351
l350:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l355:
	push $5
	push 0
	cmpjae
	cmp0
	je l356
	jmp l358
l357:
	sub $5,1
	pop $5
	jmp l355
l358:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l360
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l362
l360:
	push 0
	jmp l362
l361:
	push 1
l362:
	cmp0
	je l363
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l363:
	jmp l357
l356:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "actionnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l365
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l364
l365:
	push $1
	pop $3
l364:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l367
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l366
l367:
	push $1
	pop $3
l366:
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	end class

	class gmmaskvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,isin
	ret
	end method
	end class

	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l369
	push $1
	cthis cbplay
	jmp l368
l369:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l371
	push $1
	cthis cbplay
l371:
l368:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l374
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l375
l373:
	push 0
	jmp l375
l374:
	push 1
l375:
	cmp0
	je l376
	push $1
	cthis cbplay
l376:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l378
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l378:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l380
	push $1
	spushs
	spop $a
	call [$a],play
l380:
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l382
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l382:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l384
	push $1
	spushs
	spop $a
	call [$a],play
l384:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l386
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l388
l386:
	push 0
	jmp l388
l387:
	push 1
l388:
	cmp0
	je l389
	ret
l389:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l391
	push $1
	spushs
	spop $a
	call [$a],play
l391:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l393
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l395
l393:
	push 0
	jmp l395
l394:
	push 1
l395:
	cmp0
	je l396
	push $1
	spushs
	spop $a
	call [$a],play
l396:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l398
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l398:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l400
	push $3
	push "null"
	cmpjne
	jmp l402
l400:
	push 0
	jmp l402
l401:
	push 1
l402:
	cmp0
	je l403
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l403:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l405
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l405:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l407
	cthis cisplaying
	jmp l409
l407:
	push 0
	jmp l409
l408:
	push 1
l409:
	cmp0
	je l410
	push $1
	cthis cactsndstop
l410:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l412
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l411
l412:
	push 0
l411:
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l414
	push 0
	pop iile
	ret
l414:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l415:
	push $3
	push $2
	cmpjl
	cmp0
	je l416
	jmp l418
l417:
	add $3,1
	pop $3
	jmp l415
l418:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l417
l416:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l420
	push 0
	pop iile
	ret
l420:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l422
	call iile,rand
	pop ilicz
l422:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l423:
	push $3
	push iile
	cmpjl
	cmp0
	je l424
	jmp l426
l425:
	add $3,1
	pop $3
	jmp l423
l426:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l425
l424:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l428
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l428:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l430
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l429
l430:
	push 0
l429:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l432
	cthis play
l432:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l434
	cthis bgplay
l434:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l436
	cthis play
l436:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l438
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l437
l438:
	push itype
	push 1
	cmpje
	cmp0
	je l440
	call iile,rand
	pop ilicz
l440:
l437:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l441:
	push $2
	push iile
	cmpjl
	cmp0
	je l442
	jmp l444
l443:
	add $2,1
	pop $2
	jmp l441
l444:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l443
l442:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l446
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l445
l446:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l445:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l448
	push "L"
	call $1,strremove
	push 1
	pop $2
l448:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l450
	push "P"
	call $1,strremove
	push 1
	pop $3
l450:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l452
	push "H"
	call $1,strremove
	push 1
	pop $4
l452:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	push 0
	pop $5
	push " "
	call $1,contains
	cmp0
	je l454
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l454:
	localstring $6
	push 4
	call $1,strsube
	pop $6
	localstring $7
	push ".pyz"
	call $1,contains
	cmp0
	je l456
	push "an"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newanima
	jmp l455
l456:
	push "img"
	push $6
	pop $b
	popax
	add $a,$b
	pop $7
	push $7
	push $1
	push $5
	cthis newimg
l455:
	push $2
	cmp0
	je l458
	push $7
	spushs
	spop $a
	call [$a],anloopfin
l458:
	push $3
	cmp0
	je l460
	push $7
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l460:
	push $4
	cmp0
	je l462
	push $7
	spushs
	spop $a
	call [$a],hide
l462:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l463:
	push A
	push $2
	cmpjne
	cmp0
	je l464
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l463
l464:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localdef $2
	localdef $3
	push $1
	cthis _getflags
	popax
	pop $3
	pop $2
	pop $1
	localdef $4
	push 100
	pop $4
	push " "
	call $1,contains
	cmp0
	je l466
	push " "
	call $1,strgetfrom
	pop $4
	push " "
	call $1,strgetto
	pop $1
l466:
	localstring $5
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $5
	spushs
	push $4
	spop $a
	call [$a],setvol
	push $2
	cmp0
	je l468
	push $5
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l468:
	push $3
	cmp0
	je l470
	push $5
	spushs
	spop $a
	call [$a],play
l470:
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l472
	new TicksCounter,__timspeed
l472:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l474
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l474:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l475:
	push $2
	push $3
	cmpjle
	cmp0
	je l476
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l475
l476:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l477:
	push $6
	push $5
	cmpjl
	cmp0
	je l478
	jmp l480
l479:
	add $6,1
	pop $6
	jmp l477
l480:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l479
l478:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l481:
	push $7
	push $5
	cmpjl
	cmp0
	je l482
	jmp l484
l483:
	add $7,1
	pop $7
	jmp l481
l484:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l483
l482:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l485:
	push $7
	push $5
	cmpjl
	cmp0
	je l486
	jmp l488
l487:
	add $7,1
	pop $7
	jmp l485
l488:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l487
l486:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l489:
	push $3
	push $4
	cmpjl
	cmp0
	je l490
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l492
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l495
	push $12
	push "sfx"
	cmpje
	jmp l496
l494:
	push 0
	jmp l496
l495:
	push 1
l496:
	cmp0
	je l497
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l499
	push $14
	push $13
	cthis newsfx
	jmp l498
l499:
	push $14
	push $13
	cthis newsnd
l498:
	push $7
	push $6
	cmpjl
	cmp0
	je l501
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l503
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l502
l503:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l505
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l504
l505:
	push $12
	push "vol"
	cmpje
	cmp0
	je l507
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l507:
l504:
l502:
l501:
	jmp l493
l497:
	push $12
	push "group"
	cmpje
	cmp0
	je l509
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l511
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l513
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l513:
	jmp l510
l511:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l510:
	jmp l508
l509:
	push $12
	push "bank"
	cmpje
	cmp0
	je l515
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l517
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l519
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l518
l519:
	push $12
	push "vol"
	cmpje
	cmp0
	je l521
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l521:
l518:
l517:
	jmp l514
l515:
	push $12
	push "method"
	cmpje
	cmp0
	je l523
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l524:
	push $8
	push $9
	cmpjle
	cmp0
	je l525
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l524
l525:
	jmp l522
l523:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l527
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l526
l527:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l529
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l531
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l533
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l533:
l531:
	jmp l528
l529:
	push $12
	push "music"
	cmpje
	cmp0
	je l535
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l537
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l539
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l539:
l537:
l535:
l528:
l526:
l522:
l514:
l508:
l493:
l492:
	add $3,1
	pop $3
	jmp l489
l490:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l540:
	push $2
	push $3
	cmpjle
	cmp0
	je l541
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l543
	push $2
	ret
l543:
	add $2,1
	pop $2
	jmp l540
l541:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l545
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l545:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l546:
	push $14
	push $6
	cmpjl
	cmp0
	je l547
	jmp l549
l548:
	add $14,1
	pop $14
	jmp l546
l549:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l550:
	push $8
	push $7
	cmpjle
	cmp0
	je l551
	jmp l553
l552:
	add $8,1
	pop $8
	jmp l550
l553:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l555
	push $13
	pop $10
	jmp l554
l555:
	push $8
	push 2
	cmpje
	cmp0
	je l557
	push $13
	pop $11
	jmp l556
l557:
	push $8
	push 3
	cmpje
	cmp0
	je l559
	push $13
	pop $12
l559:
l556:
l554:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l552
l551:
	push $4
	push "null"
	cmpjne
	cmp0
	je l561
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l563
l561:
	push 0
	jmp l563
l562:
	push 1
l563:
	cmp0
	je l564
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l560
l564:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l560:
	jmp l548
l547:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l566
	push sfxmon
	spushs
	spop $a
	call [$a],play
l566:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l568
	ret
l568:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l569:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l570
	jmp l572
l571:
	add $5,1
	pop $5
	jmp l569
l572:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l571
l570:
	end method
	method print
	localint $1
	push 0
	pop $1
l573:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l574
	jmp l576
l575:
	add $1,1
	pop $1
	jmp l573
l576:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l575
l574:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l577:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l578
	jmp l580
l579:
	add $2,1
	pop $2
	jmp l577
l580:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l579
l578:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l581:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l582
	jmp l584
l583:
	add $3,1
	pop $3
	jmp l581
l584:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l583
l582:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l586
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l585
l586:
	push "null"
l585:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l587:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l588
	jmp l590
l589:
	add $2,1
	pop $2
	jmp l587
l590:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l589
l588:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l592
	push iilebut
	pop $2
l592:
	localint $3
	push 0
	pop $3
l593:
	push $3
	push $2
	cmpjl
	cmp0
	je l594
	jmp l596
l595:
	add $3,1
	pop $3
	jmp l593
l596:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l595
l594:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l598
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l597
l598:
	push "null"
l597:
	ret
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l600
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l600:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l602
	ret
l602:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l604
	push sfxmon
	spushs
	spop $a
	call [$a],play
l604:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l606
	push 0
	jmp l605
l606:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l605:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l608
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l610
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l610:
	push $10
	push 2
	cmpja
	cmp0
	je l612
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l612:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l607
l608:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l607:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l613:
	push $4
	push $3
	cmpjl
	cmp0
	je l614
	jmp l616
l615:
	add $4,1
	pop $4
	jmp l613
l616:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l615
l614:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l618
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l617
l618:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l617:
	push $4
	cmp0
	je l620
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l620:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l622
	push $1
	push "null"
	cmpje
	cmp0
	je l624
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l623
l624:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l623:
l622:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l626
	cthis get
	jmp l625
l626:
	push 0
	push $2
	cthis getb
l625:
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l627:
	push $4
	cthis length
	cmpjl
	cmp0
	je l628
	jmp l630
l629:
	add $4,1
	pop $4
	jmp l627
l630:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l633
	push $3
	push $2
	cmpja
	jmp l634
l632:
	push 0
	jmp l634
l633:
	push 1
l634:
	cmp0
	je l635
	push 0
	ret
l635:
	jmp l629
l628:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l636:
	push $3
	cthis length
	cmpjl
	cmp0
	je l637
	jmp l639
l638:
	add $3,1
	pop $3
	jmp l636
l639:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l638
l637:
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l641
	push 0
	jmp l640
l641:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l640:
	end method
	method between
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l643
	push $1
	jmp l642
l643:
	push $2
	push $3
	cmpja
	cmp0
	je l645
	push $3
	jmp l644
l645:
	push $2
l644:
l642:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l647
	push $1
	jmp l646
l647:
	push $2
l646:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l649
	push $1
	jmp l648
l649:
	push $2
l648:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l650:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l651
	cthis framename
	push $2
	cmpjne
	jmp l653
l651:
	push 0
	jmp l653
l652:
	push 1
l653:
	cmp0
	je l654
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l650
l654:
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localint $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l656
	new text,txts
	push $2
	call txts,setfont
l656:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l658
	call txts,hide
l658:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l659
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l659
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l659
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l661
l659:
	push 0
	jmp l661
l660:
	push 1
l661:
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l663
	localint $2
	push 0
	pop $2
l664:
	push $2
	push $1
	cmpjl
	cmp0
	je l665
	jmp l667
l666:
	add $2,1
	pop $2
	jmp l664
l667:
	push $2
	cthis add
	jmp l666
l665:
l663:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l668:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l669
	jmp l671
l670:
	add $2,1
	pop $2
	jmp l668
l671:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l670
l669:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l673
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l673:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l675
	sub $2,1
	pop $2
	jmp l674
l675:
	push $2
	push 0
	cmpje
	cmp0
	je l677
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l677:
l674:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l678
	push $1
	cthis size
	cmpjl
	jmp l680
l678:
	push 0
	jmp l680
l679:
	push 1
l680:
	cmp0
	je l682
	push $1
	cthis get
	jmp l681
l682:
	push "null"
l681:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l684
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l683
l684:
	push "null"
l683:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l685:
	cthis size
	push $1
	cmpja
	cmp0
	je l686
	cthis vecpop
	popax
	jmp l685
l686:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l688
	ret
l688:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l689:
	push $8
	push $1
	cmpjl
	cmp0
	je l690
	jmp l692
l691:
	add $8,1
	pop $8
	jmp l689
l692:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l693:
	push $9
	push $1
	cmpjl
	cmp0
	je l694
	jmp l696
l695:
	add $9,1
	pop $9
	jmp l693
l696:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l698
	push $6
	pop $5
	push $9
	pop $7
l698:
	jmp l695
l694:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l691
l690:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l699:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l700
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l699
l700:
	call $1,length
	push 0
	cmpja
	cmp0
	je l702
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l702:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l703:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l704
	push $4
	push 0
	cmpja
	cmp0
	je l706
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l706:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l703
l704:
	call $1,length
	push 0
	cmpja
	cmp0
	je l708
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l708:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l709:
	push $2
	push $1
	cmpjl
	cmp0
	je l710
	jmp l712
l711:
	add $2,1
	pop $2
	jmp l709
l712:
	push 0
	cthis removeat
	jmp l711
l710:
	end method
	method vecremovefrom
	localint $1
	pop $1
l713:
	push $1
	cthis size
	cmpjl
	cmp0
	je l714
	push $1
	cthis removeat
	jmp l713
l714:
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l717
	cthis size
	push 0
	cmpje
	jmp l718
l716:
	push 0
	jmp l718
l717:
	push 1
l718:
	cmp0
	je l719
	ret
l719:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l721
	localint $4
	push $1
	pop $4
l722:
	push $4
	push $2
	cmpja
	cmp0
	je l723
	jmp l725
l724:
	sub $4,1
	pop $4
	jmp l722
l725:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l724
l723:
	jmp l720
l721:
	push $1
	push $2
	cmpjl
	cmp0
	je l727
	localint $4
	push $1
	pop $4
l728:
	push $4
	push $2
	cmpjl
	cmp0
	je l729
	jmp l731
l730:
	add $4,1
	pop $4
	jmp l728
l731:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l730
l729:
l727:
l720:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l733
	push $2
	push 0
	cthis vecposfromto
	jmp l732
l733:
	push $1
	cthis addbegin
l732:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l735
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l734
l735:
	push $1
	cthis addbegin
l734:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l737
	push $3
	push $2
	cthis set
l737:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l739
	push 0
	ret
l739:
	localint $3
	push 0
	pop $3
l740:
	push $3
	push $2
	cmpjl
	cmp0
	je l741
	jmp l743
l742:
	add $3,1
	pop $3
	jmp l740
l743:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l745
	push 0
	ret
l745:
	jmp l742
l741:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	localint $3
	push 0
	pop $3
l746:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l747
	jmp l749
l748:
	add $3,1
	pop $3
	jmp l746
l749:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l748
l747:
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l751
	ret
l751:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l752:
	push $2
	push A
	cmpjne
	cmp0
	je l753
	jmp l755
l754:
	jmp l752
l755:
	push $4
	push 0
	cmpje
	cmp0
	je l757
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l757:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l759
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l758
l759:
	push 0
l758:
	pop $4
	jmp l754
l753:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l760:
	push $1
	push A
	cmpjne
	cmp0
	je l761
	push $1
	push "null"
	cmpje
	cmp0
	je l763
	cthis addbeginrow
	popax
	jmp l762
l763:
	push 0
	push $1
	cthis addbegin
l762:
	pop $1
	jmp l760
l761:
	end method
	method dbcopy
	localstring $1
	pop $1
	cthis free
	localint $2
	localint $3
	push 0
	pop $2
l764:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l765
	jmp l767
l766:
	add $2,1
	pop $2
	jmp l764
l767:
	cthis addrow
	popax
	push 0
	pop $3
l768:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l769
	jmp l771
l770:
	add $3,1
	pop $3
	jmp l768
l771:
	push $2
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l770
l769:
	jmp l766
l765:
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l773
l774:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l775
	cthis dbremovelast
	jmp l774
l775:
	jmp l772
l773:
	cthis free
l772:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l776:
	push A
	push $2
	cmpjne
	cmp0
	je l777
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l776
l777:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l779
	push $3
	push 0
	cmpjae
	jmp l781
l779:
	push 0
	jmp l781
l780:
	push 1
l781:
	cmp0
	je l782
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l783:
	push $3
	push $5
	cmpjl
	cmp0
	je l784
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l783
l784:
l782:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l786
	push $1
	push $2
	cthis get
	jmp l785
l786:
	push "null"
l785:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l787:
	push $2
	push 0
	cmpjae
	cmp0
	je l788
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l790
	push $2
	ret
l790:
	sub $2,1
	pop $2
	jmp l787
l788:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l792
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l792:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l794
	localint $3
	push 0
	pop $3
l795:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l796
	jmp l798
l797:
	add $3,1
	pop $3
	jmp l795
l798:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l800
	push $3
	ret
l800:
	jmp l797
l796:
l794:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l801:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l802
	jmp l804
l803:
	add $3,1
	pop $3
	jmp l801
l804:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l806
	push $3
	ret
l806:
	jmp l803
l802:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l807:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l808
	jmp l810
l809:
	add $2,1
	pop $2
	jmp l807
l810:
	localdef $3
	push 0
	pop $3
l811:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l812
	jmp l814
l813:
	add $3,1
	pop $3
	jmp l811
l814:
	push $2
	push $3
	push $1
	cthis set
	jmp l813
l812:
	jmp l809
l808:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l815:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l816
	jmp l818
l817:
	add $2,1
	pop $2
	jmp l815
l818:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l817
l816:
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l820
	push 1
	popax
	sub 0,$a
	ret
l820:
	localint $3
	call $1,rand
	pop $3
l821:
	push $3
	push $2
	cmpje
	cmp0
	je l822
	jmp l824
l823:
	call $1,rand
	pop $3
	jmp l821
l824:
	jmp l823
l822:
	push $3
	ret
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l825:
	push $4
	push 0
	cmpjae
	cmp0
	je l826
	jmp l828
l827:
	sub $4,1
	pop $4
	jmp l825
l828:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l830
	push $2
	popax
	add $3,$a
	pop $3
l830:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l827
l826:
	push $3
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l832
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l832:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l834
	ret
l834:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l836
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l838
	cthis onfinish
l838:
l836:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l840
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l839
l840:
	push 0
l839:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l842
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l841
l842:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l841:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l844
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l844:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	localstring $5
	call gameapi,getgamename
	pop $5
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l846
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l845
l846:
	push $5
	spushs
	push $1
	call $2,length
	push 40
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l845:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l847:
	push $3
	push A
	cmpjne
	cmp0
	je l848
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l850
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l850:
	pop $3
	jmp l847
l848:
	end method
	method exportbank
	localstring $1
	pop $1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l852
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l852:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l854
	push $1
	call _dbsnd,save
l854:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l855:
	push A
	push $3
	cmpjne
	cmp0
	je l856
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l858
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l860
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l859
l860:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l859:
l858:
	localdef $3
	pop $3
	jmp l855
l856:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l861:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l862
	jmp l864
l863:
	add $2,1
	pop $2
	jmp l861
l864:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l863
l862:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l865:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l866
	jmp l868
l867:
	add $7,1
	pop $7
	jmp l865
l868:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l871
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l872
l870:
	push 0
	jmp l872
l871:
	push 1
l872:
	cmp0
	je l873
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l875
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l875:
l873:
	jmp l867
l866:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l877
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l877:
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l879
	push $1
	call vqst,add
l879:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	new string,sstdfile
	push $1
	cthis setfile
	end method
	method save
	localstring $1
	pop $1
	push $1
	call dbsav,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l881
	push $1
	call dbsav,load
l881:
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l883
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l882
l883:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l882:
	cthis stdsave
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l885
	push $2
	push 1
	call dbsav,get
	jmp l884
l885:
	push "null"
l884:
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l887
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l886
l887:
	push 0
l886:
	ret
	end method
	method bis
	localstring $1
	pop $1
	push $1
	push 1
	cthis is
	ret
	end method
	end class

	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l889
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l888
l889:
	push $1
	push "no"
	cmpje
	cmp0
	je l891
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l891:
l888:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l893
	ret
l893:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l895
	push sfuncyes
	push "null"
	cmpjne
	jmp l897
l895:
	push 0
	jmp l897
l896:
	push 1
l897:
	cmp0
	je l898
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l894
l898:
	push $1
	push "no"
	cmpje
	cmp0
	je l900
	push sfuncno
	push "null"
	cmpjne
	jmp l902
l900:
	push 0
	jmp l902
l901:
	push 1
l902:
	cmp0
	je l903
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l903:
l894:
	end method
	method disabled
	call buts,disabled
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l905
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
l905:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l907
	push _ib2
	cthis _cfinito
	jmp l906
l907:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l909
	push _ib1
	cthis _cfinito
	jmp l908
l909:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l908:
l906:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $8
	call $2,abs
	pop $8
	push $1
	push 0
	cmpjle
	cmp0
	jne l912
	push $8
	push $5
	cmpje
	cmp0
	jne l912
	push $8
	push $6
	cmpja
	jmp l913
l911:
	push 0
	jmp l913
l912:
	push 1
l913:
	cmp0
	je l914
	ret
l914:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l916
	push _ib1
	pop _ival
	jmp l915
l916:
	push $2
	push 0
	cmpjl
	cmp0
	je l918
	push _ib2
	pop _ival
	jmp l917
l918:
	ret
l917:
l915:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push $4
	cthis _play
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l919:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l920
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l919
l920:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l922
	push $1
	popax
	add $7,$a
	pop $7
l922:
	push $5
	cmp0
	je l924
	push $4
	cmp0
	je l926
	push ":"
	jmp l925
l926:
	push ""
l925:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l924:
	push $6
	cmp0
	je l928
	push $4
	cmp0
	jne l930
	push $5
	jmp l931
l929:
	push 0
	jmp l931
l930:
	push 1
l931:
	cmp0
	je l933
	push ":"
	jmp l932
l933:
	push ""
l932:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l928:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l934:
	push $1
	push 0
	cmpja
	cmp0
	je l935
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l934
l935:
	push $2
	ret
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l937
	push sgmfontfile
	pop $1
l937:
	push ".ttf"
	call $1,contains
	cmp0
	je l939
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l939:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	new int,itime
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	push 1
	cthis update
	cthis play
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method reset
	push itime
	popax
	sub 0,$a
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	clparent SecCounter,init
	cthis reset
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l941
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l940
l941:
	push w
	push h
	cthis get
	call _img1,create
l940:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l943
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l942
l943:
	push $1
	push 0
	call _img2,move
l942:
	push $2
	push 0
	cmpjl
	cmp0
	je l945
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l944
l945:
	push 0
	push $2
	call _img2,move
l944:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l947
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l946
l947:
	push w
	push h
	cthis get
	call _img,create
l946:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l949
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l951
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l951:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l953
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l953:
	jmp l948
l949:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l955
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l955:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l957
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l957:
l948:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l959
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l959:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l961
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l961:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l962:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l963
	jmp l965
l964:
	add $2,1
	pop $2
	jmp l962
l965:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l964
l963:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l966:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l967
	jmp l969
l968:
	add $2,1
	pop $2
	jmp l966
l969:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l968
l967:
	end method
	end class

	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l971
	ret
l971:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l973
	call txt2,hide
	jmp l972
l973:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l972:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt1,setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l975
	push $1
	jmp l974
l975:
	push ""
l974:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l977
	ret
l977:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l979
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	ret
l979:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l981
	push "tab"
	call keyboard,iskey
	jmp l983
l981:
	push 0
	jmp l983
l982:
	push 1
l983:
	cmp0
	je l984
	push " "
	pop $1
	jmp l980
l984:
	call keyboard,getkey
	pop $1
l980:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l986
	push "a"
	call sChars,contains
	jmp l988
l986:
	push 0
	jmp l988
l987:
	push 1
l988:
	cmp0
	jne l990
	call keyboard,isdigit
	cmp0
	je l991
	push "0"
	call sChars,contains
	jmp l993
l991:
	push 0
	jmp l993
l992:
	push 1
l993:
	cmp0
	jne l990
	push $1
	call sChars,contains
	jmp l994
l989:
	push 0
	jmp l994
l990:
	push 1
l994:
	cmp0
	je l995
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l998
	push iLimit
	call $2,length
	cmpja
	jmp l999
l997:
	push 0
	jmp l999
l998:
	push 1
l999:
	jmp l1000
l995:
	push 0
	jmp l1000
l996:
	push 1
l1000:
	cmp0
	je l1001
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	cthis updatecyk
	jmp l985
l1001:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1003
	call $2,length
	push 0
	cmpja
	jmp l1005
l1003:
	push 0
	jmp l1005
l1004:
	push 1
l1005:
	cmp0
	je l1006
	push 1
	call $2,strsube
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	cthis updatecyk
l1006:
l985:
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	class TextBoxTyper
	parent LObjController
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push "Rows"
	cthis vars
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop Cols
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop Rows
	new def,Row
	push 0
	pop Row
	new def,X
	push $8
	pop X
	new def,Y
	push $9
	pop Y
	new def,W
	push $10
	pop W
	new def,H
	push $11
	pop H
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1007:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1008
	jmp l1010
l1009:
	add $14,1
	pop $14
	jmp l1007
l1010:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1009
l1008:
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	call grtt,show
	end method
	method hide
	call grtt,hide
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1011:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1012
	jmp l1014
l1013:
	add $4,1
	pop $4
	jmp l1011
l1014:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1013
l1012:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1016
	push $1
	push Rows
	cmpjl
	jmp l1018
l1016:
	push 0
	jmp l1018
l1017:
	push 1
l1018:
	cmp0
	je l1019
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
l1019:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1021
	ret
l1021:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1023
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1025
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1026:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1027
	jmp l1029
l1028:
	sub $2,1
	pop $2
	jmp l1026
l1029:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1028
l1027:
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1025:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1022
l1023:
	push "up"
	call keyboard,iskey
	cmp0
	je l1031
	push Row
	push 0
	cmpja
	jmp l1033
l1031:
	push 0
	jmp l1033
l1032:
	push 1
l1033:
	cmp0
	je l1034
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1030
l1034:
	push "down"
	call keyboard,iskey
	cmp0
	je l1036
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1038
l1036:
	push 0
	jmp l1038
l1037:
	push 1
l1038:
	cmp0
	je l1039
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1035
l1039:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1041
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1043
l1041:
	push 0
	jmp l1043
l1042:
	push 1
l1043:
	cmp0
	je l1044
	localdef $2
	push Row
	pop $2
l1045:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1046
	jmp l1048
l1047:
	add $2,1
	pop $2
	jmp l1045
l1048:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1047
l1046:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1040
l1044:
	push "onkeydown"
	call grtt,eval
l1040:
l1035:
l1030:
l1022:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1050
	ret
l1050:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	cmp0
	je l1052
	cthis deactivate
	push $2
	push Y
	pop $b
	popax
	sub $a,$b
	push Rows
	pop $b
	popax
	mul $a,$b
	push H
	pop $b
	popax
	div $a,$b
	psax
	cthis activate
	jmp l1051
l1052:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1051:
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push $1
	pop $3
l1053:
	push $3
	call grtt,size
	cmpjl
	cmp0
	je l1054
	jmp l1056
l1055:
	add $3,1
	pop $3
	jmp l1053
l1056:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	popax
	add $2,$a
	pop $2
	jmp l1055
l1054:
	push $2
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1057:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l1058
	jmp l1060
l1059:
	add $1,1
	pop $1
	jmp l1057
l1060:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l1062
	push $1
	ret
l1062:
	jmp l1059
l1058:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l1064
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l1064:
	end method
	method settext
	localint $1
	pop $1
l1065:
	push $1
	push 0
	cmpja
	cmp0
	je l1066
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l1065
l1066:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push 1
	pop bstart
	push igmipad
	cmp0
	je l1068
	push 1
	pop bonrel
	jmp l1067
l1068:
	call timwez,play
	push 0
	pop bonrel
l1067:
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1069
	push bonrel
	neg
	jmp l1071
l1069:
	push 0
	jmp l1071
l1070:
	push 1
l1071:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1072
	push bonrel
	jmp l1074
l1072:
	push 0
	jmp l1074
l1073:
	push 1
l1074:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1076
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1076:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1078
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1078:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	ret
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	ret
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1080
	ret
l1080:
	call cldt,isonclick
	cmp0
	je l1082
	cthis _put
	jmp l1081
l1082:
	call cldt,istaken
	neg
	cmp0
	je l1084
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1084:
l1081:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1086
	ret
l1086:
	call cldt,isonrel
	cmp0
	je l1088
	cthis _put
l1088:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push 800
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push 600
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push 800
	push 600
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1091
	push sorientation
	push "down"
	cmpje
	jmp l1092
l1090:
	push 0
	jmp l1092
l1091:
	push 1
l1092:
	cmp0
	je l1093
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1089
l1093:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1089:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1095
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1095:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1097
	call clmv,msftmove
	jmp l1096
l1097:
	call clmv,msmove
l1096:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1100
	push sorientation
	push "down"
	cmpje
	jmp l1101
l1099:
	push 0
	jmp l1101
l1100:
	push 1
l1101:
	cmp0
	je l1102
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1098
l1102:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1098:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1105
	push sorientation
	push "down"
	cmpje
	jmp l1106
l1104:
	push 0
	jmp l1106
l1105:
	push 1
l1106:
	cmp0
	je l1107
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1109
	push 0
	push 600
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push 0
	push 600
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1108
l1109:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call andownact,setpos
	push 0
	pop $7
l1108:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1103
l1107:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1111
	push 800
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupstd,setpos
	push 800
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call anupact,setpos
	push 800
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 800
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1110
l1111:
	push 0
	push 0
	call anupstd,setpos
	push 0
	push 0
	call anupact,setpos
	push 0
	push 600
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push 0
	push 600
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push 0
	pop $8
l1110:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1103:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1112:
	push $13
	push $11
	cmpjl
	cmp0
	je l1113
	jmp l1115
l1114:
	add $13,1
	pop $13
	jmp l1112
l1115:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1117
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1116
l1117:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1119
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1118
l1119:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1121
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1120
l1121:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1123
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1123:
l1120:
l1118:
l1116:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1114
l1113:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1125
	push bvertical
	push 0
	cmpje
	cmp0
	je l1127
	push "left"
	pop _sdir
	jmp l1126
l1127:
	push "up"
	pop _sdir
l1126:
	jmp l1124
l1125:
	push $2
	push "down"
	cmpje
	cmp0
	je l1129
	push bvertical
	push 0
	cmpje
	cmp0
	je l1131
	push "right"
	pop _sdir
	jmp l1130
l1131:
	push "down"
	pop _sdir
l1130:
l1129:
l1124:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1133
	ret
l1133:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1135
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1137
l1135:
	push 0
	jmp l1137
l1136:
	push 1
l1137:
	cmp0
	je l1138
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1140
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1142
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1142:
	jmp l1139
l1140:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1144
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1146
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1146:
	jmp l1143
l1144:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1148
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1150
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1150:
	jmp l1147
l1148:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1152
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1154
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1154:
l1152:
l1147:
l1143:
l1139:
l1138:
	push $1
	cmp0
	je l1156
	call fxrew,isplaying
	neg
	cmp0
	je l1158
	call fxrew,play
l1158:
	jmp l1155
l1156:
	push 0
	call fxrew,stop
l1155:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1160
	ret
l1160:
	call cldt,isonrel
	cmp0
	je l1162
	cthis _put
l1162:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1164
	ret
l1164:
	call cldt,isonclick
	cmp0
	je l1166
	cthis _put
	jmp l1165
l1166:
	call cldt,istaken
	neg
	cmp0
	je l1168
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1168:
l1165:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push "sobject"
	push "null"
	cthis var2
	new int,ipadclick
	push 0
	pop ipadclick
	push "bcheck2klik"
	push 0
	cthis var2
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1170
	push $1
	call grbuts,removegr
l1170:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1172
	ret
l1172:
	push igmipad
	cmp0
	je l1174
	push bcheck2klik
	jmp l1176
l1174:
	push 0
	jmp l1176
l1175:
	push 1
l1176:
	cmp0
	je l1177
	push ipadclick
	cmp0
	je l1179
	localdef $1
	push sobject
	pop $1
	push $1
	push sobject
	cmpje
	cmp0
	je l1181
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l1180
l1181:
	push sobject
	push "null"
	cmpje
	cmp0
	je l1183
	push 0
	pop ipadclick
l1183:
l1180:
	jmp l1178
l1179:
	push 1
	pop ipadclick
l1178:
	jmp l1173
l1177:
	cthis _butmouselclick
l1173:
	end method
	method _butmouselclick
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1185
	push sobject
	spushs
	spop $a
	call [$a],butclick
l1185:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1187
	ret
l1187:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l1189
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l1191
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l1191:
	jmp l1188
l1189:
	cthis lastoff
l1188:
	end method
	method lastoff
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1193
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
	push "null"
	pop sobject
	push igmipad
	cmp0
	je l1195
	push bcheck2klik
	jmp l1197
l1195:
	push 0
	jmp l1197
l1196:
	push 1
l1197:
	cmp0
	je l1198
	push 0
	pop ipadclick
l1198:
l1193:
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global4"
	cthis addmethod
	end method
	method global4
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global5"
	cthis addmethod
	end method
	method global5
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global6"
	cthis addmethod
	end method
	method global6
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1200
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1200:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global7"
	cthis addmethod
	end method
	method global7
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	new int,ipadclick
	push 0
	pop ipadclick
	push "bcheck2klik"
	push 0
	cthis var2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1202
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1201
l1202:
	push 0
l1201:
	end method
	method _release
	push igmipad
	cmp0
	je l1204
	push 0
	pop ipadclick
l1204:
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call bsms,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1206
	ret
l1206:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1208
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1208:
	push $1
	cmp0
	je l1210
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1212
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1214
	cthis _release
l1214:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call bsms,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1212:
	jmp l1209
l1210:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1216
	cthis _release
l1216:
l1209:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1218
	ret
l1218:
	push igmipad
	cmp0
	je l1220
	push bcheck2klik
	jmp l1222
l1220:
	push 0
	jmp l1222
l1221:
	push 1
l1222:
	cmp0
	je l1223
	push ipadclick
	cmp0
	je l1225
	localdef $1
	push slastb
	pop $1
	cthis onmousemove
	push $1
	push slastb
	cmpje
	cmp0
	je l1227
	push 0
	pop ipadclick
	cthis _butmouselclick
	jmp l1226
l1227:
	push slastb
	push "null"
	cmpje
	cmp0
	je l1229
	push 0
	pop ipadclick
l1229:
l1226:
	jmp l1224
l1225:
	push 1
	pop ipadclick
	cthis onmousemove
l1224:
	jmp l1219
l1223:
	cthis _butmouselclick
l1219:
	end method
	method _butmouselclick
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1231
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1231:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1233
	call bsms,setstd
	push "null"
	pop slastb
l1233:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iFontSize
	push $2
	pop iFontSize
	push ".db"
	call $3,contains
	cmp0
	je l1235
	push "dbtxt"
	push $3
	cthis newdb
	jmp l1234
l1235:
	new db,dbtxt
	push 0
	push 5
	call $3,getb
	push "$var:"
	cmpje
	cmp0
	je l1237
	push 5
	call $3,strsubb
	call dbtxt,dbcopy
	jmp l1236
l1237:
	push $3
	call dbtxt,dbaddlast
l1236:
l1234:
	localstring $12
	localint $13
	push 0
	pop $13
	localint $14
	call dbtxt,getrowsno
	pop $14
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	localint $15
	push 0
	pop $15
l1238:
	push $15
	push $14
	cmpjl
	cmp0
	je l1239
	jmp l1241
l1240:
	add $15,1
	pop $15
	jmp l1238
l1241:
	push "txt"
	push $15
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $15
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $13
	cmpja
	cmp0
	je l1243
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $13
l1243:
	push $12
	call grtxt,add
	jmp l1240
l1239:
	push $11
	push "right"
	cmpje
	cmp0
	jne l1246
	push $11
	push "center"
	cmpje
	jmp l1247
l1245:
	push 0
	jmp l1247
l1246:
	push 1
l1247:
	cmp0
	je l1248
	push 0
	pop $15
l1249:
	push $15
	push $14
	cmpjl
	cmp0
	je l1250
	jmp l1252
l1251:
	add $15,1
	pop $15
	jmp l1249
l1252:
	push "txt"
	push $15
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l1254
	push $12
	spushs
	push $13
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l1253
l1254:
	push $12
	spushs
	push $13
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l1253:
	jmp l1251
l1250:
l1248:
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l1255:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1256
	jmp l1258
l1257:
	add $8,1
	pop $8
	jmp l1255
l1258:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l1257
l1256:
	end method
	method setz
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l1259:
	push $2
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1260
	jmp l1262
l1261:
	add $2,1
	pop $2
	jmp l1259
l1262:
	push "txt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setz
	push "txts"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l1261
l1260:
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l1263:
	push A
	push $1
	cmpjne
	cmp0
	je l1264
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l1266
	push $2
	spushs
	spop $a
	call [$a],show
l1266:
	localdef $1
	pop $1
	jmp l1263
l1264:
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l1267:
	push $3
	cthis length
	cmpjl
	cmp0
	je l1268
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l1270
	push $4
	push $2
	cmpjle
	jmp l1272
l1270:
	push 0
	jmp l1272
l1271:
	push 1
l1272:
	cmp0
	je l1273
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l1269
l1273:
	cthis length
	pop $3
l1269:
	jmp l1267
l1268:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l1274:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1275
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1277
	push $2
	push BYTE9
	cmpjle
	jmp l1279
l1277:
	push 0
	jmp l1279
l1278:
	push 1
l1279:
	cmp0
	jne l1281
	push $2
	push dot
	cmpje
	cmp0
	je l1282
	push $3
	jmp l1284
l1282:
	push 0
	jmp l1284
l1283:
	push 1
l1284:
	jmp l1285
l1280:
	push 0
	jmp l1285
l1281:
	push 1
l1285:
	cmp0
	je l1286
	push $2
	push dot
	cmpje
	cmp0
	je l1288
	push 0
	pop $3
l1288:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1276
l1286:
	cthis length
	pop $1
l1276:
	jmp l1274
l1275:
	push $3
	cmp0
	jne l1291
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l1291
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l1292
l1290:
	push 0
	jmp l1292
l1291:
	push 1
l1292:
	cmp0
	je l1293
	push ""
	pop found
l1293:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l1294:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1295
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l1297
	push $2
	push BYTEz
	cmpjle
	jmp l1299
l1297:
	push 0
	jmp l1299
l1298:
	push 1
l1299:
	cmp0
	jne l1301
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l1302
	push $2
	push BYTEZ
	cmpjle
	jmp l1304
l1302:
	push 0
	jmp l1304
l1303:
	push 1
l1304:
	cmp0
	jne l1301
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l1301
	push $1
	push id
	cmpja
	cmp0
	je l1305
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1305
	push $2
	push BYTE9
	cmpjle
	jmp l1307
l1305:
	push 0
	jmp l1307
l1306:
	push 1
l1307:
	jmp l1308
l1300:
	push 0
	jmp l1308
l1301:
	push 1
l1308:
	cmp0
	je l1309
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1296
l1309:
	cthis length
	pop $1
l1296:
	jmp l1294
l1295:
	call found,length
	end method
	method isliteral
	cthis check
	push "\""
	cmpjne
	cmp0
	je l1311
	push 0
	ret
l1311:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l1312:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1313
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	push "\""
	cmpje
	cmp0
	je l1315
	push 1
	ret
	jmp l1314
l1315:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l1314:
	jmp l1312
l1313:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l1316:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l1317
	jmp l1319
l1318:
	add $3,1
	pop $3
	jmp l1316
l1319:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l1321
	push $1
	push found
	cmpje
	cmp0
	je l1323
	push 1
	ret
l1323:
	jmp l1320
l1321:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l1325
	push 1
	ret
l1325:
l1320:
	jmp l1318
l1317:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l1326:
	cthis notend
	cmp0
	je l1327
	cthis check
	push " "
	cmpje
	cmp0
	je l1329
	add id,1
	pop id
	jmp l1328
l1329:
	cthis isconst
	cmp0
	je l1331
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l1330
l1331:
	cthis isreal
	cmp0
	je l1333
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1335
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1335:
	jmp l1332
l1333:
	cthis isint
	cmp0
	je l1337
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1339
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1339:
	jmp l1336
l1337:
	cthis isident
	cmp0
	je l1341
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1343
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1343:
	jmp l1340
l1341:
	cthis isliteral
	cmp0
	je l1345
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l1347
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1347:
	jmp l1344
l1345:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l1344:
l1340:
l1336:
l1332:
l1330:
l1328:
	jmp l1326
l1327:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l1348:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1349
	jmp l1351
l1350:
	add $5,1
	pop $5
	jmp l1348
l1351:
	call vtmp2,free
	push 0
	pop $3
l1352:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1353
	jmp l1355
l1354:
	add $3,1
	pop $3
	jmp l1352
l1355:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l1357
	push $4
	call vtmp2,add
l1357:
	jmp l1354
l1353:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l1359
	push $5
	ret
l1359:
	jmp l1350
l1349:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l1361
	push "null"
	ret
l1361:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l1363
	push "null"
	ret
l1363:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l1364:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l1365
	jmp l1367
l1366:
	add $1,1
	pop $1
	jmp l1364
l1367:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l1366
l1365:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1369
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l1369:
	end method
	end class

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l1371
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l1372:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l1373
	jmp l1375
l1374:
	add $4,1
	pop $4
	jmp l1372
l1375:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l1374
l1373:
l1371:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l1377
	push "sndintro"
	cthis cbplay
l1377:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l1379
	call sndintro,isplaying
	jmp l1381
l1379:
	push 0
	jmp l1381
l1380:
	push 1
l1381:
	cmp0
	je l1382
	ret
l1382:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l1384
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l1384:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	method init
	end method
	method tinit
	localstring $1
	pop $1
	push $1
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l1386
	call sndintro,isplaying
	jmp l1388
l1386:
	push 0
	jmp l1388
l1387:
	push 1
l1388:
	neg
	cmp0
	je l1389
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l1391
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbselfplay
l1391:
l1389:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l1393
	push $1
	clparent GameController,init
l1393:
	cthis unlock
	push $2
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l1395
	push "anbkg"
	push $3
	push 0
	cthis newanima
l1395:
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $8
	localint $9
	push $7
	spushs
	push "ru"
	cmpst
	jne l1397
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getpy
	pop $9
	jmp l1396
l1397:
	push "rd"
	cmpst
	jne l1398
	spop $a
	call anbrush2,getex
	pop $8
	call anbrush2,getey
	pop $9
	jmp l1396
l1398:
	push "ld"
	cmpst
	jne l1399
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getey
	pop $9
	jmp l1396
l1399:
	push "pad"
	cmpst
	jne l1400
	spop $a
	call anbrush1,getpx
	call anbrush1,getw
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $8
	call anbrush1,getey
	call anbrush1,geth
	push 3
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $9
	jmp l1396
l1400:
	spop $a
	call anbrush2,getpx
	pop $8
	call anbrush2,getpy
	pop $9
l1396:
	push $8
	push $9
	call anbrush1,saverelpos
	push $8
	push $9
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l1401:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l1402
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l1404
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l1404:
	jmp l1401
l1402:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	new int,bmovepad
	push 0
	pop bmovepad
	new int,ipadmover
	push 0
	pop ipadmover
	clparent TPainter,mouse_move
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method mouse_move
	push bmovepad
	cmp0
	je l1406
	push 1
	pop ipadmover
l1406:
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method mouse_lrel
	push ipadmover
	cmp0
	je l1408
	push 0
	pop bmovepad
	push 0
	pop ipadmover
	cthis mouse_lclick
l1408:
	end method
	method mouse_lclick
	cthis getlock
	neg
	cmp0
	je l1410
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l1412
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l1411
l1412:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l1414
	localint $3
	localint $4
	localint $5
	localint $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	push 1
	pop bmovepad
	cthis onsetbrush
l1414:
l1411:
l1410:
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	class TRoznice
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	cthis unlock
	push $1
	cthis setgraphpath
	push $2
	push "null"
	cmpjne
	cmp0
	je l1416
	push "anbkg"
	push $2
	push 0
	cthis newanima
l1416:
	push "anbg1"
	push $3
	push 10
	cthis newanima
	push "anbg1"
	push "anbg2"
	cthis copyanima
	new gmimgvec,gr1
	push "gr1"
	push $4
	popax
	pop $b
	psax
	call [$b],operator*
	new gmimgvec,gr2
	localint $5
	localstring $6
	localstring $7
	localint $8
	push 0
	pop $8
l1417:
	push $8
	call gr1,size
	cmpjl
	cmp0
	je l1418
	jmp l1420
l1419:
	add $8,1
	pop $8
	jmp l1417
l1420:
	push 2
	spushs
	spop $h
	call $h,rand
	pop $5
	push $8
	call gr1,get
	pop $6
	push $6
	spushs
	push $8
	push $5
	spop $a
	call [$a],setframe
	push "anel2_"
	push $8
	pop $b
	popax
	add $a,$b
	pop $7
	push $6
	push $7
	cthis copyanima
	push $7
	spushs
	push $8
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	spop $a
	call [$a],setframe
	push $7
	call gr2,add
	jmp l1419
l1418:
	new gmimgvec,gral
	push "gral"
	push "gr1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "gr2"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anbg1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anbg2"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	call anbg1,getpx
	popax
	sub 0,$a
	call anbg1,getpy
	popax
	sub 0,$a
	call gral,move
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call anbg1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 10
	call gral,move
	push A
	push "anbg2"
	push "gr2"
	push "TRoznice0"
	cthis with
	push A
	push "gr1"
	push "gr2"
	push "TRoznice1"
	cthis with
	end method
	method TRoznice0
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	cthis move
	end method
	method TRoznice1
	push 20
	cthis setz
	end method
	method tremove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	spushs
	push $2
	push $3
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1422
	push $4
	spushs
	spop $a
	call [$a],getsfound
	spushs
	spop $a
	call [$a],TRoznice2
	localint $5
	push $4
	spushs
	spop $a
	call [$a],getfound
	pop $5
	push $4
	spushs
	push $5
	spop $a
	call [$a],removeat
	push "gr"
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spop $a
	call [$a],removeat
	call gr1,empty
	cmp0
	je l1424
	cthis tfinish
	jmp l1423
l1424:
	cthis tpoint
l1423:
	push 1
	jmp l1421
l1422:
	push 0
l1421:
	end method
	method TRoznice2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method remained
	call gr1,size
	end method
	method mouse_lclick
	cthis getlock
	neg
	cmp0
	je l1426
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push 1
	push $1
	push $2
	cthis tremove
	neg
	cmp0
	je l1428
	push 2
	push $1
	push $2
	cthis tremove
	popax
l1428:
l1426:
	cthis tclick
	end method
	method tclick
	end method
	method tpoint
	end method
	method tfinish
	end method
	end class

	module advmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "std"
	cthis set
	end method
	method setact
	push "act"
	cthis set
	end method
	method setbut
	push "but"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	new int,iMusic
	push 1
	pop iMusic
	new int,iNutka
	push 1
	pop iNutka
	new string,sAskerGame
	class Dzieje
	parent classadv
	parent GameController
	method init
	localstring $1
	pop $1
	push 0
	pop igmstate
	clparent classadv,init
	push $1
	clparent GameController,init
	push $1
	cthis path=
	push SNDPATH
	cthis setwavpath
	push A
	push "pop 50"
	push "pik1"
	cthis sfxs=
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	call advmouse,setstd
	push igmdemo
	cmp0
	je l1430
	new anima,anpieczatka
	call anpieczatka,Dzieje0
l1430:
	end method
	method Dzieje0
	push "scripts/common/pieczatka.pyz"
	cthis load
	push 200
	cthis setz
	cthis hide
	end method
	method cshowbut
	localdef $1
	pop $1
	push "getcx"
	call cbok,getimgfunc
	push "getcy"
	call cbok,getimgfunc
	push $1
	call clp,show
	end method
	method napisshow
	localint $1
	localint $2
	pop $2
	pop $1
	cthis show
	push $1
	push $2
	cthis move
	end method
	method napispod
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 5
	pop $b
	popax
	add $a,$b
	cthis napisshow
	end method
	method crect
	push 600
	push 196
	push 403
	push 497
	new Rect,rec
	end method
	method crect2
	push 6
	push 174
	push 1012
	push 530
	new Rect,rec2
	end method
	method inpiecz
	localint $1
	localint $2
	pop $2
	pop $1
	push igmdemo
	cmp0
	je l1432
	push $1
	push $2
	call anpieczatka,setpos
	call anpieczatka,show
l1432:
	end method
	method askfor
	localdef $1
	pop $1
	push igmstate
	push 111
	cmpjne
	cmp0
	je l1434
	push $1
	pop sAskerGame
	call claskexit,askexittomenu
l1434:
	end method
	method outpiecz
	push igmdemo
	cmp0
	je l1436
	call anpieczatka,hide
l1436:
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method advclick
	push igmdebug
	cmp0
	je l1438
	push igmstate
	push 0
	cmpje
	cmp0
	jne l1441
	push igmstate
	push 5
	cmpje
	jmp l1442
l1440:
	push 0
	jmp l1442
l1441:
	push 1
l1442:
	jmp l1443
l1438:
	push 0
	jmp l1443
l1439:
	push 1
l1443:
	cmp0
	je l1444
	push 1
	cthis cactsndstop
l1444:
	end method
	method keyrestart
	end method
	method keydown
	push igmdebug
	push 0
	cmpje
	cmp0
	je l1446
	ret
l1446:
	push "p"
	call keyboard,iskey
	cmp0
	je l1448
	call clpause,pause
	jmp l1447
l1448:
	push "escape"
	call keyboard,iskey
	cmp0
	je l1450
	call claskexit,askexittomenu
	jmp l1449
l1450:
l1449:
l1447:
	end method
	method key_down
	push igmdebug
	cmp0
	je l1452
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l1452
	push "r"
	call keyboard,iskey
	jmp l1454
l1452:
	push 0
	jmp l1454
l1453:
	push 1
l1454:
	cmp0
	je l1455
	cthis crestart
l1455:
	end method
	end class

	class Epoka
	parent Dzieje
	method init
	localstring $1
	pop $1
	push $1
	clparent Dzieje,init
	new int,bStartPlay
	push A
	push "prehistoria"
	push "Prehistoria"
	push "egipt"
	push "EpokaEg"
	push "daleki"
	push "EpokaCh"
	push "europa"
	push "EpokaSr"
	push "afryka"
	push "EpokaAf"
	push "ameryka"
	push "EpokaAm"
	push "grecja"
	push "EpokaGr"
	push "rzym"
	push "EpokaRz"
	push "grgry"
	cthis list=
	push A
	push "Prehistoria"
	push "bgrlas"
	push "Sredniowiecze"
	push "bgrlas"
	push "lmusic"
	cthis list=
	cthis loadlekcja
	push "sndmusic"
	push GAME
	call lmusic,find
	push 1
	pop $b
	popax
	add $a,$b
	call lmusic,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newbgrloop
	push iMusic
	cmp0
	je l1457
	push 40
	call sndmusic,setvol
	call sndmusic,play
	push 40
	call sndmusic,setvol
	jmp l1456
l1457:
	push 0
	call sndmusic,stop
l1456:
	push iNutka
	neg
	cmp0
	je l1459
	call clmusic,reset
l1459:
	end method
	method blitwpodklad
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	cthis getname
	call imgpodklad,blit
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method loadlekcja
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	push 12
	push 185
	push 500
	push 690
	pop Y2
	pop X2
	pop Y1
	pop X1
	localdef $1
	cthis getgraphpath
	pop $1
	push "plansza"
	cthis path=
	push A
	push "podklad.png"
	cthis imgs=
	new gmimgvec,grramka
	push "grramka"
	push "ramka.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 50
	call grramka,setz
	new gmimgvec,grepoki
	push "grepoki"
	push "epoki"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push "Epoka0"
	call grepoki,each
	push "blitwpodklad"
	call grepoki,eval
	new gmimgvec,grprzyc
	push "grprzyc"
	push "przyciski.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 100
	call grprzyc,setz
	push "Epoka3"
	call grprzyc,each
	push "help"
	call grprzyc,remove
	push $1
	cthis setgraphpath
	push A
	push "mapa.pyz 10"
	cthis imgs=
	push "antytul"
	push "tytul"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	push "antytul"
	call imgpodklad,blit
	call antytul,hide
	push X1
	push Y1
	push X2
	push Y2
	call anmapa,clip
	new gmimgvec,grludki
	push "grludki"
	push "ludki.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push "blitwpodklad"
	call grludki,eval
	push 60
	call grludki,setz
	push "Epoka6"
	call grludki,each
	new gmimgvec,grobs
	push "grobs"
	push "obiekty.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	new anima,anmovon
	call anmovon,Epoka7
	push "Epoka9"
	call grobs,each
	new gmimgvec,grmap
	push A
	push "anmapa"
	push "grobs"
	call grmap,addlist
	push X1
	push X2
	pop $b
	popax
	add $a,$b
	call anmapa,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push Y1
	push Y2
	pop $b
	popax
	add $a,$b
	call anmapa,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call grmap,move
	new anima,anbutmusic
	call anbutmusic,Epoka10
	new anima,anbutnutka
	call anbutnutka,Epoka13
	new int,iPlayMode
	push 1
	pop iPlayMode
	new anima,anbutplay
	call anbutplay,Epoka16
	push "timplaymod"
	push 1000
	push "Epoka19"
	cthis timer=
	push A
	push "actobraz"
	push "null"
	push "acthaslo"
	push 0
	call timplaymod,vars2
	new int,bZoom
	push 0
	pop bZoom
	new anima,anbutzoom
	call anbutzoom,Epoka20
	new anima,anzoomer
	call anzoomer,hide
	new int,iilesfx
	push 0
	pop iilesfx
	new gmobjvec,sfxbg
	push "snd"
	push "sfxbg"
	push 10
	call sfxbg,buildarray
	push "Epoka23"
	call sfxbg,each
	new db,dbob
	cthis getgraphpath
	push "obiekty"
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	push ".beh"
	pop $b
	popax
	add $a,$b
	call dbob,loadbeh
	push "-say"
	cthis adddzwieki
	push "-say2"
	cthis adddzwieki
	push "-say3"
	cthis adddzwieki
	cthis stdexportsnd
	new int,iFontSize
	push 25
	pop iFontSize
	new def,sfntopis
	push "configs/fonts/normal.ttf"
	push iFontSize
	cthis snewfont
	pop sfntopis
	new def,sfntopis2
	push "configs/fonts/normal.ttf"
	push iFontSize
	push 4
	pop $b
	popax
	add $a,$b
	cthis snewfont
	pop sfntopis2
	new text,txtobrazki
	push sfntopis
	call txtobrazki,setfont
	new img,imgpodile
	push 22
	push 25
	push 217
	push 1
	push 1
	push 255
	call imgpodile,create
	call imgpodile,hide
	push "grtxtile"
	push "text"
	push "txtileo"
	push 16
	cthis newimgarray
	push "Epoka24"
	call grtxtile,each
	new anima,anobrazek
	call anobrazek,Epoka29
	new int,idacthaslo
	new int,iileobrazow
	new string,sactobraz
	push "null"
	pop sactobraz
	new gmimgvec,grobrazki
	call grobrazki,Epoka31
	new gmimgvec,_grbuts
	push A
	push "grobs"
	push "grludki"
	push "grepoki"
	push "grprzyc"
	push "grtxtile"
	call _grbuts,addgroups
	push A
	push "anbutmusic"
	push "anbutzoom"
	push "anbutnutka"
	push "anbutplay"
	call _grbuts,addlist
	call _grbuts,sortimgs
	new def,_slastlek
	push "null"
	pop _slastlek
	new def,sclickedlek
	push "null"
	pop sclickedlek
	new def,_itoler
	push 50
	pop _itoler
	new def,_imover
	push 8
	pop _imover
	push "timbgcyk"
	push "Epoka32"
	cthis cycle=
	call timbgcyk,play
	push igmipad
	cmp0
	je l1544
	new int,ipadclick
	push 0
	pop ipadclick
l1544:
	push 1
	pop igmstate
	end method
	method Epoka0
	localdef $1
	pop $1
	push 5
	cthis setz
	cthis actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	push 1
	call GAME,strsubb
	cmpjne
	cmp0
	je l1461
	cthis hide
l1461:
	push "_butmoveon"
	push "Epoka1"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka2"
	cthis addmethod
	end method
	method Epoka1
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1463
	cthis show
	call advmouse,setbut
l1463:
	end method
	method Epoka2
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1465
	cthis actionname
	spushs
	push 1
	spop $h
	call $h,strsubb
	push 1
	call GAME,strsubb
	cmpjne
	cmp0
	je l1467
	cthis hide
l1467:
	call advmouse,setstd
l1465:
	end method
	method Epoka3
	localdef $1
	pop $1
	cthis actionname
	push "help"
	cmpje
	cmp0
	je l1469
	cthis hide
	ret
l1469:
	push "_butmoveon"
	push "Epoka4"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka5"
	cthis addmethod
	end method
	method Epoka4
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1471
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1471:
	end method
	method Epoka5
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1473
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l1473:
	end method
	method Epoka6
	localdef $1
	pop $1
	cthis hide
	push "_butmoveon"
	push "_lekmoveonact"
	cthis addmethod
	push "_butmoveoff"
	push "_lekmoveoffact"
	cthis addmethod
	end method
	method Epoka7
	cthis getgraphpath
	push "moveon.pyz"
	pop $b
	popax
	add $a,$b
	cthis load
	cthis hide
	push 10
	cthis setz
	new vector,vecac
	push "string"
	call vecac,type
	localint $1
	push 0
	pop $1
l1474:
	push $1
	cthis nofactions
	cmpjl
	cmp0
	je l1475
	jmp l1477
l1476:
	add $1,1
	pop $1
	jmp l1474
l1477:
	push $1
	cthis nameofaction
	call vecac,add
	jmp l1476
l1475:
	push "contains"
	push "Epoka8"
	cthis addmethod
	end method
	method Epoka8
	localstring $1
	pop $1
	push $1
	call vecac,contains
	end method
	method Epoka9
	localdef $1
	pop $1
	push "_butmoveon"
	push "_lekmoveonact"
	cthis addmethod
	push "_butmoveoff"
	push "_lekmoveoffact"
	cthis addmethod
	push 20
	cthis setz
	cthis hide
	push X1
	push Y1
	push X2
	push Y2
	cthis clip
	end method
	method Epoka10
	push "scripts/plansza/music.pyz"
	cthis load
	push 100
	cthis setz
	push 0
	push iMusic
	cthis setframe
	push "_butmoveon"
	push "Epoka11"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka12"
	cthis addmethod
	end method
	method Epoka11
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1479
	call advmouse,setbut
l1479:
	end method
	method Epoka12
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1481
	call advmouse,setstd
l1481:
	end method
	method Epoka13
	push "scripts/plansza/nutka.pyz"
	cthis load
	push 100
	cthis setz
	push 0
	push iNutka
	cthis setframe
	push "_butmoveon"
	push "Epoka14"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka15"
	cthis addmethod
	end method
	method Epoka14
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1483
	call advmouse,setbut
l1483:
	end method
	method Epoka15
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1485
	call advmouse,setstd
l1485:
	end method
	method Epoka16
	push "scripts/plansza/play.pyz"
	cthis load
	push 100
	cthis setz
	push 0
	push iPlayMode
	cthis setframe
	push "_butmoveon"
	push "Epoka17"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka18"
	cthis addmethod
	end method
	method Epoka17
	call fxpop,play
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1487
	call advmouse,setbut
l1487:
	end method
	method Epoka18
	push igmstate
	push 3
	cmpjne
	cmp0
	je l1489
	call advmouse,setstd
l1489:
	end method
	method Epoka19
	call gameapi,getgamename
	spushs
	push actobraz
	push acthaslo
	spop $a
	call [$a],viewobraz
	end method
	method Epoka20
	push "scripts/plansza/zoom.pyz"
	cthis load
	push 100
	cthis setz
	push "_butmoveon"
	push "Epoka21"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka22"
	cthis addmethod
	end method
	method Epoka21
	push igmstate
	push 2
	cmpje
	cmp0
	je l1491
	push bZoom
	jmp l1493
l1491:
	push 0
	jmp l1493
l1492:
	push 1
l1493:
	cmp0
	je l1494
	call fxpop,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1494:
	end method
	method Epoka22
	push igmstate
	push 2
	cmpje
	cmp0
	je l1496
	push bZoom
	cmp0
	je l1498
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l1498:
	call advmouse,setstd
l1496:
	end method
	method Epoka23
	localdef $1
	pop $1
	push A
	push "iframe"
	push 1
	popax
	sub 0,$a
	push "vol"
	push 100
	cthis vars2
	end method
	method Epoka24
	localdef $1
	pop $1
	push sfntopis2
	cthis setfont
	push $1
	cthis txtset
	push "withincut"
	push "Epoka25"
	cthis addmethod
	push "actionname"
	push "Epoka26"
	cthis addmethod
	push "_butmoveon"
	push "Epoka27"
	cthis addmethod
	push "_butmoveoff"
	push "Epoka28"
	cthis addmethod
	end method
	method Epoka25
	localint $1
	localint $2
	pop $2
	pop $1
	push 1
	end method
	method Epoka26
	push "_number_"
	end method
	method Epoka27
	push igmstate
	push 2
	cmpje
	cmp0
	je l1500
	cthis isvisible
	cmp0
	je l1500
	cthis get
	spushs
	spop $h
	call $h,to_i
	push 0
	cmpja
	jmp l1502
l1500:
	push 0
	jmp l1502
l1501:
	push 1
l1502:
	cmp0
	je l1503
	call advmouse,setact
l1503:
	end method
	method Epoka28
	push igmstate
	push 2
	cmpje
	cmp0
	je l1505
	cthis isvisible
	jmp l1507
l1505:
	push 0
	jmp l1507
l1506:
	push 1
l1507:
	cmp0
	je l1508
	call advmouse,setstd
l1508:
	end method
	method Epoka29
	push "onsetframe"
	push "Epoka30"
	cthis addmethod
	end method
	method Epoka30
	localstring $1
	localint $2
	push 0
	pop $2
l1509:
	push $2
	call sfxbg,size
	cmpjl
	cmp0
	je l1510
	jmp l1512
l1511:
	add $2,1
	pop $2
	jmp l1509
l1512:
	push $2
	call sfxbg,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],iframe
	cthis framenr
	cmpje
	cmp0
	je l1514
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],vol
	spop $a
	call [$a],setvol
	push $1
	spushs
	spop $a
	call [$a],play
l1514:
	jmp l1511
l1510:
	end method
	method Epoka31
	push A
	push "txtobrazki"
	push "grtxtile"
	push "anobrazek"
	cthis addlist
	push 50
	cthis setz
	cthis hide
	end method
	method Epoka32
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push X1
	push Y1
	push X2
	push Y2
	call clsurf,isin
	cmp0
	je l1516
	push igmstate
	push 1
	cmpje
	cmp0
	je l1518
	localint $3
	push $1
	push X1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l1520
	push X1
	call anmapa,getpx
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1522
	push $3
	push _imover
	cmpja
	cmp0
	je l1524
	push _imover
	pop $3
l1524:
	push $3
	push 0
	call grmap,move
l1522:
	jmp l1519
l1520:
	push X2
	push $1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l1526
	call anmapa,getex
	push X2
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1528
	push $3
	push _imover
	cmpja
	cmp0
	je l1530
	push _imover
	pop $3
l1530:
	push $3
	popax
	sub 0,$a
	push 0
	call grmap,move
l1528:
l1526:
l1519:
	push $2
	push Y1
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l1532
	push Y1
	call anmapa,getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1534
	push $3
	push _imover
	cmpja
	cmp0
	je l1536
	push _imover
	pop $3
l1536:
	push 0
	push $3
	call grmap,move
l1534:
	jmp l1531
l1532:
	push Y2
	push $2
	pop $b
	popax
	sub $a,$b
	push _itoler
	cmpjl
	cmp0
	je l1538
	call anmapa,getey
	push Y2
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1540
	push $3
	push _imover
	cmpja
	cmp0
	je l1542
	push _imover
	pop $3
l1542:
	push 0
	push $3
	popax
	sub 0,$a
	call grmap,move
l1540:
l1538:
l1531:
	push GAME
	spushs
	spop $a
	call [$a],lekcjamove
l1518:
l1516:
	cthis play
	end method
	method _lekmoveonact
	push igmstate
	push 1
	cmpje
	cmp0
	je l1546
	cthis getname
	spushs
	push "ludki"
	spop $h
	call $h,contains
	cmp0
	je l1548
	call fxpop,play
l1548:
	cthis show
	call advmouse,setact
	localdef $1
	cthis actionname
	pop $1
	push $1
	call anmovon,contains
	cmp0
	je l1550
	push $1
	push 0
	call anmovon,setframe
	call anmovon,show
	push igmdemo
	cmp0
	je l1552
	push $1
	call vblok,contains
	jmp l1554
l1552:
	push 0
	jmp l1554
l1553:
	push 1
l1554:
	cmp0
	je l1555
	call anmovon,getcx
	call anmovon,getey
	push 60
	pop $b
	popax
	sub $a,$b
	cthis inpiecz
l1555:
l1550:
l1546:
	end method
	method adddzwieki
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l1556:
	push $3
	call dbob,getrowsno
	cmpjl
	cmp0
	je l1557
	jmp l1559
l1558:
	add $3,1
	pop $3
	jmp l1556
l1559:
	localint $4
	push 0
	pop $4
l1560:
	push $4
	push $3
	call dbob,getcolsno
	cmpjl
	cmp0
	je l1561
	jmp l1563
l1562:
	add $4,1
	pop $4
	jmp l1560
l1563:
	push $3
	push $4
	call dbob,get
	push $1
	cmpje
	cmp0
	je l1565
	push 2
	popax
	add $4,$a
	pop $4
	push ""
	pop $2
l1566:
	push $3
	push $4
	call dbob,get
	push ")"
	cmpjne
	cmp0
	je l1567
	push $3
	push $4
	call dbob,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	add $4,1
	pop $4
	jmp l1566
l1567:
	add $4,1
	pop $4
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	push $2
	cthis addsnd
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push "haslofin"
	spop $a
	call [$a],addmethod
l1565:
	jmp l1562
l1561:
	jmp l1558
l1557:
	end method
	method _restoresfx
	push 0
	pop iilesfx
	push 0
	call sfxbg,stop
	push "Epoka33"
	call sfxbg,each
	end method
	method Epoka33
	localdef $1
	pop $1
	push 1
	popax
	sub 0,$a
	pop iframe
	end method
	method _lekmoveoffact
	push igmstate
	push 1
	cmpje
	cmp0
	je l1569
	cthis hide
	call advmouse,setstd
	call anmovon,hide
	cthis outpiecz
l1569:
	end method
	method lekcjamove
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	call _grbuts,isincut
	cmp0
	je l1571
	localdef $3
	call _grbuts,getsfound
	pop $3
	push $3
	push _slastlek
	cmpjne
	cmp0
	je l1573
	cthis leklastoff
	push $3
	pop _slastlek
	push $3
	spushs
	spop $a
	call [$a],_butmoveon
l1573:
	jmp l1570
l1571:
	cthis leklastoff
l1570:
	end method
	method leklastoff
	push _slastlek
	push "null"
	cmpjne
	cmp0
	je l1575
	push _slastlek
	spushs
	spop $a
	call [$a],_butmoveoff
	push "null"
	pop _slastlek
	push igmipad
	cmp0
	je l1577
	push 0
	pop ipadclick
l1577:
l1575:
	end method
	method lekcjaclick
	push igmstate
	push 3
	cmpje
	cmp0
	je l1579
	push 2
	pop igmstate
	call anzoomer,hide
	ret
	jmp l1578
l1579:
	push igmstate
	push 2
	cmpje
	cmp0
	je l1581
	call mouse,getpos
	push X1
	push Y1
	push X2
	push Y2
	call clsurf,isin
	cmp0
	jne l1584
	call mouse,getpos
	push 0
	push 0
	call grludki,isin
	jmp l1585
l1583:
	push 0
	jmp l1585
l1584:
	push 1
l1585:
	jmp l1586
l1581:
	push 0
	jmp l1586
l1582:
	push 1
l1586:
	cmp0
	je l1587
	cthis lekcjaret
	ret
l1587:
l1578:
	push _slastlek
	push "null"
	cmpjne
	cmp0
	je l1589
	localdef $1
	push _slastlek
	spushs
	spop $a
	call [$a],actionname
	pop $1
	push igmipad
	cmp0
	je l1591
	push A
	push "music"
	push "nutka"
	push "play"
	push "exit"
	push "_number_"
	push "yeszoom"
	call $1,in
	neg
	jmp l1593
l1591:
	push 0
	jmp l1593
l1592:
	push 1
l1593:
	cmp0
	je l1594
	push ipadclick
	push 0
	cmpje
	cmp0
	je l1596
	push 1
	pop ipadclick
	ret
	jmp l1595
l1596:
	push 0
	pop ipadclick
l1595:
l1594:
	push $1
	spushs
	push "music"
	cmpst
	jne l1598
	spop $a
	push iMusic
	neg
	pop iMusic
	push 0
	push iMusic
	call anbutmusic,setframe
	push iMusic
	cmp0
	je l1600
	push 40
	call sndmusic,setvol
	call sndmusic,play
	push 40
	call sndmusic,setvol
	jmp l1599
l1600:
	push 0
	call sndmusic,stop
l1599:
	call fxpik1,play
	jmp l1597
l1598:
	push "nutka"
	cmpst
	jne l1601
	spop $a
	push iNutka
	neg
	pop iNutka
	push 0
	push iNutka
	call anbutnutka,setframe
	push iNutka
	cmp0
	je l1603
	call clmusic,play
	jmp l1602
l1603:
	call clmusic,reset
l1602:
	call fxpik1,play
	jmp l1597
l1601:
	push "play"
	cmpst
	jne l1604
	spop $a
	push iPlayMode
	neg
	pop iPlayMode
	push 0
	push iPlayMode
	call anbutplay,setframe
	call fxpik1,play
	push 0
	call timplaymod,stop
	jmp l1597
l1604:
	push "prehistoria"
	cmpst
	je l1606
	push "egipt"
	cmpst
	je l1606
	push "grecja"
	cmpst
	je l1606
	push "daleki"
	cmpst
	je l1606
	push "rzym"
	cmpst
	je l1606
	push "europa"
	cmpst
	je l1606
	push "afryka"
	cmpst
	je l1606
	push "ameryka"
	cmpst
	je l1606
	jmp l1605
l1606:
	spop $a
	push $1
	call grgry,find
	push 1
	pop $b
	popax
	add $a,$b
	call grgry,get
	call gameapi,play
	jmp l1597
l1605:
	push "Prehistoria"
	cmpst
	jne l1607
	spop $a
	jmp l1597
l1607:
	push "help"
	cmpst
	jne l1608
	spop $a
	jmp l1597
l1608:
	push "exit"
	cmpst
	jne l1609
	spop $a
	push "MenuPreh"
	call gameapi,play
	jmp l1597
l1609:
	push "_number_"
	cmpst
	jne l1610
	spop $a
	push igmstate
	push 2
	cmpje
	cmp0
	je l1612
	call fxpik1,play
	push sactobraz
	push "txtileo"
	call _slastlek,strsubbs
	cthis viewobraz
l1612:
	jmp l1597
l1610:
	push "nonzoom"
	cmpst
	jne l1613
	spop $a
	jmp l1597
l1613:
	push "yeszoom"
	cmpst
	jne l1614
	spop $a
	push igmstate
	push 2
	cmpje
	cmp0
	je l1616
	call fxpik1,play
	push 3
	pop igmstate
	call anzoomer,show
	call advmouse,setstd
l1616:
	jmp l1597
l1614:
	spop $a
	push igmstate
	push 1
	cmpje
	cmp0
	je l1618
	push igmdemo
	cmp0
	je l1620
	push $1
	call vblok,contains
	jmp l1622
l1620:
	push 0
	jmp l1622
l1621:
	push 1
l1622:
	cmp0
	je l1623
	ret
l1623:
	push $1
	pop sactobraz
	localdef $2
	push $1
	call dbob,findbyrow
	pop $2
	push 0
	pop iileobrazow
	localdef $3
	push 0
	pop $3
l1624:
	push $3
	push $2
	call dbob,getcolsno
	cmpjl
	cmp0
	je l1625
	push $2
	push $3
	call dbob,get
	push "file:"
	cmpje
	cmp0
	je l1627
	add iileobrazow,1
	pop iileobrazow
l1627:
	add $3,1
	pop $3
	jmp l1624
l1625:
	push iileobrazow
	push 0
	cmpje
	cmp0
	je l1629
	ret
l1629:
	call advmouse,setstd
	push 2
	pop igmstate
	push _slastlek
	pop sclickedlek
	call fxpik1,play
	push $1
	push 1
	cthis viewobraz
l1618:
l1597:
	jmp l1588
l1589:
	push 1
	cthis cactsndstop
l1588:
	end method
	method lnapiscol
	push 117
	push 1
	push 1
	ret
	end method
	method lnapiscolact
	push 255
	push 255
	push 255
	ret
	end method
	method viewobraz
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	pop idacthaslo
	push 0
	call timplaymod,stop
	push 0
	cthis cactsndstop
	localdef $3
	push $1
	call dbob,findbyrow
	pop $3
	localstring $4
	localstring $5
	localdef $6
	push 776
	pop $6
	localdef $7
	push 194
	pop $7
	localdef $8
	push $6
	pop $8
	localdef $9
	push $7
	push iFontSize
	pop $b
	popax
	add $a,$b
	push 5
	pop $b
	popax
	add $a,$b
	pop $9
	localdef $10
	push 8
	pop $10
	push "- "
	cthis lnapiscol
	call txtileo0,txtsetcol
	push $8
	push $9
	call txtileo0,setpos
	call txtileo0,show
	call txtileo0,getw
	push $10
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	localint $11
	push 1
	pop $11
l1630:
	push $11
	push iileobrazow
	cmpjle
	cmp0
	je l1631
	jmp l1633
l1632:
	add $11,1
	pop $11
	jmp l1630
l1633:
	push "txtileo"
	push $11
	pop $b
	popax
	add $a,$b
	pop $4
	push $11
	push $2
	cmpje
	cmp0
	je l1635
	push $4
	spushs
	push $11
	cthis lnapiscolact
	spop $a
	call [$a],txtsetcol
	push $8
	push $4
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call imgpodile,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $9
	push $4
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call imgpodile,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imgpodile,setpos
	call imgpodile,show
	push $4
	spushs
	spop $a
	call [$a],getz
	call imgpodile,setz
	jmp l1634
l1635:
	push $4
	spushs
	push $11
	cthis lnapiscol
	spop $a
	call [$a],txtsetcol
l1634:
	push $4
	spushs
	push $8
	push $9
	spop $a
	call [$a],setpos
	push $4
	spushs
	spop $a
	call [$a],show
	push $4
	spushs
	spop $a
	call [$a],getw
	push $10
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1632
l1631:
	push "txtileo"
	push iileobrazow
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push " -"
	cthis lnapiscol
	spop $a
	call [$a],txtsetcol
	push $5
	spushs
	push $8
	push $9
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	spop $a
	call [$a],getw
	popax
	add $8,$a
	pop $8
	push $6
	push $8
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call grtxtile,move
	push $6
	push $8
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	call imgpodile,move
	cthis _restoresfx
	push $3
	push 0
	cmpjae
	cmp0
	je l1637
	localdef $12
	push 1
	pop $12
	localdef $13
	push 0
	pop $13
l1638:
	push $12
	push $3
	call dbob,getcolsno
	cmpjl
	cmp0
	je l1639
	push $3
	push $12
	call dbob,get
	spushs
	push "text:"
	cmpst
	jne l1641
	spop $a
	push $3
	push $12
	push 1
	pop $b
	popax
	add $a,$b
	call dbob,get
	pop $4
	push 2
	popax
	add $12,$a
	pop $12
	push "_"
	push " "
	call $4,change
	push "- "
	push $4
	pop $b
	popax
	add $a,$b
	push " -"
	pop $b
	popax
	add $a,$b
	cthis lnapiscol
	call txtobrazki,txtsetcol
	push $6
	call txtobrazki,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $7
	call txtobrazki,setpos
	call txtobrazki,show
	jmp l1640
l1641:
	push "file:"
	cmpst
	jne l1642
	spop $a
	add $13,1
	pop $13
	add $12,1
	pop $12
	push $13
	push $2
	cmpje
	cmp0
	je l1644
	push $3
	push $12
	call dbob,get
	pop $4
	add $12,1
	pop $12
	cthis getgraphpath
	push $4
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anobrazek,load
	push 190
	call anobrazek,setz
	push "onfinish"
	push "haslofin"
	call anobrazek,addmethod
	call anmovon,hide
	push 0
	pop bZoom
	push 0
	push 0
	call anbutzoom,setframe
l1645:
	push $12
	push $3
	call dbob,getcolsno
	cmpjl
	cmp0
	je l1646
	push $3
	push $12
	call dbob,get
	push "file:"
	cmpjne
	jmp l1648
l1646:
	push 0
	jmp l1648
l1647:
	push 1
l1648:
	cmp0
	je l1649
	push $3
	push $12
	call dbob,get
	spushs
	push "-zoom"
	cmpst
	jne l1651
	spop $a
	push 1
	pop bZoom
	push 1
	push 0
	call anbutzoom,setframe
	add $12,1
	pop $12
	cthis getgraphpath
	push $3
	push $12
	call dbob,get
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anzoomer,load
	push 200
	call anzoomer,setz
	call anzoomer,hide
	jmp l1650
l1651:
	push "-say"
	cmpst
	je l1653
	push "-say2"
	cmpst
	je l1653
	push "-say3"
	cmpst
	je l1653
	jmp l1652
l1653:
	spop $a
l1654:
	push $3
	push $12
	call dbob,get
	push ")"
	cmpjne
	cmp0
	je l1655
	add $12,1
	pop $12
	jmp l1654
l1655:
	push "snd"
	push $3
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $12
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push 1
	pop bStartPlay
	jmp l1650
l1652:
	push "-sfx"
	cmpst
	jne l1656
	spop $a
	add $12,1
	pop $12
	push iilesfx
	call sfxbg,get
	pop $4
	add iilesfx,1
	pop iilesfx
	push $4
	spushs
	push SFXPATH
	push $3
	push $12
	call dbob,get
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	add $12,1
	pop $12
	push $4
	spushs
	push $3
	push $12
	call dbob,get
	spop $a
	call [$a],iframe=
	add $12,1
	pop $12
	push $4
	spushs
	push $3
	push $12
	call dbob,get
	spop $a
	call [$a],iframe=
	add $12,1
	pop $12
	push $4
	spushs
	push 0.6
	push $3
	push $12
	call dbob,get
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],vol=
	jmp l1650
l1656:
	spop $a
l1650:
	add $12,1
	pop $12
	jmp l1645
l1649:
	push $3
	call dbob,getcolsno
	pop $12
	push 0
	call anobrazek,play
	jmp l1643
l1644:
l1657:
	push $12
	push $3
	call dbob,getcolsno
	cmpjl
	cmp0
	je l1658
	push $3
	push $12
	call dbob,get
	push "file:"
	cmpjne
	jmp l1660
l1658:
	push 0
	jmp l1660
l1659:
	push 1
l1660:
	cmp0
	je l1661
	add $12,1
	pop $12
	jmp l1657
l1661:
l1643:
	jmp l1640
l1642:
	spop $a
	add $12,1
	pop $12
l1640:
	jmp l1638
l1639:
l1637:
	end method
	method lekcjaret
	push 1
	pop igmstate
	call imgpodile,hide
	push 0
	call timplaymod,stop
	push 0
	cthis cactsndstop
	push 0
	call anobrazek,stop
	cthis _restoresfx
	call grobrazki,hide
	push 0
	push 0
	call anbutzoom,setframe
	push 0
	pop bZoom
	cthis leklastoff
	push sclickedlek
	push "null"
	cmpjne
	cmp0
	je l1663
	push sclickedlek
	spushs
	spop $a
	call [$a],_butmoveoff
	push "null"
	pop sclickedlek
l1663:
	cthis lekcjamove
	end method
	method haslofin
	cthis cisplaying
	push 0
	cmpje
	cmp0
	je l1665
	push 1
	popax
	sub 0,$a
	call anobrazek,isplaying
	push 0
	cmpje
	cmp0
	je l1665
	push iPlayMode
	cmp0
	je l1665
	push idacthaslo
	push iileobrazow
	cmpjl
	jmp l1667
l1665:
	push 0
	jmp l1667
l1666:
	push 1
l1667:
	cmp0
	je l1668
	push sactobraz
	call timplaymod,actobraz=
	push idacthaslo
	push 1
	pop $b
	popax
	add $a,$b
	call timplaymod,acthaslo=
	call timplaymod,play
l1668:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/music.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/sfx/butmovon.wav"
	call sndakskermovon,load
	class classasker2
	parent classasker
	method init
	clparent classasker,init
	push SNDPATH
	cthis setwavpath
	push "sndaskexit"
	push "nar07.wav"
	cthis newsnd
	push "sndaskexitgame"
	push "nar12.wav"
	cthis newsnd
	push "sndyes"
	push "nar08.wav"
	cthis newsnd
	push "sndno"
	push "nar09.wav"
	cthis newsnd
	push "sndaskrestart"
	push "nar11.wav"
	cthis newsnd
	push "sndaskrestart2"
	push "nar14.wav"
	cthis newsnd
	push "scripts/common/asker.pyz"
	push 2000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push igmipad
	cmp0
	je l1670
	push $4
	spushs
	spop $d
	cthis [$d]
	jmp l1669
l1670:
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent classasker,ask
l1669:
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askexitgame
	push "sndaskexitgame"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	call gameapi,getgamename
	spushs
	push "gamemenu"
	cmpst
	jne l1672
	spop $a
	push "gameoutro"
	jmp l1671
l1672:
	push "MenuPreh"
	cmpst
	jne l1673
	spop $a
	push "Outro"
	push LANG
	pop $b
	popax
	add $a,$b
	jmp l1671
l1673:
	spop $a
	push sAskerGame
l1671:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "Memo"
	cmpst
	jne l1675
	spop $a
	push "gamemenu"
	jmp l1674
l1675:
	spop $a
	push "gamemenu"
l1674:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	end class

	new classasker2,claskexit
	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 4000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	push "scripts/common/buts.db"
	call dbb,load
	new snd,sndfxglobon
	push "sounds/sfx/globbutmovon.wav"
	call sndfxglobon,load
	new def,bvisible
	push 1
	pop bvisible
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1677
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l1678:
	push $4
	push $3
	cmpjl
	cmp0
	je l1679
	jmp l1681
l1680:
	add $4,1
	pop $4
	jmp l1678
l1681:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l1680
l1679:
l1677:
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l1683
	call mouse,hide
l1683:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "pause"
	cmpje
	cmp0
	je l1685
	call clpause,pause
	jmp l1684
l1685:
	push $1
	push "exit"
	cmpje
	cmp0
	je l1687
	call claskexit,askexittomenu
	jmp l1686
l1687:
	push $1
	push "restart"
	cmpje
	cmp0
	je l1689
	call claskexit,askrestart
l1689:
l1686:
l1684:
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	call bsms,setstd
	call clbuts,load
	push igmdebug
	neg
	cmp0
	je l1691
	push igmipad
	jmp l1693
l1691:
	push 0
	jmp l1693
l1692:
	push 1
l1693:
	cmp0
	je l1694
	push "scripts/plansza/kursorypad.pyz"
	call advmouse,load
	jmp l1690
l1694:
	push "scripts/plansza/kursory.pyz"
	call advmouse,load
l1690:
	call engine,getsavepath
	push "save.txt"
	pop $b
	popax
	add $a,$b
	new classfullsave,save
	call save,stdload
	push "MainLoader"
	call gameapi,play
	game MainLoader
	parent Dzieje
	method init
	push "mainloader"
	clparent Dzieje,init
	push A
	push "oooo tak"
	push "wspaaniale"
	push "ho ho ho"
	push "doobrze"
	push "braawo"
	push "achaa"
	push "uhummm"
	push "myes"
	cthis exportbank
	push A
	push "ooj nie"
	push "ymym"
	push "nie tak"
	push "aj"
	push "co le"
	push "uups"
	push "ajajaj"
	push "mno"
	cthis exportbank
	push "Sredniowiecze"
	call gameapi,play
	push "PrehMenuGry"
	call gameapi,play
	push "IntroPreh"
	call gameapi,play
	push "panna"
	pop sSubObraz
	push "Moda2"
	call gameapi,play
	push "lod8"
	pop sSubObraz
	push "Konstruktor3"
	call gameapi,play
	push "bis3"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	push "stone"
	pop sSubObraz
	push "Konstruktor2_2"
	call gameapi,play
	push "rampa"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	push "mamut"
	pop sSubObraz
	push "Szkielety"
	call gameapi,play
	push "IntroPreh"
	call gameapi,play
	end method
	end game

	new string,sPrehArg1
	class MenuGry
	parent Dzieje
	method init
	push sSubMenu
	clparent Dzieje,init
	push igmdemo
	cmp0
	je l1696
	push 1
	push 0
	call anpieczatka,setframe
l1696:
	push A
	push "bkg.pyz"
	push "tytul"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz 5"
	pop $b
	popax
	add $a,$b
	push "glowa.pyz 100"
	cthis imgs=
	push A
	push "getpuz"
	push "putpuz"
	push "ok 60"
	push "step"
	cthis sfxs=
	push GAME
	push "PrehMenuGry"
	cmpje
	cmp0
	je l1698
	push sSubMenuGame
	push "null"
	cmpje
	jmp l1700
l1698:
	push 0
	jmp l1700
l1699:
	push 1
l1700:
	cmp0
	je l1701
	push "initimg.pyz"
	cthis img=
l1701:
	call anglowa,MenuGry0
	push A
	push "sndmenukolo"
	push "Kolorowanie"
	push "cstop"
	push "sndmenukons"
	push "Konstruowanie"
	push "cstop"
	push "sndmenupuzz"
	push "Puzzle wszelakie"
	push "cstop"
	push "sndmenurozn"
	push "Ronicowanie"
	push "cstop"
	push "sndmenumoda"
	push "Prehistoryczna moda"
	push "cstop"
	cthis sounds=
	new Button,but1
	push 1
	call but1,bcheck2klik=
	push "grprzyc"
	push "scripts/plansza/"
	push "przyciski.pyz"
	push "_but_func"
	call but1,loadfrom
	push "grgry"
	push sSubEpoka
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "MenuGry2"
	call but1,load
	end method
	method MenuGry0
	push "std"
	cthis play
	push "onfinish"
	push "MenuGry1"
	cthis addmethod
	end method
	method MenuGry1
	cthis actionname
	spushs
	push "std"
	cmpst
	jne l1703
	spop $a
	jmp l1702
l1703:
	push "talk"
	cmpst
	jne l1704
	spop $a
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l1702
l1704:
	spop $a
	push "std"
	cthis play
l1702:
	end method
	method MenuGry2
	localdef $1
	pop $1
	push 10
	cthis setz
	cthis Button_isin
	push "butmoveon"
	push "MenuGry3"
	cthis addmethod
	push "butmoveoff"
	push "MenuGry4"
	cthis addmethod
	push "butclick"
	push "MenuGry5"
	cthis addmethod
	cthis actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	push sSubMenuGame
	cmpje
	cmp0
	je l1740
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push GAME
	push "PrehMenuGry"
	cmpje
	cmp0
	je l1742
	cthis getname
	call but1,sobject=
	cthis butclick
l1742:
l1740:
	end method
	method MenuGry3
	push GAME
	spushs
	push "cmov"
	spop $a
	call [$a],hasvar
	cmp0
	je l1706
	call cmov,moving
	jmp l1708
l1706:
	push 0
	jmp l1708
l1707:
	push 1
l1708:
	cmp0
	je l1709
	ret
l1709:
	call fxpop,play
	localdef $1
	cthis actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	pop $1
	push "sndmenu"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cglowa2
	call advmouse,setbut
	push $1
	push sSubMenuGame
	cmpjne
	cmp0
	je l1711
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1713
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1713:
l1711:
	end method
	method MenuGry4
	call advmouse,setstd
	cthis actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	push sSubMenuGame
	cmpjne
	cmp0
	je l1715
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
l1715:
	end method
	method MenuGry5
	push GAME
	spushs
	push "cmov"
	spop $a
	call [$a],hasvar
	cmp0
	je l1717
	call cmov,moving
	jmp l1719
l1717:
	push 0
	jmp l1719
l1718:
	push 1
l1719:
	cmp0
	je l1720
	ret
l1720:
	call fxpik1,play
	push GAME
	push "PrehMenuGry"
	cmpjne
	cmp0
	je l1722
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	pop sSubMenuGame
	push "PrehMenuGry"
	call gameapi,play
	ret
	jmp l1721
l1722:
	call but1,MenuGry6
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push sSubMenuGame
	push "null"
	cmpje
	cmp0
	je l1724
	call aninitimg,hide
l1724:
l1721:
	cthis actionname
	spushs
	push 0
	push 4
	spop $h
	call $h,getb
	pop sSubMenuGame
	push GAME
	spushs
	spop $a
	call [$a],removesubmenu
	push "grgry2"
	push "gm"
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "MenuGry7"
	call but1,load
	end method
	method MenuGry6
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	end method
	method MenuGry7
	localdef $1
	pop $1
	cthis Button_isin
	push "butmoveon"
	push "MenuGry8"
	cthis addmethod
	push "butmoveoff"
	push "MenuGry9"
	cthis addmethod
	push "butclick"
	push "MenuGry10"
	cthis addmethod
	end method
	method MenuGry8
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1726
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1726:
	localdef $1
	call but1,sobject
	pop $1
	push $1
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "demo"
	spop $h
	call $h,contains
	cmp0
	je l1728
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis inpiecz
l1728:
	end method
	method MenuGry9
	call advmouse,setstd
	cthis outpiecz
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method MenuGry10
	localdef $1
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	pop $1
	localdef $2
	call but1,sobject
	spushs
	push 4
	push 4
	spop $h
	call $h,getb
	pop $2
	push $2
	spushs
	push "kolo"
	cmpst
	jne l1730
	spop $a
	push "MenuKol"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	call gameapi,play
	jmp l1729
l1730:
	push "rozn"
	cmpst
	jne l1731
	spop $a
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push "Roznice"
	call gameapi,play
	jmp l1729
l1731:
	push "kons"
	cmpst
	jne l1732
	spop $a
	push "MenuKons"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	call gameapi,play
	jmp l1729
l1732:
	push "puzz"
	cmpst
	jne l1733
	spop $a
	push $1
	pop sPrehArg1
	push $1
	cmp0
	je l1735
	push "MenuPuzzle"
	call gameapi,play
	jmp l1734
l1735:
	push "MenuWstaw"
	call gameapi,play
l1734:
	jmp l1729
l1733:
	push "moda"
	cmpst
	jne l1736
	spop $a
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push sSubObraz
	push "babka"
	cmpje
	cmp0
	je l1738
	push "Moda"
	call gameapi,play
	jmp l1737
l1738:
	push "Moda2"
	call gameapi,play
l1737:
	jmp l1729
l1736:
	spop $a
l1729:
	end method
	method _but_func
	localdef $1
	pop $1
	push 100
	cthis setz
	cthis Button_isin
	push "butclick"
	push "MenuGry11"
	cthis addmethod
	push "butmoveon"
	push "MenuGry12"
	cthis addmethod
	push "butmoveoff"
	push "MenuGry13"
	cthis addmethod
	end method
	method MenuGry11
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "exit"
	cmpst
	jne l1744
	spop $a
	cthis exit_click
	jmp l1743
l1744:
	push "help"
	cmpst
	jne l1745
	spop $a
	cthis help_click
	jmp l1743
l1745:
	push "restart"
	cmpst
	jne l1746
	spop $a
	cthis restart_click
	jmp l1743
l1746:
	spop $a
l1743:
	end method
	method MenuGry12
	call fxstep,play
	call advmouse,setbut
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method MenuGry13
	call advmouse,setstd
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method addbutrestart
	push "grprzycrestart"
	push "scripts/plansza/"
	push "prestart.pyz"
	push "_but_func"
	call but1,loadfrom
	end method
	method cexit
	cthis cstop
	push 111
	pop igmstate
	end method
	method cquit
	localdef $1
	pop $1
	push igmstate
	push 111
	cmpje
	cmp0
	je l1748
	push $1
	call gameapi,play
l1748:
	end method
	method ohno
	push "nie"
	call anglowa,play
	end method
	method ohyeah
	push "tak"
	call anglowa,play
	end method
	method removehelp
	call but1,MenuGry14
	end method
	method MenuGry14
	localdef $1
	push "help"
	call grbuts,findsac
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1750
	push $1
	call grbuts,get
	spushs
	spop $a
	call [$a],hide
l1750:
	end method
	method removesubmenu
	push "grgry2"
	cthis hasvar
	cmp0
	je l1752
	push "grgry2"
	call but1,remove
	push 0
	call grgry2,get
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	spop $d
	delete [$d]
	call grgry2,deleteallgm
	delete grgry2
l1752:
	end method
	method cglowa
	localdef $1
	pop $1
	push $1
	cthis cbplay2
	push "talk"
	call anglowa,play
	end method
	method cglowa2
	localdef $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l1754
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l1754
	push A
	push "sndmenukolo"
	push "sndmenukons"
	push "sndmenupuzz"
	push "sndmenurozn"
	push "sndmenumoda"
	call _csplay,in
	neg
	jmp l1756
l1754:
	push 0
	jmp l1756
l1755:
	push 1
l1756:
	cmp0
	je l1757
	ret
l1757:
	push _csplay
	push $1
	cmpje
	cmp0
	je l1759
	ret
l1759:
	push 0
	cthis cactsndstop
	push "talk"
	call anglowa,play
	push $1
	cthis cbplay
	end method
	method cglowa3
	localdef $1
	pop $1
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	neg
	cmp0
	je l1761
	push "talk"
	call anglowa,play
	push $1
	cthis crplay
l1761:
	end method
	method cstop
	push "std"
	call anglowa,play
	end method
	method cunstop
	cthis gmunlockall
	cthis cstop
	end method
	end class

	new string,sSubMenu
	push "grypreh"
	pop sSubMenu
	new string,sSubMenuGame
	push "null"
	pop sSubMenuGame
	new string,sSubEpoka
	push "prehistoria"
	pop sSubEpoka
	new string,sSubObraz
	push "mamuty"
	pop sSubObraz
	new int,bPrehMenuGry
	game PrehMenuGry
	parent MenuGry
	method init
	clparent MenuGry,init
	push "prehmenugry"
	cthis setsndbase
	push A
	push "sndintro"
	push "Wybierz gr"
	push "cstop"
	cthis sounds=
	push bPrehMenuGry
	cmp0
	je l1763
	push 0
	pop bPrehMenuGry
	push "sndintro"
	cthis cglowa
l1763:
	cthis removehelp
	end method
	method exit_click
	push "MenuPreh"
	call gameapi,play
	end method
	end game

	class SubMenuGame
	parent MenuGry
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	pop $2
	pop $1
	clparent MenuGry,init
	new string,sFuncClick
	push $2
	pop sFuncClick
	push "grgry2"
	push $1
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "SubMenuGame0"
	call but1,load
	end method
	method SubMenuGame0
	localdef $1
	pop $1
	push A
	push "MenuKons1"
	call GAME,in
	cmp0
	je l1765
	cthis Button_stdalpha
	jmp l1764
l1765:
	cthis Button_std
l1764:
	push "butmoveon"
	push "SubMenuGame1"
	cthis addmethod
	push "butclick"
	push sFuncClick
	cthis addmethod
	end method
	method SubMenuGame1
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1767
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1767:
	localdef $1
	push "sndmenu"
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $b
	popax
	add $a,$b
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1769
	push $1
	cthis cbplay
l1769:
	end method
	end class

	game MenuKol3
	parent SubMenuGame
	method init
	push "gmkol3"
	push "MenuKol30"
	cthis tinit
	cthis removehelp
	end method
	method MenuKol30
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push "Kolorowanka2"
	call gameapi,play
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKol1
	parent SubMenuGame
	method init
	push "gmkol1"
	push "MenuKol10"
	cthis tinit
	cthis removehelp
	end method
	method MenuKol10
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push 1
	push "Kolorowanka1"
	call gameapi,play
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKol2
	parent SubMenuGame
	method init
	push "gmkol2"
	push "MenuKol20"
	cthis tinit
	cthis removehelp
	end method
	method MenuKol20
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push 2
	push "Kolorowanka1"
	call gameapi,play
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuSzkielety
	parent SubMenuGame
	method init
	push "zaliczony40"
	call save,bis
	cmp0
	je l1771
	push "gmszkielety"
	push "mplay"
	cthis tinit
	jmp l1770
l1771:
	push "gmszkielety2"
	push "mplay"
	cthis tinit
l1770:
	push "menuskel"
	cthis setsndbase
	push A
	push "sndmenu0"
	push "mamut"
	push "null"
	push "sndmenu3"
	push "baw"
	push "null"
	push "sndmenu4"
	push "nosoroec"
	push "null"
	push "sndmenu1"
	push "pies"
	push "null"
	push "sndmenu2"
	push "ko"
	push "null"
	push "sndbrak"
	push "eby zoy szkielet nosoroca musisz najpierw zaliczy najtrudniejszy quiz"
	push "cstop"
	cthis sounds=
	cthis removehelp
	end method
	method mplay
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push sSubObraz
	push "nosor"
	cmpje
	cmp0
	je l1773
	push "zaliczony40"
	call save,bis
	neg
	jmp l1775
l1773:
	push 0
	jmp l1775
l1774:
	push 1
l1775:
	cmp0
	je l1776
	push "sndbrak"
	cthis cglowa
	jmp l1772
l1776:
	push "Szkielety"
	call gameapi,play
l1772:
	end method
	method exit_click
	push "MenuKons4"
	call gameapi,play
	end method
	end game

	game MenuKons4
	parent SubMenuGame
	method init
	push "gmkonekstra"
	push "MenuKons40"
	cthis tinit
	push "menukons4"
	cthis setsndbase
	push A
	push "sndmenu0"
	push "Zosta archeologiem"
	push "null"
	push "sndmenu1"
	push "Zbuduj ramp w Stonehenge"
	push "null"
	push "sndmenu2"
	push "Zbuduj nasyp w Stonehenge"
	push "null"
	cthis sounds=
	cthis removehelp
	end method
	method MenuKons40
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1778
	spop $a
	push "MenuSzkielety"
	call gameapi,play
	jmp l1777
l1778:
	push 1
	cmpst
	jne l1779
	spop $a
	push "rampa"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	jmp l1777
l1779:
	push 2
	cmpst
	jne l1780
	spop $a
	push "stone"
	pop sSubObraz
	push "Konstruktor2_2"
	call gameapi,play
	jmp l1777
l1780:
	spop $a
l1777:
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKons3
	parent SubMenuGame
	method init
	push "zaliczony20"
	call save,bis
	cmp0
	je l1782
	push "gmbiskupin"
	push "mplay"
	cthis tinit
	jmp l1781
l1782:
	push "gmbiskupin2"
	push "mplay"
	cthis tinit
l1781:
	push "menubiskup"
	cthis setsndbase
	push A
	push "sndbrak"
	push "eby rozegra t gr musisz zaliczy redni poziom quizu"
	push "cstop"
	cthis sounds=
	cthis removehelp
	end method
	method mplay
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1784
	spop $a
	push "bis1"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	jmp l1783
l1784:
	push 1
	cmpst
	jne l1785
	spop $a
	push "zaliczony20"
	call save,bis
	cmp0
	je l1787
	push "bis2"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	jmp l1786
l1787:
	push "sndbrak"
	cthis cglowa
l1786:
	jmp l1783
l1785:
	push 2
	cmpst
	jne l1788
	spop $a
	push "bis3"
	pop sSubObraz
	push "Konstruktor3_1"
	call gameapi,play
	jmp l1783
l1788:
	spop $a
l1783:
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKons2
	parent SubMenuGame
	method init
	push "gmkons2"
	push "MenuKons20"
	cthis tinit
	cthis removehelp
	end method
	method MenuKons20
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1790
	spop $a
	push "Konstruktor2_1"
	call gameapi,play
	jmp l1789
l1790:
	push 1
	cmpst
	jne l1791
	spop $a
	push "dom2"
	pop sSubObraz
	push "Konstruktor2_2"
	call gameapi,play
	jmp l1789
l1791:
	push 2
	cmpst
	jne l1792
	spop $a
	push "Konstruktor2_3"
	call gameapi,play
	jmp l1789
l1792:
	spop $a
l1789:
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKons1
	parent SubMenuGame
	method init
	push "gmkon1"
	push "MenuKons10"
	cthis tinit
	cthis removehelp
	end method
	method MenuKons10
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1794
	spop $a
	push "lodka"
	pop sSubObraz
	push "Konstruktor1"
	call gameapi,play
	jmp l1793
l1794:
	push 1
	cmpst
	jne l1795
	spop $a
	push 0
	pop KolejneLevel
	push "Konstruktor2"
	call gameapi,play
	jmp l1793
l1795:
	push 2
	cmpst
	jne l1796
	spop $a
	push "MenuKons1_3"
	call gameapi,play
	jmp l1793
l1796:
	spop $a
l1793:
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuKons1_3
	parent SubMenuGame
	method init
	push "gmkon1_3"
	push "MenuKons1_30"
	cthis tinit
	cthis removehelp
	end method
	method MenuKons1_30
	push "lod"
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	cmp0
	je l1798
	push 16
	jmp l1797
l1798:
	push 8
l1797:
	pop $b
	popax
	add $a,$b
	pop sSubObraz
	push "Konstruktor3"
	call gameapi,play
	end method
	method exit_click
	push "MenuKons1"
	call gameapi,play
	end method
	end game

	game MenuPuzzle
	parent SubMenuGame
	method init
	push "zaliczony10"
	call save,bis
	neg
	cmp0
	je l1800
	push sPrehArg1
	push 2
	cmpje
	jmp l1802
l1800:
	push 0
	jmp l1802
l1801:
	push 1
l1802:
	cmp0
	je l1803
	push "gmpuz2_2"
	push "mplay"
	cthis tinit
	jmp l1799
l1803:
	push "gmpuz"
	push sPrehArg1
	pop $b
	popax
	add $a,$b
	push "mplay"
	cthis tinit
l1799:
	push "menupuzle"
	cthis setsndbase
	push A
	push "sndblok"
	push "Te puzzle bdziesz mg uoy jeli zaliczysz najprostszy quiz"
	push "cstop"
	cthis sounds=
	cthis removehelp
	end method
	method mplay
	localint $1
	localint $2
	push sPrehArg1
	push 1
	cmpje
	cmp0
	je l1805
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1807
	spop $a
	push 2
	pop $1
	push 2
	pop $2
	push "stone"
	pop sSubObraz
	jmp l1806
l1807:
	push 1
	cmpst
	jne l1808
	spop $a
	push 3
	pop $1
	push 3
	pop $2
	push "renifer"
	pop sSubObraz
	jmp l1806
l1808:
	push 2
	cmpst
	jne l1809
	spop $a
	push 4
	pop $1
	push 4
	pop $2
	push "biskupin"
	pop sSubObraz
	jmp l1806
l1809:
	spop $a
l1806:
	jmp l1804
l1805:
	call but1,sobject
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	spushs
	push 0
	cmpst
	jne l1811
	spop $a
	push 5
	pop $1
	push 5
	pop $2
	push "mamuty"
	pop sSubObraz
	jmp l1810
l1811:
	push 1
	cmpst
	jne l1812
	spop $a
	push 6
	pop $1
	push 6
	pop $2
	push "statki"
	pop sSubObraz
	jmp l1810
l1812:
	push 2
	cmpst
	jne l1813
	spop $a
	push "zaliczony10"
	call save,bis
	cmp0
	je l1815
	push 7
	pop $1
	push 7
	pop $2
	push "osada"
	pop sSubObraz
	jmp l1814
l1815:
	push "sndblok"
	cthis cglowa
	ret
l1814:
	jmp l1810
l1813:
	spop $a
l1810:
l1804:
	push $1
	push $2
	push "Puzzle"
	call gameapi,play
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game MenuWstaw
	parent SubMenuGame
	method init
	push "gmpuz"
	push sPrehArg1
	pop $b
	popax
	add $a,$b
	push "MenuWstaw0"
	cthis tinit
	cthis removehelp
	end method
	method MenuWstaw0
	call but1,sobject
	spushs
	spop $a
	call [$a],actionname
	pop sSubObraz
	push "Wstaw"
	call gameapi,play
	end method
	method exit_click
	push "PrehMenuGry"
	call gameapi,play
	end method
	end game

	game Kolorowanka2
	parent MenuGry
	parent TPainter
	method init
	localint $1
	pop $1
	new int,ikolololevel
	push $1
	pop ikolololevel
	clparent MenuGry,init
	clparent TPainter,init
	push "null"
	push "scripts/kolo2/"
	push "null"
	push "pedzel.pyz"
	push "draw"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "farby.pyz"
	push "ld"
	cthis tinit
	cthis addbutrestart
	push "ko2lo"
	cthis setsndbase
	push A
	push "sndhelp"
	push "Aby wyczyci obrazek kliknij przycisk restart"
	push "null"
	cthis sounds=
	push A
	push "pedzel"
	push "pedzel2"
	cthis sfxs=
	call grpaleta,hide
	new db,dbkolory
	localdef $2
	call engine,getsavepath
	push "img"
	pop $b
	popax
	add $a,$b
	push ikolololevel
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,fileexist
	cmp0
	je l1817
	push $2
	call dbkolory,load
	push "Kolorowanka20"
	call grdraw,each
	jmp l1816
l1817:
	push "Kolorowanka21"
	call grdraw,each
	cthis savekols
l1816:
	cthis getgraphpath
	push "bgkol.pyz"
	pop $b
	popax
	add $a,$b
	call anbkg,load
	end method
	method Kolorowanka20
	localdef $1
	pop $1
	push $1
	push 0
	call dbkolory,get
	push $1
	push 1
	call dbkolory,get
	push $1
	push 2
	call dbkolory,get
	push 255
	push 0
	cthis paint
	end method
	method Kolorowanka21
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	push "255 255 255"
	push " "
	call dbkolory,dbaddstringrow
	end method
	method help_click
	push "sndhelp"
	cthis crplay
	end method
	method savekols
	push GAME
	spushs
	push "dbkolory"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l1819
	ret
l1819:
	push "Kolorowanka22"
	call grdraw,each
	call engine,getsavepath
	push "img"
	pop $b
	popax
	add $a,$b
	push ikolololevel
	pop $b
	popax
	add $a,$b
	push ".db"
	pop $b
	popax
	add $a,$b
	call dbkolory,save
	end method
	method Kolorowanka22
	localdef $1
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	cthis getex
	pop $6
	localint $7
	cthis getey
	pop $7
	localint $8
	cthis getpx
	pop $8
	localint $9
	cthis getpy
	pop $9
l1820:
	push $8
	push $6
	cmpjne
	cmp0
	je l1821
	push $9
	push $7
	cmpjne
	jmp l1823
l1821:
	push 0
	jmp l1823
l1822:
	push 1
l1823:
	cmp0
	je l1824
	push $8
	push $9
	push 0
	push 1
	cthis isin
	cmp0
	je l1826
	push $8
	pop $2
	push $9
	pop $3
	push $6
	pop $8
	jmp l1825
l1826:
	add $8,1
	pop $8
l1825:
	jmp l1820
l1824:
	push $2
	push $3
	cthis getrgba
	popax
	pop $4
	pop $3
	pop $2
	push $1
	push 0
	push $2
	call dbkolory,set
	push $1
	push 1
	push $3
	call dbkolory,set
	push $1
	push 2
	push $4
	call dbkolory,set
	end method
	method onpaint
	call fxpedzel,play
	end method
	method onsetbrush
	call fxpedzel2,play
	end method
	method but1_lclick
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1828
	cthis savekols
l1828:
	end method
	method exit_click
	cthis savekols
	push "MenuKol3"
	cthis askfor
	end method
	method restart_click
	call fxpedzel,play
	push "Kolorowanka23"
	call grdraw,each
	cthis savekols
	end method
	method Kolorowanka23
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	push $1
	push 0
	push 255
	call dbkolory,set
	push $1
	push 1
	push 255
	call dbkolory,set
	push $1
	push 2
	push 255
	call dbkolory,set
	end method
	method claskexit_ask
	call mouse,show
	end method
	method claskexit_no
	call mouse,hide
	end method
	end game

	game Kolorowanka1
	parent MenuGry
	parent TPainter
	method init
	localint $1
	pop $1
	new int,imode
	push $1
	pop imode
	clparent MenuGry,init
	clparent TPainter,init
	push "null"
	push "scripts/kolo1/"
	push "null"
	push "pedzel.pyz"
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push sSubObraz
	push "kredki.pyz"
	pop $b
	popax
	add $a,$b
	push "ld"
	cthis tinit
	push A
	push "pedzel"
	push "pedzel2"
	cthis sfxs=
	cthis getgraphpath
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push "bgkol.pyz"
	pop $b
	popax
	add $a,$b
	call anbkg,load
	push sSubMenu
	cthis path=
	push imode
	push 1
	cmpje
	cmp0
	je l1830
	push "Kolorowanka10"
	call grdraw,each
	jmp l1829
l1830:
	push "Kolorowanka11"
	call grdraw,each
l1829:
	cthis white
	push 255
	push 0
	call anbrush2,paint
	new string,sbrush
	push "null"
	pop sbrush
	push "Kolorowanka12"
	call grdraw,each
	push "kolo1"
	cthis setsndbase
	call grpaleta,hide
	push "sndtak"
	push "myes"
	push "ckolstop"
	cthis importbank
	push "sndnie"
	push "mno"
	push "ckolstop"
	cthis importbank
	push A
	push "sndgokol"
	push "Dokocz kolorowanie obrazka"
	push "cstop"
	push "sndsuper"
	push "Brawo! Wszystko idealnie pokolorowane"
	push "cexit"
	push "sndgomod2"
	push "Pokoloruj wedug wskazwek obrazek"
	push "cplaym2"
	push "sndloski1"
	push "Zamaluj rogi osia na pomaraczowo"
	push "cmod2"
	push "sndloski2"
	push "Zamaluj sierc osia na brzowo"
	push "cmod2"
	push "sndloski3"
	push "Zamaluj racice osia"
	push "cmod2"
	push "sndloski4"
	push "Zamaluj maego osia na brzowo"
	push "cmod2"
	push "sndloski5"
	push "Zamaluj ogon taty osia"
	push "cmod2"
	push "sndloski6"
	push "Zamaluj brod taty osia"
	push "cmod2"
	push "sndloski7"
	push "Zamaluj pozostae nogi osia"
	push "cmod2"
	push "sndloski8"
	push "Wspaniale pomalowae oba osie"
	push "cexit"
	push "sndpanna1"
	push "Pomaluj nos modelki"
	push "cmod2"
	push "sndpanna2"
	push "Pomaluj usta modelki na czerwono"
	push "cmod2"
	push "sndpanna3"
	push "Pomaluj zby modelki na biao"
	push "cmod2"
	push "sndpanna4"
	push "Pomaluj ucho modelki"
	push "cmod2"
	push "sndpanna5"
	push "Pomaluj makija na twarzy na czerwono"
	push "cmod2"
	push "sndpanna6"
	push "Pomaluj kolczyk z muszli na niebiesko"
	push "cmod2"
	push "sndpanna7"
	push "Pomaluj wosy modelki"
	push "cmod2"
	push "sndpanna8"
	push "Pomaluj muszelki w opasce na gowie na niebiesko"
	push "cmod2"
	push "sndpanna9"
	push "Pomaluj szyj modelki"
	push "cmod2"
	push "sndpanna10"
	push "Pomaluj wisiorek z kw"
	push "cmod2"
	push "sndpanna11"
	push "I nasza panna pomalowana!"
	push "cexit"
	push "snddom1"
	push "Pomaluj dach na czerwono"
	push "cmod2"
	push "snddom2"
	push "Pomaluj komin na biao"
	push "cmod2"
	push "snddom3"
	push "Pomaluj szyb w okrgym oknie na jasny niebieski"
	push "cmod2"
	push "snddom4"
	push "Pomaluj pot za domem na pomaraczowo"
	push "cmod2"
	push "snddom5"
	push "Pomaluj niebo na ciemny niebieski"
	push "cmod2"
	push "snddom6"
	push "Pomaluj pozostae okna"
	push "cmod2"
	push "snddom7"
	push "Pomaluj psa na brzowo"
	push "cmod2"
	push "snddom8"
	push "Pomaluj choinke na taki sam kolor jak krzew przed domem"
	push "cmod2"
	push "snddom9"
	push "Pomaluj rynny na brzowo"
	push "cmod2"
	push "snddom10"
	push "Pomaluj dym na szaro"
	push "cmod2"
	push "snddom11"
	push "Pomaluj drzwi do garau na ten sam klor co rynny"
	push "cmod2"
	push "snddom12"
	push "Pomaluj chmurk na ten sam kolor co snieg"
	push "cmod2"
	push "snddom13"
	push "wietnie! domek pokolorowany!"
	push "cexit"
	push "sndbadel"
	push "wybrae zy element"
	push "cplaym2"
	push "sndbadkol"
	push "pomalowae prawidowy element ale zym kolorem"
	push "cplaym2"
	push "sndhelp2"
	push "Pokoloruj wedug wskazwek obrazek"
	push "cstop"
	cthis sounds=
	push imode
	push 2
	cmpje
	cmp0
	je l1832
	new int,ilevel
	push 1
	pop ilevel
	push "sndgomod2"
	cthis cglowa
	jmp l1831
l1832:
	push "sndgokol"
	cthis cglowa
l1831:
	end method
	method Kolorowanka10
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	end method
	method Kolorowanka11
	localdef $1
	pop $1
	push 232
	cthis grey
	push 255
	push 0
	cthis paint
	end method
	method Kolorowanka12
	localdef $1
	pop $1
	push "kolor"
	push "white"
	cthis var2
	end method
	method ckolstop
	push imode
	push 1
	cmpje
	cmp0
	je l1834
	cthis cstop
	jmp l1833
l1834:
	push imode
	push 2
	cmpje
	cmp0
	je l1836
	cthis cplaym2
l1836:
l1833:
	end method
	method cmod2
	cthis cunstop
	end method
	method cplaym2
	cthis lock
	push "snd"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push ilevel
	pop $b
	popax
	add $a,$b
	cthis cglowa
	end method
	method mouse_lclick
	push "MenuKol"
	push imode
	pop $b
	popax
	add $a,$b
	cthis cquit
	cthis getlock
	neg
	cmp0
	je l1838
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l1840
	cthis onpaint
	jmp l1839
l1840:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l1842
	localint $3
	localint $4
	localint $5
	localint $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	cthis onsetbrush
l1842:
l1839:
l1838:
	end method
	method cdraw
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	end method
	method onpaint
	localdef $1
	call grdraw,getsfound
	pop $1
	push imode
	push 1
	cmpje
	cmp0
	je l1844
	cthis cdraw
	push $1
	spushs
	push sbrush
	spop $a
	call [$a],kolor=
	push "Kolorowanka13"
	call grdraw,ineach
	cmp0
	je l1846
	cthis lock
	push "sndsuper"
	cthis cglowa
	jmp l1845
l1846:
	push $1
	spushs
	spop $a
	call [$a],framename
	spushs
	push sbrush
	spop $h
	call $h,contains
	cmp0
	je l1848
	cthis ohyeah
	push "sndtak"
	cthis cbplay2
	jmp l1847
l1848:
	cthis ohno
	push "sndnie"
	cthis cbplay2
l1847:
l1845:
	call fxpedzel,play
	jmp l1843
l1844:
	push imode
	push 2
	cmpje
	cmp0
	je l1850
	push $1
	spushs
	spop $a
	call [$a],framenr
	push ilevel
	push 1
	pop $b
	popax
	sub $a,$b
	cmpje
	cmp0
	je l1852
	push $1
	spushs
	push sbrush
	spop $a
	call [$a],kolor=
	cthis cdraw
	call fxpedzel,play
	push $1
	spushs
	spop $a
	call [$a],framename
	spushs
	push sbrush
	spop $h
	call $h,contains
	cmp0
	je l1854
	add ilevel,1
	pop ilevel
	cthis cplaym2
	jmp l1853
l1854:
	push "sndbadkol"
	cthis cglowa
l1853:
	jmp l1851
l1852:
	push "sndbadel"
	cthis cglowa
l1851:
l1850:
l1843:
	end method
	method Kolorowanka13
	localdef $1
	pop $1
	cthis framename
	spushs
	push kolor
	spop $h
	call $h,contains
	end method
	method onsetbrush
	call grpaleta,getsfound
	spushs
	spop $a
	call [$a],framename
	pop sbrush
	call fxpedzel2,play
	end method
	method exit_click
	push "MenuKol"
	push imode
	pop $b
	popax
	add $a,$b
	cthis askfor
	end method
	method help_click
	push imode
	push 1
	cmpje
	cmp0
	je l1856
	push "sndgokol"
	jmp l1855
l1856:
	push "sndhelp2"
l1855:
	cthis crplay
	end method
	method claskexit_ask
	call mouse,show
	end method
	method claskexit_no
	call mouse,hide
	end method
	end game

	game Moda2
	parent MenuGry
	method init
	clparent MenuGry,init
	push "moda"
	cthis path=
	push "moda2"
	cthis setsndbase
	new gmimgvec,grface
	call grface,Moda20
	push "anfc2"
	push sSubObraz
	push "fcmask.pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	call anfc2,hide
	new gmimgvec,grlezy
	call grlezy,Moda21
	new gmimgvec,grszafa
	push "grszafa"
	push sSubObraz
	push "szafa.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	new gmimgvec,grmov
	push "grmov"
	push sSubObraz
	push "mov.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	call grmov,hide
	new DelayMover,cmov
	new vector,vecstroj
	push "string"
	call vecstroj,type
	push "Moda22"
	call grszafa,each
	push A
	push "sndgopanna"
	push "Przed tob stoi przepikna jaskiniowa ksiniczka; Dzi wybiera si na bal jaskiniowcw; Pom dobra jej wieczorn kreacj"
	push "modago"
	push "sndgowoj"
	push "Oto Ukki wojownik z gr; Wanie przygotowuje si do polowania; Ubierz go naleycie"
	push "modago"
	push "snddzida"
	push "pasuje do ubioru ta dzida"
	push "cstop"
	push "sndkaptur"
	push "z kapturem nie zmoknie"
	push "cstop"
	push "sndkozaki"
	push "wietne kozaki"
	push "cstop"
	cthis sounds=
	push A
	push "nieze sam bym si tak ubra"
	push "he he he"
	push "ciekawy strj"
	push "no w czym takim to nawet na wesele mona i"
	push "w tym to do obiadu raczej"
	push "modaok"
	cthis exportbank
	push "sndtak"
	push "modaok"
	push "cstop"
	cthis importbank
	call sndtak,startrand
	push "sndgo"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	cthis cglowa
	end method
	method Moda20
	cthis getname
	push sSubObraz
	push "face.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	cthis setmodaz
	end method
	method Moda21
	cthis getname
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	cthis setmodaz
	cthis hide
	cthis sortimgs
	end method
	method Moda22
	localdef $1
	pop $1
	cthis framename
	spushs
	push 1
	spop $h
	call $h,strsube
	call vecstroj,add
	push 0
	call vecstroj,add
	end method
	method modago
	cthis cunstop
	call cmov,unlock
	end method
	method setmodaz
	push "Moda23"
	cthis each
	end method
	method Moda23
	localdef $1
	pop $1
	push 10
	cthis framename
	spushs
	push "_"
	spop $h
	call $h,strgetfrom
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method cmov_GET
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localdef $3
	localdef $4
	localint $5
	push 0
	pop $5
	push $1
	push $2
	push 1
	push 1
	call grlezy,isin
	cmp0
	je l1858
	call grlezy,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],actionname
	pop $4
	push "Moda24"
	push $4
	call grlezy,eval1
	push $4
	call grmov,findsfr
	call grmov,get
	pop $4
	push 1
	pop $5
	jmp l1857
l1858:
	push $1
	push $2
	push 1
	push 1
	call grszafa,isin
	cmp0
	je l1865
	localdef $6
	call grszafa,getfound
	pop $6
	call grszafa,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],hide
	push $6
	call grmov,get
	pop $4
	push 1
	pop $5
l1865:
l1857:
	push $5
	cmp0
	je l1867
	push $4
	spushs
	spop $a
	call [$a],show
	push $4
	spushs
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $4
	spushs
	spop $a
	call [$a],getw
	push $3
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $4
	spushs
	spop $a
	call [$a],geth
	push $3
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
	push $4
	spushs
	push 900
	spop $a
	call [$a],setz
	push $4
	cthis mssetobj
	call fxgetpuz,play
l1867:
	end method
	method Moda24
	localdef $1
	pop $1
	cthis isvisible
	cmp0
	je l1860
	cthis actionname
	push $1
	cmpje
	jmp l1862
l1860:
	push 0
	jmp l1862
l1861:
	push 1
l1862:
	cmp0
	je l1863
	cthis hide
l1863:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	spushs
	spop $a
	call [$a],hide
	localint $2
	localint $3
	call mouse,getpos
	pop $3
	pop $2
	localdef $4
	push $1
	spushs
	spop $a
	call [$a],framename
	pop $4
	push 0
	push 1
	call $4,strsube
	call anfc2,ansetsframe
	push $2
	push $3
	push 0
	push 1
	call anfc2,isin
	cmp0
	je l1869
	push "Moda25"
	push 1
	call $4,strsube
	push $4
	call grlezy,eval2
	push 5
	spushs
	spop $h
	call $h,rand
	neg
	cmp0
	je l1878
	localint $5
	push 0
	pop $5
	push 2
	spushs
	spop $h
	call $h,rand
	cmp0
	je l1880
	push sSubObraz
	push "woj"
	cmpje
	cmp0
	je l1882
	push "kurtka3"
	call grszafa,findsfr
	call grszafa,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l1884
	push "sndkaptur"
	cthis cglowa
	jmp l1883
l1884:
	push "gunlewa1"
	call grszafa,findsfr
	call grszafa,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l1886
	push "snddzida"
	cthis cglowa
	jmp l1885
l1886:
	push 1
	pop $5
l1885:
l1883:
	jmp l1881
l1882:
	push "kurtka1"
	call grszafa,findsfr
	call grszafa,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l1888
	push "sndkaptur"
	cthis cglowa
	jmp l1887
l1888:
	push "buty2"
	call grszafa,findsfr
	call grszafa,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l1890
	push "sndkozaki"
	cthis cglowa
	jmp l1889
l1890:
	push 1
	pop $5
l1889:
l1887:
l1881:
	jmp l1879
l1880:
	push 1
	pop $5
l1879:
	push $5
	cmp0
	je l1892
	push "sndtak"
	cthis cglowa
l1892:
l1878:
	jmp l1868
l1869:
	push $1
	spushs
	spop $a
	call [$a],framenr
	call grszafa,get
	spushs
	spop $a
	call [$a],show
l1868:
	call fxputpuz,play
	end method
	method Moda25
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	cthis actionname
	pop $3
	cthis isvisible
	cmp0
	je l1871
	push 1
	call $3,strsube
	push $1
	cmpje
	jmp l1873
l1871:
	push 0
	jmp l1873
l1872:
	push 1
l1873:
	cmp0
	je l1874
	cthis hide
	push 1
	popax
	sub 0,$a
	cthis actionnr
	call grszafa,get
	spushs
	spop $a
	call [$a],show
	jmp l1870
l1874:
	push $3
	push $2
	cmpje
	cmp0
	je l1876
	cthis show
l1876:
l1870:
	end method
	method help_click
	push "sndgo"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	cthis cglowa
	end method
	method exit_click
	push "PrehMenuGry"
	cthis askfor
	end method
	end game

	game Moda
	parent MenuGry
	method init
	clparent MenuGry,init
	push "moda"
	cthis path=
	push "moda"
	cthis setsndbase
	push "anface"
	push sSubObraz
	push "face.pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	push "anface"
	push "anfc2"
	cthis copyanima
	call anfc2,hide
	new gmimgvec,grubrana
	push "grubrana"
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	call grubrana,hide
	new gmimgvec,grstroj
	push "grstroj"
	push sSubObraz
	push "kol.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	new DelayMover,cmov
	localdef $1
	push 0
	call grstroj,get
	pop $1
	new vector,vecac
	push "string"
	call vecac,type
	localint $2
	push 0
	pop $2
l1893:
	push $2
	push $1
	spushs
	spop $a
	call [$a],nofactions
	cmpjl
	cmp0
	je l1894
	jmp l1896
l1895:
	add $2,1
	pop $2
	jmp l1893
l1896:
	push $1
	spushs
	push $2
	spop $a
	call [$a],nameofaction
	call vecac,add
	push 0
	call vecac,add
	push 0
	call vecac,add
	jmp l1895
l1894:
	new int,idfound
	push A
	push "sndgomoda"
	push "Oto pikna prehistoryczna modelka; Pom stworzy jej wiosenn kolekcj mody!"
	push "cunstop"
	cthis sounds=
	push "sndtak"
	push "myes"
	push "cstop"
	cthis importbank
	call sndtak,startrand
	push "sndgomoda"
	cthis cglowa
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grstroj,isin
	cmp0
	je l1898
	localdef $1
	call grstroj,getsfound
	pop $1
	call grstroj,getfound
	pop idfound
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	call fxgetpuz,play
	jmp l1897
l1898:
	call mouse,getpos
	push 1
	push 1
	call grubrana,isin
	cmp0
	je l1900
	call grubrana,getfound
	pop idfound
	localdef $1
	push idfound
	call grstroj,get
	pop $1
	localdef $2
	call grubrana,getsfound
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
	localdef $3
	push $1
	cthis cpodnies
	pop $3
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	call fxgetpuz,play
l1900:
l1897:
	end method
	method cpodnies
	localstring $1
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	call vecac,find
	pop $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call vecac,get
	push "1"
	cmpje
	cmp0
	je l1902
	localint $3
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	call vecac,get
	pop $3
	push $3
	call grstroj,get
	spushs
	spop $a
	call [$a],show
	push $3
	call grubrana,get
	spushs
	spop $a
	call [$a],hide
l1902:
	push $2
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 0
	spop $a
	call [$a],setz
	push 1
	push $1
	spushs
	spop $a
	call [$a],actionname
	call anfc2,ansetsframe
	call mouse,getpos
	push 0
	push 1
	call anfc2,isin
	cmp0
	je l1904
	localdef $2
	push $1
	cthis cpodnies
	pop $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	push "1"
	call vecac,set
	push $2
	push 2
	pop $b
	popax
	add $a,$b
	push idfound
	call vecac,set
	push $1
	spushs
	spop $a
	call [$a],hide
	push idfound
	call grubrana,get
	spushs
	spop $a
	call [$a],show
	push 5
	spushs
	spop $h
	call $h,rand
	neg
	cmp0
	je l1906
	push "sndtak"
	cthis cglowa
l1906:
l1904:
	call fxputpuz,play
	end method
	method exit_click
	push "PrehMenuGry"
	cthis askfor
	end method
	method help_click
	push "sndgomoda"
	cthis cglowa
	end method
	end game

	game Roznice
	parent MenuGry
	parent TRoznice
	method init
	clparent MenuGry,init
	push A
	push "pik"
	cthis sfxs=
	push "scripts/roznice/"
	push "null"
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push sSubObraz
	push "kol.pyz"
	pop $b
	popax
	add $a,$b
	cthis tinit
	push 0
	push 190
	call gral,move
	new string,sfont
	push 36
	cthis stdfont
	pop sfont
	push "cyferki.pyz 20"
	cthis img=
	push "ancyferki"
	push "ancyf2"
	cthis copyanima
	cthis cputpoint
	push "roznice"
	cthis setsndbase
	push A
	push "sndgoroz"
	push "Cho obrazki wygldaj na pierwszy rzut oka tak samo s midzy nimi rnice; Znajd je wszystkie"
	push "cunstop"
	push "sndok"
	push "Doskonale; Wszystkie rnice odnalezione"
	push "cexit"
	cthis sounds=
	push "sndtak"
	push "myes"
	push "cstop"
	cthis importbank
	push "sndgoroz"
	cthis cglowa
	end method
	method cputpoint
	localdef $1
	cthis remained
	pop $1
	push $1
	push 10
	cmpjl
	cmp0
	je l1908
	push 0
	push 0
	call ancyferki,setpos
	push 0
	push $1
	call ancyferki,setframe
	call ancyf2,hide
	jmp l1907
l1908:
	push 20
	popax
	sub 0,$a
	push 0
	call ancyferki,setpos
	call ancyferki,getw
	push 15
	pop $b
	popax
	sub $a,$b
	push 0
	call ancyf2,setpos
	push 0
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	psax
	call ancyferki,setframe
	push 0
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	push $d
	call ancyf2,setframe
	call ancyf2,show
l1907:
	end method
	method tpoint
	call fxpik,play
	cthis cputpoint
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l1910
	push "sndtak"
	cthis cglowa
l1910:
	end method
	method tfinish
	cthis tpoint
	push 0
	call fxpik,stop
	call fxok,play
	push "sndok"
	cthis cglowa
	end method
	method tclick
	push "PrehMenuGry"
	cthis cquit
	end method
	method exit_click
	push "PrehMenuGry"
	cthis askfor
	end method
	method help_click
	push "sndgoroz"
	cthis cglowa3
	end method
	end game

	game Sredniowiecze
	parent Epoka
	method init
	push "sredniowiecze"
	clparent Epoka,init
	end method
	method mouse_move
	cthis lekcjamove
	end method
	method mouse_lclick
	cthis lekcjaclick
	end method
	end game

	game Prehistoria
	parent Epoka
	method init
	push igmdemo
	cmp0
	je l1912
	new vector,vblok
	push "string"
	call vblok,type
	push "begin"
	push "mamuty"
	push "lbizon"
	push "ltrzcina"
	push "ozdoby"
	push "stone"
	push "mlotek"
	push "jaskinia"
	push "igla"
	call vblok,beginadd
l1912:
	push "prehistoria"
	clparent Epoka,init
	end method
	method mouse_move
	cthis lekcjamove
	end method
	method mouse_lclick
	cthis lekcjaclick
	end method
	method keydown
	end method
	end game

	game Opowiesc
	parent Dzieje
	method init
	push "opowiesc"
	clparent Dzieje,init
	new int,Row
	push 0
	pop Row
	push A
	push "step"
	push "struga"
	cthis sfxs=
	push "dbopo"
	push "opowiesc.db"
	cthis newdb
	localint $1
	push 0
	pop $1
l1913:
	push $1
	call dbopo,getrowsno
	cmpjl
	cmp0
	je l1914
	jmp l1916
l1915:
	add $1,1
	pop $1
	jmp l1913
l1916:
	push "snd_"
	push $1
	pop $b
	popax
	add $a,$b
	push $1
	push 2
	call dbopo,get
	cthis addsnd
	jmp l1915
l1914:
	cthis stdexportsnd
	new int,bLoop
	new img,imgbg
	push "scripts/plansza/opobg.png"
	call imgbg,load
	new snd,sndbgr
	push "onfinish"
	push "Opowiesc0"
	call sndbgr,addmethod
	new anima,anview
	push "onfinish"
	push "Opowiesc1"
	call anview,addmethod
	push "plansza"
	cthis path=
	push "przyciskiopo.pyz"
	new Buttons,butopo
	call butopo,Opowiesc2
	push 0
	call butopo,bcheck2klik=
	new Button,butnut
	push 0
	call butnut,bcheck2klik=
	push "grnutka"
	push "nutkaopo.pyz"
	push "Opowiesc3"
	call butnut,load
	push "opowiesc"
	cthis path=
	push 0
	cthis mnext
	end method
	method Opowiesc0
	push bLoop
	cmp0
	je l1918
	cthis play
l1918:
	end method
	method Opowiesc1
	cthis actionname
	spushs
	push "L"
	spop $h
	call $h,contains
	cmp0
	je l1920
	push 1
	popax
	sub 0,$a
	cthis play
l1920:
	end method
	method Opowiesc2
	push "help"
	call grbuts,findsac
	call grbuts,get
	spushs
	spop $a
	call [$a],hide
	end method
	method Opowiesc3
	localdef $1
	pop $1
	cthis Button_isin
	push 0
	push 1
	cthis setframe
	push "butclick"
	push "Opowiesc4"
	cthis addmethod
	push "butmoveon"
	push "Opowiesc5"
	cthis addmethod
	push "butmoveoff"
	push "Opowiesc6"
	cthis addmethod
	end method
	method Opowiesc4
	localdef $1
	push 0
	call grnutka,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l1922
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setframe
	call clmusic,reset
	jmp l1921
l1922:
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setframe
	call clmusic,play
l1921:
	call fxpik1,play
	end method
	method Opowiesc5
	call fxstep,play
	call advmouse,setbut
	end method
	method Opowiesc6
	call advmouse,setstd
	end method
	method butopo_moveon
	call fxstep,play
	end method
	method butopo_lclick
	push sobject
	spushs
	push "help"
	cmpst
	jne l1924
	spop $a
	jmp l1923
l1924:
	push "exit"
	cmpst
	jne l1925
	spop $a
	push "MenuPreh"
	call gameapi,play
	jmp l1923
l1925:
	push "next"
	cmpst
	jne l1926
	spop $a
	push 1
	cthis mnext
	jmp l1923
l1926:
	push "prev"
	cmpst
	jne l1927
	spop $a
	push 1
	popax
	sub 0,$a
	cthis mnext
	jmp l1923
l1927:
	push "restart"
	cmpst
	jne l1928
	spop $a
	push "Opowiesc"
	call gameapi,play
	jmp l1923
l1928:
	spop $a
l1923:
	end method
	method mnext
	localint $1
	pop $1
	push 0
	call sndbgr,stop
	push 0
	cthis cactsndstop
	push 0
	pop bLoop
	push $1
	popax
	add Row,$a
	pop Row
	push Row
	push 0
	cmpjl
	cmp0
	je l1930
	push 0
	pop Row
	push 0
	cthis mnext
	ret
l1930:
	push Row
	call dbopo,getrowsno
	cmpjae
	cmp0
	je l1932
	push "MenuPreh"
	call gameapi,play
	ret
l1932:
	cthis getgraphpath
	push "sc"
	pop $b
	popax
	add $a,$b
	push Row
	push 0
	call dbopo,get
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call anview,load
	push 0
	call anview,play
	push Row
	call dbopo,getcolsno
	push 3
	cmpja
	cmp0
	je l1934
	localdef $2
	push Row
	push 3
	call dbopo,get
	pop $2
	localdef $3
	push "bgr"
	call $2,contains
	cmp0
	je l1936
	push BGRPATH
	pop $3
	push 1
	pop bLoop
	jmp l1935
l1936:
	push SFXPATH
	pop $3
l1935:
	push Row
	call dbopo,getcolsno
	push 4
	cmpja
	cmp0
	je l1938
	push Row
	push 4
	call dbopo,get
	pop bLoop
l1938:
	push $3
	push $2
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndbgr,load
	push 40
	call sndbgr,setvol
	call sndbgr,play
l1934:
	push "snd_"
	push Row
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	end game

	class TPuzzle
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iCols
	push $4
	pop iCols
	new int,iRows
	push $3
	pop iRows
	push "imgbkg"
	push $1
	push 0
	cthis newimg
	new gmimgvec,grel
	new gmimgvec,grend
	push "grel"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	call grel,hash
	push "TPuzzle0"
	call grel,each
	new int,ibadajl
	push 25
	pop ibadajl
	new string,sactpuz
	new int,iblitopacity
	push 255
	pop iblitopacity
	new int,PuzzleState
	push 0
	pop PuzzleState
	new DelayMover,cmov
	push 200
	new SimpleCounter,cnt
	new int,iX
	push $5
	pop iX
	new int,iY
	push $6
	pop iY
	push iX
	push iY
	call grel,move
	end method
	method TPuzzle0
	localdef $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method setpuzstate
	localint $1
	pop $1
	push $1
	pop PuzzleState
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l1940
	new gmimgvec,grblit
	localdef $2
	pop $2
	push "grblit"
	push $2
	popax
	pop $b
	psax
	call [$b],operator<
	call grblit,hide
l1940:
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grel,isin
	cmp0
	je l1942
	localstring $1
	call grel,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	cthis tpuzzle_get
l1942:
	end method
	method cwithin
	localstring $1
	pop $1
	localint $2
	cthis gettype
	push "anima"
	cmpjne
	cmp0
	je l1944
	push 0
	pop $2
l1945:
	push $2
	cthis size
	cmpjl
	cmp0
	je l1946
	jmp l1948
l1947:
	add $2,1
	pop $2
	jmp l1945
l1948:
	push $2
	cthis get
	spushs
	push $1
	spop $a
	call [$a],cwithin
	cmp0
	je l1950
	push 1
	ret
l1950:
	jmp l1947
l1946:
	push 0
	ret
	jmp l1943
l1944:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1952
	localint $3
	cthis framenr
	pop $3
	localint $4
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	push $d
	pop $4
	push A
	push $4
	push 0
	cmpja
	cmp0
	je l1954
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
l1954:
	push $4
	push iCols
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1956
	push $3
	push 1
	pop $b
	popax
	add $a,$b
l1956:
	push $3
	push iCols
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l1958
	push $3
	push iCols
	pop $b
	popax
	sub $a,$b
l1958:
	push $4
	push iRows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1960
	push $3
	push iCols
	pop $b
	popax
	add $a,$b
l1960:
	push $1
	spushs
	spop $a
	call [$a],framenr
	spushs
	spop $h
	call $h,in
	ret
	jmp l1951
l1952:
	push 0
	pop $2
l1961:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1962
	jmp l1964
l1963:
	add $2,1
	pop $2
	jmp l1961
l1964:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cwithin
	cmp0
	je l1966
	push 1
	ret
l1966:
	jmp l1963
l1962:
	push 0
	ret
l1951:
l1943:
	end method
	method cblit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1968
	push PuzzleState
	push 1
	cmpje
	cmp0
	je l1970
	push $1
	spushs
	push iX
	push iY
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	spushs
	spop $a
	call [$a],framenr
	call grblit,get
	pop $1
l1970:
	push $1
	spushs
	spop $a
	call [$a],TPuzzle1
	jmp l1967
l1968:
	localint $2
	push 0
	pop $2
l1971:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1972
	jmp l1974
l1973:
	add $2,1
	pop $2
	jmp l1971
l1974:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis cblit
	jmp l1973
l1972:
l1967:
	end method
	method TPuzzle1
	push 1
	cthis setz
	cthis show
	push iX
	push iY
	cthis setpos
	localint $1
	cthis getpx
	pop $1
	localint $2
	cthis getpy
	pop $2
	cthis anaddfilter
	push iblitopacity
	cthis setopacity
	push $1
	push $2
	cthis setpos
	cthis getname
	call imgbkg,blit
	cthis unlink
	push iX
	push iY
	cthis setpos
	cthis hide
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	end method
	method cput
	cthis tpuzzle_put
	localstring $1
	call cmov,getmover
	pop $1
	push $1
	spushs
	push 100
	call cnt,next
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	call cmov,free
	call grel,TPuzzle2
	localstring $2
	push $1
	pop $2
	localstring $3
	push $1
	pop sactpuz
l1975:
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpjne
	cmp0
	je l1976
	push $1
	spushs
	push 0
	spop $a
	call [$a],get
	pop $1
	jmp l1975
l1976:
	push $1
	spushs
	spop $a
	call [$a],lodx
	push iX
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],lody
	push iY
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	call ibadajl,length
	push ibadajl
	cmpjl
	cmp0
	je l1978
	push $2
	cthis cblit
	push $2
	call grel,remove
	push $2
	call grend,add
	cthis tpuzzle_blit
	call grel,empty
	cmp0
	je l1980
	call grend,show
	cthis tpuzzle_end
l1980:
	jmp l1977
l1978:
	push $2
	call grel,remove
	localint $4
	push 0
	pop $4
l1981:
	push $4
	call grel,size
	cmpjl
	cmp0
	je l1982
	jmp l1984
l1983:
	add $4,1
	pop $4
	jmp l1981
l1984:
	push $4
	call grel,get
	pop $1
	push $1
	push $2
	call cllen,iposlen
	push ibadajl
	cmpjl
	cmp0
	je l1986
	push $2
	spushs
	push $1
	spop $a
	call [$a],cwithin
	jmp l1988
l1986:
	push 0
	jmp l1988
l1987:
	push 1
l1988:
	cmp0
	je l1989
	localint $5
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $6
	pop $5
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1991
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1993
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new gmimgvec,[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],add
	push $3
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l1992
l1993:
	push $2
	spushs
	push $1
	spop $a
	call [$a],add
	push $2
	pop $3
l1992:
	push $1
	call grel,remove
	push $3
	call grel,add
	jmp l1990
l1991:
	push $2
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l1995
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	jmp l1994
l1995:
	push $1
	spushs
	push $2
	spop $a
	call [$a],addgr
l1994:
	push $1
	pop $3
l1990:
	push $3
	spushs
	push $5
	push $6
	spop $a
	call [$a],setpos
	push $3
	spushs
	push $2
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
	call grel,sortimgs
	push $3
	pop sactpuz
	ret
l1989:
	jmp l1983
l1982:
	push $2
	call grel,add
l1977:
	end method
	method TPuzzle2
	cthis sortimgs
	push "TPuzzle3"
	cthis each
	end method
	method TPuzzle3
	localint $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method tpuzzle_end
	end method
	method tpuzzle_get
	end method
	method tpuzzle_blit
	end method
	method tpuzzle_put
	end method
	end class

	game Puzzle
	parent MenuGry
	parent TPuzzle
	method init
	localint $1
	localint $2
	pop $2
	pop $1
	clparent MenuGry,init
	delete anbkg
	push "puzzle"
	cthis path=
	push "bg"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push 0
	push 0
	cthis tinit
	push "anpodpo"
	push "podp"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	call anpodpo,hide
	cthis crect
	cthis crect2
	push "grel"
	call rec,fitgrouprand
	push "puzzle"
	cthis setsndbase
	push A
	push "sndintro"
	push "Z puzlle; Najed na przycisk Pomocy eby zobaczy podpowied"
	push "Puzzle0"
	push "sndok"
	push "Bardzo adnie; obejrzyj obrazek i kliknij by zoy kolejny"
	push "Puzzle1"
	cthis sounds=
	push "we"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 1
	cthis setpuzstate
	push "sndintro"
	cthis cglowa
	end method
	method Puzzle0
	cthis cunstop
	cthis unlockall
	push 1
	pop igmstate
	end method
	method Puzzle1
	cthis cunstop
	push 111
	pop igmstate
	end method
	method help_moveon
	push igmstate
	push 111
	cmpjne
	cmp0
	je l1997
	call anpodpo,show
l1997:
	end method
	method help_moveoff
	call anpodpo,hide
	end method
	method tpuzzle_get
	call fxgetpuz,play
	end method
	method tpuzzle_put
	call fxputpuz,play
	end method
	method tpuzzle_end
	call fxok,play
	call grend,hide
	push "sndok"
	cthis cglowa
	end method
	method cmov_PUT
	push GAME
	spushs
	spop $a
	call [$a],cput
	push sactpuz
	call rec2,fit
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l1999
	push 1
	cthis cactsndstop
	jmp l1998
l1999:
	push igmstate
	push 111
	cmpje
	cmp0
	je l2001
	push "MenuPuzzle"
	call gameapi,play
l2001:
l1998:
	end method
	method exit_click
	push "MenuPuzzle"
	cthis askfor
	end method
	end game

	class TWstaw
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "imgbkg"
	push $1
	push 0
	cthis newimg
	push "anbgel"
	push $2
	push 0
	cthis newanima
	push "anbgel"
	call imgbkg,blit
	new DelayMover,cmov
	new gmimgvec,grels
	push "grels"
	push $3
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	call grels,setz
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2003
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	cthis twstaw_get
l2003:
	end method
	method cmov_PUT
	cthis twstaw_put
	localstring $1
	cthis getmover
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	call cllen,ilen
	push 40
	cmpjl
	cmp0
	je l2005
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	cthis free
	push $1
	call grels,remove
	call grels,empty
	cmp0
	je l2007
	cthis twstaw_end
	jmp l2006
l2007:
	cthis twstaw_ok
l2006:
	jmp l2004
l2005:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	cthis retobj
l2004:
	end method
	method twstaw_end
	end method
	method twstaw_ok
	end method
	method twstaw_put
	end method
	method twstaw_get
	end method
	end class

	game Wstaw
	parent MenuGry
	parent TWstaw
	method init
	clparent MenuGry,init
	delete anbkg
	push "wstaw"
	cthis path=
	push "bgwstaw.png"
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push sSubObraz
	push "kol.pyz"
	pop $b
	popax
	add $a,$b
	cthis tinit
	cthis crect
	push "grels"
	call rec,fitgrouprand
	cthis lockall
	push "wstaw"
	cthis setsndbase
	cthis removehelp
	push A
	push "sndintro"
	push "Wstaw brakujce elementy do obrazka"
	push "cunstop"
	push "sndend"
	push "Doskonale! Obrazek uzupeniony"
	push "Wstaw0"
	cthis sounds=
	push "sndtak"
	push "myes"
	push "cstop"
	cthis importbank
	push "sndintro"
	cthis cglowa
	end method
	method Wstaw0
	cthis cstop
	push 11
	pop igmstate
	end method
	method twstaw_get
	call fxgetpuz,play
	end method
	method twstaw_put
	call fxputpuz,play
	end method
	method twstaw_ok
	push "sndtak"
	cthis cglowa
	end method
	method twstaw_end
	push "sndend"
	cthis cglowa
	call fxok,play
	end method
	method mouse_lclick
	push igmstate
	push 11
	cmpje
	cmp0
	je l2009
	push "MenuWstaw"
	call gameapi,play
l2009:
	end method
	method exit_click
	push "MenuWstaw"
	call gameapi,play
	end method
	end game

	game IntroPreh
	parent Dzieje
	method init
	push "intropreh"
	clparent Dzieje,init
	push "intro"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis img=
	push "timtik"
	push 3000
	push "IntroPreh0"
	cthis timer=
	call timtik,play
	end method
	method IntroPreh0
	cthis mend
	end method
	method mend
	push "MenuPreh"
	call gameapi,play
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

	game MenuPreh
	parent Dzieje
	parent TMenu
	method init
	push "menupreh"
	clparent Dzieje,init
	push "menu"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis tinit
	push 1
	call but1,bcheck2klik=
	push "mamut.pyz 50"
	cthis img=
	push "onfinish"
	push "MenuPreh0"
	call anmamut,addmethod
	push 0
	call but1,balpha=
	push 1
	pop bPrehMenuGry
	push A
	push "sndintro"
	push "Witamy w programie Dzieje Ludzi Prehistoria; Wybierz rodzaj zabawy"
	push "MenuPreh1"
	push "sndgry"
	push "Gry i zabawy"
	push "cstopm"
	push "sndopowiesc"
	push "Opowie o przygodach prehistorycznego myliwego"
	push "cstopm"
	push "sndepoka"
	push "Poznaj ycie naszych przodkw"
	push "cstopm"
	push "sndquiz"
	push "Sprawd swoj wiedz"
	push "cstopm"
	cthis sounds=
	push igmbegin
	cmp0
	je l2011
	push 0
	pop igmbegin
	push "sndintro"
	cthis cbplay
l2011:
	cthis gmunlockall
	push igmipad
	cmp0
	je l2013
	call but1,MenuPreh2
l2013:
	end method
	method MenuPreh0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method MenuPreh1
	cthis cstopm
	cthis gmunlockall
	end method
	method MenuPreh2
	push "exit"
	call grbuts,findsac
	call grbuts,get
	spushs
	spop $a
	call [$a],hide
	end method
	method cstopm
	push 0
	call anmamut,stop
	push 0
	push 0
	call anmamut,setframe
	end method
	method cbplay
	localstring $1
	pop $1
	push $1
	clparent classsound,cbplay2
	push 0
	call anmamut,stop
	push 0
	call anmamut,play
	end method
	method gry_BUTCLICK
	push "PrehMenuGry"
	call gameapi,play
	end method
	method opowiesc_MOVEON
	push igmdemo
	cmp0
	je l2015
	localdef $1
	call but1,getbut
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push 80
	pop $b
	popax
	sub $a,$b
	cthis inpiecz
l2015:
	end method
	method opowiesc_MOVEOFF
	cthis outpiecz
	end method
	method opowiesc_BUTCLICK
	push igmdemo
	neg
	cmp0
	je l2017
	push "Opowiesc"
	call gameapi,play
l2017:
	end method
	method quiz_BUTCLICK
	push "MenuQuiz"
	call gameapi,play
	end method
	method epoka_BUTCLICK
	push "Prehistoria"
	call gameapi,play
	end method
	method exit_BUTCLICK
	call claskexit,askexitgame
	end method
	end game

	game Outro
	parent Dzieje
	method init
	push "outro"
	clparent Dzieje,init
	push "outro.pyz"
	cthis img=
	push "timtik"
	push 7000
	push "Outro0"
	cthis timer=
	call timtik,play
	end method
	method Outro0
	call anoutro,framenr
	cmp0
	je l2019
	call gameapi,exit
	jmp l2018
l2019:
	push 0
	push 1
	call anoutro,setframe
l2018:
	push 40000
	cthis delay
	cthis play
	end method
	method mouse_lclick
	push 1
	call timtik,stop
	end method
	end game

	class Outro_common
	parent Dzieje
	method init
	localstring $1
	pop $1
	push "outro"
	clparent Dzieje,init
	push $1
	cthis img=
	push "timtik"
	push 10000
	push "Outro_common0"
	cthis timer=
	call timtik,play
	end method
	method Outro_common0
	call gameapi,exit
	end method
	method mouse_lclick
	push 1
	call timtik,stop
	end method
	end class

	game Outrocze
	parent Outro_common
	method init
	push "outrocze.png"
	clparent Outro_common,init
	end method
	end game

	game Outroslo
	parent Outro_common
	method init
	push "outroslo.png"
	clparent Outro_common,init
	end method
	end game

	game Outroeng
	parent Dzieje
	method init
	push "outro"
	clparent Dzieje,init
	push "outroeng.pyz"
	cthis img=
	end method
	method mouse_lclick
	call anoutroeng,framenr
	cmp0
	je l2021
	call gameapi,exit
	jmp l2020
l2021:
	push 0
	push 1
	call anoutroeng,setframe
l2020:
	end method
	end game

	class Epoka2
	parent Dzieje
	method init
	localstring $1
	pop $1
	push $1
	pop sEpoka2
	push "plansza"
	clparent Dzieje,init
	push A
	push "prehistoria"
	push "Prehistoria"
	push "egipt"
	push "EpokaEg"
	push "daleki"
	push "EpokaCh"
	push "europa"
	push "EpokaSr"
	push "afryka"
	push "EpokaAf"
	push "ameryka"
	push "EpokaAm"
	push "grecja"
	push "EpokaGr"
	push "rzym"
	push "EpokaRz"
	push "grgry"
	cthis list=
	new Button,but1
	push "grepoki"
	push "epoki"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "Epoka20"
	call but1,load
	push "epoki"
	cthis path=
	end method
	method Epoka20
	localdef $1
	pop $1
	cthis show
	push 10
	cthis setz
	push "isbutin"
	push "Epoka21"
	cthis addmethod
	cthis actionname
	push sEpoka2
	cmpjne
	cmp0
	je l2023
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2023:
	push "butmoveon"
	push "Epoka22"
	cthis addmethod
	push "butmoveoff"
	push "Epoka23"
	cthis addmethod
	push "butclick"
	push "Epoka24"
	cthis addmethod
	end method
	method Epoka21
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Epoka22
	call fxpop,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Epoka23
	call advmouse,setstd
	cthis actionname
	push sEpoka2
	cmpjne
	cmp0
	je l2025
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l2025:
	end method
	method Epoka24
	cthis actionname
	call grgry,find
	push 1
	pop $b
	popax
	add $a,$b
	call grgry,get
	call gameapi,play
	end method
	end class

	new string,sEpoka2
	game EpokaSr
	parent Epoka2
	method init
	push "europa"
	clparent Epoka2,init
	push "sr_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis img=
	new gmimgvec,gmobs
	push "gmobs"
	push "sr_obs.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call gmobs,hide
	push "timtik"
	push 3000
	push "ipacgo"
	cthis timer=
	cthis ipacgo
	end method
	method ipacgo
	localdef $1
	call gmobs,first
	pop $1
	push 0
	call gmobs,removeat
	push $1
	spushs
	spop $a
	call [$a],show
	call gmobs,size
	cmp0
	je l2027
	call timtik,play
l2027:
	end method
	end game

	game EpokaRz
	parent Epoka2
	method init
	push "rzym"
	clparent Epoka2,init
	push "rz_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis img=
	push "annak"
	push "rz_nak"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 5
	cthis newanima
	new gmimgvec,gmobs
	push "gmobs"
	push "rz_obs.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "EpokaRz0"
	call gmobs,each
	push "timtik"
	push 20
	push "EpokaRz1"
	cthis timer=
	call timtik,play
	end method
	method EpokaRz0
	localdef $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2029
	localdef $2
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call gmobs,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getey
	cthis ansetbpos
l2029:
	end method
	method EpokaRz1
	push 0
	push 2
	popax
	sub 0,$a
	call gmobs,move
	localdef $1
	push 0
	call gmobs,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getey
	call annak,getpy
	cmpjle
	cmp0
	je l2031
	push 0
	call gmobs,removeat
	localdef $2
	call gmobs,last
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],ansetbpos
	push $1
	call gmobs,add
l2031:
	cthis play
	end method
	end game

	game EpokaCh
	parent Epoka2
	method init
	push "daleki"
	clparent Epoka2,init
	push "ch_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	cthis img=
	new string,simg1
	push "img1"
	pop simg1
	new string,simg2
	push "img2"
	pop simg2
	new img,img1
	new img,img2
	new int,iwidok
	push 1
	pop iwidok
	new string,sbaseimg
	cthis getgraphpath
	push "ch"
	pop $b
	popax
	add $a,$b
	pop sbaseimg
	new int,iilescen
	push 12
	pop iilescen
	new int,ibajkaz
	push 10
	pop ibajkaz
	new int,ileft
	push 525
	pop ileft
	new int,iup
	push 256
	pop iup
	push sbaseimg
	push 1
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	call img1,load
	push ileft
	push iup
	call img1,setpos
	push ibajkaz
	call img1,setz
	push 1
	push 2
	popax
	sub 0,$a
	cthis tmodeopacity
	push "timtik"
	push 3000
	push "mnext"
	cthis timer=
	cthis mnext
	end method
	method tmodeopacity
	localint $1
	localint $2
	pop $2
	pop $1
	new classfadeinout,clfio
	new int,iopacityc
	push $1
	pop iopacityc
	new int,iopacityd
	push $2
	pop iopacityd
	end method
	method mfinclfio
	push simg2
	spushs
	spop $a
	call [$a],hide
	push simg2
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	call timtik,play
	end method
	method mnext
	localint $1
	push iwidok
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2033
	push $1
	push iilescen
	cmpjle
	jmp l2035
l2033:
	push 0
	jmp l2035
l2034:
	push 1
l2035:
	cmp0
	je l2036
	jmp l2032
l2036:
	push 1
	pop $1
l2032:
	push $1
	pop iwidok
	push simg2
	spushs
	push sbaseimg
	push iwidok
	pop $b
	popax
	add $a,$b
	push ".png"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push simg2
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	push simg2
	spushs
	push ileft
	push iup
	spop $a
	call [$a],setpos
	push simg2
	spushs
	push ibajkaz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push simg1
	spushs
	push ibajkaz
	spop $a
	call [$a],setz
	push iopacityc
	push iopacityd
	push simg1
	push "mfinclfio"
	call clfio,imgtransparency
	localstring $2
	push simg1
	pop $2
	push simg2
	pop simg1
	push $2
	pop simg2
	end method
	method mfinpop
	push iwidok
	push iilescen
	cmpja
	cmp0
	je l2038
	push 1
	pop iwidok
l2038:
	cthis mnext
	end method
	end game

	game EpokaAf
	parent Epoka2
	method init
	push "afryka"
	clparent Epoka2,init
	push LANG
	push "eng"
	cmpje
	cmp0
	je l2040
	push A
	push "af_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "af_obs.pyz 10"
	cthis imgs=
	push 0
	call anaf_obs,anloopplay
	jmp l2039
l2040:
	push A
	push "af_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis imgs=
l2039:
	end method
	end game

	game EpokaAm
	parent Epoka2
	method init
	push "ameryka"
	clparent Epoka2,init
	push A
	push "am_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis imgs=
	end method
	end game

	game EpokaPr
	parent Epoka2
	method init
	push "prehistoria"
	clparent Epoka2,init
	push A
	push "gr_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "gr_obeng.pyz 10"
	cthis imgs=
	push 0
	call angr_obs,anloopplay
	end method
	end game

	game EpokaGr
	parent Epoka2
	method init
	push "grecja"
	clparent Epoka2,init
	push A
	push "gr_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "gr_obs.pyz 10"
	cthis imgs=
	push 0
	call angr_obs,anloopplay
	end method
	end game

	game EpokaEg
	parent Epoka2
	method init
	push "egipt"
	clparent Epoka2,init
	push A
	push "eg_bg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "eg_obs.pyzH"
	cthis imgs=
	new gmimgvec,greps
	new int,iaction
	push 0
	pop iaction
	new int,iframe
	push 0
	pop iframe
	push "timtik"
	push 1000
	push "EpokaEg0"
	cthis timer=
	cthis loadacts
	end method
	method EpokaEg0
	push iframe
	push iaction
	call aneg_obs,nofframes
	cmpjl
	cmp0
	je l2042
	push iframe
	call greps,get
	spushs
	spop $a
	call [$a],show
	add iframe,1
	pop iframe
	push iframe
	push iaction
	call aneg_obs,nofframes
	cmpje
	cmp0
	je l2044
	push 3000
	cthis delay
l2044:
	cthis play
	jmp l2041
l2042:
	add iaction,1
	pop iaction
	push iaction
	call aneg_obs,nofactions
	cmpja
	cmp0
	je l2046
	push 0
	pop iaction
l2046:
	push GAME
	spushs
	spop $a
	call [$a],loadacts
l2041:
	end method
	method loadacts
	call greps,deleteallgm
	call greps,free
	push "aneg_obs"
	push "anegob"
	push iaction
	push "greps"
	cthis newanframesgr
	popax
	push 0
	pop iframe
	call greps,hide
	push 1000
	call timtik,delay
	call timtik,play
	end method
	end game

	new int,SzkieletyHard
	push 0
	pop SzkieletyHard
	game Szkielety
	parent MenuGry
	method init
	clparent MenuGry,init
	push "szkielety"
	cthis path=
	push A
	push sSubObraz
	cthis sfxs=
	push "szkielety"
	cthis setsndbase
	new DelayMover,cmov
	push "anend"
	push sSubObraz
	push "end.pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	call anend,hide
	push "anend"
	push "anend2"
	cthis copyanima
	push 10
	call anend2,setz
	call anend2,anaddfilter
	push "anpom"
	push sSubObraz
	push "podpo.pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	call anpom,hide
	new classsimplebutton,cbx
	push "scripts/szkielety/"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	push "x.pyz"
	pop $b
	popax
	add $a,$b
	push "imglobcurs"
	push 0
	push 0
	push 0
	push 0
	call cbx,build
	new classfadeinout,clfio
	new gmimgvec,grels
	push "grels"
	push sSubObraz
	push "skel.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push 5
	call grels,setz
	cthis crect2
	push sSubObraz
	spushs
	push "mamut"
	cmpst
	jne l2048
	spop $a
	push 12
	push 184
	push 445
	push 504
	new Rect,rec3
	jmp l2047
l2048:
	push "pies"
	cmpst
	jne l2049
	spop $a
	push 7
	push 184
	push 445
	push 504
	new Rect,rec3
	jmp l2047
l2049:
	push "bawol"
	cmpst
	jne l2050
	spop $a
	push 583
	push 198
	push 430
	push 484
	new Rect,rec3
	jmp l2047
l2050:
	push "kon"
	cmpst
	jne l2051
	spop $a
	push 583
	push 198
	push 430
	push 484
	new Rect,rec3
	jmp l2047
l2051:
	push "nosor"
	cmpst
	jne l2052
	spop $a
	push 583
	push 198
	push 430
	push 484
	new Rect,rec3
	jmp l2047
l2052:
	spop $a
l2047:
	push "grels"
	call rec3,fitgrouprand
	push A
	push "sndgo"
	push "Praca archeologa wymaga wiele wiedzy i cierpliwoci; Sprbuj odtworzy prehistoryczne zwierz ktrego koci le na planszy; Najed na przycisk pomoc jeli masz problemy"
	push "Szkielety0"
	push "sndok"
	push "C za precyzyjnie odtworzony szkielet! Widz zadatki na prawdziwego archeologa! Najed na przycisk X aby obejrze szkielet wewntrz zwierzcia"
	push "Szkielety1"
	cthis sounds=
	push "sndgo"
	cthis cglowa
	end method
	method Szkielety0
	push 1
	pop igmstate
	cthis cunstop
	end method
	method Szkielety1
	cthis cstop
	push 111
	pop igmstate
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2054
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 50
	spop $a
	call [$a],setz
	call fxgetpuz,play
	push $1
	cthis mssetobj
l2054:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	call rec2,fit
	push $1
	spushs
	push 20
	spop $a
	call [$a],aninlod
	cmp0
	je l2056
	call fxok,play
	push $1
	spushs
	push 0
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grels,remove
	call grels,empty
	cmp0
	je l2058
	call cmov,lock
	call anend,show
	call anend2,show
	push 1
	push 10
	push "anend2"
	push "Szkielety2"
	call clfio,setopacity
l2058:
	jmp l2055
l2056:
	push $1
	spushs
	push 5
	spop $a
	call [$a],setz
	call fxputpuz,play
l2055:
	end method
	method Szkielety2
	call anend,hide
	push "sndok"
	cthis cglowa
	push "fx"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	end method
	method cbx_MOVEON
	call fxstep,play
	push igmstate
	push 111
	cmpje
	cmp0
	je l2060
	push 0
	push 1
	call anend2,setframe
l2060:
	end method
	method cbx_MOVEOFF
	push igmstate
	push 111
	cmpje
	cmp0
	je l2062
	push 0
	push 0
	call anend2,setframe
l2062:
	end method
	method help_moveon
	call cmov,getlock
	neg
	cmp0
	je l2064
	push SzkieletyHard
	call anpom,framenr
	cmp0
	je l2066
	push 0
	jmp l2065
l2066:
	push 1
l2065:
	call anpom,setframe
	call anpom,show
l2064:
	end method
	method help_moveoff
	call anpom,hide
	end method
	method mouse_lclick
	push igmstate
	push 111
	cmpje
	cmp0
	je l2068
	push "MenuSzkielety"
	call gameapi,play
	jmp l2067
l2068:
	push igmstate
	push 0
	cmpje
	cmp0
	je l2070
	push 1
	cthis cactsndstop
l2070:
l2067:
	end method
	method exit_click
	push "MenuSzkielety"
	cthis askfor
	end method
	end game

	game Konstruktor3_1
	parent MenuGry
	method init
	clparent MenuGry,init
	push "konstr3/"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	cthis path=
	push sSubObraz
	cthis setsndbase
	new DelayMover,cmov
	new gmimgvec,grels
	new int,itoler
	push 20
	pop itoler
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "Konstruktor3_10"
	call grels,each
	push 10
	push 150
	push 1004
	push 618
	new Rect,rec2
	push 650
	push 211
	push 350
	push 400
	new Rect,rec
	push "sndtak"
	push "myes"
	push "cstop"
	cthis importbank
	push sSubObraz
	spushs
	push "bis1"
	cmpst
	jne l2074
	spop $a
	push A
	push "podklad.pyz"
	push "maska.pyz 75"
	cthis imgs=
	push 9
	push 7
	cthis require
	push A
	push "sndgo"
	push "Zostae mianowany gwnym architektem Biskupina; Pom dokoczy budow"
	push "cstart"
	push "sndend"
	push "wietnie! W takim grodzie moemy si czu bezpiecznie"
	push "cexit"
	cthis sounds=
	cthis removehelp
	jmp l2073
l2074:
	push "bis2"
	cmpst
	jne l2075
	spop $a
	push A
	push "podklad.pyz"
	push "start2.pyz 90"
	push "start3.pyz 105"
	cthis imgs=
	push 5
	push 4
	cthis require
	push 12
	push 11
	cthis require
	push 13
	push 12
	cthis require
	push 9
	push 5
	cthis require
	push 5
	push 6
	cthis require
	push A
	push "sndgo"
	push "Zbuduj bram i wie obronn Biskupina"
	push "cunstop"
	push "sndend"
	push "Doskonale! Z wiey dostrzeemy niebezpieczestwo i obronimy grd"
	push "cexit"
	cthis sounds=
	cthis removehelp
	jmp l2073
l2075:
	push "bis3"
	cmpst
	jne l2076
	spop $a
	push A
	push "podklad.pyz"
	push "helpH.pyz 5"
	push "podpoH.pyz 1000"
	cthis imgs=
	push "anpodpo"
	push "anpodpogo"
	cthis copyanima
	push 30
	pop itoler
	new classplacepointer2,clp
	new classsimplebutton,cbgo
	push "scripts/konstr3/bis3/podpobut.pyz"
	push "imglobcurs"
	push 0
	push 0
	push 100
	push 0
	call cbgo,build
	push 3
	push 0
	cthis require
	push 4
	push 1
	cthis require
	push 5
	push 2
	cthis require
	push 6
	push 3
	cthis require
	push 6
	push 4
	cthis require
	push 6
	push 5
	cthis require
	push 7
	push 3
	cthis require
	push 7
	push 4
	cthis require
	push 7
	push 5
	cthis require
	push 8
	push 6
	cthis require
	push 8
	push 7
	cthis require
	push 9
	push 6
	cthis require
	push 9
	push 7
	cthis require
	push 10
	push 6
	cthis require
	push 10
	push 7
	cthis require
	push 11
	push 6
	cthis require
	push 11
	push 7
	cthis require
	push 15
	push 12
	cthis require
	push 15
	push 13
	cthis require
	push 16
	push 13
	cthis require
	push 16
	push 14
	cthis require
	push A
	push "sndgo"
	push "Budowniczy nie zdy zbudowa kadki ale zrobi jej projekt na piasku; Dokocz budow; W razie problemw kliknij przycisk pomoc"
	push "cunstop"
	push "sndend"
	push "Dobrze; Zbudowae most e ho ho"
	push "cexit"
	cthis sounds=
	jmp l2073
l2076:
	push "rampa"
	cmpst
	jne l2077
	spop $a
	push A
	push "podklad.pyz"
	push "glaz.Hpyz 10"
	cthis imgs=
	push 10
	push 150
	push 1004
	push 255
	call rec,set
	cthis removehelp
	push A
	push "putbadpuz"
	push "demolka"
	push "ciagna"
	push "glaz"
	cthis sfxs=
	push "onendframe"
	push "Konstruktor3_11"
	call anglaz,addmethod
	push "onfinish"
	push "Konstruktor3_13"
	call anglaz,addmethod
	new gmobjvec,grcopyel
	push "grels"
	call grcopyel,copy
	new gmimgvec,grspada
	push "grspada"
	push "spada.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grspada,hide
	new classsimplebutton,cbrampa
	push "scripts/konstr3/rampa/butgo.pyz"
	push "imglobcurs"
	push 0
	push 0
	push 100
	push 0
	call cbrampa,build
	push 1
	push 0
	cthis require
	push 5
	push 2
	cthis require
	push 5
	push 3
	cthis require
	push 6
	push 2
	cthis require
	push 6
	push 3
	cthis require
	push 7
	push 3
	cthis require
	push 7
	push 4
	cthis require
	push 8
	push 3
	cthis require
	push 8
	push 4
	cthis require
	push A
	push "sndgo"
	push "Budowniczy Stonehenge musz wtoczy na dwa bloki gaz; Zbuduj im ramp podjazdow"
	push "cunstop"
	push "sndups"
	push "Ojoj wszystko trzeba zbudowa od pocztku"
	push "Konstruktor3_14"
	push "sndend"
	push "Brawo konstruktorze! Rampa wytrzymaa ciar"
	push "cexit"
	cthis sounds=
	jmp l2073
l2077:
	spop $a
l2073:
	push "grels"
	call rec,fitgrouprand
	push "sndgo"
	cthis cglowa
	end method
	method Konstruktor3_10
	localdef $1
	pop $1
	push sSubObraz
	push "bis2"
	cmpje
	cmp0
	je l2072
	push 10
	cthis framenr
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setz
	jmp l2071
l2072:
	push 300
	cthis framenr
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setz
l2071:
	new vector,vp
	end method
	method Konstruktor3_11
	cthis framename
	push "check"
	cmpje
	cmp0
	je l2079
	call grels,size
	jmp l2081
l2079:
	push 0
	jmp l2081
l2080:
	push 1
l2081:
	cmp0
	je l2082
	call fxdemolka,play
	push 1
	cthis play
	call grcopyel,hide
	push "play"
	push 1
	popax
	sub 0,$a
	call grspada,eval1
	push "Konstruktor3_12"
	call grspada,each
	jmp l2078
l2082:
	cthis framename
	push "glaz"
	cmpje
	cmp0
	je l2086
	call fxglaz,play
l2086:
l2078:
	end method
	method Konstruktor3_12
	localdef $1
	pop $1
	push $1
	call grels,findfr
	push 1
	popax
	sub 0,$a
	cmpjne
	cmp0
	je l2084
	cthis hide
l2084:
	end method
	method Konstruktor3_13
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cmp0
	je l2088
	push "sndups"
	cthis cglowa
	jmp l2087
l2088:
	push "sndend"
	cthis cglowa
l2087:
	end method
	method Konstruktor3_14
	cthis cstop
	push 16
	pop igmstate
	end method
	method cstart
	cthis cunstop
	end method
	method cbrampa_MOVEON
	call fxputbadpuz,play
	end method
	method cbrampa_CLICK
	push igmstate
	push 111
	cmpjne
	cmp0
	je l2090
	push igmstate
	push 16
	cmpjne
	cmp0
	je l2090
	push 0
	call grels,findfr
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2090
	push 1
	call grels,findfr
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l2092
l2090:
	push 0
	jmp l2092
l2091:
	push 1
l2092:
	cmp0
	je l2093
	push 111
	pop igmstate
	call fxciagna,play
	call cmov,lock
	push 0
	call anglaz,play
l2093:
	end method
	method help_moveon
	push sSubObraz
	push "bis3"
	cmpje
	cmp0
	je l2095
	push 0
	call anhelp,framenr
	cmp0
	je l2097
	push 0
	jmp l2096
l2097:
	push 1
l2096:
	call anhelp,setframe
	call anhelp,show
l2095:
	end method
	method help_moveoff
	push sSubObraz
	push "bis3"
	cmpje
	cmp0
	je l2099
	call anhelp,hide
l2099:
	end method
	method cbgo_MOVEON
	call fxstep,play
	end method
	method cbgo_CLICK
	call fxok,play
	call anpodpo,show
	push 1
	call anpodpogo,play
	end method
	method require
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	call grels,get
	spushs
	push $2
	spop $a
	call [$a],Konstruktor3_15
	end method
	method Konstruktor3_15
	localdef $1
	pop $1
	push $1
	call vp,add
	end method
	method hasrequired
	localint $1
	push 0
	pop $1
l2100:
	push $1
	call vp,size
	cmpjl
	cmp0
	je l2101
	jmp l2103
l2102:
	add $1,1
	pop $1
	jmp l2100
l2103:
	push $1
	call vp,get
	call grels,findfr
	push 1
	popax
	sub 0,$a
	cmpjne
	cmp0
	je l2105
	push 0
	ret
l2105:
	jmp l2102
l2101:
	push 1
	end method
	method mouse_lclick
	call sndgo,isplaying
	cmp0
	je l2107
	push 1
	cthis cactsndstop
l2107:
	push igmstate
	push 16
	cmpje
	cmp0
	je l2109
	push "Konstruktor3_1"
	call gameapi,play
l2109:
	push sSubObraz
	push "rampa"
	cmpje
	cmp0
	je l2111
	push "MenuKons4"
	jmp l2110
l2111:
	push "MenuKons3"
l2110:
	cthis cquit
	call mouse,getpos
	push 1
	push 1
	call anglowa,isin
	cmp0
	je l2113
	cthis cisplaying
	neg
	jmp l2115
l2113:
	push 0
	jmp l2115
l2114:
	push 1
l2115:
	cmp0
	je l2116
	push "sndgo"
	cthis cglowa
l2116:
	end method
	method cmov_GET
	push sSubObraz
	push "bis3"
	cmpje
	cmp0
	je l2118
	call anpodpo,isvisible
	jmp l2120
l2118:
	push 0
	jmp l2120
l2119:
	push 1
l2120:
	cmp0
	je l2121
	call anpodpogo,anhide
	call anpodpo,hide
	jmp l2117
l2121:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2123
	localdef $1
	call grels,getsfound
	pop $1
	push sSubObraz
	push "bis2"
	cmpjne
	cmp0
	je l2125
	push $1
	spushs
	push 600
	spop $a
	call [$a],setz
l2125:
	call fxgetpuz,play
	push $1
	cthis mssetobj
l2123:
l2117:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	call rec2,fit
	push $1
	spushs
	push itoler
	spop $a
	call [$a],aninlod
	cmp0
	je l2127
	push $1
	spushs
	spop $a
	call [$a],hasrequired
	jmp l2129
l2127:
	push 0
	jmp l2129
l2128:
	push 1
l2129:
	cmp0
	je l2130
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push sSubObraz
	push "bis2"
	cmpjne
	cmp0
	je l2132
	push $1
	spushs
	push 10
	push $1
	spushs
	spop $a
	call [$a],framenr
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
l2132:
	push $1
	call grels,remove
	call fxok,play
	call grels,empty
	cmp0
	je l2134
	push 0
	push 3
	call sSubObraz,getb
	push "bis"
	cmpje
	jmp l2136
l2134:
	push 0
	jmp l2136
l2135:
	push 1
l2136:
	cmp0
	je l2137
	push "sndend"
	cthis cglowa
	jmp l2133
l2137:
	push "sndtak"
	cthis cglowa
l2133:
	jmp l2126
l2130:
	push sSubObraz
	push "bis2"
	cmpjne
	cmp0
	je l2139
	push $1
	spushs
	push 300
	push $1
	spushs
	spop $a
	call [$a],framenr
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
l2139:
	call fxputpuz,play
l2126:
	end method
	method exit_click
	push igmstate
	push 16
	cmpjne
	cmp0
	je l2141
	push sSubObraz
	push "rampa"
	cmpje
	cmp0
	je l2143
	push "MenuKons4"
	jmp l2142
l2143:
	push "MenuKons3"
l2142:
	cthis askfor
l2141:
	end method
	end game

	game Konstruktor2_3
	parent MenuGry
	method init
	clparent MenuGry,init
	push "konstr2/dom3"
	cthis path=
	push A
	push "upadl2"
	cthis sfxs=
	push "dom3"
	cthis setsndbase
	new DelayMover,cmov
	push A
	push "podklad.pyz"
	push "kolek.pyz 100"
	push "zatyczka.pyz 110"
	cthis imgs=
	push A
	push "getitem"
	cthis sfxs=
	push 701
	push 509
	call anzatyczka,ansetbpos
	push 663
	push 160
	call ankolek,ansetbpos
	new gmimgvec,grdach
	push "grdach"
	push "dach.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 95
	call grdach,setz
	push 3
	call grdach,setdelay
	new gmimgvec,grsciana
	cthis crect2
	push "grsciana"
	push "sciana.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 90
	call grsciana,setz
	new gmimgvec,grdrzwi
	push "grdrzwi"
	push "drzwi.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 800
	push 260
	push 200
	push 200
	new Rect,recsciana
	push "grsciana"
	call recsciana,fitgrouprand
	push 800
	push 460
	push 200
	push 200
	new Rect,recdach
	push "grdach"
	call recdach,fitgrouprand
	new string,sdzwiek
	push "sndintro"
	pop sdzwiek
	new int,bdzwiek
	push 0
	pop bdzwiek
	push A
	push "sndintro"
	push "Teraz zbudujesz prehistorycznych kamienny domek; Zacznij od ciany"
	push "gonext"
	push "sndgo1"
	push "Dobrze; Teraz zbuduj dach"
	push "gonext"
	push "sndgo2"
	push "Dom prawie gotowy; Zatkaj dach bo zbiera si na deszcz"
	push "gonext"
	push "sndgo3"
	push "Super mamy ju gotowy dom; teraz tylko wybierz kilka kamieni ze ciany ebymy mieli jak we do rodka"
	push "gonext"
	push "sndend"
	push "Wspaniale zbudowae pikny kamienny dom; Sprbuj pobudowa inne"
	push "cexit"
	cthis sounds=
	new int,savx
	new int,savy
	new int,iileok
	push 0
	pop iileok
	cthis removehelp
	push "sndintro"
	cthis cglowa
	end method
	method gonext
	cthis unlockall
	cthis cunstop
	push bdzwiek
	cmp0
	je l2145
	push 0
	pop bdzwiek
	jmp l2144
l2145:
	add igmstate,1
	pop igmstate
l2144:
	end method
	method cmov_GET
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localstring $3
	push igmstate
	spushs
	push 1
	cmpst
	jne l2147
	spop $a
	push $1
	push $2
	push 1
	push 1
	call grsciana,isin
	cmp0
	je l2149
	call grsciana,getsfound
	spushs
	spop $a
	call [$a],getz
	push 90
	cmpje
	jmp l2151
l2149:
	push 0
	jmp l2151
l2150:
	push 1
l2151:
	cmp0
	je l2152
	call grsciana,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],getpx
	pop savx
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop savy
	push $3
	cthis mssetobj
	call fxgetpuz,play
l2152:
	jmp l2146
l2147:
	push 2
	cmpst
	jne l2153
	spop $a
	push $1
	push $2
	push 1
	push 1
	call grdach,isin
	cmp0
	je l2155
	call grdach,getsfound
	spushs
	spop $a
	call [$a],getz
	push 95
	cmpje
	jmp l2157
l2155:
	push 0
	jmp l2157
l2156:
	push 1
l2157:
	cmp0
	je l2158
	call grdach,getsfound
	pop $3
	push $3
	spushs
	spop $a
	call [$a],getpx
	pop savx
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop savy
	push $3
	cthis mssetobj
	call fxgetpuz,play
	jmp l2154
l2158:
	push $1
	push $2
	push 1
	push 1
	call ankolek,isin
	cmp0
	je l2160
	call ankolek,getz
	push 100
	cmpje
	jmp l2162
l2160:
	push 0
	jmp l2162
l2161:
	push 1
l2162:
	cmp0
	je l2163
	push "ankolek"
	cthis mssetobj
	call fxgetpuz,play
l2163:
l2154:
	jmp l2146
l2153:
	push 3
	cmpst
	jne l2164
	spop $a
	push $1
	push $2
	push 1
	push 1
	call anzatyczka,isin
	cmp0
	je l2166
	call anzatyczka,getpx
	pop savx
	call anzatyczka,getpy
	pop savy
	push "anzatyczka"
	cthis mssetobj
	call fxgetpuz,play
l2166:
	jmp l2146
l2164:
	push 4
	cmpst
	jne l2167
	spop $a
	push $1
	push $2
	push 1
	push 1
	call grdrzwi,isin
	cmp0
	je l2169
	localdef $4
	call grdrzwi,getfound
	pop $4
	call fxgetitem,play
	push $4
	spushs
	push 0
	cmpst
	jne l2171
	spop $a
	push 0
	call grdrzwi,get
	spushs
	spop $a
	call [$a],hide
	jmp l2170
l2171:
	push 1
	cmpst
	je l2173
	push 2
	cmpst
	je l2173
	jmp l2172
l2173:
	spop $a
	push 0
	call grdrzwi,get
	spushs
	spop $a
	call [$a],isvisible
	neg
	cmp0
	je l2175
	push $4
	call grdrzwi,get
	spushs
	spop $a
	call [$a],hide
l2175:
	jmp l2170
l2172:
	push 3
	cmpst
	jne l2176
	spop $a
	push 1
	call grdrzwi,get
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	jne l2179
	push 2
	call grdrzwi,get
	spushs
	spop $a
	call [$a],isvisible
	jmp l2180
l2178:
	push 0
	jmp l2180
l2179:
	push 1
l2180:
	neg
	cmp0
	je l2181
	push 3
	call grdrzwi,get
	spushs
	spop $a
	call [$a],hide
	call cmov,lock
	push "sndend"
	cthis cglowa
l2181:
	jmp l2170
l2176:
	spop $a
l2170:
l2169:
	jmp l2146
l2167:
	spop $a
l2146:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	call rec2,fit
	call fxputpuz,play
	push igmstate
	spushs
	push 1
	cmpst
	jne l2183
	spop $a
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop $2
	push $1
	spushs
	push 20
	spop $a
	call [$a],aninlod
	cmp0
	je l2185
	push $2
	push 2
	cmpjl
	cmp0
	jne l2188
	push $2
	push 2
	pop $b
	popax
	sub $a,$b
	call grsciana,get
	spushs
	push 0
	spop $a
	call [$a],aninlod
	jmp l2189
l2187:
	push 0
	jmp l2189
l2188:
	push 1
l2189:
	jmp l2190
l2185:
	push 0
	jmp l2190
l2186:
	push 1
l2190:
	cmp0
	je l2191
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 80
	spop $a
	call [$a],setz
	add iileok,1
	pop iileok
	push iileok
	call grsciana,size
	cmpje
	cmp0
	je l2193
	push 0
	pop iileok
	call cmov,lock
	push "sndgo1"
	pop sdzwiek
	push "sndgo1"
	cthis cglowa
l2193:
	jmp l2184
l2191:
	push $1
	spushs
	push savx
	push savy
	spop $a
	call [$a],ansetbpos
l2184:
	jmp l2182
l2183:
	push 2
	cmpst
	jne l2194
	spop $a
	push $1
	push "ankolek"
	cmpje
	cmp0
	je l2196
	push 20
	call ankolek,aninlod
	cmp0
	je l2198
	push 98
	call ankolek,setz
	push 0
	push 0
	call ankolek,setpos
l2198:
	jmp l2195
l2196:
	call ankolek,getz
	push 100
	cmpje
	cmp0
	je l2200
	push $1
	spushs
	push 20
	spop $a
	call [$a],aninlod
	cmp0
	je l2202
	call cmov,lock
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push "Konstruktor2_30"
	spop $a
	call [$a],anplayfin
	jmp l2201
l2202:
	push $1
	spushs
	push savx
	push savy
	spop $a
	call [$a],ansetbpos
l2201:
	jmp l2199
l2200:
	push $1
	spushs
	push 20
	spop $a
	call [$a],aninlod
	cmp0
	je l2204
	add iileok,1
	pop iileok
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 93
	spop $a
	call [$a],setz
	push iileok
	push 2
	cmpje
	cmp0
	je l2206
	call cmov,lock
	push "sndgo2"
	pop sdzwiek
	push "sndgo2"
	cthis cglowa
l2206:
	jmp l2203
l2204:
	push $1
	spushs
	push savx
	push savy
	spop $a
	call [$a],ansetbpos
l2203:
l2199:
l2195:
	jmp l2182
l2194:
	push 3
	cmpst
	jne l2207
	spop $a
	push 20
	call anzatyczka,aninlod
	cmp0
	je l2209
	push 0
	push 0
	call anzatyczka,setpos
	call cmov,lock
	push "sndgo3"
	pop sdzwiek
	push "sndgo3"
	cthis cglowa
l2209:
	jmp l2182
l2207:
	spop $a
l2182:
	end method
	method Konstruktor2_30
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	push $1
	push $2
	cthis ansetbpos
	cthis unlockall
	call fxupadl2,play
	end method
	method mouse_lclick
	call mouse,getpos
	push 1
	push 1
	call anglowa,isin
	cmp0
	je l2211
	cthis cisplaying
	neg
	jmp l2213
l2211:
	push 0
	jmp l2213
l2212:
	push 1
l2213:
	cmp0
	je l2214
	call cmov,lock
	push 1
	pop bdzwiek
	push sdzwiek
	cthis cglowa
l2214:
	push "MenuKons2"
	cthis cquit
	end method
	method exit_click
	push "MenuKons2"
	cthis askfor
	end method
	end game

	game Konstruktor2_2
	parent MenuGry
	method init
	clparent MenuGry,init
	push "konstr2/"
	push sSubObraz
	pop $b
	popax
	add $a,$b
	cthis path=
	push sSubObraz
	cthis setsndbase
	new DelayMover,cmov
	new string,sdzwiek
	push "sndintro"
	pop sdzwiek
	cthis crect2
	push "podklad.pyz"
	cthis img=
	new gmimgvec,grels
	push "grels"
	push "kola.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grels,setz
	new gmimgvec,grshow
	push "grshow"
	push "show.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grshow,hide
	new int,ilevel
	push 0
	pop ilevel
	new int,ishowlev
	push 0
	pop ishowlev
	new classplacepointer2,clp
	push "timtik"
	push 1000
	push "showlev"
	cthis timer=
	cthis showlev
	push sSubObraz
	push "dom2"
	cmpje
	cmp0
	je l2216
	push 100
	push 300
	push 400
	push 300
	new Rect,rec
	jmp l2215
l2216:
	push 130
	push 200
	push 700
	push 150
	new Rect,rec
l2215:
	push "grels"
	call rec,fitgrouprand
	push "Konstruktor2_20"
	call grels,each
	push sSubObraz
	push "dom2"
	cmpje
	cmp0
	je l2220
	push 3
	call grels,get
	spushs
	spop $a
	call [$a],Konstruktor2_23
	push 7
	call grels,get
	spushs
	spop $a
	call [$a],Konstruktor2_24
	push A
	push "sndintro"
	push "W tej grze zbudujesz popularn w czasach prehistorycznych ziemiank"
	push "Konstruktor2_25"
	push "sndgo1"
	push "W te koa bdziesz wstawia po kolei kafelki z czynnociami ktre trzeba wykona najpierw"
	push "Konstruktor2_26"
	push "sndgo2"
	push "Jeli wstawisz poprawny kafelek na tym kawaku ziemi zobaczysz jak prehistoryczny myliwy buduje ziemiank"
	push "Konstruktor2_27"
	push "sndgo3"
	push "Zaczynamy; najpierw wstaw pod kko numer 1 kafelek z elementem ktrym wykopiesz d"
	push "Konstruktor2_28"
	push "sndok1"
	push "Tak jest; za pomoc rogu osia myliwy wykopa d pod ziemiank; Nim pooymy dach musimy wzmocni d eby si nie zapad"
	push "gonext"
	push "sndok2"
	push "wietnie pale powstrzymaj osypywanie si ziemi; Teraz zbuduj konstrukcj dachu"
	push "gonext"
	push "sndok3"
	push "OK; Czas na nieprzemakalny sufit"
	push "gonext"
	push "sndok4"
	push "Dobrze skry ochroni ziemiank przed wilogoci i nie przepuszcz piasku; Teraz wzmocnij dach"
	push "gonext"
	push "sndok5"
	push "Ziemia dobrze chroni przed zimnem ale potrzebujemy jeszcze co na ni pooy eby wiatr jej nie rozrzuci lub nie zamienia si w boto"
	push "gonext"
	push "sndok6"
	push "Super dach gotowy; Teraz wzmocnij podog"
	push "gonext"
	push "sndok7"
	push "Kamienie s stabilne ale za twarde; Po dywan"
	push "gonext"
	push "sndok8"
	push "Pozostao nam umieszczenie wojownika w ziemiance"
	push "gonext"
	push "sndok9"
	push "Gratuluj zbudowae wojownikowi wspaniay dom"
	push "cexit"
	cthis sounds=
	jmp l2219
l2220:
	push sSubObraz
	push "stone"
	cmpje
	cmp0
	je l2222
	call grshow,first
	spushs
	spop $a
	call [$a],hide
	push 4
	call grels,get
	spushs
	spop $a
	call [$a],Konstruktor2_29
	push 7
	call grels,get
	spushs
	spop $a
	call [$a],Konstruktor2_210
	push A
	push "poczatek.pyz"
	push "ups.pyzH"
	cthis imgs=
	push A
	push "glaz"
	push "ciagna"
	push "upadl"
	push "padlglaz"
	cthis sfxs=
	push "onfinish"
	push "Konstruktor2_211"
	call anups,addmethod
	push A
	push "sndintro"
	push "W tej grze pokierujesz prehistorycznymi budowniczymi przy pracach w Stonehenge"
	push "Konstruktor2_212"
	push "sndgo1"
	push "W te kwadraty bdziesz wstawia po kolei kafelki z czynnociami ktre trzeba wykona najpierw"
	push "Konstruktor2_213"
	push "sndgo2"
	push "Twoi ludzie musz pooy gaz na dwch blokach kamiennych"
	push "Konstruktor2_214"
	push "sndgo3"
	push "Zaczynamy; Najpierw usyp podjazd pod kamienne bloki"
	push "Konstruktor2_215"
	push "sndok1"
	push "Mamy ju nasyp; Co dalej?"
	push "gonext"
	push "sndok2"
	push "Ok Po tych belkach wtoczymy gaz"
	push "gonext"
	push "sndok3"
	push "Gaz przygotowany Co teraz?"
	push "gonext"
	push "sndok4"
	push "Do gazu przywizalimy liny; Co dalej?"
	push "gonext"
	push "sndok5"
	push "Uff ale wysoko wcignlimy; Czas troch odpocz i posili si"
	push "gonext"
	push "sndok6"
	push "Gaz zabezpieczony teraz moemy je"
	push "gonext"
	push "sndok7"
	push "No to wcigamy dalej"
	push "gonext"
	push "sndok8"
	push "Hip hip hurra nakrylimy bloki kamienne"
	push "cexit"
	push "sndups"
	push "Ojojoj my tu jemy a gaz niezabezpieczony! Wciganie trzeba zaczyna od nowa"
	push "cunstop"
	cthis sounds=
l2222:
l2219:
	cthis removehelp
	call cmov,lock
	push "sndintro"
	cthis cglowa
	end method
	method Konstruktor2_20
	localdef $1
	pop $1
	new vector,vpom
	cthis framenr
	call vpom,add
	push "contains"
	push "Konstruktor2_21"
	cthis addmethod
	push "getproper"
	push "Konstruktor2_22"
	cthis addmethod
	end method
	method Konstruktor2_21
	localint $1
	pop $1
	push $1
	call vpom,contains
	end method
	method Konstruktor2_22
	localdef $1
	push ilevel
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	cthis framenr
	push $1
	cmpje
	cmp0
	je l2218
	cthis getname
	jmp l2217
l2218:
	localdef $2
	push $1
	call grels,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ansetbpos
	push $2
l2217:
	end method
	method Konstruktor2_23
	push 7
	call vpom,add
	end method
	method Konstruktor2_24
	push 3
	call vpom,add
	end method
	method Konstruktor2_25
	push "sndgo1"
	cthis cglowa
	localdef $1
	call grels,first
	pop $1
	localint $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $3
	pop $2
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	push "ld"
	call clp,showob
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	end method
	method Konstruktor2_26
	push "sndgo2"
	cthis cglowa
	call grshow,first
	push "rd"
	call clp,showob
	end method
	method Konstruktor2_27
	push "sndgo3"
	cthis cglowa
	call clp,stoph
	end method
	method Konstruktor2_28
	cthis cunstop
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method Konstruktor2_29
	push 7
	call vpom,add
	end method
	method Konstruktor2_210
	push 4
	call vpom,add
	end method
	method Konstruktor2_211
	cthis unlockall
	push 5
	pop ilevel
	push "sndok"
	push 4
	pop $b
	popax
	add $a,$b
	pop sdzwiek
	call grshow,hide
	push 4
	call grshow,get
	spushs
	spop $a
	call [$a],show
	push "grels"
	call rec,fitgrouprand
	push 4
	call grels,get
	spushs
	push 20
	spop $a
	call [$a],setz
	localint $1
	push 0
	pop $1
l2223:
	push $1
	push 4
	cmpjl
	cmp0
	je l2224
	jmp l2226
l2225:
	add $1,1
	pop $1
	jmp l2223
l2226:
	push $1
	call grels,get
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	jmp l2225
l2224:
	cthis hide
	end method
	method Konstruktor2_212
	push "sndgo1"
	cthis cglowa
	localdef $1
	call grels,first
	pop $1
	localint $2
	localint $3
	push $1
	spushs
	spop $a
	call [$a],getpos
	pop $3
	pop $2
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	push "ld"
	call clp,showob
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	end method
	method Konstruktor2_213
	push "sndgo2"
	cthis cglowa
	call grshow,first
	spushs
	spop $a
	call [$a],show
	call anpoczatek,hide
	push 784
	push 423
	push "ld"
	call clp,show
	end method
	method Konstruktor2_214
	push "sndgo3"
	cthis cglowa
	call clp,stoph
	end method
	method Konstruktor2_215
	cthis cunstop
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gonext
	cthis cunstop
	end method
	method showlev
	push sSubObraz
	push "stone"
	cmpje
	cmp0
	je l2228
	push 10
	pop igmstate
	push ilevel
	push 0
	cmpja
	cmp0
	je l2230
	push ilevel
	push 1
	pop $b
	popax
	sub $a,$b
	call grshow,get
	spushs
	spop $a
	call [$a],hide
l2230:
	push ilevel
	call grshow,get
	spushs
	push ilevel
	push "Konstruktor2_216"
	spop $a
	call [$a],anplayfin
	add ilevel,1
	pop ilevel
	ret
l2228:
	push ishowlev
	call grshow,get
	spushs
	spop $a
	call [$a],show
	add ishowlev,1
	pop ishowlev
	push ishowlev
	call grshow,size
	cmpjl
	cmp0
	je l2232
	push ishowlev
	call grshow,get
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push ilevel
	cmpje
	jmp l2234
l2232:
	push 0
	jmp l2234
l2233:
	push 1
l2234:
	cmp0
	je l2235
	call timtik,play
	jmp l2231
l2235:
	add ilevel,1
	pop ilevel
l2231:
	end method
	method Konstruktor2_216
	push 1
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 10
	cmpje
	cmp0
	je l2237
	ret
l2237:
	call timtik,isplaying
	neg
	cmp0
	je l2239
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2239
	call grels,getsfound
	spushs
	spop $a
	call [$a],getz
	push 20
	cmpje
	jmp l2241
l2239:
	push 0
	jmp l2241
l2240:
	push 1
l2241:
	cmp0
	je l2242
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 40
	spop $a
	call [$a],setz
	call fxgetpuz,play
	push $1
	cthis mssetobj
l2242:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call fxputpuz,play
	push $1
	call rec2,fit
	localdef $2
	push ilevel
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localdef $3
	push $2
	call grels,get
	pop $3
	push $1
	spushs
	push 20
	spop $a
	call [$a],setz
	push 0
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push 15
	cmpjl
	cmp0
	je l2244
	push $1
	spushs
	push $2
	spop $a
	call [$a],contains
	cmp0
	je l2246
	push $1
	spushs
	spop $a
	call [$a],getproper
	pop $1
	call grshow,first
	spushs
	spop $a
	call [$a],hide
	push 5
	pop igmstate
	push "sndok"
	push ilevel
	pop $b
	popax
	add $a,$b
	pop sdzwiek
	push sdzwiek
	cthis cglowa
	cthis showlev
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	call cmov,lock
	jmp l2245
l2246:
	push sSubObraz
	push "stone"
	cmpje
	cmp0
	je l2248
	push ilevel
	push 6
	cmpje
	cmp0
	je l2248
	push $1
	spushs
	spop $a
	call [$a],framenr
	push 6
	cmpje
	jmp l2250
l2248:
	push 0
	jmp l2250
l2249:
	push 1
l2250:
	cmp0
	je l2251
	call grshow,hide
	call cmov,lock
	push "sndups"
	cthis cglowa
	push 1
	popax
	sub 0,$a
	call anups,play
l2251:
l2245:
l2244:
	end method
	method mouse_lclick
	push igmstate
	push 5
	cmpje
	cmp0
	je l2253
	push 1
	pop igmstate
	jmp l2252
l2253:
	call mouse,getpos
	push 1
	push 1
	call anglowa,isin
	cmp0
	je l2255
	cthis cisplaying
	neg
	jmp l2257
l2255:
	push 0
	jmp l2257
l2256:
	push 1
l2257:
	cmp0
	je l2258
	call cmov,lock
	push sdzwiek
	cthis cglowa
	jmp l2254
l2258:
	push igmstate
	push 10
	cmpjne
	cmp0
	je l2260
	cthis cgetactsnd
	push "sndups"
	cmpjne
	jmp l2262
l2260:
	push 0
	jmp l2262
l2261:
	push 1
l2262:
	cmp0
	je l2263
	push 1
	cthis cactsndstop
l2263:
l2254:
l2252:
	push sSubObraz
	push "stone"
	cmpje
	cmp0
	je l2265
	push "MenuKons4"
	jmp l2264
l2265:
	push "MenuKons2"
l2264:
	cthis cquit
	end method
	method exit_click
	push sSubObraz
	push "stone"
	cmpje
	cmp0
	je l2267
	push "MenuKons4"
	jmp l2266
l2267:
	push "MenuKons2"
l2266:
	cthis askfor
	end method
	end game

	game Konstruktor2_1
	parent MenuGry
	method init
	clparent MenuGry,init
	push "konstr2/chata"
	cthis path=
	push "chata"
	cthis setsndbase
	push A
	push "podklad.pyz"
	push "ognisko.pyz 1"
	cthis imgs=
	push 0
	call anognisko,play
	new gmimgvec,grmov
	push "grmov"
	push "mov.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grmov,hide
	push 100
	call grmov,setz
	new gmimgvec,grlezy
	push "grlezy"
	push "leza.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push "Konstruktor2_10"
	call grlezy,each
	new gmimgvec,grstos
	push "grstos"
	push "elementy.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grstos,hide
	push 1
	call grstos,setz
	push 0
	call grstos,get
	spushs
	push 0
	spop $a
	call [$a],setz
	push 1
	call grstos,get
	spushs
	push 0
	spop $a
	call [$a],setz
	new DelayMover,cmov
	push "dborder"
	push "order.db"
	cthis newdbscript
	new int,ordrow
	push 0
	pop ordrow
	push A
	push "sndgo"
	push "Zbuduj lepiank; Zacznij od paleniska i postawienia cian"
	push "cunstop"
	push "sndend"
	push "Super! Sam bym w takiej fajnej lepiance pomieszka"
	push "cexit"
	cthis sounds=
	cthis removehelp
	push "sndgo"
	cthis cglowa
	end method
	method Konstruktor2_10
	localdef $1
	pop $1
	push 10
	cthis framename
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grlezy,isin
	cmp0
	je l2269
	localdef $1
	call grlezy,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],hide
	localdef $2
	call grlezy,getfound
	call grmov,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push $2
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getw
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],geth
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
	call fxgetpuz,play
	push $2
	cthis mssetobj
l2269:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop $2
	push $1
	spushs
	spop $a
	call [$a],hide
	call fxputpuz,play
	push $1
	spushs
	push 30
	spop $a
	call [$a],aninlod
	cmp0
	je l2271
	push ordrow
	push $2
	call dborder,dbrowcontains
	jmp l2273
l2271:
	push 0
	jmp l2273
l2272:
	push 1
l2273:
	cmp0
	je l2274
	push ordrow
	push ordrow
	push $2
	call dborder,dbfindinrow
	call dborder,removeat
	push $2
	call grstos,get
	spushs
	spop $a
	call [$a],show
	call fxok,play
	push ordrow
	call dborder,getcolsno
	push 0
	cmpje
	cmp0
	je l2276
	add ordrow,1
	pop ordrow
	push ordrow
	call dborder,getrowsno
	cmpjae
	cmp0
	je l2278
	call cmov,lock
	push "sndend"
	cthis cglowa
l2278:
l2276:
	jmp l2270
l2274:
	push $2
	call grlezy,get
	spushs
	spop $a
	call [$a],show
l2270:
	end method
	method mouse_lclick
	push "MenuKons2"
	cthis cquit
	call mouse,getpos
	push 1
	push 1
	call anglowa,isin
	cmp0
	je l2280
	cthis cisplaying
	neg
	jmp l2282
l2280:
	push 0
	jmp l2282
l2281:
	push 1
l2282:
	cmp0
	je l2283
	push "sndgo"
	cthis cglowa
	jmp l2279
l2283:
	call sndgo,isplaying
	cmp0
	je l2285
	push 1
	cthis cactsndstop
l2285:
l2279:
	end method
	method exit_click
	push "MenuKons2"
	cthis askfor
	end method
	end game

	game Konstruktor3
	parent MenuGry
	method init
	clparent MenuGry,init
	push "konstr1"
	cthis path=
	push "szkielet"
	cthis setsndbase
	push "anpodpo"
	push sSubObraz
	push "podpo.pyz"
	pop $b
	popax
	add $a,$b
	push 0
	cthis newanima
	push "anpodpo"
	push "anlod1"
	cthis copyanima
	push "anpodpo"
	push "anlod2"
	cthis copyanima
	push 0
	push 1
	call anlod1,setframe
	call anlod1,hide
	push 13
	call anlod1,setz
	call anlod1,anaddfilter
	push 0
	push 2
	call anlod2,setframe
	call anlod2,hide
	push 15
	call anlod2,setz
	call anlod2,anaddfilter
	new gmimgvec,grmov
	push "grmov"
	push sSubObraz
	push "mov.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push 100
	call grmov,setz
	new gmimgvec,grin
	push "grin"
	push sSubObraz
	push "in.pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator<
	push 10
	call grin,setz
	call grin,hide
	new DelayMover,cmov
	new classfadeinout,clfio
	new classfadeinout,clfio2
	push A
	push "sndgo"
	push "skonstruuj szkielet odzi"
	push "cunstop"
	push "sndok"
	push "gratuluj wietny z ciebie konstruktor"
	push "Konstruktor30"
	cthis sounds=
	cthis removehelp
	push "sndgo"
	cthis cglowa
	end method
	method Konstruktor30
	cthis cstop
	push 111
	pop igmstate
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grmov,isin
	cmp0
	je l2287
	call fxgetpuz,play
	call grmov,getsfound
	cthis mssetobj
l2287:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	localdef $2
	push $1
	spushs
	spop $a
	call [$a],framenr
	call grin,get
	pop $2
	call fxputpuz,play
	push 0
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push 20
	cmpjl
	cmp0
	je l2289
	push $1
	call grmov,remove
	push $1
	spushs
	spop $a
	call [$a],hide
	push $2
	spushs
	spop $a
	call [$a],show
	call grmov,empty
	cmp0
	je l2291
	cthis mend
l2291:
	jmp l2288
l2289:
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
l2288:
	end method
	method mend
	call cmov,lock
	call anpodpo,hide
	call anlod1,show
	push 1
	push 10
	push "anlod1"
	push "Konstruktor31"
	call clfio,setopacity
	end method
	method Konstruktor31
	call anlod2,show
	push 1
	push 10
	push "anlod2"
	push "Konstruktor32"
	call clfio2,setopacity
	end method
	method Konstruktor32
	push "sndok"
	cthis cglowa
	end method
	method mouse_lclick
	push igmstate
	push 111
	cmpje
	cmp0
	je l2293
	push "MenuKons1_3"
	call gameapi,play
l2293:
	end method
	method exit_click
	push "MenuKons1_3"
	cthis askfor
	end method
	end game

	new int,KolejneLevel
	push 0
	pop KolejneLevel
	game Konstruktor2
	parent MenuGry
	method init
	clparent MenuGry,init
	push "kolejne"
	cthis path=
	push "porzadki"
	cthis setsndbase
	push A
	push "spod.pyzH"
	push "zestawy.pyzH 100"
	cthis imgs=
	push A
	push "przechyladrzewo"
	push "ogien"
	push "rzezbiarz"
	push "dowody"
	push "drzewobum"
	push "zamach 60"
	cthis sfxs=
	new gmimgvec,grels
	new gmimgvec,grspod
	new int,ikolejny
	push 100
	push 300
	push 824
	push 300
	new Rect,rec
	new DelayMover,cmov
	cthis crect2
	push A
	push "sndgo0"
	push "U schemat budowy dki z trzciny"
	push "cunstop"
	push "sndgo1"
	push "U schemat powstawania skrzanej kamizelki"
	push "cunstop"
	push "sndgo2"
	push "U schemat budowy siekierki z kamienia"
	push "cunstop"
	push "sndgo3"
	push "U schemat budowy dki z mamuta"
	push "cunstop"
	push "sndgo4"
	push "U schemat budowy dki dubanki"
	push "cunstop"
	push "sndend"
	push "Doskonale! Wszystkie zestawy uoone!"
	push "cexit"
	cthis sounds=
	new anima,annagroda
	push "onfinish"
	push "Konstruktor20"
	call annagroda,addmethod
	cthis removehelp
	cthis buildlev
	end method
	method Konstruktor20
	cthis hide
	push GAME
	spushs
	spop $a
	call [$a],buildlev
	end method
	method buildlev
	push KolejneLevel
	call anzestawy,nofactions
	cmpjae
	cmp0
	je l2295
	call cmov,lock
	push "sndend"
	cthis cglowa
	ret
l2295:
	push 1
	pop ikolejny
	call grels,deleteallgm
	call grspod,deleteallgm
	call grels,free
	call grspod,free
	push KolejneLevel
	push 0
	call anzestawy,setframe
	localint $1
	push iResX
	push KolejneLevel
	call anzestawy,nofframes
	call anspod,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	localint $2
	push 300
	pop $2
	localstring $3
	localint $4
	push 0
	pop $4
l2296:
	push $4
	push KolejneLevel
	call anzestawy,nofframes
	cmpjl
	cmp0
	je l2297
	jmp l2299
l2298:
	add $4,1
	pop $4
	jmp l2296
l2299:
	push "ansp"
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push "anspod"
	push $3
	cthis copyanima
	push $3
	call grspod,add
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push $3
	spushs
	push $4
	spop $a
	call [$a],Konstruktor21
	call anspod,getw
	popax
	add $1,$a
	pop $1
	push "anz"
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push "anzestawy"
	push $3
	cthis copyanima
	push $3
	call grels,add
	push $3
	spushs
	spop $a
	call [$a],Konstruktor22
	push $3
	spushs
	push KolejneLevel
	push $4
	spop $a
	call [$a],setframe
	jmp l2298
l2297:
	push "grels"
	call rec,fitgrouprand
	push KolejneLevel
	push 2
	cmpje
	cmp0
	je l2301
	push 0
	push 1
	cthis cdodaj
	push 0
	push 2
	cthis cdodaj
	push 1
	push 0
	cthis cdodaj
	push 1
	push 2
	cthis cdodaj
	push 2
	push 0
	cthis cdodaj
	push 2
	push 1
	cthis cdodaj
	jmp l2300
l2301:
	push KolejneLevel
	push 3
	cmpje
	cmp0
	je l2303
	push 1
	push 2
	cthis cdodaj
	push 2
	push 1
	cthis cdodaj
l2303:
l2300:
	push "sndgo"
	push KolejneLevel
	pop $b
	popax
	add $a,$b
	cthis cglowa
	end method
	method Konstruktor21
	localdef $1
	pop $1
	cthis show
	push "idzes"
	push 1
	popax
	sub 0,$a
	cthis var2
	new vector,vp
	push $1
	call vp,add
	end method
	method Konstruktor22
	cthis show
	push "idspod"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method cdodaj
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	call grspod,get
	spushs
	push $2
	spop $a
	call [$a],Konstruktor23
	end method
	method Konstruktor23
	localdef $1
	pop $1
	push $1
	call vp,add
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l2305
	call fxgetpuz,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	push 100
	push ikolejny
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push ikolejny
	push 1
	pop $b
	popax
	add $a,$b
	push 200
	pop $b
	popax
	div $a,$b
	push $d
	pop ikolejny
	call grels,sortimgs
	push $1
	cthis mssetobj
	push $1
	spushs
	spop $a
	call [$a],idspod
	push 1
	popax
	sub 0,$a
	cmpjne
	cmp0
	je l2307
	push $1
	spushs
	spop $a
	call [$a],idspod
	call grspod,get
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],idzes=
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],idspod=
l2307:
l2305:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	push $1
	call rec2,fit
	call fxputpuz,play
	push "Konstruktor24"
	push $1
	call grspod,eval1
	push "Konstruktor25"
	call grspod,ineach
	cmp0
	je l2314
	call fxok,play
	cthis getgraphpath
	push "nagroda"
	pop $b
	popax
	add $a,$b
	push KolejneLevel
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call annagroda,load
	push 250
	popax
	sub 0,$a
	push 0
	call annagroda,setpos
	call grspod,hide
	call grels,hide
	add KolejneLevel,1
	pop KolejneLevel
	push 0
	call annagroda,play
l2314:
	end method
	method Konstruktor24
	localdef $1
	pop $1
	push idzes
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2309
	push 0
	spushs
	cthis getposx
	push $1
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	cthis getposy
	push $1
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	spop $h
	call $h,length
	push 20
	cmpjl
	jmp l2311
l2309:
	push 0
	jmp l2311
l2310:
	push 1
l2311:
	cmp0
	je l2312
	push $1
	spushs
	cthis getposx
	cthis getposy
	spop $a
	call [$a],setpos
	push $1
	spushs
	spop $a
	call [$a],framenr
	pop idzes
	push $1
	spushs
	cthis getname
	spushs
	push "ansp"
	spop $h
	call $h,strsubbs
	spop $a
	call [$a],idspod=
l2312:
	end method
	method Konstruktor25
	localdef $1
	pop $1
	push idzes
	call vp,contains
	end method
	method mouse_lclick
	push "MenuKons1"
	cthis cquit
	end method
	method exit_click
	push "MenuKons1"
	cthis askfor
	end method
	end game

	game Konstruktor1
	parent MenuGry
	method init
	clparent MenuGry,init
	new vector,vecpos
	push "begin"
	push 364
	push 195
	push 49
	push 433
	push 27
	push 217
	push 589
	push 190
	call vecpos,beginadd
	push "konstr1"
	cthis path=
	push "kons1"
	cthis setsndbase
	new int,ileczesci
	push "anszkielet"
	push sSubObraz
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 2
	push 10
	cthis loadanframes
	pop ileczesci
	push 20
	call _anszkielet,setz
	call _anszkielet,show
	new gmimgvec,grczesci
	push "anszkielet"
	push 0
	push ileczesci
	call grczesci,additer
	push "Konstruktor10"
	call grczesci,each
	new DelayMover,cmov
	cthis lockall
	push A
	push "sndgo"
	push "Skonstruuj obiekt ktry widzisz przed sob"
	push "cunstop"
	push "sndfin"
	push "Wspaniale! Idealna konstrukcja"
	push "cexit"
	cthis sounds=
	push "sndtak"
	push "myes"
	push "cstop"
	cthis importbank
	call sndtak,startrand
	cthis removehelp
	push "sndgo"
	cthis cglowa
	end method
	method Konstruktor10
	localdef $1
	pop $1
	push 2
	popax
	mul $1,$a
	pop $1
	push $1
	call vecpos,get
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call vecpos,get
	cthis ansetbpos
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grczesci,isin
	cmp0
	je l2316
	call grczesci,getsfound
	spushs
	spop $a
	call [$a],getz
	push 10
	cmpje
	jmp l2318
l2316:
	push 0
	jmp l2318
l2317:
	push 1
l2318:
	cmp0
	je l2319
	localdef $1
	call grczesci,getsfound
	pop $1
	push $1
	spushs
	push 900
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	call fxgetpuz,play
l2319:
	end method
	method cmov_PUT
	localstring $1
	cthis getmover
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	call cllen,ilen
	push 40
	cmpjl
	cmp0
	je l2321
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	cthis free
	sub ileczesci,1
	pop ileczesci
	push ileczesci
	push 0
	cmpje
	cmp0
	je l2323
	push "sndfin"
	cthis cglowa
	call grczesci,hide
	push 1
	push 0
	call _anszkielet,setframe
	jmp l2322
l2323:
	cthis ohyeah
	push "sndtak"
	cthis cbplay2
l2322:
	jmp l2320
l2321:
	push $1
	spushs
	push 10
	spop $a
	call [$a],setz
	cthis retobj
l2320:
	call fxputpuz,play
	end method
	method mouse_lclick
	push "MenuKons1"
	cthis cquit
	end method
	method exit_click
	push "MenuKons1"
	cthis askfor
	end method
	end game

	new int,quizmode
	game MenuQuiz
	parent Dzieje
	parent TMenu
	method init
	push "quiz"
	clparent Dzieje,init
	push "menuquiz"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	cthis tinit
	push "menuquiz"
	cthis setsndbase
	push "antyp"
	push "typ"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 30
	cthis newanima
	call antyp,hide
	push A
	push "sndintro"
	push "Wybierz stopie trudnoci"
	push "gmunlockall"
	push "sndsnd10"
	push "kartkwka"
	push "null"
	push "sndsnd20"
	push "sprawdzian"
	push "null"
	push "sndsnd40"
	push "egzamin"
	push "null"
	cthis sounds=
	push "sndintro"
	cthis cbplay
	end method
	method cgo
	localdef $1
	pop $1
	push $1
	pop quizmode
	push "Quiz"
	call gameapi,play
	end method
	method cview
	localdef $1
	pop $1
	call antyp,show
	push 0
	push $1
	call antyp,setframe
	end method
	method snd10_MOVEON
	push 0
	cthis cview
	end method
	method snd20_MOVEON
	push 1
	cthis cview
	end method
	method snd40_MOVEON
	push 2
	cthis cview
	end method
	method snd10_MOVEOFF
	call antyp,hide
	end method
	method snd20_MOVEOFF
	call antyp,hide
	end method
	method snd40_MOVEOFF
	call antyp,hide
	end method
	method snd10_BUTCLICK
	push 10
	cthis cgo
	end method
	method snd20_BUTCLICK
	push 20
	cthis cgo
	end method
	method snd40_BUTCLICK
	push 40
	cthis cgo
	end method
	method exit_BUTCLICK
	push "MenuPreh"
	call gameapi,play
	end method
	end game

	game Quiz
	parent Dzieje
	method init
	push "quiz"
	clparent Dzieje,init
	push "dbpyt"
	push "pytania.db"
	cthis newdb
	push A
	push "ok"
	cthis sfxs=
	localstring $1
	new vector,vecpyt
	new vector,vecpos
	push 3
	call vecpos,vecnewint
	push "sndtak"
	push "myes"
	push "mdalej"
	cthis importbank
	push "sndnie"
	push "mno"
	push "mdalej"
	cthis importbank
	push A
	push "sndend1"
	push "Oj popenie stanowczo za duo bdw; Poucz si i sprbuj ponownie"
	push "mend2"
	push "sndend2"
	push "Test zaliczony ale mogoby by lepiej; Postaraj si jeszcze troch"
	push "mend2"
	push "sndend3"
	push "Cakiem niele cho zdarzyo si kilka bdw; Moe nastpnym razem pjdzie lepiej"
	push "mend2"
	push "sndend4"
	push "Bardzo dobrze! Prawie wszystkie zadania rozwizane prawidowo"
	push "mend2"
	push "sndend5"
	push "Doskonale! Bezbdnie rozwizany test"
	push "mend2"
	push "sndrekord"
	push "Brawo! Dotychczasowy rekord zosta pobity!"
	push "mcheck"
	push "sndblok10"
	push "W nagrod odblokowuj najtrudniejszy poziom puzli"
	push "mend"
	push "sndblok20"
	push "W nagrod odblokowuj budow wiey w Biskupinie"
	push "mend"
	push "sndblok40"
	push "W nagrod odblokowuj najtrudniejszy etap w ukadaniu szkieletw"
	push "mend"
	cthis sounds=
	localint $2
	push 0
	pop $2
l2324:
	push $2
	call dbpyt,getrowsno
	cmpjl
	cmp0
	je l2325
	jmp l2327
l2326:
	add $2,1
	pop $2
	jmp l2324
l2327:
	push $2
	push 1
	call dbpyt,get
	pop $1
	push $1
	push "ref"
	cmpjne
	cmp0
	je l2329
	push "snd_"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	push "mgo"
	cthis addsndf
l2329:
	push $2
	call vecpyt,add
	jmp l2326
l2325:
	cthis stdexportsnd
	call vecpyt,hash
	push quizmode
	call vecpyt,veclimes
	push A
	push "mamut.pyz 10"
	push "bkg"
	push LANG
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push "rekordH.pyz 100"
	push "odblokujH.pyz 90"
	push "nakladka.pyz 4"
	cthis imgs=
	push "std"
	call anmamut,play
	new gmimgvec,grel
	push "grel"
	push "anodp1"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anodp2"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anodp3"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	push A
	push ""
	push "eng"
	call LANG,in
	cmp0
	je l2331
	new def,sfont22
	push 18
	cthis stdfont
	pop sfont22
	jmp l2330
l2331:
	new def,sfont22
	push "configs/fonts/normal.ttf"
	push 22
	cthis snewfont
	pop sfont22
l2330:
	push "txtstatus"
	push ""
	push sfont22
	cthis white
	cthis newtext
	push "dbstatus"
	push "status.db"
	cthis newdb
	new int,idlang
	push LANG
	push ""
	cmpje
	cmp0
	je l2333
	push "pl"
	jmp l2332
l2333:
	push LANG
l2332:
	call dbstatus,findbyrow
	pop idlang
	push 10
	call txtstatus,setz
	push 20
	push 710
	call txtstatus,setpos
	new int,ilepytan
	call vecpyt,size
	pop ilepytan
	new int,ipoprawne
	push 0
	pop ipoprawne
	new int,izle
	push 0
	pop izle
	new int,irekord
	new classsimplebutton,cbexit
	push "scripts/quiz/exit.pyz"
	push "imglobcurs"
	push 0
	push 0
	push 100
	push 0
	call cbexit,build
	push "rekordquiz"
	push quizmode
	pop $b
	popax
	add $a,$b
	call save,get
	push "null"
	cmpjne
	cmp0
	je l2335
	push "rekordquiz"
	push quizmode
	pop $b
	popax
	add $a,$b
	call save,get
	pop irekord
l2335:
	push "anrekord"
	push "anbest"
	cthis copyanima
	push 0
	push 2
	call anbest,setframe
	call anbest,show
	push "txtdotyczas"
	push idlang
	push 4
	call dbstatus,get
	push sfont22
	cthis white
	cthis newtext
	call anrekord,getz
	push 5
	pop $b
	popax
	add $a,$b
	call txtdotyczas,setz
	call anbest,getpx
	call txtdotyczas,getw
	pop $b
	popax
	sub $a,$b
	call txtstatus,getpy
	call txtstatus,geth
	pop $b
	popax
	add $a,$b
	push 3
	pop $b
	popax
	add $a,$b
	call txtdotyczas,setpos
	push "txtbest"
	push irekord
	push sfont22
	push 192
	push 0
	push 0
	cthis newtext
	call anrekord,getz
	push 5
	pop $b
	popax
	add $a,$b
	call txtbest,setz
	call anbest,getcx
	call txtbest,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anbest,getcy
	call txtbest,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 4
	pop $b
	popax
	sub $a,$b
	call txtbest,setpos
	cthis reload
	cthis unlockall
	end method
	method cbexit_MOVEON
	call sndakskermovon,play
	end method
	method cbexit_CLICK
	push "MenuQuiz"
	call gameapi,play
	end method
	method mprint
	localdef $1
	push ilepytan
	call vecpyt,size
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	push ilepytan
	cmpja
	cmp0
	je l2337
	push ilepytan
	pop $1
l2337:
	push idlang
	push 1
	call dbstatus,get
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push ilepytan
	pop $b
	popax
	add $a,$b
	push idlang
	push 2
	call dbstatus,get
	pop $b
	popax
	add $a,$b
	push ipoprawne
	pop $b
	popax
	add $a,$b
	push idlang
	push 3
	call dbstatus,get
	pop $b
	popax
	add $a,$b
	push izle
	pop $b
	popax
	add $a,$b
	call txtstatus,txtset
	end method
	method mstatus
	call grel,hide
	call anrekord,show
	push ipoprawne
	push quizmode
	cmpje
	cmp0
	je l2339
	push "zaliczony"
	push quizmode
	pop $b
	popax
	add $a,$b
	call save,bis
	neg
	jmp l2341
l2339:
	push 0
	jmp l2341
l2340:
	push 1
l2341:
	neg
	cmp0
	je l2342
	push 0
	push 3
	call anrekord,setframe
	push "anrekord"
	push "anrekbg"
	cthis copyanima
	call anrekord,getz
	push 10
	pop $b
	popax
	sub $a,$b
	call anrekbg,setz
	push 0
	push 5
	call anrekbg,setframe
l2342:
	call annakladka,hide
	push "anprzyk"
	call engine,varexist
	cmp0
	je l2344
	call anprzyk,hide
l2344:
	push "txtrekord"
	push ipoprawne
	push sfont22
	push 192
	push 0
	push 0
	cthis newtext
	call anrekord,getz
	push 5
	pop $b
	popax
	add $a,$b
	call txtrekord,setz
	call anrekord,getcx
	call txtrekord,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anrekord,getcy
	push 20
	pop $b
	popax
	sub $a,$b
	call txtrekord,setpos
	localreal $1
	push ipoprawne
	pop $1
	push ilepytan
	popax
	div $1,$a
	mov $1,$a
	localint $2
	push 5
	pop $2
	push $1
	push 0.5
	cmpjl
	cmp0
	je l2346
	push 1
	pop $2
	jmp l2345
l2346:
	push $1
	push 0.6
	cmpjl
	cmp0
	je l2348
	push 2
	pop $2
	jmp l2347
l2348:
	push $1
	push 0.8
	cmpjl
	cmp0
	je l2350
	push 3
	pop $2
	jmp l2349
l2350:
	push $1
	push 1
	cmpjl
	cmp0
	je l2352
	push 4
	pop $2
l2352:
l2349:
l2347:
l2345:
	push "sndend"
	push $2
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mend2
	push ipoprawne
	push irekord
	cmpja
	cmp0
	je l2354
	push ipoprawne
	call txtrekord,txtset
	push "anrekord"
	push "anrek2"
	cthis copyanima
	push 0
	call anrekord,framenr
	push 1
	pop $b
	popax
	add $a,$b
	call anrek2,setframe
	call fxok,play
	push "sndrekord"
	cthis cbplay
	jmp l2353
l2354:
	cthis mend
l2353:
	end method
	method mend
	push 11
	pop igmstate
	end method
	method mcheck
	push "rekordquiz"
	push quizmode
	pop $b
	popax
	add $a,$b
	push ipoprawne
	call save,set
	push ipoprawne
	push quizmode
	cmpje
	cmp0
	je l2356
	push "zaliczony"
	push quizmode
	pop $b
	popax
	add $a,$b
	call save,bis
	neg
	jmp l2358
l2356:
	push 0
	jmp l2358
l2357:
	push 1
l2358:
	cmp0
	je l2359
	push "zaliczony"
	push quizmode
	pop $b
	popax
	add $a,$b
	call save,bset
	push quizmode
	push 20
	cmpje
	cmp0
	je l2361
	push 0
	push 1
	call anodblokuj,setframe
	jmp l2360
l2361:
	push quizmode
	push 40
	cmpje
	cmp0
	je l2363
	push 0
	push 2
	call anodblokuj,setframe
l2363:
l2360:
	call anodblokuj,show
	push "sndblok"
	push quizmode
	pop $b
	popax
	add $a,$b
	cthis cbplay
	jmp l2355
l2359:
	cthis mend
l2355:
	end method
	method mgo
	push 1
	pop igmstate
	end method
	method mdalej
	call vecpyt,vecpop
	popax
	call vecpyt,size
	cmp0
	je l2365
	push GAME
	spushs
	spop $a
	call [$a],reload
	jmp l2364
l2365:
	cthis mprint
	push GAME
	spushs
	spop $a
	call [$a],mstatus
l2364:
	end method
	method reload
	push "anodp2"
	cthis vardelif
	push "anodp3"
	cthis vardelif
	push "anprzyk"
	cthis vardelif
	push "anodp1"
	cthis vardelif
	localdef $1
	call vecpyt,veclast
	pop $1
	push "anodp1"
	push "p"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 20
	cthis newanima
	push "anodp1"
	push "anodp2"
	cthis copyanima
	push 0
	push 1
	call anodp2,setframe
	push "anodp1"
	push "anodp3"
	cthis copyanima
	push 0
	push 2
	call anodp3,setframe
	call anodp1,nofactions
	push 1
	cmpja
	cmp0
	je l2367
	push "anodp1"
	push "anprzyk"
	cthis copyanima
	push 1
	push 0
	call anprzyk,setframe
l2367:
	call vecpos,hash
	localint $2
	push 0
	pop $2
l2368:
	push $2
	push 3
	cmpjl
	cmp0
	je l2369
	jmp l2371
l2370:
	add $2,1
	pop $2
	jmp l2368
l2371:
	push "anodp"
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	call vecpos,get
	push 336
	pop $b
	popax
	mul $a,$b
	push 0
	spop $a
	call [$a],setpos
	jmp l2370
l2369:
	cthis mprint
	cthis ask
	end method
	method ask
	push 0
	pop igmstate
	localdef $1
	call vecpyt,last
	pop $1
	push $1
	push 1
	call dbpyt,get
	push "ref"
	cmpje
	cmp0
	je l2373
	push $1
	push 2
	call dbpyt,get
	spushs
	spop $h
	call $h,to_i
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
l2373:
	push "snd_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpjne
	cmp0
	je l2375
	push igmstate
	push 11
	cmpje
	cmp0
	je l2377
	push "MenuQuiz"
	call gameapi,play
l2377:
	ret
l2375:
	call mouse,getpos
	push 1
	push 0
	call grel,isin
	cmp0
	je l2379
	push 0
	pop igmstate
	call fxpop,play
	call grel,getsfound
	spushs
	spop $a
	call [$a],framenr
	push 0
	cmpje
	cmp0
	je l2381
	push "yes"
	call anmamut,play
	add ipoprawne,1
	pop ipoprawne
	push "sndtak"
	cthis cbplay
	jmp l2380
l2381:
	push "no"
	call anmamut,play
	add izle,1
	pop izle
	push "sndnie"
	cthis cbplay
l2380:
	jmp l2378
l2379:
	call mouse,getpos
	push 1
	push 0
	call anmamut,isin
	cmp0
	je l2383
	cthis ask
l2383:
l2378:
	end method
	end game

