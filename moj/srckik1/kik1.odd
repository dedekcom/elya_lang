; Dominik Dagiel   ix 2005

	new int,igmdebug
	push 0
	pop igmdebug
	new int,igmwinlocal
	push 1
	pop igmwinlocal
	new int,igmpad
	push 0
	pop igmpad
	new int,igmmac
	push 0
	pop igmmac
	method checktouchpad
	push igmpad
	end method
	new string,sgmdeveloper
	push "DDagiel"
	pop sgmdeveloper
	new int,igmkikpart
	push 0
	pop igmkikpart
	push igmkikpart
	spushs
	push 1
	cmpst
	jne l2
	spop $a
	push "KiK_Mirmilowo"
	jmp l1
l2:
	push 2
	cmpst
	jne l3
	spop $a
	push "KiK_Podstep"
	jmp l1
l3:
	push 3
	cmpst
	jne l4
	spop $a
	push "KiK_Rozprawa"
	jmp l1
l4:
	spop $a
	push "Kajko_i_Kokosz"
l1:
	new string,sgmproject
	pop sgmproject
	new int,igmsubtitle
	push 0
	pop igmsubtitle
	method getwinpath
	localstring $1
	pop $1
	localstring $2
	push "appdata"
	call engine,getspecialpath
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l6
	push $2
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push sgmproject
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	jmp l5
l6:
	push $1
l5:
	end method
	push igmpad
	cmp0
	jne l9
	push igmmac
	jmp l10
l8:
	push 0
	jmp l10
l9:
	push 1
l10:
	cmp0
	je l11
	push "getsavepath"
	push "global0"
	call engine,addmethod
l11:
	method global0
	push ""
	end method
	method getapppath
	push igmwinlocal
	cmp0
	je l13
	push ""
	cthis getwinpath
	jmp l12
l13:
	push igmpad
	cmp0
	jne l16
	push igmmac
	jmp l17
l15:
	push 0
	jmp l17
l16:
	push 1
l17:
	cmp0
	je l18
	call engine,getsavepath
	jmp l14
l18:
	push ""
l14:
l12:
	end method
	method buildsavedir
	push igmwinlocal
	cmp0
	je l20
	localstring $1
	push "appdata"
	call engine,getspecialpath
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l22
	push "/"
	push sgmdeveloper
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	localint $2
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l25
	push $2
	push 1
	cmpje
	jmp l26
l24:
	push 0
	jmp l26
l25:
	push 1
l26:
	cmp0
	je l27
	push "/"
	push sgmproject
	pop $b
	popax
	add $a,$b
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	pop $2
	push 0
	pop $2
	push $2
	push 0
	cmpje
	cmp0
	jne l30
	push $2
	push 1
	cmpje
	jmp l31
l29:
	push 0
	jmp l31
l30:
	push 1
l31:
	cmp0
	je l32
	push "/saves"
	popax
	add $1,$a
	pop $1
	push $1
	call engine,mkdir
	popax
l32:
l27:
l22:
	jmp l19
l20:
	push igmpad
	cmp0
	jne l35
	push igmmac
	jmp l36
l34:
	push 0
	jmp l36
l35:
	push 1
l36:
	cmp0
	je l37
	call engine,getsavepath
	push "saves"
	pop $b
	popax
	add $a,$b
	call engine,mkdir
	popax
l37:
l19:
	end method
	cthis buildsavedir
	new string,A
	push "!!!"
	pop A
	new real,PI
	push 3.14159265358979323846
	pop PI
	new int,BYTE0
	push "0"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE0
	new int,BYTE9
	push "9"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE9
	new int,BYTEa
	push "a"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEa
	new int,BYTEz
	push "z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEz
	new int,BYTEA
	push "A"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEA
	new int,BYTEZ
	push "Z"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTEZ
	new int,BYTE_
	push "_"
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTE_
	new int,BYTESPACE
	push " "
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop BYTESPACE
	method varget
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method varset
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method varnew
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method varnewif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	cthis hasvar
	neg
	cmp0
	je l39
	push $1
	push $2
	cthis varnew
l39:
	end method
	method vardelif
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l41
	push $1
	cthis vardel
l41:
	end method
	method vardel
	localstring $1
	pop $1
	push $1
	spushs
	spop $d
	delete [$d]
	end method
	method reader
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "global1"
	cthis addmethod
	end method
	method global1
	cthis methodname
	popax
	mov $a,[$a]
	psax
	end method
	method writer
	localstring $1
	pop $1
	push "def"
	push $1
	cthis varnewif
	push $1
	push "="
	pop $b
	popax
	add $a,$b
	push "global2"
	cthis addmethod
	end method
	method global2
	localdef $1
	pop $1
	cthis methodname
	spushs
	push 1
	spop $a
	call $a,strsube
	spushs
	push $1
	spop $b
	popax
	mov [$b],$a
	end method
	method var
	localstring $1
	pop $1
	push $1
	cthis reader
	push $1
	cthis writer
	end method
	method var2
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	cthis var
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method withlist
	localstring $1
	pop $1
	localdef $2
	pop $2
l42:
	push A
	push $2
	cmpjne
	cmp0
	je l43
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l42
l43:
	end method
	method withlist2
	localstring $1
	pop $1
	localdef $2
	pop $2
l44:
	push A
	push $2
	cmpjne
	cmp0
	je l45
	localdef $3
	pop $3
	push $1
	spushs
	push $3
	push $2
	spop $d
	cthis [$d]
	localdef $2
	pop $2
	jmp l44
l45:
	end method
	method vars
	push "var"
	cthis withlist
	end method
	method vars2
	push "var2"
	cthis withlist2
	end method
	method builder_func
	localstring $1
	pop $1
	cthis getbuildername
	spushs
	cthis getbuildername
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method in
	localint $1
	push 0
	pop $1
	localdef $2
	cthis get
	pop $2
	localdef $3
	pop $3
l46:
	push A
	push $3
	cmpjne
	cmp0
	je l47
	push $1
	neg
	cmp0
	je l49
	push $2
	push $3
	cmpje
	pop $1
l49:
	localdef $3
	pop $3
	jmp l46
l47:
	push $1
	end method
	method with
	localstring $1
	pop $1
	localstring $2
	pop $2
l50:
	push $2
	push A
	cmpjne
	cmp0
	je l51
	push $2
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	pop $2
	jmp l50
l51:
	end method
	method copycall
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new string,[$e]
	push $3
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	push $1
	push "global3"
	cthis addmethod
	end method
	method global3
	localstring $1
	cthis methodname
	pop $1
	push "__call"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method copycalls
	localstring $1
	pop $1
	localstring $2
	pop $2
l52:
	push $2
	push A
	cmpjne
	cmp0
	je l53
	push $2
	push $1
	cthis copycall
	pop $2
	jmp l52
l53:
	end method
	method mresize
	cthis gettype
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	cthis getname
	spop $a
	 clparent [$a],resizemethods
	end method
	method times
	localstring $1
	pop $1
	push 0
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis for_plus
	end method
	method upto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_plus
	end method
	method downto
	localint $1
	localstring $2
	pop $2
	pop $1
	cthis get
	push $1
	push $2
	cthis for_minus
	end method
	method for_plus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l55
	ret
l55:
l56:
	push $1
	push $2
	cmpjle
	cmp0
	je l57
	jmp l59
l58:
	add $1,1
	pop $1
	jmp l56
l59:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l58
l57:
	end method
	method for_minus
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	push 0
	cmpjle
	cmp0
	je l61
	ret
l61:
l62:
	push $1
	push $2
	cmpjae
	cmp0
	je l63
	jmp l65
l64:
	sub $1,1
	pop $1
	jmp l62
l65:
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
	jmp l64
l63:
	end method
	method double_for
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	localint $5
	push 0
	pop $5
l66:
	push $5
	push $1
	cmpjl
	cmp0
	je l67
	jmp l69
l68:
	add $5,1
	pop $5
	jmp l66
l69:
	push 0
	pop $4
l70:
	push $4
	push $2
	cmpjl
	cmp0
	je l71
	jmp l73
l72:
	add $4,1
	pop $4
	jmp l70
l73:
	push $3
	spushs
	push $5
	push $4
	spop $d
	cthis [$d]
	jmp l72
l71:
	jmp l68
l67:
	end method
	class classobjcounter
	method init
	localstring $1
	pop $1
	new string,_sprefix
	push $1
	pop _sprefix
	new int,_iile
	push 0
	pop _iile
	push "limit"
	push 0
	cthis var2
	end method
	method get
	push limit
	push 0
	cmpja
	cmp0
	je l75
	push _iile
	push limit
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop _iile
	jmp l74
l75:
	add _iile,1
	pop _iile
l74:
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	ret
	end method
	method size
	push _iile
	end method
	method getid
	localint $1
	pop $1
	push _sprefix
	push _iile
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	end method
	end class

	class classsignals
	method init
	end method
	method stdfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "classsignals0"
	spop $a
	call [$a],addmethod
	end method
	method classsignals0
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdstart
	localstring $1
	pop $1
	push $1
	spushs
	push "onstart"
	push "classsignals1"
	spop $a
	call [$a],addmethod
	end method
	method classsignals1
	cthis getname
	push "_START"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method stdsigs
	localstring $1
	pop $1
	push $1
	cthis stdstart
	push $1
	cthis stdfinish
	end method
	method buildanima
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "onendframe"
	push "classsignals2"
	spop $a
	call [$a],addmethod
	end method
	method classsignals2
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildsnd
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	end method
	method buildtimer
	localstring $1
	pop $1
	push $1
	cthis stdsigs
	push $1
	spushs
	push "ontick"
	push "classsignals3"
	spop $a
	call [$a],addmethod
	end method
	method classsignals3
	cthis getname
	push "_TICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method buildbut
	localstring $1
	pop $1
	push $1
	spushs
	push "onclick"
	push "classsignals4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onrel"
	push "classsignals5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveon"
	push "classsignals6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onmoveoff"
	push "classsignals7"
	spop $a
	call [$a],addmethod
	end method
	method classsignals4
	cthis getname
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals5
	cthis getname
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals6
	cthis getname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsignals7
	cthis getname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classlocker
	method init
	new int,_block
	push 1
	pop _block
	end method
	method lock
	push 1
	pop _block
	end method
	method unlock
	push 0
	pop _block
	end method
	method setlock
	localint $1
	pop $1
	push $1
	pop _block
	end method
	method getlock
	push _block
	ret
	end method
	method unlocked
	push _block
	push 0
	cmpje
	end method
	method setaslocker
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlocker"
	push "classlocker0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlocker
	push $1
	spushs
	push "lock"
	push "lock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlock"
	push "unlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setlock"
	push "setlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getlock"
	push "getlock"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlocked"
	push "unlocked"
	spop $a
	call [$a],addmethod
	end method
	method classlocker0
	new int,_block
	push 1
	pop _block
	end method
	end class

	module classdbreader
	method init
	new db,dbl
	end method
	method readdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call dbl,getrowsno
	pop $3
l76:
	push $2
	push $3
	cmpjl
	cmp0
	je l77
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	add $2,1
	pop $2
	jmp l76
l77:
	end method
	method readrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l79
	push $2
	spushs
	push $3
	spop $d
	cthis [$d]
l79:
	end method
	end module

	class collection
	method init
	localstring $1
	pop $1
	new string,stype
	push $1
	pop stype
	end method
	method type
	push stype
	ret
	end method
	end class

	class array
	parent collection
	method init
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	clparent collection,init
	new int,idim
	push $2
	pop idim
	new int,isize
	push $3
	pop isize
	new vector,vec
	push $1
	call vec,type
	push $2
	push 0
	cmpjle
	cmp0
	jne l82
	push $3
	push 0
	cmpjle
	jmp l83
l81:
	push 0
	jmp l83
l82:
	push 1
l83:
	cmp0
	je l84
	ret
l84:
	push $2
	call $3,pow
	push 0
	call vec,resize
	end method
	method getid
	localint $1
	push 0
	pop $1
	localint $2
	push idim
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l85:
	push $2
	push 0
	cmpja
	cmp0
	je l86
	popax
	add $1,$a
	pop $1
	push isize
	popax
	mul $1,$a
	pop $1
	sub $2,1
	pop $2
	jmp l85
l86:
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method get
	cthis getid
	call vec,get
	ret
	end method
	method set
	localdef $1
	pop $1
	cthis getid
	push $1
	call vec,set
	end method
	method getsize
	push isize
	ret
	end method
	method getdim
	push idim
	ret
	end method
	end class

	class stack
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vec
	push $1
	call vec,type
	push $1
	spushs
	spop $d
	new [$d],var
	end method
	method push
	localstring $1
	pop $1
	push $1
	call vec,add
	end method
	method top
	call vec,last
	ret
	end method
	method pop
	cthis top
	pop var
	call vec,size
	push 1
	pop $b
	popax
	sub $a,$b
	call vec,removeat
	push var
	ret
	end method
	method free
	call vec,free
	end method
	end class

	class map
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new int,isize
	push 0
	pop isize
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	neg
	cmp0
	je l88
	push $1
	cthis add
l88:
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	call [$a],set
	end method
	method add
	localstring $1
	pop $1
	push stype
	spushs
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	end method
	method get
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	ret
	end method
	method remove
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method contains
	localstring $1
	pop $1
	push "v"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	ret
	end method
	end class

	class map2
	parent collection
	method init
	localstring $1
	pop $1
	push $1
	clparent collection,init
	new vector,vn
	push "string"
	call vn,type
	new vector,vec
	push $1
	call vec,type
	end method
	method add
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,add
	push $2
	call vec,add
	end method
	method set
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	call vn,find
	push $2
	call vec,set
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call vn,contains
	ret
	end method
	method get
	localstring $1
	pop $1
	push $1
	call vn,find
	call vec,get
	ret
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	call vn,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l90
	push $2
	call vec,removeat
	push $2
	call vn,removeat
l90:
	end method
	method free
	call vn,free
	call vec,free
	end method
	method print
	call vec,print
	call vn,print
	end method
	end class

	class classgamemusic
	parent classdbreader
	method init
	clparent classdbreader,init
	new string,smuspath
	push ""
	pop smuspath
	new string,sbgrpath
	push ""
	pop sbgrpath
	new snd,_sndbgr
	push "onfinish"
	push "_stdsndloop"
	call _sndbgr,addmethod
	end method
	method reset
	call gameapi,stopmusic
	cthis stopbgr
	end method
	method _stdsndloop
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbl,loadscript
	end method
	method musicpath
	localstring $1
	pop $1
	push $1
	pop smuspath
	end method
	method sndbgrpath
	localstring $1
	pop $1
	push $1
	pop sbgrpath
	end method
	method _play
	localint $1
	pop $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	push 1
	pop $2
	push $1
	call dbl,getcolsno
	pop $3
l91:
	push $2
	push $3
	cmpjl
	cmp0
	je l92
	push $1
	push $2
	call dbl,get
	pop $5
	add $2,1
	pop $2
	push $5
	push "music"
	cmpje
	cmp0
	je l94
	push smuspath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	pop $6
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l96
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l98
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call gameapi,setmusicvol
	add $2,1
	pop $2
l98:
	jmp l95
l96:
	push 100
	call gameapi,setmusicvol
l95:
	push $6
	call gameapi,playmusic
	jmp l93
l94:
	push $5
	push "bgr"
	cmpje
	cmp0
	je l100
	push sbgrpath
	push $1
	push $2
	call dbl,get
	pop $b
	popax
	add $a,$b
	call _sndbgr,load
	add $2,1
	pop $2
	push $2
	push $3
	cmpjl
	cmp0
	je l102
	push $1
	push $2
	call dbl,get
	push "vol"
	cmpje
	cmp0
	je l104
	add $2,1
	pop $2
	push $1
	push $2
	call dbl,get
	call _sndbgr,setvol
	add $2,1
	pop $2
l104:
	jmp l101
l102:
	push 100
	call _sndbgr,setvol
l101:
	cthis playbgr
	jmp l99
l100:
	add $2,1
	pop $2
l99:
l93:
	jmp l91
l92:
	end method
	method play
	cthis reset
	call gameapi,getgamename
	push "_play"
	cthis readrow
	end method
	method playbgr
	call _sndbgr,play
	end method
	method stopbgr
	push 0
	call _sndbgr,stop
	end method
	end class

	class Music
	method init
	new vector,vmus
	push "string"
	call vmus,type
	new int,ilastid
	end method
	method playdb
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	call vmus,free
l105:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l106
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l105
l106:
	push 0
	pop ilastid
	cthis play
	end method
	method playvec
	localstring $1
	localint $2
	pop $2
	pop $1
	call vmus,free
l107:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l108
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	call vmus,add
	add $2,1
	pop $2
	jmp l107
l108:
	push 0
	pop ilastid
	cthis play
	end method
	method playstr
	localstring $1
	pop $1
	push $1
	push " "
	call vmus,vecbuildfromstring
	push 0
	pop ilastid
	cthis play
	end method
	method play
	push ilastid
	call vmus,size
	cmpjae
	cmp0
	je l110
	ret
l110:
	localstring $1
	push MUSICPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,fileexist
	neg
	cmp0
	je l112
	push SFXPATH
	push ilastid
	call vmus,get
	pop $b
	popax
	add $a,$b
	pop $1
l112:
	add ilastid,1
	pop ilastid
	localint $2
	push 0
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push 100
	pop $5
	localint $6
	push ilastid
	pop $6
l113:
	push $6
	call vmus,size
	cmpjl
	cmp0
	je l114
	jmp l116
l115:
	add $6,1
	pop $6
	jmp l113
l116:
	localdef $7
	push $6
	call vmus,get
	pop $7
	push $7
	spushs
	push "-l"
	cmpst
	jne l118
	spop $a
	push 1
	pop $2
	jmp l117
l118:
	push "-v"
	cmpst
	jne l119
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $5
	jmp l117
l119:
	push "-fin"
	cmpst
	jne l120
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $3
	jmp l117
l120:
	push "-fout"
	cmpst
	jne l121
	spop $a
	add $6,1
	pop $6
	push $6
	call vmus,get
	pop $4
	jmp l117
l121:
	push "-p"
	cmpst
	jne l122
	spop $a
	jmp l117
l122:
	spop $a
	push $6
	pop ilastid
	call vmus,size
	pop $6
l117:
	jmp l115
l114:
	push $5
	call gameapi,setmusicvol
	push $2
	cmp0
	je l124
	push $1
	call gameapi,playmusic
	call vmus,size
	pop ilastid
	ret
l124:
	push $1
	call gameapi,loadmusic
	push $3
	cmp0
	je l126
	push $3
	call gameapi,fadeinmusic
	jmp l125
l126:
	call gameapi,startmusic
l125:
	push $4
	cmp0
	je l128
	push $4
	call gameapi,fadeoutmusic
l128:
	end method
	method fadeout
	localint $1
	pop $1
	call gameapi,ismusicplaying
	cmp0
	je l130
	push $1
	call gameapi,fadeoutmusic
	call vmus,size
	pop ilastid
l130:
	end method
	method isplaying
	call gameapi,ismusicplaying
	end method
	method stop
	push 0
	call gameapi,endmusic
	end method
	end class

	new int,igmstate
	new int,igmeasy
	new int,igmdemo
	new int,igmbegin
	new string,sgmfontfile
	push "configs/fonts/normal.ttf"
	pop sgmfontfile
	new string,sgmfontmono
	push "configs/fonts/mono.ttf"
	pop sgmfontmono
	new string,sgmfontmonobold
	push "configs/fonts/monobold.ttf"
	pop sgmfontmonobold
	new string,sgmfontbold
	push "configs/fonts/monobold.ttf"
	pop sgmfontbold
	new string,sgmfontitalic
	push "configs/fonts/timesit.ttf"
	pop sgmfontitalic
	new string,SFXPATH
	push "sounds/sfx/"
	pop SFXPATH
	new string,BGRPATH
	push "sounds/bgr/"
	pop BGRPATH
	new string,MUSICPATH
	push "sounds/music/"
	pop MUSICPATH
	new string,LANG
	push "pl"
	pop LANG
	new string,SNDPATH
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l132
	push ""
	pop LANG
l132:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l134
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l134:
	new int,iResX
	push 1024
	pop iResX
	new int,iResY
	push 768
	pop iResY
	class newvars
	method init
	new string,_sclpath
	push ""
	pop _sclpath
	new string,_sclwavpath
	push ""
	pop _sclwavpath
	end method
	method _checkfont
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l136
	push sgmfontfile
	pop $1
l136:
	push ".ttf"
	call $1,contains
	cmp0
	je l138
	push $3
	spushs
	spop $e
	new font,[$e]
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	pop $1
l138:
	push $1
	end method
	method checkfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "_fnt"
	cthis _checkfont
	end method
	method begingame
	push igmbegin
	neg
	pop igmbegin
	push igmbegin
	neg
	end method
	method newarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	push 0
	cmpjle
	cmp0
	je l140
	ret
l140:
	sub $3,1
	pop $3
l141:
	push $3
	push 0
	cmpjae
	cmp0
	je l142
	push $1
	spushs
	push $2
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	sub $3,1
	pop $3
	jmp l141
l142:
	end method
	method setgraphpath
	localstring $1
	pop $1
	push $1
	pop _sclpath
	end method
	method setwavpath
	localstring $1
	pop $1
	push $1
	pop _sclwavpath
	end method
	method getgraphpath
	push _sclpath
	ret
	end method
	method getsndpath
	push _sclwavpath
	ret
	end method
	method getpath
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	cmp0
	je l144
	push 1
	call $1,strsubb
	jmp l143
l144:
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
l143:
	end method
	method newanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new anima,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method newstdanima
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	cthis stdanaction
	end method
	method copyanimaactz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis copyanimaact
	push $2
	spushs
	push $4
	spop $a
	call [$a],setz
	end method
	method copyanimaact
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push $3
	push 0
	spop $a
	call [$a],setframe
	end method
	method copyanima
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new anima,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method copyanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l146
	ret
l146:
	localint $5
	push 0
	pop $5
l147:
	push $5
	push $4
	cmpjl
	cmp0
	je l148
	jmp l150
l149:
	add $5,1
	pop $5
	jmp l147
l150:
	push $1
	push $2
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis copyanima
	jmp l149
l148:
	end method
	method newanimas
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push 0
	cmpjl
	cmp0
	je l152
	ret
l152:
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $2
	push $3
	cthis newanima
	push $1
	push "0"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis copyanimas
	end method
	method newanframesgr
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	spushs
	push $3
	spop $a
	call [$a],nofframes
	pop $5
	push $1
	push $2
	push 0
	push $5
	cthis copyanimas
	localint $6
	push 0
	pop $6
l153:
	push $6
	push $5
	cmpjl
	cmp0
	je l154
	jmp l156
l155:
	add $6,1
	pop $6
	jmp l153
l156:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	push $3
	push $6
	spop $a
	call [$a],setframe
	push $4
	push "null"
	cmpjne
	cmp0
	je l158
	push $4
	spushs
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l158:
	jmp l155
l154:
	push $5
	ret
	end method
	method newanframes
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis newanframesgr
	ret
	end method
	method newcanvas
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],create
	push $1
	spushs
	push $8
	spop $a
	call [$a],setz
	end method
	method newimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new img,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method copyimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	spushs
	spop $e
	new img,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method playmusic
	localstring $1
	pop $1
	push MUSICPATH
	push $1
	pop $b
	popax
	add $a,$b
	call gameapi,playmusic
	end method
	method newsndfree
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	end method
	method snewsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	spushs
	push "onfinish"
	push "__std_finish"
	spop $a
	call [$a],addmethod
	end method
	method _newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push "."
	call $2,contains
	neg
	cmp0
	je l160
	push ".wav"
	popax
	add $2,$a
	pop $2
l160:
	push $2
	call engine,fileexist
	neg
	cmp0
	je l162
	push "wav"
	call $2,strsubes
	push "ogg"
	pop $b
	popax
	add $a,$b
	pop $2
l162:
	push $1
	spushs
	push $2
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l164
	push $1
	push $2
	call subtitle,register
l164:
	end method
	method newsfx
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push SFXPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push BGRPATH
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newbgrloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newbgr
	push $1
	cthis sndplayloop
	end method
	method newsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	cthis _newsnd
	end method
	method newsndloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	cthis looponfinish1
	end method
	method looponfinish1
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
	end method
	method sndplayloop
	localstring $1
	pop $1
	push $1
	cthis looponfinish1
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method newsnds
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $6
	localint $7
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $7
	localint $8
	push 0
	pop $8
l165:
	push $8
	push $7
	cmpjl
	cmp0
	je l166
	jmp l168
l167:
	add $8,1
	pop $8
	jmp l165
l168:
	push $1
	push $2
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new snd,[$e]
	push $6
	spushs
	cthis getsndpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $8
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	jmp l167
l166:
	end method
	method newtimer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],delay
	end method
	method newtimercycle
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new timer,[$e]
	push $1
	spushs
	push $3
	spop $a
	call [$a],settick
	push $1
	spushs
	push $2
	spop $a
	call [$a],setcycle
	end method
	method stdanaction
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push "L"
	call $2,contains
	cmp0
	je l170
	push $1
	cthis looponfinish
	jmp l169
l170:
	push "H"
	call $2,contains
	cmp0
	je l172
	push $1
	cthis hideonfinish
l172:
l169:
	push "P"
	call $2,contains
	cmp0
	je l174
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l174:
	end method
	method newanactionsgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	push $1
	push $2
	push 0
	push $4
	cthis copyanimas
	localstring $5
	localint $6
	push 0
	pop $6
l175:
	push $6
	push $4
	cmpjl
	cmp0
	je l176
	jmp l178
l177:
	add $6,1
	pop $6
	jmp l175
l178:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $6
	push 0
	spop $a
	call [$a],setframe
	push $5
	cthis stdanaction
	push $3
	push "null"
	cmpjne
	cmp0
	je l180
	push $3
	spushs
	push $5
	spop $a
	call [$a],add
l180:
	jmp l177
l176:
	push $4
	ret
	end method
	method newanactions
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanactionsgr
	ret
	end method
	method newanfrbyactgr
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	spop $a
	call [$a],nofactions
	pop $4
	localint $5
	push 0
	pop $5
l181:
	push $5
	push $4
	cmpjl
	cmp0
	je l182
	jmp l184
l183:
	add $5,1
	pop $5
	jmp l181
l184:
	push $1
	push $2
	push $5
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $5
	push $3
	cthis newanframesgr
	popax
	jmp l183
l182:
	push $4
	ret
	end method
	method newanfrbyact
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis newanfrbyactgr
	ret
	end method
	method loadanfrbyact
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanfrbyact
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanactions
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push $2
	push $3
	cthis newanima
	localint $5
	push $4
	push $1
	cthis newanactions
	pop $5
	push $4
	spushs
	spop $a
	call [$a],hide
	push $5
	ret
	end method
	method loadanframes
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $2
	push $4
	cthis newanima
	localint $6
	push $5
	push $1
	push $3
	cthis newanframes
	pop $6
	push $5
	spushs
	spop $a
	call [$a],hide
	push $6
	ret
	end method
	method newbutimg
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],set
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newbutan
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new button,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],setan
	push $1
	spushs
	push $5
	spop $a
	call [$a],setmouse
	end method
	method newdb
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
	end method
	method newdbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],loadscritp
	end method
	method vargmset
	localstring $1
	localdef $2
	pop $2
	pop $1
	localstring $3
	call gameapi,getgamename
	pop $3
	push $3
	spushs
	push $1
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l186
	push $3
	spushs
	call $2,gettype
	push $1
	spop $a
	call [$a],varnew
l186:
	push $1
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	end class

	new img,imglobcurs
	cthis checktouchpad
	cmp0
	je l188
	push "configs/empty.png"
	push "configs/empty.png"
	call bsms,load
	jmp l187
l188:
	push "configs/kursorstd.png"
	push "configs/kursoract.png"
	call bsms,load
l187:
	module bsms
	method init
	new img,imgstd
	new img,imgact
	new int,msid
	push 0
	pop msid
	end method
	method load
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call imgstd,load
	push $2
	call imgact,load
	push "imgact"
	call imglobcurs,copy
	call imglobcurs,hide
	call imgstd,hide
	call imgact,hide
	cthis reset
	push "imgstd"
	call engine,stdbutcursor
	end method
	method setinitial
	call mouse,stdcursor
	push 0
	pop msid
	end method
	method setstd
	push msid
	push 1
	cmpjne
	cmp0
	je l190
	push "imgstd"
	call mouse,setcursor
	push "imgstd"
	call engine,stdbutcursor
	push 1
	pop msid
l190:
	end method
	method setact
	push msid
	push 2
	cmpjne
	cmp0
	je l192
	push "imgact"
	call mouse,setcursor
	push 2
	pop msid
l192:
	end method
	method setown
	push 3
	pop msid
	end method
	method isinitial
	push msid
	push 0
	cmpje
	end method
	method isstd
	push msid
	push 1
	cmpje
	end method
	method isact
	push msid
	push 2
	cmpje
	end method
	method isown
	push msid
	push 3
	cmpje
	end method
	end module

	module clsurf
	method init
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l193
	push $1
	push $5
	cmpjle
	cmp0
	je l193
	push $2
	push $4
	cmpjae
	cmp0
	je l193
	push $2
	push $6
	cmpjle
	jmp l195
l193:
	push 0
	jmp l195
l194:
	push 1
l195:
	end method
	method isin2
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	cmpjae
	cmp0
	je l196
	push $1
	push $3
	push $5
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l196
	push $2
	push $4
	cmpjae
	cmp0
	je l196
	push $2
	push $4
	push $6
	pop $b
	popax
	add $a,$b
	cmpjl
	jmp l198
l196:
	push 0
	jmp l198
l197:
	push 1
l198:
	end method
	method inscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $3
	pop $b
	popax
	sub $a,$b
	push 0
	push $4
	pop $b
	popax
	sub $a,$b
	push 800
	push $3
	pop $b
	popax
	add $a,$b
	push 600
	push $4
	pop $b
	popax
	add $a,$b
	cthis isin
	end method
	method insurf
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	push $3
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis isin
	end method
	method issurfin
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l200
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l200
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	jne l200
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l201
l199:
	push 0
	jmp l201
l200:
	push 1
l201:
	end method
	method commonsurface
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis issurfin
	cmp0
	jne l203
	push $5
	push $6
	push $7
	push $8
	push $1
	push $2
	push $3
	push $4
	cthis issurfin
	jmp l204
l202:
	push 0
	jmp l204
l203:
	push 1
l204:
	end method
	method commonimgs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis commonsurface
	end method
	method surfwithinsurf
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l205
	push $3
	push $2
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l205
	push $1
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	cmp0
	je l205
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	cthis isin
	jmp l207
l205:
	push 0
	jmp l207
l206:
	push 1
l207:
	end method
	method imgwithinimg
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis surfwithinsurf
	end method
	end module

	module cllen
	method init
	new int,il1
	new int,ilx
	new int,ily
	end method
	method ilenx
	push ilx
	ret
	end method
	method ileny
	push ily
	ret
	end method
	method ilen4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	ret
	end method
	method ilen3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	cthis ilen
	ret
	end method
	method ilen5
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpx
	push $2
	spushs
	spop $a
	call [$a],getpy
	cthis ilen
	ret
	end method
	method ilen2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	push $3
	cthis ilen
	ret
	end method
	method ilen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $3
	pop $b
	popax
	sub $a,$b
	pop ilx
	push $2
	push $4
	pop $b
	popax
	sub $a,$b
	pop ily
	push ilx
	push ily
	call il1,length
	ret
	end method
	method iclenx
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method iclenx2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method icleny2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	spushs
	spop $a
	call [$a],getcy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method isbetween2
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getcy
	push $3
	push $4
	push $5
	push $6
	cthis isbetween
	ret
	end method
	method isbetween
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis ilen
	pop il1
	push ilx
	push $4
	cmpjae
	cmp0
	je l208
	push ilx
	push $6
	cmpjle
	cmp0
	je l208
	push ily
	push $5
	cmpjae
	cmp0
	je l208
	push ily
	push $7
	cmpjle
	jmp l210
l208:
	push 0
	jmp l210
l209:
	push 1
l210:
	ret
	end method
	method ilodlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lodx
	push $1
	spushs
	spop $a
	call [$a],lody
	push $2
	spushs
	spop $a
	call [$a],lodx
	push $2
	spushs
	spop $a
	call [$a],lody
	cthis ilen
	end method
	method iposlen
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpos
	push $2
	spushs
	spop $a
	call [$a],getpos
	cthis ilen
	end method
	end module

	class classansearcher
	method init
	end method
	method _findnotr
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $6
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $6
	localint $7
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $7
l211:
	push $2
	push $6
	cmpjne
	cmp0
	je l212
	push $3
	push $7
	cmpjne
	jmp l214
l212:
	push 0
	jmp l214
l213:
	push 1
l214:
	cmp0
	je l215
	push $1
	spushs
	push $2
	push $3
	push 0
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l217
	push $2
	push $3
	ret
l217:
	push $4
	popax
	add $2,$a
	pop $2
	push $5
	popax
	add $3,$a
	pop $3
	jmp l211
l215:
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	ret
	end method
	method firstnotrx1y
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	method firstnotrexy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrxy1
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push 0
	push 1
	cthis _findnotr
	ret
	end method
	method firstnotrx1ey
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getey
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	push 0
	cthis _findnotr
	ret
	end method
	end class

	class signal_pack
	method init
	end method
	method addsignals
	localstring $1
	pop $1
	push $1
	spushs
	push "operator<"
	push "signal_pack0"
	spop $a
	call [$a],addmethod
	end method
	method signal_pack0
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	end method
	end class

	class ImagePos
	method init
	end method
	method getex
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	end method
	method getey
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	end class

	class ImageVisible
	method init
	new int,_isvisible
	push 1
	pop _isvisible
	end method
	method isvisible
	push _isvisible
	end method
	method show
	push 1
	pop _isvisible
	end method
	method hide
	push 0
	pop _isvisible
	end method
	end class

	class Image
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push A
	push "getz"
	push 0
	push "getpx"
	push 0
	push "getpy"
	push 0
	push "getw"
	push 0
	push "geth"
	push 0
	push "isvisible"
	push 0
	spop $a
	call [$a],vars2
	push $1
	spushs
	push "show"
	push "Image0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "hide"
	push "Image1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setz"
	push "Image2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpos"
	push "Image3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "move"
	push "Image4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getex"
	push "Image5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getey"
	push "Image6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcx"
	push "Image7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getcy"
	push "Image8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isin"
	push "Image9"
	spop $a
	call [$a],addmethod
	end method
	method Image0
	push 1
	pop isvisible
	end method
	method Image1
	push 0
	pop isvisible
	end method
	method Image2
	localint $1
	pop $1
	push $1
	pop getz
	end method
	method Image3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop getpx
	push $2
	pop getpy
	end method
	method Image4
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add getpx,$a
	pop getpx
	push $2
	popax
	add getpy,$a
	pop getpy
	end method
	method Image5
	push getpx
	push getw
	pop $b
	popax
	add $a,$b
	end method
	method Image6
	push getpy
	push geth
	pop $b
	popax
	add $a,$b
	end method
	method Image7
	push getpx
	push getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image8
	push getpy
	push geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	end method
	method Image9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	neg
	cmp0
	je l219
	push $3
	neg
	cmp0
	jne l222
	push $3
	cmp0
	je l223
	push isvisible
	jmp l225
l223:
	push 0
	jmp l225
l224:
	push 1
l225:
	jmp l226
l221:
	push 0
	jmp l226
l222:
	push 1
l226:
	cmp0
	je l227
	push $1
	push getpx
	cmpjae
	cmp0
	je l228
	push $1
	cthis getex
	cmpjl
	cmp0
	je l228
	push $2
	push getpy
	cmpjae
	cmp0
	je l228
	push $2
	cthis getey
	cmpjl
	jmp l230
l228:
	push 0
	jmp l230
l229:
	push 1
l230:
	jmp l220
l227:
	push 0
l220:
	jmp l218
l219:
	push 0
l218:
	end method
	end class

	class anima_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "_clanbuildpomvars"
	push "anima_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_clanbuildpomvars
	push $1
	spushs
	push "setbpos"
	push "anima_pack1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "saverelpos"
	push "anima_pack2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setrelpos"
	push "anima_pack3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssaverelpos"
	push "anima_pack4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mssetrelpos"
	push "anima_pack5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rplay"
	push "anima_pack6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setcpos"
	push "anima_pack7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator="
	push "anima_pack8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator=="
	push "anima_pack9"
	spop $a
	call [$a],addmethod
	push $1
	cthis addsignals
	end method
	method anima_pack0
	new int,_ixp
	new int,_iyp
	end method
	method anima_pack1
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method anima_pack2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	pop $b
	popax
	sub $a,$b
	pop _ixp
	push $2
	cthis getpy
	pop $b
	popax
	sub $a,$b
	pop _iyp
	end method
	method anima_pack3
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push _ixp
	pop $b
	popax
	sub $a,$b
	push $2
	push _iyp
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack4
	call mouse,getpos
	cthis saverelpos
	end method
	method anima_pack5
	call mouse,getpos
	cthis setrelpos
	end method
	method anima_pack6
	localstring $1
	pop $1
	push $1
	cthis isplaying
	neg
	cmp0
	je l232
	push $1
	cthis play
l232:
	end method
	method anima_pack7
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setbpos
	end method
	method anima_pack8
	localstring $1
	pop $1
	push $1
	cthis copy
	end method
	method anima_pack9
	localstring $1
	pop $1
	cthis actionnr
	push $1
	spushs
	spop $a
	call [$a],actionnr
	cmpje
	cmp0
	je l233
	cthis framenr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cmpje
	jmp l235
l233:
	push 0
	jmp l235
l234:
	push 1
l235:
	end method
	end class

	class timer_pack
	parent signal_pack
	method init
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	cthis addsignals
	end method
	end class

	class vector_pack
	method init
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l236:
	push $2
	cthis size
	cmpjl
	cmp0
	je l237
	jmp l239
l238:
	add $2,1
	pop $2
	jmp l236
l239:
	push $1
	spushs
	push $2
	cthis get
	spop $d
	cthis [$d]
	jmp l238
l237:
	end method
	method resizemethods
	localstring $1
	pop $1
	push $1
	spushs
	push "each"
	push "each"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator-"
	push "vector_pack0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "operator+"
	push "vector_pack1"
	spop $a
	call [$a],addmethod
	end method
	method vector_pack0
	localdef $1
	pop $1
	push $1
	cthis remove
	cthis getname
	end method
	method vector_pack1
	localdef $1
	pop $1
	push $1
	cthis add
	cthis getname
	end method
	end class

	method new_object
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $1
	push "_pack"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $a
	 clparent [$a],resizemethods
	end method
	method new_anima
	localstring $1
	pop $1
	push "anima"
	push $1
	cthis new_object
	end method
	method new_vector
	localstring $1
	pop $1
	push "vector"
	push $1
	cthis new_object
	end method
	class classanfilter
	method init
	end method
	method buildanfilter
	new filter,ft
	cthis getname
	call ft,link
	push 1
	call ft,setpivottype
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "buildanfilter"
	push "buildanfilter"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildanfilter
	push $1
	spushs
	push "setopacity"
	push "classanfilter0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setzoom"
	push "classanfilter1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setangle"
	push "classanfilter2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getangle"
	push "classanfilter3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "rotate"
	push "classanfilter4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpivottype"
	push "classanfilter5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "unlink"
	push "classanfilter6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "link"
	push "classanfilter7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "blend"
	push "classanfilter8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "mask"
	push "classanfilter9"
	spop $a
	call [$a],addmethod
	end method
	method classanfilter0
	localint $1
	pop $1
	push $1
	call ft,setopacity
	end method
	method classanfilter1
	localreal $1
	pop $1
	push $1
	call ft,setzoom
	end method
	method classanfilter2
	localreal $1
	pop $1
	push $1
	call ft,setangle
	end method
	method classanfilter3
	call ft,getangle
	ret
	end method
	method classanfilter4
	localreal $1
	pop $1
	push $1
	call ft,rotate
	end method
	method classanfilter5
	localint $1
	pop $1
	push $1
	call ft,setpivottype
	end method
	method classanfilter6
	call ft,unlink
	end method
	method classanfilter7
	cthis getname
	call ft,link
	end method
	method classanfilter8
	localstring $1
	pop $1
	push $1
	call ft,blend
	end method
	method classanfilter9
	localstring $1
	pop $1
	push $1
	call ft,mask
	end method
	end class

	class classancounter
	method init
	new int,iile
	new int,id
	new string,_san
	new vector,_vs
	new int,_pos
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _san
	push $2
	pop iile
	push 0
	pop id
	call $1,length
	pop _pos
	push $2
	push 0
	call _vs,resize
	end method
	method get
	localstring $1
	push _san
	push id
	pop $b
	popax
	add $a,$b
	pop $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop id
	push $1
	ret
	end method
	method getf
	localint $1
	push 0
	pop $1
l240:
	push $1
	push iile
	cmpjl
	cmp0
	je l241
	jmp l243
l242:
	add $1,1
	pop $1
	jmp l240
l243:
	push $1
	call _vs,get
	neg
	cmp0
	je l245
	push $1
	push 1
	call _vs,set
	push _san
	push $1
	pop $b
	popax
	add $a,$b
	ret
l245:
	jmp l242
l241:
	push "null"
	ret
	end method
	method retf
	localstring $1
	pop $1
	push _pos
	push 10
	call $1,getb
	push 0
	call _vs,set
	end method
	method isfree
	localint $1
	pop $1
	push $1
	call _vs,get
	ret
	end method
	method getile
	push iile
	ret
	end method
	end class

	class gmobjvec
	method init
	new vector,lsim
	push "string"
	call lsim,type
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l247
	push $1
	spushs
	spop $a
	call [$a],gettype
	spushs
	push "vector"
	cmpst
	jne l249
	spop $a
	push $1
	cthis copy
	jmp l248
l249:
	push "gmobjvec"
	cmpst
	jne l250
	spop $a
	push $1
	cthis copy
	jmp l248
l250:
	push "gmimgvec"
	cmpst
	jne l251
	spop $a
	push $1
	cthis copy
	jmp l248
l251:
	spop $a
	cthis free
	push $1
	cthis add
l248:
	jmp l246
l247:
	cthis free
	push $1
	cthis add
l246:
	end method
	method save
	localstring $1
	pop $1
	push $1
	call lsim,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call lsim,load
	end method
	method operator+
	localstring $1
	pop $1
	push $1
	cthis add
	cthis getname
	ret
	end method
	method operator-
	localstring $1
	pop $1
	push $1
	cthis remove
	cthis getname
	ret
	end method
	method removegr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l252:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l253
	jmp l255
l254:
	add $2,1
	pop $2
	jmp l252
l255:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis remove
	jmp l254
l253:
	end method
	method addtogr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l256:
	push $2
	cthis size
	cmpjl
	cmp0
	je l257
	jmp l259
l258:
	add $2,1
	pop $2
	jmp l256
l259:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],add
	jmp l258
l257:
	end method
	method addgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l260:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l261
	jmp l263
l262:
	add $2,1
	pop $2
	jmp l260
l263:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l262
l261:
	end method
	method addgroups
	push "addgr"
	cthis withlist
	end method
	method copy
	localstring $1
	pop $1
	cthis free
	push $1
	cthis addgr
	end method
	method free
	call lsim,free
	end method
	method size
	call lsim,size
	ret
	end method
	method empty
	cthis size
	push 0
	cmpje
	ret
	end method
	method hash
	call lsim,hash
	end method
	method first
	push 0
	call lsim,get
	ret
	end method
	method last
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,get
	ret
	end method
	method print
	call lsim,print
	end method
	method get
	localint $1
	pop $1
	push $1
	call lsim,get
	ret
	end method
	method set
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,set
	end method
	method add
	localstring $1
	pop $1
	push $1
	call lsim,add
	end method
	method additer
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l264:
	push $3
	push 0
	cmpja
	cmp0
	je l265
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	sub $3,1
	pop $3
	jmp l264
l265:
	end method
	method buildarray
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	call gameapi,getgamename
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newarray
	push $2
	push 0
	push $3
	cthis additer
	end method
	method deleteall
	localint $1
	push 0
	pop $1
l266:
	push $1
	cthis size
	cmpjl
	cmp0
	je l267
	jmp l269
l268:
	add $1,1
	pop $1
	jmp l266
l269:
	push $1
	cthis get
	spushs
	spop $d
	delete [$d]
	jmp l268
l267:
	end method
	method deleteallgm
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l270:
	push $2
	cthis size
	cmpjl
	cmp0
	je l271
	jmp l273
l272:
	add $2,1
	pop $2
	jmp l270
l273:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],vardel
	jmp l272
l271:
	end method
	method deleteallgmobj
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push 0
	pop $2
l274:
	push $2
	cthis size
	cmpjl
	cmp0
	je l275
	jmp l277
l276:
	add $2,1
	pop $2
	jmp l274
l277:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],deletegmobj
	jmp l276
l275:
	end method
	method lockall
	push "lock"
	cthis eval
	cthis print
	end method
	method unlockall
	push "unlock"
	cthis eval
	end method
	method addbegin
	localstring $1
	pop $1
	push $1
	call lsim,addbegin
	end method
	method swap
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call lsim,swap
	end method
	method addonce
	localstring $1
	pop $1
	push $1
	call lsim,contains
	neg
	cmp0
	je l279
	push $1
	call lsim,add
l279:
	end method
	method sepadd
	localstring $1
	pop $1
	localstring $2
	pop $2
l280:
	push $2
	push $1
	cmpjne
	cmp0
	je l281
	push $2
	cthis addbegin
	pop $2
	jmp l280
l281:
	end method
	method addlist
	push A
	cthis sepadd
	end method
	method removelist
	push "remove"
	cthis withlist
	end method
	method insertat
	localstring $1
	localint $2
	pop $2
	pop $1
	localdef $3
	cthis size
	pop $3
	push $2
	push 0
	cmpjle
	cmp0
	je l283
	push $1
	cthis addbegin
	jmp l282
l283:
	push $2
	push $3
	cmpjae
	cmp0
	je l285
	push $1
	cthis add
	jmp l284
l285:
	push "null"
	cthis add
	localdef $4
	push $3
	pop $4
l286:
	push $4
	push $2
	cmpja
	cmp0
	je l287
	jmp l289
l288:
	sub $4,1
	pop $4
	jmp l286
l289:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l288
l287:
	push $2
	push $1
	cthis set
l284:
l282:
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call lsim,remove
	end method
	method removeat
	localint $1
	pop $1
	push $1
	call lsim,removeat
	end method
	method removefirst
	push 0
	call lsim,removeat
	end method
	method removelast
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	call lsim,removeat
	end method
	method removealloccurs
	localstring $1
	pop $1
l290:
	push $1
	cthis contains
	cmp0
	je l291
	push $1
	cthis remove
	jmp l290
l291:
	end method
	method removeif
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l292:
	push $2
	cthis size
	cmpjl
	cmp0
	je l293
	jmp l295
l294:
	add $2,1
	pop $2
	jmp l292
l295:
	push $2
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l297
	push $2
	cthis removeat
l297:
	jmp l294
l293:
	end method
	method find
	localstring $1
	pop $1
	push $1
	call lsim,find
	ret
	end method
	method contains
	localstring $1
	pop $1
	push $1
	call lsim,contains
	ret
	end method
	method addgroup
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis addgroup2
	end method
	method addgroup2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
l298:
	push $2
	push $3
	cmpjle
	cmp0
	je l299
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	cthis add
	add $2,1
	pop $2
	jmp l298
l299:
	end method
	method rand
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l301
	call $1,rand
	cthis get
	jmp l300
l301:
	push "null"
l300:
	end method
	method randdiff
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l303
	localint $3
	call $2,rand
	pop $3
	localint $4
	push $3
	pop $4
l304:
	push $3
	cthis get
	push $1
	cmpje
	cmp0
	je l305
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	pop $3
	push $3
	push $4
	cmpje
	cmp0
	je l307
	push "null"
	ret
l307:
	jmp l304
l305:
	push $3
	cthis get
	ret
l303:
	push "null"
	end method
	method buildfullvars
	push "gmobjvec0"
	cthis each
	end method
	method gmobjvec0
	localdef $1
	pop $1
	cthis buildfullname
	end method
	method buildvars
	push "gmobjvec1"
	cthis each
	end method
	method gmobjvec1
	localdef $1
	pop $1
	cthis getname
	cthis addtogamevars
	end method
	method movefrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	cthis find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l309
l310:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l311
	push $4
	call lsim,get
	spushs
	push $2
	push $3
	spop $a
	call [$a],move
	add $4,1
	pop $4
	jmp l310
l311:
l309:
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method show
	push "show"
	cthis eval
	end method
	method hide
	push "hide"
	cthis eval
	end method
	method stop
	localint $1
	pop $1
	push "stop"
	push $1
	cthis eval1
	end method
	method play
	push "play"
	cthis eval
	end method
	method setdelay
	localint $1
	pop $1
	push "setdelay"
	push $1
	cthis eval1
	end method
	method isplaying
	localint $1
	push 0
	pop $1
l312:
	push $1
	cthis size
	cmpjl
	cmp0
	je l313
	jmp l315
l314:
	add $1,1
	pop $1
	jmp l312
l315:
	push $1
	cthis get
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],isplaying
	cmp0
	je l317
	push 1
	ret
l317:
	jmp l314
l313:
	push 0
	end method
	method graddmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "addmethod"
	push $1
	push $2
	cthis eval2
	end method
	method getimg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l318:
	push $5
	push 0
	cmpjae
	cmp0
	je l319
	jmp l321
l320:
	sub $5,1
	pop $5
	jmp l318
l321:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l323
	push $5
	call lsim,get
	ret
l323:
	jmp l320
l319:
	push "null"
	ret
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l324:
	push $5
	push 0
	cmpjae
	cmp0
	je l325
	jmp l327
l326:
	sub $5,1
	pop $5
	jmp l324
l327:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l329
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l329:
	jmp l326
l325:
	push 0
	ret
	end method
	method setframe
	localdef $1
	localint $2
	pop $2
	pop $1
	push "setframe"
	push $1
	push $2
	cthis eval2
	end method
	method setz
	localint $1
	pop $1
	push "setz"
	push $1
	cthis eval1
	end method
	method eval
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l330:
	push $2
	call lsim,size
	cmpjl
	cmp0
	je l331
	jmp l333
l332:
	add $2,1
	pop $2
	jmp l330
l333:
	push $2
	call lsim,get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l332
l331:
	end method
	method eval1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l334:
	push $3
	call lsim,size
	cmpjl
	cmp0
	je l335
	jmp l337
l336:
	add $3,1
	pop $3
	jmp l334
l337:
	push $3
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l336
l335:
	end method
	method eval2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l338:
	push $4
	call lsim,size
	cmpjl
	cmp0
	je l339
	jmp l341
l340:
	add $4,1
	pop $4
	jmp l338
l341:
	push $4
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l340
l339:
	end method
	method eval3
	localstring $1
	localdef $2
	localdef $3
	localdef $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l342:
	push $5
	call lsim,size
	cmpjl
	cmp0
	je l343
	jmp l345
l344:
	add $5,1
	pop $5
	jmp l342
l345:
	push $5
	call lsim,get
	spushs
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	jmp l344
l343:
	end method
	method _find
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l346:
	push $3
	cthis size
	cmpjl
	cmp0
	je l347
	jmp l349
l348:
	add $3,1
	pop $3
	jmp l346
l349:
	push $3
	cthis get
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	cmpje
	cmp0
	je l351
	push $3
	ret
l351:
	jmp l348
l347:
	push 1
	popax
	sub 0,$a
	end method
	method _find1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l352:
	push $3
	cthis size
	cmpjl
	cmp0
	je l353
	jmp l355
l354:
	add $3,1
	pop $3
	jmp l352
l355:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l357
	push $3
	ret
l357:
	jmp l354
l353:
	push 1
	popax
	sub 0,$a
	end method
	method each
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l358:
	push $2
	cthis size
	cmpjl
	cmp0
	je l359
	jmp l361
l360:
	add $2,1
	pop $2
	jmp l358
l361:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l360
l359:
	end method
	method each1
	localstring $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l362:
	push $3
	cthis size
	cmpjl
	cmp0
	je l363
	jmp l365
l364:
	add $3,1
	pop $3
	jmp l362
l365:
	push $3
	cthis get
	spushs
	push $1
	spushs
	push $3
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	jmp l364
l363:
	end method
	method each2
	localstring $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l366:
	push $4
	cthis size
	cmpjl
	cmp0
	je l367
	jmp l369
l368:
	add $4,1
	pop $4
	jmp l366
l369:
	push $4
	cthis get
	spushs
	push $1
	spushs
	push $4
	push $2
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l368
l367:
	end method
	method ineach
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l370:
	push $2
	cthis size
	cmpjl
	cmp0
	je l371
	jmp l373
l372:
	add $2,1
	pop $2
	jmp l370
l373:
	push $2
	cthis get
	spushs
	push $1
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	neg
	cmp0
	je l375
	push 0
	ret
l375:
	jmp l372
l371:
	push 1
	end method
	method find_closest
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis empty
	cmp0
	je l377
	ret
l377:
	localint $3
	push 0
	pop $3
	localreal $4
	localreal $5
	push 0
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $5
	localint $6
	push 1
	pop $6
l378:
	push $6
	cthis size
	cmpjl
	cmp0
	je l379
	jmp l381
l380:
	add $6,1
	pop $6
	jmp l378
l381:
	push $6
	cthis get
	spushs
	push $2
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	pop $4
	push $4
	push $5
	cmpjl
	cmp0
	je l383
	push $6
	pop $3
	push $5
	pop $4
l383:
	jmp l380
l379:
	push $3
	end method
	method sortimgsfun
	localstring $1
	pop $1
	push $1
	call lsim,vecsort
	end method
	method sortimgs
	push "_scmpimg1"
	call lsim,vecsort
	end method
	method _scmpimg1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpjl
	cmp0
	jne l385
	push $1
	spushs
	spop $a
	call [$a],getz
	push $2
	spushs
	spop $a
	call [$a],getz
	cmpje
	cmp0
	je l386
	push $1
	spushs
	spop $a
	call [$a],getidobj
	push $2
	spushs
	spop $a
	call [$a],getidobj
	cmpjl
	jmp l388
l386:
	push 0
	jmp l388
l387:
	push 1
l388:
	jmp l389
l384:
	push 0
	jmp l389
l385:
	push 1
l389:
	ret
	end method
	end class

	class gmimgvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new int,_ix
	push 0
	pop _ix
	new int,_iy
	push 0
	pop _iy
	new int,_iz
	push 0
	pop _iz
	new int,_ifound
	push 1
	popax
	sub 0,$a
	pop _ifound
	new string,sanload
	push "null"
	pop sanload
	end method
	method _setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop _iy
	pop _ix
	end method
	method lodx
	push 0
	end method
	method lody
	push 0
	end method
	method getposx
	push _ix
	ret
	end method
	method getposy
	push _iy
	ret
	end method
	method getpos
	push _ix
	push _iy
	ret
	end method
	method getpx
	push _ix
	ret
	end method
	method getpy
	push _iy
	ret
	end method
	method getw
	cthis getex
	cthis getpx
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method geth
	cthis getey
	cthis getpy
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method getcx
	cthis getpx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getcy
	cthis getpy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	ret
	end method
	method getz
	push _iz
	ret
	end method
	method getex
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l391
	push _ix
	ret
l391:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l392:
	push $4
	push $1
	cmpjl
	cmp0
	je l393
	jmp l395
l394:
	add $4,1
	pop $4
	jmp l392
l395:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getex
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l397
	push $3
	pop $2
l397:
	jmp l394
l393:
	push $2
	ret
	end method
	method getey
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l399
	push _iy
	ret
l399:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l400:
	push $4
	push $1
	cmpjl
	cmp0
	je l401
	jmp l403
l402:
	add $4,1
	pop $4
	jmp l400
l403:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getey
	pop $3
	push $3
	push $2
	cmpja
	cmp0
	je l405
	push $3
	pop $2
l405:
	jmp l402
l401:
	push $2
	ret
	end method
	method _getpx
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l407
	push _ix
	ret
l407:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l408:
	push $4
	push $1
	cmpjl
	cmp0
	je l409
	jmp l411
l410:
	add $4,1
	pop $4
	jmp l408
l411:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpx
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l413
	push $3
	pop $2
l413:
	jmp l410
l409:
	push $2
	ret
	end method
	method _getpy
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l415
	push _iy
	ret
l415:
	localint $2
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $2
	localint $3
	localint $4
	push 1
	pop $4
l416:
	push $4
	push $1
	cmpjl
	cmp0
	je l417
	jmp l419
l418:
	add $4,1
	pop $4
	jmp l416
l419:
	push $4
	cthis get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $3
	push $2
	cmpjl
	cmp0
	je l421
	push $3
	pop $2
l421:
	jmp l418
l417:
	push $2
	ret
	end method
	method _getw
	cthis getex
	cthis _getpx
	pop $b
	popax
	sub $a,$b
	end method
	method _geth
	cthis getey
	cthis _getpy
	pop $b
	popax
	sub $a,$b
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push "setz"
	push $1
	cthis eval1
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _ix,$a
	pop _ix
	push $2
	popax
	add _iy,$a
	pop _iy
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	push "setpos"
	push $1
	push $2
	cthis eval2
	end method
	method setpos2
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop _ix
	push $2
	pop _iy
	cthis empty
	neg
	cmp0
	je l423
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpx
	popax
	sub $1,$a
	pop $1
	push 0
	cthis get
	spushs
	spop $a
	call [$a],getpy
	popax
	sub $2,$a
	pop $2
	push $1
	popax
	sub 0,$a
	push $2
	popax
	sub 0,$a
	cthis move
l423:
	end method
	method changeframe
	localint $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l424:
	push $3
	cthis size
	cmpjl
	cmp0
	je l425
	jmp l427
l426:
	add $3,1
	pop $3
	jmp l424
l427:
	push $3
	cthis get
	pop $2
	push $2
	spushs
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spop $a
	call [$a],setframe
	jmp l426
l425:
	end method
	method nplay
	localint $1
	pop $1
	push "play"
	push $1
	cthis eval1
	end method
	method txtreset
	localint $1
	push 0
	pop $1
l428:
	push $1
	cthis size
	cmpjl
	cmp0
	je l429
	jmp l431
l430:
	add $1,1
	pop $1
	jmp l428
l431:
	push $1
	cthis get
	spushs
	push ""
	spop $a
	call [$a],txtset
	jmp l430
l429:
	end method
	method anputgr
	push "anputgr"
	cthis eval
	end method
	method anputy
	localint $1
	pop $1
	push "anputy"
	push ipos
	cthis eval1
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l432:
	push $5
	push 0
	cmpjae
	cmp0
	je l433
	jmp l435
l434:
	sub $5,1
	pop $5
	jmp l432
l435:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	cmp0
	je l437
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l437:
	jmp l434
l433:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isinfunc
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l438:
	push $4
	push 0
	cmpjae
	cmp0
	je l439
	jmp l441
l440:
	sub $4,1
	pop $4
	jmp l438
l441:
	push $4
	call lsim,get
	spushs
	push $3
	spushs
	push $1
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	cmp0
	je l443
	push $4
	pop _ifound
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	ret
l443:
	jmp l440
l439:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method isincut
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l444:
	push $5
	push 0
	cmpjae
	cmp0
	je l445
	jmp l447
l446:
	sub $5,1
	pop $5
	jmp l444
l447:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	spop $a
	call [$a],withincut
	cmp0
	je l449
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	jmp l451
l449:
	push 0
	jmp l451
l450:
	push 1
l451:
	cmp0
	je l452
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l452:
	jmp l446
l445:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	method findif
	localstring $1
	pop $1
	push $1
	push 1
	cthis _find
	end method
	method getfound
	push _ifound
	ret
	end method
	method getsfound
	push _ifound
	cthis get
	ret
	end method
	method findfr
	localint $1
	pop $1
	push "framenr"
	push $1
	cthis _find
	end method
	method findsfr
	localstring $1
	pop $1
	push "framename"
	push $1
	cthis _find
	end method
	method findac
	localint $1
	pop $1
	push "actionnr"
	push $1
	cthis _find
	end method
	method findsac
	localstring $1
	pop $1
	push "actionname"
	push $1
	cthis _find
	end method
	method nearest_to
	localstring $1
	pop $1
	push $1
	push "gmimgvec0"
	cthis find_closest
	end method
	method gmimgvec0
	localstring $1
	pop $1
	cthis getname
	push $1
	call cllen,ilen5
	end method
	method getsac
	localstring $1
	pop $1
	push $1
	cthis findsac
	cthis get
	end method
	method getsacfr
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l453:
	push $3
	cthis size
	cmpjl
	cmp0
	je l454
	jmp l456
l455:
	add $3,1
	pop $3
	jmp l453
l456:
	push $3
	cthis get
	spushs
	spop $a
	call [$a],actionname
	push $1
	cmpje
	cmp0
	je l458
	push $3
	cthis get
	spushs
	spop $a
	call [$a],framenr
	push $2
	cmpje
	jmp l460
l458:
	push 0
	jmp l460
l459:
	push 1
l460:
	cmp0
	je l461
	push $3
	cthis get
	ret
l461:
	jmp l455
l454:
	push "null"
	end method
	method blitto
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l462:
	push $2
	cthis size
	cmpjl
	cmp0
	je l463
	jmp l465
l464:
	add $2,1
	pop $2
	jmp l462
l465:
	push $1
	spushs
	push $2
	cthis get
	spop $a
	call [$a],blit
	jmp l464
l463:
	end method
	method sortz
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l466:
	push $2
	cthis size
	cmpjl
	cmp0
	je l467
	jmp l469
l468:
	add $2,1
	pop $2
	jmp l466
l469:
	push $2
	cthis get
	spushs
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	jmp l468
l467:
	end method
	method ancopies
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l470:
	push $3
	push $2
	cmpjl
	cmp0
	je l471
	jmp l473
l472:
	add $3,1
	pop $3
	jmp l470
l473:
	push GAME
	spushs
	push $1
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],copyanima
	push $1
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	cthis add
	jmp l472
l471:
	end method
	method loadallan
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call gameapi,getgamename
	pop $4
	push $4
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],newanima
	push $4
	spushs
	push $1
	push $1
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $1
	spushs
	spop $a
	call [$a],hide
	end method
	method operator*
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l475
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l474
l475:
	push $1
	pop $3
l474:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanactionsgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method operator<
	localstring $1
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	localstring $3
	push ".pyz"
	call $1,contains
	cmp0
	je l477
	push "an"
	push ".pyz"
	call $1,strsubes
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	push $3
	push $1
	push 0
	spop $a
	call [$a],newanima
	jmp l476
l477:
	push $1
	pop $3
l476:
	push $3
	pop sanload
	push $2
	spushs
	push $3
	push $3
	cthis getname
	spop $a
	call [$a],newanfrbyactgr
	popax
	push $3
	spushs
	spop $a
	call [$a],hide
	end method
	method deleteloaded
	cthis deleteallgm
	push sanload
	push "null"
	cmpjne
	cmp0
	je l479
	call gameapi,getgamename
	spushs
	push sanload
	spop $a
	call [$a],vardel
l479:
	end method
	end class

	class gmadvvec
	parent gmimgvec
	method init
	clparent gmimgvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	call lsim,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $5
l480:
	push $5
	push 0
	cmpjae
	cmp0
	je l481
	jmp l483
l482:
	sub $5,1
	pop $5
	jmp l480
l483:
	push $5
	call lsim,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],butisin
	cmp0
	je l485
	push $5
	pop _ifound
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	ret
l485:
	jmp l482
l481:
	push 1
	popax
	sub 0,$a
	pop _ifound
	push 0
	ret
	end method
	end class

	class gmmaskvec
	parent gmadvvec
	method init
	clparent gmadvvec,init
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	clparent gmimgvec,butisin
	end method
	end class

	class Subtitle
	method init
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $7
	push 0.5
	pop $7
	localint $8
	localint $9
	localint $10
	push 255
	pop $8
	push 255
	pop $9
	push 255
	pop $10
	new int,iborx
	push $5
	pop iborx
	new int,ibory
	push $6
	pop ibory
	new font,fnt
	push $3
	push $4
	call fnt,load
	new int,ifontsize
	push $4
	pop ifontsize
	new db,dbl
	push "lang/"
	push $1
	pop $b
	popax
	add $a,$b
	call dbl,load
	localstring $11
	localstring $12
	new vector,v1
	push "string"
	call v1,type
	localint $13
	push iResX
	push 2
	push $5
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push $7
	push $4
	pop $b
	popax
	mul $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	pop $13
	localint $14
	localint $15
	localint $16
	push 0
	pop $16
	localint $17
	push 0
	pop $17
l486:
	push $17
	call dbl,getrowsno
	cmpjl
	cmp0
	je l487
	jmp l489
l488:
	add $17,1
	pop $17
	jmp l486
l489:
	push $17
	push 0
	call dbl,get
	pop $11
	push 0
	push 4
	call $11,gete
	push ".wav"
	cmpjne
	cmp0
	je l491
	push ".wav"
	popax
	add $11,$a
	pop $11
l491:
	push $17
	push 0
	push $2
	push $11
	pop $b
	popax
	add $a,$b
	call dbl,set
	push $17
	push 1
	call dbl,get
	pop $11
	push $11
	push " "
	call v1,vecbuildfromstring
	push ""
	pop $12
	push 1
	pop $14
	push 0
	pop $15
l492:
	push $15
	call v1,size
	cmpjl
	cmp0
	je l493
	jmp l495
l494:
	add $15,1
	pop $15
	jmp l492
l495:
	call $12,length
	push $15
	call v1,get
	spushs
	spop $h
	call $h,length
	pop $b
	popax
	add $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	push $13
	cmpjle
	cmp0
	je l497
	push " "
	push $15
	call v1,get
	pop $b
	popax
	add $a,$b
	popax
	add $12,$a
	pop $12
	jmp l496
l497:
	push $14
	push 1
	cmpje
	cmp0
	je l499
	push $17
	push $14
	push $12
	call dbl,set
	jmp l498
l499:
	push $17
	push $12
	call dbl,add
l498:
	push $15
	call v1,get
	pop $12
	add $14,1
	pop $14
l496:
	jmp l494
l493:
	push $14
	push 1
	cmpje
	cmp0
	je l501
	push $17
	push $14
	push $12
	call dbl,set
	jmp l500
l501:
	push $17
	push $12
	call dbl,add
l500:
	push $14
	push $16
	cmpja
	cmp0
	je l503
	push $14
	pop $16
l503:
	jmp l488
l487:
	new gmimgvec,grtxt
	localint $17
	push 0
	pop $17
l504:
	push $17
	push $16
	cmpjl
	cmp0
	je l505
	jmp l507
l506:
	add $17,1
	pop $17
	jmp l504
l507:
	push "txt"
	push $17
	pop $b
	popax
	add $a,$b
	pop $11
	push "txts"
	push $17
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	push ""
	push "fnt"
	cthis black
	clparent classgame,newtext
	push $11
	push ""
	push "fnt"
	push $8
	push $9
	push $10
	clparent classgame,newtext
	push $11
	call grtxt,add
	push $12
	call grtxt,add
	jmp l506
l505:
	new db,dbsnd
	new timer,timtxt
	push 1
	call timtxt,settick
	push 1
	call timtxt,setcycle
	push "onfinish"
	push "Subtitle0"
	call timtxt,addmethod
	push 12000
	cthis setz
	end method
	method Subtitle0
	cthis cisplaying
	neg
	cmp0
	je l509
	cthis hidesubs
	jmp l508
l509:
	cthis play
l508:
	end method
	method reset
	cthis stop
	call dbsnd,free
	end method
	method hidesubs
	call grtxt,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	call grtxt,setz
	end method
	method stop
	cthis hidesubs
	push 0
	call timtxt,stop
	end method
	method register
	localstring $1
	localstring $2
	pop $2
	pop $1
	localdef $3
	push $2
	call dbl,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l511
	localdef $4
	push $1
	call dbsnd,findbyrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l513
	push $4
	push 1
	push $3
	call dbsnd,set
	jmp l512
l513:
	localdef $4
	call dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	push $4
	push $1
	call dbsnd,add
	push $4
	push $3
	call dbsnd,add
l512:
l511:
	end method
	method play
	localstring $1
	pop $1
	cthis stop
	localdef $2
	push $1
	call dbsnd,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l515
	push $2
	push 1
	call dbsnd,get
	pop $2
	localdef $3
	push $2
	call dbl,getcolsno
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	localstring $5
	localint $6
	push 0
	push 0
	call grtxt,setpos
	localint $7
	push 2
	pop $7
	localint $8
	push 0
	pop $8
l516:
	push $8
	push $3
	cmpjl
	cmp0
	je l517
	jmp l519
l518:
	add $8,1
	pop $8
	jmp l516
l519:
	push 2
	push $8
	pop $b
	popax
	mul $a,$b
	pop $6
	push $6
	call grtxt,get
	pop $4
	push $4
	spushs
	push $2
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	call dbl,get
	spop $a
	call [$a],txtset
	push $6
	push 1
	pop $b
	popax
	add $a,$b
	call grtxt,get
	pop $5
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push iResX
	push $4
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $8
	push ifontsize
	pop $b
	popax
	mul $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $4
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push 2
	pop $b
	popax
	add $a,$b
	push $4
	spushs
	spop $a
	call [$a],getpy
	push 2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	spushs
	spop $a
	call [$a],show
	jmp l518
l517:
	push 0
	push iResY
	push $3
	push ifontsize
	push $7
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	push ibory
	pop $b
	popax
	sub $a,$b
	call grtxt,move
	call timtxt,play
l515:
	end method
	end class

	push igmsubtitle
	cmp0
	je l521
	push "sub_kik.db"
	push "sounds/"
	push sgmfontbold
	push 28
	push 50
	push 15
	new Subtitle,subtitle
l521:
	class classsound
	method init
	new string,_csplay
	push "null"
	pop _csplay
	push igmsubtitle
	cmp0
	je l523
	call subtitle,reset
l523:
	end method
	method creset
	push "null"
	pop _csplay
	end method
	method cgetactsnd
	push _csplay
	ret
	end method
	method crselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	je l525
	push $1
	cthis cbplay
	jmp l524
l525:
	cthis cgetactsnd
	push $1
	cmpjne
	cmp0
	je l527
	push $1
	cthis cbplay
l527:
l524:
	end method
	method cbselfplay
	localstring $1
	pop $1
	cthis cisplaying
	neg
	cmp0
	jne l530
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l531
l529:
	push 0
	jmp l531
l530:
	push 1
l531:
	cmp0
	je l532
	push $1
	cthis cbplay
l532:
	end method
	method cbplay
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l534
	push _csplay
	spushs
	push 1
	spop $a
	call [$a],stop
l534:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l536
	push $1
	cthis csubplay
l536:
	end method
	method cbsplay
	localstring $1
	pop $1
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l538
	push $1
	cthis csubplay
l538:
	end method
	method cbplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	push $1
	cthis cbplay
	end method
	method cbplay2
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l540
	push _csplay
	spushs
	push 0
	spop $a
	call [$a],stop
l540:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l542
	push $1
	cthis csubplay
l542:
	end method
	method crplay
	localstring $1
	pop $1
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l544
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l546
l544:
	push 0
	jmp l546
l545:
	push 1
l546:
	cmp0
	je l547
	ret
l547:
	push $1
	pop _csplay
	push $1
	push "null"
	cmpjne
	cmp0
	je l549
	push $1
	cthis csubplay
l549:
	end method
	method cbplayif
	localstring $1
	pop $1
	cthis cisplaying
	cmp0
	je l551
	push $1
	cthis cbplay
l551:
	end method
	method crbgplay
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l553
	push $1
	spushs
	spop $a
	call [$a],isplaying
	neg
	jmp l555
l553:
	push 0
	jmp l555
l554:
	push 1
l555:
	cmp0
	je l556
	push $1
	cthis csubplay
l556:
	end method
	method crandplay
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	call $2,rand
	push 0
	cmpje
	cmp0
	je l558
	push "c"
	push $3
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $d
	cthis [$d]
l558:
	end method
	method cplayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "c"
	push $1
	pop $b
	popax
	add $a,$b
	push "play"
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $d
	cthis [$d]
	push $2
	spushs
	spop $a
	call [$a],isplaying
	cmp0
	je l560
	push $3
	push "null"
	cmpjne
	jmp l562
l560:
	push 0
	jmp l562
l561:
	push 1
l562:
	cmp0
	je l563
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l563:
	end method
	method cactsndstop
	localint $1
	pop $1
	cthis cisplaying
	cmp0
	je l565
	push _csplay
	spushs
	push $1
	spop $a
	call [$a],stop
l565:
	end method
	method cstopsnds
	localint $1
	pop $1
	call _csplay,in
	cmp0
	je l567
	cthis cisplaying
	jmp l569
l567:
	push 0
	jmp l569
l568:
	push 1
l569:
	cmp0
	je l570
	push $1
	cthis cactsndstop
l570:
	end method
	method cisplaying
	push _csplay
	push "null"
	cmpjne
	cmp0
	je l572
	push _csplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l571
l572:
	push 0
l571:
	end method
	method csubplay
	localstring $1
	pop $1
	push igmsubtitle
	cmp0
	je l574
	push $1
	call subtitle,play
l574:
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	end class

	class classsndbank
	method init
	new int,itype
	new int,ilicz
	push 0
	pop ilicz
	new int,iile
	new string,splay
	push "null"
	pop splay
	new string,ssnd
	push "snd"
	pop ssnd
	end method
	method loadsingle
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push 0
	cmpjle
	cmp0
	je l576
	push 0
	pop iile
	ret
l576:
	push $2
	pop iile
	push 0
	pop itype
	localint $3
	push 0
	pop $3
l577:
	push $3
	push $2
	cmpjl
	cmp0
	je l578
	jmp l580
l579:
	add $3,1
	pop $3
	jmp l577
l580:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	push $1
	clparent newvars,newsnd
	jmp l579
l578:
	end method
	method load
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	add $a,$b
	pop iile
	push iile
	push 0
	cmpjle
	cmp0
	je l582
	push 0
	pop iile
	ret
l582:
	push ssnd
	push 0
	push $1
	push $2
	push $3
	clparent newvars,newsnds
	push $4
	pop itype
	push $5
	push 1
	cmpje
	cmp0
	je l584
	call iile,rand
	pop ilicz
l584:
	end method
	method addmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l585:
	push $3
	push iile
	cmpjl
	cmp0
	je l586
	jmp l588
l587:
	add $3,1
	pop $3
	jmp l585
l588:
	push ssnd
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],addmethod
	jmp l587
l586:
	end method
	method stop
	localint $1
	pop $1
	push splay
	push "null"
	cmpjne
	cmp0
	je l590
	push splay
	spushs
	push $1
	spop $a
	call [$a],stop
l590:
	end method
	method isplaying
	push splay
	push "null"
	cmpjne
	cmp0
	je l592
	push splay
	spushs
	spop $a
	call [$a],isplaying
	jmp l591
l592:
	push 0
l591:
	end method
	method randplay
	localint $1
	pop $1
	call $1,rand
	push 0
	cmpje
	cmp0
	je l594
	cthis play
l594:
	end method
	method playid
	localint $1
	pop $1
	push $1
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	cthis play
	end method
	method play
	push 0
	cthis stop
	cthis bgplay
	end method
	method reset
	push 0
	pop ilicz
	end method
	method rbgplay
	cthis isplaying
	neg
	cmp0
	je l596
	cthis bgplay
l596:
	end method
	method rplay
	cthis isplaying
	neg
	cmp0
	je l598
	cthis play
l598:
	end method
	method bgplay
	push ssnd
	push ilicz
	pop $b
	popax
	add $a,$b
	pop splay
	push splay
	spushs
	spop $a
	call [$a],play
	push itype
	push 0
	cmpje
	cmp0
	je l600
	push ilicz
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop ilicz
	jmp l599
l600:
	push itype
	push 1
	cmpje
	cmp0
	je l602
	call iile,rand
	pop ilicz
l602:
l599:
	end method
	method setvol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l603:
	push $2
	push iile
	cmpjl
	cmp0
	je l604
	jmp l606
l605:
	add $2,1
	pop $2
	jmp l603
l606:
	push ssnd
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],setvol
	jmp l605
l604:
	end method
	end class

	class SoundSource
	method init
	end method
	method setvol
	localstring $1
	localint $2
	localint $3
	localreal $4
	localreal $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call $5,abs
	push $4
	cmpjae
	cmp0
	je l608
	push $1
	spushs
	push $3
	spop $a
	call [$a],setvol
	jmp l607
l608:
	push $1
	spushs
	push 1.0
	call $5,abs
	push $4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setvol
l607:
	end method
	end class

	class classgame
	parent newvars
	parent classsound
	method init
	clparent newvars,init
	clparent classsound,init
	new int,_iconstid
	end method
	method bkg=
	localdef $1
	pop $1
	push ".pyz"
	call $1,contains
	cmp0
	je l610
	push "anbkg"
	push $1
	push 0
	cthis newanima
	jmp l609
l610:
	push "imgbkg"
	push $1
	push 0
	cthis newimg
l609:
	end method
	method bgr=
	localdef $1
	pop $1
	push $1
	cthis csndbgr
	end method
	method path=
	localdef $1
	pop $1
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	end method
	method cycle=
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push 1
	push 1
	push $2
	cthis cnewtimercyclefin
	end method
	method timer=
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push $3
	cthis cnewtimerfin
	end method
	method _getflags
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
	push "L"
	call $1,contains
	cmp0
	je l612
	push "L"
	call $1,strremove
	push 1
	pop $2
l612:
	localdef $3
	push 0
	pop $3
	push "P"
	call $1,contains
	cmp0
	je l614
	push "P"
	call $1,strremove
	push 1
	pop $3
l614:
	localdef $4
	push 0
	pop $4
	push "H"
	call $1,contains
	cmp0
	je l616
	push "H"
	call $1,strremove
	push 1
	pop $4
l616:
	push $1
	push $2
	push $3
	push $4
	ret
	end method
	method img=
	localdef $1
	pop $1
	push $1
	cthis _build_img
	popax
	end method
	method _build_img
	localdef $1
	pop $1
	localdef $2
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
	push "G"
	call $1,contains
	cmp0
	je l618
	push "G"
	call $1,strremove
	push 1
	pop $5
l618:
	localdef $6
	push 0
	pop $6
	push " "
	call $1,contains
	cmp0
	je l620
	push " "
	call $1,strgetfrom
	pop $6
	push " "
	call $1,strgetto
	pop $1
l620:
	localstring $7
	push "/"
	call $1,contains
	cmp0
	je l622
	new vector,_v_sfile
	push "string"
	call _v_sfile,type
	push $1
	push "/"
	call _v_sfile,vecbuildfromstring
	call _v_sfile,last
	spushs
	push 4
	spop $h
	call $h,strsube
	pop $7
	delete _v_sfile
	jmp l621
l622:
	push 4
	call $1,strsube
	pop $7
l621:
	localstring $8
	push ".pyz"
	call $1,contains
	cmp0
	je l624
	push $5
	cmp0
	je l626
	push "gr"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push ".pyz"
	call $1,strsubes
	push $6
	cthis newgrimg
	jmp l625
l626:
	push "an"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	push $6
	cthis newanima
l625:
	jmp l623
l624:
	push "img"
	push $7
	pop $b
	popax
	add $a,$b
	pop $8
	push $8
	push $1
	push $6
	cthis newimg
l623:
	push $2
	cmp0
	je l628
	push $8
	spushs
	spop $a
	call [$a],anloopfin
l628:
	push $3
	cmp0
	je l630
	push $8
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
l630:
	push $4
	cmp0
	je l632
	push $8
	spushs
	spop $a
	call [$a],hide
l632:
	push $8
	end method
	method imgsgr=
	localstring $1
	pop $1
	localstring $2
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	localdef $3
	pop $3
l633:
	push A
	push $3
	cmpjne
	cmp0
	je l634
	push $1
	spushs
	push $3
	cthis _build_img
	spop $a
	call [$a],add
	localdef $3
	pop $3
	jmp l633
l634:
	end method
	method imgs=
	push "img="
	cthis withlist
	end method
	method clone
	localstring $1
	pop $1
	call gameapi,getgamename
	spushs
	cthis getname
	cthis gettype
	push $1
	spop $a
	call [$a],classgame0
	end method
	method classgame0
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	spushs
	push $3
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $3
	spushs
	push $1
	spop $a
	call [$a],copy
	end method
	method clones=
	push "clone"
	cthis withlist
	end method
	method list=
	localdef $1
	pop $1
	localdef $2
	pop $2
	push $1
	spushs
	spop $e
	new gmobjvec,[$e]
l635:
	push A
	push $2
	cmpjne
	cmp0
	je l636
	push $1
	spushs
	push $2
	spop $a
	call [$a],addbegin
	pop $2
	jmp l635
l636:
	end method
	method list2=
	localdef $1
	push "gmobjvec"
	cthis newconst
	pop $1
	push $1
	cthis list=
	push $1
	end method
	method debug=
	localdef $1
	pop $1
	push $1
	call engine,setdebugstate
	end method
	method sfx=
	localstring $1
	pop $1
	localint $2
	push "N"
	call $1,contains
	pop $2
	push $2
	cmp0
	je l638
	push "N"
	call $1,strremove
l638:
	localdef $3
	localdef $4
	push $1
	cthis _getflags
	popax
	pop $4
	pop $3
	pop $1
	localdef $5
	push 100
	pop $5
	push " "
	call $1,contains
	cmp0
	je l640
	push " "
	call $1,strgetfrom
	pop $5
	push " "
	call $1,strgetto
	pop $1
l640:
	localstring $6
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsfx
	push $6
	spushs
	push $5
	spop $a
	call [$a],setvol
	push $3
	cmp0
	je l642
	push $6
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l642:
	push $4
	cmp0
	je l644
	push $6
	spushs
	spop $a
	call [$a],play
	jmp l643
l644:
	push $2
	cmp0
	je l646
	push $6
	spushs
	spop $a
	call [$a],playloop
l646:
l643:
	end method
	method sfxs=
	push "sfx="
	cthis withlist
	end method
	method tickstart
	push "__timspeed"
	cthis hasvar
	neg
	cmp0
	je l648
	new TicksCounter,__timspeed
l648:
	call __timspeed,start
	end method
	method tickstop
	push "ticker: "
	call __timspeed,print
	end method
	method csndplayloop
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newsndloop
	push $1
	spushs
	spop $a
	call [$a],play
	end method
	method csndbgr
	localstring $1
	pop $1
	push "sndbgr"
	push $1
	cthis newbgr
	push "sndbgr"
	cthis sndplayloop
	end method
	method cloadcursor
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l650
	push "imgkursor"
	push $1
	push 0
	cthis newimg
	push "imgkursor"
	pop $1
l650:
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call mouse,setcursor
	push $1
	call engine,stdbutcursor
	call bsms,setown
	end method
	method newimgarray
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildarray
	end method
	method newfont
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new font,[$e]
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],load
	end method
	method monofont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontmono
	push $2
	cthis newfont
	end method
	method newfontbold
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push sgmfontbold
	push $2
	cthis newfont
	end method
	method snewfont
	localstring $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push "font"
	cthis newconst
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],load
	push $3
	ret
	end method
	method stdfont
	localint $1
	pop $1
	push sgmfontfile
	push $1
	cthis snewfont
	end method
	method stdmono
	localint $1
	pop $1
	push sgmfontmono
	push $1
	cthis snewfont
	end method
	method stdbold
	localint $1
	pop $1
	push sgmfontbold
	push $1
	cthis snewfont
	end method
	method getconstid
	add _iconstid,1
	pop _iconstid
	push _iconstid
	push 1
	pop $b
	popax
	sub $a,$b
	end method
	method newconst
	localstring $1
	pop $1
	localstring $2
	push "const"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getconstid
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	spushs
	push $2
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	push $2
	ret
	end method
	method consttext
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $8
	push "text"
	cthis newconst
	pop $8
	localstring $9
	push $4
	cthis stdfont
	pop $9
	push $8
	spushs
	push $9
	spop $a
	call [$a],setfont
	push $8
	spushs
	push $1
	spop $a
	call [$a],set
	push $8
	spushs
	push $5
	push $6
	push $7
	spop $a
	call [$a],createtxt
	push $8
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $8
	ret
	end method
	method newtext
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	spushs
	push $2
	spop $a
	call [$a],set
	push $1
	spushs
	push $3
	spop $a
	call [$a],setfont
	push $1
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	end method
	method newtextposz
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	cthis newtext
	push $1
	spushs
	push $7
	push $8
	push $9
	spop $a
	call [$a],anposz
	end method
	method newgrimg
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmimgvec,[$e]
	push $1
	push $2
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],setz
	end method
	method cfinmethod
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
	end method
	method cnewsndfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis newsnd
	push $1
	push $3
	cthis cfinmethod
	end method
	method cnewsndsfin
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newsnds
	push $1
	push $2
	push $2
	push $5
	push $4
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $6
	cthis caddobjsfunfin
	end method
	method cnewsndfinbplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis cnewsndfin
	push $1
	cthis cbplay
	end method
	method cnewtimerfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimer
	push $1
	push $4
	cthis cfinmethod
	end method
	method cnewtimercyclefin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newtimercycle
	push $1
	push $4
	cthis cfinmethod
	end method
	method caddobjsfun
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l651:
	push $2
	push $3
	cmpjle
	cmp0
	je l652
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $4
	push $5
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],addmethod
	add $2,1
	pop $2
	jmp l651
l652:
	end method
	method caddobjsfunfin
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "onfinish"
	push $4
	cthis caddobjsfun
	end method
	method newancounter
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push $3
	push $4
	push $5
	cthis newanimas
	push $1
	spushs
	spop $e
	new classancounter,[$e]
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],set
	end method
	method newancounterh
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $6
	push 0
	pop $6
l653:
	push $6
	push $5
	cmpjl
	cmp0
	je l654
	jmp l656
l655:
	add $6,1
	pop $6
	jmp l653
l656:
	push $2
	push $6
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l655
l654:
	end method
	method newancounterf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l657:
	push $7
	push $5
	cmpjl
	cmp0
	je l658
	jmp l660
l659:
	add $7,1
	pop $7
	jmp l657
l660:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	jmp l659
l658:
	end method
	method newancounterhf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis newancounter
	localint $7
	push 0
	pop $7
l661:
	push $7
	push $5
	cmpjl
	cmp0
	je l662
	jmp l664
l663:
	add $7,1
	pop $7
	jmp l661
l664:
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $6
	spop $a
	call [$a],addmethod
	push $2
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l663
l662:
	end method
	method cnewanimafin
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis newanima
	push $1
	spushs
	push "onfinish"
	push $4
	spop $a
	call [$a],addmethod
	end method
	method ccopyanimafin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis copyanima
	push $2
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	end method
	method cloadwavs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis newdb
	localint $3
	push 0
	pop $3
	localint $4
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	localstring $12
	localstring $13
	localstring $14
	localstring $15
l665:
	push $3
	push $4
	cmpjl
	cmp0
	je l666
	push $1
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	pop $6
	push 0
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push 0
	push 1
	call $12,getb
	push "#"
	cmpjne
	cmp0
	je l668
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $14
	add $7,1
	pop $7
	push $12
	push "wav"
	cmpje
	cmp0
	jne l671
	push $12
	push "sfx"
	cmpje
	jmp l672
l670:
	push 0
	jmp l672
l671:
	push 1
l672:
	cmp0
	je l673
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "sfx"
	cmpje
	cmp0
	je l675
	push $14
	push $13
	cthis newsfx
	jmp l674
l675:
	push $14
	push $13
	cthis newsnd
l674:
	push $7
	push $6
	cmpjl
	cmp0
	je l677
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l679
	push $14
	spushs
	push "onfinish"
	push $13
	spop $a
	call [$a],addmethod
	jmp l678
l679:
	push 0
	push 4
	call $12,gete
	push "play"
	cmpje
	cmp0
	je l681
	push "c"
	push 4
	push 10
	call $12,gete
	pop $b
	popax
	add $a,$b
	push "playonfin"
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $13
	spop $d
	cthis [$d]
	jmp l680
l681:
	push $12
	push "vol"
	cmpje
	cmp0
	je l683
	push $14
	spushs
	push $13
	spop $a
	call [$a],setvol
l683:
l680:
l678:
l677:
	jmp l669
l673:
	push $12
	push "group"
	cmpje
	cmp0
	je l685
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $7
	push $6
	cmpjl
	cmp0
	je l687
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l689
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	push $8
	push $13
	push $8
	push $9
	push $15
	cthis cnewsndsfin
l689:
	jmp l686
l687:
	push $14
	push $8
	push $13
	push $8
	push $9
	cthis newsnds
l686:
	jmp l684
l685:
	push $12
	push "bank"
	cmpje
	cmp0
	je l691
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $5
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $10
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $5
	push $8
	push $9
	push $10
	spop $a
	call [$a],load
	push $7
	push $6
	cmpjl
	cmp0
	je l693
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $12
	add $7,1
	pop $7
	push $12
	push "method"
	cmpje
	cmp0
	je l695
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $15
	add $7,1
	pop $7
	push $14
	spushs
	push "onfinish"
	push $15
	spop $a
	call [$a],addmethod
	jmp l694
l695:
	push $12
	push "vol"
	cmpje
	cmp0
	je l697
	push $14
	spushs
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],setvol
l697:
l694:
l693:
	jmp l690
l691:
	push $12
	push "method"
	cmpje
	cmp0
	je l699
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $9
	add $7,1
	pop $7
l700:
	push $8
	push $9
	cmpjle
	cmp0
	je l701
	push $13
	push $8
	pop $b
	popax
	add $a,$b
	spushs
	push "onfinish"
	push $14
	spop $a
	call [$a],addmethod
	add $8,1
	pop $8
	jmp l700
l701:
	jmp l698
l699:
	push $12
	push "singlebank"
	cmpje
	cmp0
	je l703
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $13
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	pop $8
	add $7,1
	pop $7
	push $14
	spushs
	spop $e
	new classsndbank,[$e]
	push $14
	spushs
	push $13
	push $8
	spop $a
	call [$a],loadsingle
	jmp l702
l703:
	push $12
	push "bgr"
	cmpje
	cmp0
	je l705
	push $14
	cthis csndbgr
	push $7
	push $6
	cmpjl
	cmp0
	je l707
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l709
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l709:
l707:
	jmp l704
l705:
	push $12
	push "music"
	cmpje
	cmp0
	je l711
	push $14
	cthis playmusic
	push $7
	push $6
	cmpjl
	cmp0
	je l713
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	push "vol"
	cmpje
	cmp0
	je l715
	add $7,1
	pop $7
	push $1
	spushs
	push $3
	push $7
	spop $a
	call [$a],get
	call sndbgr,setvol
	add $7,1
	pop $7
l715:
l713:
l711:
l704:
l702:
l698:
l690:
l684:
l669:
l668:
	add $3,1
	pop $3
	jmp l665
l666:
	end method
	method crestart
	call gameapi,getgamename
	call gameapi,play
	end method
	method cgetscreenshoot
	localstring $1
	pop $1
	new img,_imgsavebkg
	push iResX
	push iResY
	cthis white
	push 255
	call _imgsavebkg,create
	push 2000
	call _imgsavebkg,setz
	call _imgsavebkg,blitscreen
	new filter,_ftbg
	push "_imgsavebkg"
	call _ftbg,link
	push 1
	call _ftbg,setsmooth
	localreal $2
	push 0.3
	pop $2
	push $2
	call _ftbg,setzoom
	push 0
	push 0
	call _imgsavebkg,setpos
	new img,_im_1
	push $2
	push iResX
	pop $b
	popax
	mul $a,$b
	push $2
	push iResY
	pop $b
	popax
	mul $a,$b
	cthis white
	push 255
	call _im_1,create
	call _imgsavebkg,getpx
	call _imgsavebkg,getpy
	call _im_1,setpos
	push "_imgsavebkg"
	call _im_1,blit
	push $1
	call _im_1,save
	delete _im_1
	call _ftbg,unlink
	delete _ftbg
	delete _imgsavebkg
	end method
	end class

	class clfindfunc
	method init
	end method
	method _stdfindfunc
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
l716:
	push $2
	push $3
	cmpjle
	cmp0
	je l717
	push $1
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $5
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	push $4
	cmpje
	cmp0
	je l719
	push $2
	ret
l719:
	add $2,1
	pop $2
	jmp l716
l717:
	push 1
	popax
	sub 0,$a
	end method
	method _stdfindfunc2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis _stdfindfunc
	end method
	method cfindandeval2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 0
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	push $5
	cthis cfindandeval
	end method
	method cfindandeval
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $7
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis _stdfindfunc
	pop $7
	push $7
	push 0
	cmpjae
	cmp0
	je l721
	push $1
	push $7
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l721:
	end method
	end class

	class classbutton
	method init
	new string,san
	push "anbut"
	pop san
	new string,sbut
	push "but"
	pop sbut
	new int,iilebut
	push 0
	pop iilebut
	new string,sfxmon
	push "null"
	pop sfxmon
	end method
	method _cbuildbutname
	localstring $1
	pop $1
	new string,_sbutname
	push $1
	pop _sbutname
	end method
	method cgetbutname
	push _sbutname
	ret
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis build2
	end method
	method build2
	localstring $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push "_"
	push san
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new anima,[$e]
	push $5
	spushs
	push $1
	spop $a
	call [$a],load
	push $5
	spushs
	push $2
	spop $a
	call [$a],setz
	localint $6
	push $5
	spushs
	spop $a
	call [$a],nofactions
	pop $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $9
	localstring $10
	localstring $11
	localstring $12
	localstring $13
	localint $14
	push 0
	pop $14
l722:
	push $14
	push $6
	cmpjl
	cmp0
	je l723
	jmp l725
l724:
	add $14,1
	pop $14
	jmp l722
l725:
	push "null"
	pop $10
	push "null"
	pop $11
	push "null"
	pop $12
	push $5
	spushs
	push $14
	spop $a
	call [$a],nofframes
	pop $7
	push 1
	pop $8
l726:
	push $8
	push $7
	cmpjle
	cmp0
	je l727
	jmp l729
l728:
	add $8,1
	pop $8
	jmp l726
l729:
	push san
	push $9
	pop $b
	popax
	add $a,$b
	pop $13
	push $8
	push 1
	cmpje
	cmp0
	je l731
	push $13
	pop $10
	jmp l730
l731:
	push $8
	push 2
	cmpje
	cmp0
	je l733
	push $13
	pop $11
	jmp l732
l733:
	push $8
	push 3
	cmpje
	cmp0
	je l735
	push $13
	pop $12
l735:
l732:
l730:
	push $5
	push $13
	clparent newvars,copyanima
	push $13
	spushs
	push $14
	push $8
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setframe
	add $9,1
	pop $9
	jmp l728
l727:
	push $4
	push "null"
	cmpjne
	cmp0
	je l737
	push $4
	spushs
	push $5
	spushs
	push $14
	spop $a
	call [$a],nameofaction
	spop $a
	call [$a],contains
	jmp l739
l737:
	push 0
	jmp l739
l738:
	push 1
l739:
	cmp0
	je l740
	push $10
	spushs
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	jmp l736
l740:
	push $10
	push $11
	push $12
	push $3
	cthis addbut
l736:
	jmp l724
l723:
	push $5
	spushs
	spop $a
	call [$a],hide
	end method
	method _buildfuncclick
	localstring $1
	pop $1
	new string,_sfunclick
	push $1
	pop _sfunclick
	end method
	method _stdbutclick
	push _sfunclick
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncrel
	localstring $1
	pop $1
	new string,_sfuncrel
	push $1
	pop _sfuncrel
	end method
	method _stdbutrel
	push _sfuncrel
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovon
	localstring $1
	pop $1
	new string,_sfunmovon
	push $1
	pop _sfunmovon
	end method
	method _stdbutmovon
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l742
	push sfxmon
	spushs
	spop $a
	call [$a],play
l742:
	push _sfunmovon
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method _buildfuncmovoff
	localstring $1
	pop $1
	new string,_sfunmovoff
	push $1
	pop _sfunmovoff
	end method
	method _stdbutmovoff
	push _sfunmovoff
	spushs
	cthis getbutname
	spop $d
	cthis [$d]
	end method
	method butsigfun
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	push "null"
	cmpje
	cmp0
	je l744
	ret
l744:
	push $1
	spushs
	push $4
	push $4
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $4
	spushs
	push $2
	spop $d
	spop $a
	call [$a],[$d]
	push $1
	spushs
	push $3
	push $5
	spop $a
	call [$a],addmethod
	end method
	method sigfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l745:
	push $5
	push iilebut
	cmpjl
	cmp0
	je l746
	jmp l748
l747:
	add $5,1
	pop $5
	jmp l745
l748:
	push sbut
	push $5
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis butsigfun
	jmp l747
l746:
	end method
	method print
	localint $1
	push 0
	pop $1
l749:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l750
	jmp l752
l751:
	add $1,1
	pop $1
	jmp l749
l752:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getbutname
	call engine,print
	jmp l751
l750:
	end method
	method setrect
	localstring $1
	localint $2
	push 0
	pop $2
l753:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l754
	jmp l756
l755:
	add $2,1
	pop $2
	jmp l753
l756:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getimg
	pop $1
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setrect
	jmp l755
l754:
	end method
	method setflags
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l757:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l758
	jmp l760
l759:
	add $3,1
	pop $3
	jmp l757
l760:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setflags
	jmp l759
l758:
	end method
	method sfxonmovon
	localstring $1
	pop $1
	push $1
	pop sfxmon
	end method
	method clickfunc
	localstring $1
	pop $1
	push $1
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis sigfunc
	end method
	method relfunc
	localstring $1
	pop $1
	push $1
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis sigfunc
	end method
	method movonfunc
	localstring $1
	pop $1
	push $1
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis sigfunc
	end method
	method movofffunc
	localstring $1
	pop $1
	push $1
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis sigfunc
	end method
	method ilebuts
	push iilebut
	ret
	end method
	method ifind
	localstring $1
	pop $1
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	ret
	end method
	method sfind
	localstring $1
	pop $1
	localint $2
	push sbut
	push iilebut
	push $1
	push "getbutname"
	clparent clfindfunc,_stdfindfunc2
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l762
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	jmp l761
l762:
	push "null"
l761:
	ret
	end method
	method _cbutfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push sbut
	cthis ilebuts
	push $1
	push "getbutname"
	push $2
	clparent clfindfunc,cfindandeval2
	end method
	method _callbutfunc
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l763:
	push $2
	push iilebut
	cmpjl
	cmp0
	je l764
	jmp l766
l765:
	add $2,1
	pop $2
	jmp l763
l766:
	push sbut
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l765
l764:
	end method
	method _cibutfunc
	localstring $1
	localint $2
	pop $2
	pop $1
	push $2
	push iilebut
	cmpja
	cmp0
	je l768
	push iilebut
	pop $2
l768:
	localint $3
	push 0
	pop $3
l769:
	push $3
	push $2
	cmpjl
	cmp0
	je l770
	jmp l772
l771:
	add $3,1
	pop $3
	jmp l769
l772:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l771
l770:
	end method
	method ienable
	localint $1
	pop $1
	push "enable"
	push $1
	cthis _cibutfunc
	end method
	method benableall
	cthis resumeall
	cthis enableall
	end method
	method pauseall
	push "pause"
	cthis _callbutfunc
	end method
	method resumeall
	push "resume"
	cthis _callbutfunc
	end method
	method enableall
	push "enable"
	cthis _callbutfunc
	end method
	method disableall
	push "disable"
	cthis _callbutfunc
	end method
	method disabled
	push sbut
	push 0
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disabled
	end method
	method benable
	localstring $1
	pop $1
	push $1
	cthis resume
	push $1
	cthis enable
	end method
	method disable
	localstring $1
	pop $1
	push $1
	push "disable"
	cthis _cbutfun
	end method
	method enable
	localstring $1
	pop $1
	push $1
	push "enable"
	cthis _cbutfun
	end method
	method pause
	localstring $1
	pop $1
	push $1
	push "pause"
	cthis _cbutfun
	end method
	method resume
	localstring $1
	pop $1
	push $1
	push "resume"
	cthis _cbutfun
	end method
	method resetall
	localint $1
	push 0
	pop $1
l773:
	push $1
	push iilebut
	cmpjl
	cmp0
	je l774
	jmp l776
l775:
	add $1,1
	pop $1
	jmp l773
l776:
	push sbut
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setcursorpos
	jmp l775
l774:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l777:
	push $3
	push iilebut
	cmpjl
	cmp0
	je l778
	jmp l780
l779:
	add $3,1
	pop $3
	jmp l777
l780:
	push sbut
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $a
	call [$a],setcursorpos
	jmp l779
l778:
	end method
	method getimg
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis sfind
	pop $2
	push $2
	push "null"
	cmpjne
	cmp0
	je l782
	push $2
	spushs
	spop $a
	call [$a],getimg
	jmp l781
l782:
	push "null"
l781:
	ret
	end method
	method callimgfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis getimg
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method newmouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis sfind
	pop $3
	push $3
	push "null"
	cmpjne
	cmp0
	je l784
	push $3
	spushs
	push $2
	spop $a
	call [$a],setmouse
l784:
	end method
	method addbut
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push $2
	push $3
	push $4
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	add iilebut,1
	pop iilebut
	end method
	method _addfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l786
	ret
l786:
	push $1
	push $2
	push "onclick"
	push "_buildfuncclick"
	push "_stdbutclick"
	cthis butsigfun
	push $1
	push $3
	push "onrel"
	push "_buildfuncrel"
	push "_stdbutrel"
	cthis butsigfun
	push $1
	push $4
	push "onmoveon"
	push "_buildfuncmovon"
	push "_stdbutmovon"
	cthis butsigfun
	push $1
	push $5
	push "onmoveoff"
	push "_buildfuncmovoff"
	push "_stdbutmovoff"
	cthis butsigfun
	end method
	method addfuncto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis sfind
	push $2
	push $3
	push $4
	push $5
	cthis _addfunc
	end method
	method addfunctolast
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push sbut
	push iilebut
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $3
	push $4
	cthis _addfunc
	end method
	method _transmet
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "_sob"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $1
	pop [$e]
	push "_sf"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	push $2
	pop [$e]
	push $3
	spushs
	push "_trf"
	push $4
	pop $b
	popax
	add $a,$b
	spop $d
	cthis [$d]
	end method
	method transclickfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "clickfunc"
	push "cl"
	cthis _transmet
	end method
	method transrelfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "relfunc"
	push "rl"
	cthis _transmet
	end method
	method transmovonfunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movonfunc"
	push "mn"
	cthis _transmet
	end method
	method transmovofffunc
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "movofffunc"
	push "mf"
	cthis _transmet
	end method
	method _trfcl
	localstring $1
	pop $1
	push _sobcl
	spushs
	push _sfcl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfrl
	localstring $1
	pop $1
	push _sobrl
	spushs
	push _sfrl
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmn
	localstring $1
	pop $1
	push sfxmon
	push "null"
	cmpjne
	cmp0
	je l788
	push sfxmon
	spushs
	spop $a
	call [$a],play
l788:
	push _sobmn
	spushs
	push _sfmn
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method _trfmf
	localstring $1
	pop $1
	push _sobmf
	spushs
	push _sfmf
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	end method
	end class

	class classsimplebutton
	method init
	new string,simgob
	push "null"
	pop simgob
	new gmimgvec,grbut
	end method
	method stdbuild
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push 0
	push 0
	push $3
	push 0
	cthis build
	end method
	method getimgfunc
	localstring $1
	pop $1
	push simgob
	push "null"
	cmpje
	cmp0
	je l790
	push 0
	jmp l789
l790:
	push simgob
	spushs
	push $1
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l789:
	end method
	method setbutpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grbut,setpos
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new button,but1
	cthis getname
	call but1,classsimplebutton0
	push "onclick"
	push "classsimplebutton1"
	call but1,addmethod
	push "onrel"
	push "classsimplebutton2"
	call but1,addmethod
	push "onmoveon"
	push "classsimplebutton3"
	call but1,addmethod
	push "onmoveoff"
	push "classsimplebutton4"
	call but1,addmethod
	push ".pyz"
	call $1,contains
	cmp0
	je l792
	new anima,anbut0
	push $1
	call anbut0,load
	push $3
	push $4
	call anbut0,setpos
	push $5
	call anbut0,setz
	push $6
	push 0
	call anbut0,setframe
	push "anbut0"
	pop simgob
	push simgob
	call grbut,add
	localstring $7
	push "anbut0"
	pop $7
	localstring $8
	push "null"
	pop $8
	localstring $9
	push "null"
	pop $9
	localint $10
	push $6
	call anbut0,nofframes
	pop $10
	push $10
	push 1
	cmpja
	cmp0
	je l794
	new anima,anbut1
	push "anbut0"
	call anbut1,copy
	push $6
	push 1
	call anbut1,setframe
	push "anbut1"
	pop $8
	push $8
	call grbut,add
l794:
	push $10
	push 2
	cmpja
	cmp0
	je l796
	new anima,anbut2
	push "anbut0"
	call anbut2,copy
	push $6
	push 2
	call anbut2,setframe
	push "anbut2"
	pop $8
	push $8
	call grbut,add
l796:
	push $7
	push $8
	push $9
	call but1,setan
	jmp l791
l792:
	new img,imgbut
	push "imgbut"
	pop simgob
	push simgob
	call grbut,add
	push $1
	call imgbut,load
	push $3
	push $4
	call imgbut,setpos
	push $5
	call imgbut,setz
	push "imgbut"
	push "null"
	push "null"
	call but1,set
l791:
	push $2
	call but1,setmouse
	end method
	method classsimplebutton0
	localstring $1
	pop $1
	new string,sbut
	push $1
	pop sbut
	end method
	method classsimplebutton1
	push sbut
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton2
	push sbut
	push "_REL"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton3
	push sbut
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method classsimplebutton4
	push sbut
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classmask
	parent classbutton
	method init
	clparent classbutton,init
	end method
	method buildmask
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	push $2
	cthis build
	localint $3
	cthis ilebuts
	pop $3
	localint $4
	push 0
	pop $4
l797:
	push $4
	push $3
	cmpjl
	cmp0
	je l798
	jmp l800
l799:
	add $4,1
	pop $4
	jmp l797
l800:
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push sbut
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	jmp l799
l798:
	end method
	method buildmaskfunc
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis buildmask
	push $3
	cthis clickfunc
	end method
	method addmask
	localstring $1
	localstring $2
	localstring $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	push sbut
	push iilebut
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	push $1
	push "null"
	push "null"
	push $3
	clparent newvars,newbutan
	push $5
	spushs
	push "getbutname"
	push "cgetbutname"
	spop $a
	call [$a],addmethod
	push $2
	push "null"
	cmpje
	cmp0
	je l802
	push $5
	spushs
	push $1
	spushs
	spop $a
	call [$a],actionname
	spop $a
	call [$a],_cbuildbutname
	jmp l801
l802:
	push $5
	spushs
	push $2
	spop $a
	call [$a],_cbuildbutname
l801:
	push $4
	cmp0
	je l804
	push $5
	spushs
	push 0
	push 0
	spop $a
	call [$a],setflags
	push $5
	spushs
	spop $a
	call [$a],hide
l804:
	add iilebut,1
	pop iilebut
	end method
	method addadvmask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	cthis addmask
	push $4
	push "null"
	push "null"
	push "null"
	cthis addfunctolast
	end method
	end class

	method callfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	push "null"
	cmpjne
	cmp0
	je l806
	push $1
	push "null"
	cmpje
	cmp0
	je l808
	push $2
	spushs
	spop $d
	cthis [$d]
	jmp l807
l808:
	push $1
	spushs
	push $2
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l807:
l806:
	end method
	method _stdanloop
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method _stdanhide
	cthis hide
	end method
	method _stdsndloop
	cthis play
	end method
	method __std_finish
	cthis getname
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method looponfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanloop"
	spop $a
	call [$a],addmethod
	end method
	method hideonfinish
	localstring $1
	pop $1
	push $1
	spushs
	push "onfinish"
	push "_stdanhide"
	spop $a
	call [$a],addmethod
	end method
	method strsube
	localint $1
	pop $1
	push 0
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubb
	localint $1
	pop $1
	push $1
	cthis length
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getb
	ret
	end method
	method strsubbs
	localstring $1
	pop $1
	call $1,length
	cthis strsubb
	ret
	end method
	method strsubes
	localstring $1
	pop $1
	call $1,length
	cthis strsube
	ret
	end method
	method strgetto
	localstring $1
	pop $1
	localdef $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l810
	cthis get
	jmp l809
l810:
	push 0
	push $2
	cthis getb
l809:
	end method
	method streq
	localstring $1
	pop $1
	cthis get
	push 0
	cthis length
	call $1,getb
	cmpje
	end method
	method strgetfromto
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis find
	cthis getb
	ret
	end method
	method strgetfrom
	localstring $1
	pop $1
	push $1
	cthis find
	call $1,length
	pop $b
	popax
	add $a,$b
	cthis length
	cthis getb
	ret
	end method
	method strremove
	localstring $1
	pop $1
	push $1
	cthis strgetto
	push $1
	cthis strgetfrom
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method strisbetween
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	localint $4
	push 0
	pop $4
l811:
	push $4
	cthis length
	cmpjl
	cmp0
	je l812
	jmp l814
l813:
	add $4,1
	pop $4
	jmp l811
l814:
	push $4
	cthis getbyte
	pop $3
	push $3
	push $1
	cmpjl
	cmp0
	jne l817
	push $3
	push $2
	cmpja
	jmp l818
l816:
	push 0
	jmp l818
l817:
	push 1
l818:
	cmp0
	je l819
	push 0
	ret
l819:
	jmp l813
l812:
	push 1
	end method
	method strisint
	push BYTE0
	push BYTE9
	cthis strisbetween
	end method
	method strisbin
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis strisbetween
	end method
	method strisalpha
	push BYTEa
	push BYTEz
	cthis strisbetween
	end method
	method streach
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l820:
	push $3
	cthis length
	cmpjl
	cmp0
	je l821
	jmp l823
l822:
	add $3,1
	pop $3
	jmp l820
l823:
	push $3
	push 1
	cthis getb
	pop $2
	push $2
	spushs
	push $1
	spushs
	push $3
	spop $d
	spop $a
	call [$a],[$d]
	jmp l822
l821:
	end method
	method strdotpos
	localint $1
	pop $1
	push "."
	cthis strgetto
	push "."
	pop $b
	popax
	add $a,$b
	push "."
	cthis strgetfrom
	spushs
	push 0
	push $1
	spop $h
	call $h,getb
	pop $b
	popax
	add $a,$b
	end method
	method swap
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	push $1
	spushs
	push $2
	popax
	mov $a,[$a]
	psax
	spop $b
	popax
	mov [$b],$a
	push $2
	spushs
	spop $b
	popax
	mov [$b],$a
	end method
	method stats
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l825
	push 0
	jmp l824
l825:
	push 100
	spushs
	spop $h
	call $h,rand
	push $1
	cmpjle
l824:
	end method
	method between
	localdef $1
	localdef $2
	localdef $3
	pop $3
	pop $2
	pop $1
	push $2
	push $1
	cmpjl
	cmp0
	je l827
	push $1
	jmp l826
l827:
	push $2
	push $3
	cmpja
	cmp0
	je l829
	push $3
	jmp l828
l829:
	push $2
l828:
l826:
	end method
	method max
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	cmp0
	je l831
	push $1
	jmp l830
l831:
	push $2
l830:
	end method
	method min
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	cmp0
	je l833
	push $1
	jmp l832
l833:
	push $2
l832:
	end method
	method imgborders
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push "1111"
	cthis imgborderss
	end method
	method imgborderss
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new img,_img_bor
	cthis getw
	push $1
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 3
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l835
	push "_img_bor"
	cthis blit
l835:
	push 0
	cthis geth
	push $1
	pop $b
	popax
	sub $a,$b
	call _img_bor,move
	push 1
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l837
	push "_img_bor"
	cthis blit
l837:
	push $1
	cthis geth
	push $2
	push $3
	push $4
	push $5
	call _img_bor,create
	cthis getpx
	cthis getpy
	call _img_bor,setpos
	push 0
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l839
	push "_img_bor"
	cthis blit
l839:
	cthis getw
	push $1
	pop $b
	popax
	sub $a,$b
	push 0
	call _img_bor,move
	push 2
	push 1
	call $6,getb
	push "1"
	cmpje
	cmp0
	je l841
	push "_img_bor"
	cthis blit
l841:
	delete _img_bor
	end method
	method imgroundborder
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis imgborders
	cthis imgerasecorners
	end method
	method imgerasecorners
	localdef $1
	cthis getpx
	pop $1
	localdef $2
	cthis getpy
	pop $2
	push $1
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	cthis transparent
	cthis putrgba
	cthis getex
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	push $1
	cthis getey
	push 1
	pop $b
	popax
	sub $a,$b
	cthis transparent
	cthis putrgba
	end method
	method imgdrawline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "blit"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgeraseline
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localreal $6
	localreal $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "erase"
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	cthis imgfuncline
	end method
	method imgputoncenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method imgfuncline
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localreal $7
	localreal $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $9
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	pop $9
	localdef $10
	push $6
	push $4
	pop $b
	popax
	sub $a,$b
	pop $10
	localreal $11
	push $9
	push 0
	cmpje
	cmp0
	je l843
	push $10
	push 0
	cmpjl
	cmp0
	je l845
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l846:
	push $11
	push $6
	cmpjae
	cmp0
	je l847
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	sub $11,$a
	pop $11
	jmp l846
l847:
	push $6
	push $11
	pop $b
	popax
	sub $a,$b
	jmp l844
l845:
	push $10
	push 0
	cmpja
	cmp0
	je l849
	push $8
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
l850:
	push $11
	push $6
	cmpjle
	cmp0
	je l851
	push $2
	spushs
	push $3
	push $11
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $11,$a
	pop $11
	jmp l850
l851:
	push $11
	push $6
	pop $b
	popax
	sub $a,$b
	jmp l848
l849:
	push $8
l848:
l844:
	jmp l842
l843:
	push $9
	push $10
	call $8,length
	pop $11
	localreal $12
l852:
	push $8
	push $11
	cmpjle
	cmp0
	je l853
	push 1.0
	push $11
	push $8
	pop $b
	popax
	sub $a,$b
	push $11
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop $12
	push $2
	spushs
	push $12
	push $9
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push $12
	push $10
	pop $b
	popax
	mul $a,$b
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	push $7
	popax
	add $8,$a
	pop $8
	jmp l852
l853:
	push $8
	push $11
	pop $b
	popax
	sub $a,$b
l842:
	end method
	method anresizemets
	cthis getname
	clparent anima_pack,resizemethods
	end method
	method anfirstnontr
	cthis getname
	cthis getpx
	cthis getpy
	push 1
	push 0
	clparent classansearcher,_findnotr
	end method
	method anloopfin
	push "onfinish"
	push "_stdanloop"
	cthis addmethod
	end method
	method anloopplay
	localint $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anloopsplay
	localstring $1
	pop $1
	cthis anloopfin
	push $1
	cthis play
	end method
	method anhidefin
	push "onfinish"
	push "_stdanhide"
	cthis addmethod
	end method
	method anputgr
	cthis getey
	cthis setz
	end method
	method anputy
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method anputx
	localint $1
	pop $1
	push 0
	push $1
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis getpy
	pop $b
	popax
	sub $a,$b
	cthis move
	end method
	method ansetposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	cthis anputgr
	end method
	method anplayz
	localint $1
	localint $2
	pop $2
	pop $1
	push $2
	cthis setz
	push $1
	cthis play
	end method
	method anplaygr
	localint $1
	pop $1
	push $1
	cthis play
	cthis anputgr
	end method
	method anplayzpos
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	push $4
	cthis setpos
	push $1
	push $2
	cthis anplayz
	end method
	method anplaypos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplayposgr
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetposgr
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method anplaypos2
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anplaypos3
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis play
	end method
	method anhide
	push 0
	cthis stop
	cthis hide
	end method
	method andownpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis geth
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetbpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push $2
	cthis lody
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method ansetcpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis ansetbpos
	end method
	method ancenterscreen
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis ansetcpos
	end method
	method ansetframe
	localint $1
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push $1
	cthis setframe
	end method
	method ansetsframe
	localdef $1
	localstring $2
	pop $2
	pop $1
	push $1
	push 0
	cthis setframe
	localint $3
	push 0
	pop $3
l854:
	push $3
	push 1
	popax
	sub 0,$a
	cthis nofframes
	cmpjl
	cmp0
	je l855
	cthis framename
	push $2
	cmpjne
	jmp l857
l855:
	push 0
	jmp l857
l856:
	push 1
l857:
	cmp0
	je l858
	add $3,1
	pop $3
	push 1
	popax
	sub 0,$a
	push $3
	cthis setframe
	jmp l854
l858:
	end method
	method anonscreen
	cthis getcx
	cthis getcy
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call clsurf,inscreen
	ret
	end method
	method objplayfin
	localstring $1
	pop $1
	push "onfinish"
	push $1
	cthis addmethod
	cthis play
	end method
	method objloop
	push "onfinish"
	push "_stdsndloop"
	cthis addmethod
	end method
	method objplayloop
	cthis objloop
	cthis play
	end method
	method anplayfin
	localdef $1
	localstring $2
	pop $2
	pop $1
	push "onfinish"
	push $2
	cthis addmethod
	push $1
	cthis play
	end method
	method anytoz
	cthis getposy
	cthis setz
	end method
	method anposz
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis setpos
	push $3
	cthis setz
	end method
	method annextaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	cthis nameofaction
	ret
	end method
	method ansetnextact
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	pop $b
	popax
	add $a,$b
	cthis nofactions
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cthis setframe
	end method
	method ansetnextfr
	push 1
	popax
	sub 0,$a
	cthis framenr
	push 1
	pop $b
	popax
	add $a,$b
	push 1
	popax
	sub 0,$a
	cthis nofframes
	pop $b
	popax
	div $a,$b
	push $d
	cthis setframe
	end method
	method anhasaction
	localstring $1
	pop $1
	push $1
	cthis actionnr
	cthis nofactions
	cmpjne
	end method
	method anaddfilter
	cthis getname
	clparent classanfilter,build
	end method
	method anaddfx
	cthis getname
	clparent AnimaFx,build
	end method
	method anputc
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis ansetbpos
	push $3
	push $1
	pop $b
	popax
	sub $a,$b
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis move
	end method
	method aninlod
	localint $1
	pop $1
	cthis getpx
	cthis lodx
	pop $b
	popax
	sub $a,$b
	cthis getpy
	cthis lody
	pop $b
	popax
	sub $a,$b
	call $1,length
	push $1
	cmpjle
	end method
	method angetcpos
	cthis getcx
	cthis getcy
	ret
	end method
	method angetcrgba
	cthis getcx
	cthis getcy
	cthis getrgba
	end method
	method anisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l859:
	push $5
	cthis nofactions
	cmpjl
	cmp0
	je l860
	jmp l862
l861:
	add $5,1
	pop $5
	jmp l859
l862:
	push $5
	push 0
	cthis setframe
	push $1
	push $2
	push $3
	push $4
	cthis isin
	cmp0
	je l864
	push $5
	ret
l864:
	jmp l861
l860:
	push 1
	popax
	sub 0,$a
	end method
	method anreload
	localstring $1
	pop $1
	localint $2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $2
	localint $3
	cthis framenr
	pop $3
	localint $4
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	pop $4
	localint $5
	localint $6
	cthis getpos
	pop $6
	pop $5
	localint $7
	cthis getz
	pop $7
	push $1
	cthis getpath
	cthis load
	push $5
	push $6
	cthis setpos
	push $7
	cthis setz
	push $2
	cthis nofactions
	cmpjl
	cmp0
	je l866
	push $4
	cmp0
	je l868
	push $2
	cthis play
l868:
	push $2
	push $3
	cthis setframe
	jmp l865
l866:
	push 0
	push 0
	cthis setframe
l865:
	end method
	method anclipob
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $1
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getey
	cthis clip
	end method
	method ancopyan
	localstring $1
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],actionnr
	push $1
	spushs
	spop $a
	call [$a],framenr
	cthis setframe
	push $1
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l870
	cthis show
	jmp l869
l870:
	cthis hide
l869:
	push $1
	spushs
	spop $a
	call [$a],getpos
	cthis setpos
	end method
	method anconstmove
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push A
	push "mvx"
	push $2
	push "mvy"
	push $3
	cthis vars2
	push $1
	cthis setdelay
	push 1
	popax
	sub 0,$a
	push "global4"
	cthis anplayfin
	end method
	method global4
	push 1
	popax
	sub 0,$a
	cthis play
	push mvx
	push mvy
	cthis move
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis set
	cthis create
	end method
	method txtsetcol
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push $2
	push $3
	push $4
	cthis createtxt
	end method
	method txtshadow
	localint $1
	localstring $2
	pop $2
	pop $1
	push "txts"
	cthis hasvar
	neg
	cmp0
	je l872
	new text,txts
	push $2
	call txts,setfont
l872:
	cthis get
	call txts,set
	cthis getpx
	push $1
	pop $b
	popax
	add $a,$b
	cthis getpy
	push $1
	pop $b
	popax
	add $a,$b
	call txts,setpos
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	call txts,setz
	call txts,show
	push 0
	push 0
	push 0
	call txts,createtxt
	end method
	method txthides
	cthis hide
	push "txts"
	cthis hasvar
	cmp0
	je l874
	call txts,hide
l874:
	end method
	method txtisin
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getpx
	cmpjae
	cmp0
	je l875
	push $1
	cthis getpx
	cthis getw
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l875
	push $2
	cthis getpy
	cmpjae
	cmp0
	je l875
	push $2
	cthis getpy
	cthis geth
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l877
l875:
	push 0
	jmp l877
l876:
	push 1
l877:
	end method
	method txtcenter
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method txtright
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getex
	cthis getw
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	cthis setpos
	end method
	method vecinc
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method vecdec
	localint $1
	pop $1
	push $1
	push $1
	cthis get
	push 1
	pop $b
	popax
	sub $a,$b
	cthis set
	end method
	method vecnewint
	localint $1
	pop $1
	cthis free
	push $1
	push 0
	cmpja
	cmp0
	je l879
	localint $2
	push 0
	pop $2
l880:
	push $2
	push $1
	cmpjl
	cmp0
	je l881
	jmp l883
l882:
	add $2,1
	pop $2
	jmp l880
l883:
	push $2
	cthis add
	jmp l882
l881:
l879:
	end method
	method veccopy
	localstring $1
	pop $1
	cthis free
	localint $2
	push 0
	pop $2
l884:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l885
	jmp l887
l886:
	add $2,1
	pop $2
	jmp l884
l887:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis add
	jmp l886
l885:
	end method
	method vecnextid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l889
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis size
	pop $b
	popax
	div $a,$b
	push $d
	pop $2
l889:
	push $2
	end method
	method vecprevid
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l891
	sub $2,1
	pop $2
	jmp l890
l891:
	push $2
	push 0
	cmpje
	cmp0
	je l893
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l893:
l890:
	push $2
	end method
	method vecget
	localint $1
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l894
	push $1
	cthis size
	cmpjl
	jmp l896
l894:
	push 0
	jmp l896
l895:
	push 1
l896:
	cmp0
	je l898
	push $1
	cthis get
	jmp l897
l898:
	push "null"
l897:
	end method
	method vecnext
	localdef $1
	pop $1
	push $1
	cthis vecnextid
	cthis vecget
	end method
	method vecprev
	localdef $1
	pop $1
	push $1
	cthis vecprevid
	cthis vecget
	end method
	method veclast
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l900
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	jmp l899
l900:
	push "null"
l899:
	end method
	method vecpop
	localdef $1
	cthis last
	pop $1
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removeat
	push $1
	end method
	method veclimes
	localint $1
	pop $1
l901:
	cthis size
	push $1
	cmpja
	cmp0
	je l902
	cthis vecpop
	popax
	jmp l901
l902:
	end method
	method vecpopfront
	localdef $1
	push 0
	cthis get
	pop $1
	push 0
	cthis removeat
	push $1
	ret
	end method
	method vecreplace
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l904
	push $3
	push $2
	cthis set
l904:
	end method
	method insertsort
	localint $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l906
	ret
l906:
	localdef $5
	localdef $6
	localint $7
	localint $8
	localint $9
	push 0
	pop $8
l907:
	push $8
	push $1
	cmpjl
	cmp0
	je l908
	jmp l910
l909:
	add $8,1
	pop $8
	jmp l907
l910:
	push $2
	spushs
	push $8
	spop $d
	cthis [$d]
	pop $5
	push $8
	pop $7
	push $8
	push 1
	pop $b
	popax
	add $a,$b
	pop $9
l911:
	push $9
	push $1
	cmpjl
	cmp0
	je l912
	jmp l914
l913:
	add $9,1
	pop $9
	jmp l911
l914:
	push $2
	spushs
	push $9
	spop $d
	cthis [$d]
	pop $6
	push $3
	spushs
	push $6
	push $5
	spop $d
	cthis [$d]
	cmp0
	je l916
	push $6
	pop $5
	push $9
	pop $7
l916:
	jmp l913
l912:
	push $4
	spushs
	push $8
	push $7
	spop $d
	cthis [$d]
	jmp l909
l908:
	end method
	method obbuildfromstring
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l917:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l918
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l917
l918:
	call $1,length
	push 0
	cmpja
	cmp0
	je l920
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l920:
	end method
	method obbuildfromstring2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $2
	call $1,find
	pop $4
l921:
	push $4
	push 1
	popax
	sub 0,$a
	cmpja
	cmp0
	je l922
	push $4
	push 0
	cmpja
	cmp0
	je l924
	push $3
	spushs
	push 0
	push $4
	call $1,getb
	spop $d
	cthis [$d]
l924:
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	call $1,strsubb
	pop $1
	push $2
	call $1,find
	pop $4
	jmp l921
l922:
	call $1,length
	push 0
	cmpja
	cmp0
	je l926
	push $3
	spushs
	push $1
	spop $d
	cthis [$d]
l926:
	end method
	method vecsort
	localstring $1
	pop $1
	cthis size
	push "get"
	push $1
	push "swap"
	cthis insertsort
	end method
	method vecbuildfromstring
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring
	end method
	method vecbuildfromstring2
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	push "add"
	cthis obbuildfromstring2
	end method
	method vecremoveto
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l927:
	push $2
	push $1
	cmpjl
	cmp0
	je l928
	jmp l930
l929:
	add $2,1
	pop $2
	jmp l927
l930:
	push 0
	cthis removeat
	jmp l929
l928:
	end method
	method vecremovefrom
	localint $1
	pop $1
l931:
	push $1
	cthis size
	cmpjl
	cmp0
	je l932
	push $1
	cthis removeat
	jmp l931
l932:
	end method
	method vecfindfrom
	localint $1
	localdef $2
	pop $2
	pop $1
l933:
	push $1
	cthis size
	cmpjl
	cmp0
	je l934
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l936
	push $1
	ret
	jmp l935
l936:
	add $1,1
	pop $1
l935:
	jmp l933
l934:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method vecposfromto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpje
	cmp0
	jne l939
	cthis size
	push 0
	cmpje
	jmp l940
l938:
	push 0
	jmp l940
l939:
	push 1
l940:
	cmp0
	je l941
	ret
l941:
	localdef $3
	push $1
	cthis get
	pop $3
	push $1
	push $2
	cmpja
	cmp0
	je l943
	localint $4
	push $1
	pop $4
l944:
	push $4
	push $2
	cmpja
	cmp0
	je l945
	jmp l947
l946:
	sub $4,1
	pop $4
	jmp l944
l947:
	push $4
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	cthis set
	jmp l946
l945:
	jmp l942
l943:
	push $1
	push $2
	cmpjl
	cmp0
	je l949
	localint $4
	push $1
	pop $4
l950:
	push $4
	push $2
	cmpjl
	cmp0
	je l951
	jmp l953
l952:
	add $4,1
	pop $4
	jmp l950
l953:
	push $4
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis get
	cthis set
	jmp l952
l951:
l949:
l942:
	push $2
	push $3
	cthis set
	end method
	method vecposfirst
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l955
	push $2
	push 0
	cthis vecposfromto
	jmp l954
l955:
	push $1
	cthis addbegin
l954:
	end method
	method vecposlast
	localdef $1
	pop $1
	localint $2
	push $1
	cthis find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l957
	push $2
	cthis size
	push 1
	pop $b
	popax
	sub $a,$b
	cthis vecposfromto
	jmp l956
l957:
	push $1
	cthis addbegin
l956:
	end method
	method vecset
	localdef $1
	localdef $2
	pop $2
	pop $1
	localint $3
	push $1
	cthis find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l959
	push $3
	push $2
	cthis set
l959:
	end method
	method veceq
	localstring $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjne
	cmp0
	je l961
	push 0
	ret
l961:
	localint $3
	push 0
	pop $3
l962:
	push $3
	push $2
	cmpjl
	cmp0
	je l963
	jmp l965
l964:
	add $3,1
	pop $3
	jmp l962
l965:
	push $3
	cthis get
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l967
	push 0
	ret
l967:
	jmp l964
l963:
	push 1
	end method
	method vecbuild
	push "addbegin"
	cthis withlist
	end method
	method veceq2
	new vector,___v
	cthis getvectype
	call ___v,type
	call ___v,vecbuild
	localint $1
	push "___v"
	cthis veceq
	pop $1
	delete ___v
	push $1
	end method
	method veccopydbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	cthis free
	push $1
	push $2
	cthis vecadddbrow
	end method
	method vecadddbrow
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l968:
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l969
	jmp l971
l970:
	add $3,1
	pop $3
	jmp l968
l971:
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l970
l969:
	end method
	method vecchecknext
	localint $1
	pop $1
	add $1,1
	pop $1
	push $1
	cthis size
	cmpjl
	cmp0
	je l973
	push $1
	cthis get
	jmp l972
l973:
	push "null"
l972:
	end method
	method vecsum
	cthis size
	cmp0
	je l975
	localdef $1
	push 0
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
l976:
	push $2
	cthis size
	cmpjl
	cmp0
	je l977
	jmp l979
l978:
	add $2,1
	pop $2
	jmp l976
l979:
	push $2
	cthis get
	popax
	add $1,$a
	pop $1
	jmp l978
l977:
	push $1
	jmp l974
l975:
	push 0
l974:
	end method
	method vecclosest
	localdef $1
	pop $1
	localint $2
	cthis size
	pop $2
	push $2
	push 0
	cmpjle
	cmp0
	je l981
	push 1
	popax
	sub 0,$a
	ret
l981:
	localint $3
	push 0
	pop $3
	localdef $4
	push $1
	push 0
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $4
	localint $5
	push 1
	pop $5
l982:
	push $5
	push $2
	cmpjl
	cmp0
	je l983
	jmp l985
l984:
	add $5,1
	pop $5
	jmp l982
l985:
	localdef $6
	push $1
	push $5
	cthis get
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,abs
	pop $6
	push $6
	push $4
	cmpjl
	cmp0
	je l987
	push $5
	pop $3
	push $6
	pop $4
l987:
	jmp l984
l983:
	push $3
	end method
	method dbbuild
	localint $1
	pop $1
	push $1
	push 0
	cmpjle
	cmp0
	je l989
	ret
l989:
	sub $1,1
	pop $1
	cthis free
	localstring $2
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l990:
	push $2
	push A
	cmpjne
	cmp0
	je l991
	jmp l993
l992:
	jmp l990
l993:
	push $4
	push 0
	cmpje
	cmp0
	je l995
	cthis addbeginrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
l995:
	push 0
	push $2
	cthis addbegin
	pop $2
	push $4
	push $1
	cmpjl
	cmp0
	je l997
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	jmp l996
l997:
	push 0
l996:
	pop $4
	jmp l992
l991:
	end method
	method dbbuild2
	cthis free
	localstring $1
	pop $1
l998:
	push $1
	push A
	cmpjne
	cmp0
	je l999
	push $1
	push "null"
	cmpje
	cmp0
	je l1001
	cthis addbeginrow
	popax
	jmp l1000
l1001:
	push 0
	push $1
	cthis addbegin
l1000:
	pop $1
	jmp l998
l999:
	end method
	method dbaddvec
	localstring $1
	pop $1
	localdef $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0
	pop $3
l1002:
	push $3
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1003
	jmp l1005
l1004:
	add $3,1
	pop $3
	jmp l1002
l1005:
	push $2
	push $1
	spushs
	push $3
	spop $a
	call [$a],get
	cthis add
	jmp l1004
l1003:
	end method
	method dbcopy
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis dbcopyfromto
	end method
	method dbcopyrow
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis dbcopyfromto
	end method
	method dbcopyfromto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	cthis free
	localint $4
	localint $5
	localint $6
	push $2
	pop $4
l1006:
	push $4
	push $3
	cmpjl
	cmp0
	je l1007
	jmp l1009
l1008:
	add $4,1
	pop $4
	jmp l1006
l1009:
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	push 0
	pop $5
l1010:
	push $5
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1011
	jmp l1013
l1012:
	add $5,1
	pop $5
	jmp l1010
l1013:
	push $6
	push $1
	spushs
	push $4
	push $5
	spop $a
	call [$a],get
	cthis add
	jmp l1012
l1011:
	jmp l1008
l1007:
	end method
	method dbadddbrowtorow
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1014:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1015
	jmp l1017
l1016:
	add $4,1
	pop $4
	jmp l1014
l1017:
	push $1
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	cthis add
	jmp l1016
l1015:
	end method
	method dbremovecol
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l1018:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1019
	jmp l1021
l1020:
	add $2,1
	pop $2
	jmp l1018
l1021:
	push $2
	cthis getcolsno
	push $1
	cmpja
	cmp0
	je l1023
	push $2
	push $1
	cthis removeat
l1023:
	jmp l1020
l1019:
	end method
	method dbcopyfromtos
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis dbcopyfromto
	end method
	method dbremovelast
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	cthis removerow
	end method
	method dbcuttosize
	localint $1
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l1025
l1026:
	cthis getrowsno
	push $1
	cmpja
	cmp0
	je l1027
	cthis dbremovelast
	jmp l1026
l1027:
	jmp l1024
l1025:
	cthis free
l1024:
	end method
	method dbaddlast
	localstring $1
	pop $1
	cthis getrowsno
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	cthis add
	end method
	method dbaddstringrow
	localstring $1
	localstring $2
	pop $2
	pop $1
	cthis addrow
	popax
	push $1
	push $2
	push "dbaddlast"
	cthis obbuildfromstring
	end method
	method dbgetstringrow
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push $1
	cthis getcolsno
	pop $3
	localint $4
	push 0
	pop $4
l1028:
	push $4
	push $3
	cmpjl
	cmp0
	je l1029
	jmp l1031
l1030:
	add $4,1
	pop $4
	jmp l1028
l1031:
	push $1
	push $4
	cthis get
	popax
	add $2,$a
	pop $2
	jmp l1030
l1029:
	push $2
	end method
	method dbaddrow
	localdef $1
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $1
	localdef $2
	pop $2
l1032:
	push A
	push $2
	cmpjne
	cmp0
	je l1033
	push $1
	push $2
	cthis addbegin
	localdef $2
	pop $2
	jmp l1032
l1033:
	end method
	method dbaddrowfrom
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],rowinrange
	cmp0
	je l1035
	push $3
	push 0
	cmpjae
	jmp l1037
l1035:
	push 0
	jmp l1037
l1036:
	push 1
l1037:
	cmp0
	je l1038
	localint $4
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
	localint $5
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $5
l1039:
	push $3
	push $5
	cmpjl
	cmp0
	je l1040
	push $4
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	cthis add
	add $3,1
	pop $3
	jmp l1039
l1040:
l1038:
	end method
	method dbchecknext
	localint $1
	localint $2
	pop $2
	pop $1
	add $2,1
	pop $2
	push $2
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1042
	push $1
	push $2
	cthis get
	jmp l1041
l1042:
	push "null"
l1041:
	end method
	method dbgets
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis findbyrow
	push $2
	cthis get
	ret
	end method
	method dbinsertless
	localint $1
	pop $1
	localint $2
	cthis addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	cthis add
	push "cmpless"
	cthis dbsort
l1043:
	push $2
	push 0
	cmpjae
	cmp0
	je l1044
	push $1
	push $2
	push 0
	cthis get
	cmpje
	cmp0
	je l1046
	push $2
	ret
l1046:
	sub $2,1
	pop $2
	jmp l1043
l1044:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbdelvar
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	cthis dbdelvarn
	ret
	end method
	method dbdelvarn
	localint $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	push $2
	cthis dbfindinrow
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1048
	push $1
	push $4
	push $3
	cthis removen
	push 1
	ret
l1048:
	push 0
	ret
	end method
	method dbfindinrow
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis rowinrange
	cmp0
	je l1050
	localint $3
	push 0
	pop $3
l1051:
	push $3
	push $1
	cthis getcolsno
	cmpjl
	cmp0
	je l1052
	jmp l1054
l1053:
	add $3,1
	pop $3
	jmp l1051
l1054:
	push $1
	push $3
	cthis get
	push $2
	cmpje
	cmp0
	je l1056
	push $3
	ret
l1056:
	jmp l1053
l1052:
l1050:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbfindbycol
	localint $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push 0
	pop $3
l1057:
	push $3
	cthis getrowsno
	cmpjl
	cmp0
	je l1058
	jmp l1060
l1059:
	add $3,1
	pop $3
	jmp l1057
l1060:
	push $3
	push $1
	cthis get
	push $2
	cmpje
	cmp0
	je l1062
	push $3
	ret
l1062:
	jmp l1059
l1058:
	push 1
	popax
	sub 0,$a
	ret
	end method
	method dbrowcontains
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis dbfindinrow
	push 1
	popax
	sub 0,$a
	cmpjne
	ret
	end method
	method dbfirst
	localint $1
	pop $1
	push $1
	push 0
	cthis get
	ret
	end method
	method cmpless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpjl
	ret
	end method
	method cmpabove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cmpja
	end method
	method dbfirstless
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 0
	cthis get
	push $2
	push 0
	cthis get
	cmpjl
	end method
	method dbsort
	localstring $1
	pop $1
	cthis getrowsno
	push "dbfirst"
	push $1
	push "swap"
	cthis insertsort
	end method
	method dbsetall
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1063:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1064
	jmp l1066
l1065:
	add $2,1
	pop $2
	jmp l1063
l1066:
	localdef $3
	push 0
	pop $3
l1067:
	push $3
	push $2
	cthis getcolsno
	cmpjl
	cmp0
	je l1068
	jmp l1070
l1069:
	add $3,1
	pop $3
	jmp l1067
l1070:
	push $2
	push $3
	push $1
	cthis set
	jmp l1069
l1068:
	jmp l1065
l1064:
	end method
	method dbeach_row
	localstring $1
	pop $1
	localdef $2
	push 0
	pop $2
l1071:
	push $2
	cthis getrowsno
	cmpjl
	cmp0
	je l1072
	jmp l1074
l1073:
	add $2,1
	pop $2
	jmp l1071
l1074:
	push $1
	spushs
	push $2
	spop $d
	cthis [$d]
	jmp l1073
l1072:
	end method
	method dbeq
	localstring $1
	pop $1
	cthis getrowsno
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjne
	cmp0
	je l1076
	push 0
	ret
l1076:
	localint $2
	localint $3
	localint $4
	push 0
	pop $4
l1077:
	push $4
	cthis getrowsno
	cmpjl
	cmp0
	je l1078
	jmp l1080
l1079:
	add $4,1
	pop $4
	jmp l1077
l1080:
	push $4
	cthis getcolsno
	pop $2
	push $2
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmpjne
	cmp0
	je l1082
	push 0
	ret
l1082:
	push 0
	pop $3
l1083:
	push $3
	push $2
	cmpjl
	cmp0
	je l1084
	jmp l1086
l1085:
	add $3,1
	pop $3
	jmp l1083
l1086:
	push $4
	push $3
	cthis get
	push $1
	spushs
	push $4
	push $3
	spop $a
	call [$a],get
	cmpjne
	cmp0
	je l1088
	push 0
	ret
l1088:
	jmp l1085
l1084:
	jmp l1079
l1078:
	push 1
	end method
	method randdiff
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l1090
	push 1
	popax
	sub 0,$a
	ret
l1090:
	localint $3
	call $1,rand
	pop $3
l1091:
	push $3
	push $2
	cmpje
	cmp0
	je l1092
	jmp l1094
l1093:
	call $1,rand
	pop $3
	jmp l1091
l1094:
	jmp l1093
l1092:
	push $3
	ret
	end method
	method bin_to_i
	localstring $1
	cthis get
	pop $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	call $1,length
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1095:
	push $4
	push 0
	cmpjae
	cmp0
	je l1096
	jmp l1098
l1097:
	sub $4,1
	pop $4
	jmp l1095
l1098:
	push $4
	push 1
	call $1,getb
	push "1"
	cmpje
	cmp0
	je l1100
	push $2
	popax
	add $3,$a
	pop $3
l1100:
	push 2
	popax
	mul $2,$a
	pop $2
	jmp l1097
l1096:
	push $3
	end method
	class classgamepause
	method init
	new button,butpause
	push 0
	push 0
	push 800
	push 600
	call butpause,setrect
	push "onclick"
	push "resume"
	call butpause,addmethod
	call butpause,disable
	end method
	method resume
	call butpause,disable
	call gameapi,resume
	end method
	method pause
	call gameapi,pause
	call butpause,enable
	call butpause,resume
	end method
	end class

	class TicksCounter
	method init
	new int,istart
	end method
	method start
	call engine,getticks
	pop istart
	end method
	method stop
	call engine,getticks
	push istart
	pop $b
	popax
	sub $a,$b
	pop istart
	end method
	method get
	push istart
	ret
	end method
	method stopget
	cthis stop
	cthis get
	ret
	end method
	method print
	localstring $1
	pop $1
	push $1
	push " delay: "
	pop $b
	popax
	add $a,$b
	cthis stopget
	pop $b
	popax
	add $a,$b
	push " ms"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	method put
	push ""
	cthis print
	end method
	end class

	class ObjController
	method init
	new string,_sme
	cthis getname
	pop _sme
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],addgmobj
	end method
	method removefromgame
	push GAME
	spushs
	push _sme
	spop $a
	call [$a],removegmobj
	end method
	end class

	class LObjController
	parent ObjController
	parent classlocker
	method init
	clparent ObjController,init
	clparent classlocker,init
	end method
	end class

	class gmbankvec
	parent gmobjvec
	method init
	clparent gmobjvec,init
	push "iid"
	push 1
	popax
	sub 0,$a
	cthis var2
	end method
	method startrand
	cthis size
	push 0
	cmpja
	cmp0
	je l1102
	cthis size
	spushs
	spop $h
	call $h,rand
	pop iid
l1102:
	end method
	method play
	push 0
	cthis stop
	localint $1
	cthis size
	pop $1
	push $1
	push 0
	cmpje
	cmp0
	je l1104
	ret
l1104:
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	cthis get
	spushs
	spop $a
	call [$a],play
	end method
	method onfinish
	end method
	method stop
	localint $1
	pop $1
	cthis isplaying
	cmp0
	je l1106
	cthis getplay
	spushs
	push $1
	spop $a
	call [$a],stop
	push $1
	cmp0
	je l1108
	cthis onfinish
l1108:
l1106:
	end method
	method isplaying
	push iid
	push 0
	cmpjae
	cmp0
	je l1110
	cthis getplay
	spushs
	spop $a
	call [$a],isplaying
	jmp l1109
l1110:
	push 0
l1109:
	end method
	method getplay
	push iid
	cthis get
	ret
	end method
	end class

	class GameController
	parent classlocker
	method init
	localstring $1
	pop $1
	clparent classlocker,init
	new gmobjvec,__grobj
	new db,_dbsnd
	push "|"
	call _dbsnd,setseparator
	new string,_sndbase
	push $1
	pop _sndbase
	new string,GAME
	cthis getname
	pop GAME
	new timer,__dblclick
	push 250
	call __dblclick,delay
	push 1
	call __dblclick,settick
	end method
	method game_exit
	end method
	method setsndbase
	localstring $1
	pop $1
	push $1
	pop _sndbase
	end method
	method say
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis sayf
	end method
	method sayf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	push $2
	cthis getsndtxt
	pop $4
	push $4
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	push $4
	push $3
	cthis cplayf
	end method
	method getsndtxt
	localstring $1
	pop $1
	localstring $2
	push "snd"
	push _sndbase
	pop $b
	popax
	add $a,$b
	call _dbsnd,getrowsno
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	cthis addsnd
	push $2
	ret
	end method
	method _sndtimerstart
	localint $1
	push 1
	cthis getname
	call _dbsnd,dbfindbycol
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1112
	push $1
	push 2
	call _dbsnd,get
	call engine,print
	jmp l1111
l1112:
	cthis getname
	push " not in _dbsnd"
	pop $b
	popax
	add $a,$b
	call engine,print
l1111:
	push ""
	call engine,print
	end method
	method addsndf
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	cthis addsnd
	push $3
	push "null"
	cmpjne
	cmp0
	je l1114
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1116
	push 1
	call $1,strsubb
	pop $1
l1116:
	push $1
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
l1114:
	end method
	method asf
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	push "end"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addsndff
	end method
	method addsndff
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis addsndf
	end method
	method gmconsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new snd,[$e]
	push $1
	spushs
	push 0
	push 1
	spop $a
	call [$a],setstartstopflag
	push $1
	spushs
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push igmsubtitle
	cmp0
	je l1118
	push $1
	cthis getsndpath
	push $2
	pop $b
	popax
	add $a,$b
	call subtitle,register
l1118:
	end method
	method addsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	call _dbsnd,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	localstring $4
	push 0
	push 1
	call $1,getb
	push ":"
	cmpje
	cmp0
	je l1120
	push 1
	call $1,strsubb
	pop $1
	push _sndbase
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
	jmp l1119
l1120:
	push _sndbase
	push $3
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $4
l1119:
	localstring $5
	call gameapi,getgamename
	pop $5
	cthis getsndpath
	push $4
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	cmp0
	je l1122
	push $5
	spushs
	push $1
	push $4
	spop $a
	call [$a],gmconsnd
	jmp l1121
l1122:
	push $5
	spushs
	push $1
	call $2,length
	push 40
	pop $b
	popax
	mul $a,$b
	push 1
	spop $a
	call [$a],newtimer
	push $1
	spushs
	push "onstart"
	push "_sndtimerstart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstartstopflag"
	push "GameController0"
	spop $a
	call [$a],addmethod
l1121:
	push $3
	push $4
	call _dbsnd,add
	push $3
	push $1
	call _dbsnd,add
	push $3
	push $2
	call _dbsnd,add
	end method
	method GameController0
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method addbank
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	localstring $3
	pop $3
	localstring $4
l1123:
	push $3
	push A
	cmpjne
	cmp0
	je l1124
	push $3
	cthis getsndtxt
	pop $4
	push $1
	spushs
	push $4
	spop $a
	call [$a],addbegin
	push $2
	push "null"
	cmpjne
	cmp0
	je l1126
	push $4
	spushs
	push "onfinish"
	push $2
	spop $a
	call [$a],addmethod
l1126:
	pop $3
	jmp l1123
l1124:
	end method
	method exportbank
	localstring $1
	pop $1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new db,[$e]
	call [$e],GameController1
	push "__db"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	delete [$d]
	end method
	method GameController1
	localdef $1
	pop $1
	push 1
	cthis dbbuild
	push "|"
	cthis setseparator
	push "GameController2"
	cthis dbeach_row
	push igmdebug
	cmp0
	je l1128
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis save
l1128:
	end method
	method GameController2
	localdef $1
	pop $1
	localdef $2
	cthis getname
	spushs
	push "__db"
	spop $h
	call $h,strsubbs
	pop $2
	push $1
	push "snd"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	cthis addbegin
	push $1
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis addbegin
	end method
	method importbank
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new gmbankvec,[$e]
	push $2
	push $3
	push "null"
	push $1
	cthis importgroupto
	end method
	method exportsnd
	localstring $1
	pop $1
	push igmdebug
	cmp0
	je l1130
	push $1
	call _dbsnd,save
l1130:
	end method
	method stdexportsnd
	push "exports/"
	push _sndbase
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	cthis exportsnd
	end method
	method sounds=
	cthis buildsnds
	end method
	method sounds_from
	localstring $1
	pop $1
	new db,__tmpdb
	localdef $2
	push _sndbase
	pop $2
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localdef $3
	pop $3
	localint $4
	localstring $5
l1131:
	push A
	push $3
	cmpjne
	cmp0
	je l1132
	localdef $6
	pop $6
	push 1
	push $6
	call __tmpdb,dbfindbycol
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l1134
	cthis getsndpath
	push $4
	push 0
	call __tmpdb,get
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	call engine,fileexist
	cmp0
	je l1136
	push GAME
	spushs
	push $6
	push $4
	push 0
	call __tmpdb,get
	spop $a
	call [$a],gmconsnd
	push $6
	spushs
	push "onfinish"
	push $3
	spop $a
	call [$a],addmethod
	jmp l1135
l1136:
	push $6
	push $4
	push 1
	call __tmpdb,get
	push $3
	cthis addsndf
l1135:
l1134:
	localdef $3
	pop $3
	jmp l1131
l1132:
	call _dbsnd,free
	delete __tmpdb
	push $2
	cthis setsndbase
	end method
	method buildsnds
	call _dbsnd,free
	new db,__dbsnd
	push 3
	call __dbsnd,dbbuild
	push "__dbsnd"
	cthis buildfromdb
	delete __dbsnd
	end method
	method buildfromdb
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1137:
	push $2
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1138
	jmp l1140
l1139:
	add $2,1
	pop $2
	jmp l1137
l1140:
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push 2
	spop $a
	call [$a],get
	cthis addsndf
	jmp l1139
l1138:
	cthis stdexportsnd
	end method
	method importsnd
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	cthis importgroup
	end method
	method importgroup
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	cthis importgroupto
	end method
	method importgroupto
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	new db,__tmpdb
	localdef $5
	push _sndbase
	pop $5
	push $1
	cthis setsndbase
	push "exports/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".dlg"
	pop $b
	popax
	add $a,$b
	call __tmpdb,load
	call _dbsnd,free
	localstring $6
	localint $7
	push 0
	pop $7
l1141:
	push $7
	call __tmpdb,getrowsno
	cmpjl
	cmp0
	je l1142
	jmp l1144
l1143:
	add $7,1
	pop $7
	jmp l1141
l1144:
	push $7
	push 1
	call __tmpdb,get
	pop $6
	push $3
	push "null"
	cmpje
	cmp0
	jne l1147
	push $3
	spushs
	push $6
	spop $a
	call [$a],contains
	jmp l1148
l1146:
	push 0
	jmp l1148
l1147:
	push 1
l1148:
	cmp0
	je l1149
	push $6
	push $7
	push 2
	call __tmpdb,get
	push $2
	cthis addsndf
	push $4
	push "null"
	cmpjne
	cmp0
	je l1151
	push $4
	spushs
	push $6
	spop $a
	call [$a],add
l1151:
l1149:
	jmp l1143
l1142:
	call _dbsnd,free
	call __tmpdb,free
	delete __tmpdb
	push $5
	cthis setsndbase
	end method
	method freesnd
	call _dbsnd,free
	end method
	method addgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,add
	end method
	method removegmobj
	localstring $1
	pop $1
	push $1
	call __grobj,remove
	end method
	method isgmobj
	localstring $1
	pop $1
	push $1
	call __grobj,contains
	end method
	method deletegmobj
	localstring $1
	pop $1
	push $1
	cthis hasvar
	cmp0
	je l1153
	push $1
	cthis removegmobj
	push $1
	spushs
	spop $d
	delete [$d]
l1153:
	end method
	method lockall
	push "lock"
	call __grobj,eval
	cthis lock
	end method
	method unlockall
	push "unlock"
	call __grobj,eval
	cthis unlock
	end method
	method gmunlockall
	push GAME
	spushs
	spop $a
	call [$a],unlockall
	end method
	method gmlockall
	push GAME
	spushs
	spop $a
	call [$a],lockall
	end method
	method lock=
	localint $1
	pop $1
	push $1
	cmp0
	je l1155
	cthis gmlockall
	jmp l1154
l1155:
	cthis gmunlockall
l1154:
	end method
	method mousemove
	push "onmousemove"
	call __grobj,eval
	cthis mouse_move
	end method
	method mouselclick
	push "onmouselclick"
	call __grobj,eval
	cthis mouse_lclick
	call __dblclick,isplaying
	cmp0
	je l1157
	cthis mouse_dblclick
	jmp l1156
l1157:
	call __dblclick,play
l1156:
	end method
	method mouserclick
	push "onmouserclick"
	call __grobj,eval
	cthis mouse_rclick
	end method
	method mouselrel
	push "onmouselrel"
	call __grobj,eval
	cthis mouse_lrel
	end method
	method mouserrel
	push "onmouserrel"
	call __grobj,eval
	cthis mouse_rrel
	end method
	method keydown
	push "onkeydown"
	call __grobj,eval
	cthis key_down
	end method
	end class

	class classadv
	parent classgame
	method init
	clparent classgame,init
	end method
	method newclpathf
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localreal $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	push $4
	push $5
	push $6
	push $7
	spop $a
	call [$a],build
	end method
	method newclpathfcopy
	localstring $1
	localstring $2
	localstring $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classpathf,[$e]
	push $1
	spushs
	push $2
	push $3
	push $4
	spop $a
	call [$a],buildfrom
	end method
	method newpathf
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new path,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	push 2.0
	push 1
	spop $a
	call [$a],build
	end method
	method newclbut
	localstring $1
	localstring $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbutton,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],build
	end method
	method newclmask
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],buildmask
	end method
	method newclmaskfunc
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classmask,[$e]
	push $1
	spushs
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push $3
	push $4
	spop $a
	call [$a],buildmaskfunc
	end method
	end class

	class classquest
	method init
	new vector,vqst
	push "string"
	call vqst,type
	end method
	method isdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	ret
	end method
	method notdone
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	ret
	end method
	method done
	localstring $1
	pop $1
	push $1
	call vqst,contains
	neg
	cmp0
	je l1159
	push $1
	call vqst,add
l1159:
	end method
	method reset
	call vqst,free
	end method
	method save
	localstring $1
	pop $1
	push $1
	call vqst,save
	end method
	method load
	localstring $1
	pop $1
	push $1
	call vqst,load
	end method
	end class

	new classquest,clqs
	method winsave
	localstring $1
	pop $1
	new db,_db_win
	push "output.db"
	call _db_win,load
	localdef $2
	call _db_win,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	call _db_win,add
	push "output.db"
	call _db_win,save
	delete _db_win
	end method
	method getsavepath
	cthis getapppath
	push "saves/"
	pop $b
	popax
	add $a,$b
	end method
	method saveexist
	localstring $1
	pop $1
	cthis getapppath
	push $1
	pop $b
	popax
	add $a,$b
	call engine,fileexist
	end method
	method vecsave
	localstring $1
	pop $1
	cthis getapppath
	push $1
	pop $b
	popax
	add $a,$b
	cthis save
	end method
	method vecload
	localstring $1
	pop $1
	cthis getapppath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	end method
	class classfullsave
	method init
	localstring $1
	pop $1
	new db,dbsav
	new string,sstdfile
	push $1
	cthis setfile
	end method
	method save
	localstring $1
	pop $1
	cthis getapppath
	push $1
	pop $b
	popax
	add $a,$b
	call dbsav,save
	end method
	method _load
	localstring $1
	pop $1
	push $1
	call engine,fileexist
	cmp0
	je l1161
	call dbsav,free
	push $1
	call dbsav,load
l1161:
	end method
	method load
	localstring $1
	pop $1
	cthis getapppath
	push $1
	pop $b
	popax
	add $a,$b
	cthis _load
	end method
	method print
	call dbsav,print
	end method
	method setfile
	localstring $1
	pop $1
	push $1
	pop sstdfile
	end method
	method stdload
	push sstdfile
	cthis load
	end method
	method stdsave
	push sstdfile
	cthis save
	end method
	method free
	call dbsav,free
	end method
	method set
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1163
	push $3
	push 1
	push $2
	call dbsav,set
	jmp l1162
l1163:
	call dbsav,addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push $1
	call dbsav,add
	push $3
	push $2
	call dbsav,add
l1162:
	cthis stdsave
	end method
	method bset
	localstring $1
	pop $1
	push $1
	push 1
	cthis set
	end method
	method get
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1165
	push $2
	push 1
	call dbsav,get
	jmp l1164
l1165:
	push "null"
l1164:
	ret
	end method
	method is
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbsav,findbyrow
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l1167
	push $3
	push 1
	call dbsav,get
	push $2
	cmpje
	jmp l1166
l1167:
	push 0
l1166:
	ret
	end method
	method bis
	localstring $1
	pop $1
	localint $2
	push $1
	call dbsav,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l1169
	push $2
	push 1
	call dbsav,get
	push 0
	cmpjne
	jmp l1168
l1169:
	push 0
l1168:
	ret
	end method
	end class

	class StringChecker
	method init
	end method
	method isdigit
	localstring $1
	pop $1
	call $1,to_i
	push 0
	cmpjne
	cmp0
	jne l1171
	push 0
	push 1
	call $1,getb
	push "0"
	cmpje
	jmp l1172
l1170:
	push 0
	jmp l1172
l1171:
	push 1
l1172:
	ret
	end method
	method getint
	localstring $1
	pop $1
	call $1,to_i
	ret
	end method
	method getreal
	localstring $1
	pop $1
	call $1,to_r
	ret
	end method
	method isreal
	localstring $1
	pop $1
	push $1
	cthis isdigit
	cmp0
	je l1173
	push "."
	call $1,contains
	jmp l1175
l1173:
	push 0
	jmp l1175
l1174:
	push 1
l1175:
	ret
	end method
	method isstring
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "\""
	cmpje
	ret
	end method
	method getstring
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	ret
	end method
	end class

	class Script
	method init
	localstring $1
	pop $1
	new db,__dbcode
	new string,__sdb
	new int,__irow
	new int,__icol
	new string,__sreads
	new vector,__vec
	push "string"
	call __vec,type
	new string,__sarg
	new int,__iarg
	new real,__rarg
	new StringChecker,__csc
	push "int"
	new map2,__mp
	localint $2
	push 0
	pop $2
l1176:
	push $2
	push 10
	cmpjl
	cmp0
	je l1177
	jmp l1179
l1178:
	add $2,1
	pop $2
	jmp l1176
l1179:
	push "ARG"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new string,[$e]
	jmp l1178
l1177:
	push $1
	cthis load
	end method
	method ARG=
	localint $1
	localstring $2
	pop $2
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	spop $b
	popax
	mov [$b],$a
	end method
	method ARG
	localint $1
	pop $1
	push "ARG"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	end method
	method load
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1181
	ret
l1181:
	push "."
	call $1,contains
	cmp0
	je l1183
	push "__dbcode"
	pop __sdb
	push $1
	call __dbcode,loadbeh
	jmp l1182
l1183:
	push $1
	pop __sdb
l1182:
	call __mp,free
	localint $2
	push 0
	pop $2
l1184:
	push $2
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1185
	jmp l1187
l1186:
	add $2,1
	pop $2
	jmp l1184
l1187:
	push __sdb
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	push "func"
	cmpje
	cmp0
	je l1189
	push __sdb
	spushs
	push $2
	push 1
	spop $a
	call [$a],get
	push $2
	call __mp,add
l1189:
	jmp l1186
l1185:
	push "init"
	cthis call
	end method
	method get
	localstring $1
	pop $1
	push $1
	popax
	mov $a,[$a]
	psax
	end method
	method isvar
	localstring $1
	pop $1
	push 0
	push 1
	call $1,getb
	push "$"
	cmpje
	end method
	method getvar
	localstring $1
	pop $1
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	neg
	cmp0
	je l1191
	push $1
	spushs
	spop $e
	new def,[$e]
l1191:
	push $1
	ret
	end method
	method isfunc
	localstring $1
	pop $1
	push "."
	call $1,contains
	cmp0
	je l1192
	push $1
	call __csc,isreal
	neg
	jmp l1194
l1192:
	push 0
	jmp l1194
l1193:
	push 1
l1194:
	ret
	end method
	method getfunc
	localstring $1
	pop $1
	call __vec,free
	push "."
	call $1,strgetto
	call __vec,add
	push "."
	call $1,strgetfrom
	call __vec,add
	end method
	method _get
	add __icol,1
	pop __icol
	push __sdb
	spushs
	push __irow
	push __icol
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	ret
	end method
	method isnext
	push __icol
	push __sdb
	spushs
	push __irow
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1196
	push __sdb
	spushs
	push __irow
	push __icol
	spop $a
	call [$a],get
	pop __sreads
	push 1
	ret
l1196:
	push 0
	ret
	end method
	method perror
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cmp0
	je l1198
	push "error: "
	push $2
	pop $b
	popax
	add $a,$b
	call engine,print
l1198:
	end method
	method interpcall
	localstring $1
	pop $1
	push $1
	cthis getfunc
	localstring $2
	push 0
	call __vec,get
	pop $2
	push 0
	push 1
	call $2,getb
	push "*"
	cmpje
	cmp0
	je l1200
	push 1
	call $2,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1200:
	localstring $3
	push 1
	call __vec,get
	pop $3
	push 0
	push 1
	call $3,getb
	push "*"
	cmpje
	cmp0
	je l1202
	push 1
	call $3,strsubb
	popax
	mov $a,[$a]
	psax
	pop $2
l1202:
	call __vec,free
	add __icol,1
	pop __icol
	localstring $4
	cthis _get
	pop $4
l1203:
	push $4
	push ")"
	cmpjne
	cmp0
	je l1204
	push $4
	cthis getexpr
	cthis _get
	pop $4
	jmp l1203
l1204:
	push $2
	push "this"
	cmpje
	cmp0
	je l1206
	push "null"
	pop $2
l1206:
	push $2
	push $3
	cthis callfun
	end method
	method getvname
	localstring $1
	pop $1
	push $1
	cthis isvar
	cmp0
	je l1208
	push $1
	cthis getvar
	pop $1
	jmp l1207
l1208:
	push $1
	call __csc,isreal
	cmp0
	je l1210
	call $1,to_r
	pop __rarg
	push "__rarg"
	pop $1
	jmp l1209
l1210:
	push $1
	call __csc,isdigit
	cmp0
	je l1212
	push $1
	pop __iarg
	push "__iarg"
	pop $1
	jmp l1211
l1212:
	push $1
	call __csc,isstring
	cmp0
	je l1214
	push $1
	call __csc,getstring
	pop __sarg
	push "__sarg"
	pop $1
l1214:
l1211:
l1209:
l1207:
	push $1
	ret
	end method
	method isscriptfun
	localstring $1
	pop $1
	push "->"
	call $1,contains
	ret
	end method
	method getscriptfun
	localstring $1
	pop $1
	push 2
	call $1,strsubb
	ret
	end method
	method getexpr
	localstring $1
	pop $1
	push $1
	call __csc,isstring
	cmp0
	je l1216
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
	jmp l1215
l1216:
	push $1
	cthis isfunc
	cmp0
	je l1218
	push $1
	cthis interpcall
	jmp l1217
l1218:
	push $1
	cthis isscriptfun
	cmp0
	je l1220
	localint $2
	push __irow
	pop $2
	localint $3
	push __icol
	pop $3
	push $1
	cthis getscriptfun
	cthis call
	push $2
	pop __irow
	push $3
	pop __icol
	jmp l1219
l1220:
	push $1
	cthis getvname
	spushs
	spop $a
	call [$a],get
l1219:
l1217:
l1215:
	end method
	method cmp
	localint $1
	push 0
	pop $1
	localdef $2
	cthis _get
	cthis getexpr
	pop $2
	localstring $3
	cthis _get
	pop $3
	localdef $4
	cthis _get
	cthis getexpr
	pop $4
	push $3
	spushs
	push "=="
	cmpst
	jne l1222
	spop $a
	push $2
	push $4
	cmpje
	pop $1
	jmp l1221
l1222:
	push "!="
	cmpst
	jne l1223
	spop $a
	push $2
	push $4
	cmpjne
	pop $1
	jmp l1221
l1223:
	push "<"
	cmpst
	jne l1224
	spop $a
	push $2
	push $4
	cmpjl
	pop $1
	jmp l1221
l1224:
	push ">"
	cmpst
	jne l1225
	spop $a
	push $2
	push $4
	cmpja
	pop $1
	jmp l1221
l1225:
	push "<="
	cmpst
	jne l1226
	spop $a
	push $2
	push $4
	cmpjle
	pop $1
	jmp l1221
l1226:
	push ">="
	cmpst
	jne l1227
	spop $a
	push $2
	push $4
	cmpjae
	pop $1
	jmp l1221
l1227:
	spop $a
l1221:
	cthis _get
	pop $3
	push $3
	push "||"
	cmpje
	cmp0
	je l1229
	push $1
	cmp0
	jne l1231
	cthis cmp
	jmp l1232
l1230:
	push 0
	jmp l1232
l1231:
	push 1
l1232:
	ret
	jmp l1228
l1229:
	push $3
	push "&&"
	cmpje
	cmp0
	je l1234
	push $1
	cmp0
	je l1235
	cthis cmp
	jmp l1237
l1235:
	push 0
	jmp l1237
l1236:
	push 1
l1237:
	ret
	jmp l1233
l1234:
	push $1
	ret
l1233:
l1228:
	end method
	method containsfun
	localstring $1
	pop $1
	push $1
	call __mp,contains
	end method
	method call
	localstring $1
	pop $1
	push $1
	call __mp,contains
	neg
	cmp0
	je l1239
	ret
l1239:
	push $1
	call __mp,get
	pop __irow
	add __irow,1
	pop __irow
	push 0
	pop __icol
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	localint $11
	localint $12
	localint $13
l1240:
	push $2
	cmp0
	je l1241
	push 0
	pop __icol
	cthis _get
	pop $8
	push $8
	spushs
	push "new"
	cmpst
	jne l1243
	spop $a
	cthis _get
	pop $8
	cthis _get
	pop $9
	push 1
	call $9,strsubb
	pop $9
	cthis isnext
	cmp0
	je l1245
	push __sreads
	push "["
	cmpje
	cmp0
	je l1247
	add __icol,1
	pop __icol
	cthis _get
	pop $11
	push 0
	pop $12
l1248:
	push $12
	push $11
	cmpjl
	cmp0
	je l1249
	jmp l1251
l1250:
	add $12,1
	pop $12
	jmp l1248
l1251:
	push $8
	spushs
	push $9
	push $12
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	spop $d
	new [$d],[$e]
	jmp l1250
l1249:
	jmp l1246
l1247:
	add __icol,1
	pop __icol
l1252:
	cthis isnext
	cmp0
	je l1253
	push __sreads
	push ")"
	cmpjne
	jmp l1255
l1253:
	push 0
	jmp l1255
l1254:
	push 1
l1255:
	cmp0
	je l1256
	cthis _get
	cthis getexpr
	jmp l1252
l1256:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1246:
	jmp l1244
l1245:
	push $8
	spushs
	push $9
	spushs
	spop $e
	spop $d
	new [$d],[$e]
l1244:
	add __irow,1
	pop __irow
	jmp l1242
l1243:
	push "delete"
	cmpst
	jne l1257
	spop $a
	cthis _get
	cthis getvar
	spushs
	spop $d
	delete [$d]
	add __irow,1
	pop __irow
	jmp l1242
l1257:
	push $8
	push "if"
	cmpje
	cmp0
	jne l1259
	push $6
	cmp0
	jne l1259
	push $5
	jmp l1260
l1258:
	push 0
	jmp l1260
l1259:
	push 1
l1260:
	cmp0
	je l1262
	push $8
	jmp l1261
l1262:
	push ""
l1261:
	cmpst
	jne l1263
	spop $a
	add __icol,1
	pop __icol
	cthis cmp
	pop $4
	push $8
	push "if"
	cmpje
	cmp0
	je l1265
	push 1
	pop $3
l1265:
	push 0
	pop $6
	push 0
	pop $5
	add __irow,1
	pop __irow
	push $4
	neg
	cmp0
	je l1267
	push 1
	pop $12
l1268:
	push $12
	cmp0
	je l1269
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	pop $8
	push $8
	push "else"
	cmpje
	cmp0
	jne l1272
	push $8
	push "elif"
	cmpje
	cmp0
	jne l1272
	push $8
	push "fi"
	cmpje
	cmp0
	jne l1272
	push $8
	push "done"
	cmpje
	jmp l1273
l1271:
	push 0
	jmp l1273
l1272:
	push 1
l1273:
	cmp0
	je l1274
	push 0
	pop $12
	jmp l1270
l1274:
	add __irow,1
	pop __irow
l1270:
	jmp l1268
l1269:
l1267:
	jmp l1242
l1263:
	push "else"
	cmpst
	jne l1275
	spop $a
	push $3
	neg
	push "else without if"
	cthis perror
	add __irow,1
	pop __irow
	push $4
	cmp0
	je l1277
l1278:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1279
	add __irow,1
	pop __irow
	jmp l1278
l1279:
l1277:
	jmp l1242
l1275:
	push "fi"
	cmpst
	jne l1280
	spop $a
	push $3
	neg
	push "fi without if"
	cthis perror
	push 0
	pop $3
	push 0
	pop $4
	push 0
	pop $6
	add __irow,1
	pop __irow
	jmp l1242
l1280:
	push "elif"
	cmpst
	jne l1281
	spop $a
	push $4
	cmp0
	je l1283
	add __irow,1
	pop __irow
l1284:
	push __sdb
	spushs
	push __irow
	push 0
	spop $a
	call [$a],get
	push "fi"
	cmpjne
	cmp0
	je l1285
	add __irow,1
	pop __irow
	jmp l1284
l1285:
	jmp l1282
l1283:
	push 1
	pop $6
l1282:
	jmp l1242
l1281:
	push "end"
	cmpst
	jne l1286
	spop $a
	push 0
	pop $2
	jmp l1242
l1286:
	push "while"
	cmpst
	jne l1287
	spop $a
	push __irow
	pop $7
	push 1
	pop $5
	jmp l1242
l1287:
	push "done"
	cmpst
	jne l1288
	spop $a
	push $4
	cmp0
	je l1290
	push $7
	pop __irow
	jmp l1289
l1290:
	add __irow,1
	pop __irow
l1289:
	jmp l1242
l1288:
	push "print"
	cmpst
	jne l1291
	spop $a
	push ""
	pop $8
l1292:
	cthis isnext
	cmp0
	je l1293
	cthis _get
	cthis getexpr
	popax
	add $8,$a
	pop $8
	jmp l1292
l1293:
	push $8
	call engine,print
	add __irow,1
	pop __irow
	jmp l1242
l1291:
	push "return"
	cmpst
	jne l1294
	spop $a
	cthis isnext
	cmp0
	je l1296
	push __sreads
	cthis getexpr
l1296:
	ret
	jmp l1242
l1294:
	spop $a
	push 0
	push 1
	call $8,getb
	push "$"
	cmpje
	cmp0
	je l1298
	push $8
	cthis getvar
	pop $8
	add __icol,1
	pop __icol
	push $8
	spushs
	cthis _get
	cthis getexpr
	spop $b
	popax
	mov [$b],$a
l1299:
	cthis isnext
	cmp0
	je l1300
	add __icol,1
	pop __icol
	localdef $14
	cthis _get
	cthis getexpr
	pop $14
	push __sreads
	spushs
	push "+"
	cmpst
	jne l1302
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	add [$b],$a
	pop [$b]
	jmp l1301
l1302:
	push "-"
	cmpst
	jne l1303
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	sub [$b],$a
	pop [$b]
	jmp l1301
l1303:
	push "*"
	cmpst
	jne l1304
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	mul [$b],$a
	pop [$b]
	jmp l1301
l1304:
	push "/"
	cmpst
	jne l1305
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$a
	jmp l1301
l1305:
	push "%"
	cmpst
	jne l1306
	spop $a
	push $8
	spushs
	push $14
	popax
	spop $b
	div [$b],$a
	mov [$b],$d
	jmp l1301
l1306:
	spop $a
l1301:
	jmp l1299
l1300:
	jmp l1297
l1298:
	push $8
	cthis getexpr
l1297:
	add __irow,1
	pop __irow
l1242:
	push __irow
	push __sdb
	spushs
	spop $a
	call [$a],getrowsno
	cmpjae
	cmp0
	je l1308
	push 1
	push "function "
	push $1
	pop $b
	popax
	add $a,$b
	push " not finished!"
	pop $b
	popax
	add $a,$b
	cthis perror
	push 0
	pop $2
l1308:
	jmp l1240
l1241:
	end method
	end class

	method transparent
	push 0
	push 0
	push 0
	push 0
	ret
	end method
	method red
	push 255
	push 0
	push 0
	ret
	end method
	method green
	push 0
	push 255
	push 0
	ret
	end method
	method blue
	push 0
	push 0
	push 255
	ret
	end method
	method white
	push 255
	push 255
	push 255
	ret
	end method
	method black
	push 0
	push 0
	push 0
	ret
	end method
	method grey
	localint $1
	pop $1
	push $1
	push $1
	push $1
	ret
	end method
	method yellow
	push 255
	push 255
	push 0
	ret
	end method
	class Color
	method init
	push A
	push "r"
	push "g"
	push "b"
	push "a"
	cthis vars
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],get
	cthis set
	end method
	method img=
	localdef $1
	pop $1
	push $1
	spushs
	push $1
	clparent classansearcher,firstnotrx1y
	spop $a
	call [$a],getrgba
	pop a
	pop b
	pop g
	pop r
	end method
	method get
	push r
	push g
	push b
	push a
	ret
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop a
	pop b
	pop g
	pop r
	end method
	method rgb=
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	pop b
	pop g
	pop r
	end method
	method rgb
	push r
	push g
	push b
	ret
	end method
	method print
	push "Color::"
	cthis getname
	pop $b
	popax
	add $a,$b
	push " (r,g,b,a) = ("
	pop $b
	popax
	add $a,$b
	push r
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push g
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push a
	pop $b
	popax
	add $a,$b
	push ")"
	pop $b
	popax
	add $a,$b
	call engine,print
	end method
	end class

	class classasker
	parent newvars
	method init
	clparent newvars,init
	new string,sfuncyes
	push "null"
	pop sfuncyes
	new string,sfuncno
	push "null"
	pop sfuncno
	new string,ssndask
	new string,ssndyes
	new string,ssndno
	new classsound,clsnd
	end method
	method reset
	push "null"
	pop sfuncyes
	push "null"
	pop sfuncno
	call buts,resetall
	end method
	method setfuncs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sfuncyes
	push $2
	pop sfuncno
	end method
	method fxonmovon
	localstring $1
	pop $1
	push $1
	call buts,sfxonmovon
	end method
	method setmouse
	localstring $1
	pop $1
	push "yes"
	push $1
	call buts,newmouse
	push "no"
	push $1
	call buts,newmouse
	end method
	method load
	localstring $1
	localint $2
	pop $2
	pop $1
	new classbutton,buts
	push $1
	push $2
	push "null"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call buts,disableall
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push $5
	cthis setfuncs
	push $1
	push $2
	push $3
	cthis ask2
	end method
	method ask2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop ssndask
	push $2
	pop ssndyes
	push $3
	pop ssndno
	call gameapi,pause
	call buts,benableall
	push "bkg"
	call buts,pause
	call clsnd,creset
	push $1
	call clsnd,cbplay
	cthis getname
	push "_ask"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovon
	localstring $1
	pop $1
	push $1
	push "yes"
	cmpje
	cmp0
	je l1310
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndyes
	call clsnd,cbplay
	jmp l1309
l1310:
	push $1
	push "no"
	cmpje
	cmp0
	je l1312
	push ssndask
	spushs
	push 0
	spop $a
	call [$a],stop
	push ssndno
	call clsnd,cbplay
l1312:
l1309:
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "bkg"
	cmpje
	cmp0
	je l1314
	ret
l1314:
	call gameapi,resume
	call buts,disableall
	push 0
	call clsnd,cactsndstop
	push $1
	push "yes"
	cmpje
	cmp0
	je l1316
	push sfuncyes
	push "null"
	cmpjne
	jmp l1318
l1316:
	push 0
	jmp l1318
l1317:
	push 1
l1318:
	cmp0
	je l1319
	push sfuncyes
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_yes"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l1315
l1319:
	push $1
	push "no"
	cmpje
	cmp0
	je l1321
	push sfuncno
	push "null"
	cmpjne
	jmp l1323
l1321:
	push 0
	jmp l1323
l1322:
	push 1
l1323:
	cmp0
	je l1324
	push sfuncno
	spushs
	spop $d
	cthis [$d]
	cthis getname
	push "_no"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1324:
l1315:
	end method
	method disabled
	call buts,disabled
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	end class

	class classplacepointer
	method init
	new anima,anpointer
	push "onfinish"
	push "classplacepointer0"
	call anpointer,addmethod
	new int,_iz
	push 1000
	pop _iz
	end method
	method classplacepointer0
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anpointer,load
	push _iz
	cthis setz
	call anpointer,hide
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop _iz
	push $1
	call anpointer,setz
	end method
	method stop
	push 0
	call anpointer,stop
	end method
	method stoph
	push 0
	call anpointer,stop
	call anpointer,hide
	end method
	method show
	localint $1
	localint $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,setpos
	push $3
	call anpointer,play
	end method
	method move
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call anpointer,move
	end method
	method showob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	push $2
	cthis show
	end method
	method showpob
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	push $2
	cthis show
	end method
	end class

	class SimpleCounter
	method init
	localint $1
	pop $1
	push "length"
	push $1
	cthis var2
	new int,iid
	push 0
	pop iid
	end method
	method next
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push length
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
	push iid
	end method
	method set
	localint $1
	pop $1
	push $1
	pop iid
	end method
	method reset
	push 0
	pop iid
	end method
	method get
	push iid
	end method
	end class

	module clstrdigit
	method init
	end method
	method getdigit
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	pop $3
l1325:
	call $3,length
	push $2
	cmpjl
	cmp0
	je l1326
	push "0"
	push $3
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1325
l1326:
	push $3
	ret
	end method
	method gettime
	localint $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis geth
	push $1
	cthis getm
	push $1
	cthis gets
	push "h"
	call $2,contains
	push "m"
	call $2,contains
	push "s"
	call $2,contains
	cthis getstime
	ret
	end method
	method getstime
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $7
	push ""
	pop $7
	push $4
	cmp0
	je l1328
	push $1
	popax
	add $7,$a
	pop $7
l1328:
	push $5
	cmp0
	je l1330
	push $4
	cmp0
	je l1332
	push ":"
	jmp l1331
l1332:
	push ""
l1331:
	push $2
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1330:
	push $6
	cmp0
	je l1334
	push $4
	cmp0
	jne l1336
	push $5
	jmp l1337
l1335:
	push 0
	jmp l1337
l1336:
	push 1
l1337:
	cmp0
	je l1339
	push ":"
	jmp l1338
l1339:
	push ""
l1338:
	push $3
	push 2
	cthis getdigit
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
l1334:
	push $7
	ret
	end method
	method geth
	localint $1
	pop $1
	push $1
	push 3600
	pop $b
	popax
	div $a,$b
	psax
	ret
	end method
	method getm
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	psax
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method gets
	localint $1
	pop $1
	push $1
	push 60
	pop $b
	popax
	div $a,$b
	push $d
	ret
	end method
	method getns
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis gets
	push $2
	cthis getdigit
	ret
	end method
	method getnm
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis getm
	push $2
	cthis getdigit
	ret
	end method
	method getbinary
	localint $1
	pop $1
	localstring $2
	push ""
	pop $2
l1340:
	push $1
	push 0
	cmpja
	cmp0
	je l1341
	push ""
	push $1
	push 2
	pop $b
	popax
	div $a,$b
	push $d
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $2
	push 2
	popax
	div $1,$a
	mov $1,$a
	jmp l1340
l1341:
	push $2
	ret
	end method
	method bintohex
	localstring $1
	pop $1
	localstring $2
	call $1,length
	push 4
	pop $b
	popax
	div $a,$b
	push $d
	spushs
	push 3
	cmpst
	jne l1343
	spop $a
	push "0"
	jmp l1342
l1343:
	push 2
	cmpst
	jne l1344
	spop $a
	push "00"
	jmp l1342
l1344:
	push 1
	cmpst
	jne l1345
	spop $a
	push "000"
	jmp l1342
l1345:
	spop $a
	push ""
l1342:
	pop $2
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1346:
	push $3
	call $1,length
	cmpjl
	cmp0
	je l1347
	jmp l1349
l1348:
	push 4
	popax
	add $3,$a
	pop $3
	jmp l1346
l1349:
	push $3
	push 4
	call $1,getb
	spushs
	push "0000"
	cmpst
	jne l1351
	spop $a
	push "0"
	jmp l1350
l1351:
	push "0001"
	cmpst
	jne l1352
	spop $a
	push "1"
	jmp l1350
l1352:
	push "0010"
	cmpst
	jne l1353
	spop $a
	push "2"
	jmp l1350
l1353:
	push "0011"
	cmpst
	jne l1354
	spop $a
	push "3"
	jmp l1350
l1354:
	push "0100"
	cmpst
	jne l1355
	spop $a
	push "4"
	jmp l1350
l1355:
	push "0101"
	cmpst
	jne l1356
	spop $a
	push "5"
	jmp l1350
l1356:
	push "0110"
	cmpst
	jne l1357
	spop $a
	push "6"
	jmp l1350
l1357:
	push "0111"
	cmpst
	jne l1358
	spop $a
	push "7"
	jmp l1350
l1358:
	push "1000"
	cmpst
	jne l1359
	spop $a
	push "8"
	jmp l1350
l1359:
	push "1001"
	cmpst
	jne l1360
	spop $a
	push "9"
	jmp l1350
l1360:
	push "1010"
	cmpst
	jne l1361
	spop $a
	push "A"
	jmp l1350
l1361:
	push "1011"
	cmpst
	jne l1362
	spop $a
	push "B"
	jmp l1350
l1362:
	push "1100"
	cmpst
	jne l1363
	spop $a
	push "C"
	jmp l1350
l1363:
	push "1101"
	cmpst
	jne l1364
	spop $a
	push "D"
	jmp l1350
l1364:
	push "1110"
	cmpst
	jne l1365
	spop $a
	push "E"
	jmp l1350
l1365:
	push "1111"
	cmpst
	jne l1366
	spop $a
	push "F"
	jmp l1350
l1366:
	spop $a
l1350:
	popax
	add $2,$a
	pop $2
	jmp l1348
l1347:
	push $2
	end method
	end module

	method getbinary
	cthis get
	clparent clstrdigit,getbinary
	end method
	method getdigit
	localint $1
	pop $1
	cthis get
	push $1
	clparent clstrdigit,getdigit
	end method
	method getbindigit
	localint $1
	pop $1
	cthis getbinary
	push $1
	clparent clstrdigit,getdigit
	end method
	class Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1368
	push sgmfontfile
	pop $1
l1368:
	push ".ttf"
	call $1,contains
	cmp0
	je l1370
	new font,_fnt
	push $1
	push $2
	call _fnt,load
	push "_fnt"
	pop $1
l1370:
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new int,iFontSize
	push $2
	pop iFontSize
	new text,txt
	push $1
	call txt,setfont
	push $8
	call txt,setz
	push $6
	push $7
	call txt,setpos
	call txt,show
	new text,txtbg
	call txtbg,hide
	end method
	method hide
	call txt,hide
	end method
	method show
	call txt,show
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call txt,setpos
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt,set
	push iR
	push iG
	push iB
	call txt,createtxt
	end method
	method get
	call txt,get
	ret
	end method
	method setbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	call txt,getpx
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getpy
	push iFontSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt,getw
	push iFontSize
	pop $b
	popax
	add $a,$b
	push iFontSize
	push 2
	pop $b
	popax
	mul $a,$b
	push $1
	push $2
	push $3
	push $4
	call txtbg,setbkg
	push 1
	push 255
	push 255
	push 255
	push 128
	call txtbg,setborders
	call txtbg,show
	end method
	method operator=
	localstring $1
	pop $1
	push $1
	cthis set
	end method
	end class

	class Cypher
	parent Text
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push 0
	cthis set
	end method
	method add
	localint $1
	pop $1
	push $1
	cthis get
	pop $b
	popax
	add $a,$b
	cthis set
	end method
	method iget
	cthis get
	spushs
	spop $h
	call $h,to_i
	end method
	method operator+
	localint $1
	pop $1
	push $1
	cthis add
	end method
	method operator++
	push 1
	cthis add
	end method
	method operator--
	push 1
	popax
	sub 0,$a
	cthis add
	end method
	method operator-
	localint $1
	pop $1
	push $1
	popax
	sub 0,$a
	cthis add
	end method
	method operator=
	localint $1
	pop $1
	push $1
	cthis set
	end method
	method operator==
	localint $1
	pop $1
	cthis get
	push $1
	cmpje
	end method
	method operator!=
	localint $1
	pop $1
	cthis get
	push $1
	cmpjne
	end method
	method operator>
	localint $1
	pop $1
	cthis get
	push $1
	cmpja
	end method
	method operator<
	localint $1
	pop $1
	cthis get
	push $1
	cmpjl
	end method
	end class

	class SecCounter
	method init
	localstring $1
	pop $1
	new string,sdigit
	push $1
	pop sdigit
	new int,itime
	cthis reset
	push "timcyk"
	push 1000
	push 1
	push "SecCounter0"
	cthis cnewtimerfin
	end method
	method SecCounter0
	push 1
	cthis update
	cthis play
	end method
	method play
	call timcyk,play
	end method
	method stop
	push 0
	call timcyk,stop
	end method
	method sgettime
	push itime
	push sdigit
	call clstrdigit,gettime
	ret
	end method
	method gettime
	push itime
	ret
	end method
	method reset
	push itime
	popax
	sub 0,$a
	cthis update
	end method
	method update
	localint $1
	pop $1
	push $1
	popax
	add itime,$a
	pop itime
	end method
	end class

	class TextTimeCounter
	parent Text
	parent SecCounter
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	clparent Text,init
	push $9
	clparent SecCounter,init
	cthis reset
	end method
	method update
	localint $1
	pop $1
	push $1
	clparent SecCounter,update
	cthis sgettime
	cthis set
	end method
	end class

	class gfxObject
	method init
	localstring $1
	pop $1
	new string,sgfxobj
	push $1
	pop sgfxobj
	end method
	method setpos
	push sgfxobj
	spushs
	spop $a
	call [$a],setpos
	end method
	method move
	push sgfxobj
	spushs
	spop $a
	call [$a],move
	end method
	method getpos
	push sgfxobj
	spushs
	spop $a
	call [$a],getpos
	end method
	method getposx
	push sgfxobj
	spushs
	spop $a
	call [$a],getposx
	end method
	method getposy
	push sgfxobj
	spushs
	spop $a
	call [$a],getposy
	end method
	method getpx
	push sgfxobj
	spushs
	spop $a
	call [$a],getpx
	end method
	method getpy
	push sgfxobj
	spushs
	spop $a
	call [$a],getpy
	end method
	method getw
	push sgfxobj
	spushs
	spop $a
	call [$a],getw
	end method
	method geth
	push sgfxobj
	spushs
	spop $a
	call [$a],geth
	end method
	method getcx
	push sgfxobj
	spushs
	spop $a
	call [$a],getcx
	end method
	method getcy
	push sgfxobj
	spushs
	spop $a
	call [$a],getcy
	end method
	method getex
	push sgfxobj
	spushs
	spop $a
	call [$a],getex
	end method
	method getey
	push sgfxobj
	spushs
	spop $a
	call [$a],getey
	end method
	method lodx
	push sgfxobj
	spushs
	spop $a
	call [$a],lodx
	end method
	method lody
	push sgfxobj
	spushs
	spop $a
	call [$a],lody
	end method
	method setz
	push sgfxobj
	spushs
	spop $a
	call [$a],setz
	end method
	method getz
	push sgfxobj
	spushs
	spop $a
	call [$a],getz
	end method
	method show
	push sgfxobj
	spushs
	spop $a
	call [$a],show
	end method
	method hide
	push sgfxobj
	spushs
	spop $a
	call [$a],hide
	end method
	method isvisible
	push sgfxobj
	spushs
	spop $a
	call [$a],isvisible
	end method
	method isin
	push sgfxobj
	spushs
	spop $a
	call [$a],isin
	end method
	end class

	class gfxSquare
	parent Color
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent Color,init
	push A
	push "w"
	push "h"
	cthis vars
	push $3
	pop w
	push $4
	pop h
	new img,imggfx
	push $1
	push $2
	call imggfx,setpos
	push "imggfx"
	clparent gfxObject,init
	end method
	method build
	push w
	push h
	push r
	push g
	push b
	push a
	call imggfx,create
	end method
	method shadow
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localdef $4
	localdef $5
	call imggfx,getpos
	pop $5
	pop $4
	push 0
	push 0
	call imggfx,setpos
	new img,_img1
	new img,_img2
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1372
	push w
	push h
	cthis transparent
	call _img1,create
	push "imggfx"
	call _img1,blit
	jmp l1371
l1372:
	push w
	push h
	cthis get
	call _img1,create
l1371:
	push w
	push h
	cthis black
	push $3
	call _img2,create
	push $1
	push 0
	cmpjl
	cmp0
	je l1374
	push $1
	popax
	sub 0,$a
	push 0
	call _img1,move
	push $1
	popax
	add $4,$a
	pop $4
	jmp l1373
l1374:
	push $1
	push 0
	call _img2,move
l1373:
	push $2
	push 0
	cmpjl
	cmp0
	je l1376
	push 0
	push $2
	popax
	sub 0,$a
	call _img1,move
	push $2
	popax
	add $5,$a
	pop $5
	jmp l1375
l1376:
	push 0
	push $2
	call _img2,move
l1375:
	call $1,abs
	popax
	add w,$a
	pop w
	call $2,abs
	popax
	add h,$a
	pop h
	push w
	push h
	cthis transparent
	call imggfx,create
	push "_img2"
	call imggfx,blit
	push "_img1"
	call imggfx,blit
	delete _img1
	delete _img2
	push $4
	push $5
	call imggfx,move
	end method
	method blackborder
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $1
	cthis black
	push $2
	cthis border
	end method
	method border
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $7
	localdef $8
	call imggfx,getpos
	pop $8
	pop $7
	push 0
	push 0
	call imggfx,setpos
	new img,_img
	call imggfx,getw
	push 0
	cmpja
	cmp0
	je l1378
	push w
	push h
	cthis transparent
	call _img,create
	push "imggfx"
	call _img,blit
	jmp l1377
l1378:
	push w
	push h
	cthis get
	call _img,create
l1377:
	push $1
	push $2
	call _img,move
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add w,$a
	pop w
	push 2
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add h,$a
	pop h
	push w
	push h
	push $3
	push $4
	push $5
	push $6
	call imggfx,create
	push "_img"
	call imggfx,blit
	delete _img
	push $7
	push $8
	call imggfx,move
	end method
	end class

	class Rect
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push A
	push "x"
	push "y"
	push "w"
	push "h"
	cthis vars
	push $1
	push $2
	push $3
	push $4
	cthis set
	end method
	method x2
	push x
	push w
	pop $b
	popax
	add $a,$b
	end method
	method y2
	push y
	push h
	pop $b
	popax
	add $a,$b
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop x
	push $2
	pop y
	push $3
	pop w
	push $4
	pop h
	end method
	method fit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],gettype
	push "gmimgvec"
	cmpje
	cmp0
	je l1380
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],_getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1382
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1382:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],_getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1384
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1384:
	jmp l1379
l1380:
	localdef $2
	push x
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l1386
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1386:
	localdef $3
	push y
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpja
	cmp0
	je l1388
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1388:
l1379:
	cthis x2
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l1390
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l1390:
	cthis y2
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l1392
	push $1
	spushs
	push 0
	push $3
	spop $a
	call [$a],move
l1392:
	end method
	method fitrand
	localstring $1
	pop $1
	push $1
	spushs
	push x
	push w
	push $1
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push y
	push h
	push $1
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],ansetbpos
	end method
	method fitgrouprand
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1393:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1394
	jmp l1396
l1395:
	add $2,1
	pop $2
	jmp l1393
l1396:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fitrand
	jmp l1395
l1394:
	end method
	method fitgroup
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l1397:
	push $2
	push $1
	spushs
	spop $a
	call [$a],size
	cmpjl
	cmp0
	je l1398
	jmp l1400
l1399:
	add $2,1
	pop $2
	jmp l1397
l1400:
	push $1
	spushs
	push $2
	spop $a
	call [$a],get
	cthis fit
	jmp l1399
l1398:
	end method
	end class

	class classfadeinout
	method init
	new timer,timf
	new string,_sob
	new int,_istep
	new int,_ival
	new int,_ib1
	new int,_ib2
	new string,_sfun
	new string,_sfunfin
	new string,_sobfin
	push "onfinish"
	push "_ctimffin"
	call timf,addmethod
	end method
	method _cfinito
	localint $1
	pop $1
	push _sob
	spushs
	push _sfun
	spushs
	push $1
	spop $d
	spop $a
	call [$a],[$d]
	push _sfunfin
	push "null"
	cmpjne
	cmp0
	je l1402
	push _sobfin
	push "null"
	cmpje
	cmp0
	je l1404
	push _sfunfin
	spushs
	spop $d
	cthis [$d]
	jmp l1403
l1404:
	push _sobfin
	spushs
	push _sfunfin
	spushs
	spop $d
	spop $a
	call [$a],[$d]
l1403:
l1402:
	end method
	method _ctimffin
	push _istep
	popax
	add _ival,$a
	pop _ival
	push _ival
	push _ib2
	cmpjae
	cmp0
	je l1406
	push _ib2
	cthis _cfinito
	jmp l1405
l1406:
	push _ival
	push _ib1
	cmpjle
	cmp0
	je l1408
	push _ib1
	cthis _cfinito
	jmp l1407
l1408:
	push _sob
	spushs
	push _sfun
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	cthis play
l1407:
l1405:
	end method
	method _play
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $7
	pop _sobfin
	push $8
	pop _sfunfin
	push $5
	pop _ib1
	push $6
	pop _ib2
	localint $9
	call $2,abs
	pop $9
	push $1
	push 0
	cmpjle
	cmp0
	jne l1411
	push $9
	push $5
	cmpje
	cmp0
	jne l1411
	push $9
	push $6
	cmpja
	jmp l1412
l1410:
	push 0
	jmp l1412
l1411:
	push 1
l1412:
	cmp0
	je l1413
	ret
l1413:
	push $4
	pop _sfun
	push $1
	call timf,setcycle
	push $3
	pop _sob
	push $2
	push 0
	cmpja
	cmp0
	je l1415
	push _ib1
	pop _ival
	jmp l1414
l1415:
	push $2
	push 0
	cmpjl
	cmp0
	je l1417
	push _ib2
	pop _ival
	jmp l1416
l1417:
	ret
l1416:
l1414:
	push $3
	spushs
	push $4
	spushs
	push _ival
	spop $d
	spop $a
	call [$a],[$d]
	push $2
	pop _istep
	call timf,play
	end method
	method imgtransparency
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "transparency"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method setopacity
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setopacity"
	push 0
	push 255
	push "null"
	push $4
	cthis _play
	end method
	method sndvolume
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "setvol"
	push 0
	push 100
	push "null"
	push $4
	cthis _play
	end method
	method isplaying
	call timf,isplaying
	end method
	end class

	class CutScene
	parent gfxObject
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,X1
	new int,Y1
	new int,X2
	new int,Y2
	new img,_gsq
	push $1
	push $2
	push $3
	push $4
	cthis build
	push "_gsq"
	clparent gfxObject,init
	new string,_sfunc1
	new string,_sob1
	new string,_sfunc2
	new string,_sob2
	new int,_idelay
	push 10
	pop _idelay
	new classfadeinout,_clfio
	end method
	method build
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	pop Y2
	pop X2
	pop Y1
	pop X1
	push X2
	push X1
	pop $b
	popax
	sub $a,$b
	push Y2
	push Y1
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call _gsq,create
	push X1
	push Y1
	call _gsq,setpos
	call _gsq,hide
	push 0
	call _gsq,transparency
	end method
	method delay
	localint $1
	pop $1
	push $1
	pop _idelay
	end method
	method transparency
	localint $1
	pop $1
	push $1
	call _gsq,transparency
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "null"
	push $1
	push "null"
	push $2
	cthis playobfin
	end method
	method playobfin
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l1419
	call gameapi,getgamename
	jmp l1418
l1419:
	push $1
l1418:
	pop _sob1
	push $2
	pop _sfunc1
	push $3
	push "null"
	cmpje
	cmp0
	je l1421
	call gameapi,getgamename
	jmp l1420
l1421:
	push $3
l1420:
	pop _sob2
	push $4
	pop _sfunc2
	call _gsq,show
	push 0
	call _gsq,transparency
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene0"
	call _clfio,_play
	end method
	method CutScene0
	push _sob1
	push _sfunc1
	cthis callfun
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method close
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obclose
	end method
	method obclose
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob1
	push $2
	pop _sfunc1
	push 0
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "CutScene1"
	call _clfio,_play
	end method
	method CutScene1
	call _gsq,hide
	push _sob1
	push _sfunc1
	cthis callfun
	end method
	method enter
	localstring $1
	pop $1
	call gameapi,getgamename
	push $1
	cthis obenter
	end method
	method obenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob2
	push $2
	pop _sfunc2
	push 255
	call _gsq,transparency
	call _gsq,show
	push 1
	push _idelay
	popax
	sub 0,$a
	cthis getname
	push "transparency"
	push 0
	push 255
	cthis getname
	push "_callfun2"
	call _clfio,_play
	end method
	method _callfun2
	call _gsq,hide
	push _sob2
	push _sfunc2
	cthis callfun
	end method
	method isplaying
	call _clfio,isplaying
	end method
	method show
	push 255
	call _gsq,transparency
	call _gsq,show
	end method
	end class

	method allchars
	push "a0 t_!@#$%^&*()_+-=[]\\|}{;':\",./<>?`~"
	end method
	class TextTyper
	parent classlocker
	parent gfxObject
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localstring $6
	localint $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iR
	push $3
	pop iR
	new int,iG
	push $4
	pop iG
	new int,iB
	push $5
	pop iB
	new string,sChars
	push $6
	pop sChars
	new int,iLimit
	push $7
	pop iLimit
	push A
	push "Sdir"
	push "left"
	push "W"
	push 0
	push "iFontSize"
	push $2
	push "X"
	push 0
	push "Y"
	push 0
	cthis vars2
	new text,txt1
	push $1
	call txt1,setfont
	push ""
	call txt1,set
	new text,txt2
	push $1
	call txt2,setfont
	push "_"
	call txt2,set
	push iR
	push iG
	push iB
	call txt2,createtxt
	call txt2,hide
	new text,txtpass
	push $1
	call txtpass,setfont
	call txtpass,hide
	new int,bpass
	push 0
	pop bpass
	new string,_sob
	push "null"
	pop _sob
	new string,_sfun
	push "null"
	pop _sfun
	push "timcyk"
	push 300
	push 1
	push "fintimcyk"
	cthis cnewtimerfin
	push "txt1"
	clparent gfxObject,init
	end method
	method setaspasswd
	push 1
	pop bpass
	call txt1,hide
	call txt1,getz
	call txtpass,setz
	call txtpass,show
	cthis copytopass
	end method
	method copytopass
	localdef $1
	call txt1,get
	spushs
	spop $h
	call $h,length
	pop $1
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
l1422:
	push $3
	push $1
	cmpjl
	cmp0
	je l1423
	jmp l1425
l1424:
	add $3,1
	pop $3
	jmp l1422
l1425:
	push "*"
	popax
	add $2,$a
	pop $2
	jmp l1424
l1423:
	push $2
	call txtpass,txtset
	call txt1,getpx
	call txt1,getpy
	call txtpass,setpos
	end method
	method setastext
	push 0
	pop bpass
	call txt1,show
	call txtpass,hide
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,isin
	end method
	method getcol
	push iR
	push iG
	push iB
	ret
	end method
	method fintimcyk
	cthis getlock
	cmp0
	je l1427
	ret
l1427:
	cthis updatecyk
	cthis play
	end method
	method updatecyk
	call txt2,isvisible
	cmp0
	je l1429
	call txt2,hide
	jmp l1428
l1429:
	call txt1,getex
	call txt1,getpy
	call txt2,setpos
	call txt2,show
l1428:
	end method
	method enable
	cthis unlock
	cthis updatecyk
	call timcyk,play
	end method
	method disable
	call txt2,hide
	push 0
	call timcyk,stop
	cthis lock
	end method
	method onenter
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sob
	push $2
	pop _sfun
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	pop X
	push $2
	pop Y
	cthis get
	cthis updatetxt
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push X
	push $1
	pop $b
	popax
	add $a,$b
	push Y
	push $2
	pop $b
	popax
	add $a,$b
	cthis setpos
	end method
	method setz
	localint $1
	pop $1
	push $1
	call txt1,setz
	push $1
	call txt2,setz
	end method
	method get
	localstring $1
	call txt1,get
	pop $1
	call $1,length
	push 0
	cmpja
	cmp0
	je l1431
	push $1
	jmp l1430
l1431:
	push ""
l1430:
	end method
	method getpx
	call txt1,getpx
	end method
	method getpy
	call txt1,getpy
	end method
	method getcx
	call txt1,getcx
	end method
	method getcy
	call txt1,getcy
	end method
	method geth
	call txt1,geth
	end method
	method getey
	call txt1,getpy
	push iFontSize
	pop $b
	popax
	add $a,$b
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call txt1,clip
	push $1
	push $2
	push $3
	push $4
	call txt2,clip
	end method
	method length
	call txt1,get
	spushs
	spop $h
	call $h,length
	end method
	method set
	localstring $1
	pop $1
	push $1
	call txt1,set
	end method
	method txtset
	localstring $1
	pop $1
	push $1
	cthis getcol
	call txt1,txtsetcol
	end method
	method limit=
	localint $1
	pop $1
	push $1
	pop iLimit
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1433
	ret
l1433:
	cthis getname
	push "_ontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1435
	cthis disable
	push _sob
	push _sfun
	cthis callfun
	cthis getname
	push "_onenter"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	ret
l1435:
	localstring $1
	push "t"
	call sChars,contains
	cmp0
	je l1437
	push "tab"
	call keyboard,iskey
	jmp l1439
l1437:
	push 0
	jmp l1439
l1438:
	push 1
l1439:
	cmp0
	je l1440
	push " "
	pop $1
	jmp l1436
l1440:
	call keyboard,getkey
	pop $1
l1436:
	localstring $2
	call txt1,get
	pop $2
	call keyboard,isalpha
	cmp0
	je l1442
	push "a"
	call sChars,contains
	jmp l1444
l1442:
	push 0
	jmp l1444
l1443:
	push 1
l1444:
	cmp0
	jne l1446
	call keyboard,isdigit
	cmp0
	je l1447
	push "0"
	call sChars,contains
	jmp l1449
l1447:
	push 0
	jmp l1449
l1448:
	push 1
l1449:
	cmp0
	jne l1446
	push $1
	call sChars,contains
	jmp l1450
l1445:
	push 0
	jmp l1450
l1446:
	push 1
l1450:
	cmp0
	je l1451
	push iLimit
	push 0
	cmpjle
	cmp0
	jne l1454
	push iLimit
	call $2,length
	cmpja
	jmp l1455
l1453:
	push 0
	jmp l1455
l1454:
	push 1
l1455:
	jmp l1456
l1451:
	push 0
	jmp l1456
l1452:
	push 1
l1456:
	cmp0
	je l1457
	push $2
	push $1
	pop $b
	popax
	add $a,$b
	cthis updatetxt
	cthis updatecyk
	jmp l1441
l1457:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1459
	call $2,length
	push 0
	cmpja
	jmp l1461
l1459:
	push 0
	jmp l1461
l1460:
	push 1
l1461:
	cmp0
	je l1462
	push 1
	call $2,strsube
	cthis updatetxt
	cthis updatecyk
l1462:
l1441:
	end method
	method updatetxt
	localstring $1
	pop $1
	push $1
	call txt1,set
	push iR
	push iG
	push iB
	call txt1,createtxt
	push Sdir
	push "center"
	cmpje
	cmp0
	je l1464
	push X
	push W
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push Y
	call txt1,setpos
	jmp l1463
l1464:
	push Sdir
	push "right"
	cmpje
	cmp0
	je l1466
	push X
	push W
	pop $b
	popax
	add $a,$b
	call txt1,getw
	pop $b
	popax
	sub $a,$b
	push Y
	call txt1,setpos
	jmp l1465
l1466:
	push X
	push Y
	call txt1,setpos
l1465:
l1463:
	push bpass
	cmp0
	je l1468
	cthis copytopass
l1468:
	cthis getname
	push "_onwrite"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class ConTextTyper
	parent TextTyper
	parent ObjController
	method init
	clparent TextTyper,init
	clparent ObjController,init
	end method
	end class

	new string,sTextBoxTyperSys
	push "null"
	pop sTextBoxTyperSys
	class TextBoxTyper
	parent LObjController
	parent ImagePos
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent LObjController,init
	clparent ImagePos,init
	new def,Font
	push $1
	push $2
	cthis checkfont
	pop Font
	push A
	push "Cols"
	push $10
	push $3
	pop $b
	popax
	div $a,$b
	psax
	push "Rows"
	push $11
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	div $a,$b
	psax
	push "X"
	push $8
	push "Y"
	push $9
	push "Row"
	push 0
	push "enablemove"
	push 1
	push "W"
	push $10
	push "insystem"
	push 0
	push "H"
	push $11
	push "isvisible"
	push 1
	push "clipx1"
	push $8
	push "clipy1"
	push $9
	push "clipx2"
	push 0
	push "clipy2"
	push 0
	push "clipped"
	push 0
	cthis vars2
	new def,Size
	push $2
	pop Size
	new def,Dy
	push $12
	pop Dy
	new def,Z
	push 0
	pop Z
	localstring $13
	new gmimgvec,grtt
	new gmimgvec,gren
	localint $14
	push 0
	pop $14
l1469:
	push $14
	push Rows
	cmpjl
	cmp0
	je l1470
	jmp l1472
l1471:
	add $14,1
	pop $14
	jmp l1469
l1472:
	push "tt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $13
	push $13
	spushs
	push Font
	push $2
	push $4
	push $5
	push $6
	push $7
	push Cols
	spop $e
	new TextTyper,[$e]
	push $13
	spushs
	push $10
	spop $a
	call [$a],W=
	push $13
	spushs
	push "left"
	spop $a
	call [$a],Sdir=
	push $13
	spushs
	push $8
	push $9
	push $14
	push $2
	push $12
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $13
	call grtt,add
	jmp l1471
l1470:
	end method
	method settyper
	localint $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localstring $8
	localstring $9
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localint $10
	localint $11
	localstring $12
	localstring $13
	push ""
	pop $13
	push $1
	push 0
	cmpjl
	cmp0
	je l1474
	call grtt,last
	spushs
	spop $a
	call [$a],X
	pop $10
	call grtt,last
	spushs
	spop $a
	call [$a],getey
	push Dy
	pop $b
	popax
	add $a,$b
	pop $11
	call grtt,size
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	call grtt,add
	jmp l1473
l1474:
	push $1
	call grtt,get
	pop $12
	push $12
	spushs
	spop $a
	call [$a],X
	pop $10
	push $12
	spushs
	spop $a
	call [$a],getpy
	pop $11
	push $12
	spushs
	spop $a
	call [$a],get
	pop $13
	push $12
	push 0
	push $3
	push $12
	spushs
	spop $a
	call [$a],iFontSize
	pop $b
	popax
	sub $a,$b
	call grtt,movefrom
	push $12
	spushs
	spop $d
	delete [$d]
l1473:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	push $2
	push $3
	push $5
	push $6
	push $7
	push $8
	push W
	push $4
	pop $b
	popax
	div $a,$b
	psax
	spop $e
	new TextTyper,[$e]
	push $12
	spushs
	push W
	spop $a
	call [$a],W=
	push $12
	spushs
	push $9
	spop $a
	call [$a],Sdir=
	push $12
	spushs
	push $13
	spop $a
	call [$a],updatetxt
	push $12
	spushs
	push Z
	spop $a
	call [$a],setz
	push $12
	spushs
	push $10
	push $11
	spop $a
	call [$a],setpos
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grtt,move
	push $1
	push $2
	call gren,move
	push $1
	popax
	add X,$a
	pop X
	push $2
	popax
	add Y,$a
	pop Y
	end method
	method size
	call grtt,size
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtt,setz
	push $1
	call gren,setz
	end method
	method getz
	push Z
	end method
	method show
	push 1
	pop isvisible
	call grtt,show
	end method
	method hide
	push 0
	pop isvisible
	call grtt,hide
	end method
	method clip
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 1
	pop clipped
	push $1
	pop clipx1
	push $2
	pop clipy1
	push $3
	pop clipx2
	push $4
	pop clipy2
	localint $5
	push 0
	pop $5
l1475:
	push $5
	call grtt,size
	cmpjl
	cmp0
	je l1476
	jmp l1478
l1477:
	add $5,1
	pop $5
	jmp l1475
l1478:
	push $5
	call grtt,get
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],clip
	jmp l1477
l1476:
	end method
	method getw
	push W
	end method
	method geth
	push H
	end method
	method enumerate
	localint $1
	pop $1
	localstring $2
	localstring $3
	localint $4
	push 0
	pop $4
l1479:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1480
	jmp l1482
l1481:
	add $4,1
	pop $4
	jmp l1479
l1482:
	push "txte"
	push $4
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new text,[$e]
	push $2
	call gren,add
	push $2
	spushs
	push Z
	spop $a
	call [$a],setz
	push $2
	spushs
	push Font
	spop $a
	call [$a],setfont
	push $2
	spushs
	push ""
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	call tt0,getcol
	spop $a
	call [$a],txtsetcol
	push $2
	spushs
	push X
	push $2
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	sub $a,$b
	push Y
	push $4
	push Size
	push Dy
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	jmp l1481
l1480:
	end method
	method cut
	localint $1
	pop $1
	push $1
	pop Rows
	end method
	method enable
	cthis unlock
	cthis activateact
	end method
	method disable
	cthis lock
	push "disable"
	call grtt,eval
	end method
	method actual
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	end method
	method activate
	localint $1
	pop $1
	cthis unlock
	push $1
	push 0
	cmpjae
	cmp0
	je l1484
	push $1
	push Rows
	cmpjl
	jmp l1486
l1484:
	push 0
	jmp l1486
l1485:
	push 1
l1486:
	cmp0
	je l1487
	push insystem
	cmp0
	je l1489
	push GAME
	spushs
	push sTextBoxTyperSys
	spop $a
	call [$a],isgmobj
	cmp0
	je l1491
	push sTextBoxTyperSys
	cthis getname
	cmpjne
	jmp l1493
l1491:
	push 0
	jmp l1493
l1492:
	push 1
l1493:
	cmp0
	je l1494
	push sTextBoxTyperSys
	spushs
	spop $a
	call [$a],deactivate
l1494:
	cthis getname
	pop sTextBoxTyperSys
l1489:
	cthis deactivate
	push $1
	pop Row
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],enable
	cthis getname
	push "_activate"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1487:
	end method
	method activateact
	push Row
	cthis activate
	end method
	method deactivate
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],disable
	end method
	method onkeydown
	cthis getlock
	cmp0
	je l1496
	ret
l1496:
	cthis getname
	push "_boxontype"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "enter"
	call keyboard,iskeydown
	cmp0
	je l1498
	localdef $1
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	pop $1
	call $1,clear
	call $1,length
	push 0
	cmpje
	cmp0
	je l1500
	push enablemove
	jmp l1502
l1500:
	push 0
	jmp l1502
l1501:
	push 1
l1502:
	cmp0
	je l1503
	localdef $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	pop $2
l1504:
	push $2
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l1505
	jmp l1507
l1506:
	sub $2,1
	pop $2
	jmp l1504
l1507:
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1506
l1505:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	push Rows
	cmpjl
	cmp0
	je l1509
	push ""
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis setid
l1509:
l1503:
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1497
l1498:
	push "up"
	call keyboard,iskey
	cmp0
	je l1511
	push Row
	push 0
	cmpja
	jmp l1513
l1511:
	push 0
	jmp l1513
l1512:
	push 1
l1513:
	cmp0
	je l1514
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1510
l1514:
	push "down"
	call keyboard,iskey
	cmp0
	je l1516
	push Row
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	jmp l1518
l1516:
	push 0
	jmp l1518
l1517:
	push 1
l1518:
	cmp0
	je l1519
	push Row
	push 1
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1515
l1519:
	push "pgdown"
	call keyboard,iskey
	cmp0
	je l1521
	push Row
	push Rows
	push 10
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1523
	push Row
	push 10
	pop $b
	popax
	add $a,$b
	cthis activate
	jmp l1522
l1523:
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1522:
	jmp l1520
l1521:
	push "pgup"
	call keyboard,iskey
	cmp0
	je l1525
	push Row
	push 9
	cmpja
	cmp0
	je l1527
	push Row
	push 10
	pop $b
	popax
	sub $a,$b
	cthis activate
	jmp l1526
l1527:
	push 0
	cthis activate
l1526:
	jmp l1524
l1525:
	push "backspace"
	call keyboard,iskey
	cmp0
	jne l1530
	push "delete"
	call keyboard,iskey
	jmp l1531
l1529:
	push 0
	jmp l1531
l1530:
	push 1
l1531:
	cmp0
	je l1532
	cthis actual
	spushs
	spop $a
	call [$a],length
	push 0
	cmpje
	jmp l1534
l1532:
	push 0
	jmp l1534
l1533:
	push 1
l1534:
	cmp0
	je l1535
	push enablemove
	cmp0
	je l1537
	localdef $2
	push Row
	pop $2
l1538:
	push $2
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l1539
	jmp l1541
l1540:
	add $2,1
	pop $2
	jmp l1538
l1541:
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis getid
	push $2
	cthis setid
	jmp l1540
l1539:
	push ""
	push Rows
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setid
l1537:
	push "backspace"
	call keyboard,iskey
	cmp0
	je l1543
	push Row
	push 1
	pop $b
	popax
	sub $a,$b
	cthis activate
l1543:
	jmp l1528
l1535:
	push "onkeydown"
	call grtt,eval
l1528:
l1524:
l1520:
l1515:
l1510:
l1497:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1545
	ret
l1545:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push clipped
	cmp0
	je l1547
	push $1
	push $2
	push clipx1
	push clipy1
	push clipx2
	push clipy2
	call clsurf,isin
	jmp l1549
l1547:
	push 0
	jmp l1549
l1548:
	push 1
l1549:
	cmp0
	jne l1551
	push clipped
	neg
	cmp0
	je l1552
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	jmp l1554
l1552:
	push 0
	jmp l1554
l1553:
	push 1
l1554:
	jmp l1555
l1550:
	push 0
	jmp l1555
l1551:
	push 1
l1555:
	cmp0
	je l1556
	cthis deactivate
	localint $3
	push 0
	pop $3
l1557:
	push $3
	cthis size
	cmpjl
	cmp0
	je l1558
	jmp l1560
l1559:
	add $3,1
	pop $3
	jmp l1557
l1560:
	push "tt"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getey
	push $2
	cmpja
	cmp0
	je l1562
	push $3
	cthis activate
	ret
l1562:
	jmp l1559
l1558:
	jmp l1546
l1556:
	cthis getname
	push "_OUTSIDE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1546:
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	cmp0
	je l1564
	push isvisible
	neg
	jmp l1566
l1564:
	push 0
	jmp l1566
l1565:
	push 1
l1566:
	cmp0
	je l1567
	push 0
	ret
l1567:
	push $1
	push $2
	push X
	push Y
	push W
	push H
	call clsurf,isin2
	end method
	method getid
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method getact
	push "tt"
	push Row
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	end method
	method idpx
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpx
	end method
	method idpy
	localint $1
	pop $1
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],getpy
	end method
	method getpx
	push X
	end method
	method getpy
	push Y
	end method
	method get
	push 0
	cthis getfrom
	end method
	method getfrom
	localint $1
	pop $1
	push $1
	push ""
	cthis getlinesfrom
	end method
	method getlinesfrom
	localint $1
	localstring $2
	pop $2
	pop $1
	localstring $3
	push ""
	pop $3
	localint $4
	push $1
	pop $4
l1568:
	push $4
	call grtt,size
	cmpjl
	cmp0
	je l1569
	jmp l1571
l1570:
	add $4,1
	pop $4
	jmp l1568
l1571:
	push "tt"
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	push $2
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l1570
l1569:
	push $3
	end method
	method getlines
	push 0
	push " "
	cthis getlinesfrom
	end method
	method nonempty
	localint $1
	pop $1
	localstring $2
l1572:
	push $1
	call grtt,size
	cmpjl
	cmp0
	je l1573
	jmp l1575
l1574:
	add $1,1
	pop $1
	jmp l1572
l1575:
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $2
	call $2,clear
	call $2,length
	push 0
	cmpja
	cmp0
	je l1577
	push $1
	ret
l1577:
	jmp l1574
l1573:
	push 1
	popax
	sub 0,$a
	end method
	method clear
	call grtt,txtreset
	end method
	method setid
	localstring $1
	localint $2
	pop $2
	pop $1
	call grtt,size
	push $2
	cmpjae
	cmp0
	je l1579
	push "tt"
	push $2
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $a
	call [$a],txtset
l1579:
	end method
	method settext
	localint $1
	pop $1
l1580:
	push $1
	push 0
	cmpja
	cmp0
	je l1581
	sub $1,1
	pop $1
	push $1
	cthis setid
	jmp l1580
l1581:
	end method
	method copytodb
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
	localint $2
	push 0
	pop $2
l1582:
	push $2
	call grtt,size
	cmpjl
	cmp0
	je l1583
	jmp l1585
l1584:
	add $2,1
	pop $2
	jmp l1582
l1585:
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	push $2
	call grtt,get
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],add
	jmp l1584
l1583:
	end method
	method copyfromdb
	localstring $1
	pop $1
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cthis copyfromdbii
	end method
	method copyfromdbss
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],findbyrow
	push 1
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],findbyrow
	cthis copyfromdbii
	end method
	method copyfromdbii
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	jne l1588
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	jmp l1589
l1587:
	push 0
	jmp l1589
l1588:
	push 1
l1589:
	cmp0
	je l1590
	ret
l1590:
	cthis clear
	push $3
	push $2
	pop $b
	popax
	sub $a,$b
	cthis size
	cmpja
	cmp0
	je l1592
	push $2
	cthis size
	pop $b
	popax
	add $a,$b
	pop $3
l1592:
	localint $4
	push $2
	pop $4
l1593:
	push $4
	push $3
	cmpjl
	cmp0
	je l1594
	jmp l1596
l1595:
	add $4,1
	pop $4
	jmp l1593
l1596:
	push $1
	spushs
	push $4
	spop $a
	call [$a],getcolsno
	cmp0
	je l1598
	push $1
	spushs
	push $4
	push 0
	spop $a
	call [$a],get
	push $4
	push $2
	pop $b
	popax
	sub $a,$b
	cthis setid
l1598:
	jmp l1595
l1594:
	end method
	method copyfromdbrow
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	pop $4
	push $4
	cthis size
	cmpja
	cmp0
	je l1600
	cthis size
	pop $4
l1600:
	localint $5
	push $3
	pop $5
l1601:
	push $5
	push $4
	cmpjl
	cmp0
	je l1602
	jmp l1604
l1603:
	add $5,1
	pop $5
	jmp l1601
l1604:
	push $1
	spushs
	push $2
	push $5
	spop $a
	call [$a],get
	push $5
	push $3
	pop $b
	popax
	sub $a,$b
	cthis setid
	jmp l1603
l1602:
	end method
	method save
	localstring $1
	pop $1
	new db,__tmpdb
	push "__tmpdb"
	cthis copytodb
	push "|"
	call __tmpdb,setseparator
	push $1
	call __tmpdb,save
	delete __tmpdb
	end method
	method load
	localstring $1
	pop $1
	new db,__tmpdb
	push $1
	call __tmpdb,load
	push "__tmpdb"
	cthis copyfromdb
	delete __tmpdb
	end method
	end class

	class GUITextBoxTyper
	parent TextBoxTyper
	method init
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	push $6
	push $7
	push $8
	push $9
	push $10
	push $11
	push $12
	clparent TextBoxTyper,init
	push A
	push "rewinder"
	push "null"
	push "rewinderbg"
	push "null"
	cthis vars2
	end method
	method setrewinder
	localstring $1
	pop $1
	push $1
	pop rewinder
	push $1
	push "bg"
	pop $b
	popax
	add $a,$b
	pop rewinderbg
	end method
	method activate
	localint $1
	pop $1
	push $1
	clparent TextBoxTyper,activate
	cthis updaterewactual
	end method
	method updaterewactual
	push Row
	cthis updaterewpos
	end method
	method updaterewpos
	localint $1
	pop $1
	push rewinder
	push "null"
	cmpjne
	cmp0
	je l1606
	localdef $2
	push "tt"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $a
	call [$a],getpy
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	cmpjl
	cmp0
	je l1608
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getpy
	push $2
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
	jmp l1607
l1608:
	push $2
	spushs
	spop $a
	call [$a],getey
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	cmpja
	cmp0
	je l1610
	push rewinder
	spushs
	push 0
	push rewinderbg
	spushs
	spop $a
	call [$a],getey
	push $2
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],rewind
l1610:
l1607:
l1606:
	end method
	end class

	class DelayTaker
	method init
	new int,bonrel
	push 0
	pop bonrel
	new int,bstart
	push 0
	pop bstart
	new int,bclickrel
	push 1
	pop bclickrel
	push "timwez"
	push 300
	push 1
	push "DelayTaker0"
	cthis cnewtimerfin
	end method
	method DelayTaker0
	push 1
	pop bonrel
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	pop bclickrel
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	call timwez,delay
	end method
	method take
	push bclickrel
	cmp0
	je l1612
	call timwez,play
	push 0
	pop bonrel
	jmp l1611
l1612:
	push 1
	pop bonrel
l1611:
	push 1
	pop bstart
	end method
	method ret
	push 0
	pop bonrel
	push 0
	pop bstart
	push 0
	call timwez,stop
	end method
	method isonclick
	cthis stoptimer
	push bstart
	cmp0
	je l1613
	push bonrel
	neg
	jmp l1615
l1613:
	push 0
	jmp l1615
l1614:
	push 1
l1615:
	end method
	method isonrel
	cthis stoptimer
	push bstart
	cmp0
	je l1616
	push bonrel
	jmp l1618
l1616:
	push 0
	jmp l1618
l1617:
	push 1
l1618:
	end method
	method istaken
	push bstart
	end method
	method stoptimer
	push 0
	call timwez,stop
	end method
	end class

	class ImgMover
	method init
	new string,smoved
	push "null"
	pop smoved
	new int,ilastx
	new int,ilasty
	new int,irelx
	new int,irely
	end method
	method mssetobj
	localstring $1
	pop $1
	push $1
	call mouse,getpos
	cthis setobj
	end method
	method setobj
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push 0
	push 0
	cthis set
	end method
	method setcobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	cthis setobj
	end method
	method setpobj
	localstring $1
	pop $1
	push $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis setobj
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $4
	pop $b
	popax
	sub $a,$b
	pop ilastx
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $5
	pop $b
	popax
	sub $a,$b
	pop ilasty
	push $2
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	pop irelx
	push $3
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	pop irely
	push $1
	pop smoved
	end method
	method msmove
	call mouse,getpos
	cthis move
	end method
	method msftmove
	call mouse,getpos
	cthis ftmove
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1620
	push smoved
	spushs
	push $1
	push smoved
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push irelx
	pop $b
	popax
	sub $a,$b
	push $2
	push smoved
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	push irely
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
l1620:
	end method
	method ftmove
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1622
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
l1622:
	end method
	method retobj
	push 0
	push 0
	cthis ret
	end method
	method ret
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push ilastx
	push $1
	pop $b
	popax
	add $a,$b
	push ilasty
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	cthis free
	end method
	method put
	localint $1
	localint $2
	pop $2
	pop $1
	push smoved
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	cthis free
	end method
	method free
	push "null"
	pop smoved
	end method
	method getmover
	push smoved
	ret
	end method
	method getfree
	localdef $1
	push smoved
	pop $1
	cthis free
	push $1
	end method
	method moving
	push smoved
	push "null"
	cmpjne
	ret
	end method
	end class

	class ConImgMover
	parent ImgMover
	parent ObjController
	method init
	clparent ImgMover,init
	clparent ObjController,init
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmouselrel
	push smoved
	push "null"
	cmpjne
	cmp0
	je l1624
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1624:
	end method
	end class

	class DelayMover
	parent ImgMover
	parent LObjController
	method init
	clparent ImgMover,init
	clparent LObjController,init
	new DelayTaker,cldt
	end method
	method setclickrel
	localint $1
	pop $1
	push $1
	call cldt,setclickrel
	end method
	method reset
	call cldt,ret
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method set
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent ImgMover,set
	call cldt,take
	end method
	method onmousemove
	cthis msmove
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1626
	ret
l1626:
	call cldt,isonclick
	cmp0
	je l1628
	cthis _put
	jmp l1627
l1628:
	call cldt,istaken
	neg
	cmp0
	je l1630
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1630:
l1627:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1632
	ret
l1632:
	call cldt,isonrel
	cmp0
	je l1634
	cthis _put
l1634:
	end method
	end class

	class Rewinder
	parent classlocker
	method init
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	new string,sarrowdir
	new int,ilenx
	new int,ileny
	new string,sgr
	new string,sorientation
	new int,bvertical
	new int,bfilteritem
	push 0
	pop bfilteritem
	new int,ibx1
	push 0
	pop ibx1
	new int,ibx2
	push iResX
	pop ibx2
	new int,iby1
	push 0
	pop iby1
	new int,iby2
	push iResY
	pop iby2
	new int,iodleg
	push 2
	pop iodleg
	new ImgMover,clmv
	push "timtick"
	push 1
	push 1
	push "timfin"
	cthis cnewtimercyclefin
	push A
	push "borx1"
	push $1
	push "bory1"
	push $2
	push "borx2"
	push $3
	push "bory2"
	push $4
	cthis vars2
	new snd,fxrew
	end method
	method movefilter
	push 1
	pop bfilteritem
	end method
	method movenormal
	push 0
	pop bfilteritem
	end method
	method setfxrew
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call fxrew,load
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	push $1
	push $2
	push $3
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,set
	push $1
	spushs
	push 0
	push 0
	push iResX
	push iResY
	spop $a
	call [$a],clip
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1637
	push sorientation
	push "down"
	cmpje
	jmp l1638
l1636:
	push 0
	jmp l1638
l1637:
	push 1
l1638:
	cmp0
	je l1639
	push sgr
	spushs
	push $1
	push $1
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getw
	push 0
	spop $a
	call [$a],move
	jmp l1635
l1639:
	push sgr
	spushs
	push $1
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	spop $a
	call [$a],movefrom
	push $1
	spushs
	push 0
	push $1
	spushs
	spop $a
	call [$a],geth
	spop $a
	call [$a],move
l1635:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],remove
	end method
	method pickup
	localint $1
	localint $2
	pop $2
	pop $1
	push sgr
	spushs
	push $1
	push $2
	push 1
	push 1
	spop $a
	call [$a],isin
	cmp0
	je l1641
	push sgr
	spushs
	spop $a
	call [$a],getsfound
	push $1
	push $2
	cthis getitem
	push 1
	ret
l1641:
	push 0
	ret
	end method
	method mspickup
	call mouse,getpos
	cthis pickup
	ret
	end method
	method freeitem
	call clmv,free
	end method
	method moveitem
	push bfilteritem
	cmp0
	je l1643
	call clmv,msftmove
	jmp l1642
l1643:
	call clmv,msmove
l1642:
	end method
	method retitem
	localstring $1
	call clmv,getmover
	pop $1
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push sgr
	spushs
	spop $a
	call [$a],getpy
	call clmv,ret
	push $1
	cthis putitem
	end method
	method putitem
	localstring $1
	pop $1
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1646
	push sorientation
	push "down"
	cmpje
	jmp l1647
l1645:
	push 0
	jmp l1647
l1646:
	push 1
l1647:
	cmp0
	je l1648
	push $1
	spushs
	push sgr
	spushs
	spop $a
	call [$a],getex
	push $1
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l1644
l1648:
	push $1
	spushs
	push 0
	push sgr
	spushs
	spop $a
	call [$a],getey
	push $1
	spushs
	spop $a
	call [$a],getpy
	pop $b
	popax
	sub $a,$b
	push iodleg
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],move
l1644:
	push sgr
	spushs
	push $1
	spop $a
	call [$a],add
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $1
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	end method
	method getmoved
	call clmv,getmover
	ret
	end method
	method getbutw
	call anupstd,getw
	ret
	end method
	method getbuth
	call anupstd,geth
	ret
	end method
	method movearrows
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call grarrows,move
	end method
	method build
	localstring $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $6
	pop sgr
	new anima,anupstd
	push $1
	call anupstd,load
	push $2
	call anupstd,setz
	push "up"
	push 0
	call anupstd,setframe
	push "anupstd"
	push "anupact"
	cthis copyanima
	push "up"
	push 1
	call anupact,setframe
	push "anupstd"
	push "andownact"
	cthis copyanima
	push "down"
	push 1
	call andownact,setframe
	push "anupstd"
	push "andownstd"
	cthis copyanima
	push "down"
	push 0
	call andownstd,setframe
	push "butup"
	push "anupstd"
	push "anupact"
	push "null"
	push $3
	cthis newbutan
	push "butdown"
	push "andownstd"
	push "andownact"
	push "null"
	push $3
	cthis newbutan
	push "onmoveon"
	push "_rewbutmoveon"
	call butup,addmethod
	push "onmoveon"
	push "_rewbutmoveon"
	call butdown,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butup,addmethod
	push "onmoveoff"
	push "_rewstrzalkaoff"
	call butdown,addmethod
	push "onclick"
	push "_rewbutclick"
	call butup,addmethod
	push "onclick"
	push "_rewbutclick"
	call butdown,addmethod
	push "onrel"
	push "_rewbutrel"
	call butup,addmethod
	push "onrel"
	push "_rewbutrel"
	call butdown,addmethod
	push $4
	pop sorientation
	new gmimgvec,grarrows
	push "grarrows"
	push "anupstd"
	popax
	pop $b
	psax
	call [$b],operator+
	push "anupact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownact"
	popax
	pop $b
	psax
	call [$b],operator+
	push "andownstd"
	popax
	pop $b
	psax
	call [$b],operator+
	popax
	localint $7
	localint $8
	localint $9
	localint $10
	push sorientation
	push "up"
	cmpje
	cmp0
	jne l1651
	push sorientation
	push "down"
	cmpje
	jmp l1652
l1650:
	push 0
	jmp l1652
l1651:
	push 1
l1652:
	cmp0
	je l1653
	push 0
	pop bvertical
	push $5
	pop ilenx
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1655
	push borx1
	push bory2
	call anupstd,geth
	pop $b
	popax
	sub $a,$b
	call anupstd,setpos
	push borx1
	push bory2
	call anupact,geth
	pop $b
	popax
	sub $a,$b
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call andownstd,getey
	pop $7
	jmp l1654
l1655:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call andownact,setpos
	push bory1
	pop $7
l1654:
	call anupstd,getex
	push iodleg
	pop $b
	popax
	add $a,$b
	pop ibx1
	call andownstd,getpx
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop ibx2
	push ibx1
	pop $8
	jmp l1649
l1653:
	push 1
	pop bvertical
	push $5
	pop ileny
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1657
	push borx2
	call anupstd,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupstd,setpos
	push borx2
	call anupact,getw
	pop $b
	popax
	sub $a,$b
	push bory1
	call anupact,setpos
	push borx2
	call andownstd,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx2
	call andownact,getw
	pop $b
	popax
	sub $a,$b
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	call anupstd,getex
	pop $8
	jmp l1656
l1657:
	push borx1
	push bory1
	call anupstd,setpos
	push borx1
	push bory1
	call anupact,setpos
	push borx1
	push bory2
	call andownstd,geth
	pop $b
	popax
	sub $a,$b
	call andownstd,setpos
	push borx1
	push bory2
	call andownact,geth
	pop $b
	popax
	sub $a,$b
	call andownact,setpos
	push borx1
	pop $8
l1656:
	call anupstd,getey
	push iodleg
	pop $b
	popax
	add $a,$b
	pop iby1
	call andownstd,getpy
	push iodleg
	pop $b
	popax
	sub $a,$b
	pop iby2
	push iby1
	pop $7
l1649:
	cthis getname
	push "up"
	call butup,_rewbuildbut
	cthis getname
	push "down"
	call butdown,_rewbuildbut
	localint $11
	push $6
	spushs
	spop $a
	call [$a],size
	pop $11
	push $6
	spushs
	push $8
	push $7
	spop $a
	call [$a],_setpos
	new int,ilimx
	push $8
	pop ilimx
	new int,ilimy
	push $7
	pop ilimy
	localstring $12
	localint $13
	push 0
	pop $13
l1658:
	push $13
	push $11
	cmpjl
	cmp0
	je l1659
	jmp l1661
l1660:
	add $13,1
	pop $13
	jmp l1658
l1661:
	push sgr
	spushs
	push $13
	spop $a
	call [$a],get
	pop $12
	push sorientation
	push "right"
	cmpje
	cmp0
	je l1663
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1662
l1663:
	push sorientation
	push "left"
	cmpje
	cmp0
	je l1665
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],geth
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $7,$a
	pop $7
	jmp l1664
l1665:
	push sorientation
	push "up"
	cmpje
	cmp0
	je l1667
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	jmp l1666
l1667:
	push sorientation
	push "down"
	cmpje
	cmp0
	je l1669
	push $12
	spushs
	push $8
	push $12
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push $7
	push $12
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	sub $a,$b
	push $12
	spushs
	spop $a
	call [$a],lody
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $12
	spushs
	spop $a
	call [$a],getw
	push iodleg
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
l1669:
l1666:
l1664:
l1662:
	push $12
	spushs
	push ibx1
	push iby1
	push ibx2
	push iby2
	spop $a
	call [$a],clip
	jmp l1660
l1659:
	end method
	method _rewbuildbut
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sob
	push $1
	pop _sob
	new string,_sdir
	push $2
	push "up"
	cmpje
	cmp0
	je l1671
	push bvertical
	push 0
	cmpje
	cmp0
	je l1673
	push "left"
	pop _sdir
	jmp l1672
l1673:
	push "up"
	pop _sdir
l1672:
	jmp l1670
l1671:
	push $2
	push "down"
	cmpje
	cmp0
	je l1675
	push bvertical
	push 0
	cmpje
	cmp0
	je l1677
	push "right"
	pop _sdir
	jmp l1676
l1677:
	push "down"
	pop _sdir
l1676:
l1675:
l1670:
	end method
	method _rewbutmoveon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _rewbutclick
	push _sdir
	cthis mstrzalkaon
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_CLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method mstrzalkaon
	localstring $1
	pop $1
	push $1
	pop sarrowdir
	call timtick,play
	end method
	method _rewbutrel
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	end method
	method _rewstrzalkaoff
	push "null"
	pop sarrowdir
	push 0
	call timtick,stop
	push 0
	call fxrew,stop
	push _sob
	push "_"
	pop $b
	popax
	add $a,$b
	push _sdir
	pop $b
	popax
	add $a,$b
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method timfin
	cthis getlock
	cmp0
	je l1679
	ret
l1679:
	localint $1
	push 0
	pop $1
	push sarrowdir
	push "null"
	cmpjne
	cmp0
	je l1681
	push sgr
	spushs
	spop $a
	call [$a],empty
	neg
	jmp l1683
l1681:
	push 0
	jmp l1683
l1682:
	push 1
l1683:
	cmp0
	je l1684
	push sarrowdir
	push "up"
	cmpje
	cmp0
	je l1686
	push sgr
	spushs
	spop $a
	call [$a],getey
	call andownstd,getpy
	push ileny
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1688
	push sgr
	spushs
	push 0
	push ileny
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	pop $1
l1688:
	jmp l1685
l1686:
	push sarrowdir
	push "down"
	cmpje
	cmp0
	je l1690
	push sgr
	spushs
	spop $a
	call [$a],getpy
	push ilimy
	cmpjl
	cmp0
	je l1692
	push sgr
	spushs
	push 0
	push ileny
	spop $a
	call [$a],move
	push 1
	pop $1
l1692:
	jmp l1689
l1690:
	push sarrowdir
	push "left"
	cmpje
	cmp0
	je l1694
	push sgr
	spushs
	spop $a
	call [$a],getex
	call andownstd,getpx
	push ilenx
	pop $b
	popax
	sub $a,$b
	cmpja
	cmp0
	je l1696
	push sgr
	spushs
	push ilenx
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1696:
	jmp l1693
l1694:
	push sarrowdir
	push "right"
	cmpje
	cmp0
	je l1698
	push sgr
	spushs
	spop $a
	call [$a],getpx
	push ilimx
	cmpjl
	cmp0
	je l1700
	push sgr
	spushs
	push ilenx
	push 0
	spop $a
	call [$a],move
	push 1
	pop $1
l1700:
l1698:
l1693:
l1689:
l1685:
l1684:
	push $1
	cmp0
	je l1702
	call fxrew,isplaying
	neg
	cmp0
	je l1704
	call fxrew,play
l1704:
	jmp l1701
l1702:
	push 0
	call fxrew,stop
l1701:
	cthis play
	end method
	end class

	class ConRewinder
	parent Rewinder
	parent ObjController
	method init
	clparent Rewinder,init
	clparent ObjController,init
	new DelayTaker,cldt
	end method
	method getitem
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	clparent Rewinder,getitem
	call cldt,take
	end method
	method _put
	call cldt,ret
	push _sme
	push "_PUT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method onmousemove
	cthis moveitem
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1706
	ret
l1706:
	call cldt,isonrel
	cmp0
	je l1708
	cthis _put
l1708:
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1710
	ret
l1710:
	call cldt,isonclick
	cmp0
	je l1712
	cthis _put
	jmp l1711
l1712:
	call cldt,istaken
	neg
	cmp0
	je l1714
	push _sme
	push "_GET"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1714:
l1711:
	end method
	end class

	class Button
	parent LObjController
	method init
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	push A
	push "sobject"
	push "null"
	push "sclicked"
	push "null"
	cthis vars2
	new int,bpadclick
	push 0
	pop bpadclick
	push "bcheck2klik"
	push 0
	cthis var2
	end method
	method sort
	call grbuts,sortimgs
	end method
	method addgroups
	call grbuts,addgroups
	call grbuts,sortimgs
	end method
	method addgroup
	localstring $1
	pop $1
	push $1
	call grbuts,addgr
	call grbuts,sortimgs
	end method
	method addlist
	call grbuts,addlist
	call grbuts,sortimgs
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grbuts,add
	call grbuts,sortimgs
	end method
	method addlocker
	localstring $1
	pop $1
	push $1
	cthis add
	push $1
	clparent classlocker,setaslocker
	end method
	method removebutlist
	push "removebut"
	cthis withlist
	end method
	method removebut
	localstring $1
	pop $1
	push $1
	call grbuts,remove
	push $1
	push sobject
	cmpje
	cmp0
	je l1716
	push "null"
	pop sobject
l1716:
	push $1
	push sclicked
	cmpje
	cmp0
	je l1718
	push "null"
	pop sclicked
l1718:
	end method
	method load
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push GAME
	spushs
	push "gmimgvec"
	push $1
	spop $a
	call [$a],varnew
	push $1
	push $2
	popax
	pop $b
	psax
	call [$b],operator*
	push $1
	spushs
	push $3
	spop $a
	call [$a],each
	push $1
	cthis addgroup
	end method
	method remove
	localstring $1
	pop $1
	push GAME
	spushs
	push $1
	spop $a
	call [$a],hasvar
	cmp0
	je l1720
	push $1
	call grbuts,removegr
l1720:
	end method
	method loadfrom
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localdef $5
	cthis getgraphpath
	pop $5
	push $2
	cthis setgraphpath
	push $1
	push $3
	push $4
	cthis load
	push $5
	cthis setgraphpath
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1722
	ret
l1722:
	cthis checktouchpad
	cmp0
	je l1724
	push bcheck2klik
	jmp l1726
l1724:
	push 0
	jmp l1726
l1725:
	push 1
l1726:
	cmp0
	je l1727
	push bpadclick
	cmp0
	je l1729
	localdef $1
	push sobject
	pop $1
	push $1
	push sobject
	cmpje
	cmp0
	je l1731
	push 0
	pop bpadclick
	cthis _butmouselclick
	jmp l1730
l1731:
	push sobject
	push "null"
	cmpje
	cmp0
	je l1733
	push 0
	pop bpadclick
l1733:
l1730:
	jmp l1728
l1729:
	push 1
	pop bpadclick
l1728:
	jmp l1723
l1727:
	cthis _butmouselclick
l1723:
	end method
	method _butmouselclick
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1735
	push sobject
	pop sclicked
	push sobject
	spushs
	push "butclick"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1737
	push sobject
	spushs
	spop $a
	call [$a],butclick
l1737:
l1735:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1739
	ret
l1739:
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1741
	push sclicked
	spushs
	push "butlrel"
	spop $a
	call [$a],hasaddedmet
	jmp l1743
l1741:
	push 0
	jmp l1743
l1742:
	push 1
l1743:
	cmp0
	je l1744
	push sclicked
	spushs
	spop $a
	call [$a],butlrel
	jmp l1740
l1744:
	push "null"
	pop sclicked
l1740:
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1746
	ret
l1746:
	push sclicked
	push "null"
	cmpjne
	cmp0
	je l1748
	push sclicked
	spushs
	push "butmoving"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1750
	push sclicked
	spushs
	spop $a
	call [$a],butmoving
l1750:
l1748:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push "isbutin"
	call grbuts,isinfunc
	cmp0
	je l1752
	localdef $3
	call grbuts,getsfound
	pop $3
	push $3
	push sobject
	cmpjne
	cmp0
	je l1754
	cthis lastoff
	push $3
	pop sobject
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $3
	spushs
	push "butmoveon"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1756
	push $3
	spushs
	spop $a
	call [$a],butmoveon
l1756:
l1754:
	jmp l1751
l1752:
	cthis lastoff
l1751:
	end method
	method lastoff
	push sobject
	push "null"
	cmpjne
	cmp0
	je l1758
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push sobject
	spushs
	push "butmoveoff"
	spop $a
	call [$a],hasaddedmet
	cmp0
	je l1760
	push sobject
	spushs
	spop $a
	call [$a],butmoveoff
l1760:
	push "null"
	pop sobject
	cthis checktouchpad
	cmp0
	je l1762
	push bcheck2klik
	jmp l1764
l1762:
	push 0
	jmp l1764
l1763:
	push 1
l1764:
	cmp0
	je l1765
	push 0
	pop bpadclick
l1765:
l1758:
	end method
	end class

	method Button_isin
	push "isbutin"
	push "global5"
	cthis addmethod
	end method
	method global5
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 0
	cthis isin
	end method
	method Button_isinvis
	push "isbutin"
	push "global6"
	cthis addmethod
	end method
	method global6
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 0
	cthis isin
	end method
	method Button_isinalpha
	push "isbutin"
	push "global7"
	cthis addmethod
	end method
	method global7
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis isin
	end method
	method Button_isinvisalpha
	push "isbutin"
	push "global8"
	cthis addmethod
	end method
	method global8
	localdef $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push 1
	cthis isin
	end method
	method Button_moveon
	push "butmoveon"
	push "global9"
	cthis addmethod
	end method
	method global9
	call sndakskermovon,play
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	cthis nofframes
	push 1
	cmpja
	cmp0
	je l1767
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
l1767:
	end method
	method Button_moveoff
	push "butmoveoff"
	push "global10"
	cthis addmethod
	end method
	method global10
	call advmouse,setstd
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method Button_moveonms
	push "butmoveon"
	push "global11"
	cthis addmethod
	end method
	method global11
	call advmouse,setbut
	end method
	method Button_moveoffms
	push "butmoveoff"
	push "global12"
	cthis addmethod
	end method
	method global12
	call advmouse,setstd
	end method
	method Button_std
	cthis Button_isin
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdalpha
	cthis Button_isinalpha
	cthis Button_moveon
	cthis Button_moveoff
	end method
	method Button_stdms
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	end method
	class Buttons
	parent LObjController
	method init
	localstring $1
	pop $1
	clparent LObjController,init
	cthis unlock
	new gmimgvec,grbuts
	new int,__id
	push 0
	pop __id
	new string,sanbut
	push "anbut"
	pop sanbut
	push sanbut
	push $1
	push 10
	cthis newanima
	push sanbut
	push sanbut
	push "grbuts"
	cthis newanactionsgr
	popax
	call anbut,hide
	push 10
	call grbuts,setz
	push "Buttons0"
	call grbuts,removeif
	new string,slastb
	push "null"
	pop slastb
	push A
	push "sobject"
	push "null"
	push "bvisible"
	push 1
	push "balpha"
	push 1
	cthis vars2
	end method
	method Buttons0
	cthis actionname
	push "bkg"
	cmpje
	cmp0
	je l1769
	cthis getz
	push 1
	pop $b
	popax
	sub $a,$b
	cthis setz
	push 1
	jmp l1768
l1769:
	push 0
l1768:
	end method
	method _release
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis copyobj
	cthis getname
	push "_moveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push "null"
	pop slastb
	call bsms,setstd
	end method
	method getbut
	call grbuts,getsfound
	end method
	method onmousemove
	cthis getlock
	cmp0
	je l1771
	ret
l1771:
	push 1
	popax
	sub 0,$a
	push 0
	call grbuts,setframe
	localdef $1
	call mouse,getpos
	push bvisible
	push balpha
	call grbuts,isin
	pop $1
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1773
	push slastb
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
l1773:
	push $1
	cmp0
	je l1775
	localstring $2
	call grbuts,getsfound
	pop $2
	push $2
	push slastb
	cmpjne
	cmp0
	je l1777
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1779
	cthis _release
l1779:
	push $2
	pop slastb
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	cthis copyobj
	call bsms,setact
	cthis getname
	push "_moveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1777:
	jmp l1774
l1775:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1781
	cthis _release
l1781:
l1774:
	end method
	method copyobj
	push slastb
	spushs
	spop $a
	call [$a],actionname
	pop sobject
	end method
	method onmouselclick
	cthis getlock
	cmp0
	je l1783
	ret
l1783:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1785
	cthis copyobj
	cthis getname
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1785:
	end method
	method onmouselrel
	cthis getlock
	cmp0
	je l1787
	ret
l1787:
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1789
	cthis copyobj
	cthis getname
	push "_lrel"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l1789:
	end method
	method disable
	cthis lock
	call grbuts,hide
	push slastb
	push "null"
	cmpjne
	cmp0
	je l1791
	call bsms,setstd
	push "null"
	pop slastb
l1791:
	end method
	method enable
	cthis unlock
	call grbuts,show
	end method
	end class

	class TextDb
	parent classlocker
	parent ObjController
	parent gfxObject
	method init
	localstring $1
	localint $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localstring $11
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	clparent classlocker,init
	clparent ObjController,init
	new string,sFont
	push $1
	pop sFont
	push $1
	push $2
	cthis checkfont
	pop $1
	new int,iFontSize
	push $2
	pop iFontSize
	localstring $12
	localint $13
	localint $14
	push "Z"
	push $10
	cthis var2
	push ".db"
	call $3,contains
	cmp0
	je l1793
	push 0
	push 6
	call $3,getb
	push "$path:"
	cmpje
	cmp0
	je l1795
	new db,dbtxt
	push 6
	call $3,strsubb
	call dbtxt,load
	jmp l1794
l1795:
	push "dbtxt"
	push $3
	cthis newdb
l1794:
	jmp l1792
l1793:
	new db,dbtxt
	push 0
	push 5
	call $3,getb
	spushs
	push "$var:"
	cmpst
	jne l1797
	spop $a
	push 5
	call $3,strsubb
	call dbtxt,dbcopy
	jmp l1796
l1797:
	push "$row:"
	cmpst
	jne l1798
	spop $a
	push 5
	call $3,strsubb
	spushs
	push ","
	spop $h
	call $h,strgetto
	pop $12
	push ","
	call $3,strgetfrom
	pop $13
	push 0
	pop $14
l1799:
	push $14
	push $12
	spushs
	push $13
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1800
	jmp l1802
l1801:
	add $14,1
	pop $14
	jmp l1799
l1802:
	call dbtxt,addrow
	popax
	push $14
	push $12
	spushs
	push $13
	push $14
	spop $a
	call [$a],get
	call dbtxt,add
	jmp l1801
l1800:
	jmp l1796
l1798:
	spop $a
	push $3
	call dbtxt,dbaddlast
l1796:
l1792:
	localint $15
	push 0
	pop $15
	localint $16
	call dbtxt,getrowsno
	pop $16
	new gmimgvec,grtxt
	push $7
	push $8
	call grtxt,_setpos
	push 0
	pop $14
l1803:
	push $14
	push $16
	cmpjl
	cmp0
	je l1804
	jmp l1806
l1805:
	add $14,1
	pop $14
	jmp l1803
l1806:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $12
	spushs
	spop $e
	new text,[$e]
	push $12
	spushs
	push $1
	spop $a
	call [$a],setfont
	push $12
	spushs
	push $14
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $12
	spushs
	push $7
	push $8
	spop $a
	call [$a],setpos
	push $2
	push $9
	pop $b
	popax
	add $a,$b
	popax
	add $8,$a
	pop $8
	push $12
	spushs
	push $10
	spop $a
	call [$a],setz
	push $12
	spushs
	push $4
	push $5
	push $6
	spop $a
	call [$a],createtxt
	push $12
	spushs
	spop $a
	call [$a],getw
	push $15
	cmpja
	cmp0
	je l1808
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $15
l1808:
	push $12
	call grtxt,add
	jmp l1805
l1804:
	push "Rows"
	push $16
	cthis var2
	push $11
	push "right"
	cmpje
	cmp0
	jne l1811
	push $11
	push "center"
	cmpje
	jmp l1812
l1810:
	push 0
	jmp l1812
l1811:
	push 1
l1812:
	cmp0
	je l1813
	push 0
	pop $14
l1814:
	push $14
	push $16
	cmpjl
	cmp0
	je l1815
	jmp l1817
l1816:
	add $14,1
	pop $14
	jmp l1814
l1817:
	push "txt"
	push $14
	pop $b
	popax
	add $a,$b
	pop $12
	push $11
	push "center"
	cmpje
	cmp0
	je l1819
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 0
	spop $a
	call [$a],move
	jmp l1818
l1819:
	push $12
	spushs
	push $15
	push $12
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
l1818:
	jmp l1816
l1815:
l1813:
	push "W"
	push $15
	cthis var2
	push "grtxt"
	clparent gfxObject,init
	end method
	method stdshadow
	localint $1
	pop $1
	push 0
	push 0
	push 0
	push $1
	cthis setshadow
	end method
	method setshadow
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	push sFont
	push iFontSize
	push "_fntbrd"
	cthis _checkfont
	pop $7
	localint $8
	push 0
	pop $8
l1820:
	push $8
	call dbtxt,getrowsno
	cmpjl
	cmp0
	je l1821
	jmp l1823
l1822:
	add $8,1
	pop $8
	jmp l1820
l1823:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push "txts"
	push $8
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	spushs
	spop $e
	new text,[$e]
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],get
	spop $a
	call [$a],set
	push $6
	spushs
	push $7
	spop $a
	call [$a],setfont
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getz
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setz
	push $6
	spushs
	push $5
	spushs
	spop $a
	call [$a],getpx
	push $4
	pop $b
	popax
	add $a,$b
	push $5
	spushs
	spop $a
	call [$a],getpy
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $6
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	push $6
	call grtxt,add
	jmp l1822
l1821:
	end method
	method setz
	localint $1
	pop $1
	push $1
	pop Z
	push $1
	call grtxt,setz
	end method
	method getz
	push Z
	end method
	method isin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	call grtxt,isin
	end method
	method view
	localdef $1
	pop $1
	localstring $2
l1824:
	push A
	push $1
	cmpjne
	cmp0
	je l1825
	push $1
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],show
	push "txts"
	push "txt"
	call $2,strsubbs
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l1827
	push $2
	spushs
	spop $a
	call [$a],show
l1827:
	localdef $1
	pop $1
	jmp l1824
l1825:
	end method
	method blitto
	localstring $1
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l1828:
	push $3
	call grtxt,size
	cmpjl
	cmp0
	je l1829
	jmp l1831
l1830:
	add $3,1
	pop $3
	jmp l1828
l1831:
	push $3
	call grtxt,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],buildfullname
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],blit
	push GAME
	spushs
	push $2
	spushs
	spop $a
	call [$a],getfullname
	spop $a
	call [$a],vardel
	jmp l1830
l1829:
	end method
	method setcol
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	localint $4
	push 0
	pop $4
l1832:
	push $4
	call grtxt,size
	cmpjl
	cmp0
	je l1833
	jmp l1835
l1834:
	add $4,1
	pop $4
	jmp l1832
l1835:
	push $4
	call grtxt,get
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],createtxt
	jmp l1834
l1833:
	end method
	end class

	class Lexer
	method init
	end method
	method buildlex
	push A
	push "id"
	push "found"
	cthis vars
	new vector,vconsts
	push "string"
	call vconsts,type
	new vector,vtmp1
	push "string"
	call vtmp1,type
	new vector,vtmp2
	push "string"
	call vtmp2,type
	new int,dot
	push "."
	spushs
	push 0
	spop $h
	call $h,getbyte
	pop dot
	new string,_literal_char
	push "\""
	pop _literal_char
	end method
	method setliteralchar
	localstring $1
	pop $1
	push $1
	pop _literal_char
	end method
	method getliteralchar
	push _literal_char
	end method
	method _isvar
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push id
	pop $3
	push ""
	pop found
	localint $4
l1836:
	push $3
	cthis length
	cmpjl
	cmp0
	je l1837
	push $3
	cthis getbyte
	pop $4
	push $4
	push $1
	cmpjae
	cmp0
	je l1839
	push $4
	push $2
	cmpjle
	jmp l1841
l1839:
	push 0
	jmp l1841
l1840:
	push 1
l1841:
	cmp0
	je l1842
	push $3
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $3,1
	pop $3
	jmp l1838
l1842:
	push $4
	push BYTEa
	cmpjae
	cmp0
	je l1844
	push $4
	push BYTEz
	cmpjle
	jmp l1846
l1844:
	push 0
	jmp l1846
l1845:
	push 1
l1846:
	cmp0
	jne l1848
	push $4
	push BYTEA
	cmpjae
	cmp0
	je l1849
	push $4
	push BYTEZ
	cmpjle
	jmp l1851
l1849:
	push 0
	jmp l1851
l1850:
	push 1
l1851:
	cmp0
	jne l1848
	push $4
	push BYTE_
	cmpje
	jmp l1852
l1847:
	push 0
	jmp l1852
l1848:
	push 1
l1852:
	cmp0
	je l1853
	push ""
	pop found
l1853:
	cthis length
	pop $3
l1838:
	jmp l1836
l1837:
	call found,length
	end method
	method isreal
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
	localint $3
	push 1
	pop $3
l1854:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1855
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1857
	push $2
	push BYTE9
	cmpjle
	jmp l1859
l1857:
	push 0
	jmp l1859
l1858:
	push 1
l1859:
	cmp0
	jne l1861
	push $2
	push dot
	cmpje
	cmp0
	je l1862
	push $3
	jmp l1864
l1862:
	push 0
	jmp l1864
l1863:
	push 1
l1864:
	jmp l1865
l1860:
	push 0
	jmp l1865
l1861:
	push 1
l1865:
	cmp0
	je l1866
	push $2
	push dot
	cmpje
	cmp0
	je l1868
	push 0
	pop $3
l1868:
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1856
l1866:
	cthis length
	pop $1
l1856:
	jmp l1854
l1855:
	push $3
	cmp0
	jne l1871
	push 0
	push 1
	call found,getb
	push "."
	cmpje
	cmp0
	jne l1871
	push 0
	push 1
	call found,gete
	push "."
	cmpje
	jmp l1872
l1870:
	push 0
	jmp l1872
l1871:
	push 1
l1872:
	cmp0
	je l1873
	push ""
	pop found
l1873:
	call found,length
	end method
	method isident
	localint $1
	push id
	pop $1
	push ""
	pop found
	localint $2
l1874:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1875
	push $1
	cthis getbyte
	pop $2
	push $2
	push BYTEa
	cmpjae
	cmp0
	je l1877
	push $2
	push BYTEz
	cmpjle
	jmp l1879
l1877:
	push 0
	jmp l1879
l1878:
	push 1
l1879:
	cmp0
	jne l1881
	push $2
	push BYTEA
	cmpjae
	cmp0
	je l1882
	push $2
	push BYTEZ
	cmpjle
	jmp l1884
l1882:
	push 0
	jmp l1884
l1883:
	push 1
l1884:
	cmp0
	jne l1881
	push $2
	push BYTE_
	cmpje
	cmp0
	jne l1881
	push $1
	push id
	cmpja
	cmp0
	je l1885
	push $2
	push BYTE0
	cmpjae
	cmp0
	je l1885
	push $2
	push BYTE9
	cmpjle
	jmp l1887
l1885:
	push 0
	jmp l1887
l1886:
	push 1
l1887:
	jmp l1888
l1880:
	push 0
	jmp l1888
l1881:
	push 1
l1888:
	cmp0
	je l1889
	push $1
	push 1
	cthis getb
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
	jmp l1876
l1889:
	cthis length
	pop $1
l1876:
	jmp l1874
l1875:
	call found,length
	end method
	method isliteral
	cthis check
	cthis getliteralchar
	cmpjne
	cmp0
	je l1891
	push 0
	ret
l1891:
	localint $1
	push id
	push 1
	pop $b
	popax
	add $a,$b
	pop $1
	push ""
	pop found
	localstring $2
l1892:
	push $1
	cthis length
	cmpjl
	cmp0
	je l1893
	push $1
	push 1
	cthis getb
	pop $2
	push $2
	cthis getliteralchar
	cmpje
	cmp0
	je l1895
	push 1
	ret
	jmp l1894
l1895:
	push $2
	popax
	add found,$a
	pop found
	add $1,1
	pop $1
l1894:
	jmp l1892
l1893:
	push 0
	end method
	method isconst
	localstring $1
	localint $2
	cthis isident
	pop $2
	localint $3
	push 0
	pop $3
l1896:
	push $3
	call vconsts,size
	cmpjl
	cmp0
	je l1897
	jmp l1899
l1898:
	add $3,1
	pop $3
	jmp l1896
l1899:
	push $3
	call vconsts,get
	pop $1
	push $2
	cmp0
	je l1901
	push $1
	push found
	cmpje
	cmp0
	je l1903
	push 1
	ret
l1903:
	jmp l1900
l1901:
	push id
	call $1,length
	cthis getb
	pop found
	push $1
	push found
	cmpje
	cmp0
	je l1905
	push 1
	ret
l1905:
l1900:
	jmp l1898
l1897:
	push 0
	end method
	method gettoken
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	spushs
	spop $a
	call [$a],free
l1906:
	cthis notend
	cmp0
	je l1907
	cthis check
	push " "
	cmpje
	cmp0
	je l1909
	add id,1
	pop id
	jmp l1908
l1909:
	cthis isconst
	cmp0
	je l1911
	push $1
	spushs
	push "$const"
	spop $a
	call [$a],add
	push $1
	spushs
	cthis read
	spop $a
	call [$a],add
	jmp l1910
l1911:
	cthis isreal
	cmp0
	je l1913
	push $1
	spushs
	push "$real"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1915
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1915:
	jmp l1912
l1913:
	cthis isint
	cmp0
	je l1917
	push $1
	spushs
	push "$int"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1919
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1919:
	jmp l1916
l1917:
	cthis isident
	cmp0
	je l1921
	push $1
	spushs
	push "$alpha"
	spop $a
	call [$a],add
	cthis next
	push $2
	cmp0
	je l1923
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1923:
	jmp l1920
l1921:
	cthis isliteral
	cmp0
	je l1925
	push $1
	spushs
	push "$literal"
	spop $a
	call [$a],add
	cthis next
	push 2
	popax
	add id,$a
	pop id
	push $2
	cmp0
	je l1927
	push $1
	spushs
	push found
	spop $a
	call [$a],add
l1927:
	jmp l1924
l1925:
	push $1
	spushs
	push "$error"
	spop $a
	call [$a],add
	add id,1
	pop id
l1924:
l1920:
l1916:
l1912:
l1910:
l1908:
	jmp l1906
l1907:
	end method
	method expectdb
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	localstring $4
	localint $5
	push 0
	pop $5
l1928:
	push $5
	push $1
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l1929
	jmp l1931
l1930:
	add $5,1
	pop $5
	jmp l1928
l1931:
	call vtmp2,free
	push 0
	pop $3
l1932:
	push $3
	push $1
	spushs
	push $5
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l1933
	jmp l1935
l1934:
	add $3,1
	pop $3
	jmp l1932
l1935:
	push $1
	spushs
	push $5
	push $3
	spop $a
	call [$a],get
	pop $4
	call $4,clear
	push $4
	push ""
	cmpjne
	cmp0
	je l1937
	push $4
	call vtmp2,add
l1937:
	jmp l1934
l1933:
	push "vtmp2"
	push $2
	cthis expectvec
	cmp0
	je l1939
	push $5
	ret
l1939:
	jmp l1930
l1929:
	push 1
	popax
	sub 0,$a
	end method
	method expectvec
	localstring $1
	localint $2
	pop $2
	pop $1
	push 0
	pop id
	push "vtmp1"
	push $2
	cthis gettoken
	push $1
	call vtmp1,veceq
	end method
	method expects
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	call vtmp2,vecbuildfromstring
	push "vtmp2"
	push $3
	cthis expectvec
	end method
	method consts=
	push "addbegin"
	call vconsts,withlist
	end method
	method setas
	localstring $1
	pop $1
	push $1
	spushs
	push "buildlex"
	push "buildlex"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildlex
	push $1
	spushs
	push "start"
	push "Lexer0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "notend"
	push "Lexer1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getnext"
	push "Lexer2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "next"
	push "Lexer3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "check"
	push "Lexer4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ischar"
	push "Lexer5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isint"
	push "Lexer6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isreal"
	push "isreal"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isbinary"
	push "Lexer7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isident"
	push "isident"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isconst"
	push "isconst"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "_isvar"
	push "_isvar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "read"
	push "Lexer8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "isliteral"
	push "isliteral"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettoken"
	push "gettoken"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expects"
	push "expects"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectvec"
	push "expectvec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "expectdb"
	push "expectdb"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "consts="
	push "consts="
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setliteralchar"
	push "setliteralchar"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getliteralchar"
	push "getliteralchar"
	spop $a
	call [$a],addmethod
	end method
	method Lexer0
	localstring $1
	pop $1
	push $1
	cthis set
	push 0
	pop id
	end method
	method Lexer1
	push id
	cthis length
	cmpjl
	end method
	method Lexer2
	push id
	cthis length
	cmpje
	cmp0
	je l1941
	push "null"
	ret
l1941:
	add id,1
	pop id
	push id
	push 1
	pop $b
	popax
	sub $a,$b
	push 1
	cthis getb
	end method
	method Lexer3
	call found,length
	popax
	add id,$a
	pop id
	end method
	method Lexer4
	push id
	cthis length
	cmpje
	cmp0
	je l1943
	push "null"
	ret
l1943:
	push id
	push 1
	cthis getb
	pop found
	push found
	end method
	method Lexer5
	localstring $1
	pop $1
	push id
	push 1
	cthis getb
	call $1,contains
	end method
	method Lexer6
	push BYTE0
	push BYTE9
	cthis _isvar
	end method
	method Lexer7
	push BYTE0
	push BYTE0
	push 1
	pop $b
	popax
	add $a,$b
	cthis _isvar
	end method
	method Lexer8
	cthis next
	push found
	end method
	end class

	class AnimaFx
	method init
	end method
	method build
	localstring $1
	pop $1
	push $1
	spushs
	push "_buildanfx"
	push "AnimaFx0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],_buildanfx
	push $1
	spushs
	push "onsetframe"
	push "AnimaFx1"
	spop $a
	call [$a],addmethod
	end method
	method AnimaFx0
	new db,dbsnd
	push 3
	call dbsnd,dbbuild
	localint $1
	push 0
	pop $1
l1944:
	push $1
	call dbsnd,getrowsno
	cmpjl
	cmp0
	je l1945
	jmp l1947
l1946:
	add $1,1
	pop $1
	jmp l1944
l1947:
	push $1
	push 0
	push $1
	push 0
	call dbsnd,get
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	push 1
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	call dbsnd,set
	jmp l1946
l1945:
	end method
	method AnimaFx1
	localdef $1
	cthis actionname
	push "_"
	pop $b
	popax
	add $a,$b
	cthis framenr
	pop $b
	popax
	add $a,$b
	call dbsnd,findbyrow
	pop $1
	push $1
	push 0
	cmpjae
	cmp0
	je l1949
	push "fx"
	push $1
	push 2
	call dbsnd,get
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
l1949:
	end method
	end class

	class Localize
	method init
	end method
	method _lang_db
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new db,[$e]
	push $1
	spushs
	push "load"
	push $3
	pop $b
	popax
	add $a,$b
	spushs
	push $2
	cthis lang_path
	push ".db"
	pop $b
	popax
	add $a,$b
	spop $d
	spop $a
	call [$a],[$d]
	end method
	method lang_db
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push ""
	cthis _lang_db
	end method
	method lang_dbscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "script"
	cthis _lang_db
	end method
	method lang_dbbeh
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "beh"
	cthis _lang_db
	end method
	method lang_path
	localstring $1
	pop $1
	push "lang/"
	call gameapi,getgamename
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push LANG
	pop $b
	popax
	add $a,$b
	end method
	end class

	class PyzCounter
	method init
	localstring $1
	localint $2
	pop $2
	pop $1
	new int,istart
	new int,istop
	new int,istep
	new int,idigits
	push 50
	pop idigits
	new int,iactual
	new string,_sanima
	push $1
	pop _sanima
	push A
	push "idx"
	push 2
	push "itimestep"
	push $2
	cthis vars2
	new gmimgvec,grcnt
	localint $3
	push 0
	pop $3
l1950:
	push $3
	push idigits
	cmpjl
	cmp0
	je l1951
	jmp l1953
l1952:
	add $3,1
	pop $3
	jmp l1950
l1953:
	localstring $4
	push "pcc"
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	push $1
	push $4
	cthis copyanima
	push $4
	spushs
	spop $a
	call [$a],hide
	push $4
	call grcnt,add
	jmp l1952
l1951:
	push "timcnt"
	push $2
	push "PyzCounter0"
	cthis timer=
	end method
	method PyzCounter0
	push istep
	popax
	add iactual,$a
	pop iactual
	push iactual
	cthis view
	push iactual
	push istop
	cmpje
	cmp0
	je l1955
	cthis getbuildername
	spushs
	cthis getbuildername
	push "_finish"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l1954
l1955:
	cthis play
l1954:
	end method
	method getcypher
	localint $1
	pop $1
	push "pcc"
	push _sanima
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	end method
	method start
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop istart
	push $2
	pop istop
	push $3
	pop istep
	push istart
	pop iactual
	push istart
	cthis view
	call timcnt,play
	end method
	method showcypher
	localint $1
	localint $2
	pop $2
	pop $1
	localstring $3
	push $1
	cthis getcypher
	pop $3
	push $3
	spushs
	push 0
	push $2
	spop $a
	call [$a],setframe
	push $3
	spushs
	spop $a
	call [$a],show
	end method
	method stop
	push 0
	call timcnt,stop
	end method
	method view
	localint $1
	pop $1
	call grcnt,hide
	push 0
	push 0
	call grcnt,setpos
	push $1
	push 0
	cmpje
	cmp0
	je l1957
	push 0
	push 0
	cthis showcypher
	jmp l1956
l1957:
	localint $2
	push 0
	pop $2
l1958:
	push $1
	push 0
	cmpja
	cmp0
	je l1959
	jmp l1961
l1960:
	add $2,1
	pop $2
	jmp l1958
l1961:
	push $2
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	push $d
	cthis showcypher
	push $1
	push 10
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	jmp l1960
l1959:
	localint $3
	push 0
	pop $3
	localint $4
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	pop $4
l1962:
	push $4
	push 0
	cmpjae
	cmp0
	je l1963
	jmp l1965
l1964:
	sub $4,1
	pop $4
	jmp l1962
l1965:
	push $4
	cthis getcypher
	spushs
	push $3
	push 0
	spop $a
	call [$a],move
	push $3
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	cthis getcypher
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l1964
l1963:
l1956:
	end method
	end class

	class AnMover
	method init
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	new timer,tmov
	push 1
	call tmov,settick
	push 1
	call tmov,setcycle
	new real,rdx
	push $2
	pop rdx
	new real,rdy
	push $3
	pop rdy
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	new string,sanima
	push $1
	pop sanima
	push "onfinish"
	push "AnMover0"
	call tmov,addmethod
	end method
	method AnMover0
	cthis move
	push "_finish"
	cthis builder_func
	cthis play
	end method
	method move
	push rdx
	popax
	add rsx,$a
	pop rsx
	push rdy
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l1968
	push $2
	jmp l1969
l1967:
	push 0
	jmp l1969
l1968:
	push 1
l1969:
	cmp0
	je l1970
	push sanima
	spushs
	push $1
	push $2
	spop $a
	call [$a],move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
l1970:
	end method
	method reset
	push 0
	pop rsx
	push 0
	pop rsy
	end method
	method play
	cthis reset
	call tmov,play
	end method
	method stop
	push 0
	call tmov,stop
	end method
	end class

	class SetAnMover
	method init
	end method
	method setas
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setanmover"
	push "setanmover"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setanmover
	push $1
	spushs
	push "sam_move"
	push "sam_move"
	spop $a
	call [$a],addmethod
	end method
	method setanmover
	localreal $1
	localreal $2
	pop $2
	pop $1
	new real,rdx
	push $1
	pop rdx
	new real,rdy
	push $2
	pop rdy
	new real,rsx
	push 0
	pop rsx
	new real,rsy
	push 0
	pop rsy
	push "sam_speed"
	push 1.0
	cthis var2
	end method
	method sam_move
	push rdx
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsx,$a
	pop rsx
	push rdy
	push sam_speed
	pop $b
	popax
	mul $a,$b
	popax
	add rsy,$a
	pop rsy
	localint $1
	push rsx
	pop $1
	localint $2
	push rsy
	pop $2
	push $1
	cmp0
	jne l1973
	push $2
	jmp l1974
l1972:
	push 0
	jmp l1974
l1973:
	push 1
l1974:
	cmp0
	je l1975
	push $1
	push $2
	cthis move
	push $1
	popax
	sub rsx,$a
	pop rsx
	push $2
	popax
	sub rsy,$a
	pop rsy
l1975:
	end method
	end class

	class classlives
	method init
	end method
	method set
	localint $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localint $7
	localint $8
	localint $9
	localint $10
	localint $11
	localint $12
	localint $13
	localint $14
	localstring $15
	pop $15
	pop $14
	pop $13
	pop $12
	pop $11
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	new int,iside
	push $15
	push "left"
	cmpje
	cmp0
	je l1977
	push 1
	popax
	sub 0,$a
	pop iside
	jmp l1976
l1977:
	push 1
	pop iside
l1976:
	new int,iilezyc
	push $1
	pop iilezyc
	new int,ibum
	push $2
	pop ibum
	localint $16
	push iilezyc
	push ibum
	pop $b
	popax
	mul $a,$b
	pop $16
	new int,iposxsila
	push $3
	pop iposxsila
	new int,iendxsila
	push $3
	push $16
	pop $b
	popax
	add $a,$b
	pop iendxsila
	new int,iposysila
	push $4
	pop iposysila
	push "imgsilapodkladka"
	push $16
	push $5
	push $6
	push $7
	push $8
	push $9
	push $14
	push 1
	pop $b
	popax
	sub $a,$b
	clparent newvars,newcanvas
	push "imgsila"
	push $16
	push $5
	push $10
	push $11
	push $12
	push $13
	push $14
	clparent newvars,newcanvas
	push iposxsila
	push iposysila
	call imgsila,setpos
	push iposxsila
	push 0
	call imgsila,getex
	push 600
	call imgsila,clip
	push iposxsila
	push iposysila
	call imgsilapodkladka,setpos
	end method
	method reset
	push iposxsila
	push iposysila
	call imgsila,setpos
	end method
	method damage
	localint $1
	pop $1
	push iside
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	end method
	method destroyed
	push iside
	push 0
	cmpjl
	cmp0
	je l1979
	call imgsila,getex
	push iposxsila
	cmpjl
	ret
l1979:
	call imgsila,getpx
	push iendxsila
	cmpja
	ret
	end method
	method heal
	localint $1
	pop $1
	push iside
	popax
	sub 0,$a
	push $1
	pop $b
	popax
	mul $a,$b
	push ibum
	pop $b
	popax
	mul $a,$b
	push 0
	call imgsila,move
	push iside
	push 0
	cmpja
	cmp0
	je l1981
	call imgsila,getpx
	push iposxsila
	cmpjl
	cmp0
	je l1983
	push iposxsila
	push iposysila
	call imgsila,setpos
l1983:
	jmp l1980
l1981:
	call imgsila,getpx
	push iposxsila
	cmpja
	cmp0
	je l1985
	push iposxsila
	push iposysila
	call imgsila,setpos
l1985:
l1980:
	end method
	end class

	module advmouse
	method init
	new anima,anmsc
	end method
	method load
	localstring $1
	pop $1
	push $1
	call anmsc,load
	call anmsc,hide
	end method
	method set
	localstring $1
	pop $1
	call anmsc,show
	push $1
	push 0
	call anmsc,setframe
	push "anmsc"
	call mouse,setcursor
	call anmsc,hide
	end method
	method setstd
	push "normal"
	cthis set
	end method
	method setactive
	push "active"
	cthis set
	end method
	method setact
	push "active"
	cthis set
	end method
	method setbut
	push "active"
	cthis set
	end method
	method setexit
	push "exit"
	cthis set
	end method
	method setwait
	push "wait"
	cthis set
	end method
	method get
	call anmsc,actionname
	ret
	end method
	end module

	class classadvobject
	method init
	cthis addasadvobject
	end method
	method addasadvobject
	push AdventureGame
	neg
	cmp0
	je l1987
	ret
l1987:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,addonce
	push $1
	call grmslrel,addonce
	push $1
	call grmslclick,addonce
	push $1
	call grmsrclick,addonce
	end method
	method removefromadvobjs
	push AdventureGame
	neg
	cmp0
	je l1989
	ret
l1989:
	localstring $1
	cthis getname
	pop $1
	push $1
	call grmsmove,remove
	push $1
	call grmslrel,remove
	push $1
	call grmslclick,remove
	push $1
	call grmsrclick,remove
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouselrel
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	end class

	class classadvanhero
	method init
	end method
	method setashero
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "buildhero"
	push "buildhero"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onendframe"
	push "heroendframe1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	spop $a
	call [$a],buildhero
	push $1
	spushs
	push "buildheroframe"
	push "buildheroframe"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "onfinish"
	push "herofinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getdir"
	push "getdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setdir"
	push "setdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "thisfinish"
	push "thisfinish"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec"
	push "playspec"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "playspec2"
	push "playspec2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostop"
	push "herostop"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostart"
	push "herostart"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "herostand"
	push "herostand"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstdfin"
	push "setstdfin"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "getpocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "haspocket"
	push "haspocket"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setstandbase"
	push "setstandbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	spop $a
	call [$a],setstdfin
	end method
	method buildheroframe
	localstring $1
	pop $1
	push $1
	spushs
	push "onendframe"
	push "heroendframe"
	spop $a
	call [$a],addmethod
	end method
	method setstdfin
	localstring $1
	pop $1
	push "onstdfinish"
	push $1
	cthis addmethod
	end method
	method setstandbase
	localstring $1
	pop $1
	push $1
	pop _sstandbase
	end method
	method buildhero
	new string,_sbase
	new int,_istate
	push 0
	pop _istate
	new string,_sfinfun
	new string,_sobfin
	new int,_bplaystop
	new int,_iiloscsek
	new int,_itypsort
	new int,idsort
	new string,_sobstart
	new string,_sfunfinstart
	new int,bthisfin
	push 0
	pop bthisfin
	new string,_sstandbase
	push "stand"
	pop _sstandbase
	end method
	method getpocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	ret
	end method
	method haspocket
	push _spocketpref
	cthis getname
	pop $b
	popax
	add $a,$b
	call engine,varexist
	ret
	end method
	method thisfinish
	localint $1
	pop $1
	push $1
	pop bthisfin
	end method
	method getdir
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	ret
	end method
	method setdir
	localstring $1
	pop $1
	cthis actionname
	spushs
	push 2
	spop $h
	call $h,strsube
	push $1
	pop $b
	popax
	add $a,$b
	cthis framenr
	cthis setframe
	end method
	method playspec
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localstring $8
	localstring $9
	localstring $10
	pop $10
	pop $9
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop _sbase
	push $2
	pop _iiloscsek
	push $3
	pop _itypsort
	push $7
	pop _bplaystop
	push $8
	pop _sobfin
	push $9
	pop _sfinfun
	push $5
	pop _sobstart
	push $6
	pop _sfunfinstart
	push $2
	push 0
	cmpja
	cmp0
	je l1991
	push $3
	push 0
	cmpje
	cmp0
	je l1993
	push 1
	pop idsort
	jmp l1992
l1993:
	push $3
	push 1
	cmpje
	cmp0
	je l1995
	call $2,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l1995:
l1992:
l1991:
	push $4
	cmp0
	je l1997
	push 1
	pop _istate
	push $1
	push "start"
	pop $b
	popax
	add $a,$b
	push $10
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l1996
l1997:
	push $1
	push $2
	push 0
	cmpja
	cmp0
	je l1999
	push "1"
	push $10
	pop $b
	popax
	add $a,$b
	jmp l1998
l1999:
	push $10
l1998:
	pop $b
	popax
	add $a,$b
	push 0
	cthis setframe
	cthis herostart
l1996:
	end method
	method playspec2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	localstring $4
	call $1,length
	push 2
	cmpjl
	cmp0
	je l2001
	push ""
	jmp l2000
l2001:
	push 2
	call $1,strsube
l2000:
	pop $4
	push $4
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push $2
	push $3
	push 0
	push 2
	call $1,gete
	cthis playspec
	end method
	method herostop
	push 3
	pop _istate
	push _bplaystop
	cmp0
	je l2003
	push 0
	pop _bplaystop
	push 1
	cthis thisfinish
	push _sbase
	push "stop"
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l2002
l2003:
	push 1
	cthis stop
l2002:
	end method
	method herostart
	push 2
	pop _istate
	push _sbase
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l2005
	push idsort
	jmp l2004
l2005:
	push ""
l2004:
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	cthis play
	end method
	method herofinish
	push _istate
	push 2
	cmpje
	cmp0
	je l2007
	push bthisfin
	jmp l2009
l2007:
	push 0
	jmp l2009
l2008:
	push 1
l2009:
	cmp0
	je l2010
	push 3
	pop _istate
l2010:
	push _istate
	push 0
	cmpje
	cmp0
	je l2012
	cthis herostand
	cthis onstdfinish
	localstring $1
	cthis getname
	pop $1
	localstring $2
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $2
	push $1
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $1
	push "_ACTION_"
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	jmp l2011
l2012:
	push _istate
	push 1
	cmpje
	cmp0
	je l2014
	cthis herostart
	push _sobstart
	push _sfunfinstart
	cthis callfun
	jmp l2013
l2014:
	push _istate
	push 2
	cmpje
	cmp0
	je l2016
	localstring $3
	push _iiloscsek
	push 0
	cmpja
	cmp0
	je l2018
	push _itypsort
	push 0
	cmpje
	cmp0
	je l2020
	push idsort
	push _iiloscsek
	pop $b
	popax
	div $a,$b
	push $d
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
	jmp l2019
l2020:
	push _itypsort
	push 1
	cmpje
	cmp0
	je l2022
	call _iiloscsek,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop idsort
l2022:
l2019:
	push _sbase
	push idsort
	pop $b
	popax
	add $a,$b
	cthis getdir
	pop $b
	popax
	add $a,$b
	pop $3
	jmp l2017
l2018:
	cthis actionname
	pop $3
l2017:
	push $3
	cthis play
	jmp l2015
l2016:
	push _istate
	push 3
	cmpje
	cmp0
	je l2024
	push 0
	pop _istate
	cthis herostand
	push 1
	cthis thisfinish
	push _sobfin
	push _sfinfun
	cthis callfun
l2024:
l2015:
l2013:
l2011:
	end method
	method herostand
	localstring $1
	push _sstndpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2026
	push _sstandbase
	cthis actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	pop $b
	popax
	add $a,$b
	cthis play
	push $1
	spushs
	spop $a
	call [$a],play
l2026:
	end method
	method heroendframe1
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method heroendframe
	cthis getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	cthis setz
	cthis haspocket
	cmp0
	je l2028
	cthis getpocket
	spushs
	cthis getposx
	cthis getposy
	cthis geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],pocketpos
l2028:
	cthis getname
	push "_ENDFRAME"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class classadvhero
	method init
	new string,_sanim
	new int,_bisvecile
	push 0
	pop _bisvecile
	new string,_sbase
	push "null"
	pop _sbase
	new string,_sbase2
	push "null"
	pop _sbase2
	new int,izakres
	push 0
	pop izakres
	new string,_sbs2
	new string,_sbutoper
	new string,_smetpart
	new string,_simgbut
	new string,_sptfname
	cthis getname
	pop _sptfname
	end method
	method getptfname
	push _sptfname
	ret
	end method
	method link
	localstring $1
	pop $1
	push $1
	pop _sanim
	end method
	method link2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	cthis checkamounts
	end method
	method anstand
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method ansay
	push _sanim
	spushs
	push "talk"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	end method
	method getdir
	push _sanim
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 2
	spop $h
	call $h,gete
	end method
	method nofpieces
	cthis getdir
	cthis nofpiecesdir
	ret
	end method
	method nofpiecesdir
	localstring $1
	pop $1
	push _bisvecile
	cmp0
	je l2030
	push $1
	call vecdirs,find
	call vecile,get
	jmp l2029
l2030:
	push 0
l2029:
	ret
	end method
	method setbase2
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbase
	push $2
	pop _sbase2
	end method
	method setbase
	localstring $1
	pop $1
	push $1
	pop _sbase
	call $1,length
	pop izakres
	end method
	method getpropdir
	localstring $1
	pop $1
	push $1
	push "auto"
	cmpje
	cmp0
	je l2032
	cthis getdir
	jmp l2031
l2032:
	push $1
l2031:
	ret
	end method
	method _buildamounts
	push _bisvecile
	neg
	cmp0
	je l2034
	push 1
	pop _bisvecile
	new vector,vecdirs
	push "string"
	call vecdirs,type
	push "begin"
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call vecdirs,beginadd
	new vector,vecile
l2034:
	end method
	method _clearvecile
	call vecile,free
	push 8
	push 0
	call vecile,resize
	end method
	method checkamounts
	localstring $1
	pop $1
	push $1
	cthis setbase
	cthis _buildamounts
	cthis _clearvecile
	push _sanim
	push "null"
	cmpje
	cmp0
	je l2036
	ret
l2036:
	localint $2
	push _sanim
	spushs
	spop $a
	call [$a],nofactions
	pop $2
	localstring $3
	localint $4
	localint $5
	push 0
	pop $5
l2037:
	push $5
	push $2
	cmpjl
	cmp0
	je l2038
	jmp l2040
l2039:
	add $5,1
	pop $5
	jmp l2037
l2040:
	push _sanim
	spushs
	push $5
	spop $a
	call [$a],nameofaction
	pop $3
	push 0
	push izakres
	call $3,getb
	push $1
	cmpje
	cmp0
	je l2042
	push izakres
	push 10
	call $3,getb
	pop $4
	push $4
	push 0
	cmpja
	cmp0
	je l2044
	push 0
	push 2
	call $3,gete
	call vecdirs,find
	call vecile,vecinc
l2044:
l2042:
	jmp l2039
l2038:
	end method
	method getanim
	push _sanim
	end method
	method calllastfun
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	push _simgbut
	spushs
	spop $a
	call [$a],checkonce
	end method
	method _calllastfunfin
	cthis calllastfunfin
	cthis advmsunlock
	end method
	method calllastfunfin
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method getcallfin
	push _sanim
	push _smetpart
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	ret
	end method
	method _cplay
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis advmslock
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push $1
	push "null"
	cmpje
	cmp0
	je l2046
	push _sanim
	spushs
	push $3
	cthis getpropdir
	spop $a
	call [$a],setdir
	push $2
	push "null"
	cmpjne
	cmp0
	je l2048
	push $2
	spushs
	spop $d
	cthis [$d]
l2048:
	jmp l2045
l2046:
	push _sanim
	spushs
	push $1
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	cthis getname
	push $2
	push $3
	cthis getpropdir
	spop $a
	call [$a],playspec
l2045:
	end method
	method _cplay1
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "_cplay1_2"
	push $2
	cthis _cplay
	end method
	method _cplay1_2
	cthis calllastfun
	cthis _callbehs
	end method
	method _callbehs
	cthis advmsunlock
	cthis callbehs
	end method
	method callbehs
	localstring $1
	cthis getcallfin
	pop $1
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2050
	push "beh_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis getname
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2049
l2050:
	cthis _calllastfunfin
l2049:
	end method
	method _cplay2_2
	cthis calllastfun
	push _sbs2
	push "_callbehs"
	cthis getdir
	cthis _cplay
	end method
	method _cplay2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sbs2
	push $1
	push "_cplay2_2"
	push $3
	cthis _cplay
	end method
	method no_turn
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push _sanim
	pop $b
	popax
	add $a,$b
	pop $2
	localstring $3
	push _simgbut
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	pop $3
	push $2
	call engine,varexist
	cmp0
	je l2052
	cthis getdir
	push $3
	cmpjne
	jmp l2054
l2052:
	push 0
	jmp l2054
l2053:
	push 1
l2054:
	cmp0
	je l2055
	push $2
	spushs
	push $3
	cthis getname
	push $1
	spop $a
	call [$a],heroturn
	push 0
	jmp l2051
l2055:
	push 1
l2051:
	end method
	method _heroplay1
	push _simgbut
	cthis heroplay1
	end method
	method _heroplay2
	push _simgbut
	cthis heroplay2
	end method
	method heroplay1
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay1"
	cthis no_turn
	cmp0
	je l2057
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay1
l2057:
	end method
	method heroplay2
	localstring $1
	pop $1
	push $1
	pop _simgbut
	push "_heroplay2"
	cthis no_turn
	cmp0
	je l2059
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $1
	spushs
	spop $a
	call [$a],getbase1
	push $1
	spushs
	spop $a
	call [$a],getbase2
	push $1
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
l2059:
	end method
	method _setbase2
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	push $1
	push 2
	call modadv,get
	cthis setbase2
	end method
	method _setbase
	localstring $1
	pop $1
	push $1
	push 1
	call modadv,get
	cthis setbase
	end method
	method heroplay3
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $1
	spushs
	push $2
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	push $1
	cthis heroplay2
	end method
	end class

	new snd,_fxtakeitem
	class classherotaker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_PICKUP_"
	pop _smetpart
	end method
	method herotake
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method calllastfun
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2061
	call _fxtakeitem,play
	push _simgbut
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l2063
	push _simgbut
	spushs
	spop $a
	call [$a],hide
	jmp l2062
l2063:
	push _simgbut
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l2062:
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push _sbutoper
	push _simgbut
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
l2061:
	clparent classadvhero,calllastfun
	end method
	end class

	class classherolooker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "_OPERATE_"
	pop _smetpart
	end method
	method herolook
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method herooperate
	localstring $1
	pop $1
	push $1
	cthis heroplay2
	end method
	method heroopendoor
	localstring $1
	pop $1
	push $1
	push "open:"
	cthis heroplay3
	end method
	method heroclosedoor
	localstring $1
	pop $1
	push $1
	push "close:"
	cthis heroplay3
	end method
	end class

	class classherouser
	parent classadvhero
	method init
	clparent classadvhero,init
	new string,_stool
	end method
	method herouse
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stool
	push "_USE_"
	push _stool
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	pop _smetpart
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],itemhide
	push $2
	pop _simgbut
	push $2
	spushs
	spop $a
	call [$a],getbutname
	pop _sbutoper
	push $2
	spushs
	spop $a
	call [$a],baseuse1
	push $2
	spushs
	spop $a
	call [$a],baseuse2
	push $2
	spushs
	spop $a
	call [$a],getbutdir
	cthis getpropdir
	cthis _cplay2
	end method
	method calllastfun
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	spushs
	spop $d
	cthis [$d]
	end method
	method calllastfunfin
	push _sanim
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis getcallfin
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method callbehs
	localstring $1
	cthis getname
	pop $1
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2065
	push "beh_"
	cthis getcallfin
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2064
l2065:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2067
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_ON_"
	pop $b
	popax
	add $a,$b
	push _sbutoper
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2066
l2067:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2069
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _stool
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2068
l2069:
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	je l2071
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE"
	pop $b
	popax
	add $a,$b
	push $1
	push "_calllastfunfin"
	cthis playbehobfin
	jmp l2070
l2071:
	cthis _calllastfunfin
l2070:
l2068:
l2066:
l2064:
	end method
	end class

	class classpathf
	parent classadvhero
	method init
	clparent classadvhero,init
	new path,ptf
	new string,swalkto
	push "null"
	pop swalkto
	new string,_sfunnopath
	push "null"
	pop _sfunnopath
	new string,_sfunvisit
	push "null"
	pop _sfunvisit
	new int,destx
	new int,desty
	new int,bzmien
	push 0
	pop bzmien
	new int,bzatrzym
	push 0
	pop bzatrzym
	new string,_sitem
	push "null"
	pop _sitem
	new string,_sobzmien
	push "null"
	pop _sobzmien
	new string,_sfunzmien
	push "null"
	pop _sfunzmien
	new int,_istep
	new int,_itmpspeed
	push A
	push "ispathto"
	push 1
	cthis vars2
	push "onfinish"
	push "_cptffin"
	call ptf,addmethod
	push "onvisit"
	push "_cptvisit"
	call ptf,addmethod
	push "_cptfstdreach"
	push "_cptfstdarrive"
	cthis addsigs
	push "go:"
	cthis _setbase
	end method
	method _buildan
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	push $1
	cthis link
	end method
	method build
	localstring $1
	localstring $2
	localint $3
	localint $4
	localint $5
	localint $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $5
	pop _istep
	push $2
	push $3
	push $4
	push $5
	push $6
	call ptf,build
	push $1
	cthis _buildan
	end method
	method buildfrom
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $3
	pop _istep
	push $2
	push $3
	call ptf,copy
	push $1
	cthis _buildan
	end method
	method addsigs
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2073
	push "onreach"
	push $1
	call ptf,addmethod
l2073:
	push $2
	push "null"
	cmpjne
	cmp0
	je l2075
	push "onarrive"
	push $2
	call ptf,addmethod
l2075:
	end method
	method sigonnopath
	localstring $1
	pop $1
	push $1
	pop _sfunnopath
	end method
	method sigonvisit
	localstring $1
	pop $1
	push $1
	pop _sfunvisit
	end method
	method _cptfstdreach
	localstring $1
	pop $1
	end method
	method _cptfstdarrive
	end method
	method move
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,move
	end method
	method setpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,setpos
	end method
	method show
	call ptf,show
	end method
	method hide
	call ptf,hide
	end method
	method enable
	localint $1
	pop $1
	push $1
	call ptf,enable
	end method
	method disable
	localint $1
	pop $1
	push $1
	call ptf,disable
	end method
	method setanstep
	localint $1
	pop $1
	push $1
	pop _istep
	push $1
	call ptf,setanstep
	end method
	method mulspeed
	localint $1
	pop $1
	push $1
	push _istep
	pop $b
	popax
	mul $a,$b
	pop _itmpspeed
	push _itmpspeed
	call ptf,setanstep
	end method
	method retstep
	push _istep
	cthis setanstep
	end method
	method getanstep
	push _istep
	ret
	end method
	method getposx
	call ptf,getposx
	ret
	end method
	method getposy
	call ptf,getposy
	ret
	end method
	method getpx
	call ptf,getpx
	ret
	end method
	method getpy
	call ptf,getpy
	ret
	end method
	method getidan
	call ptf,getidan
	ret
	end method
	method getidan2
	call ptf,getidan2
	ret
	end method
	method getidgo
	call ptf,getidgo
	ret
	end method
	method getidanpath
	call ptf,getidanpath
	ret
	end method
	method getidan2path
	call ptf,getidan2path
	ret
	end method
	method getidgopath
	call ptf,getidgopath
	ret
	end method
	method excludev
	localint $1
	pop $1
	push $1
	call ptf,excludev
	end method
	method linkfilter
	call ptf,linkfilter
	end method
	method unlinkfilter
	call ptf,unlinkfilter
	end method
	method unlinkanima
	call ptf,unlinkanima
	end method
	method linkanima
	localstring $1
	pop $1
	push $1
	call ptf,linkanima
	end method
	method setscalepower
	localreal $1
	pop $1
	push $1
	call ptf,setscalepower
	end method
	method setzsize
	localreal $1
	pop $1
	push $1
	call ptf,setzsize
	end method
	method iswayto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,iswayto
	ret
	end method
	method scalean
	call ptf,scalean
	end method
	method getfromver
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	call ptf,getfromver
	ret
	end method
	method getgover
	localint $1
	pop $1
	push $1
	call ptf,getgover
	ret
	end method
	method getanver
	localint $1
	pop $1
	push $1
	call ptf,getanver
	ret
	end method
	method getxver
	localint $1
	pop $1
	push $1
	call ptf,getxver
	ret
	end method
	method getyver
	localint $1
	pop $1
	push $1
	call ptf,getyver
	ret
	end method
	method getbyname
	localint $1
	pop $1
	push $1
	call ptf,getbyname
	ret
	end method
	method walkbase
	localstring $1
	pop $1
	push $1
	call ptf,setbase
	end method
	method letturn
	localint $1
	pop $1
	push $1
	call ptf,letturn
	end method
	method canturn
	call ptf,canturn
	end method
	method vecdir
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,vecdir
	end method
	method ptfgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,goto
	end method
	method setmovetype
	localint $1
	pop $1
	push $1
	call ptf,setmovetype
	end method
	method walkto2
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $2
	push $3
	cthis cangoto
	cmp0
	je l2077
	push $2
	push $3
	call ptf,goto
	pop $2
	jmp l2076
l2077:
	push _sfunnopath
	push "null"
	cmpjne
	cmp0
	je l2079
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
l2079:
l2076:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop swalkto
	push $1
	push "null"
	cmpje
	cthis letturn
	cthis iswalking
	cmp0
	je l2081
	push $2
	push $3
	call ptf,iswayto
	cmp0
	je l2083
	push 1
	pop bzmien
	push $2
	pop destx
	push $3
	pop desty
	push 0
	ret
	jmp l2082
l2083:
	push 1
	pop bzatrzym
	push 1
	popax
	sub 0,$a
	ret
l2082:
	jmp l2080
l2081:
	push $2
	push $3
	call ptf,goto
	ret
l2080:
	end method
	method iswaytover
	localint $1
	pop $1
	push slastpathf
	spushs
	push $1
	spop $a
	call [$a],getbyname
	pop $1
	push $1
	cthis getxver
	cthis getposx
	pop $b
	popax
	sub $a,$b
	push $1
	cthis getyver
	cthis getposy
	pop $b
	popax
	sub $a,$b
	call ptf,iswayto
	end method
	method length
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,length
	end method
	method lengthver
	localint $1
	pop $1
	push slastpathf
	spushs
	push $1
	spop $a
	call [$a],getbyname
	pop $1
	push $1
	cthis getxver
	cthis getposx
	pop $b
	popax
	sub $a,$b
	push $1
	cthis getyver
	cthis getposy
	pop $b
	popax
	sub $a,$b
	cthis length
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	ret
	end method
	method gotorel
	localint $1
	localint $2
	pop $2
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],getpx
	push $1
	pop $b
	popax
	add $a,$b
	push _sanim
	spushs
	spop $a
	call [$a],getey
	push $2
	pop $b
	popax
	add $a,$b
	cthis goto
	ret
	end method
	method turn
	localstring $1
	pop $1
	push $1
	call ptf,turn
	end method
	method iswalking
	call ptf,iswalking
	ret
	end method
	method stand
	call ptf,stand
	end method
	method stop
	localint $1
	pop $1
	push $1
	call ptf,stop
	end method
	method getidpath
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call ptf,getidpath
	ret
	end method
	method cangoto
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	call ptf,getidpath
	pop $3
	push $3
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2085
	push 0
	jmp l2084
l2085:
	push $3
	call ptf,isenabled
l2084:
	ret
	end method
	method _cptfreachpocket
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachbut
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herolook
	end method
	method _cptfreachdoors
	cthis getptfname
	push "look"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herooperate
	end method
	method _cptfreachitem
	cthis getptfname
	push "take"
	pop $b
	popax
	add $a,$b
	spushs
	push swalkto
	spop $a
	call [$a],herotake
	end method
	method _cptfherofin
	cthis herostand
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2087
	push _sanim
	push "_REACH_"
	pop $b
	popax
	add $a,$b
	push swalkto
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push _sanim
	cthis ismainhero
	cmp0
	je l2089
	localstring $1
	push "null"
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],haspocket
	cmp0
	je l2091
	push _sanim
	spushs
	spop $a
	call [$a],getpocket
	spushs
	spop $a
	call [$a],getitem
	pop $1
l2091:
	push $1
	push "null"
	cmpjne
	cmp0
	je l2093
	cthis getptfname
	push "use"
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push swalkto
	spop $a
	call [$a],herouse
	jmp l2092
l2093:
	push "_cptfreach"
	push swalkto
	spushs
	spop $a
	call [$a],gettyp
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
l2092:
l2089:
	push "null"
	pop swalkto
	jmp l2086
l2087:
	push _sanim
	push "_ARRIVE"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	cthis _cptheroendpath
l2086:
	end method
	method sigonzmien
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _sobzmien
	push $2
	pop _sfunzmien
	end method
	method _cptheroendpath
	push _sfinob
	push _sfinfun
	cthis callfun
	push _bylfin
	cmp0
	je l2095
	push 0
	pop _bylfin
	jmp l2094
l2095:
	push "null"
	pop _sfinfun
	push "null"
	pop _sfinob
l2094:
	end method
	method _cptfnopath
	push _sanim
	push "_NOPATH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _cptfvisit
	push _sanim
	push "_VISIT"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method prepareforhero
	push "onfinish"
	push "_cptfherofin"
	call ptf,addmethod
	new string,_sfinob
	new string,_sfinfun
	new int,_bylfin
	push "_cptfnopath"
	cthis sigonnopath
	push "_cptfvisit"
	cthis sigonvisit
	end method
	method herowalkto2
	localint $1
	localint $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	push $3
	push $4
	cthis herowalkto
	end method
	method herowalkto
	localstring $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sstndpref
	push _sanim
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],stop
	push $4
	pop _sfinob
	push $5
	pop _sfinfun
	push $5
	push "null"
	cmpjne
	cmp0
	je l2097
	push 1
	pop _bylfin
l2097:
	push $1
	push $2
	push $3
	cthis walkto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2099
	push 0
	pop ispathto
	jmp l2098
l2099:
	push 1
	pop ispathto
l2098:
	end method
	method heroturn
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $2
	pop _sfinob
	push $3
	pop _sfinfun
	push $3
	push "null"
	cmpjne
	cmp0
	je l2101
	push 1
	pop _bylfin
l2101:
	push $1
	cthis turn
	end method
	method advgoto
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push "null"
	push "null"
	cthis herowalkto2
	end method
	method advwalkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push "null"
	push "null"
	cthis herowalkto
	end method
	method advvisit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2103
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis advwalkto
l2103:
	end method
	method herostand
	cthis retstep
	cthis stand
	push _sanim
	spushs
	spop $a
	call [$a],herostand
	end method
	method stophero
	cthis herostand
	push 1
	pop bzatrzym
	end method
	method _cptvisit
	push _sfunvisit
	spushs
	spop $d
	cthis [$d]
	push bzmien
	cmp0
	je l2105
	push 0
	pop bzmien
	push destx
	push desty
	cthis goto
	push 1
	popax
	sub 0,$a
	cmpje
	cmp0
	je l2107
	push _sfunnopath
	spushs
	spop $d
	cthis [$d]
	jmp l2106
l2107:
	push _sobzmien
	push _sfunzmien
	cthis callfun
l2106:
	jmp l2104
l2105:
	push bzatrzym
	cmp0
	je l2109
	push 0
	pop bzatrzym
	push 1
	cthis stop
l2109:
l2104:
	end method
	method _cptffin
	push swalkto
	push "null"
	cmpjne
	cmp0
	je l2111
	push swalkto
	call ptf,onreach
	push "null"
	pop swalkto
	jmp l2110
l2111:
	call ptf,onarrive
l2110:
	end method
	method anposx
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	end method
	method anposy
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	end method
	method bzmien
	push bzmien
	end method
	method bzmien=
	localint $1
	pop $1
	push $1
	pop bzmien
	end method
	method checkreach
	localstring $1
	pop $1
	push ispathto
	neg
	cmp0
	je l2113
	push $1
	push "null"
	cmpjne
	cmp0
	je l2113
	cthis behplaying
	neg
	jmp l2115
l2113:
	push 0
	jmp l2115
l2114:
	push 1
l2115:
	cmp0
	je l2116
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_NOPATH_"
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l2116:
	end method
	end class

	class classwalkerqueue
	method init
	new timer,timwq
	push 1
	call timwq,settick
	push 1
	call timwq,setcycle
	push "onfinish"
	push "_timwqfin"
	call timwq,addmethod
	new vector,vecpt
	push "string"
	call vecpt,type
	new int,iverlen
	push 1
	pop iverlen
	new int,igox
	new int,igoy
	new string,_simg
	new int,bniezmien
	push 1
	pop bniezmien
	end method
	method _timwqfin
	cthis checkqueue
	cthis play
	end method
	method start
	end method
	method ptpos
	localstring $1
	pop $1
	push $1
	call vecpt,find
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push $1
	cthis ptpos
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2118
	push $2
	push 0
	cmpje
	cmp0
	je l2120
	call vecpt,first
	spushs
	push "null"
	push "null"
	spop $a
	call [$a],sigonzmien
	push 0
	call vecpt,removeat
	call vecpt,size
	cmp0
	je l2122
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2122:
	jmp l2119
l2120:
	push $2
	call vecpt,removeat
l2119:
l2118:
	end method
	method stop
	push 0
	call timwq,stop
	end method
	method add
	localstring $1
	pop $1
	push $1
	spushs
	push $1
	spushs
	spop $a
	call [$a],anposx
	push $1
	spushs
	spop $a
	call [$a],anposy
	spop $a
	call [$a],iswayto
	popax
	push $1
	call vecpt,add
	call vecpt,size
	push 1
	cmpje
	cmp0
	je l2124
	call vecpt,first
	spushs
	cthis getname
	push "ptzmien"
	spop $a
	call [$a],sigonzmien
l2124:
	end method
	method ptzmien
	push 0
	pop bniezmien
	push _simg
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis walkto
	call vecpt,first
	spushs
	push 0
	spop $a
	call [$a],bzmien=
	push 1
	pop bniezmien
	end method
	method goto
	localint $1
	localint $2
	pop $2
	pop $1
	push "null"
	push $1
	push $2
	cthis walkto
	end method
	method visit
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],reachable
	cmp0
	je l2126
	call vecpt,first
	push "_WALKTO_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	push $1
	push $1
	spushs
	spop $a
	call [$a],getgox
	push $1
	spushs
	spop $a
	call [$a],getgoy
	cthis walkto
l2126:
	end method
	method setverlen
	localint $1
	pop $1
	push $1
	pop iverlen
	end method
	method stand
	localint $1
	push 0
	pop $1
l2127:
	push $1
	call vecpt,size
	cmpjl
	cmp0
	je l2128
	jmp l2130
l2129:
	add $1,1
	pop $1
	jmp l2127
l2130:
	push $1
	call vecpt,get
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	call vecpt,get
	spushs
	spop $a
	call [$a],herostand
	jmp l2129
l2128:
	end method
	method mulspeed
	localint $1
	pop $1
	localint $2
	push 0
	pop $2
l2131:
	push $2
	call vecpt,size
	cmpjl
	cmp0
	je l2132
	jmp l2134
l2133:
	add $2,1
	pop $2
	jmp l2131
l2134:
	push $2
	call vecpt,get
	spushs
	push $1
	spop $a
	call [$a],mulspeed
	jmp l2133
l2132:
	end method
	method walkto
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $2
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop igox
	push $3
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop igoy
	push $1
	pop _simg
	push 1
	pop iverlen
	localint $4
	call vecpt,size
	pop $4
	push $4
	push 0
	cmpjle
	cmp0
	je l2136
	ret
l2136:
	localstring $5
	call vecpt,first
	pop $5
	push $5
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	localint $6
	localint $7
	localstring $8
	localint $9
	push 1
	pop $9
l2137:
	push $9
	push $4
	cmpjl
	cmp0
	je l2138
	jmp l2140
l2139:
	add $9,1
	pop $9
	jmp l2137
l2140:
	push $9
	call vecpt,get
	pop $8
	push $5
	spushs
	spop $a
	call [$a],getidgo
	pop $7
	push bniezmien
	cmp0
	je l2142
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	jmp l2141
l2142:
	push $8
	spushs
	push $1
	push $2
	push $3
	spop $a
	call [$a],advwalkto
	push $8
	spushs
	push $9
	push iverlen
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],getgover
	pop $6
l2141:
	push $6
	push 0
	cmpjl
	cmp0
	je l2144
	push $5
	spushs
	push iverlen
	spop $a
	call [$a],getgover
	pop $6
	push $6
	push 0
	cmpjl
	cmp0
	je l2146
	push $5
	spushs
	spop $a
	call [$a],getidan
	pop $6
l2146:
l2144:
	push $6
	push $7
	cmpje
	cmp0
	je l2148
	push bniezmien
	jmp l2150
l2148:
	push 0
	jmp l2150
l2149:
	push 1
l2150:
	cmp0
	je l2151
	push 1
	popax
	sub 0,$a
	pop $6
l2151:
	push $8
	pop $5
	push $6
	push 0
	cmpjae
	cmp0
	je l2153
	push $8
	spushs
	push "null"
	push $8
	spushs
	push $6
	spop $a
	call [$a],getxver
	push $8
	spushs
	push $6
	spop $a
	call [$a],getyver
	spop $a
	call [$a],advwalkto
	jmp l2152
l2153:
	push $8
	spushs
	push 0
	spop $a
	call [$a],stop
	push $8
	spushs
	spop $a
	call [$a],herostand
l2152:
	jmp l2139
l2138:
	push $5
	spushs
	push $1
	spop $a
	call [$a],checkreach
	end method
	method checkqueue
	localint $1
	call vecpt,size
	pop $1
	push $1
	push 1
	cmpjle
	cmp0
	je l2155
	ret
l2155:
	localint $2
	localstring $3
	localstring $4
	localint $5
	localint $6
	localint $7
	push 0
	pop $7
l2156:
	push $7
	push $1
	cmpjl
	cmp0
	je l2157
	jmp l2159
l2158:
	add $7,1
	pop $7
	jmp l2156
l2159:
	push $7
	call vecpt,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2161
	push $3
	spushs
	spop $a
	call [$a],getidan
	pop $5
	push $3
	spushs
	spop $a
	call [$a],getidan2
	pop $6
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $2
l2162:
	push $2
	push $1
	cmpjl
	cmp0
	je l2163
	jmp l2165
l2164:
	add $2,1
	pop $2
	jmp l2162
l2165:
	push $2
	call vecpt,get
	pop $4
	push $4
	spushs
	spop $a
	call [$a],iswalking
	cmp0
	je l2167
	push $4
	spushs
	push $5
	spop $a
	call [$a],excludev
	push $4
	spushs
	push $6
	spop $a
	call [$a],excludev
l2167:
	jmp l2164
l2163:
l2161:
	jmp l2158
l2157:
	end method
	end class

	class classstndgroup
	method init
	new gmobjvec,grstnd
	end method
	method pause
	push "lock"
	call grstnd,eval
	cthis stop
	end method
	method resume
	push igmstate
	push 0
	cmpje
	cmp0
	je l2169
	push "unlock"
	call grstnd,eval
	cthis play
l2169:
	end method
	method add
	localstring $1
	pop $1
	push $1
	call grstnd,add
	end method
	method remove
	localstring $1
	pop $1
	push $1
	call grstnd,remove
	end method
	method stop
	push "stop"
	call grstnd,eval
	end method
	method play
	push "play"
	call grstnd,eval
	end method
	method reset
	push "reset"
	call grstnd,eval
	end method
	end class

	class classadvstander
	parent classlocker
	method init
	clparent classlocker,init
	new timer,timstand
	push 1
	call timstand,settick
	new int,_i_idle
	push 12000
	pop _i_idle
	push "onfinish"
	push "_timstandfin"
	call timstand,addmethod
	new string,sanim
	cthis getname
	pop sanim
	push _sstndpref
	call sanim,strsubbs
	pop sanim
	cthis _make_idle
	new string,_sbeh
	push "beh_"
	push sanim
	pop $b
	popax
	add $a,$b
	push "_IDLE"
	pop $b
	popax
	add $a,$b
	pop _sbeh
	cthis getname
	call modstnd,add
	end method
	method _make_idle
	push _i_idle
	call _i_idle,rand
	pop $b
	popax
	add $a,$b
	call timstand,delay
	end method
	method _timstandfin
	cthis _make_idle
	localstring $1
	call gameapi,getgamename
	pop $1
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],behexist
	cmp0
	je l2171
	cthis getlock
	neg
	jmp l2173
l2171:
	push 0
	jmp l2173
l2172:
	push 1
l2173:
	cmp0
	je l2174
	push $1
	spushs
	push _sbeh
	spop $a
	call [$a],playbeh
l2174:
	end method
	method play
	cthis getlock
	neg
	cmp0
	je l2176
	call timstand,isplaying
	neg
	jmp l2178
l2176:
	push 0
	jmp l2178
l2177:
	push 1
l2178:
	cmp0
	je l2179
	call timstand,play
l2179:
	end method
	method stop
	push 0
	call timstand,stop
	end method
	method setdelay
	localint $1
	pop $1
	push $1
	pop _i_idle
	push _i_idle
	push 0
	cmpjle
	cmp0
	je l2181
	push 1
	pop _i_idle
l2181:
	push $1
	call timstand,setdelay
	end method
	method reset
	cthis stop
	cthis play
	end method
	end class

	class classtalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new snd,sndtalk
	call sndtalk,buildfullname
	push 0
	push 1
	call sndtalk,setstartstopflag
	push "onfinish"
	push "_ctalkfin"
	call sndtalk,addmethod
	new timer,timtalk
	push 1
	call timtalk,settick
	new real,rdelay
	push 1.0
	pop rdelay
	push "onfinish"
	push "_ctalkfin"
	call timtalk,addmethod
	new gmimgvec,txttalk
	new int,_iletxt
	push 10
	pop _iletxt
	localstring $1
	localint $2
	push 0
	pop $2
l2182:
	push $2
	push _iletxt
	cmpjl
	cmp0
	je l2183
	jmp l2185
l2184:
	add $2,1
	pop $2
	jmp l2182
l2185:
	push "txttalk"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call txttalk,add
	jmp l2184
l2183:
	new font,fonttalk
	call txttalk,hide
	new vector,vecpom
	push "string"
	call vecpom,type
	new int,iTxtLim
	push 30
	pop iTxtLim
	new int,irtxt
	new int,igtxt
	new int,ibtxt
	new string,stextdb
	new string,_swav
	cthis buildfullname
	new string,stalktype
	push "snd"
	cthis settalktype
	end method
	method set
	localstring $1
	pop $1
	push $1
	cthis link
	end method
	method settextdb
	localstring $1
	pop $1
	push $1
	pop stextdb
	end method
	method setfont
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call fonttalk,load
	push "setfont"
	push "fonttalk"
	call txttalk,eval1
	end method
	method setsnd
	localstring $1
	pop $1
	push ".wav"
	call $1,contains
	neg
	cmp0
	je l2187
	push $1
	pop _swav
	push ".wav"
	popax
	add $1,$a
	pop $1
	jmp l2186
l2187:
	push ".wav"
	call $1,strsubes
	pop _swav
l2186:
	push $1
	call sndtalk,advloadsnd
	end method
	method herosay1
	localstring $1
	pop $1
	push 1
	push 1
	push 1
	push "null"
	push $1
	cthis herosay
	end method
	method herosay
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	push $4
	push $5
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localint $1
	localint $2
	localint $3
	localstring $4
	localstring $5
	localstring $6
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push $2
	neg
	cmp0
	je l2189
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	push "null"
	push "null"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
	push stalktype
	spushs
	spop $d
	cthis [$d]
	jmp l2188
l2189:
	push _sanim
	spushs
	push _sbase
	push $6
	cthis nofpiecesdir
	push $1
	push $2
	cthis getfullname
	push "_ctalkstart"
	push $3
	push $4
	push $5
	push $6
	spop $a
	call [$a],playspec
l2188:
	end method
	method thisfinish
	localint $1
	pop $1
	push _sanim
	spushs
	push $1
	spop $a
	call [$a],thisfinish
	end method
	method stop
	localint $1
	pop $1
	push "snd"
	call stalktype,contains
	cmp0
	je l2191
	push $1
	call sndtalk,stop
	push 0
	call timtalk,stop
	jmp l2190
l2191:
	push $1
	call timtalk,stop
l2190:
	end method
	method settalktype
	localstring $1
	pop $1
	push "_cplay"
	pop stalktype
	push "snd"
	call $1,contains
	cmp0
	je l2193
	push "snd"
	popax
	add stalktype,$a
	pop stalktype
l2193:
	push "txt"
	call $1,contains
	cmp0
	je l2195
	push "txt"
	popax
	add stalktype,$a
	pop stalktype
l2195:
	push "film"
	call $1,contains
	cmp0
	je l2197
	push "film"
	popax
	add stalktype,$a
	pop stalktype
l2197:
	end method
	method _csay
	push stextdb
	push "null"
	cmpjne
	cmp0
	je l2199
	localint $1
	push stextdb
	spushs
	push _swav
	spop $a
	call [$a],findbyrow
	pop $1
	push $1
	push 0
	cmpjl
	cmp0
	je l2201
	ret
l2201:
	push stextdb
	spushs
	push $1
	push 2
	spop $a
	call [$a],get
	push " "
	call vecpom,vecbuildfromstring
	localstring $2
	push ""
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	localint $5
	push "txt"
	call stalktype,contains
	cmp0
	je l2203
	push _sanim
	spushs
	spop $a
	call [$a],getcx
	pop $4
	push _sanim
	spushs
	spop $a
	call [$a],getpy
	pop $5
	jmp l2202
l2203:
	push 400
	pop $4
	push 590
	pop $5
l2202:
	localint $6
	push 0
	pop $6
	localint $7
	push iResX
	pop $7
	localint $8
	push 0
	pop $8
	localint $9
	push iResY
	pop $9
	localstring $10
	localint $11
	push 0
	pop $11
l2204:
	push $11
	call vecpom,size
	cmpjl
	cmp0
	je l2205
	jmp l2207
l2206:
	add $11,1
	pop $11
	jmp l2204
l2207:
	push $11
	call vecpom,get
	push " "
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	call $2,length
	push iTxtLim
	cmpja
	cmp0
	je l2209
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2211
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2211:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2213
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2213:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2215
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2215:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2217
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2217:
	push ""
	pop $2
	add $3,1
	pop $3
l2209:
	jmp l2206
l2205:
	call $2,length
	push 0
	cmpja
	cmp0
	je l2219
	push "txttalk"
	push $3
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $2
	push $4
	push $5
	push $3
	spop $a
	call [$a],_cprinttxt
	push $10
	spushs
	spop $a
	call [$a],getpx
	push $6
	cmpjl
	cmp0
	je l2221
	push $10
	spushs
	spop $a
	call [$a],getpx
	pop $6
l2221:
	push $10
	spushs
	spop $a
	call [$a],getex
	push $7
	cmpja
	cmp0
	je l2223
	push $10
	spushs
	spop $a
	call [$a],getex
	pop $7
l2223:
	push $10
	spushs
	spop $a
	call [$a],getpy
	push $8
	cmpjl
	cmp0
	je l2225
	push $10
	spushs
	spop $a
	call [$a],getpy
	pop $8
l2225:
	push $10
	spushs
	spop $a
	call [$a],getey
	push $9
	cmpja
	cmp0
	je l2227
	push $10
	spushs
	spop $a
	call [$a],getey
	pop $9
l2227:
	add $3,1
	pop $3
l2219:
	push iResX
	popax
	sub $7,$a
	pop $7
	push iResY
	popax
	sub $9,$a
	pop $9
	push $6
	push 0
	cmpja
	cmp0
	je l2229
	push 0
	pop $6
l2229:
	push $8
	push 0
	cmpja
	cmp0
	je l2231
	push 0
	pop $6
l2231:
	push 0
	push $6
	pop $b
	popax
	sub $a,$b
	push $7
	pop $b
	popax
	add $a,$b
	push $3
	popax
	sub 0,$a
	call txttalk0,geth
	pop $b
	popax
	mul $a,$b
	push $8
	pop $b
	popax
	sub $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	call txttalk,move
	call txttalk0,getpy
	push 0
	cmpjl
	cmp0
	je l2233
	push 0
	call txttalk0,getpy
	popax
	sub 0,$a
	call txttalk,move
l2233:
	push rdelay
	push 500
	pop $b
	popax
	mul $a,$b
	call vecpom,size
	pop $b
	popax
	mul $a,$b
	call timtalk,delay
l2199:
	end method
	method _cprinttxt
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	cthis set
	push irtxt
	push igtxt
	push ibtxt
	cthis createtxt
	push $2
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $3
	push $4
	cthis geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setpos
	push 2000
	cthis setz
	cthis show
	end method
	method _cplaysnd
	call sndtalk,getfullname
	cthis cbsplay
	end method
	method _cplaysndtxt
	cthis _cplaysnd
	cthis _csay
	end method
	method _cplaysndtxtfilm
	cthis _cplaysnd
	cthis _csay
	end method
	method _cplaysndfilm
	cthis _csay
	end method
	method _cplaytxt
	cthis _csay
	call timtalk,play
	end method
	method _cplaytxtfilm
	cthis _csay
	call timtalk,play
	end method
	method _cplayfilm
	cthis _csay
	call timtalk,play
	end method
	method setdelay
	localreal $1
	pop $1
	push $1
	pop rdelay
	end method
	method settxtcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop irtxt
	push $2
	pop igtxt
	push $3
	pop ibtxt
	end method
	method _ctalkstart
	push stalktype
	spushs
	spop $d
	cthis [$d]
	end method
	method _ctalkfin
	call txttalk,hide
	push _sanim
	spushs
	spop $a
	call [$a],herostop
	end method
	end class

	class classtxttalker
	parent classadvhero
	method init
	clparent classadvhero,init
	push "talk:"
	cthis _setbase
	new int,iR
	new int,iG
	new int,iB
	new int,ibR
	new int,ibG
	new int,ibB
	new int,ibA
	new int,ibrr
	new int,ibrg
	new int,ibrb
	new int,ibra
	new int,ibw
	new db,dbtxt
	new int,iSize
	new gmimgvec,grtxt
	new gmimgvec,grtxt2
	localstring $1
	localint $2
	push 0
	pop $2
l2234:
	push $2
	push 25
	cmpjl
	cmp0
	je l2235
	jmp l2237
l2236:
	add $2,1
	pop $2
	jmp l2234
l2237:
	push "txt"
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $e
	new text,[$e]
	push $1
	call grtxt,add
	push $1
	spushs
	spop $a
	call [$a],hide
	jmp l2236
l2235:
	new text,imgtxt
	call imgtxt,hide
	new int,bplaying
	push 0
	pop bplaying
	new string,slang
	push "pol"
	cthis setlang
	end method
	method setlang
	localstring $1
	pop $1
	push $1
	pop slang
	end method
	method isplaying
	push bplaying
	ret
	end method
	method setfont
	localstring $1
	pop $1
	push "setfont"
	push $1
	call grtxt,eval1
	push $1
	spushs
	spop $a
	call [$a],getsize
	pop iSize
	end method
	method setfontcolor
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	pop iR
	push $2
	pop iG
	push $3
	pop iB
	end method
	method setfontbg
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop ibR
	push $2
	pop ibG
	push $3
	pop ibB
	push $4
	pop ibA
	end method
	method setbgframe
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $2
	pop ibrr
	push $3
	pop ibrg
	push $4
	pop ibrb
	push 255
	pop ibra
	push $1
	pop ibw
	end method
	method set
	localstring $1
	localint $2
	pop $2
	pop $1
	push $1
	cthis link
	push $2
	call grtxt,setz
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call imgtxt,setz
	end method
	method herosay
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push $3
	cthis getdir
	cthis herosaydir
	end method
	method herosaydir
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $4
	push "auto"
	cmpje
	cmp0
	je l2239
	cthis getdir
	pop $4
l2239:
	push 1
	pop bplaying
	cthis getgraphpath
	push $1
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	push slang
	pop $b
	popax
	add $a,$b
	call dbtxt,load
	localstring $5
	call grtxt2,free
	localint $6
	push 0
	pop $6
	localint $7
	call dbtxt,getrowsno
	pop $7
	localint $8
	push 0
	pop $8
l2240:
	push $8
	push $7
	cmpjl
	cmp0
	je l2241
	jmp l2243
l2242:
	add $8,1
	pop $8
	jmp l2240
l2243:
	push "txt"
	push $8
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	push $8
	push 0
	call dbtxt,get
	spop $a
	call [$a],set
	push $5
	spushs
	push iR
	push iG
	push iB
	spop $a
	call [$a],createtxt
	push $5
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push iSize
	popax
	add $3,$a
	pop $3
	push $5
	spushs
	spop $a
	call [$a],show
	push $5
	spushs
	spop $a
	call [$a],getw
	push $6
	cmpja
	cmp0
	je l2245
	push $5
	spushs
	spop $a
	call [$a],getw
	pop $6
l2245:
	push $5
	call grtxt2,add
	jmp l2242
l2241:
	call txt0,getpx
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call txt0,getpy
	push iSize
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $6
	push iSize
	pop $b
	popax
	add $a,$b
	push iSize
	push $7
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	push ibR
	push ibG
	push ibB
	push ibA
	call imgtxt,setbkg
	push ibw
	push ibrr
	push ibrg
	push ibrb
	push ibra
	call imgtxt,setborders
	call imgtxt,show
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2247
	push _sanim
	spushs
	push 0
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push _sbase
	push 0
	push 0
	push 0
	push "null"
	push "null"
	push 0
	push "null"
	push "null"
	push $4
	spop $a
	call [$a],playspec
l2247:
	end method
	method stop
	push 0
	pop bplaying
	call grtxt2,hide
	call imgtxt,hide
	push _sanim
	push "null"
	cmpjne
	cmp0
	je l2249
	push _sanim
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sanim
	spushs
	push "stand"
	cthis getdir
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
l2249:
	end method
	end class

	class classbgplan
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,rpx
	new real,rpy
	new real,scalex
	new real,scaley
	new int,_ix
	new int,_iy
	end method
	method setscale
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop scaley
	pop scalex
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add rpx,$a
	pop rpx
	push $2
	popax
	add rpy,$a
	pop rpy
	localint $3
	push rpx
	pop $3
	localint $4
	push rpy
	pop $4
	push $3
	popax
	sub rpx,$a
	pop rpx
	push $4
	popax
	sub rpy,$a
	pop rpy
	push $3
	cmp0
	jne l2252
	push $4
	jmp l2253
l2251:
	push 0
	jmp l2253
l2252:
	push 1
l2253:
	cmp0
	je l2254
	push $3
	popax
	add _ix,$a
	pop _ix
	push $4
	popax
	add _iy,$a
	pop _iy
	push $3
	push $4
	clparent gmobjvec,move
l2254:
	end method
	method movebgr
	localreal $1
	localreal $2
	pop $2
	pop $1
	push scalex
	push $1
	pop $b
	popax
	mul $a,$b
	push scaley
	push $2
	pop $b
	popax
	mul $a,$b
	cthis move
	end method
	method getpx
	push _ix
	end method
	method getpy
	push _iy
	end method
	end class

	class classgrplans
	parent gmobjvec
	method init
	clparent gmobjvec,init
	new real,_rxp
	new real,_ryp
	end method
	method move
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "movebgr"
	push $1
	push $2
	cthis eval2
	end method
	method getposx
	push _rxp
	ret
	end method
	method getposy
	push _ryp
	ret
	end method
	method shift
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add _rxp,$a
	pop _rxp
	push $2
	popax
	add _ryp,$a
	pop _ryp
	push "move"
	push $1
	push $2
	cthis eval2
	end method
	end class

	class CameraPos
	method init
	localreal $1
	localreal $2
	pop $2
	pop $1
	new real,_x
	new real,_y
	push $1
	push $2
	cthis setpos
	end method
	method setpos
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	pop _x
	push $2
	pop _y
	end method
	method getposx
	push _x
	end method
	method getposy
	push _y
	end method
	end class

	class classadvcamera
	method init
	new classgrplans,grbgrs
	new string,sancamera
	push "null"
	pop sancamera
	new string,smsmvfun
	push "null"
	pop smsmvfun
	new real,_rxmod
	new real,_rymod
	push 0.05
	push 0.05
	pop _rymod
	pop _rxmod
	new real,rleft
	new real,rtop
	new real,rright
	new real,rbottom
	push 0.0
	push 0.0
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbottom
	pop rright
	pop rtop
	pop rleft
	new int,icamx
	new int,icamy
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop icamy
	pop icamx
	new real,rborx
	new real,rbory
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	pop rbory
	pop rborx
	new real,_lastx
	push 0
	pop _lastx
	new real,_lasty
	push 0
	pop _lasty
	new string,_sfunxedge
	push "null"
	pop _sfunxedge
	new string,_sfunyedge
	push "null"
	pop _sfunyedge
	push 0
	push 0
	new CameraPos,_campos
	new timer,timcamera
	push 1
	call timcamera,settick
	push 1
	call timcamera,setcycle
	push "onfinish"
	push "_camerafin"
	call timcamera,addmethod
	end method
	method _camerafin
	cthis checkcamera
	cthis play
	end method
	method setscreen
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	pop rleft
	push $2
	pop rtop
	push $3
	pop rright
	push $4
	pop rbottom
	push $3
	pop rborx
	push $4
	pop rbory
	push $1
	pop _lastx
	push $2
	pop _lasty
	push $1
	push $3
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop icamx
	push $2
	push $4
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop icamy
	end method
	method remove
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l2255:
	push $2
	call grbgrs,size
	cmpjl
	cmp0
	je l2256
	jmp l2258
l2257:
	add $2,1
	pop $2
	jmp l2255
l2258:
	push $2
	call grbgrs,get
	spushs
	push $1
	spop $a
	call [$a],remove
	jmp l2257
l2256:
	end method
	method funxedge
	localstring $1
	pop $1
	push $1
	pop _sfunxedge
	end method
	method funyedge
	localstring $1
	pop $1
	push $1
	pop _sfunyedge
	end method
	method setcenter
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop icamy
	pop icamx
	end method
	method setborders
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	pop rbottom
	pop rright
	end method
	method countcenter
	push rleft
	push rright
	push rleft
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push rtop
	push rbottom
	push rtop
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	cthis setcenter
	end method
	method getposx
	call grbgrs,getposx
	ret
	end method
	method getposy
	call grbgrs,getposy
	ret
	end method
	method setmetonmsmove
	localstring $1
	pop $1
	push $1
	pop smsmvfun
	end method
	method start
	call timcamera,play
	end method
	method stop
	push 0
	call timcamera,stop
	end method
	method setactor
	localstring $1
	pop $1
	push $1
	pop sancamera
	end method
	method setcampos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call _campos,setpos
	push "_campos"
	cthis setactor
	end method
	method isactor
	localstring $1
	pop $1
	push $1
	push sancamera
	cmpje
	ret
	end method
	method getactor
	push sancamera
	ret
	end method
	method scalemodifiers
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	pop _rymod
	pop _rxmod
	end method
	method newbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	spop $e
	new classbgplan,[$e]
	push $1
	push $2
	push $3
	cthis addbgr
	end method
	method addbgr
	localstring $1
	localreal $2
	localreal $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setscale
	push $1
	call grbgrs,add
	end method
	method findinbgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l2259:
	push $2
	call grbgrs,size
	cmpjl
	cmp0
	je l2260
	jmp l2262
l2261:
	add $2,1
	pop $2
	jmp l2259
l2262:
	push $2
	call grbgrs,get
	spushs
	push $1
	spop $a
	call [$a],contains
	cmp0
	je l2264
	push $2
	call grbgrs,get
	ret
l2264:
	jmp l2261
l2260:
	push "null"
	end method
	method removefrombgr
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
l2265:
	push $2
	call grbgrs,size
	cmpjl
	cmp0
	je l2266
	jmp l2268
l2267:
	add $2,1
	pop $2
	jmp l2265
l2268:
	push $2
	call grbgrs,get
	spushs
	push $1
	spop $a
	call [$a],remove
	jmp l2267
l2266:
	end method
	method addtobgr
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push $2
	spop $a
	call [$a],add
	end method
	method setscene
	push 1.0
	push 1.0
	cthis _setscene
	end method
	method _setscene
	localreal $1
	localreal $2
	pop $2
	pop $1
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2270
	ret
l2270:
	localreal $3
	push icamx
	push sancamera
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $3
	push $1
	popax
	mul $3,$a
	pop $3
	localreal $4
	push icamy
	push sancamera
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $4
	push $2
	popax
	mul $4,$a
	pop $4
	localreal $5
	cthis getposx
	push $3
	pop $b
	popax
	add $a,$b
	pop $5
	localreal $6
	cthis getposy
	push $4
	pop $b
	popax
	add $a,$b
	pop $6
	push $5
	push rleft
	cmpjae
	cmp0
	je l2272
	cthis getposx
	popax
	sub 0,$a
	pop $3
	jmp l2271
l2272:
	push $5
	push rright
	pop $b
	popax
	add $a,$b
	push rborx
	cmpjl
	cmp0
	je l2274
	push rborx
	cthis getposx
	push rright
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $3
l2274:
l2271:
	push $6
	push rtop
	cmpjae
	cmp0
	je l2276
	cthis getposy
	popax
	sub 0,$a
	pop $4
	jmp l2275
l2276:
	push $6
	push rbottom
	pop $b
	popax
	add $a,$b
	push rbory
	cmpjl
	cmp0
	je l2278
	push rbory
	cthis getposy
	push rbottom
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	sub $a,$b
	pop $4
l2278:
l2275:
	push $3
	cmp0
	jne l2281
	push $4
	jmp l2282
l2280:
	push 0
	jmp l2282
l2281:
	push 1
l2282:
	cmp0
	je l2283
	push $3
	push $4
	call grbgrs,move
	push smsmvfun
	push "null"
	cmpjne
	cmp0
	je l2285
	push smsmvfun
	spushs
	spop $d
	cthis [$d]
l2285:
l2283:
	push $3
	push 0
	cmpje
	cmp0
	je l2287
	push _lastx
	push 0
	cmpjne
	cmp0
	je l2287
	push _sfunxedge
	push "null"
	cmpjne
	jmp l2289
l2287:
	push 0
	jmp l2289
l2288:
	push 1
l2289:
	cmp0
	je l2290
	push _sfunxedge
	spushs
	spop $d
	cthis [$d]
l2290:
	push $4
	push 0
	cmpje
	cmp0
	je l2292
	push _lasty
	push 0
	cmpjne
	cmp0
	je l2292
	push _sfunyedge
	push "null"
	cmpjne
	jmp l2294
l2292:
	push 0
	jmp l2294
l2293:
	push 1
l2294:
	cmp0
	je l2295
	push _sfunyedge
	spushs
	spop $d
	cthis [$d]
l2295:
	push $3
	pop _lastx
	push $4
	pop _lasty
	end method
	method checkcamera
	push sancamera
	push "null"
	cmpje
	cmp0
	je l2297
	ret
l2297:
	push _rxmod
	push _rymod
	cthis _setscene
	end method
	method moveplans
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	popax
	add rleft,$a
	pop rleft
	push $1
	popax
	add rright,$a
	pop rright
	push $2
	popax
	add rtop,$a
	pop rtop
	push $2
	popax
	add rbottom,$a
	pop rbottom
	push $1
	popax
	add rborx,$a
	pop rborx
	push $2
	popax
	add rbory,$a
	pop rbory
	push $1
	popax
	add icamx,$a
	pop icamx
	push $2
	popax
	add icamy,$a
	pop icamy
	push $1
	push $2
	call grbgrs,shift
	end method
	end class

	class classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "but"
	cthis setadvbutmets
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "but"
	clparent classadvbut,setasbutton2
	end method
	method setasbutton2
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push "setadvbutmets"
	push "setadvbutmets"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbuttyp"
	push "setbuttyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setadvbutpos"
	push "setadvbutpos"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutdir"
	push "setbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase1"
	push "setbutbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase2"
	push "setbutbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbutbase"
	push "setbutbase"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase1"
	push "getbase1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbase2"
	push "getbase2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutdir"
	push "getbutdir"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getbutname"
	push "getbutname"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "gettyp"
	push "gettyp"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "reachable"
	push "reachable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setreach"
	push "setreach"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgox"
	push "getgox"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getgoy"
	push "getgoy"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enable"
	push "enable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "disable"
	push "disable"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "enabled"
	push "enabled"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setonce"
	push "setonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "checkonce"
	push "checkonce"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setpocket"
	push "classadvbut0"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "getpocket"
	push "classadvbut1"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "moveoff"
	push "moveoff"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "clickon"
	push "clickon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "lrel"
	push "lrel"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomebut"
	push "classadvbut2"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomeitem"
	push "classadvbut3"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "becomedoors"
	push "classadvbut4"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "copyposfrompt"
	push "classadvbut5"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "butisin"
	push "classadvbut6"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "ismask"
	push "classadvbut7"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "setbmask"
	push "classadvbut8"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "preparetosort"
	push "preparetosort"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],setadvbutmets
	push $1
	spushs
	push 1
	spop $a
	call [$a],setreach
	end method
	method classadvbut0
	localstring $1
	pop $1
	push $1
	pop _spocket
	end method
	method classadvbut1
	push _spocket
	end method
	method classadvbut2
	cthis getname
	clparent classadvbut,setasbut
	end method
	method classadvbut3
	cthis getname
	clparent classadvbut,setasitem
	end method
	method classadvbut4
	cthis getname
	clparent classadvbut,setasdoors
	end method
	method classadvbut5
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getbyname
	pop $3
	push $1
	spushs
	push $3
	spop $a
	call [$a],getxver
	push $1
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	push $3
	spop $a
	call [$a],getyver
	push $1
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	cthis setadvbutpos
	end method
	method classadvbut6
	cthis isin
	end method
	method classadvbut7
	push bismask
	end method
	method classadvbut8
	localint $1
	pop $1
	push $1
	pop bismask
	end method
	method setonce
	localstring $1
	pop $1
	push $1
	pop _sonce
	end method
	method checkonce
	push _sonce
	push "null"
	cmpjne
	cmp0
	je l2299
	push _sonce
	call clsave,bis
	neg
	jmp l2301
l2299:
	push 0
	jmp l2301
l2300:
	push 1
l2301:
	cmp0
	je l2302
	push _sonce
	call clsave,bset
	cthis disable
l2302:
	end method
	method setadvbutmets
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_styp
	push $2
	pop _styp
	new string,_sname
	push $1
	pop _sname
	new int,igox
	cthis getposx
	pop igox
	new int,igoy
	cthis getposy
	pop igoy
	new string,sgox
	push "null"
	pop sgox
	new string,sgoy
	push "null"
	pop sgoy
	new string,_sbutdir
	push "auto"
	pop _sbutdir
	new string,_sbase1
	push "look:"
	push 1
	call modadv,get
	pop _sbase1
	new string,_sbase2
	push "look:"
	push 2
	call modadv,get
	pop _sbase2
	new int,breachable
	push 0
	pop breachable
	new string,_spocket
	push $1
	pop _spocket
	new string,_sonce
	push "null"
	pop _sonce
	new int,bismask
	push 0
	pop bismask
	push A
	push "baseuse1"
	push _sbase1
	push "baseuse2"
	push _sbase2
	push "hideontake"
	push 1
	cthis vars2
	cthis enable
	end method
	method setasmask
	localstring $1
	pop $1
	push $1
	spushs
	push "butisin"
	push "classadvbut9"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push 1
	spop $a
	call [$a],setbmask
	end method
	method classadvbut9
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push $2
	push 0
	push $4
	cthis isin
	end method
	method enable
	push AdventureGame
	neg
	cmp0
	je l2304
	ret
l2304:
	cthis getname
	call grbuts,addonce
	end method
	method disable
	push AdventureGame
	neg
	cmp0
	je l2306
	ret
l2306:
	cthis getname
	call grbuts,remove
	end method
	method enabled
	push AdventureGame
	neg
	cmp0
	je l2308
	ret
l2308:
	cthis getname
	call grbuts,contains
	ret
	end method
	method setbutbase
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis setbutbase1
	push $2
	cthis setbutbase2
	end method
	method setreach
	localint $1
	pop $1
	push $1
	pop breachable
	end method
	method reachable
	push breachable
	ret
	end method
	method setbuttyp
	localstring $1
	pop $1
	push $1
	pop _styp
	end method
	method lrel
	end method
	method clickon
	cthis reachable
	cmp0
	je l2310
	cthis getname
	call clwalkq,visit
l2310:
	end method
	method moveon
	push sItemMover
	push "null"
	cmpje
	cmp0
	je l2312
	call advmouse,setactive
	jmp l2311
l2312:
	push sItemMover
	spushs
	cthis getname
	push "setactive"
	spop $a
	call [$a],checkusebutton
l2311:
	end method
	method moveondoors
	push sItemMover
	push "null"
	cmpje
	cmp0
	je l2314
	call advmouse,setexit
	jmp l2313
l2314:
	push sItemMover
	spushs
	cthis getname
	push "setexit"
	spop $a
	call [$a],checkusebutton
l2313:
	end method
	method moveoff
	call advmouse,setstd
	end method
	method setadvbutpos
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sgox
	push $2
	pop sgoy
	push $1
	pop igox
	push $2
	pop igoy
	end method
	method setbutdir
	localstring $1
	pop $1
	push $1
	pop _sbutdir
	end method
	method setbutbase1
	localstring $1
	pop $1
	push $1
	pop _sbase1
	push $1
	pop baseuse1
	end method
	method setbutbase2
	localstring $1
	pop $1
	push $1
	pop _sbase2
	push $1
	pop baseuse2
	end method
	method getbase1
	push _sbase1
	ret
	end method
	method getbase2
	push _sbase2
	ret
	end method
	method getbutdir
	push _sbutdir
	ret
	end method
	method getbutname
	push _sname
	ret
	end method
	method gettyp
	push _styp
	ret
	end method
	method getgox
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2316
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2318
	push smainhero
	spushs
	spop $a
	call [$a],getposx
	jmp l2317
l2318:
	push sgoy
	spushs
	spop $a
	call [$a],getposx
l2317:
	jmp l2315
l2316:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2320
	push sgoy
	spushs
	spop $a
	call [$a],getcx
	jmp l2319
l2320:
	push igox
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
l2319:
l2315:
	end method
	method getgoy
	push sgox
	push "-hero"
	cmpje
	cmp0
	je l2322
	push sgoy
	push "-main"
	cmpje
	cmp0
	je l2324
	push smainhero
	spushs
	spop $a
	call [$a],getposy
	jmp l2323
l2324:
	push sgoy
	spushs
	spop $a
	call [$a],getposy
l2323:
	jmp l2321
l2322:
	push sgox
	push "-but"
	cmpje
	cmp0
	je l2326
	push sgoy
	spushs
	spop $a
	call [$a],getey
	jmp l2325
l2326:
	push igoy
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
l2325:
l2321:
	end method
	method getposx
	push 0
	ret
	end method
	method getposy
	push 0
	ret
	end method
	method getz
	push 0
	ret
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push 0
	ret
	end method
	method preparetosort
	localint $1
	localint $2
	pop $2
	pop $1
	end method
	method endsort
	end method
	method setasbut
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasitem
	localstring $1
	pop $1
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	end method
	method setasdoors
	localstring $1
	pop $1
	push $1
	spushs
	push "moveon"
	push "classadvbut10"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method classadvbut10
	call advmouse,setexit
	end method
	end class

	class classadvitem
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "item"
	clparent classadvbut,init
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "item"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "take:"
	push 1
	call modadv,get
	push "take:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	end class

	class classadvdoors
	parent classadvbut
	method init
	localstring $1
	pop $1
	push $1
	push "doors"
	clparent classadvbut,init
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	cthis setbutbase
	end method
	method setasbutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	push "doors"
	clparent classadvbut,setasbutton2
	push $1
	spushs
	push "moveon"
	push "moveon"
	spop $a
	call [$a],addmethod
	push $1
	spushs
	push "doors:"
	push 1
	call modadv,get
	push "doors:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase
	end method
	method moveon
	call advmouse,setexit
	end method
	end class

	class classbehhero
	method init
	new string,_snextbeh
	push "null"
	pop _snextbeh
	new string,_stdfinfun
	push "null"
	pop _stdfinfun
	new string,_stdfinobj
	push "null"
	pop _stdfinobj
	new string,_stype
	push "null"
	pop _stype
	new string,_scaller
	new int,bblock
	push 1
	pop bblock
	new int,bparal
	push 0
	pop bparal
	end method
	method gonext
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	push bparal
	cmp0
	je l2328
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],behret
	pop $2
	jmp l2327
l2328:
	push _sstarter
	spushs
	spop $a
	call [$a],isenumer
	cmp0
	je l2330
	push _sstarter
	cthis getname
	cmpjne
	jmp l2332
l2330:
	push 0
	jmp l2332
l2331:
	push 1
l2332:
	cmp0
	je l2333
	push 1
	pop $2
	jmp l2329
l2333:
	push _snextbeh
	push "null"
	cmpjne
	cmp0
	je l2335
	push _snextbeh
	spushs
	push $1
	spop $a
	call [$a],eval
	jmp l2334
l2335:
	push 1
	pop $2
l2334:
l2329:
l2327:
	push $2
	cmp0
	je l2337
	push $1
	cthis finishbeh
l2337:
	end method
	method finishbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l2339
	push $1
	spushs
	spop $a
	call [$a],reteval
	jmp l2338
l2339:
	call modstnd,resume
	localstring $2
	cthis getactbeh
	pop $2
	push _sstarter
	spushs
	spop $a
	call [$a],callbehfin
	cthis getactbeh
	push $2
	cmpje
	cmp0
	je l2341
	push "null"
	cthis setactbeh
l2341:
l2338:
	end method
	method playfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push $2
	cthis setfinfun
	cthis advgetlock
	pop _bmslock
	push bblock
	cthis advmssetlock
	call modstnd,pause
	push "null"
	cthis eval
	end method
	method eval
	localstring $1
	pop $1
	cthis getname
	cthis setactbeh
	push $1
	pop _scaller
	cthis _eval
	end method
	method rewind
	push "_rew"
	cthis hasaddedmet
	cmp0
	je l2343
	cthis _rew
l2343:
	end method
	method reteval
	push _scaller
	cthis gonext
	end method
	method callbehfin
	push _bmslock
	cthis advmssetlock
	push _stdfinobj
	push _stdfinfun
	cthis callfun
	push "null"
	pop _stdfinobj
	push "null"
	pop _stdfinfun
	cthis getname
	spushs
	push _sbeh
	spop $a
	call $a,strsubbs
	push "_FINISH"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method _evalenter
	cthis getname
	push "reteval"
	call ccs,obenter
	end method
	method _evalclose
	cthis getname
	push "reteval"
	call ccs,obclose
	end method
	method _evalmusic
	call vmus,getfullname
	push 0
	call _music,playvec
	cthis reteval
	end method
	method _evalscript
	push _id
	push 0
	cmpjae
	cmp0
	je l2345
	localint $1
	push _id
	pop $1
	localdef $2
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
l2346:
	push $2
	push ")"
	cmpjne
	cmp0
	je l2347
	push _sscr
	spushs
	push $1
	push _id
	pop $b
	popax
	sub $a,$b
	push $2
	spop $a
	call [$a],ARG=
	add $1,1
	pop $1
	push _sdb
	spushs
	push _row
	push $1
	spop $a
	call [$a],get
	pop $2
	jmp l2346
l2347:
l2345:
	push _sscr
	spushs
	push _sfun2
	spop $a
	call [$a],call
	cthis reteval
	end method
	method _evalmet
	push _sob2
	push _sfun2
	cthis callfun
	cthis reteval
	end method
	method _evalsave
	push 0
	push 1
	call ssavval,getb
	push "@"
	cmpje
	cmp0
	je l2349
	localint $1
	push 1
	call ssavval,strsubb
	pop $1
	push ssavvar
	push $1
	push ssavvar
	call clsave,get
	pop $b
	popax
	add $a,$b
	call clsave,set
	jmp l2348
l2349:
	push ssavvar
	push ssavval
	call clsave,set
l2348:
	cthis reteval
	end method
	method _evalgame
	localstring $1
	call gameapi,getgamename
	pop $1
	push _styp
	spushs
	push "-def"
	cmpst
	jne l2351
	spop $a
	push $1
	spushs
	push _spath
	push _sgame
	spop $a
	call [$a],playfromscript
	jmp l2350
l2351:
	push "-adv"
	cmpst
	jne l2352
	spop $a
	push $1
	spushs
	push _sgame
	push _spath
	spop $a
	call [$a],playnewgamepath
	jmp l2350
l2352:
	spop $a
	push $1
	spushs
	push _sgame
	spop $a
	call [$a],playnewgame
l2350:
	cthis reteval
	end method
	method _evalread
	push _sread
	push _ix
	push _iy
	push _sdir
	call clhilarytxt,herosaydir
	end method
	method _rewread
	call clhilarytxt,stop
	cthis reteval
	end method
	method _evalwait
	call timwait,play
	end method
	method _evaltalk
	localstring $1
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $1
	localstring $2
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $2
	push $1
	call engine,varexist
	cmp0
	je l2354
	push $2
	spushs
	spop $a
	call [$a],getdir
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	cmpjne
	jmp l2356
l2354:
	push 0
	jmp l2356
l2355:
	push 1
l2356:
	cmp0
	je l2357
	push $1
	spushs
	push _sdir
	cthis getname
	push "_evaltalk"
	spop $a
	call [$a],heroturn
	ret
l2357:
	push _san
	cthis advanstand
	push $2
	spushs
	call modadv,gettalktype
	spop $a
	call [$a],settalktype
	push $2
	spushs
	push __swav
	spop $a
	call [$a],setsnd
	push $2
	spushs
	push __sbase
	spop $a
	call [$a],checkamounts
	push $2
	spushs
	push isort
	push bstt
	push bstp
	cthis getname
	push "reteval"
	push $2
	spushs
	push _sdir
	spop $a
	call [$a],getpropdir
	spop $a
	call [$a],herosaydir
	end method
	method _rewtalk
	push _stalkpref
	push _san
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	spop $a
	call [$a],stop
	end method
	method _evalsetpos
	localint $1
	localint $2
	localstring $3
	push _spathpref
	push _san
	pop $b
	popax
	add $a,$b
	pop $3
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2359
	push $3
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push $3
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push $3
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push _san
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	jmp l2358
l2359:
	push _idestx
	pop $1
	push _idesty
	pop $2
	push _san
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
l2358:
	push _bssc
	cmp0
	je l2361
	call clcamera,setscene
l2361:
	push $3
	call engine,varexist
	cmp0
	je l2363
	push $3
	spushs
	spop $a
	call [$a],scalean
l2363:
	push _san
	spushs
	push _san
	spushs
	spop $a
	call [$a],getposy
	spop $a
	call [$a],setz
	push _sdir
	push "auto"
	cmpjne
	cmp0
	je l2365
	push _san
	spushs
	push _sdir
	spop $a
	call [$a],setdir
l2365:
	cthis reteval
	end method
	method _evalwalk
	localint $1
	localint $2
	push _idestx
	push "-id"
	cmpje
	cmp0
	je l2367
	push _sptf
	spushs
	push _idesty
	spop $a
	call [$a],getbyname
	pop $2
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	push _sptf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	push _sptf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $2
	jmp l2366
l2367:
	push _idestx
	push "-hero"
	cmpje
	cmp0
	je l2369
	push _idesty
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push _idesty
	spushs
	spop $a
	call [$a],getposy
	pop $2
	localint $3
	push 1
	pop $3
	push _sptf
	spushs
	push $1
	push $2
	spop $a
	call [$a],ptfgoto
	push 0
	cmpjae
	cmp0
	je l2371
	push _sptf
	spushs
	push 1
	spop $a
	call [$a],getgover
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2373
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getxver
	pop $1
	push _sptf
	spushs
	push $2
	spop $a
	call [$a],getyver
	pop $2
	push 0
	pop $3
l2373:
l2371:
	push _sptf
	spushs
	push 0
	spop $a
	call [$a],stop
	push $3
	cmp0
	je l2375
	localdef $4
	push _spathpref
	call _sptf,strsubbs
	pop $4
	push $4
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push $4
	spushs
	spop $a
	call [$a],getposy
	pop $2
l2375:
	jmp l2368
l2369:
	push _idestx
	pop $1
	push _idesty
	pop $2
l2368:
l2366:
	push _sptf
	spushs
	push $1
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	cthis getname
	push "reteval"
	spop $a
	call [$a],herowalkto2
	end method
	method _evalturn
	localstring $1
	push _sdir
	pop $1
	push A
	push "uu"
	push "ru"
	push "rr"
	push "rd"
	push "dd"
	push "ld"
	push "ll"
	push "lu"
	call $1,in
	neg
	cmp0
	je l2377
	localstring $2
	push _sptf
	spushs
	spop $a
	call [$a],getanim
	pop $2
	push _sptf
	spushs
	push $1
	spushs
	spop $a
	call [$a],getposx
	push $2
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getposy
	push $2
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],vecdir
	pop $1
l2377:
	push _sptf
	spushs
	push $1
	cthis getname
	push "reteval"
	spop $a
	call [$a],heroturn
	end method
	method _evalanorder
	push _san
	cthis advanstand
	push _sdb
	push _irow
	push _icol
	push _san
	cthis analizeaninstr
	popax
	cthis reteval
	end method
	method _evalanplay
	push _san
	spushs
	push "bthisfin"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l2379
	push _san
	spushs
	spop $a
	call [$a],setasadvanima
l2379:
	push _san
	cthis advanstand
	push _san
	spushs
	push 1
	spop $a
	call [$a],thisfinish
	push _sact
	clparent StringChecker,isdigit
	cmp0
	je l2381
	push _san
	spushs
	push _sact
	spop $a
	call [$a],nameofaction
	pop _sact
l2381:
	push _san
	spushs
	push _sact
	cthis getname
	push "reteval"
	spop $a
	call [$a],playspec2
	end method
	method _rewanplay
	end method
	method _evalsndbg
	call _sndbg,getfullname
	cthis cbsplay
	cthis reteval
	end method
	method _evalsndplay
	call sndp,getfullname
	cthis cbsplay
	end method
	method _rewsndplay
	push 1
	call sndp,stop
	end method
	method _evalcall
	localstring $1
	push scallobj
	pop $1
	push "$"
	call $1,contains
	cmp0
	je l2383
	push 1
	call $1,strsubb
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2385
	push $1
	popax
	mov $a,[$a]
	psax
	jmp l2384
l2385:
	push sscript
	spushs
	push $1
	spop $a
	call [$a],get
l2384:
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l2387
	cthis reteval
	ret
l2387:
l2383:
	push $1
	cthis getbeh
	pop $1
	push $1
	spushs
	cthis getname
	spop $a
	call [$a],eval
	end method
	method _evalnull
	cthis reteval
	end method
	method _evalstart
	localint $1
	localstring $2
	call vbif,free
	push bonce
	push "null"
	cmpjne
	cmp0
	je l2389
	push bonce
	call clsave,bis
	neg
	cmp0
	je l2391
	push bonce
	call clsave,bset
	jmp l2390
l2391:
	push _scaller
	cthis finishbeh
	ret
l2390:
l2389:
	push iisifsave
	push 0
	cmpje
	cmp0
	je l2393
	push sisifsave
	push sisifvar
	call clsave,is
	jmp l2395
l2393:
	push 0
	jmp l2395
l2394:
	push 1
l2395:
	cmp0
	jne l2397
	push iisifsave
	push 1
	cmpje
	cmp0
	je l2398
	push sisifsave
	push sisifvar
	call clsave,is
	neg
	jmp l2400
l2398:
	push 0
	jmp l2400
l2399:
	push 1
l2400:
	jmp l2401
l2396:
	push 0
	jmp l2401
l2397:
	push 1
l2401:
	cmp0
	je l2402
	push _scaller
	cthis finishbeh
	ret
l2402:
	push brand
	cmp0
	je l2404
	call vecbehs,size
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l2406
	call $1,rand
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2405
l2406:
	cthis reteval
l2405:
	jmp l2403
l2404:
	push bparal
	cmp0
	je l2408
	push "vecbehs"
	call vecbehs2,veccopy
	push 0
	pop $1
l2409:
	push $1
	call vecbehs,size
	cmpjl
	cmp0
	je l2410
	jmp l2412
l2411:
	add $1,1
	pop $1
	jmp l2409
l2412:
	push $1
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2411
l2410:
	jmp l2407
l2408:
	push ienumer
	push 0
	cmpja
	cmp0
	je l2414
	cthis nextenum
	push 1
	pop $b
	popax
	sub $a,$b
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	jmp l2413
l2414:
	cthis reteval
l2413:
l2407:
l2403:
	end method
	method _ifst
	localint $1
	localint $2
	pop $2
	pop $1
	push ifst
	spushs
	push 1
	cmpst
	jne l2416
	spop $a
	push $1
	cmp0
	je l2417
	push $2
	jmp l2419
l2417:
	push 0
	jmp l2419
l2418:
	push 1
l2419:
	jmp l2415
l2416:
	push 2
	cmpst
	jne l2420
	spop $a
	push $1
	cmp0
	jne l2422
	push $2
	jmp l2423
l2421:
	push 0
	jmp l2423
l2422:
	push 1
l2423:
	jmp l2415
l2420:
	spop $a
	push $1
l2415:
	end method
	method _oper_check
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l2425
	spop $a
	push 2
	jmp l2424
l2425:
	push "&"
	cmpst
	jne l2426
	spop $a
	push 1
	jmp l2424
l2426:
	spop $a
	push 0
l2424:
	end method
	method _ifcheck
	localint $1
	localint $2
	localstring $3
	localstring $4
	localint $5
	push istart
	pop $5
	push 0
	pop ifst
l2427:
	push $5
	push istop
	cmpjl
	cmp0
	je l2428
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	pop $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	pop $4
	push $4
	spushs
	push "="
	cmpst
	jne l2430
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2432
	add $5,1
	pop $5
l2432:
	jmp l2429
l2430:
	push "!="
	cmpst
	jne l2433
	spop $a
	push 2
	popax
	add $5,$a
	pop $5
	push $3
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],get
	call clsave,is
	neg
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push _db
	spushs
	push irow
	push $5
	spop $a
	call [$a],dbchecknext
	cthis _oper_check
	pop ifst
	push ifst
	cmp0
	je l2435
	add $5,1
	pop $5
l2435:
	jmp l2429
l2433:
	push "&"
	cmpst
	jne l2436
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2438
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2437
l2438:
	push $3
	call clsave,bis
l2437:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 1
	pop ifst
	jmp l2429
l2436:
	push "|"
	cmpst
	jne l2439
	spop $a
	add $5,1
	pop $5
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2441
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2440
l2441:
	push $3
	call clsave,bis
l2440:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
	push 2
	pop ifst
	jmp l2429
l2439:
	spop $a
	push 0
	push 1
	call $3,getb
	push "!"
	cmpje
	cmp0
	je l2443
	push 1
	call $3,strsubb
	call clsave,bis
	neg
	jmp l2442
l2443:
	push $3
	call clsave,bis
l2442:
	pop $2
	push $2
	push $1
	cthis _ifst
	pop $1
l2429:
	add $5,1
	pop $5
	jmp l2427
l2428:
	push _sstarter
	spushs
	push $1
	spop $a
	call [$a],bif=
	push $1
	end method
	method _checkif
	cthis _ifcheck
	cmp0
	je l2445
	cthis reteval
	jmp l2444
l2445:
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],classbehhero0
l2444:
	end method
	method classbehhero0
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	call vecbehs,size
	pop $3
	localint $4
	push 0
	pop $4
	localint $5
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $5
l2446:
	push $5
	push $3
	cmpjl
	cmp0
	je l2447
	jmp l2449
l2448:
	add $5,1
	pop $5
	jmp l2446
l2449:
	push $5
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2451
	spop $a
	add $2,1
	pop $2
	jmp l2450
l2451:
	push "FI"
	cmpst
	jne l2452
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2454
	push $5
	pop $4
	push $3
	pop $5
	jmp l2453
l2454:
	sub $2,1
	pop $2
l2453:
	jmp l2450
l2452:
	push "ELSE"
	cmpst
	je l2456
	push "ELIF"
	cmpst
	je l2456
	jmp l2455
l2456:
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2458
	push $5
	pop $4
	push $3
	pop $5
l2458:
	jmp l2450
l2455:
	spop $a
l2450:
	jmp l2448
l2447:
	push $4
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	end method
	method _evalIF
	push _sstarter
	spushs
	spop $a
	call [$a],ifpush
	cthis _checkif
	end method
	method _gotofi
	localstring $1
	pop $1
	localint $2
	push 0
	pop $2
	localint $3
	push $1
	call vecbehs,find
	push 1
	pop $b
	popax
	add $a,$b
	pop $3
l2459:
	push $3
	call vecbehs,size
	cmpjl
	cmp0
	je l2460
	jmp l2462
l2461:
	add $3,1
	pop $3
	jmp l2459
l2462:
	push $3
	call vecbehs,get
	spushs
	spop $a
	call [$a],gettyp
	spushs
	push "IF"
	cmpst
	jne l2464
	spop $a
	add $2,1
	pop $2
	jmp l2463
l2464:
	push "FI"
	cmpst
	jne l2465
	spop $a
	push $2
	push 0
	cmpje
	cmp0
	je l2467
	push $3
	call vecbehs,get
	spushs
	push _scaller
	spop $a
	call [$a],eval
	ret
	jmp l2466
l2467:
	sub $2,1
	pop $2
l2466:
	jmp l2463
l2465:
	spop $a
l2463:
	jmp l2461
l2460:
	end method
	method _evalELIF
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2469
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2468
l2469:
	cthis _checkif
l2468:
	end method
	method _evalELSE
	push _sstarter
	spushs
	spop $a
	call [$a],bif
	cmp0
	je l2471
	push _sstarter
	spushs
	cthis getname
	spop $a
	call [$a],_gotofi
	jmp l2470
l2471:
	cthis reteval
l2470:
	end method
	method _evalFI
	push _sstarter
	spushs
	spop $a
	call [$a],ifpop
	cthis reteval
	end method
	method gettyp
	push _stype
	end method
	method settype
	localstring $1
	pop $1
	push $1
	pop _stype
	push "_eval"
	push "_eval"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasmet
	cmp0
	je l2473
	push "_rew"
	push "_rew"
	push $1
	pop $b
	popax
	add $a,$b
	cthis addmethod
l2473:
	end method
	method setflags
	localstring $1
	pop $1
	push $1
	pop _snextbeh
	end method
	method setfinfun
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop _stdfinobj
	push $2
	pop _stdfinfun
	end method
	method setasstarter
	localstring $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	localstring $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "start"
	cthis settype
	new string,_sstarter
	cthis getname
	pop _sstarter
	new int,brand
	push $2
	pop brand
	new int,_bmslock
	new vector,vecbehs
	push $4
	pop bblock
	push "string"
	call vecbehs,type
	new string,bonce
	push $1
	pop bonce
	push $3
	pop bparal
	new int,ienumer
	push $5
	pop ienumer
	push $5
	push 0
	cmpja
	cmp0
	je l2475
	new int,_iencnt
	push 1
	pop _iencnt
	jmp l2474
l2475:
	push $3
	cmp0
	je l2477
	new vector,vecbehs2
	push "string"
	call vecbehs2,type
l2477:
l2474:
	new int,iisifsave
	push $6
	pop iisifsave
	push $6
	push 0
	cmpjae
	cmp0
	je l2479
	new string,sisifsave
	push $7
	pop sisifsave
	push $8
	push "null"
	cmpjne
	cmp0
	je l2481
	new string,sisifvar
	push $8
	pop sisifvar
l2481:
l2479:
	new vector,vbif
	end method
	method bif
	call vbif,last
	end method
	method bif=
	localint $1
	pop $1
	call vbif,size
	push 1
	pop $b
	popax
	sub $a,$b
	push $1
	call vbif,set
	end method
	method ifpush
	push 1
	call vbif,add
	end method
	method ifpop
	call vbif,pop
	popax
	end method
	method isenumer
	push ienumer
	ret
	end method
	method nextenum
	push _iencnt
	call vecbehs,size
	cmpja
	cmp0
	je l2483
	push ienumer
	push 1
	pop $b
	popax
	add $a,$b
	pop _iencnt
	jmp l2482
l2483:
	add _iencnt,1
	pop _iencnt
l2482:
	push _iencnt
	push 1
	pop $b
	popax
	sub $a,$b
	ret
	end method
	method addtostarter
	localstring $1
	pop $1
	push $1
	call vecbehs,add
	end method
	method getblock
	push bblock
	ret
	end method
	method addflags
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	new string,_sstarter
	push $1
	pop _sstarter
	push _stype
	push "read"
	cmpje
	cmp0
	je l2485
	push 0
	jmp l2484
l2485:
	push $2
l2484:
	pop bblock
	push $3
	pop bparal
	end method
	method behret
	localstring $1
	pop $1
	push $1
	call vecbehs2,remove
	call vecbehs2,size
	push 0
	cmpje
	ret
	end method
	method _setasif
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	new int,istart
	push $3
	pop istart
	new int,istop
	push $4
	pop istop
	new string,_db
	push $1
	pop _db
	new int,irow
	push $2
	pop irow
	new int,ifst
	push 0
	pop ifst
	end method
	method setasIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "IF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setasELIF
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "ELIF"
	cthis settype
	push $1
	push $2
	push $3
	push $4
	cthis _setasif
	end method
	method setas
	localstring $1
	pop $1
	push $1
	cthis settype
	end method
	method setasscript
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "script"
	cthis settype
	new string,_sscr
	push $1
	pop _sscr
	new string,_sfun2
	push $2
	pop _sfun2
	new int,_id
	push $5
	pop _id
	new string,_sdb
	push $3
	pop _sdb
	new int,_row
	push $4
	pop _row
	end method
	method setasuse
	localstring $1
	pop $1
	push "use"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	end method
	method _evaluse
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	spop $a
	call [$a],pckremove
	cthis reteval
	end method
	method _evaltopck
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	spushs
	push _sitem
	push _sfile
	spop $a
	call [$a],additem
	cthis reteval
	end method
	method setastopck
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "topck"
	cthis settype
	new string,_sitem
	push $1
	pop _sitem
	new string,_sfile
	push $2
	pop _sfile
	end method
	method setasmet
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "met"
	cthis settype
	new string,_sob2
	push $1
	pop _sob2
	new string,_sfun2
	push $2
	pop _sfun2
	end method
	method setassaver
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "save"
	cthis settype
	new string,ssavvar
	push $1
	pop ssavvar
	new string,ssavval
	push $2
	pop ssavval
	end method
	method setasnewgamer
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "game"
	cthis settype
	new string,_sgame
	push $3
	pop _sgame
	new string,_styp
	push $1
	pop _styp
	new string,_spath
	push $2
	pop _spath
	end method
	method setasreader
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "read"
	cthis settype
	new string,_sread
	push $1
	pop _sread
	new int,_ix
	push $2
	pop _ix
	new int,_iy
	push $3
	pop _iy
	new string,_sdir
	push $4
	pop _sdir
	end method
	method setaswaiter
	localint $1
	pop $1
	push "wait"
	cthis settype
	new timer,timwait
	push 1
	call timwait,settick
	push $1
	call timwait,delay
	cthis getname
	push "reteval"
	call timwait,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call timwait,addmethod
	end method
	method setassndbg
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndbg"
	cthis settype
	new snd,_sndbg
	call _sndbg,buildfullname
	push 0
	push 1
	call _sndbg,setstartstopflag
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	call _sndbg,advloadsnd
	push $2
	call _sndbg,setvol
	end method
	method _loadsnd
	end method
	method setasanorder
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "anorder"
	cthis settype
	new string,_sdb
	push $1
	pop _sdb
	new int,_irow
	push $2
	pop _irow
	new int,_icol
	push $3
	pop _icol
	new string,_san
	push $4
	pop _san
	end method
	method setascaller
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "call"
	cthis settype
	new string,scallobj
	push $1
	pop scallobj
	new string,sscript
	push $2
	pop sscript
	end method
	method _csplbuild
	localstring $1
	localstring $2
	pop $2
	pop $1
	new string,_sobj
	push $1
	pop _sobj
	new string,_sfinfun
	push $2
	pop _sfinfun
	end method
	method _csplfinish
	push _sobj
	push _sfinfun
	cthis callfun
	end method
	method setassndplayer
	localstring $1
	localint $2
	pop $2
	pop $1
	push "sndplay"
	cthis settype
	new snd,sndp
	call sndp,buildfullname
	push 0
	push 1
	call sndp,setstartstopflag
	push $1
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndp,advloadsnd
	cthis getname
	push "reteval"
	call sndp,_csplbuild
	push "onfinish"
	push "_csplfinish"
	call sndp,addmethod
	push $2
	call sndp,setvol
	end method
	method setasposer
	localstring $1
	localstring $2
	localint $3
	localint $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "setpos"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_idestx
	push $2
	pop _idestx
	new int,_idesty
	push $3
	pop _idesty
	new int,_bssc
	push $4
	pop _bssc
	new string,_sdir
	push $5
	pop _sdir
	end method
	method setasturn
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "turn"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_sdir
	push $2
	pop _sdir
	end method
	method setaswalker
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push "walk"
	cthis settype
	new string,_sptf
	push $1
	pop _sptf
	new string,_idestx
	push $2
	pop _idestx
	new string,_idesty
	push $3
	pop _idesty
	end method
	method setasanplayer
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "anplay"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,_sact
	push $2
	pop _sact
	end method
	method setastalker
	localstring $1
	localstring $2
	localstring $3
	localint $4
	localint $5
	localint $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push "talk"
	cthis settype
	new string,_san
	push $1
	pop _san
	new string,__swav
	push $2
	pop __swav
	new string,__sbase
	push $3
	pop __sbase
	new int,isort
	push $4
	pop isort
	new int,bstt
	push $5
	pop bstt
	new int,bstp
	push $6
	pop bstp
	new string,_sdir
	push $7
	pop _sdir
	end method
	method setasenter
	push "enter"
	cthis settype
	end method
	method setasclose
	push "close"
	cthis settype
	end method
	method setasmusic
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "music"
	cthis settype
	new vector,vmus
	push "string"
	call vmus,type
	call vmus,buildfullname
l2486:
	push $3
	push 0
	cmpjae
	cmp0
	je l2487
	push $3
	push $4
	cmpjl
	jmp l2489
l2487:
	push 0
	jmp l2489
l2488:
	push 1
l2489:
	cmp0
	je l2490
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call vmus,add
	add $3,1
	pop $3
	jmp l2486
l2490:
	end method
	end class

	new snd,_fx_pocket
	push "sounds/sfx/harfa.wav"
	call _fx_pocket,load
	new string,sItemMover
	push "null"
	pop sItemMover
	class classadvpocket
	parent classadvobject
	parent classadvbut
	parent gmimgvec
	method init
	localstring $1
	pop $1
	clparent classadvobject,init
	push $1
	clparent classadvbut,init
	clparent gmimgvec,init
	push "pocket"
	cthis setbuttyp
	push 1
	cthis setreach
	push "-hero"
	push "-main"
	cthis setadvbutpos
	new int,iX
	new int,iY
	new int,iNumItems
	push 0
	pop iNumItems
	new int,iMaxItems
	push 14
	pop iMaxItems
	new int,iScale
	new string,sState
	push "closed"
	pop sState
	new string,_sanim
	cthis getname
	pop _sanim
	push _spocketpref
	call _sanim,strsubbs
	pop _sanim
	new string,sItem
	push "null"
	pop sItem
	new string,sFocusItem
	push "null"
	pop sFocusItem
	new string,_sbase
	push "anpocket"
	pop _sbase
	new int,_ibase
	call _sbase,length
	pop _ibase
	new int,_ipcz
	push 1000
	pop _ipcz
	push _ipcz
	cthis setz
	new string,sitempath
	new vector,arPocket
	push "string"
	call arPocket,type
	new vector,arPocketFile
	push "string"
	call arPocketFile,type
	push "tim"
	push 1
	push 1
	push "evalpocket"
	cthis cnewtimercyclefin
	push "itempath:"
	push 1
	call modadv,get
	pop sitempath
	localint $2
	cthis getz
	pop $2
	new anima,imitem
	call imitem,anloopfin
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	new img,immarker
	push sitempath
	push "itemmarker.png"
	pop $b
	popax
	add $a,$b
	call immarker,load
	push $2
	push 1
	pop $b
	popax
	sub $a,$b
	call immarker,setz
	call immarker,hide
	push igmpad
	cmp0
	je l2492
	new img,imhelp
	push "heropath:"
	push 1
	call modadv,get
	push _sanim
	pop $b
	popax
	add $a,$b
	push "help.png"
	pop $b
	popax
	add $a,$b
	call imhelp,load
	push $2
	call imhelp,setz
	call imhelp,hide
l2492:
	cthis hide
	new int,bskip
	push 0
	pop bskip
	end method
	method addtoadv
	cthis getname
	cthis addtogamevars
	cthis enable
	cthis addasadvobject
	push igmpad
	cmp0
	je l2494
	push "imhelp"
	push _sanim
	pop $b
	popax
	add $a,$b
	call imhelp,addtogamevars
l2494:
	end method
	method removefromadv
	cthis disable
	cthis removefromadvobjs
	end method
	method hidepocket
	push sState
	push "closed"
	cmpjne
	cmp0
	je l2496
	push sState
	push "close"
	cmpjne
	cmp0
	je l2498
	cthis pockettoggle
	push 0
	call tim,stop
l2498:
l2499:
	push sState
	push "closed"
	cmpjne
	cmp0
	je l2500
	call tim,evalpocket
	push 0
	call tim,stop
	jmp l2499
l2500:
l2496:
	end method
	method exitpocket
	push "closed"
	pop sState
	push 0
	call tim,stop
	cthis hide
	end method
	method skip
	push 1
	pop bskip
	end method
	method skipitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2502
	push 1
	pop bskip
l2502:
	end method
	method additem
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	call arPocket,contains
	cmp0
	je l2504
	ret
l2504:
	push $1
	call arPocket,add
	push $2
	call arPocketFile,add
	localstring $3
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	spop $e
	new anima,[$e]
	push $3
	cthis add
	push $3
	spushs
	push sitempath
	push $2
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],load
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
	push $3
	spushs
	cthis getz
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],hide
	add iNumItems,1
	pop iNumItems
	end method
	method savestate
	localstring $1
	pop $1
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call arPocket,vecsave
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call arPocketFile,vecsave
	end method
	method loadstate
	localstring $1
	pop $1
	new vector,vpcp
	push "string"
	call vpcp,type
	new vector,vpcf
	push "string"
	call vpcf,type
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call vpcp,vecload
	push "saves/"
	cthis getname
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call vpcf,vecload
	localint $2
	push 0
	pop $2
l2505:
	push $2
	call vpcp,size
	cmpjl
	cmp0
	je l2506
	jmp l2508
l2507:
	add $2,1
	pop $2
	jmp l2505
l2508:
	push $2
	call vpcp,get
	push $2
	call vpcf,get
	cthis additem
	jmp l2507
l2506:
	delete vpcp
	delete vpcf
	end method
	method removeitem
	localstring $1
	pop $1
	localdef $2
	push _sbase
	call $1,strsubbs
	call arPocket,find
	pop $2
	push $2
	push 0
	cmpjl
	cmp0
	je l2510
	ret
l2510:
	push $2
	call arPocket,removeat
	push $2
	call arPocketFile,removeat
	push $1
	cthis remove
	push $1
	spushs
	spop $d
	delete [$d]
	sub iNumItems,1
	pop iNumItems
	push sState
	push "opened"
	cmpje
	cmp0
	je l2512
	cthis hide
l2512:
	end method
	method useitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2514
	push sItem
	cthis removeitem
	cthis itemhide
l2514:
	end method
	method pckremove
	localstring $1
	pop $1
	push _sbase
	push $1
	pop $b
	popax
	add $a,$b
	cthis removeitem
	end method
	method evalpocket
	cthis play
	push sState
	push "open"
	cmpje
	cmp0
	je l2516
	push 16
	popax
	add iScale,$a
	pop iScale
	jmp l2515
l2516:
	push sState
	push "close"
	cmpje
	cmp0
	je l2518
	push 16
	popax
	sub iScale,$a
	pop iScale
l2518:
l2515:
	push iScale
	push 116
	cmpja
	cmp0
	je l2520
	push 0
	cthis stop
	push 116
	pop iScale
	push "opened"
	pop sState
	push igmpad
	cmp0
	je l2522
	localint $1
	localint $2
	push iNumItems
	push 0
	cmpja
	cmp0
	je l2524
	localdef $3
	push iNumItems
	push 2
	pop $b
	popax
	div $a,$b
	psax
	cthis get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],getcx
	pop $1
	push $3
	spushs
	spop $a
	call [$a],getpy
	pop $2
	jmp l2523
l2524:
	push _sanim
	spushs
	spop $a
	call [$a],getcx
	pop $1
	push _sanim
	spushs
	spop $a
	call [$a],getpy
	pop $2
l2523:
	push $1
	call imhelp,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $2
	call imhelp,geth
	pop $b
	popax
	sub $a,$b
	push 10
	pop $b
	popax
	sub $a,$b
	call imhelp,setpos
	call imhelp,show
l2522:
	jmp l2519
l2520:
	push iScale
	push 0
	cmpjl
	cmp0
	je l2526
	push 0
	cthis stop
	push 0
	pop iScale
	push "closed"
	pop sState
l2526:
l2519:
	localreal $4
	push iScale
	push iScale
	pop $b
	popax
	mul $a,$b
	push 550
	pop $b
	popax
	div $a,$b
	psax
	pop $4
	localreal $5
	localstring $3
	localint $6
	push 0
	pop $6
l2527:
	push $6
	push iNumItems
	cmpjl
	cmp0
	je l2528
	jmp l2530
l2529:
	add $6,1
	pop $6
	jmp l2527
l2530:
	push $4
	push $6
	pop $b
	popax
	mul $a,$b
	push $4
	push iNumItems
	pop $b
	popax
	mul $a,$b
	push 2.0
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 90.0
	pop $b
	popax
	sub $a,$b
	push $4
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	pop $5
	push $6
	cthis get
	pop $3
	push $3
	spushs
	call $5,cos
	push iScale
	pop $b
	popax
	mul $a,$b
	push iX
	pop $b
	popax
	add $a,$b
	push 76
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call $5,sin
	push iScale
	pop $b
	popax
	mul $a,$b
	push iY
	pop $b
	popax
	add $a,$b
	push 75
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	je l2532
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
l2532:
	jmp l2529
l2528:
	push sState
	push "closed"
	cmpje
	cmp0
	je l2534
	cthis hide
l2534:
	end method
	method pocketpos
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push iX
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $4
	push $2
	push iY
	pop $b
	popax
	sub $a,$b
	pop $4
	push $3
	push $4
	cthis move
	push $1
	pop iX
	push $2
	pop iY
	end method
	method hidehelp
	push igmpad
	cmp0
	je l2536
	call imhelp,hide
l2536:
	end method
	method pockettoggle
	push sState
	push "opened"
	cmpje
	cmp0
	je l2538
	push "close"
	pop sState
	call immarker,hide
	cthis hidehelp
	call tim,play
	jmp l2537
l2538:
	push sState
	push "closed"
	cmpje
	cmp0
	je l2540
	push "open"
	pop sState
	call arPocket,size
	push 0
	cmpja
	cmp0
	je l2542
	call _fx_pocket,play
l2542:
	push _sanim
	spushs
	spop $a
	call [$a],getposx
	pop iX
	push _sanim
	spushs
	spop $a
	call [$a],getposy
	push _sanim
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	pop iY
	cthis itemhide
	cthis show
	call tim,evalpocket
	call tim,play
	jmp l2539
l2540:
	push sState
	push "open"
	cmpje
	cmp0
	je l2544
	push "close"
	pop sState
	jmp l2543
l2544:
	push sState
	push "close"
	cmpje
	cmp0
	je l2546
	push "open"
	pop sState
l2546:
l2543:
l2539:
l2537:
	end method
	method getitem
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2548
	push _sbase
	call sItem,strsubbs
	jmp l2547
l2548:
	push "null"
l2547:
	ret
	end method
	method itemhide
	push "null"
	pop sFocusItem
	push "null"
	pop sItem
	push 0
	call imitem,stop
	call imitem,hide
	push "null"
	pop sItemMover
	end method
	method printstate
	call sState,print
	call bskip,print
	end method
	method itemclick
	cthis skip
	push sState
	push "closed"
	cmpje
	cmp0
	je l2550
	cthis pockettoggle
	jmp l2549
l2550:
	push sState
	push "opened"
	cmpje
	cmp0
	je l2552
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l2554
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2556
	cthis pockettoggle
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
	cthis itemhide
	jmp l2555
l2556:
	push sFocusItem
	pop sItem
	push sItem
	call imitem,copy
	push sFocusItem
	spushs
	spop $a
	call [$a],hide
	push 1
	call imitem,play
	cthis getz
	push 1
	pop $b
	popax
	add $a,$b
	call imitem,setz
	cthis setitempos
	cthis getname
	pop sItemMover
l2555:
	jmp l2553
l2554:
	cthis pockettoggle
l2553:
	jmp l2551
l2552:
	push sState
	push "open"
	cmpje
	cmp0
	je l2558
	cthis pockettoggle
	jmp l2557
l2558:
	push sState
	push "close"
	cmpje
	cmp0
	je l2560
	cthis pockettoggle
l2560:
l2557:
l2551:
l2549:
	end method
	method preparetosort
	localint $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	clparent gmimgvec,isin
	pop $3
	push $3
	push 0
	cmpje
	cmp0
	je l2562
	push _sanim
	spushs
	spop $a
	call [$a],getz
	cthis setz
l2562:
	end method
	method endsort
	push _ipcz
	cthis setz
	end method
	method butisin
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $1
	push $2
	push $3
	push $4
	clparent gmimgvec,isin
	pop $5
	push $5
	cmp0
	je l2564
	push $5
	push 1
	pop $b
	popax
	sub $a,$b
	cthis get
	pop sFocusItem
	jmp l2563
l2564:
	push "null"
	pop sFocusItem
	push _sanim
	spushs
	push $1
	push $2
	push $3
	push $4
	spop $a
	call [$a],isin
	pop $5
	push igmpad
	cmp0
	je l2566
	push $5
	push 0
	cmpje
	jmp l2568
l2566:
	push 0
	jmp l2568
l2567:
	push 1
l2568:
	cmp0
	je l2569
	push $1
	push $2
	push $3
	push $4
	call imhelp,isin
	pop $5
l2569:
l2563:
	push $5
	ret
	end method
	method hide
	push "stop"
	push 0
	cthis eval1
	push "hide"
	cthis eval
	call immarker,hide
	cthis hidehelp
	end method
	method setitempos
	call mouse,getpx
	push 76
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call mouse,getpy
	push 75
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call imitem,setpos
	end method
	method itemmoveoff
	push sState
	push "opened"
	cmpje
	cmp0
	je l2571
	call immarker,hide
l2571:
	end method
	method itemmoveon
	push sState
	push "opened"
	cmpje
	cmp0
	je l2573
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l2575
	call immarker,show
	push sFocusItem
	spushs
	spop $a
	call [$a],getcx
	call immarker,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push sFocusItem
	spushs
	spop $a
	call [$a],getcy
	call immarker,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call immarker,setpos
l2575:
l2573:
	end method
	method checkusebutton
	localstring $1
	localstring $2
	pop $2
	pop $1
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	cthis behexist
	cmp0
	jne l2578
	push sFocusItem
	push "null"
	cmpjne
	cmp0
	je l2579
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_USE_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	push "_ON_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis behexist
	jmp l2581
l2579:
	push 0
	jmp l2581
l2580:
	push 1
l2581:
	jmp l2582
l2577:
	push 0
	jmp l2582
l2578:
	push 1
l2582:
	cmp0
	je l2583
	push $2
	spushs
	spop $d
	call advmouse,[$d]
l2583:
	end method
	method moveon
	push sItemMover
	push "null"
	cmpje
	cmp0
	je l2585
	cthis ismainhero
	cmp0
	jne l2588
	push "beh_"
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	push "_OPERATE_"
	pop $b
	popax
	add $a,$b
	push _sanim
	pop $b
	popax
	add $a,$b
	cthis behexist
	jmp l2589
l2587:
	push 0
	jmp l2589
l2588:
	push 1
l2589:
	cmp0
	je l2590
	call advmouse,setactive
l2590:
	jmp l2584
l2585:
	push sItemMover
	spushs
	cthis getname
	push "setactive"
	spop $a
	call [$a],checkusebutton
l2584:
	end method
	method onmouselclick
	localint $1
	localint $2
	pop $2
	pop $1
	push bskip
	cmp0
	je l2592
	push 0
	pop bskip
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2594
	push sState
	push "opened"
	cmpje
	cmp0
	je l2594
	push sFocusItem
	push "null"
	cmpje
	jmp l2596
l2594:
	push 0
	jmp l2596
l2595:
	push 1
l2596:
	cmp0
	je l2597
	cthis pockettoggle
l2597:
	jmp l2591
l2592:
	cthis ismainhero
	cmp0
	je l2599
	push sState
	push "opened"
	cmpje
	cmp0
	jne l2601
	push sState
	push "open"
	cmpje
	jmp l2602
l2600:
	push 0
	jmp l2602
l2601:
	push 1
l2602:
	cmp0
	je l2604
	cthis pockettoggle
	jmp l2603
l2604:
	cthis itemhide
l2603:
l2599:
l2591:
	end method
	method onmouserclick
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	cmp0
	je l2606
	push sState
	push "opened"
	cmpje
	cmp0
	je l2608
	push sFocusItem
	push "null"
	cmpjne
	jmp l2610
l2608:
	push 0
	jmp l2610
l2609:
	push 1
l2610:
	cmp0
	je l2611
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_ITEM_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sFocusItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
	jmp l2607
l2611:
	cthis ismainhero
	cmp0
	je l2613
	push "beh_RCLICK_"
	push _sanim
	pop $b
	popax
	add $a,$b
	cthis playbehif
	popax
l2613:
l2607:
l2606:
	end method
	method onmousemove
	localint $1
	localint $2
	pop $2
	pop $1
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2615
	cthis setitempos
l2615:
	push sState
	push "opened"
	cmpje
	cmp0
	je l2617
	push $1
	push $2
	push 1
	push 1
	cthis butisin
	jmp l2619
l2617:
	push 0
	jmp l2619
l2618:
	push 1
l2619:
	cmp0
	je l2620
	cthis itemmoveon
l2620:
	end method
	method moveoff
	call advmouse,setstd
	cthis itemmoveoff
	end method
	method ismainhero
	cthis getmainhero
	push _sanim
	cmpje
	end method
	method clickon
	cthis ismainhero
	cmp0
	je l2622
	push igmpad
	cmp0
	je l2624
	call mouse,getpos
	push 1
	push 1
	call imhelp,isin
	jmp l2626
l2624:
	push 0
	jmp l2626
l2625:
	push 1
l2626:
	cmp0
	je l2627
	push sItem
	push "null"
	cmpjne
	cmp0
	je l2629
	push "beh_"
	push _sanim
	pop $b
	popax
	add $a,$b
	push "_ITEM_"
	pop $b
	popax
	add $a,$b
	push _sbase
	call sItem,strsubbs
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
	jmp l2628
l2629:
	push "beh_RCLICK_"
	push _sanim
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l2628:
	cthis pockettoggle
	jmp l2623
l2627:
	call clwalkq,stand
	cthis itemclick
l2623:
	jmp l2621
l2622:
	cthis getname
	call clwalkq,visit
l2621:
	end method
	end class

	new string,sgmlastscene
	push "null"
	pop sgmlastscene
	new string,sgmglobpath
	push "null"
	pop sgmglobpath
	new string,sgmgame
	push "null"
	pop sgmgame
	new db,gdbsound
	push "saves/save.txt"
	new classfullsave,clsave
	new string,_slhpref
	push "cllh"
	pop _slhpref
	new string,_spathpref
	push "pt"
	pop _spathpref
	new string,_spocketpref
	push "pc"
	pop _spocketpref
	new string,_sstndpref
	push "stnd"
	pop _sstndpref
	new string,_stalkpref
	push "ctlk"
	pop _stalkpref
	new int,AdventureGame
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	method advgetscreenshoot
	call gameapi,getgamename
	spushs
	cthis getsavepath
	push "slot"
	pop $b
	popax
	add $a,$b
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	push ".bmp"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],cgetscreenshoot
	end method
	method advglobalscreenshoot
	cthis checktouchpad
	cmp0
	je l2631
	localint $1
	call ccs,isvisible
	pop $1
	call ccs,hide
	cthis advgetscreenshoot
	push $1
	cmp0
	je l2633
	call ccs,show
l2633:
l2631:
	end method
	module modadv
	method init
	new db,dbload
	new string,stalktype
	push "snd"
	cthis settalktype
	push "null"
	new Script,scrl
	new string,_stalk
	end method
	method execute
	localstring $1
	pop $1
	push $1
	call scrl,call
	end method
	method loadscript
	localstring $1
	pop $1
	push $1
	call scrl,load
	end method
	method loadsounds
	localstring $1
	pop $1
	push $1
	call gdbsound,load
	push igmdebug
	cmp0
	je l2635
	push "exports/adv.dlg"
	call gdbsound,save
l2635:
	end method
	method gettalktype
	push stalktype
	ret
	end method
	method settalktype
	localstring $1
	pop $1
	push $1
	pop stalktype
	end method
	method load
	localstring $1
	pop $1
	push $1
	call dbload,loadscript
	push "talk:"
	push 1
	cthis get
	pop _stalk
	end method
	method get
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push $1
	call dbload,findbyrow
	pop $3
	push $3
	push 0
	cmpjl
	cmp0
	je l2637
	push "modadv.dbload: can't find "
	push $1
	pop $b
	popax
	add $a,$b
	call engine,print
	push "null"
	ret
	jmp l2636
l2637:
	push $3
	push $2
	call dbload,get
	ret
l2636:
	end method
	end module

	module modadvglob
	method init
	new gmobjvec,grhero
	new gmobjvec,grfiles
	new gmobjvec,grpck
	end method
	method addhero
	localstring $1
	localstring $2
	localint $3
	pop $3
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 1
	call clsave,set
	localint $4
	push $1
	call grhero,find
	pop $4
	push $4
	push 0
	cmpjae
	cmp0
	je l2639
	push $4
	call grfiles,get
	push $2
	cmpjne
	cmp0
	je l2641
	push $4
	push $2
	call grfiles,set
	push $1
	spushs
	push $2
	cthis getpath
	spop $a
	call [$a],load
l2641:
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $3
	cmp0
	je l2643
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],addtoadv
l2643:
	push 0
	ret
	jmp l2638
l2639:
	push $1
	push $2
	push 0
	cthis newanima
	push $1
	spushs
	push $1
	spop $a
	call [$a],addtogamevars
	push $1
	call grhero,add
	push $2
	call grfiles,add
	push $3
	cmp0
	je l2645
	localstring $5
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	cthis hasvar
	neg
	cmp0
	je l2647
	push $5
	spushs
	push $1
	spop $e
	new classadvpocket,[$e]
	push $5
	call grpck,add
	push $5
	spushs
	spop $a
	call [$a],addtoadv
	jmp l2646
l2647:
	push $5
	spushs
	spop $a
	call [$a],addtoadv
l2646:
l2645:
	push 1
	ret
l2638:
	end method
	method reloadhero
	localstring $1
	pop $1
	localint $2
	push $1
	call grhero,find
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l2649
	localstring $3
	push $2
	call grfiles,get
	pop $3
	push $1
	push 0
	cthis _delhero
	push $1
	push $3
	push 0
	cthis addhero
	popax
l2649:
	end method
	method reloadherofile
	localstring $1
	localstring $2
	pop $2
	pop $1
	localint $3
	push $1
	call grhero,find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l2651
	push $3
	push $2
	call grfiles,set
	push $1
	push 0
	cthis _delhero
	push $1
	push $2
	push 0
	cthis addhero
	popax
l2651:
	end method
	method delhero
	localstring $1
	pop $1
	push $1
	push 1
	cthis _delhero
	end method
	method delheros
l2652:
	call grhero,size
	cmp0
	je l2653
	call grhero,first
	cthis delhero
	jmp l2652
l2653:
	end method
	method _delhero
	localstring $1
	localint $2
	pop $2
	pop $1
	push "hero_"
	push $1
	pop $b
	popax
	add $a,$b
	push "_active"
	pop $b
	popax
	add $a,$b
	push 0
	call clsave,set
	localint $3
	push $1
	call grhero,find
	pop $3
	push $3
	push 0
	cmpjae
	cmp0
	je l2655
	localstring $4
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	cthis hasvar
	cmp0
	je l2657
	push $2
	jmp l2659
l2657:
	push 0
	jmp l2659
l2658:
	push 1
l2659:
	cmp0
	je l2660
	push $4
	call grpck,remove
	push $4
	spushs
	spop $a
	call [$a],removefromadv
	push $4
	spushs
	spop $d
	delete [$d]
l2660:
	push $3
	call grhero,removeat
	push $3
	call grfiles,removeat
	push $1
	spushs
	spop $d
	delete [$d]
l2655:
	end method
	method savepck
	localstring $1
	pop $1
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,vecsave
	localint $2
	push 0
	pop $2
l2661:
	push $2
	call grpck,size
	cmpjl
	cmp0
	je l2662
	jmp l2664
l2663:
	add $2,1
	pop $2
	jmp l2661
l2664:
	push $2
	call grpck,get
	spushs
	push $1
	spop $a
	call [$a],savestate
	jmp l2663
l2662:
	end method
	method loadpck
	localstring $1
	pop $1
	localdef $2
	localdef $3
	localint $4
	push 0
	pop $4
l2665:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l2666
	jmp l2668
l2667:
	add $4,1
	pop $4
	jmp l2665
l2668:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	push $2
	spushs
	spop $d
	delete [$d]
	jmp l2667
l2666:
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call grpck,vecload
	push 0
	pop $4
l2669:
	push $4
	call grpck,size
	cmpjl
	cmp0
	je l2670
	jmp l2672
l2671:
	add $4,1
	pop $4
	jmp l2669
l2672:
	push $4
	call grpck,get
	pop $2
	push $2
	spushs
	push _spocketpref
	call $2,strsubbs
	spop $e
	new classadvpocket,[$e]
	push $2
	spushs
	push $1
	spop $a
	call [$a],loadstate
	push $2
	spushs
	spop $a
	call [$a],removefromadv
	jmp l2671
l2670:
	end method
	method onexit
	localstring $1
	localint $2
	push 0
	pop $2
l2673:
	push $2
	call grhero,size
	cmpjl
	cmp0
	je l2674
	jmp l2676
l2675:
	add $2,1
	pop $2
	jmp l2673
l2676:
	push $2
	call grhero,get
	pop $1
	push $1
	spushs
	push 0
	spop $a
	call [$a],stop
	push $1
	spushs
	spop $a
	call [$a],hide
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	cthis hasvar
	cmp0
	je l2678
	push _spocketpref
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],exitpocket
l2678:
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	spop $a
	call [$a],unlinkanima
	jmp l2675
l2674:
	end method
	method print
	call grhero,print
	call grfiles,print
	call grpck,print
	end method
	end module

	class classloadedhero
	method init
	new string,sanhero
	new int,bplaystart
	push 0
	pop bplaystart
	new int,bplaystop
	push 0
	pop bplaystop
	end method
	method setplaystart
	localint $1
	pop $1
	push $1
	pop bplaystart
	end method
	method setplaystop
	localint $1
	pop $1
	push $1
	pop bplaystop
	end method
	method getstartstop
	push bplaystart
	push bplaystop
	ret
	end method
	end class

	class classadvcontroller
	parent classadv
	method init
	push 1
	pop AdventureGame
	clparent classadv,init
	push "sndpath:"
	push 1
	call modadv,get
	cthis setwavpath
	new snd,__sndplay
	call __sndplay,classadvcontroller0
	push 0
	pop igmstate
	new classstndgroup,modstnd
	new Music,_music
	new timer,_tim_dbclk
	push 200
	call _tim_dbclk,setdelay
	new int,_if_pos
	push 1
	popax
	sub 0,$a
	pop _if_pos
	push "_dbbh"
	new classobjcounter,clcbeh
	new string,_sbeh
	push "clbeh"
	pop _sbeh
	new int,iidbeh
	push "dbadv"
	new classobjcounter,clcadv
	new db,dbmacros
	new vector,_vecarg
	push "string"
	call _vecarg,type
	new classadvcamera,clcamera
	push "advmsmove"
	call clcamera,setmetonmsmove
	new classwalkerqueue,clwalkq
	new gmadvvec,grbuts
	new gmimgvec,grmsmove
	new gmimgvec,grmslclick
	new gmimgvec,grmsrclick
	new gmimgvec,grmslrel
	new gmobjvec,grsndsrcs
	push "csndsrc"
	new classobjcounter,csndsrc
	push "_timsndsrc"
	push "classadvcontroller2"
	cthis cycle=
	call _timsndsrc,play
	new string,_susetool
	push "null"
	pop _susetool
	new string,_slastms
	push "null"
	pop _slastms
	new int,bmslock
	push 0
	pop bmslock
	new int,_b_rewind
	push 1
	pop _b_rewind
	new string,sactbeh
	push "null"
	pop sactbeh
	new string,slastpathf
	new int,licznik
	push 0
	pop licznik
	new string,smainhero
	push "null"
	pop smainhero
	cthis advsaveonstart
	localstring $1
	localstring $2
	push sgmgame
	push "null"
	cmpje
	cmp0
	je l2684
	cthis getname
	pop sgmgame
l2684:
	new string,sprivgame
	push sgmgame
	pop sprivgame
	push "null"
	pop sgmgame
	push "game"
	call sprivgame,strsubbs
	pop $2
	push sgmglobpath
	push "null"
	cmpjne
	cmp0
	je l2686
	push sgmglobpath
	pop $1
	push "null"
	pop sgmglobpath
	jmp l2685
l2686:
	push $2
	pop $1
l2685:
	push "scripts/"
	push $1
	pop $b
	popax
	add $a,$b
	push "/"
	pop $b
	popax
	add $a,$b
	cthis setgraphpath
	push $2
	push ".adv"
	pop $b
	popax
	add $a,$b
	cthis loadadventure
	call grbuts,sortimgs
	push smainhero
	push "null"
	cmpje
	cmp0
	je l2688
	call clcamera,getactor
	pop smainhero
l2688:
	call clcamera,start
	call clcamera,setscene
	call clwalkq,start
	push 1
	call clwalkq,setverlen
	call advmouse,setstd
	push "preinit"
	cthis behexist
	cmp0
	je l2690
	push "preinit"
	cthis getname
	push "playbehinit"
	cthis playbehobfin
	jmp l2689
l2690:
	cthis playbehinit
l2689:
	call grbuts,sortimgs
	push "_advtimmove"
	push "classadvcontroller4"
	cthis cycle=
	cthis advglobalscreenshoot
	end method
	method classadvcontroller0
	push A
	push "sfun"
	push "null"
	push "sob"
	push "null"
	cthis vars2
	push 0
	push 1
	cthis setstartstopflag
	push "onfinish"
	push "classadvcontroller1"
	cthis addmethod
	end method
	method classadvcontroller1
	push sob
	push sfun
	cthis callfun
	end method
	method classadvcontroller2
	push "classadvcontroller3"
	call grsndsrcs,eval
	cthis play
	end method
	method classadvcontroller3
	localint $1
	localint $2
	localdef $3
	cthis getmainhero
	pop $3
	push $3
	push "null"
	cmpje
	cmp0
	je l2680
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $1
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $2
	jmp l2679
l2680:
	push $3
	spushs
	spop $a
	call [$a],getposx
	pop $1
	push $3
	spushs
	spop $a
	call [$a],getposy
	pop $2
l2679:
	localreal $4
	push slinkedobj
	push "-pos"
	cmpje
	cmp0
	je l2682
	push iobjx
	push $1
	pop $b
	popax
	sub $a,$b
	call clcamera,getposx
	pop $b
	popax
	add $a,$b
	push iobjy
	push $2
	pop $b
	popax
	sub $a,$b
	call clcamera,getposy
	pop $b
	popax
	add $a,$b
	call $4,length
	pop $4
	jmp l2681
l2682:
	push slinkedobj
	spushs
	spop $a
	call [$a],getcx
	push $1
	pop $b
	popax
	sub $a,$b
	push slinkedobj
	spushs
	spop $a
	call [$a],getcy
	push $2
	pop $b
	popax
	sub $a,$b
	call $4,length
	pop $4
l2681:
	push slinkedfx
	push slinkedfx
	spushs
	spop $a
	call [$a],getvol
	push ioutervol
	push rradious
	push $4
	clparent SoundSource,setvol
	end method
	method classadvcontroller4
	cthis advmsmove
	cthis play
	end method
	method playbehinit
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bis
	cmp0
	je l2692
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2694
	jmp l2693
l2694:
	push "behinit"
	cthis playpostinit
	cmp0
	je l2696
l2696:
l2693:
	jmp l2691
l2692:
	push sprivgame
	push "visited"
	pop $b
	popax
	add $a,$b
	call clsave,bset
	push "behinit0_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2698
	jmp l2697
l2698:
	push "behinit0"
	cthis playpostinit
	cmp0
	je l2700
	jmp l2699
l2700:
	push "behinit_FROM_"
	push sgmlastscene
	pop $b
	popax
	add $a,$b
	cthis playpostinit
	cmp0
	je l2702
	jmp l2701
l2702:
	push "behinit"
	cthis playpostinit
	cmp0
	je l2704
l2704:
l2701:
l2699:
l2697:
l2691:
	end method
	method getmainhero
	push smainhero
	ret
	end method
	method setmainhero
	localstring $1
	pop $1
	push $1
	pop smainhero
	end method
	method ismainhero
	localstring $1
	pop $1
	push smainhero
	push $1
	cmpje
	ret
	end method
	method setactbeh
	localstring $1
	pop $1
	push $1
	pop sactbeh
	end method
	method getactbeh
	push sactbeh
	ret
	end method
	method advgetlock
	push bmslock
	ret
	end method
	method advmslock
	push 1
	pop bmslock
	call advmouse,setwait
	end method
	method advmsunlock
	push 0
	pop bmslock
	call advmouse,setstd
	end method
	method advmssetlock
	localint $1
	pop $1
	push $1
	cmp0
	je l2706
	cthis advmslock
	jmp l2705
l2706:
	cthis advmsunlock
l2705:
	end method
	method setusetool
	localstring $1
	pop $1
	push $1
	pop _susetool
	end method
	method getusetool
	push _susetool
	ret
	end method
	method playpostinit
	localstring $1
	pop $1
	push $1
	call gameapi,getgamename
	push "postinit"
	cthis playbehobfinif
	ret
	end method
	method playbeh
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playbehfin
	end method
	method playbehif
	localstring $1
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2708
	push $1
	push "null"
	cthis playbehfin
	push 1
	ret
l2708:
	push 0
	ret
	end method
	method playbehfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis playbehobfin
	end method
	method playbehfinif
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2710
	push $1
	push $2
	cthis playbehfin
	push 1
	ret
l2710:
	push 0
	ret
	end method
	method playbehobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis getbeh
	spushs
	push $2
	push $3
	spop $a
	call [$a],playfin
	end method
	method playbehobfinif
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis behexist
	cmp0
	je l2712
	push $1
	push $2
	push $3
	cthis playbehobfin
	push 1
	ret
l2712:
	push 0
	ret
	end method
	method playnewgamepath
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmglobpath
	push sprivgame
	pop sgmlastscene
	push "lastscene"
	push sgmlastscene
	call clsave,set
	push $1
	call gameapi,play
	end method
	method playnewgame
	localstring $1
	pop $1
	push $1
	push "null"
	cthis playnewgamepath
	end method
	method playfromscript
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop sgmgame
	push "defaultadv:"
	push 1
	call modadv,get
	push $1
	cthis playnewgamepath
	end method
	method getheroloader
	localstring $1
	pop $1
	push _slhpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call engine,varexist
	cmp0
	je l2714
	push $1
	jmp l2713
l2714:
	push "null"
l2713:
	end method
	method advanstand
	localstring $1
	pop $1
	localstring $2
	push _spathpref
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	call engine,varexist
	cmp0
	je l2716
	push $2
	spushs
	spop $a
	call [$a],iswalking
	jmp l2718
l2716:
	push 0
	jmp l2718
l2717:
	push 1
l2718:
	cmp0
	je l2719
	push $2
	spushs
	push 0
	spop $a
	call [$a],stop
	push $2
	spushs
	spop $a
	call [$a],stand
l2719:
	end method
	method reloadhero
	localstring $1
	pop $1
	push $1
	cthis _getheropath
	cthis anreload
	localstring $2
	push _spathpref
	cthis getname
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	cthis getname
	spop $a
	call [$a],linkanima
	push $2
	spushs
	spop $a
	call [$a],linkfilter
	push $2
	spushs
	spop $a
	call [$a],scalean
	end method
	method analizeanopts
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localstring $7
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localreal $8
	localreal $9
	localstring $10
	localstring $11
	localint $12
	push 0
	pop $12
	localint $13
	push 0
	pop $13
	localint $14
	localint $15
	localint $16
	localint $17
	push 0
	pop $17
l2720:
	push $3
	push $4
	cmpjl
	cmp0
	je l2721
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-stt"
	cmpst
	jne l2723
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $12
	add $3,1
	pop $3
	jmp l2722
l2723:
	push "-stp"
	cmpst
	jne l2724
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $13
	add $3,1
	pop $3
	jmp l2722
l2724:
	push "-wav"
	cmpst
	jne l2725
	spop $a
	push _slhpref
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	pop $10
	add $3,1
	pop $3
	push $10
	spushs
	spop $e
	new classloadedhero,[$e]
	push $10
	spushs
	push "sanhero"
	push $5
	spop $a
	call [$a],varset
	push $6
	spushs
	push $10
	spop $a
	call [$a],add
	jmp l2722
l2725:
	push "-path"
	cmpst
	jne l2726
	spop $a
	push $5
	clparent classadvanhero,buildheroframe
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $8
	add $3,1
	pop $3
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	push $5
	push $10
	push $8
	cthis newclpathfcopy
	push $11
	spushs
	spop $a
	call [$a],prepareforhero
	push $11
	push "look"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherolooker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "use"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherouser,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	push $11
	push "take"
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classherotaker,[$e]
	push $10
	spushs
	push $5
	spop $a
	call [$a],link
	jmp l2722
l2726:
	push "-ft"
	cmpst
	jne l2727
	spop $a
	push _spathpref
	push $5
	pop $b
	popax
	add $a,$b
	pop $11
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $8
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $11
	spushs
	spop $a
	call [$a],linkfilter
	push $11
	spushs
	push $8
	spop $a
	call [$a],setzsize
	push $11
	spushs
	push $9
	spop $a
	call [$a],setscalepower
	jmp l2722
l2727:
	push "-stnd"
	cmpst
	jne l2728
	spop $a
	push _sstndpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
	add $3,1
	pop $3
	jmp l2722
l2728:
	push "-txt"
	cmpst
	jne l2729
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $14
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $15
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $16
	add $3,1
	pop $3
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $14
	push $15
	push $16
	spop $a
	call [$a],settxtcolor
	jmp l2722
l2729:
	push "-font"
	cmpst
	jne l2730
	spop $a
	push 1
	pop $17
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $7
	push "hero:"
	cmpje
	cmp0
	je l2732
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push $10
	push $11
	spop $a
	call [$a],setfont
l2732:
	jmp l2722
l2730:
	spop $a
	push $1
	push $2
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	push $5
	cthis analizeaninstr
	pop $3
l2722:
	jmp l2720
l2721:
	push $17
	neg
	cmp0
	je l2734
	push $7
	push "hero:"
	cmpje
	jmp l2736
l2734:
	push 0
	jmp l2736
l2735:
	push 1
l2736:
	cmp0
	je l2737
	push _stalkpref
	push $5
	pop $b
	popax
	add $a,$b
	spushs
	push "font:"
	push 1
	call modadv,get
	push "font:"
	push 2
	call modadv,get
	spop $a
	call [$a],setfont
l2737:
	push $6
	spushs
	push "setplaystart"
	push $12
	spop $a
	call [$a],eval1
	push $6
	spushs
	push "setplaystop"
	push $13
	spop $a
	call [$a],eval1
	push $6
	spushs
	spop $a
	call [$a],free
	end method
	method setasadvanima
	cthis getname
	push "cadvherofinish"
	clparent classadvanhero,setashero
	end method
	method analizebut
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $5
	localstring $6
	localstring $7
	localint $8
	localint $9
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $6
	add $4,1
	pop $4
	push ".pyz"
	call $6,contains
	cmp0
	je l2739
	push $6
	pop $7
	push "an"
	push 4
	call $6,strsube
	pop $b
	popax
	add $a,$b
	pop $6
	push $6
	push $7
	push 0
	cthis newanima
l2739:
	push 1
	call $1,strsube
	pop $1
	push $6
	push $5
	push $1
	clparent classadvbut,setasbutton2
	push "setas"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $6
	spop $d
	clparent classadvbut,[$d]
	push $6
	spushs
	push $6
	spushs
	spop $a
	call [$a],getcx
	push $6
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setadvbutpos
l2740:
	push $4
	push $2
	spushs
	push $3
	spop $a
	call [$a],getcolsno
	cmpjl
	cmp0
	je l2741
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],get
	spushs
	push "-pos"
	cmpst
	jne l2743
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	push $5
	push "-id"
	cmpje
	cmp0
	je l2745
	push slastpathf
	push "null"
	cmpjne
	jmp l2747
l2745:
	push 0
	jmp l2747
l2746:
	push 1
l2747:
	cmp0
	je l2748
	push slastpathf
	spushs
	push $7
	spop $a
	call [$a],getbyname
	pop $8
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getxver
	push slastpathf
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $5
	push slastpathf
	spushs
	push $8
	spop $a
	call [$a],getyver
	push slastpathf
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $7
l2748:
	push $6
	spushs
	push $5
	push $7
	spop $a
	call [$a],setadvbutpos
	jmp l2742
l2743:
	push "-bs1"
	cmpst
	jne l2749
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
	add $4,1
	pop $4
	jmp l2742
l2749:
	push "-bs2"
	cmpst
	jne l2750
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
	add $4,1
	pop $4
	jmp l2742
l2750:
	push "-us1"
	cmpst
	jne l2751
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse1=
	add $4,1
	pop $4
	jmp l2742
l2751:
	push "-us2"
	cmpst
	jne l2752
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],baseuse2=
	add $4,1
	pop $4
	jmp l2742
l2752:
	push "-useon"
	cmpst
	jne l2753
	spop $a
	push $6
	spushs
	push "use:"
	push 1
	call modadv,get
	spop $a
	call [$a],setbutbase1
	push $6
	spushs
	push "use:"
	push 2
	call modadv,get
	spop $a
	call [$a],setbutbase2
	jmp l2742
l2753:
	push "-dir"
	cmpst
	jne l2754
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutdir
	add $4,1
	pop $4
	jmp l2742
l2754:
	push "-noreach"
	cmpst
	jne l2755
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],setreach
	jmp l2742
l2755:
	push "-nh"
	cmpst
	jne l2756
	spop $a
	push $6
	spushs
	push 0
	spop $a
	call [$a],hideontake=
	jmp l2742
l2756:
	push "-pck"
	cmpst
	jne l2757
	spop $a
	push $6
	spushs
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	spop $a
	call [$a],setpocket
	add $4,1
	pop $4
	jmp l2742
l2757:
	push "-mask"
	cmpst
	jne l2758
	spop $a
	push $6
	clparent classadvbut,setasmask
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l2742
l2758:
	push "-inpck"
	cmpst
	jne l2759
	spop $a
	push $6
	spushs
	spop $a
	call [$a],hideontake
	cmp0
	je l2761
	push $6
	spushs
	spop $a
	call [$a],hide
	jmp l2760
l2761:
	push $6
	spushs
	push "but"
	spop $a
	call [$a],setbuttyp
l2760:
	cthis getmainhero
	pop $5
	push $5
	push "null"
	cmpje
	cmp0
	je l2763
	call clcamera,getactor
	pop $5
l2763:
	push $5
	spushs
	spop $a
	call [$a],getpocket
	spushs
	push $6
	spushs
	spop $a
	call [$a],getbutname
	push $6
	spushs
	spop $a
	call [$a],getpocket
	spop $a
	call [$a],additem
	jmp l2742
l2759:
	push "-disable"
	cmpst
	jne l2764
	spop $a
	push $6
	spushs
	spop $a
	call [$a],disable
	jmp l2742
l2764:
	push "-once"
	cmpst
	jne l2765
	spop $a
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $5
	add $4,1
	pop $4
	push $6
	spushs
	push $5
	spop $a
	call [$a],setonce
	push $5
	call clsave,bis
	cmp0
	je l2767
	push $6
	spushs
	spop $a
	call [$a],disable
l2767:
	jmp l2742
l2765:
	spop $a
l2742:
	jmp l2740
l2741:
	end method
	method _getheropath
	localstring $1
	pop $1
	localstring $2
	push $1
	cthis getpath
	pop $2
	push $2
	call engine,fileexist
	cmp0
	je l2769
	push "$"
	push $2
	pop $b
	popax
	add $a,$b
	jmp l2768
l2769:
	push "$"
	push "heropath:"
	push 1
	call modadv,get
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
l2768:
	end method
	method loadadventure
	localstring $1
	pop $1
	localstring $2
	call clcadv,get
	pop $2
	localstring $3
	push "grpers"
	call clcadv,size
	pop $b
	popax
	add $a,$b
	pop $3
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localint $4
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	pop $4
	localint $5
	localint $6
	localint $7
	localint $8
	localstring $9
	localstring $10
	localstring $11
	localint $12
	localint $13
	localint $14
	localreal $15
	localreal $16
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $2
	spop $e
	new Script,[$e]
	localstring $17
	push ""
	pop $17
	push $3
	spushs
	spop $e
	new gmobjvec,[$e]
	localint $18
	push 0
	pop $18
l2770:
	push $18
	push $4
	cmpjl
	cmp0
	je l2771
	jmp l2773
l2772:
	add $18,1
	pop $18
	jmp l2770
l2773:
	push 0
	pop $5
	push $2
	spushs
	push $18
	spop $a
	call [$a],getcolsno
	pop $6
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	spushs
	push "setpath:"
	cmpst
	jne l2775
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $17
	cthis setgraphpath
	jmp l2774
l2775:
	push "nopath:"
	cmpst
	jne l2776
	spop $a
	push ""
	pop $17
	push $17
	cthis setgraphpath
	jmp l2774
l2776:
	push "func"
	cmpst
	jne l2777
	spop $a
l2778:
	push $2
	spushs
	push $18
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l2779
	add $18,1
	pop $18
	jmp l2778
l2779:
	jmp l2774
l2777:
	push "sndpath:"
	cmpst
	jne l2780
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	cthis setwavpath
	jmp l2774
l2780:
	push "hero:"
	cmpst
	je l2782
	push "an:"
	cmpst
	je l2782
	jmp l2781
l2782:
	spop $a
	push $2
	spushs
	push $18
	push "-global"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push "-pck"
	spop $a
	call [$a],dbdelvar
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push ".pyz"
	call $11,contains
	cmp0
	je l2784
	push $11
	pop $10
	push "an"
	push ".pyz"
	call $11,strsubes
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l2783
l2784:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2783:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2786
	push ".pyz"
	call $10,contains
	cmp0
	je l2788
	push $10
	cthis _getheropath
	pop $10
l2788:
l2786:
	push ".pyz"
	call $10,contains
	cmp0
	je l2790
	push $7
	cmp0
	je l2792
	push $11
	push $10
	push $8
	call modadvglob,addhero
	cmp0
	je l2794
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
l2794:
	sub $6,1
	pop $6
	jmp l2791
l2792:
	push $11
	push $10
	push 0
	cthis newanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2796
	push $8
	jmp l2798
l2796:
	push 0
	jmp l2798
l2797:
	push 1
l2798:
	cmp0
	je l2799
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l2799:
l2791:
	jmp l2789
l2790:
	push $10
	push $11
	cthis copyanima
	push $11
	spushs
	spop $a
	call [$a],setasadvanima
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2801
	push $8
	jmp l2803
l2801:
	push 0
	jmp l2803
l2802:
	push 1
l2803:
	cmp0
	je l2804
	push _spocketpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	push $11
	spop $e
	new classadvpocket,[$e]
l2804:
l2789:
	push $8
	cmp0
	je l2806
	sub $6,1
	pop $6
l2806:
	push $9
	push "hero:"
	cmpje
	cmp0
	je l2808
	push _sstndpref
	push $11
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new classadvstander,[$e]
	push _stalkpref
	push $11
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	spop $e
	new classtalker,[$e]
	push $10
	spushs
	push $11
	spop $a
	call [$a],set
	push $10
	spushs
	push "gdbsound"
	spop $a
	call [$a],settextdb
l2808:
	push $2
	push $18
	push $5
	push $6
	push $11
	push $3
	push $9
	cthis analizeanopts
	jmp l2774
l2781:
	push "anaac:"
	cmpst
	jne l2809
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push 0
	pop $8
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2811
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2810
l2811:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2810:
	push $7
	cmp0
	je l2813
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l2812
l2813:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l2812:
	push ".pyz"
	call $10,contains
	cmp0
	je l2815
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
	push 1
	pop $8
l2815:
	push $10
	push $9
	push $9
	cthis newanactionsgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	push $8
	cmp0
	je l2817
	push $10
	spushs
	spop $a
	call [$a],hide
l2817:
	jmp l2774
l2809:
	push "anaf:"
	cmpst
	jne l2818
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2820
	push $9
	pop $10
	push "an"
	push ".pyz"
	call $9,strsubes
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2819
l2820:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2819:
	push $9
	spushs
	spop $e
	new gmimgvec,[$e]
	push ".pyz"
	call $10,contains
	cmp0
	je l2822
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	push $10
	push 0
	cthis newanima
	push "_"
	push $9
	pop $b
	popax
	add $a,$b
	pop $10
l2822:
	push $10
	push $9
	push $9
	cthis newanfrbyactgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2818:
	push "anfac:"
	cmpst
	jne l2823
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $7
	cmp0
	je l2825
	sub $6,1
	pop $6
	push $9
	spushs
	spop $e
	new gmmaskvec,[$e]
	jmp l2824
l2825:
	push $9
	spushs
	spop $e
	new gmadvvec,[$e]
l2824:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $10
	push $9
	push $10
	spushs
	push $11
	spop $a
	call [$a],actionnr
	push $9
	cthis newanframesgr
	pop $7
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2823:
	push "anac:"
	cmpst
	jne l2826
	spop $a
	push $2
	spushs
	push $18
	push "-adv"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $11
	clparent StringChecker,isdigit
	cmp0
	je l2828
	push $10
	spushs
	push $11
	spop $a
	call [$a],nameofaction
	pop $11
l2828:
	push $10
	push $9
	push $11
	cthis copyanimaact
	push $7
	cmp0
	je l2830
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l2830:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2826:
	push "anf:"
	cmpst
	jne l2831
	spop $a
	push $2
	spushs
	push $18
	push "-mask"
	spop $a
	call [$a],dbdelvar
	pop $7
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $11
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $10
	push $9
	cthis copyanima
	push $9
	spushs
	push $11
	push $8
	spop $a
	call [$a],setframe
	push $7
	cmp0
	je l2833
	sub $6,1
	pop $6
	push $9
	spushs
	spop $a
	call [$a],setasadvanima
l2833:
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2831:
	push "anorder:"
	cmpst
	jne l2834
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2834:
	push "behfile:"
	cmpst
	jne l2835
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l2774
l2835:
	push "include:"
	cmpst
	jne l2836
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	cthis loadadventure
	add $5,1
	pop $5
	jmp l2774
l2836:
	push "walkqueue:"
	cmpst
	jne l2837
	spop $a
l2838:
	push $5
	push $6
	cmpjl
	cmp0
	je l2839
	push _spathpref
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call clwalkq,add
	add $5,1
	pop $5
	jmp l2838
l2839:
	jmp l2774
l2837:
	push "font:"
	cmpst
	jne l2840
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new font,[$e]
	push $9
	spushs
	push $10
	push $7
	spop $a
	call [$a],load
	jmp l2774
l2840:
	push "bkg:"
	cmpst
	jne l2841
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push ".pyz"
	call $9,contains
	cmp0
	je l2843
	push "imgbkg"
	push $9
	push 0
	cthis newanima
	jmp l2842
l2843:
	push "imgbkg"
	push $9
	push 0
	cthis newimg
l2842:
	push $2
	push $18
	push $5
	push "imgbkg"
	cthis analizeaninstr
	pop $5
	jmp l2774
l2841:
	push "img:"
	cmpst
	jne l2844
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push 0
	push 4
	call $9,gete
	spushs
	push A
	push ".jpg"
	push ".png"
	spop $h
	call $h,in
	cmp0
	je l2846
	push $9
	pop $10
	push "img"
	push 4
	call $9,strsube
	pop $b
	popax
	add $a,$b
	pop $9
	jmp l2845
l2846:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
l2845:
	push $9
	push $10
	push 0
	cthis newimg
	push $2
	push $18
	push $5
	push $9
	cthis analizeaninstr
	pop $5
	jmp l2774
l2844:
	push "but:"
	cmpst
	je l2848
	push "doors:"
	cmpst
	je l2848
	push "item:"
	cmpst
	je l2848
	jmp l2847
l2848:
	spop $a
	push $9
	push $2
	push $18
	push $5
	cthis analizebut
	jmp l2774
l2847:
	push "camera:"
	cmpst
	jne l2849
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $15
	push $16
	call clcamera,scalemodifiers
l2850:
	push $5
	push $6
	cmpjl
	cmp0
	je l2851
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push "-size"
	cmpje
	cmp0
	je l2853
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	push $8
	call clcamera,setborders
	jmp l2852
l2853:
	push $9
	push "-center"
	cmpje
	cmp0
	je l2855
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
	push $7
	push $8
	call clcamera,setcenter
	jmp l2854
l2855:
	push $9
	push "-sizebg"
	cmpje
	cmp0
	je l2857
	call imgbkg,getw
	call imgbkg,geth
	call clcamera,setborders
l2857:
l2854:
l2852:
	jmp l2850
l2851:
	jmp l2774
l2849:
	push "actor:"
	cmpst
	jne l2858
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clcamera,setactor
	add $5,1
	pop $5
	jmp l2774
l2858:
	push "bgr:"
	cmpst
	jne l2859
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $16
	add $5,1
	pop $5
	push $9
	spushs
	spop $e
	new classbgplan,[$e]
	push $9
	push $15
	push $16
	call clcamera,addbgr
	jmp l2774
l2859:
	push "pathfinder:"
	cmpst
	jne l2860
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push ".ptf"
	call $10,contains
	cmp0
	je l2862
	push 20
	pop $7
	push 20
	pop $8
	jmp l2861
l2862:
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	add $5,1
	pop $5
l2861:
	push slastpathf
	push $10
	push $7
	push $8
	cthis newpathf
	jmp l2774
l2860:
	push "script:"
	cmpst
	jne l2863
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	spushs
	push $10
	spop $e
	new Script,[$e]
	jmp l2774
l2863:
	push "func:"
	cmpst
	jne l2864
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	sub $6,1
	pop $6
	call clcadv,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $7
l2865:
	push $7
	push 0
	cmpjae
	cmp0
	je l2866
	jmp l2868
l2867:
	sub $7,1
	pop $7
	jmp l2865
l2868:
	push $7
	call clcadv,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $10
	spop $a
	call [$a],containsfun
	cmp0
	je l2870
	push 3
	pop $7
l2871:
	push $7
	push $6
	cmpjl
	cmp0
	je l2872
	jmp l2874
l2873:
	add $7,1
	pop $7
	jmp l2871
l2874:
	push $9
	spushs
	push $7
	push 3
	pop $b
	popax
	sub $a,$b
	push $2
	spushs
	push $18
	push $7
	spop $a
	call [$a],get
	spop $a
	call [$a],ARG=
	jmp l2873
l2872:
	push 1
	popax
	sub 0,$a
	pop $7
	push $9
	spushs
	push $10
	spop $a
	call [$a],call
l2870:
	jmp l2867
l2866:
	jmp l2774
l2864:
	push "IF"
	cmpst
	jne l2875
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $18
	push $5
	push $6
	cthis _found_if
	pop $18
	jmp l2774
l2875:
	push "ELSE"
	cmpst
	jne l2876
	spop $a
	push $2
	push $18
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $18
	jmp l2774
l2876:
	push "FI"
	cmpst
	jne l2877
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l2879
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l2879:
	jmp l2774
l2877:
	push "bsave:"
	cmpst
	jne l2880
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	call clsave,bset
	add $5,1
	pop $5
	jmp l2774
l2880:
	push "save:"
	cmpst
	jne l2881
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $9
	push $10
	call clsave,set
	jmp l2774
l2881:
	push "stdptf:"
	cmpst
	jne l2882
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop slastpathf
	add $5,1
	pop $5
	jmp l2774
l2882:
	push "sfxs:"
	cmpst
	jne l2883
	spop $a
l2884:
	push $5
	push $6
	cmpjl
	cmp0
	je l2885
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $9
	add $5,1
	pop $5
	push $9
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	push 1
	pop $7
	push 100
	pop $8
	push 0
	pop $12
	push 0
	pop $13
	push 0.0
	pop $15
l2886:
	push $7
	cmp0
	je l2887
	push $5
	push $6
	cmpjl
	jmp l2889
l2887:
	push 0
	jmp l2889
l2888:
	push 1
l2889:
	cmp0
	je l2890
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	push $10
	spushs
	push "-f"
	cmpst
	jne l2892
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	push ".wav"
	pop $b
	popax
	add $a,$b
	pop $11
	jmp l2891
l2892:
	push "-v"
	cmpst
	jne l2893
	spop $a
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $8
	jmp l2891
l2893:
	push "-l"
	cmpst
	jne l2894
	spop $a
	push 1
	pop $12
	jmp l2891
l2894:
	push "-p"
	cmpst
	jne l2895
	spop $a
	push 1
	pop $13
	jmp l2891
l2895:
	push "-pl"
	cmpst
	jne l2896
	spop $a
	push 1.0
	pop $15
	jmp l2891
l2896:
	spop $a
	sub $5,1
	pop $5
	push 0
	pop $7
l2891:
	add $5,1
	pop $5
	jmp l2886
l2890:
	push $9
	push $11
	cthis newsfx
	push $9
	spushs
	push $8
	spop $a
	call [$a],setvol
	push $12
	cmp0
	je l2898
	push $9
	spushs
	push "onfinish"
	push "_stdsndloop"
	spop $a
	call [$a],addmethod
l2898:
	push $13
	cmp0
	je l2900
	push $9
	spushs
	spop $a
	call [$a],play
	jmp l2899
l2900:
	push $15
	cmp0
	je l2902
	push $9
	spushs
	spop $a
	call [$a],playloop
l2902:
l2899:
	jmp l2884
l2885:
	jmp l2774
l2883:
	push "met:"
	cmpst
	jne l2903
	spop $a
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push "."
	call $10,contains
	cmp0
	je l2905
	push "."
	call $10,strgetto
	pop $11
	push "."
	call $10,strgetfrom
	pop $10
	push $11
	push ""
	cmpje
	cmp0
	jne l2908
	push $11
	push "this"
	cmpje
	jmp l2909
l2907:
	push 0
	jmp l2909
l2908:
	push 1
l2909:
	cmp0
	je l2910
	call gameapi,getgamename
	pop $11
l2910:
	jmp l2904
l2905:
	call gameapi,getgamename
	pop $11
l2904:
	push $11
	spushs
	push $10
	spushs
	spop $d
	spop $a
	call [$a],[$d]
	jmp l2774
l2903:
	push "sndsrc:"
	cmpst
	jne l2911
	spop $a
	call csndsrc,get
	pop $11
	push $11
	spushs
	spop $e
	new int,[$e]
	push $11
	spushs
	push A
	push "slinkedfx"
	push "null"
	push "ioutervol"
	push 0
	push "rradious"
	push 0.0
	push "slinkedobj"
	push "null"
	push "iobjx"
	push 0
	push "iobjy"
	push 0
	spop $a
	call [$a],vars2
	push $11
	spushs
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	spop $a
	call [$a],slinkedfx=
	add $5,1
	pop $5
	push $11
	spushs
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	spop $a
	call [$a],ioutervol=
	add $5,1
	pop $5
	push $11
	spushs
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	spop $a
	call [$a],rradious=
	add $5,1
	pop $5
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	pop $10
	add $5,1
	pop $5
	push $11
	spushs
	push $10
	spop $a
	call [$a],slinkedobj=
	push $10
	push "-pos"
	cmpje
	cmp0
	je l2913
	push $11
	spushs
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	spop $a
	call [$a],iobjx=
	add $5,1
	pop $5
	push $11
	spushs
	push $2
	spushs
	push $18
	push $5
	spop $a
	call [$a],get
	spop $a
	call [$a],iobjy=
	add $5,1
	pop $5
l2913:
	push $11
	call grsndsrcs,add
	push 1
	call _timsndsrc,stop
	jmp l2774
l2911:
	spop $a
l2774:
	jmp l2772
l2771:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method _found_if
	localstring $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	add $3,1
	pop $3
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	sub $4,1
	pop $4
	localstring $7
	localstring $8
l2914:
	push $3
	push $4
	cmpjl
	cmp0
	je l2915
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	pop $8
	push $8
	spushs
	push ")"
	cmpst
	je l2918
	push "|"
	cmpst
	je l2918
	push "&"
	cmpst
	je l2918
	jmp l2917
l2918:
	spop $a
	push $5
	push $6
	push 0
	push 1
	call $7,getb
	push "!"
	cmpje
	cmp0
	je l2920
	push 1
	call $7,strsubb
	call clsave,bis
	neg
	jmp l2919
l2920:
	push $7
	call clsave,bis
l2919:
	cthis _check_if
	pop $6
	push $8
	push "|"
	cmpje
	cmp0
	je l2922
	push 1
	pop $5
	jmp l2921
l2922:
	push $8
	push "&"
	cmpje
	cmp0
	je l2924
	push 2
	pop $5
l2924:
l2921:
	jmp l2916
l2917:
	push "="
	cmpst
	jne l2925
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l2916
l2925:
	push "!="
	cmpst
	jne l2926
	spop $a
	push 2
	popax
	add $3,$a
	pop $3
	push $5
	push $6
	push $7
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	call clsave,is
	neg
	cthis _check_if
	pop $6
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	cthis _check_if2
	pop $5
	jmp l2916
l2926:
	spop $a
l2916:
	push 2
	popax
	add $3,$a
	pop $3
	jmp l2914
l2915:
	push $6
	neg
	cmp0
	je l2928
	push $1
	push $2
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	jmp l2927
l2928:
	push $2
l2927:
	end method
	method _goto_fi
	localstring $1
	localint $2
	pop $2
	pop $1
	localint $3
	push _if_pos
	pop $3
l2929:
	push 1
	cmp0
	je l2930
	push $1
	spushs
	push $2
	push 0
	spop $a
	call [$a],get
	spushs
	push "IF"
	cmpst
	jne l2932
	spop $a
	add $3,1
	pop $3
	jmp l2931
l2932:
	push "ELSE"
	cmpst
	jne l2933
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l2935
	push $2
	ret
l2935:
	jmp l2931
l2933:
	push "FI"
	cmpst
	jne l2936
	spop $a
	push $3
	push _if_pos
	cmpje
	cmp0
	je l2938
	sub _if_pos,1
	pop _if_pos
	push $2
	ret
	jmp l2937
l2938:
	sub $3,1
	pop $3
l2937:
	jmp l2931
l2936:
	spop $a
l2931:
	add $2,1
	pop $2
	jmp l2929
l2930:
	end method
	method _check_if2
	localstring $1
	pop $1
	push $1
	spushs
	push "|"
	cmpst
	jne l2940
	spop $a
	push 1
	jmp l2939
l2940:
	push "&"
	cmpst
	jne l2941
	spop $a
	push 2
	jmp l2939
l2941:
	spop $a
	push 0
l2939:
	end method
	method _check_if
	localint $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push 1
	cmpst
	jne l2943
	spop $a
	push $2
	cmp0
	jne l2945
	push $3
	jmp l2946
l2944:
	push 0
	jmp l2946
l2945:
	push 1
l2946:
	jmp l2942
l2943:
	push 2
	cmpst
	jne l2947
	spop $a
	push $2
	cmp0
	je l2948
	push $3
	jmp l2950
l2948:
	push 0
	jmp l2950
l2949:
	push 1
l2950:
	jmp l2942
l2947:
	spop $a
	push $3
l2942:
	end method
	method behrewind
	push sactbeh
	push "null"
	cmpjne
	cmp0
	je l2952
	push sactbeh
	spushs
	spop $a
	call [$a],rewind
l2952:
	end method
	method behplaying
	push sactbeh
	push "null"
	cmpjne
	ret
	end method
	method behexist
	localstring $1
	pop $1
	push $1
	cthis getbeh
	call engine,varexist
	ret
	end method
	method getbeh
	localstring $1
	pop $1
	push _sbeh
	push $1
	pop $b
	popax
	add $a,$b
	ret
	end method
	method newbehname
	localstring $1
	push _sbeh
	push "_"
	pop $b
	popax
	add $a,$b
	push iidbeh
	pop $b
	popax
	add $a,$b
	pop $1
	add iidbeh,1
	pop iidbeh
	push $1
	ret
	end method
	method newbeh
	localstring $1
	cthis newbehname
	pop $1
	push $1
	spushs
	spop $e
	new classbehhero,[$e]
	push $1
	ret
	end method
	method _checkvol
	localstring $1
	localint $2
	localint $3
	pop $3
	pop $2
	pop $1
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],dbchecknext
	push "-v"
	cmpje
	cmp0
	je l2954
	push 2
	popax
	add $3,$a
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
	jmp l2953
l2954:
	push 100
	push $3
	push 1
	pop $b
	popax
	add $a,$b
	ret
l2953:
	end method
	method loadbeh
	localstring $1
	localint $2
	localint $3
	localint $4
	localstring $5
	localstring $6
	localint $7
	localint $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	localstring $9
	localstring $10
	localstring $11
	localstring $12
	localint $13
	push $5
	spushs
	spop $a
	call [$a],getblock
	pop $13
	localint $14
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	cthis newbeh
	pop $10
	localint $15
	localint $16
	push $9
	spushs
	push "IF"
	cmpst
	je l2957
	push "ELIF"
	cmpst
	je l2957
	jmp l2956
l2957:
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $15
l2958:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l2959
	add $4,1
	pop $4
	jmp l2958
l2959:
	push $10
	spushs
	push "setas"
	push $9
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	push $15
	push $4
	spop $d
	spop $a
	call [$a],[$d]
	add $4,1
	pop $4
	jmp l2955
l2956:
	push "FI"
	cmpst
	je l2961
	push "ELSE"
	cmpst
	je l2961
	jmp l2960
l2961:
	spop $a
	push $10
	spushs
	push $9
	spop $a
	call [$a],setas
	jmp l2955
l2960:
	push "call:"
	cmpst
	jne l2962
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l2955
l2962:
	push "walk:"
	cmpst
	jne l2963
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	push $12
	spop $a
	call [$a],setaswalker
	jmp l2955
l2963:
	push "turn:"
	cmpst
	jne l2964
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push _spathpref
	push $9
	pop $b
	popax
	add $a,$b
	push $11
	spop $a
	call [$a],setasturn
	jmp l2955
l2964:
	push "setpos:"
	cmpst
	jne l2965
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	push 0
	pop $15
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
	push $12
	push "-ssc"
	cmpje
	cmp0
	je l2967
	push 1
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	pop $12
l2967:
	push $12
	push "-dir"
	cmpje
	cmp0
	je l2969
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l2968
l2969:
	push "auto"
	pop $12
l2968:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $16
	push $15
	push $12
	spop $a
	call [$a],setasposer
	jmp l2955
l2965:
	push "game:"
	cmpst
	jne l2970
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $9
	spushs
	push "-def"
	cmpst
	je l2973
	push "-adv"
	cmpst
	je l2973
	jmp l2972
l2973:
	spop $a
	push $10
	spushs
	push $9
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push $1
	spushs
	push $2
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],get
	spop $a
	call [$a],setasnewgamer
	push 2
	popax
	add $4,$a
	pop $4
	jmp l2971
l2972:
	spop $a
	push $10
	spushs
	push "null"
	push "null"
	push $9
	spop $a
	call [$a],setasnewgamer
l2971:
	jmp l2955
l2970:
	push "ref:"
	cmpst
	jne l2974
	spop $a
	push "_"
	push iidbeh
	pop $b
	popax
	add $a,$b
	push $1
	push $2
	push $4
	cthis buildbeh
	pop $4
	cthis newbehname
	pop $9
	push $10
	spushs
	push _sbeh
	call $9,strsubbs
	push $1
	push "script"
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setascaller
	jmp l2955
l2974:
	push "anplay:"
	cmpst
	jne l2975
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasanplayer
	jmp l2955
l2975:
	push "anorder:"
	cmpst
	jne l2976
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $1
	push $2
	push $4
	push $11
	spop $a
	call [$a],setasanorder
	push $1
	push $2
	push $4
	push "null"
	cthis analizeaninstr
	pop $4
	jmp l2955
l2976:
	push "sndbg:"
	cmpst
	jne l2977
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndbg
	jmp l2955
l2977:
	push "sndplay:"
	cmpst
	jne l2978
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push $9
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l2955
l2978:
	push "fxplay:"
	cmpst
	jne l2979
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $9
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndplayer
	jmp l2955
l2979:
	push "fxbg:"
	cmpst
	jne l2980
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	push $2
	push $4
	cthis _checkvol
	pop $4
	pop $15
	push $10
	spushs
	push "sfx/"
	push $11
	pop $b
	popax
	add $a,$b
	push $15
	spop $a
	call [$a],setassndbg
	jmp l2955
l2980:
	push "wait:"
	cmpst
	jne l2981
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $10
	spushs
	push $15
	spop $a
	call [$a],setaswaiter
	jmp l2955
l2981:
	push "read:"
	cmpst
	jne l2982
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $15
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $16
	add $4,1
	pop $4
	push "auto"
	pop $11
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	push $4
	cmpja
	cmp0
	je l2984
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $11
	push "-dir"
	cmpje
	cmp0
	je l2986
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
l2986:
l2984:
	push $10
	spushs
	push $9
	push $15
	push $16
	push $11
	spop $a
	call [$a],setasreader
	jmp l2955
l2982:
	push "met:"
	cmpst
	jne l2987
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	call gameapi,getgamename
	pop $12
	push "."
	call $9,contains
	cmp0
	je l2989
	push "."
	call $9,strgetto
	pop $11
	push "."
	call $9,strgetfrom
	pop $9
	push $11
	push ""
	cmpje
	cmp0
	jne l2992
	push $11
	push "this"
	cmpje
	jmp l2993
l2991:
	push 0
	jmp l2993
l2992:
	push 1
l2993:
	cmp0
	je l2994
	push $12
	pop $11
l2994:
	jmp l2988
l2989:
	push $12
	pop $11
l2988:
	push $10
	spushs
	push $11
	push $9
	spop $a
	call [$a],setasmet
	jmp l2955
l2987:
	push "bsave:"
	cmpst
	jne l2995
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push "1"
	spop $a
	call [$a],setassaver
	jmp l2955
l2995:
	push "save:"
	cmpst
	jne l2996
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setassaver
	jmp l2955
l2996:
	push "script:"
	cmpst
	jne l2997
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	spop $a
	call [$a],setasscript
	jmp l2955
l2997:
	push "func:"
	cmpst
	jne l2998
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	call clcbeh,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop $16
l2999:
	push $16
	push 0
	cmpjae
	cmp0
	je l3000
	jmp l3002
l3001:
	sub $16,1
	pop $16
	jmp l2999
l3002:
	push $16
	call clcbeh,getid
	push "script"
	pop $b
	popax
	add $a,$b
	pop $9
	push $9
	spushs
	push $11
	spop $a
	call [$a],containsfun
	cmp0
	je l3004
	push 1
	popax
	sub 0,$a
	pop $16
l3004:
	jmp l3001
l3000:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "("
	cmpje
	cmp0
	je l3006
	push $4
	push 2
	pop $b
	popax
	add $a,$b
	pop $16
l3007:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l3008
	add $4,1
	pop $4
	jmp l3007
l3008:
	jmp l3005
l3006:
	push 1
	popax
	sub 0,$a
	pop $16
l3005:
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	push $11
	push $1
	push $2
	push $16
	spop $a
	call [$a],setasscript
	jmp l2955
l2998:
	push "use:"
	cmpst
	jne l3009
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $9
	add $4,1
	pop $4
	push $10
	spushs
	push $9
	spop $a
	call [$a],setasuse
	jmp l2955
l3009:
	push "topck:"
	cmpst
	jne l3010
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $11
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],dbchecknext
	push "-pck"
	cmpje
	cmp0
	je l3012
	push 2
	popax
	add $4,$a
	pop $4
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	jmp l3011
l3012:
	push $11
	pop $12
l3011:
	add $4,1
	pop $4
	push $10
	spushs
	push $11
	push $12
	spop $a
	call [$a],setastopck
	jmp l2955
l3010:
	push "enter:"
	cmpst
	jne l3013
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasenter
	jmp l2955
l3013:
	push "close:"
	cmpst
	jne l3014
	spop $a
	push $10
	spushs
	spop $a
	call [$a],setasclose
	jmp l2955
l3014:
	push "music:"
	cmpst
	jne l3015
	spop $a
	push $4
	push 1
	pop $b
	popax
	add $a,$b
	pop $16
l3016:
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	push ")"
	cmpjne
	cmp0
	je l3017
	add $4,1
	pop $4
	jmp l3016
l3017:
	push $10
	spushs
	push $1
	push $2
	push $16
	push $4
	spop $a
	call [$a],setasmusic
	add $4,1
	pop $4
	jmp l2955
l3015:
	spop $a
	push "_"
	call $9,strgetto
	pop $12
	push $12
	cthis getheroloader
	pop $11
	push $11
	push "null"
	cmpje
	cmp0
	je l3019
	push igmdebug
	cmp0
	je l3021
	push $10
	push ": "
	pop $b
	popax
	add $a,$b
	push $9
	pop $b
	popax
	add $a,$b
	push " loadbeh error: no hero linked to "
	pop $b
	popax
	add $a,$b
	push $12
	pop $b
	popax
	add $a,$b
	call engine,print
l3021:
	push $10
	push $3
	ret
	jmp l3018
l3019:
	localint $17
	localint $18
	push $11
	spushs
	spop $a
	call [$a],getstartstop
	pop $18
	pop $17
	localstring $19
	push "auto"
	pop $19
	localstring $20
	push "_stalk"
	call modadv,varget
	pop $20
	localint $21
	push 1
	pop $21
	push $4
	push $3
	cmpjl
	pop $14
l3022:
	push $14
	cmp0
	je l3023
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $12
	add $4,1
	pop $4
	push $12
	spushs
	push "-stt"
	cmpst
	jne l3025
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $17
	add $4,1
	pop $4
	jmp l3024
l3025:
	push "-stp"
	cmpst
	jne l3026
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $18
	add $4,1
	pop $4
	jmp l3024
l3026:
	push "-base"
	cmpst
	jne l3027
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $20
	add $4,1
	pop $4
	jmp l3024
l3027:
	push "-r"
	cmpst
	jne l3028
	spop $a
	push 1
	pop $21
	jmp l3024
l3028:
	push "-nr"
	cmpst
	jne l3029
	spop $a
	push 0
	pop $21
	jmp l3024
l3029:
	push "-dir"
	cmpst
	jne l3030
	spop $a
	push $1
	spushs
	push $2
	push $4
	spop $a
	call [$a],get
	pop $19
	add $4,1
	pop $4
	jmp l3024
l3030:
	spop $a
	push 0
	pop $14
	sub $4,1
	pop $4
l3024:
	push $14
	cmp0
	je l3032
	push $4
	push $3
	cmpjae
	jmp l3034
l3032:
	push 0
	jmp l3034
l3033:
	push 1
l3034:
	cmp0
	je l3035
	push 0
	pop $14
l3035:
	jmp l3022
l3023:
	push $10
	spushs
	push $11
	spushs
	push "sanhero"
	spop $a
	call [$a],varget
	push $9
	push $20
	push $21
	push $17
	push $18
	push $19
	spop $a
	call [$a],setastalker
l3018:
l2955:
	push $5
	spushs
	push $10
	spop $a
	call [$a],addtostarter
	push $7
	push 0
	cmpje
	cmp0
	je l3037
	push $6
	spushs
	push $10
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push $8
	spop $a
	call [$a],addflags
	jmp l3036
l3037:
	push $6
	spushs
	push "null"
	spop $a
	call [$a],setflags
	push $10
	spushs
	push $5
	push $13
	push 0
	spop $a
	call [$a],addflags
l3036:
	push $10
	push $4
	ret
	end method
	method buildbeh
	localstring $1
	localstring $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	call dbmacros,findbyrow
	pop $5
	push $5
	push 0
	cmpjl
	cmp0
	je l3039
	push "no such macro: "
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $b
	popax
	add $a,$b
	call engine,print
	push 1
	popax
	sub 0,$a
	ret
l3039:
l3040:
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	push "("
	cmpjne
	cmp0
	je l3041
	add $4,1
	pop $4
	jmp l3040
l3041:
	add $4,1
	pop $4
	localint $6
	push $2
	spushs
	spop $a
	call [$a],addrow
	push 1
	pop $b
	popax
	sub $a,$b
	pop $6
	localstring $7
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	call _vecarg,free
l3042:
	push $7
	push ")"
	cmpjne
	cmp0
	je l3043
	push $7
	call _vecarg,add
	push $2
	spushs
	push $3
	push $4
	spop $a
	call [$a],get
	pop $7
	add $4,1
	pop $4
	jmp l3042
l3043:
	localint $8
	push $5
	call dbmacros,getcolsno
	pop $8
	localint $9
	push $2
	spushs
	push $6
	push $1
	spop $a
	call [$a],add
	localint $10
	push 1
	pop $10
l3044:
	push $10
	push $8
	cmpjl
	cmp0
	je l3045
	jmp l3047
l3046:
	add $10,1
	pop $10
	jmp l3044
l3047:
	push $5
	push $10
	call dbmacros,get
	pop $7
	push 0
	push 1
	call $7,getb
	push "$"
	cmpje
	cmp0
	je l3049
	push 1
	push 10
	call $7,getb
	pop $9
	push $2
	spushs
	push $6
	push $9
	push 1
	pop $b
	popax
	sub $a,$b
	call _vecarg,get
	spop $a
	call [$a],add
	jmp l3048
l3049:
	push $2
	spushs
	push $6
	push $7
	spop $a
	call [$a],add
l3048:
	jmp l3046
l3045:
	push $4
	ret
	end method
	method loadbehaviours
	localstring $1
	pop $1
	localstring $2
	call clcbeh,get
	pop $2
	push $2
	spushs
	spop $e
	new db,[$e]
	push $2
	spushs
	push $1
	cthis getpath
	spop $a
	call [$a],loadbeh
	localstring $3
	push $2
	push "script"
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	spushs
	push $2
	spop $e
	new Script,[$e]
	localint $4
	localint $5
	localstring $6
	localstring $7
	localstring $8
	localstring $9
	localint $10
	localint $11
	localstring $12
	localint $13
	localint $14
	localint $15
	localint $16
	localstring $17
	localstring $18
	localint $19
	push 0
	pop $19
l3050:
	push $19
	push $2
	spushs
	spop $a
	call [$a],getrowsno
	cmpjl
	cmp0
	je l3051
	jmp l3053
l3052:
	add $19,1
	pop $19
	jmp l3050
l3053:
	push 0
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $6
	add $5,1
	pop $5
	push $6
	spushs
	push "macro:"
	cmpst
	jne l3055
	spop $a
	push $2
	push $19
	push 1
	call dbmacros,dbaddrowfrom
	jmp l3054
l3055:
	push "include:"
	cmpst
	jne l3056
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	cthis loadbehaviours
	add $5,1
	pop $5
	jmp l3054
l3056:
	push "build:"
	cmpst
	jne l3057
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	push $2
	push $19
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	cthis buildbeh
	pop $5
	jmp l3054
l3057:
	push "func"
	cmpst
	jne l3058
	spop $a
l3059:
	push $2
	spushs
	push $19
	push 0
	spop $a
	call [$a],get
	push "end"
	cmpjne
	cmp0
	je l3060
	add $19,1
	pop $19
	jmp l3059
l3060:
	jmp l3054
l3058:
	push "IF"
	cmpst
	jne l3061
	spop $a
	add _if_pos,1
	pop _if_pos
	push $2
	push $19
	push $5
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	cthis _found_if
	pop $19
	jmp l3054
l3061:
	push "ELSE"
	cmpst
	jne l3062
	spop $a
	push $2
	push $19
	push 1
	pop $b
	popax
	add $a,$b
	cthis _goto_fi
	pop $19
	jmp l3054
l3062:
	push "FI"
	cmpst
	jne l3063
	spop $a
	sub _if_pos,1
	pop _if_pos
	push _if_pos
	push 1
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l3065
	push "FI error! "
	cthis getname
	pop $b
	popax
	add $a,$b
	push "."
	pop $b
	popax
	add $a,$b
	cthis methodname
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,print
l3065:
	jmp l3054
l3063:
	spop $a
	push $2
	spushs
	push $19
	spop $a
	call [$a],getcolsno
	pop $4
	push $6
	cthis getbeh
	pop $6
	push $6
	spushs
	spop $e
	new classbehhero,[$e]
	push 0
	pop $10
	push 1
	pop $11
	push "null"
	pop $12
	push 0
	pop $13
	push 1
	pop $14
	push "null"
	pop $18
	push 1
	popax
	sub 0,$a
	pop $16
	push 0
	pop $15
l3066:
	push $11
	cmp0
	je l3067
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $7
	add $5,1
	pop $5
	push $7
	spushs
	push "-nr"
	cmpst
	jne l3069
	spop $a
	push 0
	pop $10
	jmp l3068
l3069:
	push "-once"
	cmpst
	jne l3070
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $12
	add $5,1
	pop $5
	jmp l3068
l3070:
	push "-par"
	cmpst
	jne l3071
	spop $a
	push 1
	pop $13
	jmp l3068
l3071:
	push "-r"
	cmpst
	jne l3072
	spop $a
	push 1
	pop $10
	jmp l3068
l3072:
	push "-nb"
	cmpst
	jne l3073
	spop $a
	push 0
	pop $14
	jmp l3068
l3073:
	push "-b"
	cmpst
	jne l3074
	spop $a
	push 1
	pop $14
	jmp l3068
l3074:
	push "-en"
	cmpst
	jne l3075
	spop $a
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $15
	add $5,1
	pop $5
	jmp l3068
l3075:
	push "-bif"
	cmpst
	jne l3076
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l3068
l3076:
	push "-bnif"
	cmpst
	jne l3077
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push 1
	pop $18
	jmp l3068
l3077:
	push "-if"
	cmpst
	jne l3078
	spop $a
	push 1
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l3068
l3078:
	push "-nif"
	cmpst
	jne l3079
	spop $a
	push 0
	pop $16
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $17
	add $5,1
	pop $5
	push $2
	spushs
	push $19
	push $5
	spop $a
	call [$a],get
	pop $18
	add $5,1
	pop $5
	jmp l3068
l3079:
	spop $a
	push 0
	pop $11
	push $6
	spushs
	push $12
	push $10
	push $13
	push $14
	push $15
	push $16
	push $17
	push $18
	spop $a
	call [$a],setasstarter
	sub $5,1
	pop $5
	push $6
	pop $7
l3080:
	push $5
	push $4
	cmpjl
	cmp0
	je l3081
	push $2
	push $19
	push $4
	push $5
	push $6
	push $7
	push $10
	push $13
	cthis loadbeh
	pop $5
	pop $7
	jmp l3080
l3081:
l3068:
	jmp l3066
l3067:
l3054:
	jmp l3052
l3051:
	push $2
	spushs
	spop $a
	call [$a],readonly
	end method
	method analizeaninstr
	localstring $1
	localint $2
	localint $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 1
	pop $5
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	cmp0
	je l3083
	push 0
	pop $5
l3083:
	localint $6
	push 0
	pop $6
	push $4
	push "null"
	cmpjne
	cmp0
	je l3085
	push 1
	pop $6
	push $4
	cthis advanstand
l3085:
	localint $7
	localint $8
	localint $9
	localstring $10
	localstring $11
l3086:
	push $5
	cmp0
	je l3087
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $11
	spushs
	push "-z"
	cmpst
	jne l3089
	spop $a
	push $6
	cmp0
	je l3091
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3093
	push $4
	spushs
	push $10
	spop $a
	call [$a],setz
	jmp l3092
l3093:
	push $4
	spushs
	push $10
	spushs
	spop $a
	call [$a],getz
	spop $a
	call [$a],setz
l3092:
l3091:
	add $3,1
	pop $3
	jmp l3088
l3089:
	push "-pos"
	cmpst
	jne l3094
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $9
	add $3,1
	pop $3
	push $6
	cmp0
	je l3096
	push $10
	push "-id"
	cmpje
	cmp0
	je l3098
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $10
	push $10
	spushs
	push $9
	spop $a
	call [$a],getbyname
	pop $7
	push $10
	spushs
	push $7
	spop $a
	call [$a],getxver
	push $10
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $8
	push $10
	spushs
	push $7
	spop $a
	call [$a],getyver
	push $10
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $9
	jmp l3097
l3098:
	push $10
	pop $8
l3097:
	push $4
	spushs
	push $8
	push $9
	spop $a
	call [$a],setpos
l3096:
	jmp l3088
l3094:
	push "-putgr"
	cmpst
	jne l3099
	spop $a
	push $6
	cmp0
	je l3101
	push $4
	spushs
	spop $a
	call [$a],anputgr
l3101:
	jmp l3088
l3099:
	push "-vis"
	cmpst
	jne l3102
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3104
	push $7
	push 0
	cmpje
	cmp0
	je l3106
	push $4
	spushs
	spop $a
	call [$a],hide
	jmp l3105
l3106:
	push $4
	spushs
	spop $a
	call [$a],show
l3105:
l3104:
	jmp l3088
l3102:
	push "-show"
	cmpst
	jne l3107
	spop $a
	push $6
	cmp0
	je l3109
	push $4
	spushs
	spop $a
	call [$a],show
l3109:
	jmp l3088
l3107:
	push "-hide"
	cmpst
	jne l3110
	spop $a
	push $6
	cmp0
	je l3112
	push $4
	spushs
	spop $a
	call [$a],hide
l3112:
	jmp l3088
l3110:
	push "-dir"
	cmpst
	jne l3113
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3115
	push $4
	spushs
	spop $a
	call [$a],actionname
	pop $11
	push $4
	spushs
	spop $a
	call [$a],framenr
	pop $7
	push $4
	spushs
	push 2
	call $11,strsube
	push $10
	pop $b
	popax
	add $a,$b
	push 0
	spop $a
	call [$a],setframe
l3115:
	jmp l3088
l3113:
	push "-play"
	cmpst
	jne l3116
	spop $a
	push $6
	cmp0
	je l3118
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],play
l3118:
	add $3,1
	pop $3
	jmp l3088
l3116:
	push "-nplay"
	cmpst
	jne l3119
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3121
	push $4
	spushs
	spop $a
	call [$a],gettype
	push "anima"
	cmpje
	cmp0
	je l3123
	push $4
	spushs
	push $7
	spop $a
	call [$a],play
	jmp l3122
l3123:
	push $4
	spushs
	push $7
	spop $a
	call [$a],nplay
l3122:
l3121:
	jmp l3088
l3119:
	push "-lplay"
	cmpst
	jne l3124
	spop $a
	push $6
	cmp0
	je l3126
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],anloopsplay
l3126:
	add $3,1
	pop $3
	jmp l3088
l3124:
	push "-bgr"
	cmpst
	jne l3127
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $11
	add $3,1
	pop $3
	push $6
	cmp0
	je l3129
	push $11
	spushs
	push $4
	spop $a
	call [$a],add
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3131
	push $11
	spushs
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],add
l3131:
l3129:
	jmp l3088
l3127:
	push "-sc"
	cmpst
	jne l3132
	spop $a
	push $6
	cmp0
	je l3134
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	pop $11
	push $11
	call engine,varexist
	cmp0
	je l3136
	push $11
	spushs
	spop $a
	call [$a],scalean
l3136:
l3134:
	jmp l3088
l3132:
	push "-ssc"
	cmpst
	jne l3137
	spop $a
	push $6
	cmp0
	je l3139
	call clcamera,setscene
l3139:
	jmp l3088
l3137:
	push "-actor"
	cmpst
	jne l3140
	spop $a
	push $6
	cmp0
	je l3142
	push $4
	call clcamera,setactor
l3142:
	jmp l3088
l3140:
	push "-mhero"
	cmpst
	jne l3143
	spop $a
	push $6
	cmp0
	je l3145
	push $4
	cthis setmainhero
l3145:
	jmp l3088
l3143:
	push "-puty"
	cmpst
	jne l3146
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3148
	push $10
	push "resy"
	cmpje
	cmp0
	je l3150
	push $4
	spushs
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],anputy
	jmp l3149
l3150:
	push $4
	spushs
	push $10
	spop $a
	call [$a],anputy
l3149:
l3148:
	jmp l3088
l3146:
	push "-stopf"
	cmpst
	jne l3151
	spop $a
	push $6
	cmp0
	je l3153
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3153:
	jmp l3088
l3151:
	push "-stoph"
	cmpst
	jne l3154
	spop $a
	push $6
	cmp0
	je l3156
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
	push $4
	spushs
	spop $a
	call [$a],hide
l3156:
	jmp l3088
l3154:
	push "-setaction"
	cmpst
	jne l3157
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $6
	cmp0
	je l3159
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3161
	push $4
	spushs
	call $10,to_i
	push 0
	spop $a
	call [$a],setframe
	jmp l3160
l3161:
	push $4
	spushs
	push $10
	push 0
	spop $a
	call [$a],setframe
l3160:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3159:
	jmp l3088
l3157:
	push "-setframe"
	cmpst
	jne l3162
	spop $a
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $10
	add $3,1
	pop $3
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	pop $7
	add $3,1
	pop $3
	push $6
	cmp0
	je l3164
	push $10
	clparent StringChecker,isdigit
	cmp0
	je l3166
	push $4
	spushs
	call $10,to_i
	push $7
	spop $a
	call [$a],setframe
	jmp l3165
l3166:
	push $4
	spushs
	push $10
	push $7
	spop $a
	call [$a],setframe
l3165:
	push $4
	spushs
	push 0
	spop $a
	call [$a],stop
l3164:
	jmp l3088
l3162:
	push "-stand"
	cmpst
	jne l3167
	spop $a
	push $6
	cmp0
	je l3169
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setstandbase
l3169:
	add $3,1
	pop $3
	jmp l3088
l3167:
	push "-delay"
	cmpst
	jne l3170
	spop $a
	push $6
	cmp0
	je l3172
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setdelay
l3172:
	add $3,1
	pop $3
	jmp l3088
l3170:
	push "-step"
	cmpst
	jne l3173
	spop $a
	push $6
	cmp0
	je l3175
	push _spathpref
	push $4
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setanstep
l3175:
	add $3,1
	pop $3
	jmp l3088
l3173:
	push "-sb1"
	cmpst
	jne l3176
	spop $a
	push $6
	cmp0
	je l3178
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase1
l3178:
	add $3,1
	pop $3
	jmp l3088
l3176:
	push "-sb2"
	cmpst
	jne l3179
	spop $a
	push $6
	cmp0
	je l3181
	push $4
	spushs
	push $1
	spushs
	push $2
	push $3
	spop $a
	call [$a],get
	spop $a
	call [$a],setbutbase2
l3181:
	add $3,1
	pop $3
	jmp l3088
l3179:
	spop $a
	push 0
	pop $5
	sub $3,1
	pop $3
l3088:
	push $5
	cmp0
	je l3183
	push $3
	push $1
	spushs
	push $2
	spop $a
	call [$a],getcolsno
	cmpjae
	jmp l3185
l3183:
	push 0
	jmp l3185
l3184:
	push 1
l3185:
	cmp0
	je l3186
	push 0
	pop $5
l3186:
	jmp l3086
l3087:
	push $3
	ret
	end method
	method cadvherofinish
	end method
	method butmoveoff
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveoff
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmoveon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],moveon
	push $1
	spushs
	spop $a
	call [$a],getbutname
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method advmsmove
	cthis advgetlock
	neg
	cmp0
	je l3188
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3190
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	push $4
	push _slastms
	cmpjne
	cmp0
	je l3192
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3194
	push _slastms
	cthis butmoveoff
l3194:
	push $4
	pop _slastms
	push $4
	cthis butmoveon
l3192:
	jmp l3189
l3190:
	push _slastms
	push "null"
	cmpjne
	cmp0
	je l3196
	push _slastms
	cthis butmoveoff
	push "null"
	pop _slastms
l3196:
l3189:
	push "onmousemove"
	push $1
	push $2
	call grmsmove,eval2
	call moddbg,msmove
l3188:
	end method
	method butclickon
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],clickon
	cthis behplaying
	neg
	cmp0
	je l3198
	push "beh_"
	push $1
	spushs
	spop $a
	call [$a],getbutname
	pop $b
	popax
	add $a,$b
	push "_LCLICK"
	pop $b
	popax
	add $a,$b
	cthis playbehif
	neg
	pop _b_rewind
l3198:
	end method
	method butrelease
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],lrel
	end method
	method advmsclick
	call _tim_dbclk,isplaying
	cmp0
	je l3200
	push 2
	call clwalkq,mulspeed
	ret
	jmp l3199
l3200:
	call _tim_dbclk,play
l3199:
	push 1
	pop _b_rewind
	push bmslock
	neg
	cmp0
	je l3202
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push "preparetosort"
	push $1
	push $2
	call grbuts,eval2
	call grbuts,sortimgs
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push "endsort"
	call grbuts,eval
	push $3
	cmp0
	je l3204
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butclickon
	jmp l3203
l3204:
	localstring $4
	push _spocketpref
	cthis getmainhero
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	call engine,varexist
	cmp0
	je l3206
	push $4
	spushs
	spop $a
	call [$a],itemhide
l3206:
	push $1
	push $2
	call clwalkq,goto
l3203:
	push "onmouselclick"
	push $1
	push $2
	call grmslclick,eval2
l3202:
	push _b_rewind
	cmp0
	je l3208
	cthis behrewind
l3208:
	call moddbg,mslclick
	end method
	method advmsrclick
	push bmslock
	neg
	cmp0
	je l3210
	push "onmouserclick"
	call mouse,getpos
	call grmsrclick,eval2
l3210:
	end method
	method advmslrel
	push bmslock
	neg
	cmp0
	je l3212
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,butisin
	pop $3
	push $3
	cmp0
	je l3214
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	cthis butrelease
l3214:
	push "onmouselrel"
	push $1
	push $2
	call grmslrel,eval2
l3212:
	call moddbg,mslrel
	end method
	method mousemove
	push igmstate
	push 0
	cmpje
	cmp0
	je l3216
	cthis advmsmove
l3216:
	cthis mouse_MOVE
	end method
	method mouselclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3218
	cthis advmsclick
l3218:
	cthis mouse_LCLICK
	end method
	method mouselrel
	push igmstate
	push 0
	cmpje
	cmp0
	je l3220
	cthis advmslrel
l3220:
	cthis mouse_LREL
	end method
	method mouserclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3222
	cthis advmsrclick
l3222:
	cthis mouse_RCLICK
	end method
	method keydown
	call moddbg,dbkeydown
	cthis keyboard_KEYDOWN
	end method
	method exit
	call modadvglob,onexit
	push igmsubtitle
	cmp0
	je l3224
	call subtitle,reset
l3224:
	end method
	method onmusicfin
	call _music,play
	end method
	method sndplayobfin
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call __sndplay,load
	push igmsubtitle
	cmp0
	je l3226
	push "__sndplay"
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call subtitle,register
l3226:
	push $2
	call __sndplay,sob=
	push $3
	call __sndplay,sfun=
	push "__sndplay"
	cthis cbsplay
	end method
	method sndplayfin
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	push "null"
	push $2
	cthis sndplayobfin
	end method
	method sndplay
	localstring $1
	pop $1
	push $1
	push "null"
	push "null"
	cthis sndplayobfin
	end method
	method advsaveonstart
	push "GAME_game"
	call gameapi,getgamename
	call clsave,set
	push "GAME_sgmgame"
	push sgmgame
	call clsave,set
	push "GAME_sgmglobpath"
	push sgmglobpath
	call clsave,set
	push "GAME_sgmlastscene"
	push sgmlastscene
	call clsave,set
	push "GAME_ccs"
	call ccs,isvisible
	call clsave,set
	cthis advautosave
	end method
	method advautosave
	push "saves/autosave.txt"
	call clsave,save
	push "autosave"
	call modadvglob,savepck
	end method
	method advautoload
	push "autosave"
	cthis _advload
	end method
	method advcacheload
	push "cache"
	cthis _advload
	end method
	method advcachesave
	push "cache"
	cthis _advsave
	end method
	method _advload
	localstring $1
	pop $1
	call modadvglob,delheros
	push $1
	call modadvglob,loadpck
	push "saves/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call clsave,load
	push "GAME_sgmgame"
	call clsave,get
	pop sgmgame
	push "GAME_sgmglobpath"
	call clsave,get
	pop sgmglobpath
	push "GAME_sgmlastscene"
	call clsave,get
	pop sgmlastscene
	push "GAME_ccs"
	call clsave,bis
	cmp0
	je l3228
	call ccs,show
	jmp l3227
l3228:
	call ccs,hide
l3227:
	push "GAME_game"
	call clsave,get
	call gameapi,play
	end method
	method _advsave
	localstring $1
	pop $1
	push "saves/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	new classfullsave,_saver
	push "saves/autosave.txt"
	call _saver,load
	call _saver,stdsave
	delete _saver
	new vector,_vcsave
	push "string"
	call _vcsave,type
	new vector,_vcsv2
	push "string"
	call _vcsv2,type
	push "saves/grpck_autosave.txt"
	call _vcsave,vecload
	push "saves/grpck_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".txt"
	pop $b
	popax
	add $a,$b
	call _vcsave,vecsave
	localdef $2
	localint $3
	push 0
	pop $3
l3229:
	push $3
	call _vcsave,size
	cmpjl
	cmp0
	je l3230
	jmp l3232
l3231:
	add $3,1
	pop $3
	jmp l3229
l3232:
	push $3
	call _vcsave,get
	pop $2
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push "autosave_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_name.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push "autosave_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecload
	push "saves/"
	push $2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_file.txt"
	pop $b
	popax
	add $a,$b
	call _vcsv2,vecsave
	jmp l3231
l3230:
	delete _vcsave
	delete _vcsv2
	end method
	method advloadsnd
	localstring $1
	pop $1
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	cthis load
	push igmsubtitle
	cmp0
	je l3234
	cthis getfullname
	cthis getsndpath
	push $1
	pop $b
	popax
	add $a,$b
	call subtitle,register
l3234:
	end method
	end class

	module moddbg
	parent classlocker
	method init
	clparent classlocker,init
	new string,sstate
	push "init"
	pop sstate
	new int,ilastx
	new int,ilasty
	new text,txtpos
	push 5000
	call txtpos,setz
	push 0
	push 0
	call txtpos,setpos
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpos,setbkg
	new text,txtswin
	push 5000
	call txtswin,setz
	push 0
	push 0
	push 64
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtswin,setbkg
	new text,txtpod
	push 5000
	call txtpod,setz
	push 0
	push 0
	push 128
	push 16
	push 0
	push 0
	push 0
	push 192
	call txtpod,setbkg
	cthis disable
	end method
	method enable
	cthis unlock
	call txtpos,show
	call txtswin,show
	call txtpod,show
	end method
	method disable
	cthis lock
	call txtpos,hide
	call txtswin,hide
	call txtpod,hide
	end method
	method updatetxtpos
	localint $1
	localint $2
	pop $2
	pop $1
	push ""
	push $1
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	push $2
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtpos,set
	push $1
	push 32
	pop $b
	popax
	sub $a,$b
	push $2
	push 46
	pop $b
	popax
	add $a,$b
	call txtpos,setpos
	push $1
	push 64
	pop $b
	popax
	sub $a,$b
	push $2
	push 30
	pop $b
	popax
	add $a,$b
	call txtpod,setpos
	push $1
	push $2
	push 1
	push 1
	push 1000
	popax
	sub 0,$a
	push 1000
	call engine,getimg
	call txtpod,set
	call txtpos,getey
	push iResY
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push 0
	cmpja
	cmp0
	je l3236
	push 0
	push $2
	popax
	sub 0,$a
	call txtpos,move
	push 0
	push $2
	popax
	sub 0,$a
	call txtpod,move
l3236:
	call txtpod,getex
	push iResX
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l3238
	push $1
	popax
	sub 0,$a
	push 0
	call txtpos,move
	push $1
	popax
	sub 0,$a
	push 0
	call txtpod,move
l3238:
	call txtpod,getpx
	popax
	sub 0,$a
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l3240
	push $1
	push 0
	call txtpos,move
	push $1
	push 0
	call txtpod,move
l3240:
	end method
	method updateswin
	push " "
	call swinka,getposx
	call clcamera,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	push ","
	pop $b
	popax
	add $a,$b
	call swinka,getposy
	call clcamera,getposy
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	call txtswin,set
	call swinka,getposx
	push 32
	pop $b
	popax
	sub $a,$b
	call swinka,getposy
	call txtswin,setpos
	end method
	method msminit
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmmove
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push ilastx
	pop $b
	popax
	sub $a,$b
	push $2
	push ilasty
	pop $b
	popax
	sub $a,$b
	call clcamera,moveplans
	push $1
	push $2
	cthis updatetxtpos
	end method
	method msmove
	cthis getlock
	cmp0
	je l3242
	ret
l3242:
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	push "msm"
	push sstate
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	push $2
	spop $d
	cthis [$d]
	push $1
	pop ilastx
	push $2
	pop ilasty
	end method
	method mslclick
	cthis getlock
	cmp0
	je l3244
	ret
l3244:
	push "space"
	call keyboard,iskeydown
	push 1
	cmpje
	cmp0
	je l3246
	push "move"
	pop sstate
l3246:
	end method
	method mslrel
	cthis getlock
	push 1
	cmpje
	cmp0
	je l3248
	ret
l3248:
	push "init"
	pop sstate
	end method
	method msrclick
	localint $1
	call mouse,getpx
	pop $1
	localint $2
	call mouse,getpy
	pop $2
	localint $3
	push $1
	push $2
	push 1
	push 1
	call grbuts,isin
	pop $3
	push $3
	push 0
	cmpjne
	cmp0
	je l3250
	localstring $4
	push $3
	push 1
	pop $b
	popax
	sub $a,$b
	call grbuts,get
	pop $4
	call $4,print
l3250:
	end method
	method dbkeydown
	push igmdebug
	neg
	cmp0
	je l3252
	ret
l3252:
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l3254
	push "l"
	call keyboard,iskey
	cmp0
	je l3256
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcacheload
	jmp l3255
l3256:
	push "s"
	call keyboard,iskey
	cmp0
	je l3258
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],advcachesave
	jmp l3257
l3258:
	push "b"
	call keyboard,iskey
	cmp0
	je l3260
	call gameapi,getgamename
	spushs
	push "cache.bmp"
	spop $a
	call [$a],cgetscreenshoot
l3260:
l3257:
l3255:
l3254:
	push "d"
	call keyboard,iskey
	cmp0
	je l3262
	cthis getlock
	cmp0
	je l3264
	cthis enable
	jmp l3263
l3264:
	cthis disable
l3263:
l3262:
	cthis getlock
	cmp0
	je l3266
	ret
l3266:
	push "s"
	call keyboard,iskey
	push 1
	cmpje
	cmp0
	je l3268
	cthis updateswin
l3268:
	end method
	end module

	game Tclassmenu
	method init
	new db,_dbl
	new gmobjvec,gr1
	push "bkg"
	call gr1,add
	end method
	method tload
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	cthis setgraphpath
	push $3
	push "null"
	cmpjne
	cmp0
	je l3270
	cthis getgraphpath
	push $3
	pop $b
	popax
	add $a,$b
	call _dbl,loadscript
	localint $4
	push 0
	pop $4
l3271:
	push $4
	call _dbl,getrowsno
	cmpjl
	cmp0
	je l3272
	jmp l3274
l3273:
	add $4,1
	pop $4
	jmp l3271
l3274:
	push "snd"
	push $4
	push 0
	call _dbl,get
	pop $b
	popax
	add $a,$b
	push $4
	push 1
	call _dbl,get
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis newsnd
	jmp l3273
l3272:
l3270:
	new classbutton,_clb
	cthis getgraphpath
	push $2
	pop $b
	popax
	add $a,$b
	push 10
	push "imglobcurs"
	push "gr1"
	call _clb,build2
	push "_gmbutclick"
	call _clb,clickfunc
	push "_gmbutmove"
	call _clb,movonfunc
	push "sndintro"
	call engine,varexist
	cmp0
	je l3276
	push "sndintro"
	cthis cbplay
l3276:
	end method
	method mouselclick
	push 1
	cthis cactsndstop
	end method
	method _gmbutmove
	localstring $1
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3278
	call sndintro,isplaying
	jmp l3280
l3278:
	push 0
	jmp l3280
l3279:
	push 1
l3280:
	cmp0
	je l3281
	ret
l3281:
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3283
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis crselfplay
l3283:
	end method
	method _gmbutclick
	localstring $1
	pop $1
	push $1
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end game

	class TMenu
	method init
	end method
	method tinit
	localstring $1
	pop $1
	push $1
	new Buttons,but1
	end method
	method mousel_click
	push 1
	cthis cactsndstop
	end method
	method but1_moveon
	localstring $1
	call but1,sobject
	pop $1
	call sndakskermovon,play
	push "sndintro"
	call engine,varexist
	cmp0
	je l3285
	call sndintro,isplaying
	jmp l3287
l3285:
	push 0
	jmp l3287
l3286:
	push 1
l3287:
	neg
	cmp0
	je l3288
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	call engine,varexist
	cmp0
	je l3290
	push "snd"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbselfplay
l3290:
l3288:
	push $1
	push "_MOVEON"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_moveoff
	call but1,sobject
	push "_MOVEOFF"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method but1_lclick
	call but1,sobject
	push "_BUTCLICK"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end class

	class TPainter
	method init
	end method
	method tinit
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	localstring $6
	localdef $7
	localstring $8
	pop $8
	pop $7
	pop $6
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	push $1
	push "null"
	cmpjne
	cmp0
	je l3292
	push $1
	clparent GameController,init
l3292:
	cthis unlock
	push $2
	push "null"
	cmpjne
	cmp0
	je l3294
	push $2
	cthis setgraphpath
l3294:
	push $3
	push "null"
	cmpjne
	cmp0
	je l3296
	push "anbkg"
	push $3
	push 0
	cthis newanima
l3296:
	push "anbrush1"
	push $4
	push 3000
	cthis newanima
	push "anbrush1"
	push "anbrush2"
	cthis copyanima
	push 0
	push 1
	call anbrush2,setframe
	call anbrush1,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anbrush2,setz
	push "anbrush1"
	clparent anima_pack,resizemethods
	push "anbrush2"
	clparent anima_pack,resizemethods
	localint $9
	localint $10
	push $7
	spushs
	push "ru"
	cmpst
	jne l3298
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getpy
	pop $10
	jmp l3297
l3298:
	push "rd"
	cmpst
	jne l3299
	spop $a
	call anbrush2,getex
	pop $9
	call anbrush2,getey
	pop $10
	jmp l3297
l3299:
	push "ld"
	cmpst
	jne l3300
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getey
	pop $10
	jmp l3297
l3300:
	spop $a
	call anbrush2,getpx
	pop $9
	call anbrush2,getpy
	pop $10
l3297:
	push $9
	push $10
	call anbrush1,saverelpos
	push $9
	push $10
	call anbrush2,saverelpos
	call mouse,hide
	push "anfg"
	push $5
	push 100
	cthis newanima
	push "foreground"
	push 0
	call anfg,setframe
	new gmimgvec,grdraw
	push "anfg"
	push "andraw"
	push "draw"
	call anfg,actionnr
	push "grdraw"
	cthis newanframesgr
	popax
	push 10
	call grdraw,setz
	new gmimgvec,grpaleta
	push "grpaleta"
	push $6
	popax
	pop $b
	psax
	call [$b],operator<
	push 20
	call grpaleta,setz
	new int,_ibrx
	call anbrush2,getpx
	pop _ibrx
	new int,_ibry
	call anbrush2,getpy
	pop _ibry
l3301:
	push _ibrx
	push _ibry
	push 0
	push 1
	call anbrush2,isin
	neg
	cmp0
	je l3302
	add _ibrx,1
	pop _ibrx
	push _ibrx
	call anbrush2,getex
	cmpje
	cmp0
	je l3304
	call anbrush2,getpx
	pop _ibrx
	add _ibry,1
	pop _ibry
l3304:
	jmp l3301
l3302:
	call anbrush2,getpx
	popax
	sub _ibrx,$a
	pop _ibrx
	call anbrush2,getpy
	popax
	sub _ibry,$a
	pop _ibry
	clparent TPainter,tp_mouse_move
	push $8
	push "null"
	cmpjne
	cmp0
	je l3306
	new string,savefile
	push $8
	pop savefile
	new db,dbkolory
	localdef $11
	push $8
	pop $11
	push $11
	cthis saveexist
	cmp0
	je l3308
	push $11
	call dbkolory,vecload
	push "TPainter0"
	call grdraw,each
	jmp l3307
l3308:
	push "TPainter1"
	call grdraw,each
	cthis tp_savekols
l3307:
l3306:
	end method
	method TPainter0
	localdef $1
	pop $1
	push $1
	push 0
	call dbkolory,get
	push $1
	push 1
	call dbkolory,get
	push $1
	push 2
	call dbkolory,get
	push 255
	push 0
	cthis paint
	end method
	method TPainter1
	localdef $1
	pop $1
	cthis white
	push 255
	push 0
	cthis paint
	push "255 255 255"
	push " "
	call dbkolory,dbaddstringrow
	end method
	method game_exit
	call mouse,show
	clparent GameController,game_exit
	end method
	method tp_exit
	call mouse,show
	end method
	method tp_mouse_move
	call anbrush1,mssetrelpos
	call anbrush2,mssetrelpos
	end method
	method tp_mouse_lclick
	cthis getlock
	neg
	cmp0
	je l3310
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call grdraw,isin
	cmp0
	je l3312
	call grdraw,getsfound
	spushs
	call anbrush2,getpx
	push _ibrx
	pop $b
	popax
	add $a,$b
	call anbrush2,getpy
	push _ibry
	pop $b
	popax
	add $a,$b
	call anbrush2,getrgba
	push 0
	spop $a
	call [$a],paint
	cthis onpaint
	jmp l3311
l3312:
	push $1
	push $2
	push 0
	push 1
	call grpaleta,isin
	cmp0
	je l3314
	localdef $3
	localdef $4
	localdef $5
	localdef $6
	call grpaleta,getsfound
	spushs
	push $1
	push $2
	spop $a
	call [$a],getrgba
	pop $6
	pop $5
	pop $4
	pop $3
	push 255
	pop $6
	push $3
	push $4
	push $5
	push $6
	push 0
	call anbrush2,paint
	cthis onsetbrush
l3314:
l3311:
l3310:
	end method
	method tp_savekols
	push GAME
	spushs
	push "dbkolory"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l3316
	ret
l3316:
	push "TPainter2"
	call grdraw,each
	push savefile
	call dbkolory,vecsave
	end method
	method TPainter2
	localdef $1
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	cthis getex
	pop $6
	localint $7
	cthis getey
	pop $7
	localint $8
	cthis getpx
	pop $8
	localint $9
	cthis getpy
	pop $9
l3317:
	push $8
	push $6
	cmpjne
	cmp0
	je l3318
	push $9
	push $7
	cmpjne
	jmp l3320
l3318:
	push 0
	jmp l3320
l3319:
	push 1
l3320:
	cmp0
	je l3321
	push $8
	push $9
	push 0
	push 1
	cthis isin
	cmp0
	je l3323
	push $8
	pop $2
	push $9
	pop $3
	push $6
	pop $8
	jmp l3322
l3323:
	add $8,1
	pop $8
l3322:
	jmp l3317
l3321:
	push $2
	push $3
	cthis getrgba
	popax
	pop $4
	pop $3
	pop $2
	push $1
	push 0
	push $2
	call dbkolory,set
	push $1
	push 1
	push $3
	call dbkolory,set
	push $1
	push 2
	push $4
	call dbkolory,set
	end method
	method tp_default_erase
	cthis white
	push 255
	cthis tp_erase
	end method
	method tp_erase
	localint $1
	localint $2
	localint $3
	localint $4
	pop $4
	pop $3
	pop $2
	pop $1
	localint $5
	push 0
	pop $5
l3324:
	push $5
	call grdraw,size
	cmpjl
	cmp0
	je l3325
	jmp l3327
l3326:
	add $5,1
	pop $5
	jmp l3324
l3327:
	push $5
	call grdraw,get
	spushs
	push $1
	push $2
	push $3
	push $4
	push 0
	spop $a
	call [$a],paint
	push $5
	push 0
	push 255
	call dbkolory,set
	push $5
	push 1
	push 255
	call dbkolory,set
	push $5
	push 2
	push 255
	call dbkolory,set
	jmp l3326
l3325:
	cthis tp_savekols
	end method
	end class

	class TPainterCon
	parent TPainter
	parent GameController
	method init
	end method
	end class

	new string,sAskerGame
	class StdGame
	parent classadv
	parent GameController
	parent Localize
	method init
	localstring $1
	pop $1
	push 0
	pop AdventureGame
	push 0
	pop igmstate
	clparent classadv,init
	push $1
	clparent GameController,init
	clparent Localize,init
	push 0
	push 0
	call clbuts,setcursorpos
	push 0
	push 0
	call claskexit,setcursorpos
	push $1
	cthis path=
	push SNDPATH
	cthis setwavpath
	call bsms,setstd
	call clmusic,play
	call clbuts,reset
	call claskexit,reset
	call advmouse,setstd
	new Music,mus
	push PrzygodaMode
	cmp0
	je l3329
	clparent classadvcontroller,advsaveonstart
	clparent classadvstdgame,advsave_game
	push "_timgetscreenshoot"
	push "advglobalscreenshoot"
	cthis cycle=
	call _timgetscreenshoot,play
l3329:
	end method
	method cutscene
	push 0
	push 0
	push iResX
	push iResY
	new CutScene,ccs
	push 2000
	call ccs,setz
	end method
	method gotoadv
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push $2
	pop sgmgame
	push "gameadvdef"
	call gameapi,play
	end method
	method gotoadv2
	localstring $1
	localstring $2
	pop $2
	pop $1
	call gameapi,getgamename
	pop sgmlastscene
	push $1
	pop sgmglobpath
	push "null"
	pop sgmgame
	push $2
	call gameapi,play
	end method
	method crect
	push 600
	push 196
	push 403
	push 497
	new Rect,rec
	end method
	method crect2
	push 6
	push 174
	push 1012
	push 530
	new Rect,rec2
	end method
	method cshowbut
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push $2
	call clbuts,StdGame0
	end method
	method StdGame0
	localstring $1
	localdef $2
	pop $2
	pop $1
	push $1
	push "getcx"
	call buts,callimgfun
	push $1
	push "getcy"
	call buts,callimgfun
	push $2
	call clp,show
	end method
	method napisshow
	localint $1
	localint $2
	pop $2
	pop $1
	cthis show
	push $1
	push $2
	cthis move
	end method
	method napispod
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getcx
	cthis getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $1
	spushs
	spop $a
	call [$a],getey
	push 5
	pop $b
	popax
	add $a,$b
	cthis napisshow
	end method
	method advclick
	push igmdebug
	cmp0
	je l3331
	push igmstate
	push 0
	cmpje
	cmp0
	jne l3334
	push igmstate
	push 5
	cmpje
	jmp l3335
l3333:
	push 0
	jmp l3335
l3334:
	push 1
l3335:
	jmp l3336
l3331:
	push 0
	jmp l3336
l3332:
	push 1
l3336:
	cmp0
	je l3337
	push 1
	cthis cactsndstop
l3337:
	end method
	method key_down
	push igmdebug
	cmp0
	je l3339
	push "lctrl"
	call keyboard,iskeydown
	cmp0
	je l3339
	push "r"
	call keyboard,iskey
	jmp l3341
l3339:
	push 0
	jmp l3341
l3340:
	push 1
l3341:
	cmp0
	je l3342
	cthis crestart
l3342:
	end method
	method askfor
	localdef $1
	pop $1
	push igmstate
	push 111
	cmpjne
	cmp0
	je l3344
	push $1
	pop sAskerGame
	call claskexit,askexittomenu
l3344:
	end method
	method askrestart
	call claskexit,askrestart
	end method
	method onmusicfin
	call mus,play
	end method
	method exit
	call bsms,setstd
	cthis game_exit
	push igmsubtitle
	cmp0
	je l3346
	call subtitle,reset
l3346:
	end method
	end class

	new classgamepause,clpause
	new classgamemusic,clmusic
	push "sounds/bgr/"
	call clmusic,sndbgrpath
	push "sounds/music/"
	call clmusic,musicpath
	push "sounds/music.db"
	call clmusic,load
	new snd,sndakskermovon
	push "sounds/sfx/butmovon.wav"
	call sndakskermovon,load
	push 50
	call sndakskermovon,setvol
	class classasker2
	parent classasker
	method init
	clparent classasker,init
	new snd,sndaskexit
	push 0
	push 1
	call sndaskexit,setstartstopflag
	new snd,sndaskexitgame
	push 0
	push 1
	call sndaskexitgame,setstartstopflag
	new snd,sndyes
	push 0
	push 1
	call sndyes,setstartstopflag
	new snd,sndno
	push 0
	push 1
	call sndno,setstartstopflag
	new snd,sndaskrestart
	push 0
	push 1
	call sndaskrestart,setstartstopflag
	new snd,sndaskrestart2
	push 0
	push 1
	call sndaskrestart2,setstartstopflag
	cthis reload
	push "scripts/common/asker.pyz"
	push 12000
	cthis load
	push "sndakskermovon"
	cthis fxonmovon
	end method
	method reload
	push SNDPATH
	cthis setwavpath
	localdef $1
	cthis getsndpath
	pop $1
	push $1
	push "narexit.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexit,load
	push $1
	push "narexitgame.wav"
	pop $b
	popax
	add $a,$b
	call sndaskexitgame,load
	push $1
	push "naryes.wav"
	pop $b
	popax
	add $a,$b
	call sndyes,load
	push $1
	push "narno.wav"
	pop $b
	popax
	add $a,$b
	call sndno,load
	push $1
	push "narrestart.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart,load
	push $1
	push "narrestart.wav"
	pop $b
	popax
	add $a,$b
	call sndaskrestart2,load
	end method
	method askexittomenu
	push "sndaskexit"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askexitgame
	push "sndaskexitgame"
	push "sndyes"
	push "sndno"
	push "myestomenu"
	push "mnotomenu"
	cthis ask
	end method
	method askrestart
	push "sndaskrestart"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method askrestart2
	push "sndaskrestart2"
	push "sndyes"
	push "sndno"
	push "myesrestart"
	push "mnorestart"
	cthis ask
	end method
	method mnotomenu
	end method
	method myestomenu
	call modadvglob,delheros
	call clsave,free
	call gameapi,getgamename
	spushs
	push "MainMenu"
	cmpst
	jne l3348
	spop $a
	push "Outro"
	jmp l3347
l3348:
	spop $a
	push "MainMenu"
l3347:
	call gameapi,play
	end method
	method mnorestart
	call gameapi,getgamename
	spushs
	push "SubMenu"
	cmpst
	jne l3350
	spop $a
	push "MenuGry"
	jmp l3349
l3350:
	spop $a
	push "MainMenu"
l3349:
	call gameapi,play
	end method
	method myesrestart
	cthis crestart
	end method
	method ask
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	localstring $5
	pop $5
	pop $4
	pop $3
	pop $2
	pop $1
	call ccs,isplaying
	neg
	cmp0
	je l3352
	push $1
	push $2
	push $3
	push $4
	push $5
	clparent classasker,ask
l3352:
	end method
	end class

	new classasker2,claskexit
	method LANG=
	localdef $1
	pop $1
	push $1
	pop LANG
	push "sounds/"
	pop SNDPATH
	push LANG
	push "pl"
	cmpje
	cmp0
	je l3354
	push ""
	pop LANG
l3354:
	call LANG,length
	push 0
	cmpja
	cmp0
	je l3356
	push LANG
	push "/"
	pop $b
	popax
	add $a,$b
	popax
	add SNDPATH,$a
	pop SNDPATH
l3356:
	call claskexit,reload
	end method
	module clbuts
	method init
	end method
	method load
	new classbutton,buts
	push "scripts/common/buttons.pyz"
	push 4000
	push "imglobcurs"
	call buts,build
	call engine,actclassname
	push "butclick"
	call buts,transclickfunc
	call engine,actclassname
	push "butmovon"
	call buts,transmovonfunc
	call engine,actclassname
	push "butmovoff"
	call buts,transmovofffunc
	call buts,disableall
	new db,dbb
	cthis checktouchpad
	cmp0
	je l3358
	push "scripts/common/butspad.db"
	call dbb,load
	jmp l3357
l3358:
	push "scripts/common/buts.db"
	call dbb,load
l3357:
	new snd,sndfxglobon
	push "sounds/sfx/globbutmovon.wav"
	call sndfxglobon,load
	push 50
	call sndfxglobon,setvol
	new def,bvisible
	push 1
	pop bvisible
	end method
	method reset
	call buts,disableall
	localdef $1
	call gameapi,getgamename
	pop $1
	localint $2
	push $1
	call dbb,findbyrow
	pop $2
	push $2
	push 0
	cmpjae
	cmp0
	je l3360
	localint $3
	push $2
	call dbb,getcolsno
	pop $3
	localint $4
	push 1
	pop $4
l3361:
	push $4
	push $3
	cmpjl
	cmp0
	je l3362
	jmp l3364
l3363:
	add $4,1
	pop $4
	jmp l3361
l3364:
	push $2
	push $4
	call dbb,get
	call buts,enable
	jmp l3363
l3362:
l3360:
	end method
	method setcursorpos
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	push $2
	call buts,setcursorpos
	end method
	method enable
	localstring $1
	pop $1
	push $1
	call buts,enable
	end method
	method butmovon
	localstring $1
	pop $1
	call sndfxglobon,play
	call mouse,isvisible
	pop bvisible
	call mouse,show
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveon"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butmovoff
	localstring $1
	pop $1
	push bvisible
	neg
	cmp0
	je l3366
	call mouse,hide
l3366:
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butmoveoff"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method butclick
	localstring $1
	pop $1
	push $1
	push "pause"
	cmpje
	cmp0
	je l3368
	call clpause,pause
	jmp l3367
l3368:
	push $1
	push "exit"
	cmpje
	cmp0
	je l3370
	call gameapi,getgamename
	spushs
	push "MenuGry"
	cmpst
	je l3373
	push "MenuLoad"
	cmpst
	je l3373
	jmp l3372
l3373:
	spop $a
	push "MainMenu"
	call gameapi,play
	jmp l3371
l3372:
	push "MainMenu"
	cmpst
	jne l3374
	spop $a
	call claskexit,askexitgame
	jmp l3371
l3374:
	spop $a
	cthis advgetscreenshoot
	call claskexit,askexittomenu
l3371:
	jmp l3369
l3370:
	push $1
	push "restart"
	cmpje
	cmp0
	je l3376
	call claskexit,askrestart
l3376:
l3369:
l3367:
	cthis getname
	push "_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push "_butclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	end module

	class classplacepointer2
	parent classplacepointer
	method init
	clparent classplacepointer,init
	push "scripts/common/strzalka.pyz"
	cthis load
	end method
	end class

	push 0
	pop igmstate
	push 0
	push 0
	push 1
	pop igmbegin
	pop igmdemo
	pop igmeasy
	call bsms,setstd
	call clbuts,load
	cthis checktouchpad
	cmp0
	je l3378
	push igmdebug
	neg
	jmp l3380
l3378:
	push 0
	jmp l3380
l3379:
	push 1
l3380:
	cmp0
	je l3381
	push "scripts/common/cursorspad.pyz"
	call advmouse,load
	jmp l3377
l3381:
	push "scripts/common/cursors.pyz"
	call advmouse,load
l3377:
	push "MainLoader"
	call gameapi,play
	game MainLoader
	parent StdGame
	method init
	push "mainloader"
	clparent StdGame,init
	push "scripts/common/defaults.adv"
	call modadv,load
	push "scripts/common/sounds.db"
	call modadv,loadsounds
	push "snd"
	call modadv,settalktype
	push "scripts/common/initscript.dsc"
	call modadv,loadscript
	push "saves/global.txt"
	call clsave,load
	cthis getname
	pop sgmlastscene
	push "startgame:"
	push 1
	call modadv,get
	call gameapi,play
	end method
	end game

	new int,PrzygodaNumer
	push 1
	pop PrzygodaNumer
	new int,PrzygodaMode
	push 0
	pop PrzygodaMode
	class classadvstdgame
	parent classadvcontroller
	method init
	call clbuts,reset
	clparent classadvcontroller,init
	cthis advsave_game
	new gmimgvec,__grhelp
	new anima,__anhp
	push "scripts/common/aktywny.pyz"
	call __anhp,load
	call __anhp,hide
	localint $1
	push 0
	pop $1
l3382:
	push $1
	push 100
	cmpjl
	cmp0
	je l3383
	jmp l3385
l3384:
	add $1,1
	pop $1
	jmp l3382
l3385:
	localstring $2
	push "__anhp"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push "__anhp"
	push $2
	cthis copyanima
	push $2
	spushs
	push 2700
	spop $a
	call [$a],setz
	push $2
	call __grhelp,add
	jmp l3384
l3383:
	new img,_im_podbg
	push iResX
	push 1
	cthis black
	push 255
	call _im_podbg,create
	push 0
	push iResY
	push 1
	pop $b
	popax
	sub $a,$b
	call _im_podbg,setpos
	push 2000
	popax
	sub 0,$a
	call _im_podbg,setz
	new img,_im_podbg2
	push 1
	push iResY
	cthis black
	push 255
	call _im_podbg2,create
	push iResX
	push 1
	pop $b
	popax
	sub $a,$b
	push 0
	call _im_podbg2,setpos
	push 2000
	popax
	sub 0,$a
	call _im_podbg2,setz
	new int,_m_czytaj_tresc
	push 0
	pop _m_czytaj_tresc
	end method
	method clbuts_help_butclick
	localint $1
	push 0
	pop $1
	localint $2
	push 0
	pop $2
l3386:
	push $2
	call grbuts,size
	cmpjl
	cmp0
	je l3387
	jmp l3389
l3388:
	add $2,1
	pop $2
	jmp l3386
l3389:
	localstring $3
	push $2
	call grbuts,get
	pop $3
	localstring $4
	localstring $5
	push $3
	spushs
	spop $a
	call [$a],gettyp
	pop $5
	push $5
	push "item"
	cmpje
	cmp0
	jne l3392
	push $5
	push "but"
	cmpje
	cmp0
	jne l3392
	push $5
	push "doors"
	cmpje
	jmp l3393
l3391:
	push 0
	jmp l3393
l3392:
	push 1
l3393:
	cmp0
	je l3394
	push $3
	spushs
	spop $a
	call [$a],enabled
	cmp0
	je l3394
	push $3
	spushs
	spop $a
	call [$a],isvisible
	cmp0
	jne l3397
	push $3
	spushs
	spop $a
	call [$a],ismask
	jmp l3398
l3396:
	push 0
	jmp l3398
l3397:
	push 1
l3398:
	jmp l3399
l3394:
	push 0
	jmp l3399
l3395:
	push 1
l3399:
	cmp0
	je l3400
	push $1
	call __grhelp,get
	pop $4
	add $1,1
	pop $1
	push $4
	spushs
	push $3
	spushs
	spop $a
	call [$a],getcx
	push $3
	spushs
	spop $a
	call [$a],getcy
	spop $a
	call [$a],setpos
	push $5
	push "doors"
	cmpje
	cmp0
	je l3402
	push $4
	spushs
	push 1
	spop $a
	call [$a],play
	jmp l3401
l3402:
	call gameapi,getgamename
	spushs
	push _stalkpref
	push $3
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],hasvar
	cmp0
	je l3404
	push $4
	spushs
	push 2
	spop $a
	call [$a],play
	jmp l3403
l3404:
	push $4
	spushs
	push 0
	spop $a
	call [$a],play
l3403:
l3401:
	push $4
	call clcamera,removefrombgr
	push $3
	call clcamera,findinbgr
	pop $5
	push $5
	push "null"
	cmpjne
	cmp0
	je l3406
	push $5
	push $4
	call clcamera,addtobgr
l3406:
l3400:
	jmp l3388
l3387:
	end method
	method advload_game
	push "save"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	cthis _advload
	end method
	method advsave_game
	push "save"
	push PrzygodaNumer
	pop $b
	popax
	add $a,$b
	cthis _advsave
	end method
	method m_new_powrot
	push "ansubadvpowrot"
	push "$scripts/common/powrot.pyz"
	push 2600
	cthis newanima
	end method
	method m_del_powrot
	delete ansubadvpowrot
	end method
	method m_on_powrot
	call mouse,getpos
	push 1
	push 1
	call ansubadvpowrot,isin
	end method
	method m_przepis_in
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame0
	end method
	method classadvstdgame0
	new snd,_sndsklad
	push 0
	push 1
	call _sndsklad,setstartstopflag
	new gmimgvec,_grels
	push "_grels"
	push "$scripts/common/przepis.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 2500
	call _grels,setz
	new string,_s_played
	push "null"
	pop _s_played
	cthis m_new_powrot
	push 1
	pop igmstate
	end method
	method m_przepis_out
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame1
	end method
	method classadvstdgame1
	call _grels,deleteloaded
	delete _grels
	delete _sndsklad
	delete _s_played
	cthis m_del_powrot
	push 0
	pop igmstate
	end method
	method m_czytaj
	push 1
	pop _m_czytaj_tresc
	end method
	method m_zaklecie_in
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame2
	end method
	method classadvstdgame2
	localint $1
	push 0
	pop $1
	push _m_czytaj_tresc
	cmp0
	je l3408
	push 1
	pop $1
l3408:
	push "_anzaklecie"
	push "$scripts/common/zaklecie.pyz"
	push 2600
	cthis newanima
	push "_anzaklecie"
	push "_ansayzak1"
	cthis copyanima
	push 1
	push 0
	call _ansayzak1,setframe
	new snd,_sndzak
	new db,_dbelik
	push "lang/zaklecie.db"
	call _dbelik,load
	new gmimgvec,_grelik
	new gmimgvec,_grelist
	new string,_selik
	push "null"
	pop _selik
	new int,_ielik
	push 0
	pop _ielik
	localdef $2
	push 343
	pop $2
	localdef $3
	push 177
	pop $3
	push "_felik"
	push sgmfontitalic
	push 14
	cthis newfont
	localstring $4
	localint $5
	push 0
	pop $5
l3409:
	push $5
	push 0
	call _dbelik,getcolsno
	cmpjl
	cmp0
	je l3410
	jmp l3412
l3411:
	add $5,1
	pop $5
	jmp l3409
l3412:
	push "_txfel"
	push $5
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push ""
	push "_felik"
	cthis black
	cthis newtext
	push $4
	spushs
	push 0
	push $5
	call _dbelik,get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $4
	spushs
	push 2600
	spop $a
	call [$a],setz
	push $4
	spushs
	spop $a
	call [$a],geth
	push 4
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	push $4
	call _grelist,add
	jmp l3411
l3410:
	push 25
	popax
	add $3,$a
	pop $3
	push 1
	pop $5
l3413:
	push $5
	call _dbelik,getrowsno
	cmpjl
	cmp0
	je l3414
	jmp l3416
l3415:
	add $5,1
	pop $5
	jmp l3413
l3416:
	push "_txfelik"
	push $5
	pop $b
	popax
	add $a,$b
	pop $4
	push $4
	push ""
	push "_felik"
	cthis black
	cthis newtext
	push $4
	spushs
	push $5
	push 0
	call _dbelik,get
	spop $a
	call [$a],txtset
	push $4
	spushs
	push $2
	push $3
	spop $a
	call [$a],setpos
	push $4
	spushs
	push 2600
	spop $a
	call [$a],setz
	push $4
	spushs
	spop $a
	call [$a],geth
	push 4
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	push $4
	call _grelik,add
	jmp l3415
l3414:
	cthis m_new_powrot
	push 2
	pop igmstate
	push $1
	cmp0
	je l3418
	push "jaga_32"
	call _sndzak,_msndplay
l3418:
	end method
	method m_zaklecie_out
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame3
	end method
	method classadvstdgame3
	delete _ansayzak1
	delete _anzaklecie
	push 0
	call _sndzak,stop
	delete _sndzak
	delete _dbelik
	delete _selik
	delete _ielik
	call _grelist,deleteallgm
	call _grelik,deleteallgm
	delete _grelik
	delete _grelist
	delete _felik
	cthis m_del_powrot
	push 0
	pop igmstate
	end method
	method _m_out_elik
	push _selik
	push "null"
	cmpjne
	cmp0
	je l3420
	push _selik
	spushs
	cthis black
	spop $a
	call [$a],createtxt
	push "null"
	pop _selik
l3420:
	end method
	method m_tabliczka_in
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame4
	end method
	method classadvstdgame4
	push "_antabliczka"
	push "$scripts/adkor/tabzoom.pyz"
	push 2600
	cthis newanima
	new db,_dbtab
	push "lang/tabliczka.db"
	call _dbtab,load
	new gmimgvec,_grtab
	localdef $1
	push 18
	pop $1
	push "_ftab"
	push sgmfontitalic
	push $1
	cthis newfont
	localstring $2
	localstring $3
	localint $4
	call _antabliczka,getcx
	pop $4
	localint $5
	call _antabliczka,getpy
	push 70
	pop $b
	popax
	add $a,$b
	pop $5
	localint $6
	push 0
	pop $6
l3421:
	push $6
	call _dbtab,getrowsno
	cmpjl
	cmp0
	je l3422
	jmp l3424
l3423:
	add $6,1
	pop $6
	jmp l3421
l3424:
	push $6
	push 0
	call _dbtab,get
	pop $2
	push $2
	push " "
	cmpjne
	cmp0
	je l3426
	push "_txtab"
	push $6
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push ""
	push "_ftab"
	cthis black
	cthis newtext
	push $3
	spushs
	push $6
	push 0
	call _dbtab,get
	spop $a
	call [$a],txtset
	push $3
	spushs
	push $4
	push $3
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push $5
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 2600
	spop $a
	call [$a],setz
	push $3
	call _grtab,add
l3426:
	push $1
	push 4
	pop $b
	popax
	add $a,$b
	popax
	add $5,$a
	pop $5
	jmp l3423
l3422:
	push 3
	pop igmstate
	end method
	method m_tabliczka_out
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],classadvstdgame5
	end method
	method classadvstdgame5
	call _grtab,deleteallgm
	delete _grtab
	delete _antabliczka
	delete _ftab
	delete _dbtab
	push 0
	pop igmstate
	end method
	method mouse_MOVE
	push igmstate
	spushs
	push 1
	cmpst
	jne l3428
	spop $a
	call mouse,getpos
	push 1
	push 1
	call _grels,isin
	cmp0
	je l3430
	call _grels,getfound
	push 0
	cmpja
	jmp l3432
l3430:
	push 0
	jmp l3432
l3431:
	push 1
l3432:
	cmp0
	je l3433
	localdef $1
	call _grels,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $1
	push $1
	push _s_played
	cmpje
	cmp0
	je l3435
	call _sndsklad,isplaying
	jmp l3437
l3435:
	push 0
	jmp l3437
l3436:
	push 1
l3437:
	neg
	cmp0
	je l3438
	push $1
	pop _s_played
	push "sounds/jaga_"
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call _sndsklad,load
	call _sndsklad,play
l3438:
l3433:
	jmp l3427
l3428:
	push 2
	cmpst
	jne l3439
	spop $a
	call mouse,getpos
	push 1
	push 0
	call _grelik,isin
	cmp0
	je l3441
	localdef $1
	call _grelik,getsfound
	pop $1
	push $1
	push _selik
	cmpjne
	cmp0
	je l3443
	call _grelik,getfound
	pop _ielik
	cthis _m_out_elik
	push $1
	pop _selik
	push $1
	spushs
	cthis red
	spop $a
	call [$a],createtxt
l3443:
	jmp l3440
l3441:
	cthis _m_out_elik
l3440:
	jmp l3427
l3439:
	spop $a
l3427:
	end method
	method _msndplay
	localstring $1
	pop $1
	push "sounds/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis load
	cthis play
	end method
	method mouse_LCLICK
	push igmstate
	spushs
	push 1
	cmpst
	jne l3445
	spop $a
	cthis m_on_powrot
	cmp0
	je l3447
	cthis m_przepis_out
l3447:
	jmp l3444
l3445:
	push 2
	cmpst
	jne l3448
	spop $a
	cthis m_on_powrot
	cmp0
	je l3450
	cthis m_zaklecie_out
	push _m_czytaj_tresc
	cmp0
	je l3452
	push 0
	pop _m_czytaj_tresc
	push "behpowrotczytlist"
	cthis playbeh
l3452:
	jmp l3449
l3450:
	call mouse,getpos
	push 1
	push 1
	call _ansayzak1,isin
	cmp0
	je l3454
	push "jaga_32"
	call _sndzak,_msndplay
	jmp l3453
l3454:
	push _selik
	push "null"
	cmpjne
	cmp0
	je l3456
	push "jaga_"
	push 33
	push _ielik
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	call _sndzak,_msndplay
	jmp l3455
l3456:
	push 0
	call _sndzak,stop
l3455:
l3453:
l3449:
	jmp l3444
l3448:
	spop $a
l3444:
	end method
	end class

	game gameadvdef
	parent classadvstdgame
	method init
	clparent classadvstdgame,init
	end method
	end game

	game gameadjaga0
	parent classadvstdgame
	method init
	clparent classadvstdgame,init
	push "epizod"
	call clsave,get
	spushs
	push "e5Lubawa"
	cmpst
	jne l3458
	spop $a
	cthis e5_adjaga_mgla
	cthis e5_gesi
	jmp l3457
l3458:
	push "e7Eliksir"
	cmpst
	jne l3459
	spop $a
	cthis e7_labadek
	jmp l3457
l3459:
	spop $a
l3457:
	end method
	method e5_adjaga_mgla
	push "anmgla"
	push "e5mgla.pyz"
	push 1050
	popax
	sub 0,$a
	cthis newanima
	push "anmgla"
	push "anmgla2"
	cthis copyanima
	push "anmgla"
	call bgrgrod,add
	push "anmgla2"
	call bgrgrod,add
	call anmgla,getpx
	call anmgla,getw
	pop $b
	popax
	sub $a,$b
	call anmgla,getpy
	call anmgla2,ansetbpos
	push "onendframe"
	push "gameadjaga00"
	call anmgla,addmethod
	push 0
	call anmgla,play
	end method
	method gameadjaga00
	localstring $1
	push "anmgla"
	pop $1
	localstring $2
	call anmgla2,getpx
	call anmgla,getpx
	cmpjl
	cmp0
	je l3461
	push "anmgla2"
	pop $1
	push "anmgla"
	pop $2
	jmp l3460
l3461:
	push "anmgla2"
	pop $2
l3460:
	push $1
	spushs
	spop $a
	call [$a],getex
	push 0
	cmpjle
	cmp0
	je l3463
	push $1
	spushs
	push $2
	spushs
	spop $a
	call [$a],getex
	push $2
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],ansetbpos
l3463:
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	end method
	method e5_gesi
	push "angesi"
	push "e5gesi.pyz"
	push 1090
	popax
	sub 0,$a
	cthis newanima
	push 150
	push 0
	call angesi,move
	push "angesi"
	call bgrchmury1,add
	push 0
	call angesi,play
	push "timgesi"
	push "gameadjaga01"
	cthis cycle=
	call timgesi,play
	end method
	method gameadjaga01
	push 1
	popax
	sub 0,$a
	push 0
	call angesi,move
	call angesi,getex
	push 1000
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l3465
	push iResX
	push 100
	pop $b
	popax
	add $a,$b
	call angesi,getpy
	call angesi,ansetbpos
l3465:
	cthis play
	end method
	method e7_labadek
	push "anlabadek"
	push "e7labadek.pyz"
	push 1000
	popax
	sub 0,$a
	cthis newanima
	push "anlabadek"
	call bgrgrod,add
	push 0
	push "gameadjaga02"
	call anlabadek,anplayfin
	end method
	method gameadjaga02
	push 1
	push 0
	cthis move
	cthis getpx
	push 1500
	cmpja
	cmp0
	je l3467
	push 500
	popax
	sub 0,$a
	cthis getw
	pop $b
	popax
	sub $a,$b
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push 0
	cthis move
l3467:
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	end game

	game gameaddomkk0
	parent classadvstdgame
	method init
	clparent classadvstdgame,init
	end method
	method kajko_VISIT
	call ptkajko,gameaddomkk00
	end method
	method gameaddomkk00
	localint $1
	cthis getidanpath
	pop $1
	localstring $2
	call gameapi,getgamename
	pop $2
	push $1
	push 11
	cmpje
	cmp0
	je l3469
	push $2
	spushs
	spop $a
	call [$a],behplaying
	neg
	cmp0
	je l3469
	push "e6_piesek_je"
	call clsave,bis
	neg
	jmp l3471
l3469:
	push 0
	jmp l3471
l3470:
	push 1
l3471:
	cmp0
	je l3472
	push $2
	spushs
	push "behpiesekszczeka"
	spop $a
	call [$a],playbeh
l3472:
	end method
	end game

	game Mapa
	parent StdGame
	method init
	push "mapa"
	clparent StdGame,init
	push "mapscene"
	push sgmlastscene
	call clsave,set
	push "mapa.pyz"
	new Buttons,butm
	new string,sepizod
	push "epizod"
	call clsave,get
	pop sepizod
	push "founditem1.ogg -v 60"
	call mus,playstr
	push sepizod
	spushs
	push "e11Dziad"
	cmpst
	jne l3474
	spop $a
	push "kajkotosoon"
	push "kajko_239.wav"
	cthis newsnd
	push 1
	jmp l3473
l3474:
	push "e14Zwiad"
	cmpst
	jne l3475
	spop $a
	push "kajkotosoon"
	push "kajko_280a.wav"
	cthis newsnd
	push 1
	jmp l3473
l3475:
	spop $a
	push 0
l3473:
	new string,sprzygoda
	pop sprzygoda
	new string,sgame
	end method
	method butm_lclick
	call ccs,isplaying
	cmp0
	je l3477
	ret
l3477:
	push sepizod
	spushs
	push "e11Dziad"
	cmpst
	je l3480
	push "e14Zwiad"
	cmpst
	je l3480
	jmp l3479
l3480:
	spop $a
	push sobject
	push "warownia"
	cmpje
	cmp0
	je l3482
	push "kajkotosoon"
	cthis cbplay
	ret
l3482:
	jmp l3478
l3479:
	spop $a
l3478:
	push "Mapa"
	pop sgmlastscene
	push "ad"
	push sobject
	pop $b
	popax
	add $a,$b
	pop sgame
	push "gamead"
	push sobject
	pop $b
	popax
	add $a,$b
	push sprzygoda
	pop $b
	popax
	add $a,$b
	pop sprzygoda
	push 1000
	call mus,fadeout
	push "Mapa0"
	call ccs,close
	end method
	method Mapa0
	push sgame
	push sprzygoda
	cthis gotoadv
	end method
	end game

	game gameadwyspa2
	parent classadvstdgame
	method init
	clparent classadvstdgame,init
	push "anmewab"
	push "mewab.pyz"
	push 1
	popax
	sub 0,$a
	cthis newanima
	push 0
	call anmewab,play
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	call anmewab,nofframes
	spushs
	spop $h
	call $h,rand
	call anmewab,setframe
	call anmewab,onendframe
	push "onendframe"
	push "gameadwyspa20"
	call anmewab,addmethod
	push "anlopata2"
	push "lopata2.pyz"
	push 10
	cthis newanima
	new filter,ftlopata
	push "anlopata2"
	call ftlopata,link
	push 0
	call ftlopata,setpivottype
	push 471
	push 161
	call anlopata2,setpos
	push "grchm"
	push "chmury"
	push 1
	popax
	sub 0,$a
	cthis newgrimg
	new vector,vchm
	push "real"
	call vchm,type
	push "begin"
	push 0.34
	push 0.4
	push 0.48
	push 0.7
	push 0.9
	push 1.3
	push 1.6
	call vchm,beginadd
	new int,ikierunekwiatru
	push "kierunek_wiatru"
	push "left"
	call clsave,is
	cmp0
	je l3489
	push 1
	popax
	sub 0,$a
	pop ikierunekwiatru
	jmp l3488
l3489:
	push 1
	pop ikierunekwiatru
l3488:
	localreal $1
	push 0.3
	push ikierunekwiatru
	pop $b
	popax
	mul $a,$b
	pop $1
	localint $2
	push 0
	pop $2
l3490:
	push $2
	call vchm,size
	cmpjl
	cmp0
	je l3491
	jmp l3493
l3492:
	add $2,1
	pop $2
	jmp l3490
l3493:
	push $2
	push $1
	push $2
	call vchm,get
	pop $b
	popax
	mul $a,$b
	call vchm,set
	push $2
	call grchm,get
	push $2
	call vchm,get
	push 0
	clparent SetAnMover,setas
	jmp l3492
l3491:
	push "timchmury"
	push "gameadwyspa21"
	cthis cycle=
	call timchmury,play
	push "timlopata"
	push "gameadwyspa23"
	cthis cycle=
	push 2
	call timlopata,setcycle
	push "uruchomili_wiatrak_na_wyspie"
	call clsave,bis
	cmp0
	je l3501
	push "fxwiatrak"
	push "wiatrak1.wav"
	cthis newsfx
	push 50
	call fxwiatrak,setvol
	call fxwiatrak,playloop
	call timlopata,play
	jmp l3500
l3501:
	push 471
	push 161
	call anlopata2,setpos
l3500:
	end method
	method gameadwyspa20
	cthis framenr
	push 35
	cmpjl
	cmp0
	jne l3485
	cthis framenr
	push 77
	cmpja
	jmp l3486
l3484:
	push 0
	jmp l3486
l3485:
	push 1
l3486:
	cmp0
	je l3487
	push 1
	popax
	sub 0,$a
	cthis setz
	jmp l3483
l3487:
	push 30
	cthis setz
l3483:
	end method
	method gameadwyspa21
	push "gameadwyspa22"
	call grchm,eval
	cthis play
	end method
	method gameadwyspa22
	cthis sam_move
	push ikierunekwiatru
	push 0
	cmpjl
	cmp0
	je l3495
	cthis getex
	push 10
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l3497
	push iResX
	cthis lodx
	pop $b
	popax
	sub $a,$b
	push 0
	cthis setpos
l3497:
	jmp l3494
l3495:
	cthis getpx
	push iResX
	cmpja
	cmp0
	je l3499
	cthis lodx
	popax
	sub 0,$a
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 0
	cthis setpos
l3499:
l3494:
	end method
	method gameadwyspa23
	push 1
	popax
	sub 0,$a
	push ikierunekwiatru
	pop $b
	popax
	mul $a,$b
	call ftlopata,rotate
	push 471
	push 161
	call anlopata2,setpos
	cthis play
	end method
	end game

	game gameadmlyn2
	parent classadvstdgame
	method init
	clparent classadvstdgame,init
	push "ansmiglo"
	push "smiglo2.pyz"
	push 10
	cthis newanima
	new filter,ftlopata
	push "ansmiglo"
	call ftlopata,link
	push 0
	call ftlopata,setpivottype
	new int,ikierunekwiatru
	push "kierunek_wiatru"
	push "left"
	call clsave,is
	cmp0
	je l3503
	push 1
	pop ikierunekwiatru
	jmp l3502
l3503:
	push 1
	popax
	sub 0,$a
	pop ikierunekwiatru
l3502:
	call bgr1,getpx
	call bgr1,getpy
	call ansmiglo,move
	push "ansmiglo"
	call bgr1,add
	push "timlopata"
	push "gameadmlyn20"
	cthis cycle=
	push 3
	call timlopata,setcycle
	push "uruchomili_wiatrak_na_wyspie"
	call clsave,bis
	cmp0
	je l3505
	call timlopata,play
	push "fxwiatrak"
	push "wiatrak1.wav"
	cthis newsfx
	call fxwiatrak,playloop
l3505:
	end method
	method gameadmlyn20
	push 2
	push ikierunekwiatru
	pop $b
	popax
	mul $a,$b
	call ftlopata,rotate
	cthis play
	end method
	end game

	game Cs1Panorama
	parent StdGame
	method init
	call clsave,free
	push "epizod"
	push "e1Zupa"
	call clsave,set
	push "igmpad"
	push igmpad
	call clsave,set
	push 1
	pop PrzygodaMode
	push "cs1panorama"
	clparent StdGame,init
	push A
	push "panorama.pyz"
	push "znak.pyz 5"
	push "drzewa.pyz 10"
	push "ptak.pyzP 7"
	push "ptak2.pyzP 6"
	cthis imgs=
	push 0
	push 30
	popax
	sub 0,$a
	call anptak2,move
	push A
	push "snd1"
	push "Na wzgrzu pord dzikich borw i jezior sta drewaniany grd ksicia Mirmia"
	push "Cs1Panorama0"
	push "snd2"
	push "Dni mieszkacw wypeniaa prosta praca zabawy oraz wita ku czci Natury dawczyni ycia; Pomylne rzdy Mirmia wspieraa maonka Lubawa synca z silnego charakteru i domowych wypiekw; Majc taki skarb u boku Mirmi mg powica si swoim ulubionym zajciom jak owienie ryb czy pielgnowanie ogrdka"
	push "Cs1Panorama4"
	cthis sounds=
	push A
	push "bgrlas1N"
	cthis sfxs=
	push "Cs1Panorama6"
	call ccs,enter
	end method
	method Cs1Panorama0
	push "Cs1Panorama1"
	push "Cs1Panorama2"
	call ccs,playfin
	end method
	method Cs1Panorama1
	delete anpanorama
	delete anznak
	delete andrzewa
	delete anptak
	delete anptak2
	new gmimgvec,grgrod
	push "grgrod"
	push "grod.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	push 1
	popax
	sub 0,$a
	call grgrod,nplay
	new string,sbggrod
	call grgrod,first
	pop sbggrod
	push iResX
	push sbggrod
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	sub $a,$b
	push 0
	call grgrod,move
	push 50
	call fxbgrlas1,setvol
	push "sunrise.ogg -v 50"
	call mus,playstr
	end method
	method Cs1Panorama2
	push "timgrod"
	push "Cs1Panorama3"
	cthis cycle=
	call timgrod,play
	push "snd2"
	cthis cbplay
	end method
	method Cs1Panorama3
	push sbggrod
	spushs
	spop $a
	call [$a],getpx
	push 0
	cmpjae
	cmp0
	je l3507
	jmp l3506
l3507:
	push 1
	push 0
	call grgrod,move
l3506:
	cthis play
	end method
	method Cs1Panorama4
	push "Cs1Panorama5"
	call ccs,close
	end method
	method Cs1Panorama5
	push "Cs1Domek"
	call gameapi,play
	end method
	method Cs1Panorama6
	push "snd1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3509
	push 1
	cthis cactsndstop
l3509:
	end method
	end game

	game Cs1Domek
	parent StdGame
	method init
	push "cs1domek"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "spia.pyz 10"
	push "slonecznik.pyzPL 5"
	push "kokoszH.pyz 10"
	push "kajkoH.pyz 15"
	cthis imgs=
	push "anspia"
	push "ankajko1"
	cthis copyanima
	push "kokosz"
	call anspia,anloopsplay
	push "kajko"
	push "Cs1Domek0"
	call ankajko1,anplayfin
	push A
	push "sndnar1"
	push "Grodzianie nie zaprztali gowy obawami o bezpieczestwo gdy na stray Mirmiowa czuwali najlepsi najdzielniejsi i najsprytniejsi wojowie w tej czci kraju Kajko i Kokosz; W kadej chwili gotowi do dziaania; W penym uzbrojeniu i w najwyszej formie wytrenowani wypoczci nakarmieni"
	push "Cs1Domek2"
	push "sndnar10"
	push "ycie szybko powrcio na stare tory"
	push "Cs1Domek3"
	push ":koko1"
	push "Uaaaaa"
	push "null"
	push ":koko2"
	push "Kajtulu odek sygnalizuje mi e wybia pora drugiego niadania"
	push "Cs1Domek4"
	push ":kajko1"
	push "Juu? Przecie dopiero co skoczye pierwsze"
	push "Cs1Domek5"
	push ":koko3"
	push "Mylisz si przyjacielu; W midzyczasie peniem niezwykle odpowiedzialn funkcj wartownicz"
	push "Cs1Domek6"
	cthis sounds=
	push A
	push "bgrout2N 50"
	cthis sfxs=
	push "dwor.ogg -v 50"
	call mus,playstr
	push "Cs1Domek8"
	call ccs,enter
	end method
	method Cs1Domek0
	push igmstate
	push 1
	cmpje
	cmp0
	je l3511
	cthis hide
	push 0
	call anspia,stop
	call anspia,hide
	push "przeciag"
	push "Cs1Domek1"
	call ankokosz,anplayfin
	push "przeciag"
	call ankajko,play
	push "koko1"
	cthis cbplay
	jmp l3510
l3511:
	push 1
	popax
	sub 0,$a
	cthis play
l3510:
	end method
	method Cs1Domek1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3513
	push "koko2"
	cthis kosay
	push 2
	pop igmstate
l3513:
	end method
	method Cs1Domek2
	push 1
	pop igmstate
	end method
	method Cs1Domek3
	push 1
	pop igmstate
	end method
	method Cs1Domek4
	cthis koend
	push "kajko1"
	cthis kasay
	end method
	method Cs1Domek5
	cthis kaend
	push "koko3"
	cthis kosay
	end method
	method Cs1Domek6
	cthis koend
	push 1000
	call mus,fadeout
	push "Cs1Domek7"
	call ccs,close
	end method
	method Cs1Domek7
	push "epizod"
	call clsave,get
	push "e10Warownia"
	cmpje
	cmp0
	je l3515
	push "addomkk"
	push "gameaddomkk1"
	cthis gotoadv
	jmp l3514
l3515:
	push "addomkk"
	push "gameaddomkk0"
	cthis gotoadv
l3514:
	end method
	method Cs1Domek8
	push "epizod"
	call clsave,get
	push "e10Warownia"
	cmpje
	cmp0
	je l3517
	push "sndnar10"
	cthis cbplay
	jmp l3516
l3517:
	push "sndnar1"
	cthis cbplay
l3516:
	end method
	method kosay
	localstring $1
	pop $1
	push "ankokosz"
	push $1
	cthis ksay
	end method
	method kasay
	localstring $1
	pop $1
	push "ankajko"
	push $1
	cthis ksay
	end method
	method ksay
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	spushs
	push "gada"
	spop $a
	call [$a],play
	push $2
	cthis cbplay
	end method
	method koend
	push "kokosz"
	cthis kend
	end method
	method kaend
	push "kajko"
	cthis kend
	end method
	method kend
	localstring $1
	pop $1
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "slucha"
	spop $a
	call [$a],play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3519
	push 1
	cthis cactsndstop
l3519:
	end method
	end game

	game Cs2Kupcy
	parent StdGame
	method init
	push "cs2kupcy"
	clparent StdGame,init
	push A
	push "bkg.pyz 1"
	push "mgielka.pyzP 2"
	push "cs2m2tyl.pyz 2"
	push "cs2m2przod.pyz 33"
	push "maska.pyz 30"
	push "lamignat.pyz 10"
	push "maczuga.pyz 10"
	push "woj.pyz 15"
	push "woz.pyz 20"
	cthis imgs=
	push "grzeka"
	push "rzeka"
	push 0
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grzeka,nplay
	push A
	push "snd1"
	push "W czasie kiedy Kajko i Kokosz dzielili si obawami o los Mirmia i wkadk do rosou do grodu powoli zblia si obadowany towarami wz kupiecki"
	push "Cs2Kupcy0"
	push ":lamignat1"
	push "Staa!"
	push "null"
	push ":lamignat2"
	push "Lelum Polelum zatrzymajcie si dobrodzieje i rzucie dukata dla ubogich"
	push "Cs2Kupcy2"
	cthis sounds=
	localint $1
	push iResX
	call anwoz,getpx
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	call anwoj,move
	push "stand"
	call anlamignat,play
	push $1
	push 0
	call anwoz,move
	new int,iwozspeed
	push 8
	popax
	sub 0,$a
	pop iwozspeed
	push "onendframe"
	push "Cs2Kupcy4"
	call anwoj,addmethod
	push "onendframe"
	push "Cs2Kupcy5"
	call anwoz,addmethod
	push "onendframe"
	push "Cs2Kupcy6"
	call anlamignat,addmethod
	push "onfinish"
	push "Cs2Kupcy7"
	call anlamignat,addmethod
	push "onfinish"
	push "Cs2Kupcy8"
	call anwoz,addmethod
	push "timsay"
	push 1000
	push "Cs2Kupcy9"
	cthis timer=
	call ccs,show
	push A
	push "bgrlas1N 60"
	push "konparsk"
	push "kolowrot 30"
	push "bgrbrzegN 70"
	cthis sfxs=
	push "snd1"
	cthis cbplay
	end method
	method Cs2Kupcy0
	push "Cs2Kupcy1"
	call ccs,enter
	end method
	method Cs2Kupcy1
	push 1
	pop igmstate
	push "go"
	call anwoz,play
	push "go"
	call anwoj,anloopplay
	call fxkolowrot,playloop
	push 100
	call fxbgrlas1,setvol
	end method
	method Cs2Kupcy2
	cthis lamend
	push "Cs2Kupcy3"
	call ccs,close
	end method
	method Cs2Kupcy3
	push "Cs2Lamignat"
	call gameapi,play
	end method
	method Cs2Kupcy4
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l3521
	push iwozspeed
	push 0
	cthis move
l3521:
	end method
	method Cs2Kupcy5
	push igmstate
	push 1
	cmpje
	cmp0
	je l3523
	push iwozspeed
	push 0
	cthis move
	cthis getpx
	push 570
	cmpjle
	cmp0
	je l3525
	push 2
	pop igmstate
	push "stac"
	call anlamignat,play
l3525:
	jmp l3522
l3523:
	push igmstate
	push 2
	cmpje
	cmp0
	jne l3528
	push igmstate
	push 3
	cmpje
	jmp l3529
l3527:
	push 0
	jmp l3529
l3528:
	push 1
l3529:
	cmp0
	je l3530
	push iwozspeed
	push 0
	cthis move
l3530:
l3522:
	end method
	method Cs2Kupcy6
	cthis framename
	push "say"
	cmpje
	cmp0
	je l3532
	push "lamignat1"
	cthis cbplay
l3532:
	end method
	method Cs2Kupcy7
	localstring $1
	cthis actionname
	pop $1
	push $1
	push "stac"
	cmpje
	cmp0
	je l3534
	push 3
	pop igmstate
l3534:
	end method
	method Cs2Kupcy8
	push igmstate
	push 1
	cmpje
	cmp0
	jne l3537
	push igmstate
	push 2
	cmpje
	jmp l3538
l3536:
	push 0
	jmp l3538
l3537:
	push 1
l3538:
	cmp0
	je l3539
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l3535
l3539:
	push igmstate
	push 3
	cmpje
	cmp0
	je l3541
	push 4
	pop igmstate
	push "stop"
	cthis play
	push "stop"
	call anwoj,play
	push 0
	call fxkolowrot,stop
	call fxkonparsk,play
	call timsay,play
	jmp l3540
l3541:
	push igmstate
	push 4
	cmpje
	cmp0
	je l3543
	push 5
	pop igmstate
	push "stand"
	cthis play
l3543:
l3540:
l3535:
	end method
	method Cs2Kupcy9
	push "lamignat2"
	cthis lamsay
	end method
	method lamsay
	localstring $1
	pop $1
	push "talk"
	call anlamignat,play
	push $1
	cthis cbplay
	end method
	method lamend
	push "stand"
	call anlamignat,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3545
	push 1
	cthis cactsndstop
l3545:
	end method
	end game

	game Cs2Lamignat
	parent StdGame
	method init
	push "cs2lamignat"
	clparent StdGame,init
	push "cs2kupcy"
	cthis path=
	push A
	push "bgzoom.pyz 1"
	push "cs2mbig.pyz 2"
	push "maski.pyz 10"
	push "hodi2.pyz 20"
	push "maska3.pyz 40"
	push "lami2.pyz 5"
	push "moneta.pyzH 50"
	cthis imgs=
	push "anmaski"
	push "anmaski2"
	cthis copyanima
	push 1
	push 0
	call anmaski2,setframe
	push "grzeka"
	push "bgrzeka"
	push 0
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grzeka,nplay
	push A
	push ":hodon1"
	push "Co to ma znaczy? Zbjnictwo na ziemiach ksicia Mirmia? Zo oficjaln skarg!"
	push "Cs2Lamignat0"
	push ":lamignat1"
	push "O przepraszam; Jestem legalnym zbjem kontraktowym; Cay zarobek z mojej pracy idzie na pomoc biednym"
	push "Cs2Lamignat1"
	push ":hodon2"
	push "A rozumiem; Poborca podatkowy; Dobrze; Trzymaj tu dukata; Odbij sobie na mary"
	push "Cs2Lamignat2"
	push ":lamignat2"
	push "Dzikuj Lelum i polecam si na przyszo; Grd jest tu tu bezpiecznej drogi!"
	push "Cs2Lamignat3"
	cthis sounds=
	push "onsetframe"
	push "Cs2Lamignat5"
	call anhodi2,addmethod
	push "onfinish"
	push "Cs2Lamignat6"
	call anmoneta,addmethod
	push "onfinish"
	push "Cs2Lamignat7"
	call anlami2,addmethod
	push A
	push "bgrlas1N"
	push "getitem 70"
	push "bgrbrzegN"
	cthis sfxs=
	push "Cs2Lamignat8"
	call ccs,enter
	end method
	method Cs2Lamignat0
	cthis hodiend
	push "lamignat1"
	cthis lamisay
	end method
	method Cs2Lamignat1
	cthis lamiend
	push "hodon2"
	cthis hodisay
	end method
	method Cs2Lamignat2
	push "rzut"
	call anhodi2,play
	push "wez"
	call anlami2,play
	end method
	method Cs2Lamignat3
	cthis lamiend
	push "Cs2Lamignat4"
	call ccs,close
	end method
	method Cs2Lamignat4
	push "Cs2Kupcyend"
	call gameapi,play
	end method
	method Cs2Lamignat5
	cthis framename
	push "moneta"
	cmpje
	cmp0
	je l3547
	call anmoneta,show
	jmp l3546
l3547:
	cthis framename
	push "monetago"
	cmpje
	cmp0
	je l3549
	push 1
	call anmoneta,play
	call fxgetitem,play
l3549:
l3546:
	end method
	method Cs2Lamignat6
	cthis hide
	push "bierz"
	call anlami2,play
	end method
	method Cs2Lamignat7
	cthis actionname
	push "bierz"
	cmpje
	cmp0
	je l3551
	push "lamignat2"
	cthis lamisay
l3551:
	end method
	method Cs2Lamignat8
	push "hodon1"
	cthis hodisay
	end method
	method hodisay
	localstring $1
	pop $1
	push "talk"
	call anhodi2,play
	push $1
	cthis cbplay
	end method
	method hodiend
	push "stand"
	call anhodi2,play
	end method
	method lamisay
	localstring $1
	pop $1
	push "talk"
	call anlami2,play
	push $1
	cthis cbplay
	end method
	method lamiend
	push "stand"
	call anlami2,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3553
	push 1
	cthis cactsndstop
l3553:
	end method
	end game

	game Cs2Kupcyend
	parent StdGame
	method init
	push "cs2kupcyend"
	clparent StdGame,init
	push "cs2kupcy"
	cthis path=
	push A
	push "bkg.pyz 1"
	push "cs2m2tyl.pyz 2"
	push "cs2m2przod.pyz 33"
	push "mgielka.pyzP 2"
	push "maska.pyz 30"
	push "lamignat.pyz 10"
	push "maczuga.pyz 10"
	push "woj.pyz 15"
	push "woz.pyz 20"
	cthis imgs=
	push "grzeka"
	push "rzeka"
	push 0
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grzeka,nplay
	localint $1
	push 113
	popax
	sub 0,$a
	pop $1
	push $1
	push 0
	call anwoj,move
	push "stand"
	call anlamignat,play
	push $1
	push 0
	call anwoz,move
	push "start"
	push 0
	call anwoz,setframe
	new int,iwozspeed
	push 8
	popax
	sub 0,$a
	pop iwozspeed
	push "onendframe"
	push "Cs2Kupcyend0"
	call anwoj,addmethod
	call anwoj,anloopfin
	push "onendframe"
	push "Cs2Kupcyend1"
	call anwoz,addmethod
	push "onfinish"
	push "Cs2Kupcyend3"
	call anwoz,addmethod
	push A
	push "bgrlas1N 90"
	push "konparsk"
	push "kolowrot 60"
	push "bgrbrzegN 90"
	cthis sfxs=
	push "Cs2Kupcyend4"
	call ccs,enter
	end method
	method Cs2Kupcyend0
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l3555
	push iwozspeed
	push 0
	cthis move
l3555:
	end method
	method Cs2Kupcyend1
	push igmstate
	push 0
	cmpje
	cmp0
	je l3557
	cthis actionname
	push "go"
	cmpje
	jmp l3559
l3557:
	push 0
	jmp l3559
l3558:
	push 1
l3559:
	cmp0
	je l3560
	push iwozspeed
	push 0
	cthis move
	cthis getpx
	push 170
	cmpjle
	cmp0
	je l3562
	push 2
	pop igmstate
	push "Cs2Kupcyend2"
	call ccs,close
l3562:
	jmp l3556
l3560:
	push igmstate
	push 2
	cmpje
	cmp0
	je l3564
	push iwozspeed
	push 0
	cthis move
l3564:
l3556:
	end method
	method Cs2Kupcyend2
	push "adpokojkk"
	push "gameadpokojkk0"
	cthis gotoadv
	end method
	method Cs2Kupcyend3
	push "go"
	cthis play
	end method
	method Cs2Kupcyend4
	call fxkonparsk,play
	call fxkolowrot,playloop
	push "go"
	call anwoz,play
	push "go"
	call anwoj,play
	end method
	method lamsay
	localstring $1
	pop $1
	push "talk"
	call anlamignat,play
	push $1
	cthis cbplay
	end method
	method lamend
	push "stand"
	call anlamignat,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3566
	push 1
	cthis cactsndstop
l3566:
	end method
	end game

	new int,iCiezarMode
	push 0
	pop iCiezarMode
	game Ciezar
	parent StdGame
	method init
	push "ciezar"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kokosz.pyz 110"
	push "wit.pyzP 90"
	push "kowal.pyzP 40"
	push "dziadek.pyzP 55"
	push "babka.pyzP 30"
	push "kolo.pyzP 80"
	push "siedzi.pyzP 10"
	push "dach.pyzP 10"
	push "strzalki.pyz 120"
	push "counterH.pyz 120"
	cthis imgs=
	push "grludki"
	push "ludki1"
	push 0
	cthis newgrimg
	push "Ciezar0"
	call grludki,each
	new int,bpadleft
	push 0
	pop bpadleft
	new int,bpadright
	push 0
	pop bpadright
	push igmpad
	cmp0
	je l3568
	new Button,but1
	call anstrzalki,hide
	push A
	push "padright.pyz 120"
	push "padleft.pyz 120"
	cthis imgs=
	call anpadright,Ciezar1
	call anpadleft,Ciezar4
l3568:
	push "ancounter"
	push 1000
	new PyzCounter,pcnt
	new int,ilewytrzymac
	push 25
	pop ilewytrzymac
	push ilewytrzymac
	call pcnt,view
	push A
	push "bum1"
	cthis sfxs=
	push "onfinish"
	push "Ciezar7"
	call fxbum1,addmethod
	new vector,vkom
	push "begin"
	push 0
	push 1
	push 2
	push 3
	push 4
	call vkom,beginadd
	call vkom,hash
	new classplacepointer2,clp
	push A
	push "sndgo"
	push "Kokosz ma zamiar podnie cikie kamienne koo myskie"
	push "Ciezar8"
	push "sndgo2"
	push "Pom mu utrzyma rwnowag sterujc strzakami"
	push "Ciezar9"
	push "sndups"
	push "ojoj!"
	push "Ciezar10"
	push "snddalej"
	push "Wszystko w porzdku! Potknem si! Zaraz powtrz"
	push "Ciezar11"
	push "sndhyy"
	push "Hyyyy!"
	push "mnextkom"
	push "sndkom0"
	push "Kokosz daj spokj jeszcze ci co w krzyu upnie! Wiesz ile si czeka na wizyte u ortopedy?"
	push "mnextkom"
	push "sndkom1"
	push "Dawaj Kokosz!"
	push "mnextkom"
	push "sndkom2"
	push "W lewo!"
	push "mnextkom"
	push "sndkom3"
	push "Kookosz Kookosz!"
	push "mnextkom"
	push "sndkom4"
	push "Jeszcze troch wytrzymaj!"
	push "mnextkom"
	push "sndhura"
	push "Hurra! Niech yje Kokosz! Wiwat! Brawo!"
	push "Ciezar13"
	cthis sounds=
	push "onfinish"
	push "Ciezar15"
	call ankokosz,addmethod
	push "onendframe"
	push "Ciezar16"
	call ankokosz,addmethod
	new real,rdx
	push 0.2
	pop rdx
	new real,rvx
	push 0
	pop rvx
	new real,rlimes
	push 6
	pop rlimes
	new real,rstep
	push 5
	pop rstep
	new int,idkom
	push 0
	pop idkom
	push A
	push "bgrtlum2N 20"
	cthis sfxs=
	push "timkom"
	push 1000
	push "Ciezar17"
	cthis timer=
	push "Ciezar18"
	call ccs,enter
	end method
	method Ciezar0
	localdef $1
	pop $1
	push 10
	push $1
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	cthis setz
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method Ciezar1
	cthis Button_isin
	push "butclick"
	push "Ciezar2"
	cthis addmethod
	push "butlrel"
	push "Ciezar3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Ciezar2
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3570
	ret
l3570:
	push 1
	pop bpadright
	end method
	method Ciezar3
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3572
	ret
l3572:
	push 0
	pop bpadright
	end method
	method Ciezar4
	cthis Button_isin
	push "butclick"
	push "Ciezar5"
	cthis addmethod
	push "butlrel"
	push "Ciezar6"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Ciezar5
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3574
	ret
l3574:
	push 1
	pop bpadleft
	end method
	method Ciezar6
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3576
	ret
l3576:
	push 0
	pop bpadleft
	end method
	method Ciezar7
	push "snddalej"
	cthis cbplay
	end method
	method Ciezar8
	push "sndgo2"
	cthis cbplay
	push igmpad
	cmp0
	je l3578
	push "anpadleft"
	push "ld"
	call clp,showob
	jmp l3577
l3578:
	push "anstrzalki"
	push "lu"
	call clp,showob
l3577:
	end method
	method Ciezar9
	call clp,stoph
	cthis mstart
	end method
	method Ciezar10
	call fxbum1,play
	end method
	method Ciezar11
	push "Ciezar12"
	call ccs,close
	end method
	method Ciezar12
	push 1
	pop iCiezarMode
	push "Ciezar"
	call gameapi,play
	end method
	method Ciezar13
	push "Ciezar14"
	call ccs,close
	end method
	method Ciezar14
	push "adpokojmirmil"
	push "gameadpokojmirmil0"
	cthis gotoadv
	end method
	method Ciezar15
	cthis actionname
	spushs
	push "start"
	cmpst
	jne l3580
	spop $a
	push "go"
	cthis play
	push 1
	pop igmstate
	push ilewytrzymac
	push 0
	push 1
	popax
	sub 0,$a
	call pcnt,start
	jmp l3579
l3580:
	spop $a
	push 1
	popax
	sub 0,$a
	cthis play
l3579:
	end method
	method Ciezar16
	push igmstate
	push 1
	cmpje
	cmp0
	je l3582
	cthis getex
	push 0
	cmpjl
	cmp0
	jne l3585
	cthis getpx
	push iResX
	cmpja
	jmp l3586
l3584:
	push 0
	jmp l3586
l3585:
	push 1
l3586:
	cmp0
	je l3587
	push 0
	cthis stop
	push 2
	pop igmstate
	push 0
	cthis cactsndstop
	push "sndups"
	cthis cbplay
	call pcnt,stop
	jmp l3583
l3587:
	push "left"
	call keyboard,iskeydown
	cmp0
	jne l3590
	push bpadleft
	jmp l3591
l3589:
	push 0
	jmp l3591
l3590:
	push 1
l3591:
	cmp0
	je l3592
	push rstep
	popax
	sub 0,$a
	cthis kmove
	jmp l3588
l3592:
	push "right"
	call keyboard,iskeydown
	cmp0
	jne l3595
	push bpadright
	jmp l3596
l3594:
	push 0
	jmp l3596
l3595:
	push 1
l3596:
	cmp0
	je l3597
	push rstep
	cthis kmove
	jmp l3593
l3597:
	push rdx
	push rvx
	pop $b
	popax
	mul $a,$b
	cthis kmove
l3593:
l3588:
l3583:
l3582:
	end method
	method Ciezar17
	localdef $1
	push "sndkom"
	push idkom
	call vkom,get
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	spushs
	push 70
	spop $a
	call [$a],setvol
	push $1
	cthis crplay
	add idkom,1
	pop idkom
	end method
	method Ciezar18
	push iCiezarMode
	cmp0
	je l3599
	push 0
	pop iCiezarMode
	cthis mstart
	jmp l3598
l3599:
	push "sndgo"
	cthis cbplay
l3598:
	end method
	method mnextkom
	push idkom
	push 5
	cmpjl
	cmp0
	je l3601
	call timkom,play
l3601:
	end method
	method mstart
	push "start"
	call ankokosz,play
	push "sndhyy"
	cthis cbplay
	cthis mstrzel
	end method
	method pcnt_finish
	push 3
	pop igmstate
	push 0
	cthis cactsndstop
	push "sndhura"
	cthis cbplay
	push "stop"
	call ankokosz,play
	push 1
	call anwit,play
	push 1
	call ankowal,play
	push 1
	call andziadek,play
	push 1
	call anbabka,play
	push 1
	call ankolo,play
	push 1
	call ansiedzi,play
	push 1
	call andach,play
	end method
	method mstrzel
	call rvx,abs
	push rlimes
	cmpjle
	cmp0
	je l3603
	push rlimes
	push 2
	push rlimes
	pop $b
	popax
	mul $a,$b
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	sub $a,$b
	popax
	add rvx,$a
	pop rvx
l3603:
	end method
	method kmove
	localreal $1
	pop $1
	push $1
	popax
	add rvx,$a
	pop rvx
	call rvx,abs
	push rlimes
	cmpjle
	cmp0
	je l3605
	push "go"
	call ankokosz,isplaying
	push 0
	cmpje
	cmp0
	je l3607
	push "go"
	call ankokosz,play
l3607:
	cthis mstrzel
	jmp l3604
l3605:
	localstring $2
	push "null"
	pop $2
	push rvx
	push 0
	cmpja
	cmp0
	je l3609
	push "left"
	call ankokosz,isplaying
	jmp l3611
l3609:
	push 0
	jmp l3611
l3610:
	push 1
l3611:
	cmp0
	je l3612
	push "right"
	pop $2
	jmp l3608
l3612:
	push rvx
	push 0
	cmpjl
	cmp0
	je l3614
	push "right"
	call ankokosz,isplaying
	jmp l3616
l3614:
	push 0
	jmp l3616
l3615:
	push 1
l3616:
	cmp0
	je l3617
	push "left"
	pop $2
	jmp l3613
l3617:
	push "go"
	call ankokosz,isplaying
	cmp0
	je l3619
	push rvx
	push 0
	cmpja
	cmp0
	je l3621
	push "right"
	call ankokosz,play
	jmp l3620
l3621:
	push "left"
	call ankokosz,play
l3620:
l3619:
l3613:
l3608:
	push $2
	push "null"
	cmpjne
	cmp0
	je l3623
	localint $3
	call ankokosz,framenr
	pop $3
	push $2
	call ankokosz,play
	push $2
	push $3
	call ankokosz,setframe
l3623:
	push rvx
	push 0
	call ankokosz,move
l3604:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3625
	push 1
	cthis cactsndstop
l3625:
	end method
	end game

	game Cs3Stajnia
	parent StdGame
	method init
	push "cs3stajnia"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kwiaty.pyz 100"
	push "wozpolski.pyz 10"
	push "wozzachodni.pyz 20"
	cthis imgs=
	push "ankwiaty"
	push "ankwiaty2"
	cthis copyanima
	push 1
	push 0
	call ankwiaty2,setframe
	push A
	push "sndnar"
	push "Tymczasem"
	push "mstart"
	push ":hodon1"
	push "Widziae t fur? To w ogle jedzi?"
	push "Cs3Stajnia0"
	push ":typek1"
	push "Ale redniowiecze"
	push "Cs3Stajnia1"
	push "sndsmiechy"
	push "buhahaha ha ha ha ha"
	push "Cs3Stajnia2"
	push ":hodon2"
	push "Dobra zostawiamy tu mj wz; Pilnuj go dokadnie eby mi nie ukradli"
	push "Cs3Stajnia3"
	push ":typek2"
	push "Ee tam szefie; Nikt takiej fury jak twoja nie ma w okolicy od razu bymy j znaleli"
	push "Cs3Stajnia4"
	push ":hodon3"
	push "Nie znasz si; Wydubi nowe numery podwozia w jakiej stodole i sprzedadz dalej na wschd"
	push "Cs3Stajnia5"
	push ":typek3"
	push "A co jest w tym kuferku z tyu? Moe przechowa go u Mirmia?"
	push "Cs3Stajnia6"
	push ":hodon4"
	push "To jest moja niespodzianka dla ciekawskich mdrali he he; Czar odczarowujcy! Lepiej za duo nie myl tylko miej oko na wz"
	push "Cs3Stajnia7"
	cthis sounds=
	call ccs,show
	push A
	push "bgrout2N 30"
	push "konparsk2"
	push "kolowrot 40"
	push "galop1"
	push "galop2"
	cthis sfxs=
	push "sndnar"
	cthis cbplay
	end method
	method Cs3Stajnia0
	push "typek1"
	cthis mplay2
	cthis hstop
	end method
	method Cs3Stajnia1
	push "sndsmiechy"
	cthis cbplay
	push "smile"
	call anhodon,play
	push "smile"
	call antypek,play
	end method
	method Cs3Stajnia2
	cthis mstop
	push "hodon2"
	cthis hplay
	end method
	method Cs3Stajnia3
	cthis hstop
	push "typek2"
	cthis mplay2
	end method
	method Cs3Stajnia4
	cthis mstop
	push "hodon3"
	cthis hplay
	end method
	method Cs3Stajnia5
	cthis hstop
	push "typek3"
	cthis mplay2
	end method
	method Cs3Stajnia6
	cthis mstop
	push "hodon4"
	cthis hplay
	end method
	method Cs3Stajnia7
	cthis hstop
	push "Cs3Stajnia8"
	call ccs,close
	end method
	method Cs3Stajnia8
	push "adgrod"
	push "gameadgrod0"
	cthis gotoadv
	end method
	method mstart
	push "Cs3Stajnia9"
	call ccs,enter
	end method
	method Cs3Stajnia9
	push 0
	call anwozzachodni,play
	call fxkolowrot,playloop
	push "onendframe"
	push "Cs3Stajnia10"
	call anwozzachodni,addmethod
	push "onfinish"
	push "Cs3Stajnia11"
	call anwozzachodni,addmethod
	end method
	method Cs3Stajnia10
	cthis framename
	push "hamuje"
	cmpje
	cmp0
	je l3627
	push 0
	call fxkolowrot,stop
	call fxkonparsk2,play
l3627:
	end method
	method Cs3Stajnia11
	push "Cs3Stajnia12"
	push "Cs3Stajnia13"
	call ccs,playfin
	end method
	method Cs3Stajnia12
	call anwozzachodni,hide
	delete anbkg
	delete ankwiaty2
	delete ankwiaty
	delete anwozpolski
	push A
	push "bgzoom.pyz"
	push "kun.pyzP 10"
	push "typek.pyzP 20"
	push "hodon.pyzP 30"
	cthis imgs=
	end method
	method Cs3Stajnia13
	push "hodon1"
	cthis hplay
	end method
	method hplay
	localstring $1
	pop $1
	push "talk"
	call anhodon,play
	push $1
	cthis cbplay
	end method
	method hstop
	push "stand"
	call anhodon,play
	end method
	method mplay2
	localstring $1
	pop $1
	push "talk"
	call antypek,play
	push $1
	cthis cbplay
	end method
	method mstop
	push "stand"
	call antypek,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3629
	push 1
	cthis cactsndstop
l3629:
	end method
	end game

	game Cs4Ogien
	parent StdGame
	method init
	push "cs4ogien"
	clparent StdGame,init
	push "adjaga"
	cthis path=
	push "grbg"
	push "cs4bg"
	push 0
	cthis newgrimg
	push "cs4list.pyzH 55"
	cthis img=
	push "ancs4list"
	push "anlist"
	cthis copyanima
	push A
	push "ogien2N"
	cthis sfxs=
	push "Cs4Ogien0"
	call grbg,eval
	push 1
	popax
	sub 0,$a
	call grbg,nplay
	push "Cs4Ogien1"
	call ccs,enter
	push A
	push ":jaga1"
	push "Oto co myl o tym wszystkim; Niech Mirmi da nam wity spokj"
	push "mend"
	cthis sounds=
	end method
	method Cs4Ogien0
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 10
	pop $b
	popax
	mul $a,$b
	cthis setz
	end method
	method Cs4Ogien1
	push "jaga1"
	cthis cbplay
	push 0
	push "mend"
	call ancs4list,anplayfin
	push "timlist"
	push 1000
	push "Cs4Ogien2"
	cthis timer=
	call timlist,play
	end method
	method Cs4Ogien2
	push 1
	push "mend"
	call anlist,anplayfin
	end method
	method mend
	push 1
	popax
	sub 0,$a
	call anlist,isplaying
	push 0
	cmpje
	cmp0
	je l3631
	push 1
	popax
	sub 0,$a
	call ancs4list,isplaying
	push 0
	cmpje
	cmp0
	je l3631
	cthis cisplaying
	neg
	jmp l3633
l3631:
	push 0
	jmp l3633
l3632:
	push 1
l3633:
	cmp0
	je l3634
	push "Cs4Ogien3"
	call ccs,close
l3634:
	end method
	method Cs4Ogien3
	push "adjaga"
	push "gameadjaga0"
	cthis gotoadv
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3636
	push 1
	cthis cactsndstop
l3636:
	end method
	end game

	game Rzut
	parent StdGame
	method init
	push "rzut"
	clparent StdGame,init
	push A
	push "$scripts/adbrama/adbrama.png"
	push "$scripts/adbrama/maskanoc.pyz 100"
	push "$scripts/adbrama/woda.pyzP 5"
	push "mysz.pyz 10"
	push "kajko.pyz 20"
	push "lina.pyzH 10"
	push "mach.pyz 10"
	cthis imgs=
	push "anwoda"
	push "anwoda2"
	cthis copyanima
	push 1
	call anwoda2,play
	new int,komwariant
	push 0
	pop komwariant
	push A
	push ":kajko1"
	push "Odsu si zarzuc lin na bram"
	push "mstart2"
	push ":kokosz_w0"
	push "Auu! Chcesz mnie poama?"
	push "mnextka"
	push ":kajko_w0"
	push "Przepraszam; Wylizgna mi si lina; Teraz pjdzie lepiej"
	push "mstart"
	push ":kokosz_w1"
	push "Auu! Znowu!"
	push "mnextka"
	push ":kajko_w1"
	push "Staram si!"
	push "mstart"
	push ":kokosz_w2"
	push "Teraz byo milimetry od gowy dobrze e mam hem"
	push "mstart"
	push ":kokosz_w3"
	push "W bram celuj!"
	push "mstart"
	push ":kajko2"
	push "Ups; Troch w bok poszo"
	push "mstart"
	push ":kokosz1"
	push "Hurra udao si!"
	push "Rzut0"
	push ":kajko3"
	push "Przytrzymaj lin; Wspinam si na bram"
	push "Rzut1"
	cthis sounds=
	new filter,ftlina
	push "anlina"
	call ftlina,link
	push 2
	call ftlina,setpivottype
	new real,rdx
	new real,rdy
	new real,_rx
	new real,_ry
	new real,_srx
	push 580
	pop _srx
	new real,_sry
	push 663
	pop _sry
	new string,sframe
	new real,rrx
	new real,rry
	new int,licznik
	push "timgo"
	push "Rzut2"
	cthis cycle=
	push A
	push "bgrzabyN 20"
	push "sowa1N 20"
	push "wyrzut 50"
	push "uderzwstol"
	push "mlotek1"
	push "zamach2"
	push "skladadeski"
	cthis sfxs=
	push "kajko1"
	cthis cbplay
	end method
	method Rzut0
	push "kajko3"
	cthis cbplay
	end method
	method Rzut1
	push "adbrama"
	push "gameadbrama0"
	cthis gotoadv
	end method
	method Rzut2
	localint $1
	push rrx
	pop $1
	localint $2
	push rry
	pop $2
	push rdx
	popax
	add rrx,$a
	pop rrx
	push rdy
	popax
	add rry,$a
	pop rry
	push rrx
	push $1
	pop $b
	popax
	sub $a,$b
	push rry
	push $2
	pop $b
	popax
	sub $a,$b
	call anlina,move
	add licznik,1
	pop licznik
	push licznik
	push 10
	cmpjl
	cmp0
	je l3638
	cthis play
	jmp l3637
l3638:
	push sframe
	spushs
	push "13"
	cmpst
	je l3641
	push "15"
	cmpst
	je l3641
	jmp l3640
l3641:
	spop $a
	call fxskladadeski,play
	push "Rzut3"
	call ccs,close
	jmp l3639
l3640:
	push "17"
	cmpst
	je l3643
	push "19"
	cmpst
	je l3643
	push "9"
	cmpst
	je l3643
	push "11"
	cmpst
	je l3643
	jmp l3642
l3643:
	spop $a
	call fxuderzwstol,play
	cthis mups2
	jmp l3639
l3642:
	spop $a
	cthis mups
l3639:
l3637:
	end method
	method Rzut3
	call ccs,show
	push "kokosz1"
	cthis cbplay
	end method
	method mnextka
	push "kajko_w"
	push komwariant
	push 1
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mstart2
	push 1
	pop igmstate
	push 0
	call ankajko,play
	push 0
	call anmach,play
	call fxwyrzut,playloop
	end method
	method mstart
	push "mstart2"
	call ccs,enter
	end method
	method mups
	push "Rzut4"
	call ccs,close
	end method
	method Rzut4
	call ccs,show
	call anlina,hide
	push komwariant
	push 2
	cmpje
	cmp0
	je l3645
	call fxmlotek1,play
	jmp l3644
l3645:
	call fxuderzwstol,play
l3644:
	push "kokosz_w"
	push komwariant
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push komwariant
	push 3
	cmpjl
	cmp0
	je l3647
	add komwariant,1
	pop komwariant
l3647:
	end method
	method mups2
	push "Rzut5"
	call ccs,close
	end method
	method Rzut5
	call ccs,show
	call anlina,hide
	push "kajko2"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3649
	push 1
	cthis cactsndstop
l3649:
	push igmstate
	push 1
	cmpje
	cmp0
	je l3651
	localint $1
	call anmach,getw
	pop $1
	localint $2
	call anmach,geth
	pop $2
	localreal $3
	localreal $4
	localreal $5
	localreal $6
	call $1,to_r
	call $1,to_r
	pop $b
	popax
	mul $a,$b
	call $2,to_r
	call $2,to_r
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $h
	call $h,sqrt
	pop $6
	call anmach,framename
	pop sframe
	push sframe
	spushs
	push "3"
	cmpst
	je l3654
	push "5"
	cmpst
	je l3654
	push "7"
	cmpst
	je l3654
	jmp l3653
l3654:
	spop $a
	push $1
	pop $4
	push $2
	pop $3
	push $4
	push $6
	pop $b
	popax
	div $a,$b
	psax
	push 270
	cthis masin
	pop $5
	jmp l3652
l3653:
	push "9"
	cmpst
	je l3656
	push "11"
	cmpst
	je l3656
	push "13"
	cmpst
	je l3656
	jmp l3655
l3656:
	spop $a
	push $1
	pop $4
	push $2
	popax
	sub 0,$a
	pop $3
	push $3
	popax
	sub 0,$a
	push $6
	pop $b
	popax
	div $a,$b
	psax
	push 0
	cthis masin
	pop $5
	jmp l3652
l3655:
	push "15"
	cmpst
	je l3658
	push "17"
	cmpst
	je l3658
	push "19"
	cmpst
	je l3658
	jmp l3657
l3658:
	spop $a
	push $1
	popax
	sub 0,$a
	pop $4
	push $2
	popax
	sub 0,$a
	pop $3
	push $4
	popax
	sub 0,$a
	push $6
	pop $b
	popax
	div $a,$b
	psax
	push 90
	cthis masin
	pop $5
	jmp l3652
l3657:
	push "21"
	cmpst
	je l3660
	push "23"
	cmpst
	je l3660
	push "25"
	cmpst
	je l3660
	push "1"
	cmpst
	je l3660
	jmp l3659
l3660:
	spop $a
	push $1
	popax
	sub 0,$a
	pop $4
	push $2
	pop $3
	push $3
	push $6
	pop $b
	popax
	div $a,$b
	psax
	push 180
	cthis masin
	pop $5
	jmp l3652
l3659:
	spop $a
l3652:
	localint $7
	push 580
	pop $7
	localint $8
	push 660
	pop $8
	push 0
	pop rrx
	push 0
	pop rry
	push 0
	pop licznik
	push 0
	push 0
	call anlina,setpos
	call anlina,show
	push $5
	push 90
	pop $b
	popax
	sub $a,$b
	call ftlina,setrotate
	push $4
	pop _rx
	push $3
	pop _ry
	push sframe
	spushs
	push "3"
	cmpst
	je l3663
	push "5"
	cmpst
	je l3663
	push "7"
	cmpst
	je l3663
	jmp l3662
l3663:
	spop $a
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	cthis mlin
	jmp l3661
l3662:
	push "9"
	cmpst
	je l3665
	push "11"
	cmpst
	je l3665
	push "13"
	cmpst
	je l3665
	jmp l3664
l3665:
	spop $a
	push 1
	popax
	sub 0,$a
	push 1
	cthis mlin
	jmp l3661
l3664:
	push "15"
	cmpst
	je l3667
	push "17"
	cmpst
	je l3667
	push "19"
	cmpst
	je l3667
	jmp l3666
l3667:
	spop $a
	push 1
	push 1
	cthis mlin
	jmp l3661
l3666:
	push "21"
	cmpst
	je l3669
	push "23"
	cmpst
	je l3669
	push "25"
	cmpst
	je l3669
	push "1"
	cmpst
	je l3669
	jmp l3668
l3669:
	spop $a
	push 1
	push 1
	popax
	sub 0,$a
	cthis mlin
	jmp l3661
l3668:
	spop $a
l3661:
	push 0
	call anmach,stop
	call anmach,hide
	push 0
	call ankajko,stop
	push 0
	call fxwyrzut,stop
	call fxzamach2,play
	push 2
	pop igmstate
	call timgo,play
l3651:
	end method
	method masin
	localreal $1
	localreal $2
	pop $2
	pop $1
	push $1
	spushs
	spop $h
	call $h,asin
	push 180.0
	call $1,getpi
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	mul $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	end method
	method mlin
	localint $1
	localint $2
	pop $2
	pop $1
	push _srx
	push $1
	call anlina,getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push _rx
	pop $b
	popax
	add $a,$b
	push _sry
	push $2
	call anlina,geth
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push _ry
	pop $b
	popax
	add $a,$b
	call anlina,move
	push $1
	push 0
	cmpja
	cmp0
	je l3671
	push 20
	popax
	sub 0,$a
	push 0
	call anlina,move
l3671:
	localint $3
	push 1024
	pop $3
	localint $4
	push 768
	pop $4
	localint $5
	push 0
	pop $5
	localint $6
	push 0
	pop $6
	push $1
	push 0
	cmpjl
	cmp0
	je l3673
	push _srx
	push 20
	pop $b
	popax
	sub $a,$b
	pop $5
	jmp l3672
l3673:
	push _srx
	push 20
	pop $b
	popax
	add $a,$b
	pop $3
l3672:
	push $2
	push 0
	cmpjl
	cmp0
	je l3675
	push _sry
	push 20
	pop $b
	popax
	sub $a,$b
	pop $6
	jmp l3674
l3675:
	push _sry
	push 20
	pop $b
	popax
	add $a,$b
	pop $4
l3674:
	push $5
	push $6
	push $3
	push $4
	call anlina,clip
	localreal $7
	push 4.5
	pop $7
	push _rx
	push $7
	pop $b
	popax
	div $a,$b
	psax
	pop rdx
	push _ry
	push $7
	pop $b
	popax
	div $a,$b
	psax
	pop rdy
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3677
	cthis mstart
l3677:
	end method
	end game

	game Cs5Brama
	parent StdGame
	method init
	push "cs5brama"
	clparent StdGame,init
	push A
	push "kot.pyz 20"
	push "maska1.pyz 10"
	push "maska2.pyz 30"
	push "kajko.pyz 5"
	push "kokosz.pyz 5"
	push "bkg.pyz"
	cthis imgs=
	push A
	push ":kokosz1"
	push "Tak moe by?"
	push "Cs5Brama0"
	push ":kajko1"
	push "Moe by prima ballerino"
	push "Cs5Brama1"
	push ":kokosz2"
	push "Primo co?"
	push "Cs5Brama2"
	push ":kajko2"
	push "A tak mi si powiedziao"
	push "mend"
	cthis sounds=
	push "Cs5Brama3"
	call ccs,enter
	push "timkot"
	push 3000
	push "Cs5Brama4"
	cthis timer=
	push A
	push "bgrnoc2N 15"
	push "kot1 70"
	cthis sfxs=
	end method
	method Cs5Brama0
	push "kajko1"
	cthis cbplay
	end method
	method Cs5Brama1
	push "kokosz2"
	cthis cbplay
	end method
	method Cs5Brama2
	push "kajko2"
	cthis cbplay
	end method
	method Cs5Brama3
	push "kokosz1"
	cthis cbplay
	call timkot,play
	push 0
	push "mend"
	call ankokosz,anplayfin
	push 0
	push "mend"
	call ankajko,anplayfin
	end method
	method Cs5Brama4
	push 1
	popax
	sub 0,$a
	call ankot,play
	call fxkot1,play
	end method
	method mend
	cthis cisplaying
	neg
	cmp0
	je l3679
	push 1
	popax
	sub 0,$a
	call ankokosz,isplaying
	push 0
	cmpje
	cmp0
	je l3679
	push 1
	popax
	sub 0,$a
	call ankajko,isplaying
	push 0
	cmpje
	jmp l3681
l3679:
	push 0
	jmp l3681
l3680:
	push 1
l3681:
	cmp0
	je l3682
	push "Cs5Brama5"
	call ccs,close
l3682:
	end method
	method Cs5Brama5
	push "adgrod"
	push "gameadgrod0"
	cthis gotoadv
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3684
	push 1
	cthis cactsndstop
l3684:
	end method
	end game

	game Witraz
	parent StdGame
	method init
	push "witraz"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "konturpod.pyz 10"
	cthis imgs=
	new gmimgvec,grels
	push "grels"
	push "witraz.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grels,hash
	cthis restorels
	push 256
	push 26
	push 750
	push 420
	new Rect,rec
	push 120
	push 15
	push 1012
	push 120
	pop $b
	popax
	sub $a,$b
	push 642
	push 15
	pop $b
	popax
	sub $a,$b
	new Rect,rec2
	push "grels"
	call rec,fitgrouprand
	push A
	push "muruje1"
	push "stepl1"
	cthis sfxs=
	push "logiczne.ogg -l"
	call mus,playstr
	new DelayMover,cmov
	push A
	push ":kajko1"
	push "Spjrz ze szkieek mona utworzy witrayk"
	push "Witraz0"
	cthis sounds=
	push "Witraz1"
	call ccs,enter
	end method
	method Witraz0
	call cmov,unlock
	end method
	method Witraz1
	push "kajko1"
	cthis cbplay
	end method
	method cmov_GET
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l3686
	call fxstepl1,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	call grels,remove
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
l3686:
	end method
	method mend
	push "Witraz2"
	call ccs,close
	end method
	method Witraz2
	push "adpokojkk"
	push "gameadpokojkk0"
	cthis gotoadv
	end method
	method cmov_PUT
	localstring $1
	cthis getfree
	pop $1
	call fxmuruje1,play
	push $1
	spushs
	push 30
	spop $a
	call [$a],aninlod
	cmp0
	je l3688
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l3690
	cthis mend
	jmp l3689
l3690:
l3689:
	jmp l3687
l3688:
	push $1
	call grels,add
	cthis restorels
	push $1
	call rec2,fit
l3687:
	end method
	method restorels
	push 20
	call grels,sortz
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3692
	push 1
	cthis cactsndstop
l3692:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3694
	cthis mend
l3694:
	end method
	end game

	game Roznice
	parent StdGame
	method init
	push "roznice"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "lewa.pyz 10"
	push "prawaP.pyz 10"
	cthis imgs=
	push "grels"
	push "els"
	push 20
	cthis newgrimg
	push A
	push ":kokosz1"
	push "Och takie same!"
	push "Roznice0"
	push ":kajko1"
	push "Nie; Przypatrz si uwanie; Niektre kolory obrazka na kuferku s inne ni te padajce przez witra; Sprbuj je wcisn"
	push "Roznice1"
	push ":kajko2"
	push "Ha! Zamek puci; Ale chwila; W rodku jest drugi kufer!"
	push "Roznice2"
	cthis sounds=
	push "kokosz1"
	cthis cbplay
	push A
	push "ogien2N 40"
	push "founditem2"
	push "klamka"
	cthis sfxs=
	end method
	method Roznice0
	push "kajko1"
	cthis cbplay
	end method
	method Roznice1
	push 1
	pop igmstate
	end method
	method Roznice2
	push "Roznice3"
	call ccs,close
	end method
	method Roznice3
	push "adpokojkk"
	push "gameadpokojkk0"
	cthis gotoadv
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3696
	push 1
	cthis cactsndstop
l3696:
	push igmstate
	push 1
	cmpje
	cmp0
	je l3698
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	jmp l3700
l3698:
	push 0
	jmp l3700
l3699:
	push 1
l3700:
	cmp0
	je l3701
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	spushs
	spop $a
	call [$a],hide
	call fxfounditem2,play
	push $1
	call grels,remove
	call grels,empty
	cmp0
	je l3703
	push 0
	push 1
	call anbkg,setframe
	call fxklamka,play
	push "timgo"
	push 1000
	push "Roznice4"
	cthis timer=
	call timgo,play
l3703:
l3701:
	end method
	method Roznice4
	push "kajko2"
	cthis cbplay
	end method
	end game

	game Szyfr
	parent StdGame
	method init
	push "szyfr"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "klucz.pyz 100"
	push "powrot.pyz 200"
	push "kufer.pyz 10"
	cthis imgs=
	push "grels"
	push "key"
	push 20
	cthis newgrimg
	push 8
	push 333
	push 1017
	push 8
	pop $b
	popax
	sub $a,$b
	push 693
	push 333
	pop $b
	popax
	sub $a,$b
	new Rect,rec2
	push 0
	push 1000
	call anklucz,ansetbpos
	push "anklucz"
	call rec2,fit
	new int,bklucz
	push "e6_klucz2_on_kufer2"
	call clsave,bis
	pop bklucz
	push bklucz
	neg
	cmp0
	je l3705
	call anklucz,hide
l3705:
	new DelayMover,cmov
	call cmov,unlock
	new Button,butout
	push "anpowrot"
	call butout,add
	call anpowrot,Button_std
	push "butclick"
	push "Szyfr0"
	call anpowrot,addmethod
	new string,ssavepref
	push "e6_kufer2_key_"
	pop ssavepref
	new vector,vkey
	push "begin"
	push 0
	push 0
	push 0
	push 0
	push 4
	push 5
	push 6
	push 0
	push 8
	push 0
	push 0
	push 0
	push 0
	push 13
	push 14
	push 15
	push 16
	push 0
	push 0
	push 19
	call vkey,beginadd
	localint $1
	push 0
	pop $1
l3708:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l3709
	jmp l3711
l3710:
	add $1,1
	pop $1
	jmp l3708
l3711:
	localdef $2
	push $1
	call grels,get
	pop $2
	localdef $3
	push ssavepref
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	call clsave,bis
	cmp0
	je l3713
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	jmp l3712
l3713:
	push $3
	push 0
	call clsave,set
l3712:
	jmp l3710
l3709:
	push "timend"
	push 1000
	push "Szyfr1"
	cthis timer=
	push A
	push ":kajko1"
	push "Nie zgadniesz co znalazem w tym kufrze"
	push "Szyfr2"
	push ":kokosz1"
	push "Czarodziejski eliksir w magicznej buteleczce?"
	push "Szyfr3"
	push ":kajko2"
	push "Pudo; Kolejny kuferek; Ten nie do e nie ma kdki to nawet nie wida na nim adnego mechanizmu"
	push "Szyfr4"
	cthis sounds=
	push A
	push "wciska1"
	push "klamka 50"
	push "getpuz 70"
	push "putpuz 60"
	cthis sfxs=
	push "logiczne.ogg"
	call mus,playstr
	push 1
	pop igmstate
	end method
	method Szyfr0
	push igmstate
	push 1
	cmpje
	cmp0
	je l3707
	cthis mend
l3707:
	end method
	method Szyfr1
	push "kajko1"
	cthis cbplay
	end method
	method Szyfr2
	push "kokosz1"
	cthis cbplay
	end method
	method Szyfr3
	push "kajko2"
	cthis cbplay
	end method
	method Szyfr4
	push "e6_kufer2_state"
	push 1
	call clsave,set
	cthis mend
	end method
	method mset
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	call grels,get
	spushs
	push 1
	popax
	sub 0,$a
	push $2
	spop $a
	call [$a],setframe
	push ssavepref
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	call clsave,set
	call fxwciska1,play
	end method
	method mend
	push "Szyfr5"
	call ccs,close
	end method
	method Szyfr5
	push "adpokojkk"
	push "gameadpokojkk0"
	cthis gotoadv
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3715
	ret
l3715:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push $1
	push $2
	push 1
	push 1
	call anklucz,isin
	cmp0
	je l3717
	call fxgetpuz,play
	push "anklucz"
	cthis mssetobj
	jmp l3716
l3717:
	push $1
	push $2
	push 1
	push 1
	call grels,isin
	cmp0
	je l3719
	call grels,getfound
	call grels,getsfound
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l3721
	push 0
	jmp l3720
l3721:
	push 1
l3720:
	cthis mset
	localint $3
	push 1
	pop $3
	localint $4
	push 0
	pop $4
l3722:
	push $4
	call grels,size
	cmpjl
	cmp0
	je l3723
	jmp l3725
l3724:
	add $4,1
	pop $4
	jmp l3722
l3725:
	push $4
	call grels,get
	spushs
	spop $a
	call [$a],framenr
	cmp0
	je l3727
	push $4
	call vkey,get
	push 0
	cmpje
	cmp0
	je l3729
	push 0
	pop $3
l3729:
	jmp l3726
l3727:
	push $4
	call vkey,get
	push 0
	cmpjne
	cmp0
	je l3731
	push 0
	pop $3
l3731:
l3726:
	jmp l3724
l3723:
	push $3
	cmp0
	je l3733
	push 2
	pop igmstate
	push 1
	push 0
	call ankufer,setframe
	call timend,play
	call fxklamka,play
l3733:
l3719:
l3716:
	end method
	method cmov_PUT
	cthis free
	push "anklucz"
	call rec2,fit
	call fxputpuz,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3735
	push 1
	cthis cactsndstop
l3735:
	end method
	end game

	game Cs6Druid
	parent StdGame
	method init
	push "cs6druid"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "znaki.pyz 5"
	push "kon.pyzP 10"
	push "kokosz.pyzP 20"
	push "druid.pyzP 30"
	push "maska.pyz 40"
	cthis imgs=
	push A
	push "bgrlas2N 50"
	push "wysypuje1"
	push "konparsk2"
	cthis sfxs=
	push A
	push ":druid1"
	push "Czary mary hokus pokus zaraz ci poka wyrywanie wosw!"
	push "Cs6Druid0"
	push ":kokosz1"
	push "Dziadku nie denerwuj si tak"
	push "Cs6Druid1"
	push ":kokosz2"
	push "Au ojoj co si dzieje; Uff puff auau"
	push "null"
	push ":kokosz3"
	push "Bardzo przepraszam za swoje zachowanie; Ju nigdy nie bd wyrywa kapanom wosw; Prosz odczaruj ze mnie te wosy"
	push "Cs6Druid4"
	push ":druid2"
	push "Przeprosiny przyjte; Odczarowanie jest bardzo proste; Co wyroso mona wyrwa"
	push "Cs6Druid6"
	push "kokosz4"
	push "Auuuu! Au! Ojoj! Auuu"
	push "Cs6Druid7"
	cthis sounds=
	push "Cs6Druid8"
	call ccs,enter
	end method
	method Cs6Druid0
	push "kokosz1"
	cthis mko
	end method
	method Cs6Druid1
	push "stand"
	call ankokosz,play
	push "go"
	push "Cs6Druid2"
	call andruid,anplayfin
	end method
	method Cs6Druid2
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l3737
	call fxwysypuje1,play
	push "stand"
	cthis play
	push "coto"
	push "Cs6Druid3"
	call ankokosz,anplayfin
	push "magia.ogg"
	call mus,playstr
	push "kokosz2"
	cthis cbplay
l3737:
	push "stand"
	cthis play
	end method
	method Cs6Druid3
	cthis actionname
	spushs
	push "coto"
	cmpst
	jne l3739
	spop $a
	push "go"
	cthis play
	jmp l3738
l3739:
	push "go"
	cmpst
	jne l3740
	spop $a
	push "prosi"
	cthis play
	push "kokosz3"
	cthis cbplay
	jmp l3738
l3740:
	push "standprosi"
	cmpst
	jne l3741
	spop $a
	jmp l3738
l3741:
	spop $a
l3738:
	end method
	method Cs6Druid4
	push "standprosi"
	call ankokosz,play
	push "Cs6Druid5"
	call ccs,close
	end method
	method Cs6Druid5
	push "druid2"
	cthis cbplay
	call ccs,show
	end method
	method Cs6Druid6
	push "kokosz4"
	cthis cbplay
	end method
	method Cs6Druid7
	push "addojagi"
	push "gameaddojagi0"
	cthis gotoadv
	end method
	method Cs6Druid8
	push "druid1"
	cthis mdruid
	end method
	method mko
	localstring $1
	pop $1
	push "talk"
	call ankokosz,play
	push $1
	cthis cbplay
	end method
	method mdruid
	localstring $1
	pop $1
	push "talk"
	call andruid,play
	push $1
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3743
	push 1
	cthis cactsndstop
l3743:
	end method
	end game

	game Pelikan
	parent StdGame
	method init
	push "pelikan"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kik.pyz 20"
	push "nakladka.pyz 20"
	push "pobier.pyz 15"
	push "peli.pyzP 10"
	push "ryba.pyzH 12"
	push "ryba2.pyzH 12"
	cthis imgs=
	new int,bmaryba
	push 0
	pop bmaryba
	push "onendframe"
	push "Pelikan0"
	call anpeli,addmethod
	push "onendframe"
	push "Pelikan1"
	call anpobier,addmethod
	push A
	push ":kajko1"
	push "Mam j"
	push "Pelikan2"
	cthis sounds=
	push A
	push "bgrlas1N 50"
	push "wyrzut"
	push "zamach2"
	push "pelikan1"
	cthis sfxs=
	push "Pelikan4"
	call ccs,enter
	push "timend"
	push 1000
	push "Pelikan5"
	cthis timer=
	end method
	method Pelikan0
	cthis framename
	push "out"
	cmpje
	cmp0
	je l3745
	push bmaryba
	push 0
	cmpje
	jmp l3747
l3745:
	push 0
	jmp l3747
l3746:
	push 1
l3747:
	cmp0
	je l3748
	push 0
	call anryba,play
l3748:
	end method
	method Pelikan1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3750
	cthis framenr
	push 9
	cmpje
	cmp0
	je l3750
	call anryba,isvisible
	cmp0
	je l3750
	call anryba,framenr
	push 1
	cmpja
	cmp0
	je l3750
	call anryba,framenr
	push 13
	cmpjl
	jmp l3752
l3750:
	push 0
	jmp l3752
l3751:
	push 1
l3752:
	cmp0
	je l3753
	push 0
	call anryba,stop
	call anryba,hide
	push 0
	call anryba2,play
	push 1
	pop bmaryba
	push 1
	call anpeli,play
	push 2
	pop igmstate
	call timend,play
	call fxzamach2,play
	call fxpelikan1,play
l3753:
	end method
	method Pelikan2
	push "Pelikan3"
	call ccs,close
	end method
	method Pelikan3
	push "adjaga"
	push "gameadjaga0"
	cthis gotoadv
	end method
	method Pelikan4
	push 1
	pop igmstate
	end method
	method Pelikan5
	push "kajko1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l3755
	push 1
	popax
	sub 0,$a
	call anpobier,isplaying
	push 0
	cmpje
	cmp0
	je l3757
	push 0
	call anpobier,play
	push 0
	call ankik,play
	call fxwyrzut,play
l3757:
l3755:
	end method
	end game

	game Wedka
	parent StdGame
	method init
	push "wedka"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "drzewo.pyz 50"
	push "mirmil.pyzP 10"
	push "klucz.pyz 20"
	push "linka.pyz 60"
	push "wedka.pyz 70"
	push "haczyk.pyzH"
	cthis imgs=
	push A
	push ":kajko1"
	push "Rany Kokosz nie zahacz tylko Mirmia bo zrobi z nas zamachowcw"
	push "Wedka0"
	push ":kokosz1"
	push "Nie doceniasz moich wdkarskich talentw; Ja sprbuj zowi klucz a ty patrz czy nikt nie nadchodzi"
	push "Wedka1"
	push ":kokosz2"
	push "Mam go!"
	push "Wedka2"
	push ":kajko2"
	push "wietnie! Przycignij powoli wdk"
	push "Wedka3"
	push ":kajko3"
	push "Czasami mnie zaskakujesz; Wspaniaa robota Kokosz!"
	push "Wedka4"
	push ":kokosz3"
	push "Z penym brzuchem jestem mdry jak ciotka Jaga; Ta sama krew!"
	push "Wedka5"
	cthis sounds=
	new filter,ftlina
	push "anlinka"
	call ftlina,link
	push 2
	call ftlina,setpivottype
	new filter,fthak
	push "anhaczyk"
	call fthak,link
	push 2
	call fthak,setpivottype
	push 0
	call anwedka,play
	push "onsetframe"
	push "updatelinka"
	call anwedka,addmethod
	cthis updatelinka
	new vector,vrot
	push "begin"
	push 5
	push 5
	push 9
	push 9
	push 12
	push 12
	push 14
	push 14
	push 14
	push 15
	push 15
	push 15
	call vrot,beginadd
	localint $1
	call vrot,size
	pop $1
l3758:
	push $1
	push 0
	cmpja
	cmp0
	je l3759
	jmp l3761
l3760:
	sub $1,1
	pop $1
	jmp l3758
l3761:
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call vrot,get
	call vrot,add
	jmp l3760
l3759:
	localint $1
	call vrot,size
	pop $1
l3762:
	push $1
	push 0
	cmpja
	cmp0
	je l3763
	jmp l3765
l3764:
	sub $1,1
	pop $1
	jmp l3762
l3765:
	push $1
	push 1
	pop $b
	popax
	sub $a,$b
	call vrot,get
	popax
	sub 0,$a
	call vrot,add
	jmp l3764
l3763:
	new int,idvrot
	push 0
	pop idvrot
	push "timrot"
	push "Wedka7"
	cthis cycle=
	call timrot,play
	push "onfinish"
	push "Wedka8"
	call anwedka,addmethod
	push "timend"
	push "Wedka9"
	cthis cycle=
	push A
	push "bgrout2N 70"
	push "zamach2"
	push "mlot1 40"
	cthis sfxs=
	push "timmlot"
	push 1000
	push "Wedka10"
	cthis timer=
	call timmlot,play
	push "Wedka11"
	call ccs,enter
	end method
	method Wedka0
	push "kokosz1"
	cthis cbplay
	end method
	method Wedka1
	push 1
	pop igmstate
	end method
	method Wedka2
	push "kajko2"
	cthis cbplay
	end method
	method Wedka3
	call timend,play
	end method
	method Wedka4
	push "kokosz3"
	cthis cbplay
	end method
	method Wedka5
	push "Wedka6"
	call ccs,close
	end method
	method Wedka6
	push "adbudowa"
	push "gameadbudowa0"
	cthis gotoadv
	end method
	method Wedka7
	push igmstate
	push 1
	cmpje
	cmp0
	jne l3768
	push igmstate
	push 0
	cmpje
	jmp l3769
l3767:
	push 0
	jmp l3769
l3768:
	push 1
l3769:
	cmp0
	je l3770
	push idvrot
	call vrot,get
	call ftlina,setrotate
	push idvrot
	call vrot,get
	call fthak,setrotate
	push idvrot
	push 1
	pop $b
	popax
	add $a,$b
	call vrot,size
	pop $b
	popax
	div $a,$b
	push $d
	pop idvrot
	jmp l3766
l3770:
	push igmstate
	push 2
	cmpje
	cmp0
	je l3772
	push 0
	call ftlina,setrotate
l3772:
l3766:
	cthis play
	end method
	method Wedka8
	cthis actionname
	push "up"
	cmpje
	cmp0
	je l3774
	push igmstate
	push 3
	cmpje
	cmp0
	je l3776
	push "kokosz2"
	cthis cbplay
	jmp l3775
l3776:
	push "anhaczyk"
	call fthak,link
	push 0
	cthis play
	push 1
	pop igmstate
l3775:
l3774:
	end method
	method Wedka9
	push 10
	popax
	sub 0,$a
	push 10
	call anwedka,move
	cthis updatelinka
	call anwedka,getpy
	push 600
	cmpja
	cmp0
	je l3778
	push "kajko3"
	cthis cbplay
	jmp l3777
l3778:
	cthis play
l3777:
	end method
	method Wedka10
	call fxmlot1,play
	cthis play
	end method
	method Wedka11
	push "kajko1"
	cthis cbplay
	end method
	method updatelinka
	call anwedka,getex
	push 10
	pop $b
	popax
	sub $a,$b
	call anwedka,getpy
	push 2
	pop $b
	popax
	add $a,$b
	call anlinka,setpos
	call anwedka,getex
	push 10
	pop $b
	popax
	sub $a,$b
	call anwedka,getpy
	push 2
	pop $b
	popax
	add $a,$b
	call anhaczyk,setpos
	push igmstate
	push 2
	cmpje
	cmp0
	je l3780
	call anhaczyk,getcx
	call anhaczyk,getcy
	push 0
	push 0
	call anklucz,isin
	cmp0
	je l3782
	push 3
	pop igmstate
	call anlinka,getz
	push 1
	pop $b
	popax
	sub $a,$b
	call anklucz,setz
	push "zwyciestwo.ogg -v 50"
	call mus,playstr
l3782:
l3780:
	push igmstate
	push 3
	cmpje
	cmp0
	je l3784
	call anhaczyk,getpx
	push 13
	pop $b
	popax
	sub $a,$b
	call anhaczyk,getpy
	call anklucz,ansetbpos
l3784:
	end method
	method mouse_move
	push igmstate
	push 1
	cmpje
	cmp0
	jne l3787
	push igmstate
	push 0
	cmpje
	jmp l3788
l3786:
	push 0
	jmp l3788
l3787:
	push 1
l3788:
	cmp0
	je l3789
	call mouse,getpx
	push 100
	call mouse,getpy
	push iResY
	cthis between
	call anwedka,setpos
	cthis updatelinka
l3789:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3791
	push 1
	cthis cactsndstop
l3791:
	push igmstate
	push 1
	cmpje
	cmp0
	je l3793
	push 2
	pop igmstate
	push 1
	call anwedka,play
	push 0
	call fthak,setrotate
	call fthak,unlink
	cthis updatelinka
	call fxzamach2,play
l3793:
	end method
	end game

	game Goto
	parent StdGame
	method init
	push "goto"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "bg2.pyz 1"
	push "maska.pyz 100"
	push "ogien.pyzP 10"
	push "dym.pyzP 50"
	push "plum.pyzH 20"
	push "bul.pyzP 10"
	push "miesza.pyzH 30"
	push "bum1.pyzH 60"
	push "ups.pyzH 60"
	push "kw.pyz 150"
	push "ekw.pyzH 160"
	push "sagan.pyzH"
	push "gotuj.pyz 160"
	cthis imgs=
	new classplacepointer2,clp
	new Button,but
	new DelayMover,cmov
	call cmov,unlock
	call angotuj,Goto0
	push A
	push "sndnar1"
	push "Na pieku le skadniki; Klikajc na nich prawym przyciskiem myszy usyszysz ich nazwy"
	push "Goto2"
	push "sndnar2"
	push "Tutaj znajduje si przepis na eliksir; Klikaj na nim eby czyta receptur"
	push "Goto3"
	push "sndnar3"
	push "Potem przeno w odpowiedniej kolejnoci skadniki do sagana"
	push "Goto4"
	push "sndnar4"
	push "Aby rozpocz gotowanie eliksiru od pocztku kliknij tutaj"
	push "Goto5"
	push ":kajko1"
	push "Ten wierszyk kryje w sobie dokadne wskazwki jak przygotowa eliksir; Przystpuj do gotowania"
	push "Goto6"
	push ":kokosz1"
	push "W razie czego zajem strategiczn pozycj za twoimi plecami; Nie musisz si obawia zemsty pelikana"
	push "Goto7"
	push ":kajko_ups"
	push "Chyba si pomyliem; Musz rozpocz gotowanie od pocztku"
	push "Goto8"
	push ":kokosz_ups"
	push "No to szybko wycigaj skadniki zanim si rozgotuj"
	push "Goto9"
	push ":kajko2"
	push "Zamieszaj okiem tego ktry si puszy; Kto si puszy? Kto ma oko? Zaraz; Wiem! Paw si puszy; Chodzi o pawie piro!"
	push "Goto11"
	push ":kajko3"
	push "Gotowe; Teraz wymawiam zaklcie"
	push "Goto12"
	push ":kokosz2"
	push "Rrrety Kajku poczekaj biegn zobaczy czy za chatk Jagi nie czai si pelikan"
	push "Goto13"
	push ":kajko4"
	push "Zupo zupo udaj si bo jak nie to ci zjem!"
	push "Goto14"
	push ":kajko5"
	push "Zamrucz po dwakro; Tak zwyczajnie zamrucze? No dobra; Mru; Mru"
	push "Goto18"
	push ":kokosz3"
	push "Z takim mruczeniem myszy nie przestraszysz; Ja bym to zrobi tak"
	push "Goto19"
	push ":kajko6"
	push "Stj! Chcesz przedawkowa mruczenie? Napisane jest zamrucze po dwakro; Nie mniej i nie wicej"
	push "Goto20"
	push ":kokosz4"
	push "Dobrze ju dobrze; Chciaem tylko pomc"
	push "Goto21"
	push "sndnar1pad"
	push "Na pieku le skadniki; Klikajc na nich usyszysz ich nazwy"
	push "Goto22"
	cthis sounds=
	push "grels"
	push "els"
	push 30
	cthis newgrimg
	new gmimgvec,grsklad
	localint $1
	push 0
	pop $1
l3804:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l3805
	jmp l3807
l3806:
	add $1,1
	pop $1
	jmp l3804
l3807:
	localdef $2
	push "anekw"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push "anekw"
	push $2
	cthis copyanima
	localdef $3
	push "ankw"
	push $1
	pop $b
	popax
	add $a,$b
	pop $3
	push "ankw"
	push $3
	cthis copyanima
	push $3
	spushs
	push 20
	push $1
	push $3
	spushs
	spop $a
	call [$a],getw
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push 20
	spop $a
	call [$a],setpos
	push $2
	spushs
	push $3
	spushs
	spop $a
	call [$a],getpx
	push $3
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	push $2
	call grsklad,add
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],Goto23
	jmp l3806
l3805:
	call ankw,hide
	push "anzak"
	push "$scripts/common/zaklecie.pyz"
	push 100
	cthis newanima
	cthis schowajzak
	call anzak,Goto24
	new string,sskladnik
	push "timfall"
	push "Goto26"
	cthis cycle=
	new snd,sndhelper
	push A
	push "ogienN"
	push "wybuch1"
	push "bulbulN 40"
	push "wpadldowody 80"
	push "getpuz 80"
	push "putpuz 80"
	cthis sfxs=
	push "Goto27"
	call ccs,enter
	end method
	method Goto0
	push iResX
	cthis getw
	pop $b
	popax
	sub $a,$b
	push 20
	pop $b
	popax
	sub $a,$b
	push 20
	cthis setpos
	cthis Button_stdalpha
	push "butclick"
	push "Goto1"
	cthis addmethod
	cthis getname
	call but,add
	end method
	method Goto1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3795
	call grels,size
	call grsklad,size
	cmpjl
	jmp l3797
l3795:
	push 0
	jmp l3797
l3796:
	push 1
l3797:
	cmp0
	je l3798
	push 5
	pop igmstate
	push "kajko_ups"
	cthis cbplay
l3798:
	end method
	method Goto2
	call anzak,getex
	push 50
	pop $b
	popax
	sub $a,$b
	call anzak,getpy
	push 50
	pop $b
	popax
	add $a,$b
	push "ld"
	call clp,show
	push "sndnar2"
	cthis cbplay
	end method
	method Goto3
	push "ansagan"
	push "rd"
	call clp,showob
	push "sndnar3"
	cthis cbplay
	end method
	method Goto4
	push "angotuj"
	push "ru"
	call clp,showob
	push "sndnar4"
	cthis cbplay
	end method
	method Goto5
	call clp,stoph
	push "kajko1"
	cthis cbplay
	end method
	method Goto6
	push "kokosz1"
	cthis cbplay
	end method
	method Goto7
	push 1
	pop igmstate
	end method
	method Goto8
	push "kokosz_ups"
	cthis cbplay
	end method
	method Goto9
	push "Goto10"
	call ccs,close
	end method
	method Goto10
	push "Goto"
	call gameapi,play
	end method
	method Goto11
	push 0
	push "mcheck"
	call anmiesza,anplayfin
	end method
	method Goto12
	push "kokosz2"
	cthis cbplay
	end method
	method Goto13
	push "kajko4"
	cthis cbplay
	end method
	method Goto14
	call anekw0,actionname
	push "pioro"
	cmpje
	cmp0
	je l3800
	call anekw1,actionname
	push "jagody"
	cmpje
	cmp0
	je l3800
	call anekw2,actionname
	push "wlos"
	cmpje
	cmp0
	je l3800
	call anekw3,actionname
	push "paprot"
	cmpje
	cmp0
	je l3800
	call anekw4,actionname
	push "muchomor"
	cmpje
	cmp0
	je l3800
	call anekw5,actionname
	push "paw"
	cmpje
	cmp0
	je l3800
	call anekw6,actionname
	push "rybka"
	cmpje
	jmp l3802
l3800:
	push 0
	jmp l3802
l3801:
	push 1
l3802:
	cmp0
	je l3803
	call fxwybuch1,play
	push 0
	push "Goto15"
	call anbum1,anplayfin
	jmp l3799
l3803:
	call fxwybuch1,play
	push 0
	push "Goto17"
	call anups,anplayfin
l3799:
	end method
	method Goto15
	push "Goto16"
	call ccs,close
	end method
	method Goto16
	push "adjaga"
	push "gameadjaga0"
	cthis gotoadv
	end method
	method Goto17
	push "kajko_ups"
	cthis cbplay
	end method
	method Goto18
	push "kokosz3"
	cthis cbplay
	end method
	method Goto19
	push "kajko6"
	cthis cbplay
	end method
	method Goto20
	push "kokosz4"
	cthis cbplay
	end method
	method Goto21
	push 1
	pop igmstate
	end method
	method Goto22
	call anzak,getex
	push 50
	pop $b
	popax
	sub $a,$b
	call anzak,getpy
	push 50
	pop $b
	popax
	add $a,$b
	push "ld"
	call clp,show
	push "sndnar2"
	cthis cbplay
	end method
	method Goto23
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	cthis getname
	call but,add
	end method
	method Goto24
	cthis Button_stdalpha
	push "butclick"
	push "Goto25"
	cthis addmethod
	cthis getname
	call but,add
	end method
	method Goto25
	push igmstate
	push 1
	cmpje
	cmp0
	je l3809
	cthis m_zaklecie_in
l3809:
	end method
	method Goto26
	push sskladnik
	spushs
	spop $a
	call [$a],getpy
	push 390
	cmpja
	cmp0
	je l3811
	call fxwpadldowody,play
	push 1
	popax
	sub 0,$a
	call anplum,play
	cthis mcheck
	jmp l3810
l3811:
	push sskladnik
	spushs
	push 0
	push 20
	spop $a
	call [$a],move
	cthis play
l3810:
	end method
	method Goto27
	cthis checktouchpad
	cmp0
	je l3813
	push "sndnar1pad"
	cthis cbplay
	jmp l3812
l3813:
	push "sndnar1"
	cthis cbplay
l3812:
	call grels,first
	push "ld"
	call clp,showob
	end method
	method mouse_rclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l3815
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	jmp l3817
l3815:
	push 0
	jmp l3817
l3816:
	push 1
l3817:
	cmp0
	je l3818
	localdef $1
	call grels,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $1
	push $1
	push "rybka"
	cmpje
	cmp0
	je l3820
	push "ryba"
	pop $1
l3820:
	cthis getsndpath
	push "jaga_"
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	call sndhelper,load
	push "sndhelper"
	cthis crplay
l3818:
	end method
	method schowajzak
	call anzak,getw
	popax
	sub 0,$a
	push 350
	pop $b
	popax
	add $a,$b
	push iResY
	push 200
	pop $b
	popax
	sub $a,$b
	call anzak,ansetbpos
	call anzak,show
	end method
	method _msndplay
	localstring $1
	pop $1
	push "sounds/"
	push $1
	pop $b
	popax
	add $a,$b
	push ".wav"
	pop $b
	popax
	add $a,$b
	cthis load
	cthis play
	end method
	method m_new_powrot
	push "ansubadvpowrot"
	push "$scripts/common/powrot.pyz"
	push 2600
	cthis newanima
	push 90
	push 127
	call ansubadvpowrot,move
	end method
	method m_del_powrot
	delete ansubadvpowrot
	end method
	method m_on_powrot
	call mouse,getpos
	push 1
	push 1
	call ansubadvpowrot,isin
	end method
	method _m_out_elik
	push _selik
	push "null"
	cmpjne
	cmp0
	je l3822
	push _selik
	spushs
	cthis black
	spop $a
	call [$a],createtxt
	push "null"
	pop _selik
l3822:
	end method
	method m_zaklecie_in
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],Goto28
	end method
	method Goto28
	call anzak,hide
	push "_anzaklecie"
	push "$scripts/common/zaklecie.pyz"
	push 2600
	cthis newanima
	push "_anzaklecie"
	push "_ansayzak1"
	cthis copyanima
	push 1
	push 0
	call _ansayzak1,setframe
	new snd,_sndzak
	new db,_dbelik
	push "lang/zaklecie.db"
	call _dbelik,load
	new gmimgvec,_grelik
	new gmimgvec,_grelist
	new string,_selik
	push "null"
	pop _selik
	new int,_ielik
	push 0
	pop _ielik
	localdef $1
	push 343
	pop $1
	localdef $2
	push 177
	pop $2
	push "_felik"
	push sgmfontitalic
	push 14
	cthis newfont
	localstring $3
	localint $4
	push 0
	pop $4
l3823:
	push $4
	push 0
	call _dbelik,getcolsno
	cmpjl
	cmp0
	je l3824
	jmp l3826
l3825:
	add $4,1
	pop $4
	jmp l3823
l3826:
	push "_txfel"
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push ""
	push "_felik"
	cthis black
	cthis newtext
	push $3
	spushs
	push 0
	push $4
	call _dbelik,get
	spop $a
	call [$a],txtset
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 2600
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],geth
	push 4
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push $3
	call _grelist,add
	jmp l3825
l3824:
	push 25
	popax
	add $2,$a
	pop $2
	push 1
	pop $4
l3827:
	push $4
	call _dbelik,getrowsno
	cmpjl
	cmp0
	je l3828
	jmp l3830
l3829:
	add $4,1
	pop $4
	jmp l3827
l3830:
	push "_txfelik"
	push $4
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	push ""
	push "_felik"
	cthis black
	cthis newtext
	push $3
	spushs
	push $4
	push 0
	call _dbelik,get
	spop $a
	call [$a],txtset
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 2600
	spop $a
	call [$a],setz
	push $3
	spushs
	spop $a
	call [$a],geth
	push 4
	pop $b
	popax
	add $a,$b
	popax
	add $2,$a
	pop $2
	push $3
	call _grelik,add
	jmp l3829
l3828:
	cthis m_new_powrot
	push 2
	pop igmstate
	end method
	method m_zaklecie_out
	call gameapi,getgamename
	spushs
	spop $a
	call [$a],Goto29
	end method
	method Goto29
	call anzak,show
	delete _ansayzak1
	delete _anzaklecie
	push 0
	call _sndzak,stop
	delete _sndzak
	delete _dbelik
	delete _selik
	delete _ielik
	call _grelist,deleteallgm
	call _grelik,deleteallgm
	delete _grelik
	delete _grelist
	delete _felik
	cthis m_del_powrot
	push 0
	pop igmstate
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpje
	cmp0
	je l3832
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l3834
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	cthis mssetobj
	push $1
	spushs
	push 110
	spop $a
	call [$a],setz
	call fxgetpuz,play
	cthis checktouchpad
	cmp0
	je l3836
	cthis mouse_rclick
l3836:
l3834:
l3832:
	end method
	method mcheck
	push 1
	pop igmstate
	localdef $1
	call grsklad,size
	call grels,size
	pop $b
	popax
	sub $a,$b
	push 1
	pop $b
	popax
	sub $a,$b
	call grsklad,get
	pop $1
	push $1
	spushs
	push sskladnik
	spushs
	spop $a
	call [$a],actionname
	push 0
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],show
	push sskladnik
	spushs
	spop $a
	call [$a],hide
	call grels,size
	push 0
	cmpje
	cmp0
	je l3838
	push 4
	pop igmstate
	push "kajko3"
	cthis cbplay
	jmp l3837
l3838:
	call grels,size
	push 4
	cmpje
	cmp0
	je l3840
	push 4
	pop igmstate
	push "kajko5"
	cthis cbplay
l3840:
l3837:
	end method
	method cmov_PUT
	localdef $1
	cthis getfree
	pop $1
	call mouse,getpos
	push 0
	push 1
	call ansagan,isin
	cmp0
	je l3842
	push $1
	spushs
	push 885
	push $1
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push 255
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
	push $1
	spushs
	call anbul,getz
	spop $a
	call [$a],setz
	push 3
	pop igmstate
	push $1
	pop sskladnik
	push $1
	call grels,remove
	call grels,size
	push 1
	cmpje
	cmp0
	je l3844
	push $1
	spushs
	spop $a
	call [$a],actionname
	push "paw"
	cmpje
	jmp l3846
l3844:
	push 0
	jmp l3846
l3845:
	push 1
l3846:
	cmp0
	je l3847
	push $1
	spushs
	spop $a
	call [$a],hide
	call anmiesza,show
	push "kajko2"
	cthis cbplay
	jmp l3843
l3847:
	call timfall,play
l3843:
	jmp l3841
l3842:
	call fxputpuz,play
	push $1
	spushs
	push 30
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
l3841:
	end method
	method mouse_move
	push igmstate
	push 2
	cmpje
	cmp0
	je l3849
	call mouse,getpos
	push 1
	push 0
	call _grelik,isin
	cmp0
	je l3851
	localdef $1
	call _grelik,getsfound
	pop $1
	push $1
	push _selik
	cmpjne
	cmp0
	je l3853
	call _grelik,getfound
	pop _ielik
	cthis _m_out_elik
	push $1
	pop _selik
	push $1
	spushs
	cthis red
	spop $a
	call [$a],createtxt
l3853:
	jmp l3850
l3851:
	cthis _m_out_elik
l3850:
l3849:
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l3855
	push 1
	cthis cactsndstop
l3855:
	localint $1
	localint $2
	call mouse,getpos
	pop $2
	pop $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l3857
	jmp l3856
l3857:
	push igmstate
	push 5
	cmpje
	cmp0
	je l3859
	push 0
	pop igmstate
	jmp l3858
l3859:
	push igmstate
	push 2
	cmpje
	cmp0
	je l3861
	cthis m_on_powrot
	cmp0
	je l3863
	cthis m_zaklecie_out
	push 1
	pop igmstate
	jmp l3862
l3863:
	push $1
	push $2
	push 1
	push 1
	call _ansayzak1,isin
	cmp0
	je l3865
	push "jaga_32"
	call _sndzak,_msndplay
	jmp l3864
l3865:
	push _selik
	push "null"
	cmpjne
	cmp0
	je l3867
	push "jaga_"
	push 33
	push _ielik
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	call _sndzak,_msndplay
	jmp l3866
l3867:
	push 0
	call _sndzak,stop
l3866:
l3864:
l3862:
l3861:
l3858:
l3856:
	end method
	end game

	game Tama
	parent StdGame
	method init
	push "tama"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "butmask.pyz 100"
	push "butkokosz.pyz 90"
	push "butkajko.pyz 90"
	push "bobr.pyz 20"
	push "kokosz.pyz 30"
	push "kajko.pyz 25"
	push "bam.pyzH 50"
	push "kijek.pyz 50"
	push "woda.pyzH 1"
	cthis imgs=
	new classplacepointer2,clp
	push A
	push "nar1"
	push "Rozebranie tamy to nie prosta sprawa; Bobry bd broni jej wszelkimi rodkami"
	push "Tama0"
	push "nar2"
	push "Klikaj tutaj eby Kajko odgania bobra naprawiajcego tam"
	push "Tama1"
	push "nar3"
	push "Klikaj tutaj eby Kokosz rozgrabia tam; Do dziea!"
	push "Tama2"
	push ":kajko0"
	push "Uciekaj!"
	push "null"
	push ":kajko1"
	push "A sio!"
	push "null"
	push ":kajko2"
	push "Szybciej Kokosz!"
	push "null"
	push ":kokosz0"
	push "Auu!"
	push "null"
	push ":kokosz1"
	push "A to szelma!"
	push "null"
	push ":kokosz2"
	push "Aj!"
	push "null"
	push ":kokosz3"
	push "Udao si! Tama pucia!"
	push "Tama3"
	cthis sounds=
	push "grtam"
	push "tama"
	push 10
	cthis newgrimg
	push A
	push "zamach2"
	push "cios2"
	push "zamach3"
	push "skladadeski"
	push "przesypuje"
	cthis sfxs=
	push "onendframe"
	push "Tama5"
	call ankijek,addmethod
	push "onendframe"
	push "Tama6"
	call anbobr,addmethod
	push "onendframe"
	push "Tama7"
	call ankokosz,addmethod
	new int,idtama
	push 0
	pop idtama
	push "onfinish"
	push "Tama8"
	call ankokosz,addmethod
	new Button,but
	call anbutkajko,Tama9
	call anbutkokosz,Tama11
	push "timgo"
	push 2000
	push "Tama13"
	cthis timer=
	push "farma.ogg -v 50 -l"
	call mus,playstr
	push "nar1"
	cthis cbplay
	end method
	method Tama0
	push "anbutkajko"
	push "ru"
	call clp,showob
	push "nar2"
	cthis cbplay
	end method
	method Tama1
	push "anbutkokosz"
	push "ru"
	call clp,showob
	push "nar3"
	cthis cbplay
	end method
	method Tama2
	call clp,stoph
	push 1
	pop igmstate
	call timgo,play
	end method
	method Tama3
	push 1000
	call mus,fadeout
	push "Tama4"
	call ccs,close
	end method
	method Tama4
	push "adtama"
	push "gameadtama0"
	cthis gotoadv
	end method
	method Tama5
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l3869
	push 1
	call ankokosz,play
	push 0
	call anbam,play
	push 2
	spushs
	spop $h
	call $h,rand
	cmp0
	je l3871
	push "kokosz"
	push 3
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	cthis crplay
l3871:
	call fxcios2,play
l3869:
	end method
	method Tama6
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3873
	ret
l3873:
	cthis framenr
	push 27
	cmpje
	cmp0
	je l3875
	push 1
	popax
	sub 0,$a
	call ankajko,isplaying
	cmp0
	je l3877
	call ankajko,framenr
	push 0
	cmpja
	cmp0
	je l3877
	call ankajko,framenr
	push 1
	popax
	sub 0,$a
	call ankajko,nofframes
	cmpjl
	jmp l3879
l3877:
	push 0
	jmp l3879
l3878:
	push 1
l3879:
	cmp0
	je l3880
	push 2
	spushs
	spop $h
	call $h,rand
	cmp0
	je l3882
	push "kajko"
	push 3
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	cthis crplay
l3882:
	call fxzamach3,play
	jmp l3876
l3880:
	sub idtama,1
	pop idtama
	push idtama
	push 0
	cmpjl
	cmp0
	je l3884
	push 0
	pop idtama
	call anwoda,hide
l3884:
	push idtama
	call grtam,get
	spushs
	spop $a
	call [$a],show
	call fxprzesypuje,play
l3876:
l3875:
	end method
	method Tama7
	push igmstate
	push 1
	cmpje
	cmp0
	je l3886
	cthis framename
	push "ciach"
	cmpje
	jmp l3888
l3886:
	push 0
	jmp l3888
l3887:
	push 1
l3888:
	cmp0
	je l3889
	push idtama
	call grtam,get
	spushs
	spop $a
	call [$a],hide
	call fxskladadeski,play
	push idtama
	push 0
	call anwoda,setframe
	call anwoda,show
	add idtama,1
	pop idtama
	push idtama
	call grtam,size
	cmpjae
	cmp0
	je l3891
	push 2
	pop igmstate
	push "kokosz3"
	cthis cbplay
l3891:
l3889:
	end method
	method Tama8
	localdef $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $1
	push $1
	push 1
	cmpje
	cmp0
	je l3893
	push 0
	push 0
	cthis setframe
	jmp l3892
l3893:
	push $1
	push 0
	cmpje
	cmp0
	je l3895
l3895:
l3892:
	end method
	method Tama9
	cthis Button_isinalpha
	push "butclick"
	push "Tama10"
	cthis addmethod
	cthis getname
	call but,add
	end method
	method Tama10
	push igmstate
	push 1
	cmpje
	cmp0
	je l3897
	push 1
	popax
	sub 0,$a
	call ankajko,isplaying
	push 0
	cmpje
	jmp l3899
l3897:
	push 0
	jmp l3899
l3898:
	push 1
l3899:
	cmp0
	je l3900
	push 0
	call ankajko,play
l3900:
	end method
	method Tama11
	cthis Button_isinalpha
	push "butclick"
	push "Tama12"
	cthis addmethod
	cthis getname
	call but,add
	end method
	method Tama12
	push igmstate
	push 1
	cmpje
	cmp0
	je l3902
	push 1
	popax
	sub 0,$a
	call ankokosz,isplaying
	push 0
	cmpje
	jmp l3904
l3902:
	push 0
	jmp l3904
l3903:
	push 1
l3904:
	cmp0
	je l3905
	push 0
	call ankokosz,play
l3905:
	end method
	method Tama13
	push igmstate
	push 1
	cmpje
	cmp0
	je l3907
	push bModeEasy
	cmp0
	je l3909
	push 1500
	jmp l3908
l3909:
	push 1000
l3908:
	push 500
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	cthis setdelay
	push 0
	call anbobr,play
	push bModeEasy
	cmp0
	je l3911
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	jmp l3913
l3911:
	push 0
	jmp l3913
l3912:
	push 1
l3913:
	cmp0
	jne l3915
	push bModeEasy
	neg
	cmp0
	je l3916
	push 2
	spushs
	spop $h
	call $h,rand
	jmp l3918
l3916:
	push 0
	jmp l3918
l3917:
	push 1
l3918:
	jmp l3919
l3914:
	push 0
	jmp l3919
l3915:
	push 1
l3919:
	cmp0
	je l3920
	push 0
	call ankijek,play
l3920:
l3907:
	cthis play
	end method
	method mouse_lclick
	end method
	end game

	game Cs7Finisz
	parent StdGame
	method init
	push 0
	pop AdventureGame
	call modadvglob,delheros
	call clsave,free
	push "cs7finisz"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "gosc1.pyzP 5"
	push "gosc2.pyzP 6"
	push "zlosnik.pyzP 7"
	push "piernik.pyzP 8"
	push "chlopiec.pyzP 9"
	push "baba.pyzP 10"
	push "wit.pyzP 11"
	push "kajko.pyz 12"
	push "lubawa.pyzP 13"
	push "kura.pyzP 14"
	push "kowal.pyzP 15"
	push "kokosz.pyz 16"
	push "gosc3.pyzP 17"
	push "jaga.pyzP 18"
	push "lami.pyzP 19"
	push "beczka.pyz 20"
	push "mirmil.pyzP 21"
	push "piesek.pyzP 22"
	push "gosc4.pyzP 23"
	push "napis_wiwat.pyzH 25"
	cthis imgs=
	new gmimgvec,grels
	push A
	push "angosc4"
	push "anpiesek"
	push "angosc3"
	push "anlami"
	push "ankowal"
	push "anwit"
	push "anbaba"
	push "anchlopiec"
	push "anpiernik"
	push "anzlosnik"
	push "angosc2"
	push "angosc1"
	call grels,addlist
	push A
	push ":mir1"
	push "Najdrosi! Chciaem was wszystkich przeprosi; Zachowaem si jak ostatni tyran; Pragnem zbudowa budzcy podziw zamek Mirmiowo Wielkie a nie dostrzegem e prawdziwa wielko drzemie w sercach was wszystkich; Mirmiowo wielkie to wy; Nie dostrzegbym w por bdw gdyby nie dziaania ukochanej ony Lubawy"
	push "Cs7Finisz0"
	push ":luba1"
	push "Och Mirmiku nie przesadzaj"
	push "Cs7Finisz1"
	push ":mir2"
	push "Czarownicy Jagi i jej ma amignata"
	push "Cs7Finisz2"
	push ":jag1"
	push "Zawsze do twych usug kasztelanie"
	push "Cs7Finisz3"
	push ":mir3"
	push "I w szczeglnoci najlepszych najdzielniejszych i najsprytniejszych wojw w tej czci kraju; Kajka i Kokosza; Dlatego wznosz za was toast i ustanawiam dzi dzie witeczny wolny od pracy!"
	push "Cs7Finisz4"
	push "sndwszyscy"
	push "Brawo Mirmi! Wiwat Kajko i Kokosz! Niech yj!"
	push "Cs7Finisz6"
	push "sndnar1"
	push "Toastom i okrzykom na cze Kajka i Kokosza nie byo koca; W Mirmiowie witowano do samego rana"
	push "Cs7Finisz7"
	cthis sounds=
	push A
	push "bgrtlum2N 20"
	cthis sfxs=
	push "Cs7Finisz9"
	call ccs,enter
	end method
	method Cs7Finisz0
	cthis mirstand
	push "luba1"
	cthis lubasay
	end method
	method Cs7Finisz1
	cthis lubstand
	push "mir2"
	cthis mirsay
	end method
	method Cs7Finisz2
	push "jag1"
	cthis jagsay
	cthis mirstand
	end method
	method Cs7Finisz3
	cthis jagstand
	push "mir3"
	cthis mirsay
	end method
	method Cs7Finisz4
	push "toast"
	push "Cs7Finisz5"
	call anmirmil,anplayfin
	end method
	method Cs7Finisz5
	call annapis_wiwat,show
	push "sndwszyscy"
	cthis cbplay
	push 1
	call grels,nplay
	push "toast"
	call anjaga,play
	push "smile"
	call anlubawa,play
	push "zwyciestwo.ogg -v 50"
	call mus,playstr
	end method
	method Cs7Finisz6
	push "sndnar1"
	cthis cbplay
	end method
	method Cs7Finisz7
	push "Cs7Finisz8"
	call ccs,close
	end method
	method Cs7Finisz8
	push "Cs7Hodon"
	call gameapi,play
	end method
	method Cs7Finisz9
	push "mir1"
	cthis mirsay
	end method
	method jagsay
	localstring $1
	pop $1
	push "talk"
	call anjaga,play
	push $1
	cthis cbplay
	end method
	method jagstand
	push "stand"
	call anjaga,play
	end method
	method mirsay
	localstring $1
	pop $1
	push "talk"
	call anmirmil,play
	push $1
	cthis cbplay
	end method
	method mirstand
	push "stand"
	call anmirmil,play
	end method
	method lubasay
	localstring $1
	pop $1
	push "talk"
	call anlubawa,play
	push $1
	cthis cbplay
	end method
	method lubstand
	push "stand"
	call anlubawa,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3922
	push 1
	cthis cactsndstop
l3922:
	end method
	end game

	game Cs7Hodon
	parent StdGame
	method init
	push "cs7Hodon"
	clparent StdGame,init
	push "cs7finisz"
	cthis path=
	push A
	push "bg2.pyz"
	push "c7hodon.pyz 10"
	push "napis_koniec.pyzH "
	call ccs,getz
	pop $b
	popax
	add $a,$b
	cthis imgs=
	push "grkruki"
	push "kruki"
	push 15
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grkruki,nplay
	push A
	push "sndnar1"
	push "Nikt nawet nie zauway nieobecnoci gwnego prowodyra ostatnich zaj; Wkrtce mieszkacy Mirmiowa mieli tego srogo poaowa"
	push "Cs7Hodon0"
	push ":hodon1"
	push "Nie doceniem tej dwjki obdartych wojw i ich wsplnikw; Przekltej wiedmy Jagi i jej tpego osika; Gdyby nie oni miabym ca okolic w kieszeni; Ale ja jeszcze wrc; Wszystko tutaj bdzie moje"
	push "Cs7Hodon2"
	cthis sounds=
	push "timend"
	push 4000
	push "Cs7Hodon3"
	cthis timer=
	push "timend2"
	push 5000
	push "Cs7Hodon5"
	cthis timer=
	push A
	push "bgrgawronN 70"
	cthis sfxs=
	push "Cs7Hodon6"
	call ccs,enter
	end method
	method Cs7Hodon0
	push "go"
	push "Cs7Hodon1"
	call anc7hodon,anplayfin
	end method
	method Cs7Hodon1
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l3924
	push "talk"
	cthis play
	push "hodon1"
	cthis cbplay
	jmp l3923
l3924:
	cthis actionname
	push "stand"
	cmpje
	cmp0
	je l3926
	call timend,play
	call annapis_koniec,show
	push "zagrozenie2.ogg -v 50"
	call mus,playstr
l3926:
l3923:
	end method
	method Cs7Hodon2
	push "stand"
	call anc7hodon,play
	end method
	method Cs7Hodon3
	push "Cs7Hodon4"
	call ccs,close
	end method
	method Cs7Hodon4
	call ccs,show
	call timend2,play
	end method
	method Cs7Hodon5
	push igmkikpart
	push 1
	cmpje
	cmp0
	je l3928
	push "MainMenu"
	call gameapi,play
	jmp l3927
l3928:
	push "Cs10Chapter2"
	call gameapi,play
l3927:
	end method
	method Cs7Hodon6
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3930
	push 1
	cthis cactsndstop
l3930:
	end method
	end game

	game Cs10Chapter2
	parent StdGame
	method init
	push "cs10epizod2"
	clparent StdGame,init
	call modadvglob,delheros
	call clsave,free
	push "epizod"
	push "e10Warownia"
	call clsave,set
	push "adinwarownia"
	push "gameadinwarownia1"
	cthis gotoadv
	end method
	end game

	game Cs10Panorama
	parent StdGame
	method init
	push "cs10panorama"
	clparent StdGame,init
	push "cs1panorama"
	cthis path=
	push A
	push "panorama.pyz"
	push "znak.pyz 5"
	push "drzewa.pyz 10"
	push "ptak.pyzP 7"
	push "ptak2.pyzP 6"
	cthis imgs=
	push 0
	push 30
	popax
	sub 0,$a
	call anptak2,move
	push A
	push "sndnar1"
	push "Tymczasem w Mirmiowie"
	push "Cs10Panorama0"
	cthis sounds=
	push A
	push "bgrout2N"
	cthis sfxs=
	push "Cs10Panorama2"
	call ccs,enter
	end method
	method Cs10Panorama0
	push "Cs10Panorama1"
	call ccs,close
	end method
	method Cs10Panorama1
	push "Cs1Domek"
	call gameapi,play
	end method
	method Cs10Panorama2
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3932
	push 1
	cthis cactsndstop
l3932:
	end method
	end game

	game Cs11Kapral1
	parent StdGame
	method init
	push "cs11kapral1"
	clparent StdGame,init
	push "cs11kapral"
	cthis path=
	push A
	push "bg1.pyz"
	push "ziemia1.pyz 5"
	push "woda1.pyzP 3"
	push "kapral1.pyz 10"
	cthis imgs=
	push "onfinish"
	push "Cs11Kapral10"
	call ankapral1,addmethod
	push A
	push "sndnar1"
	push "Kiedy Kajko i Kokosz korzystali z hojnoci kaprala w karczmie kapral uda si do Mirmiowa"
	push "Cs11Kapral11"
	push ":kapral1"
	push "Nie mog uwierzy e tak atwo mi poszo z tymi dwoma baranami; Musz teraz upi czujno Mirmia"
	push "Cs11Kapral12"
	cthis sounds=
	push A
	push "bgrout2N"
	cthis sfxs=
	push "Cs11Kapral14"
	call ccs,enter
	end method
	method Cs11Kapral10
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l3934
	push "talk"
	call ankapral1,play
	push "kapral1"
	cthis cbplay
l3934:
	end method
	method Cs11Kapral11
	push "go"
	call ankapral1,play
	end method
	method Cs11Kapral12
	push "stand"
	call ankapral1,play
	push "Cs11Kapral13"
	call ccs,close
	end method
	method Cs11Kapral13
	push "Cs11Kapral2"
	call gameapi,play
	end method
	method Cs11Kapral14
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3936
	push 1
	cthis cactsndstop
l3936:
	end method
	end game

	game Cs11Kapral2
	parent StdGame
	method init
	push "cs11kapral2"
	clparent StdGame,init
	push "cs11kapral"
	cthis path=
	push A
	push "bg2.pyz"
	push "glejt2.pyz 5"
	push "mirmil2.pyzP 20"
	push "kapral2.pyz 30"
	cthis imgs=
	push "fkapral"
	push sgmfontitalic
	push 34
	cthis newfont
	new db,dbglejt
	push "lang/glejt.db"
	call dbglejt,load
	new gmimgvec,grtxt
	localint $1
	push 0
	pop $1
l3937:
	push $1
	call dbglejt,getrowsno
	cmpjl
	cmp0
	je l3938
	jmp l3940
l3939:
	add $1,1
	pop $1
	jmp l3937
l3940:
	localdef $2
	push "txtg"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	push $1
	push 0
	call dbglejt,get
	push "fkapral"
	cthis black
	cthis newtext
	push $2
	spushs
	push 10
	spop $a
	call [$a],setz
	push $2
	spushs
	call anglejt2,getcx
	push $2
	spushs
	spop $a
	call [$a],getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anglejt2,getpy
	push 120
	pop $b
	popax
	add $a,$b
	push 2
	push $2
	spushs
	spop $a
	call [$a],geth
	pop $b
	popax
	mul $a,$b
	push $1
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $2
	call grtxt,add
	jmp l3939
l3938:
	push "anglejt2"
	call grtxt,add
	push 100
	push 300
	call grtxt,move
	push "timcyk"
	push "Cs11Kapral20"
	cthis cycle=
	push A
	push "sndnar1"
	push "Jak powiedzia tak uczyni; Mirmi rozpozna pismo Kokosza i zezwoli kapralowi przebywa w grodzie; Ufny w spryt Kajka i Kokosza wkrtce wrci do swych zaj i zostawi kaprala bez opieki kontrwywiadowczej"
	push "Cs11Kapral21"
	cthis sounds=
	push A
	push "bgrout2N 70"
	cthis sfxs=
	push "Cs11Kapral23"
	call ccs,enter
	end method
	method Cs11Kapral20
	call anglejt2,getposx
	push 0
	cmpja
	cmp0
	je l3942
	push 1
	popax
	sub 0,$a
	push 3
	popax
	sub 0,$a
	call grtxt,move
	cthis play
	jmp l3941
l3942:
	push 1
	popax
	sub 0,$a
	call ankapral2,play
l3941:
	end method
	method Cs11Kapral21
	push "Cs11Kapral22"
	call ccs,close
	end method
	method Cs11Kapral22
	push "adwieza"
	push "gameadwieza1"
	cthis gotoadv
	end method
	method Cs11Kapral23
	call timcyk,play
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3944
	push 1
	cthis cactsndstop
l3944:
	end method
	end game

	game Wieza
	parent StdGame
	method init
	push "wieza"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "narzedzia.pyz 10"
	push "wieza.pyz 5"
	cthis imgs=
	push "grcur"
	push "curs"
	push 20
	cthis newgrimg
	push "grels"
	push "els"
	push 15
	cthis newgrimg
	push "grmask"
	push "maski"
	push 0
	cthis newgrimg
	call grmask,hide
	new Button,but1
	push "Wieza0"
	call grmask,eval
	new DelayMover,cmov
	push A
	push ":kajko1"
	push "Spjrz zbjcerze zostawili narzdzia przy wiey oblniczej"
	push "Wieza1"
	push ":kokosz1"
	push "To si nam trafia okazja; Zniszczmy wie i czmyhajmy do grodu"
	push "Wieza2"
	push ":kajko2"
	push "Nie; Zbuduj now i bd jej pilnowa; Mam lepszy pomys; Uyjmy te narzdzia do wprowadzenia kilku poprawek do konstrukcji"
	push "Wieza3"
	push ":kajko_mlot"
	push "Postukaem motkiem ale nic to nie dao"
	push "null"
	push ":kajko_pila"
	push "Pia tutaj nic nie zdziaa"
	push "null"
	push ":kajko_siekiera"
	push "Nie mam pomysu co mgbym zrobi t siekier"
	push "null"
	push ":kajko_wiadro"
	push "Wiadro z oliw; Tutaj si nie przyda"
	push "null"
	push ":kaj_1mask"
	push "Wybiem koek; Koo wypadnie z osi"
	push "Wieza4"
	push ":kokosz2"
	push "Oby nie za prdko"
	push "mcheck"
	push ":kaj_2mask"
	push "Wybijam koek"
	push "mcheck"
	push ":kaj_3mask"
	push "Przeciem podpor; Mam nadziej e konstrukcja nie zawali si zbyt wczenie"
	push "mcheck"
	push ":kaj_4mask"
	push "Przeciem sznurek midzy podporami; Bd lune"
	push "Wieza5"
	push ":kokosz3"
	push "Nie tnij za duo bo si rozsypie nim dojad pod way"
	push "mcheck"
	push ":kaj_6mask"
	push "Nadpiowaem koek podtrzymujcy pomost; Lepiej na nim nie stawa hihi"
	push "mcheck"
	push ":kaj_7mask"
	push "Nadpiowaem mostek; Lepiej dla zbjcerzy jeli bd wchodzi na niego pojedynczo"
	push "mcheck"
	push ":kaj_8mask"
	push "Wybij motem ten koek"
	push "mcheck"
	push ":kaj_9mask"
	push "Nadpiowaem podstaw wiey; Kiedy wszyscy na ni wejd powinna pkn"
	push "mcheck"
	push ":kaj_10mask"
	push "Posmarowaem oliw kocwk pomostu"
	push "Wieza6"
	push ":kokosz4"
	push "Kto zaliczy pikne wejcie na scen hi hi"
	push "mcheck"
	push ":kajko3"
	push "Dobrze wystarczy tych poprawek bo si wiea rozpadnie"
	push "Wieza7"
	push ":kokosz5"
	push "Wracajmy do domu eby zdy zje kolacj"
	push "Wieza8"
	push ":kajko4"
	push "Nasze przygody odbywaj si w rytm twoich kiszek; Mgby powstrzyma troch apetyt?"
	push "Wieza9"
	push ":kokosz6"
	push "A kto jutro bdzie sta na waach? Chcesz ebym zasab?"
	push "mend"
	cthis sounds=
	push A
	push "getpuz"
	push "piluje"
	push "mlot1"
	push "splash1"
	cthis sfxs=
	push "marsz.ogg -v 70 -l"
	call mus,playstr
	push "Wieza10"
	call ccs,enter
	end method
	method Wieza0
	cthis Button_isinvisalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	cthis getname
	call but1,add
	end method
	method Wieza1
	push "kokosz1"
	cthis cbplay
	end method
	method Wieza2
	push "kajko2"
	cthis cbplay
	end method
	method Wieza3
	call cmov,unlock
	push 1
	pop igmstate
	end method
	method Wieza4
	push "kokosz2"
	cthis cbplay
	end method
	method Wieza5
	push "kokosz3"
	cthis cbplay
	end method
	method Wieza6
	push "kokosz4"
	cthis cbplay
	end method
	method Wieza7
	push "kokosz5"
	cthis cbplay
	end method
	method Wieza8
	push "kajko4"
	cthis cbplay
	end method
	method Wieza9
	push "kokosz6"
	cthis cbplay
	end method
	method Wieza10
	push "kajko1"
	cthis cbplay
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3946
	ret
l3946:
	call mouse,getpos
	push 1
	push 1
	call grcur,isin
	cmp0
	je l3948
	call fxgetpuz,play
	localdef $1
	call grcur,getsfound
	pop $1
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
l3948:
	end method
	method mend
	push "Wieza11"
	call ccs,close
	end method
	method Wieza11
	push "adwarownia"
	push "gameadwarownia1"
	cthis gotoadv
	end method
	method cmov_PUT
	localstring $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	spushs
	push 20
	spop $a
	call [$a],setz
	call mouse,getpos
	push 0
	push 1
	call grmask,isin
	cmp0
	je l3950
	localstring $2
	call grmask,getsfound
	spushs
	spop $a
	call [$a],actionname
	pop $2
	localstring $3
	push $1
	spushs
	spop $a
	call [$a],actionname
	pop $3
	push $2
	spushs
	push "1mask"
	cmpst
	jne l3952
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "mlot"
	cthis mput
	jmp l3951
l3952:
	push "2mask"
	cmpst
	jne l3953
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "mlot"
	cthis mput
	jmp l3951
l3953:
	push "3mask"
	cmpst
	jne l3954
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "siekiera"
	cthis mput
	jmp l3951
l3954:
	push "4mask"
	cmpst
	jne l3955
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "siekiera"
	cthis mput
	jmp l3951
l3955:
	push "6mask"
	cmpst
	jne l3956
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "pila"
	cthis mput
	jmp l3951
l3956:
	push "7mask"
	cmpst
	jne l3957
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "pila"
	cthis mput
	jmp l3951
l3957:
	push "8mask"
	cmpst
	jne l3958
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "mlot"
	cthis mput
	jmp l3951
l3958:
	push "9mask"
	cmpst
	jne l3959
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "pila"
	cthis mput
	jmp l3951
l3959:
	push "10mask"
	cmpst
	jne l3960
	spop $a
	call grmask,getsfound
	push $2
	push $3
	push "wiadro"
	cthis mput
	jmp l3951
l3960:
	spop $a
l3951:
l3950:
	end method
	method mcheck
	call grmask,size
	cmp0
	je l3962
	push 1
	pop igmstate
	jmp l3961
l3962:
	push "kajko3"
	cthis cbplay
l3961:
	end method
	method mput
	localstring $1
	localstring $2
	localstring $3
	localstring $4
	pop $4
	pop $3
	pop $2
	pop $1
	push $3
	spushs
	push "mlot"
	cmpst
	je l3965
	push "siekiera"
	cmpst
	je l3965
	jmp l3964
l3965:
	spop $a
	call fxmlot1,play
	jmp l3963
l3964:
	push "pila"
	cmpst
	jne l3966
	spop $a
	call fxpiluje,play
	jmp l3963
l3966:
	push "wiadro"
	cmpst
	jne l3967
	spop $a
	call fxsplash1,play
	jmp l3963
l3967:
	spop $a
l3963:
	push $3
	push $4
	cmpje
	cmp0
	je l3969
	push $1
	call grmask,remove
	push $1
	spushs
	spop $a
	call [$a],butmoveoff
	push $1
	call but1,removebut
	push "mask"
	call $2,strsubes
	call grels,getsac
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push 2
	pop igmstate
	push "kaj_"
	push $2
	pop $b
	popax
	add $a,$b
	cthis cbplay
	jmp l3968
l3969:
	push $3
	cthis mups
l3968:
	end method
	method mups
	localstring $1
	pop $1
	push "kajko_"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mouse_lclick
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l3971
	cthis mend
l3971:
	end method
	end game

	game Cs12Wieza
	parent StdGame
	method init
	push "cs12wieza"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "wieza.pyz 20"
	push "narzedzia.pyz 30"
	push "maska.pyz 100"
	push "kajko.pyz 10"
	push "kokosz.pyz 10"
	cthis imgs=
	push "timgo"
	push 1000
	push "Cs12Wieza0"
	cthis timer=
	push A
	push "bgrgawronN 30"
	cthis sfxs=
	push "Cs12Wieza3"
	call ccs,enter
	end method
	method Cs12Wieza0
	push 0
	push "Cs12Wieza1"
	call ankajko,anplayfin
	end method
	method Cs12Wieza1
	push "Cs12Wieza2"
	call ccs,close
	end method
	method Cs12Wieza2
	push "Wieza"
	call gameapi,play
	end method
	method Cs12Wieza3
	push 0
	call ankokosz,play
	call timgo,play
	end method
	method mouse_lclick
	end method
	end game

	game Cs13Most
	parent StdGame
	method init
	push "cs13most"
	clparent StdGame,init
	push "grbg"
	push "bg1"
	push 0
	cthis newgrimg
	push "grgrod"
	push "grod"
	push 10
	cthis newgrimg
	push A
	push "wit.pyz 5"
	push "drzwi.pyz 15"
	push "woda.pyzP 20"
	push "most.pyz 30"
	push "ground.pyz 40"
	push "maska.pyz 50"
	cthis imgs=
	push "kokosz"
	push "$scripts/heroes/kokosz.pyz"
	push 45
	cthis newanima
	push "kajko"
	push "$scripts/heroes/kajko.pyz"
	push 45
	cthis newanima
	push A
	push ":kokosz1"
	push "Na Trygawa i Swaroga! Brama zamknita! Jak moglimy zapomnie; Niech to Swaroyc zasiarczy!"
	push "Cs13Most0"
	push ":kajko1"
	push "Nie przeklinaj! Zaraz co wymylimy"
	push "Cs13Most1"
	push ":kokosz2"
	push "Ciekawe co? Nie mamy ju liny i mojej chochli; Bdziemy tu tkwi do rana a przyjd Zbjcerze? Co za osy zostay w Mirmiowie; Nie wystawili nawet stray! Kto ich upilnuje bez nas?"
	push "Cs13Most2"
	push ":kajko2"
	push "Jak nocujemy w grodzie to te nie wystawiamy stray"
	push "Cs13Most3"
	push ":kokosz3"
	push "To co innego"
	push "Cs13Most4"
	push ":kajko3"
	push "Cii co widz; Zaraz czy to nie Wit? Wit! To ty?"
	push "Cs13Most5"
	push ":wit1"
	push "Z serca Wita opad zmrok na Kajka i Kokosza widok"
	push "Cs13Most6"
	push ":kokosz4"
	push "Czekae na nas? Co si stao?"
	push "Cs13Most7"
	push ":wit2"
	push "Gdy Mirmia woje spoczli w gospodzie Kapral dziwne rzeczy powyprawia w grodzie"
	push "Cs13Most8"
	push ":kokosz5"
	push "Biada nam! Wpucilimy tego wa do grodu! Trygaw jeden moe wiedzie jakich szkd nam narobi"
	push "Cs13Most9"
	push ":kajko5"
	push "Nie czas na biadolenie; Wit otwrz nam bram i zosta na warcie; My si rozejrzymy w grodzie"
	push "Cs13Most10"
	cthis sounds=
	push "onfinish"
	push "Cs13Most11"
	call anwit,addmethod
	new int,kokoh
	call kokosz,geth
	pop kokoh
	new int,kakoh
	call kajko,geth
	pop kakoh
	new int,iVy
	push 15
	popax
	sub 0,$a
	pop iVy
	push "onendframe"
	push "Cs13Most15"
	call kokosz,addmethod
	push "onendframe"
	push "Cs13Most16"
	call kajko,addmethod
	push "onfinish"
	push "Cs13Most17"
	call kokosz,addmethod
	push "onfinish"
	push "Cs13Most18"
	call kajko,addmethod
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call kokosz,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push iResY
	push kokoh
	pop $b
	popax
	add $a,$b
	call kokosz,setpos
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call kajko,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	push iResY
	push kokoh
	pop $b
	popax
	add $a,$b
	call kajko,setpos
	push "gouu"
	call kajko,play
	push "gouu"
	call kokosz,play
	push A
	push "bgrzabyN 20"
	push "sowa1N 20"
	push "otwieradrzwi1"
	push "otwierabrame"
	cthis sfxs=
	push "timgo1"
	push 2000
	push "Cs13Most19"
	cthis timer=
	end method
	method Cs13Most0
	cthis kostop
	push "kajko1"
	cthis kasay
	end method
	method Cs13Most1
	cthis kastop
	push "kokosz2"
	cthis kosay
	end method
	method Cs13Most2
	cthis kostop
	push "kajko2"
	cthis kasay
	end method
	method Cs13Most3
	push "kokosz3"
	cthis kos
	end method
	method Cs13Most4
	push "enter"
	call anwit,play
	push "kajko3"
	cthis kas
	end method
	method Cs13Most5
	cthis kastop
	push "wit1"
	cthis mwit
	end method
	method Cs13Most6
	cthis witstop
	push "kokosz4"
	cthis kosay
	end method
	method Cs13Most7
	cthis kostop
	push "wit2"
	cthis mwit
	end method
	method Cs13Most8
	cthis witstop
	push "kokosz5"
	cthis kosay
	end method
	method Cs13Most9
	push "kajko5"
	cthis kas
	end method
	method Cs13Most10
	cthis kastop
	push "close"
	call anwit,play
	end method
	method Cs13Most11
	cthis actionname
	push "close"
	cmpje
	cmp0
	je l3973
	call fxotwieradrzwi1,play
	push 0
	push "Cs13Most12"
	call anmost,anplayfin
l3973:
	end method
	method Cs13Most12
	call fxotwierabrame,play
	push 0
	push "Cs13Most13"
	call andrzwi,anplayfin
	end method
	method Cs13Most13
	push "Cs13Most14"
	call ccs,close
	end method
	method Cs13Most14
	push "adgrod"
	push "gameadgrod1"
	cthis gotoadv
	end method
	method Cs13Most15
	cthis actionname
	spushs
	push "gouu"
	cmpst
	jne l3975
	spop $a
	cthis getposy
	push iResY
	push kokoh
	push 4
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l3977
	push "standuu"
	call kokosz,play
	push "standuu"
	call kajko,play
	call timgo1,play
	jmp l3976
l3977:
	push 0
	push iVy
	cthis move
l3976:
	jmp l3974
l3975:
	spop $a
l3974:
	end method
	method Cs13Most16
	cthis actionname
	spushs
	push "gouu"
	cmpst
	jne l3979
	spop $a
	push 0
	push iVy
	cthis move
	jmp l3978
l3979:
	spop $a
l3978:
	end method
	method Cs13Most17
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method Cs13Most18
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method Cs13Most19
	push "kokosz1"
	cthis kosay
	end method
	method mwit
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anwit,play
	end method
	method witstop
	push "stand"
	call anwit,play
	end method
	method kos
	localstring $1
	pop $1
	cthis kastop
	push $1
	cthis kosay
	end method
	method kas
	localstring $1
	pop $1
	cthis kostop
	push $1
	cthis kasay
	end method
	method kosay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talkuu"
	call kokosz,play
	end method
	method kasay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talkuu"
	call kajko,play
	end method
	method kostop
	push "standuu"
	call kokosz,play
	end method
	method kastop
	push "standuu"
	call kajko,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3981
	push 1
	cthis cactsndstop
l3981:
	end method
	end game

	game Cs14Podstep
	parent StdGame
	method init
	push "cs14podstep"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kaphand.pyz 10"
	push "oferma.pyzP 20"
	push "kapral.pyz 20"
	cthis imgs=
	push A
	push ":kapral1"
	push "Kiedy nasi zaatakuj grd czoowo my zakradniemy si od tyu"
	push "Cs14Podstep0"
	push ":kapral2"
	push "Przywiemy Barana do wycigu i bdziesz krci korbk"
	push "Cs14Podstep1"
	push ":kapral3"
	push "A znajd si na terenie wroga; Wtedy uderz w obrocw od rodka i otworz bram naszym"
	push "Cs14Podstep2"
	cthis sounds=
	push A
	push "bgrgawronN 30"
	cthis sfxs=
	push "Cs14Podstep4"
	call ccs,enter
	end method
	method Cs14Podstep0
	push 0
	call ankaphand,play
	push "kapral2"
	cthis cbplay
	end method
	method Cs14Podstep1
	push 1
	call ankaphand,play
	push "kapral3"
	cthis cbplay
	end method
	method Cs14Podstep2
	push "Cs14Podstep3"
	call ccs,close
	end method
	method Cs14Podstep3
	push "adwarownia"
	push "gameadwarownia1"
	cthis gotoadv
	end method
	method Cs14Podstep4
	push 0
	call ankapral,play
	push "kapral1"
	cthis cbplay
	end method
	method mouse_lclick
	end method
	end game

	game Cs16Eter
	parent StdGame
	method init
	push "cs16eter"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "hegemon.pyz 10"
	push "kapral.pyz 15"
	push "eter.pyzH 20"
	push "oferma.pyzH 25"
	push "hodon.pyz 30"
	push "kamienie.pyz 40"
	cthis imgs=
	push "onfinish"
	push "Cs16Eter0"
	call ankapral,addmethod
	push "onfinish"
	push "Cs16Eter1"
	call anoferma,addmethod
	push A
	push ":hegemon1"
	push "Hodonie gdzie rodek usypiajcy ktry obezwadni naszych wrogw?"
	push "Cs16Eter2"
	push ":hodon1"
	push "Mam go tutaj wodzu"
	push "Cs16Eter5"
	push ":hegemon2"
	push "Zaraz sprawdzimy czy nie blefujesz; Kapralu! Powchajcie eliksir"
	push "Cs16Eter6"
	push ":kapral1"
	push "Ekchem wodzu; Mam dzi wyznaczone wane zadanie; Niech Oferma sprbuje"
	push "Cs16Eter7"
	push ":hegemon3"
	push "Dobrze byle szybciej! Chc zobaczy jak to dziaa!"
	push "Cs16Eter8"
	push ":kapral2"
	push "Ofermo! Powchaj eliksir!"
	push "Cs16Eter11"
	push ":oferma1"
	push "Dlaczego zawsze ja?"
	push "Cs16Eter12"
	push ":kapral3"
	push "Nie dyskutuj! Wchaj!"
	push "Cs16Eter13"
	push ":hegemon4"
	push "Zasn"
	push "Cs16Eter14"
	push ":kapral4"
	push "Hurra! Eliksir dziaa!"
	push "Cs16Eter15"
	push ":hegemon5"
	push "Co z nim teraz zrobimy? Niech wstaje! Wszyscy s potrzebni do walki"
	push "Cs16Eter16"
	push ":kapral5"
	push "Chyba; Chyba za gboko pi"
	push "Cs16Eter17"
	cthis sounds=
	push A
	push "bgrout2N 80"
	push "chrap1"
	push "uderzwstol 80"
	cthis sfxs=
	push "Cs16Eter19"
	call ccs,enter
	end method
	method Cs16Eter0
	cthis actionname
	spushs
	push "odwrot"
	cmpst
	jne l3983
	spop $a
	push "kapral1"
	cthis cbplay
	push "on"
	call ankapral,play
	jmp l3982
l3983:
	spop $a
l3982:
	end method
	method Cs16Eter1
	cthis actionname
	push "niuch"
	cmpje
	cmp0
	je l3985
	push "hegemon4"
	cthis hesay
l3985:
	end method
	method Cs16Eter2
	cthis hestop
	push "Cs16Eter3"
	push "Cs16Eter4"
	call ccs,playfin
	end method
	method Cs16Eter3
	call aneter,show
	end method
	method Cs16Eter4
	push "hodon1"
	cthis hosay
	end method
	method Cs16Eter5
	cthis hostop
	push "hegemon2"
	cthis hesay
	end method
	method Cs16Eter6
	cthis hestop
	push "odwrot"
	call ankapral,play
	end method
	method Cs16Eter7
	push "czeka"
	call ankapral,play
	push "hegemon3"
	cthis hesay
	end method
	method Cs16Eter8
	cthis hestop
	push "Cs16Eter9"
	push "Cs16Eter10"
	call ccs,playfin
	end method
	method Cs16Eter9
	push "stand"
	call anoferma,play
	end method
	method Cs16Eter10
	push "kapral2"
	cthis cbplay
	push "teraz"
	call ankapral,play
	end method
	method Cs16Eter11
	push "czeka"
	call ankapral,play
	push "oferma1"
	cthis ofsay
	end method
	method Cs16Eter12
	cthis ofstop
	push "teraz"
	call ankapral,play
	push "kapral3"
	cthis cbplay
	end method
	method Cs16Eter13
	push "czeka"
	call ankapral,play
	push "niuch"
	call anoferma,play
	end method
	method Cs16Eter14
	cthis hestop
	push "kapral4"
	cthis kasay
	push "wstawka_zboje.ogg -v 50"
	call mus,playstr
	end method
	method Cs16Eter15
	cthis kastop
	push "hegemon5"
	cthis hesay
	end method
	method Cs16Eter16
	cthis hestop
	push "kapral5"
	cthis kasay
	end method
	method Cs16Eter17
	cthis kastop
	push "Cs16Eter18"
	call ccs,close
	end method
	method Cs16Eter18
	push "Cs17Ciagna"
	call gameapi,play
	end method
	method Cs16Eter19
	push "hegemon1"
	cthis hesay
	end method
	method hesay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhegemon,play
	end method
	method hestop
	push "stand"
	call anhegemon,play
	end method
	method hosay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhodon,play
	end method
	method hostop
	push "stand"
	call anhodon,play
	end method
	method kasay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call ankapral,play
	end method
	method kastop
	push "stand"
	call ankapral,play
	end method
	method ofsay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anoferma,play
	end method
	method ofstop
	push "stand"
	call anoferma,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3987
	push 1
	cthis cactsndstop
l3987:
	end method
	end game

	game Cs17Ciagna
	parent StdGame
	method init
	push "cs17ciagna"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "hodon.pyz 30"
	push "wieza.pyzP 40"
	push "hegemon.pyz 50"
	push "oferma.pyz 60"
	cthis imgs=
	push "grp1"
	push "plan1"
	push 10
	cthis newgrimg
	push "grliny"
	push "liny"
	push 17
	cthis newgrimg
	push 550
	push 0
	call grliny,move
	push "grz"
	push "zboje"
	push 20
	cthis newgrimg
	push "grp2"
	push "plan2"
	push 70
	cthis newgrimg
	push "grp3"
	push "plan3"
	push 80
	cthis newgrimg
	new gmimgvec,grels
	push A
	push "grz"
	push "anhodon"
	push "anwieza"
	push "anhegemon"
	push "anoferma"
	push "grliny"
	call grels,addlist
	new gmimgvec,grall
	push A
	push "grels"
	push "anbkg"
	push "grp1"
	push "grp2"
	push "grp3"
	call grall,addlist
	push A
	push ":kapral1"
	push "wawiej! Nie ociga si! Zaskoczenie w Mirmiowie bdzie totalne!"
	push "null"
	push ":kapral2"
	push "Posieczemy utopimy porbiemy udusimy! Hej hej ha!"
	push "Cs17Ciagna0"
	push ":kapral3"
	push "Podpalimy rozerwiemy powiesimy poamiemy! Hej hej ha!"
	push "Cs17Ciagna1"
	cthis sounds=
	push iResX
	call anbkg,getw
	pop $b
	popax
	sub $a,$b
	push 0
	call grall,move
	push 270
	push 0
	call grels,move
	push "timcyk"
	push "Cs17Ciagna3"
	cthis cycle=
	call timcyk,play
	push A
	push "bgrlas2N 80"
	push "kolowrot2N 50"
	cthis sfxs=
	push "Cs17Ciagna4"
	call ccs,enter
	end method
	method Cs17Ciagna0
	push "kapral3"
	cthis cbplay
	end method
	method Cs17Ciagna1
	push "Cs17Ciagna2"
	call ccs,close
	end method
	method Cs17Ciagna2
	push "Cs18Waly"
	call gameapi,play
	end method
	method Cs17Ciagna3
	call anbkg,getpx
	push 0
	cmpjl
	cmp0
	je l3989
	call grp1,_getpx
	push 0
	cmpjl
	cmp0
	je l3989
	call grp2,_getpx
	push 0
	cmpjl
	cmp0
	je l3989
	call grp3,_getpx
	push 0
	cmpjl
	jmp l3991
l3989:
	push 0
	jmp l3991
l3990:
	push 1
l3991:
	cmp0
	je l3992
	push 1
	push 0
	call anbkg,move
	push 2
	push 0
	call grp1,move
	push 3
	push 0
	call grp2,move
	push 4
	push 0
	call grp3,move
	cthis play
	jmp l3988
l3992:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l3994
	push "kapral2"
	cthis cbplay
	push 1
	pop igmstate
l3994:
	push 2
	popax
	sub 0,$a
	push 0
	call grels,move
	cthis play
l3988:
	end method
	method Cs17Ciagna4
	push "kapral1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3996
	push 1
	cthis cactsndstop
l3996:
	end method
	end game

	game Cs18Waly
	parent StdGame
	method init
	push "cs18waly"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "bg2.pyz 10"
	push "flaga.pyzP 20"
	push "zboje1.pyz 30"
	push "zboje2.pyz 40"
	push "hegemon.pyz 50"
	push "tarcza.pyz 60"
	push "pieniek.pyz 70"
	push "hodon.pyz 80"
	push "kapral.pyz 90"
	push "oferma.pyzP 100"
	cthis imgs=
	push "grob"
	push "obroncy"
	push 5
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grob,nplay
	push "grwiez"
	push "wieze"
	push 15
	cthis newgrimg
	push A
	push "sndnar1"
	push "Tymczasem grodzianie dobrze przygotowali si do obrony"
	push "Cs18Waly0"
	push ":hegemon1"
	push "Skd wiedzieli o naszym ataku?"
	push "Cs18Waly1"
	push ":hodon1"
	push "Teraz to ju niewane; Mamy przewag w postaci planu i siy uderzeniowej"
	push "Cs18Waly2"
	push ":kapral1"
	push "Wodzu melduj e Oferma si zbudzi"
	push "Cs18Waly3"
	push ":hegemon2"
	push "To cudownie; Kapralu daj rozkaz ataku na way zmikczymy troch obrocw; Wznios okrzyki motywujce"
	push "Cs18Waly4"
	push ":kapral2"
	push "Tak jest wodzu!"
	push "Cs18Waly5"
	cthis sounds=
	push A
	push "bgrwiatr2N 30"
	push "wojeN 20"
	cthis sfxs=
	push "Cs18Waly7"
	call ccs,enter
	end method
	method Cs18Waly0
	push "hegemon1"
	cthis hesay
	end method
	method Cs18Waly1
	cthis hestop
	push "hodon1"
	cthis hosay
	end method
	method Cs18Waly2
	cthis hostop
	push "kapral1"
	cthis kasay
	end method
	method Cs18Waly3
	cthis kastop
	push "hegemon2"
	cthis hesay
	end method
	method Cs18Waly4
	cthis hestop
	push "kapral2"
	cthis kasay
	end method
	method Cs18Waly5
	cthis kastop
	push "Cs18Waly6"
	call ccs,close
	end method
	method Cs18Waly6
	push "Cs19Waly2"
	call gameapi,play
	end method
	method Cs18Waly7
	push "sndnar1"
	cthis cbplay
	end method
	method hesay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhegemon,play
	end method
	method hestop
	push "stand"
	call anhegemon,play
	end method
	method hosay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhodon,play
	end method
	method hostop
	push "stand"
	call anhodon,play
	end method
	method kasay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call ankapral,play
	end method
	method kastop
	push "stand"
	call ankapral,play
	end method
	method ofsay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anoferma,play
	end method
	method ofstop
	push "stand"
	call anoferma,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l3998
	push 1
	cthis cactsndstop
l3998:
	end method
	end game

	game Cs19Waly2
	parent StdGame
	method init
	push "cs19waly2"
	clparent StdGame,init
	push "cs18waly"
	cthis path=
	push A
	push "bkg.pyz"
	push "bg2.pyz 10"
	push "wieze.pyz 15"
	push "hegemon2.pyz 25"
	push "drabiny.pyzP 30"
	cthis imgs=
	push "grob"
	push "obroncy"
	push 5
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grob,nplay
	push "grzb"
	push "zboje"
	push 40
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grzb,nplay
	push A
	push ":hegemon1"
	push "Naprzd Zbjcerze! Wybia nasza godzina! Jeszcze dzi wypijemy mid z piwnicy Mirmia!"
	push "Cs19Waly20"
	push ":mirmil1"
	push "Niedoczekanie twoje obuzie! Pokaemy wam gdzie raki zimuj!"
	push "Cs19Waly21"
	push ":lubawa1"
	push "Piknie mu powiedziae Mirmiku"
	push "Cs19Waly22"
	push ":hegemon2"
	push "Cha cha! Wkrtce sam porozmawiasz z rakami jak ci wrzuc do jeziora ryby nakarmi! Do boju Zbjcerze!"
	push "Cs19Waly23"
	cthis sounds=
	push "timend"
	push 1000
	push "Cs19Waly25"
	cthis timer=
	push A
	push "bgrwiatr2N 30"
	push "wojeN 20"
	cthis sfxs=
	push "Cs19Waly27"
	call ccs,enter
	end method
	method Cs19Waly20
	cthis hestop
	push "mirmil1"
	cthis cbplay
	end method
	method Cs19Waly21
	push "lubawa1"
	cthis cbplay
	end method
	method Cs19Waly22
	push "hegemon2"
	cthis hesay
	end method
	method Cs19Waly23
	push "go"
	call anhegemon2,play
	push "go"
	push "Cs19Waly24"
	call andrabiny,anplayfin
	end method
	method Cs19Waly24
	call timend,play
	end method
	method Cs19Waly25
	push "Cs19Waly26"
	call ccs,close
	end method
	method Cs19Waly26
	push "Waly"
	call gameapi,play
	end method
	method Cs19Waly27
	push "hegemon1"
	cthis hesay
	end method
	method hesay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push "talk"
	call anhegemon2,play
	end method
	method hestop
	push "stand"
	call anhegemon2,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4000
	push 1
	cthis cactsndstop
l4000:
	end method
	end game

	game Waly
	parent StdGame
	method init
	push "waly"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "waly.pyz 50"
	push "lewy.pyzP 60"
	push "butkajko.pyz 100"
	push "butkokosz.pyz 100"
	push "kajko.pyz 60"
	push "kokosz.pyz 65"
	push "pocisk.pyzH 90"
	push "z0_1.pyzH 40"
	push "z0_2.pyzH 40"
	push "z1_1.pyzH 40"
	push "z1_2.pyzH 40"
	push "z2_1.pyzH 40"
	push "z2_2.pyzH 40"
	push "drabiny.pyz 45"
	push "cebula.pyzH 50"
	push "reka.pyzH 50"
	push "glowy.pyz 60"
	cthis imgs=
	push A
	push "szturmN 30"
	push "miecz1"
	push "miecz2"
	push "miecz3"
	push "cios1"
	push "cios2"
	push "cios3"
	push "zamach2"
	push "zamach3"
	cthis sfxs=
	push "bebny2.ogg -v 50"
	call mus,playstr
	new Button,but
	localint $1
	push 40
	pop $1
	new gmimgvec,grmir
	new gmimgvec,grheg
	localint $2
	push 85
	pop $2
	localint $3
	localint $4
	push 0
	pop $4
l4001:
	push $4
	push $1
	cmpjl
	cmp0
	je l4002
	jmp l4004
l4003:
	add $4,1
	pop $4
	jmp l4001
l4004:
	push 5
	push 0.5
	call anglowy,geth
	push $4
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	pop $3
	localdef $5
	push "anmir"
	push $4
	pop $b
	popax
	add $a,$b
	pop $5
	push "anglowy"
	push $5
	cthis copyanima
	push $5
	spushs
	push $3
	push $2
	spop $a
	call [$a],setpos
	push $5
	call grmir,add
	push "anheg"
	push $4
	pop $b
	popax
	add $a,$b
	pop $5
	push "anglowy"
	push $5
	cthis copyanima
	push $5
	spushs
	push 1
	push 0
	spop $a
	call [$a],setframe
	push $5
	spushs
	push $3
	push $2
	push 5
	pop $b
	popax
	add $a,$b
	call anglowy,geth
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push $5
	call grheg,add
	jmp l4003
l4002:
	call anglowy,hide
	new int,ieasymodifier
	push 0
	pop ieasymodifier
	push bModeEasy
	cmp0
	je l4006
	push 8
	pop ieasymodifier
	push 0
	pop $4
l4007:
	push $4
	push ieasymodifier
	cmpjl
	cmp0
	je l4008
	jmp l4010
l4009:
	add $4,1
	pop $4
	jmp l4007
l4010:
	call grheg,last
	spushs
	spop $a
	call [$a],hide
	call grheg,removelast
	jmp l4009
l4008:
l4006:
	new classplacepointer2,clp
	push A
	push "sndnar1"
	push "Kajko i Kokosz odpieraj szturm Zbjcerzy"
	push "Waly0"
	push "sndnar2"
	push "Przeno pi na wdzierajcych si na way Zbjcerzy aby Kokosz ich strca"
	push "Waly1"
	push "sndnar3"
	push "Jeli Kokosz jest za daleko od napastnika przenie na Zbjcerza cebul; Wwczas Kajko strci go celnym rzutem"
	push "Waly2"
	push "sndnar4"
	push "Nie naduywaj jednak rzucania bo amunicja moe si za szybko skoczy"
	push "Waly3"
	push "sndnar5"
	push "Do dziea!"
	push "Waly4"
	push ":kajko1"
	push "Id!"
	push "null"
	push ":o_kajko0"
	push "Walcz Kokosz!"
	push "null"
	push ":o_kajko1"
	push "Przy mu!"
	push "null"
	push ":o_kajko2"
	push "Nie odpuszczaj!"
	push "null"
	push ":o_kajko3"
	push "A masz!"
	push "null"
	push ":o_kajko4"
	push "Precz z grodu zbju!"
	push "null"
	push ":o_kokosz0"
	push "A kysz!"
	push "null"
	push ":o_kokosz1"
	push "A pan gdzie?"
	push "null"
	push ":o_kokosz2"
	push "Wynocha!"
	push "null"
	push ":o_kokosz3"
	push "A masz!"
	push "null"
	push ":o_kokosz4"
	push "Wracaj na d!"
	push "null"
	push ":zboj0"
	push "Bueee!"
	push "null"
	push ":zboj1"
	push "Auu!"
	push "null"
	push ":zboj2"
	push "Ojojoj!"
	push "null"
	push ":zboj3"
	push "orety!"
	push "null"
	push ":zboj4"
	push "Abuabuabua!"
	push "null"
	push ":zboj5"
	push "Ajajaj!"
	push "null"
	push ":zboj6"
	push "Aaaaaa!"
	push "null"
	push ":zboj7"
	push "Hegemonie ratuj!"
	push "null"
	push ":zboj8"
	push "A!"
	push "null"
	push ":zboj9"
	push "osz!"
	push "null"
	push "sndnar6"
	push "Grodzianie walczyli jak lwy jednak Zbjcerze wygrali ten etap bitwy; Kiedy wydawao si e walka przegrana Mirmi zawoa"
	push "Waly5"
	push ":mirmil1"
	push "Wstawajcie moje zuchy! Damy rad!"
	push "Waly6"
	push "sndnar7"
	push "Kajko i Kokosz jeszcze raz poderwali si do boju i wszystko zaczo si od nowa"
	push "Waly7"
	push "sndnar8"
	push "Fala nacierajcych Zbjcerzy zaamaa si; Grodzianie odnieli pierwsze zwycistwo"
	push "Waly8"
	push ":kokosz1"
	push "Hurra! Odnielimy pierwsze zwycistwo!"
	push "Waly9"
	cthis sounds=
	new string,soko_kajko
	push 5
	push 2
	call soko_kajko,mokrzykinit
	new string,soko_kokosz
	push 5
	push 2
	call soko_kokosz,mokrzykinit
	new string,sokzboj
	push 10
	push 2
	call sokzboj,mokrzykinit
	new gmimgvec,gram
	push "gram"
	push "amunicja.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	push 55
	call gram,setz
	push "onfinish"
	push "Waly10"
	call anpocisk,addmethod
	push "dbzboj"
	push "waly.db"
	cthis newdb
	new int,ilezboj
	new int,iidzboj
	push 0
	pop iidzboj
	new gmimgvec,grzb
	push A
	push "anz0_1"
	push "anz0_2"
	push "anz1_1"
	push "anz1_2"
	push "anz2_1"
	push "anz2_2"
	call grzb,addlist
	push "Waly11"
	call grzb,eval
	new int,ikajkotarget
	push 0
	pop ikajkotarget
	new string,skokotarget
	push "u"
	pop skokotarget
	push "ankokosz"
	push "anko"
	cthis copyanima
	call anko,hide
	push "u"
	call ankokosz,mpos
	push "onendframe"
	push "Waly15"
	call ankokosz,addmethod
	push "onfinish"
	push "Waly16"
	call ankokosz,addmethod
	push "onendframe"
	push "Waly17"
	call ankajko,addmethod
	new DelayMover,cmov
	call cmov,unlock
	new string,scelnik
	call anbutkajko,Waly18
	call anbutkokosz,Waly19
	push "Waly20"
	call ccs,enter
	end method
	method Waly0
	push "anbutkokosz"
	push "uu"
	call clp,showob
	push "sndnar2"
	cthis cbplay
	end method
	method Waly1
	push "anbutkajko"
	push "uu"
	call clp,showob
	push "sndnar3"
	cthis cbplay
	end method
	method Waly2
	call gram,first
	push "rd"
	call clp,showob
	push "sndnar4"
	cthis cbplay
	end method
	method Waly3
	call clp,stoph
	push "sndnar5"
	cthis cbplay
	end method
	method Waly4
	push 1
	pop igmstate
	cthis mnextzboj
	end method
	method Waly5
	push "mirmil1"
	cthis cbplay
	end method
	method Waly6
	push "sndnar7"
	cthis cbplay
	end method
	method Waly7
	push "Waly"
	call gameapi,play
	end method
	method Waly8
	push "kokosz1"
	cthis cbplay
	end method
	method Waly9
	push "Cs20Pobojowisko"
	call gameapi,play
	end method
	method Waly10
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4012
	ret
l4012:
	cthis hide
	push 1
	popax
	sub 0,$a
	cthis actionnr
	cthis mbumzboj
	call soko_kajko,mokrzyk
	end method
	method Waly11
	push "onfinish"
	push "Waly12"
	cthis addmethod
	push "onendframe"
	push "Waly13"
	cthis addmethod
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	cthis getname
	call but,add
	end method
	method Waly12
	cthis actionname
	spushs
	push "in"
	cmpst
	jne l4014
	spop $a
	push "inb"
	cthis play
	jmp l4013
l4014:
	push "inb"
	cmpst
	je l4016
	push "hit"
	cmpst
	je l4016
	jmp l4015
l4016:
	spop $a
	push "hit"
	cthis play
	jmp l4013
l4015:
	push "out"
	cmpst
	jne l4017
	spop $a
	cthis hide
	sub ilezboj,1
	pop ilezboj
	push ilezboj
	push 0
	cmpje
	cmp0
	je l4019
	cthis mnextzboj
l4019:
	jmp l4013
l4017:
	spop $a
l4013:
	end method
	method Waly13
	cthis framename
	push "hit"
	cmpje
	cmp0
	je l4021
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4023
	ret
l4023:
	push "miecz"
	push 3
	cthis msfx
	call grmir,last
	spushs
	spop $a
	call [$a],hide
	call grmir,removelast
	call grmir,empty
	cmp0
	je l4025
	push 2
	pop igmstate
	push "Waly14"
	call ccs,close
l4025:
l4021:
	end method
	method Waly14
	push "sndnar6"
	cthis cbplay
	call ccs,show
	end method
	method Waly15
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4027
	ret
l4027:
	localstring $1
	cthis actionname
	pop $1
	localint $2
	localint $3
	localint $4
	localint $5
	localint $6
	push 24
	pop $6
	push $1
	spushs
	push "gor"
	cmpst
	je l4030
	push "gol"
	cmpst
	je l4030
	jmp l4029
l4030:
	spop $a
	push skokotarget
	cthis mgetpos
	pop $3
	pop $2
	push $1
	push "gor"
	cmpje
	cmp0
	je l4032
	call ankokosz,getcx
	push $6
	pop $b
	popax
	add $a,$b
	push $2
	cmpjae
	jmp l4034
l4032:
	push 0
	jmp l4034
l4033:
	push 1
l4034:
	cmp0
	jne l4036
	push $1
	push "gol"
	cmpje
	cmp0
	je l4037
	call ankokosz,getcx
	push $6
	pop $b
	popax
	sub $a,$b
	push $2
	cmpjle
	jmp l4039
l4037:
	push 0
	jmp l4039
l4038:
	push 1
l4039:
	jmp l4040
l4035:
	push 0
	jmp l4040
l4036:
	push 1
l4040:
	cmp0
	je l4041
	push skokotarget
	call ankokosz,mpos
	push "stand"
	push skokotarget
	pop $b
	popax
	add $a,$b
	call ankokosz,play
	cthis mkokohit
	jmp l4031
l4041:
	push $1
	push "gor"
	cmpje
	cmp0
	je l4043
	push $6
	jmp l4042
l4043:
	push $6
	popax
	sub 0,$a
l4042:
	push 0
	call ankokosz,move
l4031:
	jmp l4028
l4029:
	push "hitl"
	cmpst
	je l4045
	push "hitr"
	cmpst
	je l4045
	push "hitu"
	cmpst
	je l4045
	jmp l4044
l4045:
	spop $a
	cthis framename
	push "hit"
	cmpje
	cmp0
	je l4047
	push skokotarget
	cthis mtarget
	cthis mbumzboj
	call soko_kokosz,mokrzyk
l4047:
	jmp l4028
l4044:
	spop $a
l4028:
	end method
	method Waly16
	localdef $1
	cthis actionname
	pop $1
	push $1
	push "gor"
	cmpje
	cmp0
	jne l4050
	push $1
	push "gol"
	cmpje
	jmp l4051
l4049:
	push 0
	jmp l4051
l4050:
	push 1
l4051:
	cmp0
	je l4052
	push 1
	popax
	sub 0,$a
	cthis play
	jmp l4048
l4052:
	push "stand"
	push 0
	push 1
	call $1,gete
	pop $b
	popax
	add $a,$b
	cthis play
l4048:
	end method
	method Waly17
	cthis framename
	push "fire"
	cmpje
	cmp0
	je l4054
	call fxzamach2,play
	push ikajkotarget
	call anpocisk,play
	jmp l4053
l4054:
	cthis framename
	push "znik"
	cmpje
	cmp0
	je l4056
	call gram,first
	spushs
	spop $a
	call [$a],hide
	call gram,removefirst
l4056:
l4053:
	end method
	method Waly18
	cthis Button_isinalpha
	cthis getname
	call but,add
	end method
	method Waly19
	cthis Button_isinalpha
	cthis getname
	call but,add
	end method
	method Waly20
	push "sndnar1"
	cthis cbplay
	end method
	method msfx
	localstring $1
	localint $2
	pop $2
	pop $1
	push "fx"
	push $1
	pop $b
	popax
	add $a,$b
	call $2,rand
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	end method
	method mokrzykinit
	localint $1
	localint $2
	pop $2
	pop $1
	new int,iid
	push $1
	spushs
	spop $h
	call $h,rand
	pop iid
	new int,iile
	push $1
	pop iile
	new string,shero
	cthis getname
	spushs
	push "sok"
	spop $h
	call $h,strsubbs
	pop shero
	new int,iszansa
	push $2
	pop iszansa
	end method
	method mokrzyk
	push iszansa
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l4058
	push shero
	push iid
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],play
	push iid
	push 1
	pop $b
	popax
	add $a,$b
	push iile
	pop $b
	popax
	div $a,$b
	push $d
	pop iid
l4058:
	end method
	method mnextzboj
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4060
	ret
l4060:
	push 3
	pop ilezboj
	push iidzboj
	call dbzboj,getrowsno
	cmpjae
	cmp0
	je l4062
	jmp l4061
l4062:
	localint $1
	push 0
	pop $1
l4063:
	push $1
	push 3
	cmpjl
	cmp0
	je l4064
	jmp l4066
l4065:
	add $1,1
	pop $1
	jmp l4063
l4066:
	push iidzboj
	push $1
	call dbzboj,get
	push 0
	cmpjne
	cmp0
	je l4068
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push iidzboj
	push $1
	call dbzboj,get
	pop $b
	popax
	add $a,$b
	spushs
	push "in"
	spop $a
	call [$a],play
	jmp l4067
l4068:
	sub ilezboj,1
	pop ilezboj
l4067:
	jmp l4065
l4064:
	add iidzboj,1
	pop iidzboj
l4061:
	end method
	method mbumzboj
	localint $1
	pop $1
	localstring $2
	push "null"
	pop $2
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mhitable
	cmp0
	je l4070
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_1"
	pop $b
	popax
	add $a,$b
	pop $2
	jmp l4069
l4070:
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mhitable
	cmp0
	je l4072
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_2"
	pop $b
	popax
	add $a,$b
	pop $2
l4072:
l4069:
	push $2
	cthis moutzboj
	end method
	method moutzboj
	localstring $1
	pop $1
	push $1
	push "null"
	cmpje
	cmp0
	je l4074
	ret
l4074:
	push "cios"
	push 3
	cthis msfx
	call grheg,last
	spushs
	spop $a
	call [$a],hide
	call grheg,removelast
	push $1
	spushs
	push "out"
	spop $a
	call [$a],play
	call grheg,empty
	cmp0
	je l4076
	push 2
	pop igmstate
	push "Waly21"
	call ccs,close
	jmp l4075
l4076:
	call sokzboj,mokrzyk
l4075:
	end method
	method Waly21
	push "sndnar8"
	cthis cbplay
	call ccs,show
	end method
	method mkokohit
	localint $1
	push skokotarget
	cthis mtarget
	pop $1
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_1"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mhitable
	cmp0
	jne l4079
	push "anz"
	push $1
	pop $b
	popax
	add $a,$b
	push "_2"
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],mhitable
	jmp l4080
l4078:
	push 0
	jmp l4080
l4079:
	push 1
l4080:
	cmp0
	je l4081
	push "hit"
	push skokotarget
	pop $b
	popax
	add $a,$b
	call ankokosz,play
	call fxzamach3,play
l4081:
	end method
	method mtarget
	localstring $1
	pop $1
	push $1
	spushs
	push "l"
	cmpst
	jne l4083
	spop $a
	push 0
	jmp l4082
l4083:
	push "u"
	cmpst
	jne l4084
	spop $a
	push 1
	jmp l4082
l4084:
	push "r"
	cmpst
	jne l4085
	spop $a
	push 2
	jmp l4082
l4085:
	spop $a
l4082:
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4087
	ret
l4087:
	push "null"
	pop scelnik
	call mouse,getpos
	push 1
	push 1
	call anbutkajko,isin
	cmp0
	je l4089
	push "ancebula"
	pop scelnik
	jmp l4088
l4089:
	call mouse,getpos
	push 1
	push 1
	call anbutkokosz,isin
	cmp0
	je l4091
	push "anreka"
	pop scelnik
l4091:
l4088:
	push scelnik
	push "null"
	cmpje
	cmp0
	je l4093
	ret
l4093:
	push scelnik
	spushs
	spop $a
	call [$a],show
	push scelnik
	cthis setcobj
	cthis msmove
	end method
	method cmov_PUT
	push scelnik
	spushs
	spop $a
	call [$a],hide
	cthis free
	call mouse,getpos
	push 1
	push 1
	call grzb,isin
	neg
	cmp0
	je l4095
	ret
l4095:
	push scelnik
	push "ancebula"
	cmpje
	cmp0
	je l4097
	push "go"
	call ankajko,isplaying
	push 0
	cmpje
	cmp0
	je l4099
	call gram,size
	jmp l4101
l4099:
	push 0
	jmp l4101
l4100:
	push 1
l4101:
	cmp0
	je l4102
	call grzb,getsfound
	spushs
	push 3
	push 1
	spop $h
	call $h,getb
	pop ikajkotarget
	push "go"
	call ankajko,play
l4102:
	jmp l4096
l4097:
	push 1
	popax
	sub 0,$a
	call ankokosz,isplaying
	push 0
	cmpjne
	cmp0
	je l4104
	call ankokosz,actionname
	spushs
	push 0
	push 3
	spop $h
	call $h,getb
	push "hit"
	cmpje
	jmp l4106
l4104:
	push 0
	jmp l4106
l4105:
	push 1
l4106:
	neg
	cmp0
	je l4107
	localdef $1
	call grzb,getsfound
	pop $1
	push 3
	push 1
	call $1,getb
	spushs
	push "0"
	cmpst
	jne l4109
	spop $a
	call ankokosz,actionname
	push "standl"
	cmpje
	cmp0
	je l4111
	cthis mkokohit
	jmp l4110
l4111:
	push $1
	push "l"
	cthis mgoko
l4110:
	jmp l4108
l4109:
	push "1"
	cmpst
	jne l4112
	spop $a
	call ankokosz,actionname
	push "standu"
	cmpje
	cmp0
	je l4114
	cthis mkokohit
	jmp l4113
l4114:
	push $1
	push "u"
	cthis mgoko
l4113:
	jmp l4108
l4112:
	push "2"
	cmpst
	jne l4115
	spop $a
	call ankokosz,actionname
	push "standr"
	cmpje
	cmp0
	je l4117
	cthis mkokohit
	jmp l4116
l4117:
	push $1
	push "r"
	cthis mgoko
l4116:
	jmp l4108
l4115:
	spop $a
l4108:
l4107:
l4096:
	end method
	method mgoko
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $2
	pop skokotarget
	call ankokosz,getcx
	push $1
	spushs
	spop $a
	call [$a],getcx
	cmpjl
	cmp0
	je l4119
	push "gor"
	call ankokosz,play
	jmp l4118
l4119:
	push "gol"
	call ankokosz,play
l4118:
	end method
	method mgetpos
	localstring $1
	pop $1
	push "pos"
	push $1
	pop $b
	popax
	add $a,$b
	push 0
	call anko,setframe
	call anko,getcx
	call anko,getey
	ret
	end method
	method mpos
	localstring $1
	pop $1
	push "stand"
	push $1
	pop $b
	popax
	add $a,$b
	call ankokosz,play
	push 0
	push 1
	call $1,gete
	cthis mgetpos
	call ankokosz,setpos
	end method
	method mkokogo
	localstring $1
	pop $1
	end method
	method mhitable
	push "inb"
	cthis isplaying
	cmp0
	jne l4121
	push "hit"
	cthis isplaying
	jmp l4122
l4120:
	push 0
	jmp l4122
l4121:
	push 1
l4122:
	end method
	method mhit
	cthis mhitable
	cmp0
	je l4124
	push "out"
	cthis play
l4124:
	end method
	method mouse_lclick
	push igmstate
	push 0
	cmpje
	cmp0
	je l4126
	push 1
	cthis cactsndstop
l4126:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4128
	push "kokosz1"
	cthis cbplay
l4128:
	end method
	end game

	game Cs20Pobojowisko
	parent StdGame
	method init
	push "cs20pobojowisko"
	clparent StdGame,init
	push A
	push "bg1.pyz"
	push "palisada1.pyz 10"
	cthis imgs=
	push "grwoj1"
	push "woje1"
	push 5
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grwoj1,nplay
	new img,imgb1
	new classfadeinout,clfio
	push "timgo"
	push 2000
	push "Cs20Pobojowisko0"
	cthis timer=
	push A
	push ":grodzianie1"
	push "Hurra! Zwycistwo! Wiwat Mirmi! Wiwat Kajko i Kokosz!"
	push "null"
	push ":hegemon1"
	push "Do stu tysicy beczek niedosolonych ledzi! Przegrupowa si i marsz na wie! A ty daj zna kapralowi eby wystrzeli si do grodu z broni C!"
	push "Cs20Pobojowisko3"
	cthis sounds=
	push A
	push "bgrwiatr2N 30"
	push "wojeN 30"
	cthis sfxs=
	push "Cs20Pobojowisko6"
	call ccs,enter
	end method
	method Cs20Pobojowisko0
	push GAME
	spushs
	spop $a
	call [$a],Cs20Pobojowisko1
	end method
	method Cs20Pobojowisko1
	push "anbg1"
	call imgb1,clone
	localint $1
	push 0
	pop $1
l4129:
	push $1
	call grwoj1,size
	cmpjl
	cmp0
	je l4130
	jmp l4132
l4131:
	add $1,1
	pop $1
	jmp l4129
l4132:
	push $1
	call grwoj1,get
	call imgb1,blit
	jmp l4131
l4130:
	push "anpalisada1"
	call imgb1,blit
	delete anbg1
	delete anpalisada1
	push 0
	call grwoj1,stop
	call grwoj1,hide
	push 50
	call imgb1,setz
	push A
	push "bg2.pyz"
	push "maska2.pyz 20"
	push "hodi.pyz 25"
	push "hegemon2.pyz 30"
	push "zboj2.pyz 40"
	cthis imgs=
	push "grwoj2"
	push "woje2"
	push 5
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grwoj2,nplay
	push 1
	push 5
	popax
	sub 0,$a
	push "imgb1"
	push "Cs20Pobojowisko2"
	call clfio,imgtransparency
	end method
	method Cs20Pobojowisko2
	push "talk"
	call anhegemon2,play
	push 50
	call grodzianie1,setvol
	push "hegemon1"
	cthis cbplay
	end method
	method Cs20Pobojowisko3
	push "stand"
	call anhegemon2,play
	push 1
	push "Cs20Pobojowisko4"
	call anzboj2,anplayfin
	end method
	method Cs20Pobojowisko4
	push "Cs20Pobojowisko5"
	call ccs,close
	end method
	method Cs20Pobojowisko5
	push "Cs21Kapral"
	call gameapi,play
	end method
	method Cs20Pobojowisko6
	call grodzianie1,play
	call timgo,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4134
	push 1
	cthis cactsndstop
l4134:
	end method
	end game

	game Cs21Kapral
	parent StdGame
	method init
	push "cs21kapral"
	clparent StdGame,init
	push A
	push "21bg.pyz"
	push "21oferma.pyzP 10"
	push "21kapral.pyzP 20"
	cthis imgs=
	new gmimgvec,grel
	push A
	push "an21oferma"
	push "an21kapral"
	call grel,addlist
	push "onendframe"
	push "Cs21Kapral0"
	call an21oferma,addmethod
	push 600
	popax
	sub 0,$a
	push 0
	call grel,move
	push A
	push "sndnar1"
	push "Jednak kapral nie dojrza znakw z kwatery gwnej gdy realizowa swj wasny tajny plan"
	push "Cs21Kapral1"
	push ":kapral1"
	push "wawiej Ofermo! Jeszcze kawaek drogi"
	push "Cs21Kapral2"
	push ":oferma1"
	push "Protestuj! Miaem tylko krci korbk a robi za konia mechanicznego!"
	push "Cs21Kapral3"
	push ":kapral2"
	push "A jak ty spae na wiey i wszyscy ci cignelimy to co?"
	push "Cs21Kapral4"
	push ":oferma2"
	push "Bo mnie otrulicie tym specyfikiem Hodona"
	push "Cs21Kapral5"
	push ":kapral3"
	push "Tam do kata zapomniaem zabra to wistwo; Trudno rozgromi Mirmiowian bez niego swoim Baranem; Dobra jestemy na miejscu; Przymocuj Barana i na mj znak kr"
	push "Cs21Kapral6"
	cthis sounds=
	push A
	push "bgrout2N"
	push "kolowrotN 40"
	cthis sfxs=
	push "Cs21Kapral8"
	call ccs,enter
	end method
	method Cs21Kapral0
	push 10
	push 0
	call grel,move
	end method
	method Cs21Kapral1
	push "kapral1"
	cthis cbplay
	end method
	method Cs21Kapral2
	push "oferma1"
	cthis cbplay
	end method
	method Cs21Kapral3
	push "kapral2"
	cthis cbplay
	end method
	method Cs21Kapral4
	push "oferma2"
	cthis cbplay
	end method
	method Cs21Kapral5
	push 0
	call fxkolowrot,stop
	push "kapral3"
	cthis cbplay
	end method
	method Cs21Kapral6
	push "Cs21Kapral7"
	call ccs,close
	end method
	method Cs21Kapral7
	push "Cs22Kapral"
	call gameapi,play
	end method
	method Cs21Kapral8
	push "sndnar1"
	cthis cbplay
	end method
	end game

	game Cs22Kapral
	parent StdGame
	method init
	push "cs22kapral"
	clparent StdGame,init
	push "cs21kapral"
	cthis path=
	push A
	push ":kapral1"
	push "Gotowe! Wcigaj!"
	push "Cs22Kapral0"
	push ":kapral2"
	push "Hi hi hi!"
	push "mfin25"
	cthis sounds=
	new int,idscena
	push 22
	pop idscena
	push A
	push "22bg1.pyz"
	push "22lina.pyz 10"
	push "22oferma.pyz 20"
	push "22maska1.pyz 30"
	push "22maska2.pyz 40"
	cthis imgs=
	push A
	push "bgrout2N"
	push "korbka"
	push "korbka2"
	push "metalhit1"
	push "miecz2"
	push "silniczek1"
	push "eksplozja"
	push "spadaniedesek"
	push "wyrzut2"
	cthis sfxs=
	push "tim22"
	push 3000
	push "Cs22Kapral1"
	cthis timer=
	push "tim24"
	push 2000
	push "Cs22Kapral6"
	cthis timer=
	push "tim26"
	push 2000
	push "Cs22Kapral9"
	cthis timer=
	push "tim27"
	push 2000
	push "Cs22Kapral11"
	cthis timer=
	push "tim28"
	push 2000
	push "Cs22Kapral13"
	cthis timer=
	push "tim29"
	push 100
	push "Cs22Kapral16"
	cthis timer=
	push "tim30"
	push 1000
	push "Cs22Kapral19"
	cthis timer=
	push "tim31"
	push 1500
	push "Cs22Kapral22"
	cthis timer=
	push "tim32"
	push 100
	push "Cs22Kapral25"
	cthis timer=
	push "Cs22Kapral29"
	call ccs,enter
	end method
	method Cs22Kapral0
	call tim22,play
	push 0
	call an22oferma,play
	push 0
	call an22lina,play
	end method
	method Cs22Kapral1
	push "Cs22Kapral2"
	push "null"
	call ccs,playfin
	end method
	method Cs22Kapral2
	delete an22bg1
	delete an22lina
	delete an22oferma
	delete an22maska1
	delete an22maska2
	push A
	push "23bg.pyz"
	push "23liny.pyzP 10"
	push "23kapral.pyzP 20"
	cthis imgs=
	push "onendframe"
	push "Cs22Kapral3"
	call an23kapral,addmethod
	end method
	method Cs22Kapral3
	cthis framename
	push "end"
	cmpje
	cmp0
	je l4136
	push "Cs22Kapral4"
	push "Cs22Kapral5"
	call ccs,playfin
l4136:
	end method
	method Cs22Kapral4
	delete an23bg
	delete an23liny
	delete an23kapral
	push "gr24"
	push "24scene"
	push 10
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call gr24,nplay
	end method
	method Cs22Kapral5
	call tim24,play
	end method
	method Cs22Kapral6
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral7
	end method
	method Cs22Kapral7
	call gr24,deleteallgm
	push A
	push "25bg.pyz"
	push "25kapral.pyzP 10"
	cthis imgs=
	push "onfinish"
	push "Cs22Kapral8"
	call an25kapral,addmethod
	push "kapral2"
	cthis cbplay
	end method
	method Cs22Kapral8
	push 1
	popax
	sub 0,$a
	cthis play
	end method
	method Cs22Kapral9
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral10
	end method
	method Cs22Kapral10
	call gr26,deleteallgm
	push "gr27"
	push "27scene"
	push 10
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call gr27,nplay
	call tim27,play
	end method
	method Cs22Kapral11
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral12
	end method
	method Cs22Kapral12
	call gr27,deleteallgm
	push "gr28"
	push "28scene"
	push 10
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call gr28,nplay
	call tim28,play
	end method
	method Cs22Kapral13
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral14
	end method
	method Cs22Kapral14
	call gr28,deleteallgm
	push A
	push "29liny.pyzP 10"
	push "29bg.pyz"
	push "29kolo.pyzP 20"
	cthis imgs=
	push "onfinish"
	push "Cs22Kapral15"
	call an29kolo,addmethod
	end method
	method Cs22Kapral15
	push 0
	call an29liny,stop
	call tim29,play
	end method
	method Cs22Kapral16
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral17
	end method
	method Cs22Kapral17
	call an29bg,hide
	delete an29liny
	delete an29kolo
	push A
	push "30bg.pyz"
	push "30oferma.pyzP 10"
	push "30b_liny.pyzH 10"
	push "30b_kolo.pyzH 20"
	cthis imgs=
	push "onfinish"
	push "Cs22Kapral18"
	call an30oferma,addmethod
	end method
	method Cs22Kapral18
	call an30bg,hide
	cthis hide
	call an29bg,show
	push 1
	popax
	sub 0,$a
	call an30b_liny,play
	push 1
	popax
	sub 0,$a
	call an30b_kolo,play
	call fxsilniczek1,playloop
	call tim30,play
	end method
	method Cs22Kapral19
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral20
	end method
	method Cs22Kapral20
	push 0
	call fxsilniczek1,stop
	delete an29bg
	delete an30bg
	delete an30oferma
	delete an30b_liny
	delete an30b_kolo
	push A
	push "22bg1.pyz"
	push "22lina.pyz 10"
	push "31oferma.pyzP 20"
	push "22maska1.pyz 30"
	push "22maska2.pyz 40"
	cthis imgs=
	push 2
	call an22lina,setdelay
	push 1
	call an22lina,play
	push "onfinish"
	push "Cs22Kapral21"
	call an31oferma,addmethod
	call tim31,play
	end method
	method Cs22Kapral21
	push 1
	cthis play
	end method
	method Cs22Kapral22
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral23
	end method
	method Cs22Kapral23
	delete an22bg1
	delete an22lina
	delete an31oferma
	delete an22maska1
	delete an22maska2
	push "gr32"
	push "32scene"
	push 10
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call gr32,nplay
	push 1
	call gr32,get
	spushs
	push "onfinish"
	push "Cs22Kapral24"
	spop $a
	call [$a],addmethod
	end method
	method Cs22Kapral24
	call tim32,play
	end method
	method Cs22Kapral25
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral26
	end method
	method Cs22Kapral26
	call gr32,deleteallgm
	push A
	push "$scripts/adwieza/adwieza.png 5"
	push "$scripts/adwieza/bgsky.pyz"
	push "$scripts/adwieza/domek.pyz 40"
	push "$scripts/adwieza/e16mech.pyz 8"
	push "$scripts/adwieza/e15remont.pyz 10"
	push "33kolo.pyz 10"
	push "33kapral.pyzP 30"
	cthis imgs=
	call fxwyrzut2,play
	push "onfinish"
	push "Cs22Kapral27"
	call an33kapral,addmethod
	end method
	method Cs22Kapral27
	push "Cs22Kapral28"
	call ccs,close
	end method
	method Cs22Kapral28
	push "Cs23Wieza"
	call gameapi,play
	end method
	method Cs22Kapral29
	push "kapral1"
	cthis cbplay
	end method
	method mfin25
	push GAME
	spushs
	spop $a
	call [$a],Cs22Kapral30
	end method
	method Cs22Kapral30
	delete an25bg
	delete an25kapral
	push "gr26"
	push "26scene"
	push 10
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call gr26,nplay
	call tim26,play
	end method
	end game

	game Cs23Wieza
	parent StdGame
	method init
	push "cs23wieza"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kokosz.pyz 10"
	push "kajko.pyzP 20"
	push "wieza.pyz 40"
	push "zboj2.pyz 50"
	push "zboje3.pyzH 60"
	cthis imgs=
	push "grz"
	push "zboje1"
	push 30
	cthis newgrimg
	push 1
	popax
	sub 0,$a
	call grz,nplay
	push "onendframe"
	push "Cs23Wieza0"
	call anzboj2,addmethod
	push "onfinish"
	push "Cs23Wieza1"
	call anzboj2,addmethod
	push "onfinish"
	push "Cs23Wieza2"
	call anzboje3,addmethod
	push A
	push "sndnar1"
	push "Kiedy kapral z Oferm prbowali zaskoczy obrocw od rodka oddzia Zbjcerzy podcign wie pod way"
	push "Cs23Wieza3"
	push ":zboj1"
	push "Ruszajcie tam z przodu! Na way!"
	push "Cs23Wieza4"
	push ":kokosz1"
	push "No podejdcie tu otry znowu spucimy wam lanie!"
	push "Cs23Wieza5"
	push ":zboj2"
	push "Sam si prosisz grubasie! Zaraz ci przyo!"
	push "Cs23Wieza6"
	push ":zboj3"
	push "Ojojoj! Co jest?"
	push "null"
	push ":kajko1"
	push "Hurra! Puapka zadziaaa!"
	push "Cs23Wieza7"
	cthis sounds=
	push A
	push "wojeN 35"
	push "eksplozja"
	push "spadaniedesek"
	push "cios3"
	push "wpadldowody"
	push "zamach2"
	push "pekabelka"
	cthis sfxs=
	push "Cs23Wieza9"
	call ccs,enter
	end method
	method Cs23Wieza0
	cthis framename
	push "ojoj"
	cmpje
	cmp0
	je l4138
	call zboj3,play
l4138:
	end method
	method Cs23Wieza1
	cthis hide
	push 0
	call grz,stop
	call grz,hide
	call anwieza,hide
	push 1
	popax
	sub 0,$a
	call anzboje3,play
	end method
	method Cs23Wieza2
	push "kajko1"
	cthis cbplay
	end method
	method Cs23Wieza3
	push "zboj1"
	cthis cbplay
	end method
	method Cs23Wieza4
	push "kokosz1"
	cthis cbplay
	end method
	method Cs23Wieza5
	push "zboj2"
	cthis cbplay
	end method
	method Cs23Wieza6
	push 1
	call anzboj2,play
	end method
	method Cs23Wieza7
	push "Cs23Wieza8"
	call ccs,close
	end method
	method Cs23Wieza8
	push "Cs24Pogrom"
	call gameapi,play
	end method
	method Cs23Wieza9
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4140
	push 1
	cthis cactsndstop
l4140:
	end method
	end game

	game Cs24Pogrom
	parent StdGame
	method init
	push "cs24pogrom"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "eter.pyz 10"
	push "flaga.pyzP 20"
	push "flagowy.pyzP 30"
	push "hodon.pyzP 35"
	push "hegi1.pyz 40"
	push "heg.pyz 50"
	cthis imgs=
	push "stand"
	call anheg,play
	push A
	push ":hegemon1"
	push "Ech ech ech ech"
	push "Cs24Pogrom0"
	push ":hegemon2"
	push "Dlaczego zawsze mi si to musi przytrafi? Dlaczego musz zbjowa z takimi pataachami?"
	push "Cs24Pogrom1"
	push ":hegemon3"
	push "A to co? Gaz usypiajcy Hodona! Kapral mia go rozpyli w grodzie; Gdzie on w ogle jest? Czy kto go wstrzeli do grodu?"
	push "Cs24Pogrom2"
	push ":hegemon4"
	push "Na nikogo nie mog liczy; Sam zbombarduj Mirmiowo!"
	push "Cs24Pogrom3"
	cthis sounds=
	push "onfinish"
	push "Cs24Pogrom5"
	call anheg,addmethod
	push A
	push "bgrwiatr2N 40"
	cthis sfxs=
	push "Cs24Pogrom6"
	call ccs,enter
	end method
	method Cs24Pogrom0
	push "hegemon2"
	cthis cbplay
	push "talk"
	call anheg,play
	end method
	method Cs24Pogrom1
	push "oo"
	call anheg,play
	end method
	method Cs24Pogrom2
	push "czeka"
	call anheg,play
	end method
	method Cs24Pogrom3
	push "czeka2"
	call anheg,play
	push "Cs24Pogrom4"
	call ccs,close
	end method
	method Cs24Pogrom4
	push "Cs25Nadzieja"
	call gameapi,play
	end method
	method Cs24Pogrom5
	cthis actionname
	push "czeka"
	cmpje
	cmp0
	je l4142
	push "zaraz"
	call anheg,play
	push "hegemon4"
	cthis cbplay
	jmp l4141
l4142:
	cthis actionname
	push "oo"
	cmpje
	cmp0
	je l4144
	push "zaraz"
	call anheg,play
	push "hegemon3"
	cthis cbplay
l4144:
l4141:
	end method
	method Cs24Pogrom6
	push "hegemon1"
	cthis cbplay
	push "och"
	call anheg,play
	end method
	end game

	game Cs25Nadzieja
	parent StdGame
	method init
	push "cs25nadzieja"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "kk.pyz 10"
	push "maska.pyz 20"
	push "hodon.pyz 25"
	push "hodmask.pyz 27"
	push "hegemon.pyz 30"
	push "mrok.pyz 40"
	cthis imgs=
	new gmimgvec,grels
	push A
	push "anbkg"
	push "ankk"
	push "anmaska"
	push "anhegemon"
	push "anmrok"
	push "anhodmask"
	push "anhodon"
	call grels,addlist
	push A
	push ":hegemon1"
	push "Mylicie e zwyciylicie Krwawego Hegemona? Jeszcze z wami nie skoczyem!"
	push "Cs25Nadzieja0"
	push ":kokosz1"
	push "Wrzu na luz Hegi; Skoczyy ci si ju pomysy"
	push "Cs25Nadzieja1"
	push ":hegemon2"
	push "Nie wiecie jeszcze co trzymam w rce! Zaraz si przekonacie!"
	push "Cs25Nadzieja2"
	push ":kokosz2"
	push "Co on powiedzia?"
	push "Cs25Nadzieja3"
	push ":kajko1"
	push "Nie wiem ale spjrz trzyma co w rce; Nie podoba mi si to musimy szybko co wymyle! Wiem!"
	push "Cs25Nadzieja4"
	cthis sounds=
	push "onfinish"
	push "Cs25Nadzieja5"
	call anhegemon,addmethod
	new int,ispeed
	push 20
	pop ispeed
	push "timheg"
	push "Cs25Nadzieja6"
	cthis cycle=
	push "timkk"
	push "Cs25Nadzieja7"
	cthis cycle=
	push iResX
	call anbkg,getex
	pop $b
	popax
	sub $a,$b
	push 0
	call grels,move
	push A
	push "bgrwiatr2N 40"
	cthis sfxs=
	push "Cs25Nadzieja8"
	call ccs,enter
	end method
	method Cs25Nadzieja0
	cthis hestop
	call timkk,play
	end method
	method Cs25Nadzieja1
	push 1
	pop igmstate
	call timheg,play
	end method
	method Cs25Nadzieja2
	cthis hestop
	push 2
	pop igmstate
	call timkk,play
	end method
	method Cs25Nadzieja3
	push "kajko1"
	cthis cbplay
	end method
	method Cs25Nadzieja4
	push 3
	pop igmstate
	call timheg,play
	end method
	method Cs25Nadzieja5
	cthis actionname
	push "rzut"
	cmpje
	cmp0
	je l4146
	push "Cs26Dziad"
	call gameapi,play
l4146:
	end method
	method Cs25Nadzieja6
	call anbkg,getex
	push ispeed
	pop $b
	popax
	sub $a,$b
	push iResX
	cmpjae
	cmp0
	je l4148
	push ispeed
	popax
	sub 0,$a
	push 0
	call grels,move
	cthis play
	jmp l4147
l4148:
	push igmstate
	spushs
	push 1
	cmpst
	jne l4150
	spop $a
	push "hegemon2"
	cthis hesay
	push 0
	call anhodon,play
	jmp l4149
l4150:
	push 3
	cmpst
	jne l4151
	spop $a
	push "rzut"
	call anhegemon,play
	jmp l4149
l4151:
	spop $a
l4149:
l4147:
	end method
	method Cs25Nadzieja7
	call anbkg,getpx
	push ispeed
	pop $b
	popax
	add $a,$b
	push 0
	cmpjle
	cmp0
	je l4153
	push ispeed
	push 0
	call grels,move
	cthis play
	jmp l4152
l4153:
	push igmstate
	spushs
	push 0
	cmpst
	jne l4155
	spop $a
	push "kokosz1"
	cthis cbplay
	jmp l4154
l4155:
	push 2
	cmpst
	jne l4156
	spop $a
	push "kokosz2"
	cthis cbplay
	jmp l4154
l4156:
	spop $a
l4154:
l4152:
	end method
	method Cs25Nadzieja8
	push "hegemon1"
	cthis hesay
	end method
	method hesay
	localstring $1
	pop $1
	push "talk"
	call anhegemon,play
	push $1
	cthis cbplay
	end method
	method hestop
	push "stand"
	call anhegemon,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4158
	push 1
	cthis cactsndstop
l4158:
	end method
	end game

	game Cs26Dziad
	parent StdGame
	method init
	push "cs26dziad"
	clparent StdGame,init
	push A
	push ":hegemon1"
	push "H?"
	push "null"
	cthis sounds=
	push A
	push "galopfast 10"
	push "shootgun1"
	push "wpadlwblachy"
	push "rog1"
	push "bgrwiatr2N 40"
	cthis sfxs=
	push A
	push "26bkg.pyz"
	push "26kokosz.pyz 10"
	push "26kajko.pyz 20"
	push "26maska.pyz 30"
	push "26mrok.pyz 40"
	cthis imgs=
	push 0
	push "Cs26Dziad0"
	call an26kajko,anplayfin
	push "tim26"
	push "Cs26Dziad1"
	cthis cycle=
	push "tim27"
	push "Cs26Dziad4"
	cthis cycle=
	push "tim28"
	push "Cs26Dziad7"
	cthis cycle=
	end method
	method Cs26Dziad0
	call tim26,play
	end method
	method Cs26Dziad1
	push GAME
	spushs
	spop $a
	call [$a],Cs26Dziad2
	end method
	method Cs26Dziad2
	delete an26bkg
	delete an26kokosz
	delete an26kajko
	delete an26maska
	delete an26mrok
	push A
	push "27bg.pyz"
	push "27heg.pyzP 10"
	push "27mrok.pyz 20"
	cthis imgs=
	push "onfinish"
	push "Cs26Dziad3"
	call an27heg,addmethod
	end method
	method Cs26Dziad3
	call tim27,play
	end method
	method Cs26Dziad4
	push GAME
	spushs
	spop $a
	call [$a],Cs26Dziad5
	end method
	method Cs26Dziad5
	delete an27bg
	delete an27heg
	delete an27mrok
	push A
	push "28bg.pyz"
	push "28plan3.pyz 20"
	push "28plan2.pyz 40"
	push "28plan1.pyz 60"
	push "28dziad.pyzP 10"
	cthis imgs=
	call fxgalopfast,playloop
	push "onfinish"
	push "Cs26Dziad6"
	call an28dziad,addmethod
	end method
	method Cs26Dziad6
	push 1
	popax
	sub 0,$a
	cthis actionnr
	spushs
	push 0
	cmpst
	jne l4160
	spop $a
	push 30
	cthis setz
	push 1
	cthis play
	push 30
	call fxgalopfast,setvol
	jmp l4159
l4160:
	push 1
	cmpst
	jne l4161
	spop $a
	push 50
	cthis setz
	push 2
	cthis play
	push 50
	call fxgalopfast,setvol
	jmp l4159
l4161:
	push 2
	cmpst
	jne l4162
	spop $a
	call tim28,play
	push 70
	call fxgalopfast,setvol
	jmp l4159
l4162:
	spop $a
l4159:
	end method
	method Cs26Dziad7
	push GAME
	spushs
	spop $a
	call [$a],Cs26Dziad8
	end method
	method Cs26Dziad8
	delete an28bg
	delete an28plan3
	delete an28plan2
	delete an28plan1
	delete an28dziad
	push A
	push "29bg.pyz"
	push "29bum.pyzH 20"
	push "29heg.pyzP 10"
	cthis imgs=
	push "onendframe"
	push "Cs26Dziad9"
	call an29heg,addmethod
	push "onfinish"
	push "Cs26Dziad10"
	call an29bum,addmethod
	end method
	method Cs26Dziad9
	cthis framename
	push "oo"
	cmpje
	cmp0
	je l4164
	push "hegemon1"
	cthis cbplay
	jmp l4163
l4164:
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l4166
	push 0
	call fxgalopfast,stop
	call fxshootgun1,play
	push 0
	call an29bum,play
l4166:
l4163:
	end method
	method Cs26Dziad10
	cthis hide
	cthis mend
	call fxwpadlwblachy,play
	end method
	method mend
	push "Cs26Dziad11"
	call ccs,close
	end method
	method Cs26Dziad11
	push "adpobojowisko"
	push "gameadpobojowisko1"
	cthis gotoadv
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4168
	cthis mend
l4168:
	end method
	end game

	game Cs27Odwrot
	parent StdGame
	method init
	push "cs27odwrot"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "heg.pyz 10"
	push "jezor.pyz 15"
	push "flagowy.pyz 20"
	push "flaga.pyzP 25"
	push "zboj2.pyz 30"
	push "oferma.pyzH 40"
	push "kapral.pyzH 50"
	push "nakladka.pyz 60"
	cthis imgs=
	push "onfinish"
	push "Cs27Odwrot0"
	call anoferma,addmethod
	push A
	push ":hegemon1"
	push "Znowu dostalimy upnia od Kajka i Kokosza; Gdzie jest Hodon ten strateg od siedmiu boleci? Kto go widzia w czasie szturmu? Jeszcze si z nim policz!"
	push "Cs27Odwrot1"
	push ":oferma1"
	push "Hu hu jestem wodzu"
	push "Cs27Odwrot2"
	push ":hegemon2"
	push "A ty gdzie bye Ofermo? Zdradzie nas!"
	push "Cs27Odwrot3"
	push ":oferma2"
	push "Skde wodzu! Pomogem kapralowi wej do grodu"
	push "Cs27Odwrot4"
	push ":hegemon3"
	push "Co? Ten bcwa jednak si tam dosta?"
	push "Cs27Odwrot5"
	push ":oferma3"
	push "Tak; Wlecia do grodu swoj tajn broni"
	push "Cs27Odwrot6"
	push ":hegemon4"
	push "Moe jeszcze nie wszystko stracone? Czekajmy na znak od kaprala!"
	push "Cs27Odwrot7"
	cthis sounds=
	push A
	push "bgroutN"
	push "sowa1N"
	push "cios3"
	push "wylatuje"
	push "cios1"
	cthis sfxs=
	push "Cs27Odwrot8"
	call ccs,enter
	push "timend"
	push 4000
	push "Cs27Odwrot9"
	cthis timer=
	push "onendframe"
	push "Cs27Odwrot10"
	call ankapral,addmethod
	push "onfinish"
	push "Cs27Odwrot11"
	call anheg,addmethod
	end method
	method Cs27Odwrot0
	cthis actionname
	push "go"
	cmpje
	cmp0
	je l4170
	push 1
	cthis ofsay
l4170:
	end method
	method Cs27Odwrot1
	push "stand"
	call anheg,play
	push "go"
	call anoferma,play
	end method
	method Cs27Odwrot2
	push "stand"
	call anoferma,play
	push 2
	cthis hesay
	end method
	method Cs27Odwrot3
	push "stand2"
	call anheg,play
	push 2
	cthis ofsay
	end method
	method Cs27Odwrot4
	push "stand"
	call anoferma,play
	push 3
	cthis hesay
	end method
	method Cs27Odwrot5
	push "stand2"
	call anheg,play
	push 3
	cthis ofsay
	end method
	method Cs27Odwrot6
	push "stand"
	call anoferma,play
	push 4
	cthis hesay2
	end method
	method Cs27Odwrot7
	push "stand"
	call anheg,play
	call timend,play
	end method
	method Cs27Odwrot8
	push 1
	cthis hesay2
	end method
	method Cs27Odwrot9
	call fxcios3,play
	push 0
	call ankapral,play
	end method
	method Cs27Odwrot10
	cthis framename
	push "ups"
	cmpje
	cmp0
	je l4172
	push "ups"
	call anheg,play
l4172:
	end method
	method Cs27Odwrot11
	cthis actionname
	push "ups"
	cmpje
	cmp0
	je l4174
	push "Cs27Odwrot12"
	call ccs,close
l4174:
	end method
	method Cs27Odwrot12
	push "Cs28Wiwat"
	call gameapi,play
	end method
	method ofsay
	localstring $1
	pop $1
	push "talk"
	call anoferma,play
	push "oferma"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method hesay
	localstring $1
	pop $1
	push "talk2"
	call anheg,play
	push "hegemon"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method hesay2
	localstring $1
	pop $1
	push "talk"
	call anheg,play
	push "hegemon"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4176
	push 1
	cthis cactsndstop
l4176:
	end method
	end game

	game Cs28Wiwat
	parent StdGame
	method init
	push "cs28wiwat"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "mirmil.pyz 20"
	push "fire.pyzP 30"
	push "napis.pyzH 40"
	cthis imgs=
	push "grl"
	push "ludki"
	push 10
	cthis newgrimg
	push A
	push ":mirmil1"
	push "Kochani kolejny raz spryt i odwaga naszych najwspanialszych wojw Kajka i Kokosza uratoway nas przed zakusami podstpnych Zbjcerzy! Zapraszam wszystkich na uczt z okazji naszego wspaniaego zwycistwa!"
	push "Cs28Wiwat0"
	push "sndwiwat"
	push "Wiwat Mirmi! Wiwat Kajko i Kokosz! Niech yj! Hurra!"
	push "Cs28Wiwat1"
	push "sndnar1"
	push "Zabawa w Mirmiowie trwaa do biaego rana jednak myliby si ten ktry sdziby e to ju koniec przygd Kajka i Kokosza; Wkrtce po zapenieniu odka Kokosz pocign za sob Kajka pozaa way grodu"
	push "Cs28Wiwat2"
	cthis sounds=
	push A
	push "bgrtlum2N 15"
	cthis sfxs=
	push "Cs28Wiwat4"
	call ccs,enter
	end method
	method Cs28Wiwat0
	push 1
	popax
	sub 0,$a
	call grl,nplay
	push "wiwat"
	call anmirmil,play
	push "sndwiwat"
	cthis cbplay
	call annapis,show
	end method
	method Cs28Wiwat1
	push "sndnar1"
	cthis cbplay
	end method
	method Cs28Wiwat2
	push "Cs28Wiwat3"
	call ccs,close
	end method
	method Cs28Wiwat3
	push "epizod"
	push "e19Gdas"
	call clsave,set
	push "adpanorama"
	push "gameadpanorama1"
	cthis gotoadv
	end method
	method Cs28Wiwat4
	push "talk"
	call anmirmil,play
	push "mirmil1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4178
	push 1
	cthis cactsndstop
l4178:
	end method
	end game

	game Dziupla
	parent StdGame
	method init
	push "dziupla"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "hak.pyz 10"
	push "pokrywa.pyz 10"
	push "nak.pyz 20"
	cthis imgs=
	push A
	push ":kokosz1"
	push "Ho ho ciocia zgromadzia tu same pysznoci; Widziae t golonk?"
	push "Dziupla0"
	push ":kajko1"
	push "Szukaj lepiej maci aroku"
	push "mdalej"
	push ":kokosz2"
	push "Ciekawe do czego suy ten hak"
	push "mdalej"
	push ":kokosz3"
	push "To wieko co przykrywa"
	push "Dziupla1"
	push ":kokosz4"
	push "Podnios wieko hakiem"
	push "Dziupla2"
	cthis sounds=
	push "onfinish"
	push "Dziupla3"
	call anhak,addmethod
	push "onfinish"
	push "Dziupla4"
	call anpokrywa,addmethod
	new Button,but1
	new int,bbylabeczka
	push 0
	pop bbylabeczka
	new int,bbylhak
	push 0
	pop bbylhak
	call anpokrywa,Dziupla6
	call anhak,Dziupla8
	push A
	push "bgrsowaN 40"
	push "bgrzabyN 30"
	push "wykreca"
	cthis sfxs=
	push "kokosz1"
	cthis cbplay
	end method
	method Dziupla0
	push "kajko1"
	cthis cbplay
	end method
	method Dziupla1
	push bbylhak
	cmp0
	je l4180
	push "kokosz4"
	cthis cbplay
	jmp l4179
l4180:
	push 1
	pop igmstate
l4179:
	end method
	method Dziupla2
	push 1
	call anhak,play
	end method
	method Dziupla3
	cthis hide
	call fxwykreca,play
	push 1
	call anpokrywa,play
	end method
	method Dziupla4
	push "Dziupla5"
	call ccs,close
	end method
	method Dziupla5
	push "Wieko"
	call gameapi,play
	end method
	method Dziupla6
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Dziupla7"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Dziupla7
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4182
	ret
l4182:
	push bbylhak
	neg
	cmp0
	je l4184
	push bbylabeczka
	neg
	jmp l4186
l4184:
	push 0
	jmp l4186
l4185:
	push 1
l4186:
	cmp0
	je l4187
	push 2
	pop igmstate
	push 1
	pop bbylabeczka
	push "kokosz3"
	cthis cbplay
	jmp l4183
l4187:
	push bbylhak
	cmp0
	je l4189
	push 2
	pop igmstate
	push bbylabeczka
	cmp0
	je l4191
	push "kokosz4"
	cthis cbplay
	jmp l4190
l4191:
	push 1
	pop bbylabeczka
	push "kokosz3"
	cthis cbplay
l4190:
l4189:
l4183:
	end method
	method Dziupla8
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Dziupla9"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Dziupla9
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4193
	ret
l4193:
	push bbylabeczka
	neg
	cmp0
	je l4195
	push bbylhak
	neg
	jmp l4197
l4195:
	push 0
	jmp l4197
l4196:
	push 1
l4197:
	cmp0
	je l4198
	push 2
	pop igmstate
	push 1
	pop bbylhak
	push "kokosz2"
	cthis cbplay
	jmp l4194
l4198:
	push bbylabeczka
	cmp0
	je l4200
	push 2
	pop igmstate
	push "kokosz4"
	cthis cbplay
l4200:
l4194:
	end method
	method mdalej
	push 1
	pop igmstate
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4202
	push 1
	cthis cactsndstop
l4202:
	end method
	end game

	game Wieko
	parent StdGame
	method init
	push "wieko"
	clparent StdGame,init
	push A
	push "woda.pyzP"
	push "bg.pyz 10"
	push "wmasc.pyzH 20"
	push "wrobaki.pyzH 20"
	push "wogorki.pyzH 20"
	push "robaki.pyzH 30"
	push "masc.pyzH 30"
	push "ogorki.pyzH 30"
	push "reka.pyzH 40"
	cthis imgs=
	new Button,but1
	call anrobaki,mbuton
	call anmasc,mbuton
	call anogorki,mbuton
	new string,sbeczka
	push "null"
	pop sbeczka
	push A
	push ":kokosz1"
	push "Tylko woda; Gdzie moe by ta ma?"
	push "Wieko0"
	push ":kajko1"
	push "Poszukajmy w wodzie"
	push "Wieko1"
	push ":kokosz2"
	push "Co tu jest; Wycigam"
	push "mdalej"
	push ":kokosz2b"
	push "Uwaga otwieram"
	push "Wieko2"
	push ":kokosz3"
	push "Fuu; Robaki amignata do owienia ryb"
	push "mdalej"
	push ":kajko2"
	push "Ogrki kiszone Jagi; Szukaj dalej"
	push "mdalej"
	push ":kokosz4"
	push "Jest! To ma latania! Bior"
	push "Wieko3"
	cthis sounds=
	push "onfinish"
	push "Wieko4"
	call anreka,addmethod
	push A
	push "bgrsowaN 40"
	push "bgrzabyN 30"
	push "wino1"
	push "wciska1 70"
	push "splash1"
	cthis sfxs=
	push "Wieko6"
	call ccs,enter
	end method
	method Wieko0
	push "kajko1"
	cthis cbplay
	end method
	method Wieko1
	push 1
	pop igmstate
	end method
	method Wieko2
	push sbeczka
	spushs
	push 1
	spop $a
	call [$a],play
	call fxwciska1,play
	push sbeczka
	push "_lclick"
	pop $b
	popax
	add $a,$b
	spushs
	spop $d
	cthis [$d]
	end method
	method Wieko3
	push 0
	call anreka,play
	end method
	method Wieko4
	push "Wieko5"
	call ccs,close
	end method
	method Wieko5
	push "adjaga"
	push "gameadjaga1"
	cthis gotoadv
	end method
	method Wieko6
	push "kokosz1"
	cthis cbplay
	end method
	method mdalej
	push 1
	pop igmstate
	end method
	method mbuton
	cthis Button_isinvisalpha
	cthis Button_moveonms
	cthis Button_moveoffms
	push "butclick"
	push "Wieko7"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Wieko7
	push igmstate
	push 1
	cmpjne
	cmp0
	jne l4205
	push 1
	popax
	sub 0,$a
	cthis isplaying
	push 0
	cmpjne
	jmp l4206
l4204:
	push 0
	jmp l4206
l4205:
	push 1
l4206:
	cmp0
	je l4207
	ret
l4207:
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 1
	cmpje
	cmp0
	je l4209
	ret
l4209:
	cthis isvisible
	push 0
	cmpje
	cmp0
	je l4211
	push 2
	pop igmstate
	push 0
	cthis play
	push "anw"
	cthis getname
	spushs
	push "an"
	spop $a
	call $a,strsubbs
	pop $b
	popax
	add $a,$b
	spushs
	push 0
	spop $a
	call [$a],play
	push "kokosz2"
	cthis cbplay
	call fxwino1,play
	jmp l4210
l4211:
	push 2
	pop igmstate
	cthis getname
	pop sbeczka
	push "kokosz2b"
	cthis cbplay
l4210:
	end method
	method anrobaki_lclick
	push "kokosz3"
	cthis cbplay
	end method
	method anmasc_lclick
	push "kokosz4"
	cthis cbplay
	end method
	method anogorki_lclick
	push "kajko2"
	cthis cbplay
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4213
	push 0
	call anreka,play
l4213:
	end method
	end game

	game Cs29Odlot
	parent StdGame
	method init
	push "cs29odlot"
	clparent StdGame,init
	push "flety.ogg"
	call mus,playstr
	push "czapla.pyzP 12"
	cthis img=
	push "onendframe"
	push "Cs29Odlot0"
	call anczapla,addmethod
	push "grbg"
	push "bkg"
	push 0
	cthis newgrimg
	push "Cs29Odlot1"
	call grbg,each
	push "kk.pyz 25"
	cthis img=
	call ankk,getex
	popax
	sub 0,$a
	push 0
	call ankk,move
	push "onendframe"
	push "Cs29Odlot2"
	call ankk,addmethod
	push "theend.pyzH "
	call ccs,getz
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis img=
	push A
	push "sndnar1"
	push "I tak Kajko i Kokosz wyruszyli uwolni kruka Gdasia z rk czarnoksinika Hodona"
	push "null"
	cthis sounds=
	push "Cs29Odlot4"
	call ccs,enter
	push "timend"
	push 2000
	push "Cs29Odlot5"
	cthis timer=
	end method
	method Cs29Odlot0
	push 8
	popax
	sub 0,$a
	push 0
	cthis move
	end method
	method Cs29Odlot1
	localdef $1
	pop $1
	push 10
	push $1
	pop $b
	popax
	mul $a,$b
	cthis setz
	end method
	method Cs29Odlot2
	push 1
	popax
	sub 0,$a
	cthis actionnr
	spushs
	push 0
	cmpst
	jne l4215
	spop $a
	cthis getpx
	push iResX
	push 80
	pop $b
	popax
	add $a,$b
	cmpjl
	cmp0
	je l4217
	push 15
	push 0
	cthis move
	jmp l4216
l4217:
	push 1
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	push 1
	cthis play
	push iResX
	cthis getpx
	pop $b
	popax
	sub $a,$b
	push 0
	cthis move
	push 15
	cthis setz
l4216:
	jmp l4214
l4215:
	push 1
	cmpst
	jne l4218
	spop $a
	push 6
	popax
	sub 0,$a
	push 0
	cthis move
	cthis getex
	push 100
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4220
	push 2
	push 0
	cthis setframe
	push 0
	push 0
	cthis setpos
	push 2
	cthis play
	cthis getex
	popax
	sub 0,$a
	push 0
	cthis move
	push 5
	cthis setz
l4220:
	jmp l4214
l4218:
	push 2
	cmpst
	jne l4221
	spop $a
	push 3
	push 0
	cthis move
	cthis getpx
	push iResX
	push 30
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l4223
	call antheend,isvisible
	neg
	jmp l4225
l4223:
	push 0
	jmp l4225
l4224:
	push 1
l4225:
	cmp0
	je l4226
	call antheend,show
l4226:
	cthis getpx
	push iResX
	push 400
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l4228
	push 0
	cthis stop
	push "Cs29Odlot3"
	call ccs,close
l4228:
	jmp l4214
l4221:
	spop $a
l4214:
	end method
	method Cs29Odlot3
	call ccs,show
	push 2000
	call mus,fadeout
	call timend,play
	end method
	method Cs29Odlot4
	push "sndnar1"
	cthis cbplay
	push 0
	call ankk,play
	end method
	method Cs29Odlot5
	push igmkikpart
	push 2
	cmpje
	cmp0
	je l4230
	push "MainMenu"
	call gameapi,play
	jmp l4229
l4230:
	push "Cs30Chapter3"
	call gameapi,play
l4229:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4232
	push 1
	cthis cactsndstop
l4232:
	end method
	end game

	game Cs30Chapter3
	parent StdGame
	method init
	push "cs30epizod3"
	clparent StdGame,init
	call modadvglob,delheros
	call clsave,free
	push "epizod"
	push "e30Piraci"
	call clsave,set
	push "Miotla"
	call gameapi,play
	end method
	end game

	game Cs31Endlot
	parent StdGame
	method init
	push "cs31endlot"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "drzewo.pyz 10"
	push "kokosz.pyzH 20"
	push "maski.pyzG 30"
	cthis imgs=
	push "onfinish"
	push "Cs31Endlot0"
	call ankokosz,addmethod
	push A
	push ":kajko1"
	push "yjesz?"
	push "Cs31Endlot1"
	cthis sounds=
	push A
	push "bgroutN"
	push "uderzwstol"
	push "padlglaz"
	push "cios2"
	push "skok2"
	cthis sfxs=
	call fxpadlglaz,play
	push "Cs31Endlot3"
	call ccs,enter
	end method
	method Cs31Endlot0
	push "kajko1"
	cthis cbplay
	end method
	method Cs31Endlot1
	push "Cs31Endlot2"
	call ccs,close
	end method
	method Cs31Endlot2
	push "epizod"
	push "e30Piraci"
	call clsave,set
	push "adwioska"
	push "gameadwioska2"
	cthis gotoadv
	end method
	method Cs31Endlot3
	push 0
	call ankokosz,play
	end method
	end game

	game Cs32Endrejs
	parent StdGame
	method init
	push "cs32endrejs"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "morze.pyzP 5"
	push "chmury.pyzG 10"
	push "zamek.pyz 15"
	push "chmurymask.pyz 20"
	push "peruny.pyz 25"
	push "mglaslow.pyz 30"
	push "mglafast.pyz 35"
	push "kk.pyzP 40"
	cthis imgs=
	push A
	push "bgrmorzeN"
	push "perun1"
	push "perun2"
	cthis sfxs=
	push 0
	call grchmury,get
	push 0.34
	push 0
	new AnMover,ch1
	call ch1,play
	push 1
	call grchmury,get
	push 0.38
	push 0
	new AnMover,ch2
	call ch2,play
	push 2
	call grchmury,get
	push 0.74
	push 0
	new AnMover,ch3
	call ch3,play
	push 3
	call grchmury,get
	push 0.94
	push 0
	new AnMover,ch4
	call ch4,play
	push "anchmurymask"
	push "anchmurymask2"
	cthis copyanima
	call anchmurymask2,getw
	popax
	sub 0,$a
	push 0
	call anchmurymask2,move
	push "anchmurymask"
	push 0.2
	push 0
	new AnMover,ch5
	call ch5,play
	push "anchmurymask2"
	push 0.2
	push 0
	new AnMover,ch6
	call ch6,play
	push "anmglaslow"
	push "anmgla2"
	cthis copyanima
	call anmgla2,getw
	popax
	sub 0,$a
	push 0
	call anmgla2,move
	push "anmglafast"
	push "anmgla3"
	cthis copyanima
	call anmgla3,getw
	popax
	sub 0,$a
	push 0
	call anmgla3,move
	push "timgla"
	push "Cs32Endrejs0"
	cthis cycle=
	call timgla,play
	push "onendframe"
	push "Cs32Endrejs1"
	call anperuny,addmethod
	push A
	push "sndnar1"
	push "Morderczy rejs wreszcie dobieg koca; Wyczerpani przyjaciele ujrzeli wrd mgy i chmur zarysy wyspy Hokulandii"
	push "Cs32Endrejs2"
	cthis sounds=
	push "Cs32Endrejs3"
	call ccs,enter
	end method
	method Cs32Endrejs0
	push 1
	push 0
	call anmglaslow,move
	push 1
	push 0
	call anmgla2,move
	call anmgla2,getpx
	push 0
	cmpjae
	cmp0
	je l4234
	call anmgla2,getw
	popax
	sub 0,$a
	push 0
	call anmglaslow,move
	call anmgla2,getw
	popax
	sub 0,$a
	push 0
	call anmgla2,move
l4234:
	push 2
	push 0
	call anmglafast,move
	push 2
	push 0
	call anmgla3,move
	call anmgla3,getpx
	push 0
	cmpjae
	cmp0
	je l4236
	call anmgla3,getw
	popax
	sub 0,$a
	push 0
	call anmglafast,move
	call anmgla3,getw
	popax
	sub 0,$a
	push 0
	call anmgla3,move
l4236:
	cthis play
	end method
	method Cs32Endrejs1
	cthis framename
	push "blysk"
	cmpje
	cmp0
	je l4238
	push 1
	popax
	sub 0,$a
	push 1
	call anbkg,setframe
	push 1
	popax
	sub 0,$a
	push 1
	call anzamek,setframe
	jmp l4237
l4238:
	push 1
	popax
	sub 0,$a
	push 0
	call anbkg,setframe
	push 1
	popax
	sub 0,$a
	push 0
	call anzamek,setframe
l4237:
	end method
	method Cs32Endrejs2
	push 0
	push "mend"
	call anperuny,anplayfin
	end method
	method Cs32Endrejs3
	push "sndnar1"
	cthis cbplay
	end method
	method mend
	push "Cs32Endrejs4"
	call ccs,close
	end method
	method Cs32Endrejs4
	push "adwyspa"
	push "gameadwyspa2"
	cthis gotoadv2
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4240
	cthis mend
l4240:
	end method
	end game

	class clmiotla
	method init
	localstring $1
	pop $1
	new int,irow
	push $1
	call dbter,findbyrow
	pop irow
	new int,icol
	push 0
	pop icol
	new int,icols
	push irow
	push 0
	cmpjae
	cmp0
	je l4242
	push irow
	call dbter,getcolsno
	jmp l4241
l4242:
	push 0
l4241:
	pop icols
	end method
	method next
	localint $1
	push irow
	push icol
	call dbter,get
	pop $1
	push icol
	push 1
	pop $b
	popax
	add $a,$b
	push icols
	pop $b
	popax
	div $a,$b
	push $d
	pop icol
	push $1
	end method
	end class

	new int,bMiotlaPowtorka
	push 0
	pop bMiotlaPowtorka
	game Miotla
	parent StdGame
	method init
	push "miotla"
	clparent StdGame,init
	push A
	push "niebo.pyz"
	push "chmura1.pyz 5"
	push "sun.pyz 6"
	push "gory1.pyzH 10"
	push "chmury2.pyzH 20"
	push "chmury3.pyzH 30"
	push "drzewa.pyzH 40"
	push "drzewa2.pyzH 50"
	push "drzewa3.pyzH 60"
	push "kk.pyzP 55"
	push "bum.pyzH 65"
	push "klawisze.pyz 100"
	cthis imgs=
	push 0
	push 10
	call anklawisze,move
	push A
	push "bgrwiatr2N"
	push "hit1"
	push "orzel1"
	push "golab1"
	push "ges1"
	push "mewa1"
	push "ptak1"
	push "pelikan1"
	push "padlglaz"
	cthis sfxs=
	push "marsz.ogg -v 50 -l"
	call mus,playstr
	new classlives,clive
	push 100
	push 3
	push 13
	push 7
	push 10
	cthis red
	push 255
	cthis green
	push 255
	push 70
	push "left"
	call clive,set
	localdef $1
	push 20
	pop $1
	new gmimgvec,grbum
	push "anbum"
	push $1
	call grbum,ancopies
	new classancounter,ctbum
	push "anbum_"
	push $1
	call ctbum,set
	localint $2
	push 1
	pop $2
l4243:
	push $2
	push 6
	cmpjle
	cmp0
	je l4244
	jmp l4246
l4245:
	add $2,1
	pop $2
	jmp l4243
l4246:
	push $2
	cthis loadptak
	jmp l4245
l4244:
	localreal $3
	push 0.334
	popax
	sub 0,$a
	pop $3
	push "anniebo"
	push $3
	push 0
	new AnMover,csky1
	push "anniebo"
	push "anniebo2"
	cthis copyanima
	push "anniebo2"
	push $3
	push 0
	new AnMover,csky2
	call anniebo,getw
	push 0
	call anniebo2,move
	push "anchmura1"
	push $3
	push 0
	new AnMover,csky3
	call csky1,play
	call csky2,play
	call csky3,play
	push "dbter"
	push "tereny.db"
	cthis newdb
	push "gory1"
	push 20
	push 58
	push 4
	cthis loadtasma
	push "chmury2"
	push 30
	push 91
	push 1
	cthis loadtasma
	push "chmury3"
	push 35
	push 80
	push 1.5
	cthis loadtasma
	push "drzewa"
	push 20
	push 122
	push 7
	cthis loadtasma
	push "drzewa2"
	push 30
	push 210
	push 14
	cthis loadtasma
	push "drzewa3"
	push 30
	push 275
	push 21
	cthis loadtasma
	push 300
	push 250
	call ankk,move
	push "onfinish"
	push "Miotla0"
	call ankk,addmethod
	new int,icykler
	push 0
	pop icykler
	new int,icyklimit
	push 100000
	pop icyklimit
	new int,dolnyprog
	push 100
	pop dolnyprog
	push "timcyk"
	push "Miotla1"
	cthis cycle=
	localint $2
	push 0
	pop $2
l4288:
	push $2
	push 500
	cmpjl
	cmp0
	je l4289
	jmp l4291
l4290:
	add $2,1
	pop $2
	jmp l4288
l4291:
	cthis mcyk
	jmp l4290
l4289:
	push bModeEasy
	cmp0
	je l4293
	push "dbptak"
	push "ptaki_easy.db"
	cthis newdb
	jmp l4292
l4293:
	push "dbptak"
	push "ptaki.db"
	cthis newdb
l4292:
	new int,idptak
	push 0
	pop idptak
	new int,iptaszyle
	push 0
	pop iptaszyle
	push "timptak"
	push 50
	push 1
	push "Miotla3"
	cthis cnewtimercyclefin
	new vector,vptak
	new vector,vpdamage
	push "begin"
	push 20
	push 25
	push 30
	push 19
	push 24
	push 28
	call vptak,beginadd
	push "begin"
	push 2
	push 3
	push 7
	push 2
	push 5
	push 6
	call vpdamage,beginadd
	new int,bwygrali
	push 0
	pop bwygrali
	new int,bstracilster
	push 0
	pop bstracilster
	new int,bspadamy
	push 0
	pop bspadamy
	push A
	push "sndnar1"
	push "Kajko i Kokosz spieszyli si nad morze by odci drog ucieczki czarnoksinikowi Hodonowi ktry wykrad ukochanego kruka Jagi Gdasia; Ciotka Kokosza czarownica Jaga poyczya im swoj miot i ma latania aby ubiegli Hodona"
	push "Miotla5"
	push ":kajko1"
	push "Dobrze si prowadzi ta miota"
	push "Miotla6"
	push ":kokosz1"
	push "wiey rocznik; Ciotka kupia j na kredyt; Musimy uwaa eby nie zarysowa trzonka"
	push "Miotla7"
	push ":kajko2"
	push "Spokojna gowa omijam bez problemu wszystkie drzewa"
	push "Miotla8"
	push ":kokosz2"
	push "Nie o drzewa si martwi; Spjrz tam!"
	push "Miotla9"
	push ":kajko3"
	push "Rrety! Caa chmara ptakw; Odlatuj do ciepych krajw czy co?"
	push "Miotla10"
	push ":kokosz3"
	push "Omijaj je Kajku ja nie chc spada na drzewo!"
	push "Miotla11"
	push "sndnar2"
	push "Uyj strzaek aby unika zderze z ptakami; Wystrzegaj si duych ptakw jak orze lub g gdy zderzenie z nimi wyrzdza najwiksze szkody"
	push "mstart"
	push ":kajko4"
	push "Trzymaj si tym razem lepiej mi pjdzie"
	push "mstart"
	push ":kajko5"
	push "Straciem sterowno ratuj si kto moe!"
	push "Miotla12"
	push ":kokosz4"
	push "Hurra! Dalimy rad! Ptaszyska ominite! Kajko jeste mistrzem latania!"
	push "Miotla13"
	push ":kajko6"
	push "Najlepszy mistrz nie poradzi jak koczy si paliwo; Wanie zuyem ostatni dawk maci latania"
	push "Miotla14"
	push ":kokosz5"
	push "Co? Czy to znaczy e"
	push "Miotla15"
	push ":kajko7"
	push "Spadamy!"
	push "Miotla16"
	push ":kokosz6"
	push "Au!"
	push "null"
	push ":kokosz7"
	push "Uwaaj!"
	push "null"
	push ":kokosz8"
	push "W lewo!"
	push "null"
	push ":kokosz9"
	push "Do gry!"
	push "null"
	push ":kokosz10"
	push "A ten gdzie?"
	push "null"
	push ":kokosz11"
	push "Wymi ojoj!"
	push "null"
	cthis sounds=
	call timcyk,play
	push "Miotla17"
	call ccs,enter
	end method
	method Miotla0
	cthis actionname
	push "spada1"
	cmpje
	cmp0
	je l4248
	push "spada2"
	cthis play
	push 3
	pop igmstate
l4248:
	end method
	method Miotla1
	cthis mcyk
	localint $1
	push 10
	pop $1
	localint $2
	push 10
	pop $2
	push igmstate
	push 1
	cmpje
	cmp0
	je l4250
	push "up"
	call keyboard,iskeydown
	cmp0
	je l4252
	call ankk,actionname
	push "up"
	cmpjne
	cmp0
	je l4254
	push "up"
	call ankk,play
l4254:
	call ankk,getpy
	push $1
	cmpja
	cmp0
	je l4256
	push 0
	push $1
	popax
	sub 0,$a
	call ankk,move
l4256:
	jmp l4251
l4252:
	push "down"
	call keyboard,iskeydown
	cmp0
	je l4258
	call ankk,actionname
	push "down"
	cmpjne
	cmp0
	je l4260
	push "down"
	call ankk,play
l4260:
	call ankk,getey
	push iResY
	push $1
	pop $b
	popax
	sub $a,$b
	push dolnyprog
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4262
	push 0
	push $1
	call ankk,move
l4262:
	jmp l4257
l4258:
	push "right"
	call ankk,isplaying
	push 0
	cmpje
	cmp0
	je l4264
	push "right"
	call ankk,play
l4264:
l4257:
l4251:
	push "left"
	call keyboard,iskeydown
	cmp0
	je l4266
	call ankk,getpx
	push $2
	cmpja
	cmp0
	je l4268
	push $2
	popax
	sub 0,$a
	push 0
	call ankk,move
l4268:
	jmp l4265
l4266:
	push "right"
	call keyboard,iskeydown
	cmp0
	je l4270
	call ankk,getex
	push iResX
	push $2
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4272
	push $2
	push 0
	call ankk,move
l4272:
l4270:
l4265:
	jmp l4249
l4250:
	push igmstate
	push 3
	cmpje
	cmp0
	je l4274
	push $2
	push $1
	call ankk,move
	call ankk,getpx
	push iResX
	push 50
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	jne l4277
	call ankk,getpy
	push iResY
	push 50
	pop $b
	popax
	add $a,$b
	cmpja
	jmp l4278
l4276:
	push 0
	jmp l4278
l4277:
	push 1
l4278:
	cmp0
	je l4279
	push 4
	pop igmstate
l4279:
	jmp l4273
l4274:
	push igmstate
	push 4
	cmpje
	cmp0
	je l4281
	push bwygrali
	cmp0
	je l4283
	push bspadamy
	cmp0
	je l4285
	push 6
	pop igmstate
	push "Miotla2"
	call ccs,close
l4285:
	jmp l4282
l4283:
	push bstracilster
	cmp0
	je l4287
	push 5
	pop igmstate
	cthis mrestart
l4287:
l4282:
l4281:
l4273:
l4249:
	cthis play
	end method
	method Miotla2
	push "Cs31Endlot"
	call gameapi,play
	end method
	method Miotla3
	push GAME
	spushs
	spop $a
	call [$a],Miotla4
	end method
	method Miotla4
	localint $1
	push 0
	pop $1
l4294:
	push $1
	push 4
	cmpjl
	cmp0
	je l4295
	jmp l4297
l4296:
	add $1,1
	pop $1
	jmp l4294
l4297:
	push idptak
	push $1
	call dbptak,get
	push $1
	cthis moutptak
	jmp l4296
l4295:
	add idptak,1
	pop idptak
	push idptak
	spushs
	push 10
	cmpst
	jne l4299
	spop $a
	push 40
	call timptak,setcycle
	jmp l4298
l4299:
	push 20
	cmpst
	jne l4300
	spop $a
	push 35
	call timptak,setcycle
	jmp l4298
l4300:
	spop $a
l4298:
	push idptak
	call dbptak,getrowsno
	cmpjl
	cmp0
	je l4302
	call timptak,play
l4302:
	end method
	method Miotla5
	push 1
	cthis kasay
	end method
	method Miotla6
	push 1
	cthis kosay
	end method
	method Miotla7
	push 2
	cthis kasay
	end method
	method Miotla8
	push 2
	cthis kosay
	end method
	method Miotla9
	push 3
	cthis kasay
	end method
	method Miotla10
	push 3
	cthis kosay
	end method
	method Miotla11
	push "right"
	call ankk,play
	push "sndnar2"
	cthis cbplay
	end method
	method Miotla12
	push 1
	pop bstracilster
	end method
	method Miotla13
	push 6
	cthis kasay
	end method
	method Miotla14
	push 5
	cthis kosay
	end method
	method Miotla15
	push 7
	cthis kasay
	push 1
	pop bwygrali
	push "spada2"
	call ankk,play
	push 3
	pop igmstate
	end method
	method Miotla16
	push 1
	pop bspadamy
	end method
	method Miotla17
	push bMiotlaPowtorka
	cmp0
	je l4304
	push 0
	pop bMiotlaPowtorka
	push 4
	cthis kasay
	jmp l4303
l4304:
	push "sndnar1"
	cthis cbplay
l4303:
	end method
	method mrestart
	call fxpadlglaz,play
	push "Miotla18"
	call ccs,close
	end method
	method Miotla18
	push 1
	pop bMiotlaPowtorka
	push "Miotla"
	call gameapi,play
	end method
	method mstart
	call timptak,play
	push 1
	pop igmstate
	end method
	method kosay
	localint $1
	pop $1
	push "kokosz"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push "koko"
	call ankk,play
	end method
	method kasay
	localint $1
	pop $1
	push "kajko"
	push $1
	pop $b
	popax
	add $a,$b
	cthis cbplay
	push "kajko"
	call ankk,play
	end method
	method moutptak
	localint $1
	localint $2
	pop $2
	pop $1
	push $1
	cmp0
	je l4306
	localdef $3
	push "ctp"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $3
	push $3
	spushs
	push iResX
	push 100
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	add $a,$b
	push $2
	push iResY
	push dolnyprog
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	push 4
	pop $b
	popax
	div $a,$b
	psax
	push 20
	pop $b
	popax
	add $a,$b
	push 41
	spushs
	spop $h
	call $h,rand
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],ansetbpos
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
	add iptaszyle,1
	pop iptaszyle
l4306:
	end method
	method loadptak
	localint $1
	pop $1
	push "anptak"
	push $1
	pop $b
	popax
	add $a,$b
	push "ptak"
	push $1
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	call ankk,getz
	cthis newanima
	push "anptak"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],hide
	localdef $2
	push "grp"
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	push $2
	spushs
	spop $e
	new gmimgvec,[$e]
	localdef $3
	push 40
	pop $3
	push $2
	spushs
	push "anptak"
	push $1
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],ancopies
	push $2
	spushs
	push "Miotla19"
	spop $a
	call [$a],eval
	push "ctp"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new classancounter,[$e]
	push "ctp"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "anptak"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $3
	spop $a
	call [$a],set
	end method
	method Miotla19
	push "iptak"
	cthis getname
	spushs
	push "anptak"
	spop $h
	call $h,strsubbs
	spushs
	spop $h
	call $h,to_i
	cthis var2
	push iptak
	spushs
	push 1
	cmpst
	je l4309
	push 4
	cmpst
	je l4309
	jmp l4308
l4309:
	spop $a
	push "fxgolab1"
	jmp l4307
l4308:
	push 2
	cmpst
	jne l4310
	spop $a
	push "fxmewa1"
	jmp l4307
l4310:
	push 3
	cmpst
	jne l4311
	spop $a
	push "fxorzel1"
	jmp l4307
l4311:
	push 5
	cmpst
	jne l4312
	spop $a
	push "fxpelikan1"
	jmp l4307
l4312:
	push 6
	cmpst
	jne l4313
	spop $a
	push "fxges1"
	jmp l4307
l4313:
	spop $a
l4307:
	localdef $1
	pop $1
	push "sfxptak"
	push $1
	cthis var2
	push "onfinish"
	push "Miotla20"
	cthis addmethod
	push "onendframe"
	push "Miotla21"
	cthis addmethod
	end method
	method Miotla20
	push 0
	cthis play
	end method
	method Miotla21
	localdef $1
	cthis getex
	pop $1
	push iptak
	push 1
	pop $b
	popax
	sub $a,$b
	call vptak,get
	popax
	sub 0,$a
	push 0
	cthis move
	localdef $2
	cthis getex
	pop $2
	push $1
	push iResX
	cmpjae
	cmp0
	je l4315
	push $2
	push iResX
	cmpjl
	jmp l4317
l4315:
	push 0
	jmp l4317
l4316:
	push 1
l4317:
	cmp0
	je l4318
	push sfxptak
	spushs
	spop $a
	call [$a],playif
l4318:
	push $2
	push 0
	cmpjl
	cmp0
	je l4320
	sub iptaszyle,1
	pop iptaszyle
	push iptaszyle
	push 1
	cmpjle
	cmp0
	je l4322
	push idptak
	call dbptak,getrowsno
	cmpjae
	cmp0
	je l4322
	push igmstate
	push 1
	cmpje
	jmp l4324
l4322:
	push 0
	jmp l4324
l4323:
	push 1
l4324:
	cmp0
	je l4325
	push 4
	cthis kosay
	push 2
	pop igmstate
l4325:
	push 0
	cthis stop
	cthis hide
	jmp l4319
l4320:
	localdef $3
	cthis geth
	push 4
	pop $b
	popax
	div $a,$b
	psax
	pop $3
	cthis getpx
	cthis getcy
	cthis mbum
	cmp0
	je l4327
	jmp l4326
l4327:
	cthis getcx
	cthis getcy
	push $3
	pop $b
	popax
	add $a,$b
	cthis mbum
	cmp0
	je l4329
	jmp l4328
l4329:
	cthis getcx
	cthis getey
	push $3
	pop $b
	popax
	sub $a,$b
	cthis mbum
	cmp0
	je l4331
	jmp l4330
l4331:
	cthis getcx
	cthis getcy
	cthis mbum
	cmp0
	je l4333
l4333:
l4330:
l4328:
l4326:
l4319:
	end method
	method mbum
	localint $1
	localint $2
	pop $2
	pop $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l4335
	push $1
	push $2
	push 1
	push 1
	call ankk,isin
	jmp l4337
l4335:
	push 0
	jmp l4337
l4336:
	push 1
l4337:
	cmp0
	je l4338
	localdef $3
	call ctbum,get
	pop $3
	push $3
	spushs
	push $1
	push $2
	spop $a
	call [$a],setpos
	push $3
	spushs
	push 0
	spop $a
	call [$a],play
	push sfxptak
	spushs
	spop $a
	call [$a],playif
	call fxhit1,play
	call clive,destroyed
	neg
	cmp0
	je l4340
	push iptak
	push 1
	pop $b
	popax
	sub $a,$b
	call vpdamage,get
	call clive,damage
	call clive,destroyed
	cmp0
	je l4342
	push 2
	pop igmstate
	push "kajko5"
	cthis cbplay
	push "spada1"
	call ankk,play
	jmp l4341
l4342:
	push 3
	spushs
	spop $h
	call $h,rand
	push 0
	cmpje
	cmp0
	je l4344
	push "kokosz"
	push 6
	spushs
	spop $h
	call $h,rand
	push 6
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis crplay
l4344:
l4341:
l4340:
	push 1
	cthis play
	push 1
	jmp l4334
l4338:
	push 0
l4334:
	end method
	method loadtasma
	localstring $1
	localint $2
	localint $3
	localreal $4
	pop $4
	pop $3
	pop $2
	pop $1
	push "ic"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $e
	new int,[$e]
	push $3
	pop [$e]
	localstring $5
	push "clm"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push $1
	spop $e
	new clmiotla,[$e]
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new gmimgvec,[$e]
	push $5
	spushs
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	push $2
	spop $a
	call [$a],ancopies
	push "ct"
	push $1
	pop $b
	popax
	add $a,$b
	pop $5
	push $5
	spushs
	spop $e
	new classancounter,[$e]
	push $5
	spushs
	push "an"
	push $1
	pop $b
	popax
	add $a,$b
	push "_"
	pop $b
	popax
	add $a,$b
	push $2
	spop $a
	call [$a],set
	push "cm"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	push "gr"
	push $1
	pop $b
	popax
	add $a,$b
	push $4
	popax
	sub 0,$a
	push 0
	spop $e
	new AnMover,[$e]
	end method
	method mcyk
	push icykler
	push 1
	pop $b
	popax
	add $a,$b
	push icyklimit
	pop $b
	popax
	div $a,$b
	push $d
	pop icykler
	push "gory1"
	cthis mnext
	push "chmury2"
	cthis mnext
	push "chmury3"
	cthis mnext
	push "drzewa"
	cthis mnext
	push "drzewa2"
	cthis mnext
	push "drzewa3"
	cthis mnext
	end method
	method mnext
	localstring $1
	pop $1
	push "cm"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],move
	localint $2
	push "ic"
	push $1
	pop $b
	popax
	add $a,$b
	popax
	mov $a,[$a]
	psax
	pop $2
	push icykler
	push $2
	pop $b
	popax
	div $a,$b
	push $d
	push 0
	cmpje
	cmp0
	je l4346
	push "clm"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],next
	pop $2
	push $2
	cmp0
	je l4348
	sub $2,1
	pop $2
	localdef $3
	push "ct"
	push $1
	pop $b
	popax
	add $a,$b
	spushs
	spop $a
	call [$a],get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],show
	push $3
	spushs
	push $2
	push 0
	spop $a
	call [$a],setframe
	push $3
	spushs
	push iResX
	push $3
	spushs
	spop $a
	call [$a],lodx
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],setpos
l4348:
l4346:
	end method
	method csky1_finish
	call anniebo,getex
	push 0
	cmpjle
	cmp0
	je l4350
	cthis reset
	call csky2,reset
	push 0
	push 0
	call anniebo,setpos
	call anniebo,getex
	push 0
	call anniebo2,setpos
l4350:
	end method
	method csky3_finish
	call anchmura1,getex
	push 10
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4352
	push iResX
	push 10
	pop $b
	popax
	add $a,$b
	push 0
	call anchmura1,setpos
l4352:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4354
	push 1
	cthis cactsndstop
l4354:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4356
	cthis mend
l4356:
	end method
	end game

	game Eter
	parent StdGame
	method init
	push "eter"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "wioska.pyzG 10"
	push "pirat.pyz 15"
	push "kratka.pyz 15"
	push "beczka.pyz 20"
	push "plusk.pyzH 25"
	push "maskabeczka.pyz 30"
	push "kokosz.pyz 30"
	push "eter.pyz 40"
	push "kajko.pyz 50"
	push "pocisk.pyzH 55"
	push "wlot.pyzH"
	push "grels"
	cthis imgsgr=
	push A
	push "bgrout2N 70"
	push "bgrmorze3N 40"
	push "ogien2N 20"
	push "bgrimprezaN 10"
	push "pedzel2"
	push "bat"
	cthis sfxs=
	new int,dxtimer
	push 10
	pop dxtimer
	push "timr"
	push "Eter0"
	cthis cycle=
	push "timl"
	push "Eter1"
	cthis cycle=
	new vector,vkoko
	new vector,vkat
	push "real"
	call vkat,type
	new real,xkoko
	push 323.0
	pop xkoko
	new real,ykoko
	push 620.0
	pop ykoko
	localreal $1
	localreal $2
	localreal $3
	localreal $4
	localint $5
	push 0
	pop $5
l4361:
	push $5
	push 0
	call ankokosz,nofframes
	cmpjl
	cmp0
	je l4362
	jmp l4364
l4363:
	add $5,1
	pop $5
	jmp l4361
l4364:
	push 0
	push $5
	call ankokosz,setframe
	call ankokosz,getex
	push 1
	pop $b
	popax
	sub $a,$b
	push xkoko
	pop $b
	popax
	sub $a,$b
	pop $1
	cthis getkoy
	call vkoko,add
	push ykoko
	call vkoko,last
	pop $b
	popax
	sub $a,$b
	pop $2
	push $2
	push $1
	pop $b
	popax
	div $a,$b
	psax
	call vkat,add
	jmp l4363
l4362:
	new real,pociskxstart
	push 12
	pop pociskxstart
	new real,pociskystart
	push 12
	pop pociskystart
	new real,rpociskx
	new real,rpocisky
	new real,aziemi
	push 0.17
	pop aziemi
	new real,rpower
	push 1.0
	pop rpower
	new real,rsin
	new real,rcos
	push "timgo"
	push "Eter2"
	cthis cycle=
	push "onfinish"
	push "Eter3"
	call anplusk,addmethod
	new img,imgbg
	push 210
	push 16
	cthis green
	push 255
	call imgbg,create
	localdef $6
	push 20
	pop $6
	localdef $7
	push 10
	pop $7
	push $6
	push $7
	call imgbg,setpos
	push 100
	call imgbg,setz
	new img,impower
	push 200
	push 10
	cthis red
	push 255
	call impower,create
	push $6
	call imgbg,getw
	call impower,getw
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	push $7
	call imgbg,geth
	call impower,geth
	pop $b
	popax
	sub $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	add $a,$b
	call impower,setpos
	push 110
	call impower,setz
	new int,idpower
	push 5
	pop idpower
	new int,ipower
	push 0
	pop ipower
	cthis mreset
	push "timpower"
	push "Eter4"
	cthis cycle=
	push "onfinish"
	push "mfire"
	call ankajko,addmethod
	new classplacepointer2,clp
	push A
	push ":kajko1"
	push "Popatrz dokadnie; Piraci co chwil nabieraj piwo z beczki; Jeli niepostrzeenie wstrzykniemy do rodka trutk Hodona"
	push "Eter5"
	push ":kokosz1"
	push "To sami si unieszkodliwi! Jeste geniuszem Kajko!"
	push "Eter6"
	push ":kajko2"
	push "Nie chwal dnia przed zachodem soca; ebym mg precyzyjnie celowa wyrzutni potrzebuj twojej pomocy; A dokadniej twoich plecw"
	push "Eter7"
	push ":kokosz2"
	push "Moich plecw? Co ty kombinujesz?"
	push "Eter8"
	push ":kajko3"
	push "Zobaczysz; Schyl si tutaj"
	push "Eter9"
	push "sndnar1"
	push "Kajko i Kokosz bd strzela kropelkami trutki do beczki"
	push "Eter10"
	push "sndnar2"
	push "Uyj myszy do ustawienia dziaka i kliknij eby odda strza; Przytrzymaj klik aby ustawi si wystrzau; Do dziea!"
	push "Eter11"
	push ":kajko4"
	push "Trafiony!"
	push "Eter12"
	cthis sounds=
	push iResX
	call anbkg,getex
	pop $b
	popax
	sub $a,$b
	push 0
	call grels,move
	push "kajko1"
	cthis cbplay
	end method
	method Eter0
	push dxtimer
	popax
	sub 0,$a
	push 0
	call grels,move
	call anbkg,getex
	push iResX
	cmpjl
	cmp0
	je l4358
	push iResX
	call anbkg,getex
	pop $b
	popax
	sub $a,$b
	push 0
	call grels,move
	cthis mend
	jmp l4357
l4358:
	cthis play
l4357:
	end method
	method Eter1
	push dxtimer
	push 0
	call grels,move
	call anbkg,getpx
	push 0
	cmpja
	cmp0
	je l4360
	call anbkg,getpx
	popax
	sub 0,$a
	push 0
	call grels,move
	push 1
	pop igmstate
	jmp l4359
l4360:
	cthis play
l4359:
	end method
	method Eter2
	push rpociskx
	push rpocisky
	call anpocisk,move
	push aziemi
	popax
	add rpocisky,$a
	pop rpocisky
	call anpocisk,getcx
	call anpocisk,getcy
	push 0
	push 1
	call anwlot,isin
	cmp0
	je l4366
	push 3
	pop igmstate
	call fxpedzel2,play
	push 0
	call anplusk,play
	call anpocisk,hide
	jmp l4365
l4366:
	call anpocisk,getpx
	push iResX
	cmpja
	cmp0
	jne l4369
	call anpocisk,getpy
	push iResY
	cmpja
	jmp l4370
l4368:
	push 0
	jmp l4370
l4369:
	push 1
l4370:
	cmp0
	je l4371
	cthis magain
	jmp l4367
l4371:
	cthis play
l4367:
l4365:
	end method
	method Eter3
	push "kajko4"
	cthis cbplay
	end method
	method Eter4
	push idpower
	cthis mpower
	push ipower
	call impower,getw
	cmpja
	cmp0
	je l4373
	call impower,getw
	pop ipower
l4373:
	cthis play
	end method
	method Eter5
	push "kokosz1"
	cthis cbplay
	end method
	method Eter6
	push "kajko2"
	cthis cbplay
	end method
	method Eter7
	push "kokosz2"
	cthis cbplay
	end method
	method Eter8
	push "kajko3"
	cthis cbplay
	end method
	method Eter9
	push "sndnar1"
	cthis cbplay
	push "anplusk"
	push "rd"
	call clp,showob
	end method
	method Eter10
	push "sndnar2"
	cthis cbplay
	push "imgbg"
	push "lu"
	call clp,showob
	end method
	method Eter11
	call timl,play
	call clp,stoph
	end method
	method Eter12
	call timr,play
	end method
	method mreset
	push ipower
	popax
	sub 0,$a
	push idpower
	pop $b
	popax
	add $a,$b
	cthis mpower
	end method
	method mpower
	localint $1
	pop $1
	push $1
	popax
	add ipower,$a
	pop ipower
	push 0
	push 0
	call impower,getpx
	push ipower
	pop $b
	popax
	add $a,$b
	push iResY
	call impower,clip
	end method
	method getkoy
	localint $1
	localint $2
	push "ankokosz"
	call ankokosz,getex
	push 1
	pop $b
	popax
	sub $a,$b
	call ankokosz,getpy
	push 0
	push 1
	clparent classansearcher,_findnotr
	pop $2
	pop $1
	push $2
	end method
	method mouse_move
	push igmstate
	push 1
	cmpje
	cmp0
	je l4375
	localreal $1
	call mouse,getposx
	call ankokosz,getex
	pop $b
	popax
	sub $a,$b
	pop $1
	push $1
	push 0
	cmpja
	cmp0
	je l4377
	localreal $2
	push ykoko
	call mouse,getposy
	pop $b
	popax
	sub $a,$b
	pop $2
	localreal $3
	push $1
	push $2
	call $1,length
	pop $3
	push $2
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop rsin
	push $1
	push $3
	pop $b
	popax
	div $a,$b
	psax
	pop rcos
	push $2
	push 0
	cmpjle
	cmp0
	je l4379
	push 0
	push 0
	call ankokosz,setframe
	jmp l4378
l4379:
	push 0
	push $2
	push $1
	pop $b
	popax
	div $a,$b
	psax
	call vkat,vecclosest
	call ankokosz,setframe
l4378:
l4377:
l4375:
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4381
	call timpower,play
l4381:
	end method
	method mouse_lrel
	push igmstate
	push 1
	cmpje
	cmp0
	je l4383
	push 0
	call timpower,stop
	push 2
	pop igmstate
	push 0
	call ankajko,play
l4383:
	end method
	method mfire
	call ankokosz,getex
	push 1
	pop $b
	popax
	sub $a,$b
	call ankokosz,framenr
	call vkoko,get
	call anpocisk,geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	call anpocisk,ansetbpos
	call anpocisk,show
	push 2.0
	push ipower
	pop $b
	popax
	mul $a,$b
	call impower,getw
	spushs
	spop $h
	call $h,to_r
	pop $b
	popax
	div $a,$b
	psax
	pop rpower
	push rpower
	push pociskxstart
	pop $b
	popax
	mul $a,$b
	push rcos
	pop $b
	popax
	mul $a,$b
	pop rpociskx
	push pociskystart
	popax
	sub 0,$a
	push rsin
	pop $b
	popax
	mul $a,$b
	push rpower
	pop $b
	popax
	mul $a,$b
	pop rpocisky
	call timgo,play
	call fxbat,play
	end method
	method magain
	cthis mreset
	push 1
	pop igmstate
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4385
	cthis mend
l4385:
	end method
	method mend
	push "Eter13"
	call ccs,close
	end method
	method Eter13
	push "adwioskaplac"
	push "gameadwioskaplac2"
	cthis gotoadv
	end method
	end game

	new int,bRejsRepeat
	push 0
	pop bRejsRepeat
	game Rejs
	parent StdGame
	method init
	push "rejs"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "woda1.pyzP 10"
	push "woda2.pyzG 5"
	push "kk.pyzP 20"
	push "deszcz.pyzH 200"
	push "blysk3.pyz 190"
	push "els.pyzH"
	push "$scripts/miotla/klawisze.pyz 205"
	cthis imgs=
	push A
	push "bgrmorzeN"
	push "bgrdeszcz 80"
	push "perun1"
	push "perun2"
	push "uderzwlodz"
	cthis sfxs=
	new gmimgvec,grel
	localdef $1
	push 100
	pop $1
	push "anels"
	push $1
	call grel,ancopies
	push "Rejs0"
	call grel,eval
	new gmimgvec,grska
	new classancounter,cpel
	push "anels_"
	push $1
	call cpel,set
	new int,idprzes
	push 0
	pop idprzes
	push bModeEasy
	cmp0
	je l4389
	push "dbel"
	push "rejs_easy.db"
	cthis newdb
	jmp l4388
l4389:
	push "dbel"
	push "rejs.db"
	cthis newdb
l4388:
	push "timel"
	push 2000
	push "Rejs2"
	cthis timer=
	new vector,vwoda
	push "real"
	call vwoda,type
	push "begin"
	push 0.28
	push 1.27
	push 2.4
	push 5.54
	call vwoda,beginadd
	new vector,vprzes
	push "real"
	call vprzes,type
	localdef $2
	push 0.75
	pop $2
	push "begin"
	push $2
	push $2
	push 1
	call vwoda,get
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 1
	call vwoda,get
	push 1
	call vwoda,get
	push 2
	call vwoda,get
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 2
	call vwoda,get
	push 2
	call vwoda,get
	push 3
	call vwoda,get
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 3
	call vwoda,get
	call vprzes,beginadd
	push "Rejs3"
	call grwoda2,each
	push "anbkg"
	push "anbg2"
	cthis copyanima
	call anbg2,getw
	push 0
	call anbg2,move
	new real,rwodax
	push 0.0
	pop rwodax
	new real,rspeed
	push 1.0
	pop rspeed
	push "timwoda"
	push "Rejs5"
	cthis cycle=
	call timwoda,play
	new filter,ftkk
	push "ankk"
	call ftkk,link
	push 1
	call ftkk,setpivottype
	new vector,vkk
	push "begin"
	push 1
	push 1
	push 2
	push 2
	push 3
	push 3
	push 3
	push 4
	push 4
	push 4
	push 4
	push 3
	push 3
	push 3
	push 2
	push 2
	push 1
	push 1
	push 0
	push 0
	push 0
	call vkk,beginadd
	new int,idrot
	push 0
	pop idrot
	new vector,vlev
	localint $3
	localint $4
	localint $5
	push 0
	pop $5
l4436:
	push $5
	push 3
	cmpjl
	cmp0
	je l4437
	jmp l4439
l4438:
	add $5,1
	pop $5
	jmp l4436
l4439:
	push $5
	call grwoda2,get
	spushs
	spop $a
	call [$a],getpy
	pop $3
	push $5
	push 1
	pop $b
	popax
	add $a,$b
	call grwoda2,get
	spushs
	spop $a
	call [$a],getpy
	pop $4
	push $3
	call vlev,add
	push $3
	push $4
	pop $b
	popax
	add $a,$b
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call vlev,add
	jmp l4438
l4437:
	push $4
	call vlev,add
	new vector,vzoom
	push "real"
	call vzoom,type
	push "begin"
	push 0.16
	push 0.27
	push 0.4
	push 0.5
	push 0.65
	push 0.8
	push 1.0
	call vzoom,beginadd
	new int,ilelevel
	call vzoom,size
	push 1
	pop $b
	popax
	sub $a,$b
	pop ilelevel
	new int,ilevel
	push ilelevel
	pop ilevel
	push "timkk"
	push "Rejs6"
	cthis cycle=
	push 300
	cthis mkkpos
	call timkk,play
	push A
	push "sndnar1"
	push "Ksiycowy kamie prowadzi Kajka i Kokosza ku wyspie Hokulandii gdzie w pospnym zamczysku na skale mieszka czarnoksinik Hodon; Przyjaciele starali si nie straci ldu z oczu aby w razie uszkodzenia odzi nie uton"
	push "Rejs7"
	push ":kokosz1"
	push "Mylaem e ten rejs moe by niebezpieczny; Jak na razi nudz si i robi si godny; Dugo jeszcze bdziemy pyn?"
	push "Rejs8"
	push ":kajko1"
	push "Skd mam wiedzie? Lepiej nie narzekaj bo sprowadzisz jakie nieszczcie"
	push "Rejs9"
	push ":kokosz2"
	push "Ee tam; Nie pamitam kiedy ostatnio uczestniczyem w tak nudnej przygodzie"
	push "Rejs10"
	push ":kajko2"
	push "Teraz ci lepiej?"
	push "Rejs11"
	push ":kokosz3"
	push "Przeklta pogoda; Miaem na myli co innego; Jakie morskie przygody a nie burz"
	push "Rejs12"
	push ":kajko3"
	push "No to ciekawe co powiesz na to; Widz na horyzoncie skay i mielizny"
	push "Rejs13"
	push ":kokosz4"
	push "Odwouje wszystko co mwiem; Moemy to jako omin?"
	push "Rejs14"
	push ":kajko4"
	push "Za pno; Trzymaj ster bdziemy manewrowa midzy przeszkodami"
	push "mstart"
	cthis sounds=
	push "timrain"
	push 1000
	push "Rejs15"
	cthis timer=
	push "timrain2"
	push 2000
	push "Rejs16"
	cthis timer=
	push bRejsRepeat
	cmp0
	je l4451
	push 0
	pop bRejsRepeat
	cthis mstart
	cthis mrain
	jmp l4450
l4451:
	push "sndnar1"
	cthis cbplay
l4450:
	end method
	method Rejs0
	push A
	push "xpos"
	push 0.0
	push "rdx"
	push 0.0
	push "idtor"
	push 0
	cthis vars2
	push "elmove"
	push "Rejs1"
	cthis addmethod
	end method
	method Rejs1
	push rdx
	push rspeed
	pop $b
	popax
	mul $a,$b
	popax
	add xpos,$a
	pop xpos
	localint $1
	push xpos
	pop $1
	push $1
	cmp0
	je l4387
	push $1
	popax
	sub xpos,$a
	pop xpos
	push $1
	popax
	sub 0,$a
	push 0
	cthis move
l4387:
	end method
	method Rejs2
	localint $1
	push 0
	pop $1
l4390:
	push $1
	push 3
	cmpjl
	cmp0
	je l4391
	jmp l4393
l4392:
	add $1,1
	pop $1
	jmp l4390
l4393:
	localstring $2
	push idprzes
	push $1
	call dbel,get
	pop $2
	push $2
	cmp0
	je l4395
	localdef $3
	call cpel,get
	pop $3
	push $3
	spushs
	call $2,to_i
	push 1
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],setframe
	push $2
	spushs
	push "1"
	cmpst
	je l4398
	push "2"
	cmpst
	je l4398
	push "3"
	cmpst
	je l4398
	jmp l4397
l4398:
	spop $a
	push 0
	jmp l4396
l4397:
	push "1a"
	cmpst
	je l4400
	push "2a"
	cmpst
	je l4400
	push "3a"
	cmpst
	je l4400
	jmp l4399
l4400:
	spop $a
	push 1
	jmp l4396
l4399:
	push "4"
	cmpst
	je l4402
	push "5"
	cmpst
	je l4402
	jmp l4401
l4402:
	spop $a
	push 2
	jmp l4396
l4401:
	push "4a"
	cmpst
	je l4404
	push "5a"
	cmpst
	je l4404
	jmp l4403
l4404:
	spop $a
	push 3
	jmp l4396
l4403:
	push "6"
	cmpst
	je l4406
	push "7"
	cmpst
	je l4406
	push "8"
	cmpst
	je l4406
	push "9"
	cmpst
	je l4406
	jmp l4405
l4406:
	spop $a
	push 4
	jmp l4396
l4405:
	push "6a"
	cmpst
	je l4408
	push "7a"
	cmpst
	je l4408
	push "8a"
	cmpst
	je l4408
	push "9a"
	cmpst
	je l4408
	jmp l4407
l4408:
	spop $a
	push 5
	jmp l4396
l4407:
	push "10"
	cmpst
	je l4410
	push "11"
	cmpst
	je l4410
	push "12"
	cmpst
	je l4410
	jmp l4409
l4410:
	spop $a
	push 6
	jmp l4396
l4409:
	push "13"
	cmpst
	je l4412
	push "14"
	cmpst
	je l4412
	jmp l4411
l4412:
	spop $a
	push 7
	jmp l4396
l4411:
	spop $a
l4396:
	localint $4
	pop $4
	push $3
	spushs
	push $4
	spop $a
	call [$a],idtor=
	push $4
	push 7
	cmpje
	cmp0
	je l4414
	push $3
	spushs
	push 1.5
	call vprzes,last
	pop $b
	popax
	mul $a,$b
	spop $a
	call [$a],rdx=
	push $3
	spushs
	push iResX
	push $3
	spushs
	spop $a
	call [$a],getpx
	pop $b
	popax
	sub $a,$b
	push 0
	spop $a
	call [$a],move
	jmp l4413
l4414:
	push $3
	spushs
	push $4
	call vprzes,get
	spop $a
	call [$a],rdx=
	push $3
	spushs
	push iResX
	push $4
	call vlev,get
	spop $a
	call [$a],setpos
l4413:
	push $3
	spushs
	push 0.0
	spop $a
	call [$a],xpos=
	push $3
	spushs
	push $4
	push 1
	spop $a
	call [$a],msetz
	push $3
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],play
	push $3
	call grska,add
l4395:
	jmp l4392
l4391:
	add idprzes,1
	pop idprzes
	push idprzes
	call dbel,getrowsno
	cmpjl
	cmp0
	je l4416
	cthis play
l4416:
	end method
	method Rejs3
	localdef $1
	pop $1
	new string,skopia
	cthis getname
	push "_1"
	pop $b
	popax
	add $a,$b
	pop skopia
	cthis getname
	push skopia
	cthis copyanima
	push skopia
	spushs
	cthis getw
	push 0
	spop $a
	call [$a],move
	new string,skopia2
	cthis getname
	push "_2"
	pop $b
	popax
	add $a,$b
	pop skopia2
	cthis getname
	push skopia2
	cthis copyanima
	push skopia2
	spushs
	push 2
	cthis getw
	pop $b
	popax
	mul $a,$b
	push 0
	spop $a
	call [$a],move
	new string,skopia3
	cthis getname
	push "_3"
	pop $b
	popax
	add $a,$b
	pop skopia3
	cthis getname
	push skopia3
	cthis copyanima
	push skopia3
	spushs
	push 3
	cthis getw
	pop $b
	popax
	mul $a,$b
	push 0
	spop $a
	call [$a],move
	new real,rmovx
	push 0.0
	pop rmovx
	new real,rdx
	push $1
	call vwoda,get
	pop rdx
	push "wodamove"
	push "Rejs4"
	cthis addmethod
	end method
	method Rejs4
	localreal $1
	pop $1
	push rdx
	push $1
	pop $b
	popax
	mul $a,$b
	popax
	add rmovx,$a
	pop rmovx
	localint $2
	push rmovx
	pop $2
	push $2
	cmp0
	je l4418
	push $2
	popax
	sub rmovx,$a
	pop rmovx
	push $2
	popax
	sub 0,$a
	push 0
	cthis move
	push skopia
	spushs
	push $2
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push skopia2
	spushs
	push $2
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push skopia3
	spushs
	push $2
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],move
	push skopia2
	spushs
	spop $a
	call [$a],getpx
	push 0
	cmpjl
	cmp0
	je l4420
	push 2
	cthis getw
	pop $b
	popax
	mul $a,$b
	pop $2
	push $2
	push 0
	cthis move
	push skopia
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
	push skopia2
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
	push skopia3
	spushs
	push $2
	push 0
	spop $a
	call [$a],move
l4420:
l4418:
	end method
	method Rejs5
	push "wodamove"
	push rspeed
	call grwoda2,eval1
	push rspeed
	push 0
	call vwoda,get
	pop $b
	popax
	mul $a,$b
	popax
	add rwodax,$a
	pop rwodax
	localint $1
	push rwodax
	pop $1
	push $1
	cmp0
	je l4422
	push $1
	popax
	sub rwodax,$a
	pop rwodax
	push $1
	popax
	sub 0,$a
	push 0
	call anbkg,move
	push $1
	popax
	sub 0,$a
	push 0
	call anbg2,move
	call anbg2,getpx
	push 0
	cmpjl
	cmp0
	je l4424
	call anbkg,getw
	pop $1
	push $1
	push 0
	call anbkg,move
	push $1
	push 0
	call anbg2,move
l4424:
l4422:
	localint $2
	push 0
	pop $2
l4425:
	push $2
	call grska,size
	cmpjl
	cmp0
	je l4426
	localdef $3
	push $2
	call grska,get
	pop $3
	push $3
	spushs
	spop $a
	call [$a],elmove
	push $3
	spushs
	spop $a
	call [$a],getex
	push 0
	cmpjl
	cmp0
	je l4428
	push $3
	spushs
	spop $a
	call [$a],anhide
	push $3
	call grska,remove
	jmp l4427
l4428:
	push $3
	spushs
	spop $a
	call [$a],mcheck
	cmp0
	je l4430
	cthis mend
	call fxuderzwlodz,play
	ret
l4430:
	add $2,1
	pop $2
l4427:
	jmp l4425
l4426:
	push idprzes
	call dbel,getrowsno
	cmpjae
	cmp0
	je l4432
	call grska,empty
	jmp l4434
l4432:
	push 0
	jmp l4434
l4433:
	push 1
l4434:
	cmp0
	je l4435
	cthis mfinish
	jmp l4431
l4435:
	cthis play
l4431:
	end method
	method Rejs6
	localreal $1
	push ilevel
	call vzoom,get
	push 15.0
	pop $b
	popax
	mul $a,$b
	pop $1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4441
	push "left"
	call keyboard,iskeydown
	cmp0
	je l4443
	call ankk,getpx
	push 40
	cmpja
	cmp0
	je l4445
	push $1
	popax
	sub 0,$a
	push 0
	call ankk,move
l4445:
	jmp l4442
l4443:
	push "right"
	call keyboard,iskeydown
	cmp0
	je l4447
	call ankk,getex
	push iResX
	push 100
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l4449
	push $1
	push 0
	call ankk,move
l4449:
l4447:
l4442:
l4441:
	push idrot
	call vkk,get
	push ilevel
	call vzoom,get
	call ftkk,setanglezoom
	push idrot
	push 1
	pop $b
	popax
	add $a,$b
	call vkk,size
	pop $b
	popax
	div $a,$b
	push $d
	pop idrot
	cthis play
	end method
	method Rejs7
	push "kokosz1"
	cthis cbplay
	end method
	method Rejs8
	push "kajko1"
	cthis cbplay
	end method
	method Rejs9
	push "kokosz2"
	cthis cbplay
	end method
	method Rejs10
	call timrain,play
	end method
	method Rejs11
	push "kokosz3"
	cthis cbplay
	end method
	method Rejs12
	push "kajko3"
	cthis cbplay
	end method
	method Rejs13
	push "kokosz4"
	cthis cbplay
	end method
	method Rejs14
	push "kajko4"
	cthis cbplay
	end method
	method Rejs15
	cthis mrain
	call timrain2,play
	end method
	method Rejs16
	push "kajko2"
	cthis cbplay
	end method
	method mrain
	push 0
	call andeszcz,play
	push 0
	call anblysk3,play
	call fxbgrdeszcz,playloop
	end method
	method mstart
	push 1
	pop igmstate
	call timel,play
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4453
	push 1
	cthis cactsndstop
l4453:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4455
	cthis mfinish
l4455:
	end method
	method key_down
	push igmstate
	push 1
	cmpje
	cmp0
	je l4457
	localdef $1
	push 0
	pop $1
	localreal $2
	push "down"
	call keyboard,iskey
	cmp0
	je l4459
	add ilevel,1
	pop ilevel
	push ilevel
	push ilelevel
	cmpja
	cmp0
	je l4461
	push ilelevel
	pop ilevel
	jmp l4460
l4461:
	push 0
	pop $2
l4460:
	push 1
	pop $1
	jmp l4458
l4459:
	push "up"
	call keyboard,iskey
	cmp0
	je l4463
	sub ilevel,1
	pop ilevel
	push ilevel
	push 0
	cmpjl
	cmp0
	je l4465
	push 0
	pop ilevel
	jmp l4464
l4465:
	push ilevel
	push 1
	pop $b
	popax
	add $a,$b
	call vzoom,get
	push ilevel
	call vzoom,get
	pop $b
	popax
	sub $a,$b
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	call ankk,getposx
	pop $b
	popax
	sub $a,$b
	pop $b
	popax
	mul $a,$b
	pop $2
l4464:
	push 1
	pop $1
l4463:
l4458:
	push $1
	cmp0
	je l4467
	push $2
	call ankk,getposx
	pop $b
	popax
	add $a,$b
	cthis mkkpos
	localint $3
	push 0
	pop $3
l4468:
	push $3
	call grska,size
	cmpjl
	cmp0
	je l4469
	jmp l4471
l4470:
	add $3,1
	pop $3
	jmp l4468
l4471:
	push $3
	call grska,get
	spushs
	spop $a
	call [$a],mcheck
	cmp0
	je l4473
	cthis mend
	ret
l4473:
	jmp l4470
l4469:
l4467:
l4457:
	end method
	method mkkpos
	localint $1
	pop $1
	push $1
	push ilevel
	call vlev,get
	call ankk,setpos
	push ilevel
	push 0
	call ankk,msetz
	end method
	method msetz
	localint $1
	localint $2
	pop $2
	pop $1
	push 50
	push $1
	push 10
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	push $2
	pop $b
	popax
	add $a,$b
	cthis setz
	end method
	method mcheck
	localint $1
	push ilevel
	call vzoom,get
	push 36.0
	pop $b
	popax
	mul $a,$b
	call ankk,getpx
	pop $b
	popax
	add $a,$b
	pop $1
	localint $2
	call ankk,getex
	push ilevel
	call vzoom,get
	push 64.0
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	sub $a,$b
	pop $2
	localint $3
	push 0.1
	cthis getw
	pop $b
	popax
	mul $a,$b
	pop $3
	localint $4
	cthis getpx
	push $3
	pop $b
	popax
	add $a,$b
	pop $4
	localint $5
	cthis getex
	push $3
	pop $b
	popax
	sub $a,$b
	pop $5
	push igmstate
	push 1
	cmpje
	cmp0
	je l4474
	push idtor
	push ilevel
	cmpje
	cmp0
	je l4474
	push $1
	push $4
	cmpjle
	cmp0
	je l4476
	push $2
	push $4
	cmpjae
	jmp l4478
l4476:
	push 0
	jmp l4478
l4477:
	push 1
l4478:
	cmp0
	jne l4480
	push $1
	push $4
	cmpjae
	cmp0
	je l4481
	push $2
	push $5
	cmpjle
	jmp l4483
l4481:
	push 0
	jmp l4483
l4482:
	push 1
l4483:
	cmp0
	jne l4480
	push $1
	push $5
	cmpjle
	cmp0
	je l4484
	push $2
	push $5
	cmpjae
	jmp l4486
l4484:
	push 0
	jmp l4486
l4485:
	push 1
l4486:
	cmp0
	jne l4480
	push $1
	push $4
	cmpjle
	cmp0
	je l4487
	push $2
	push $5
	cmpjae
	jmp l4489
l4487:
	push 0
	jmp l4489
l4488:
	push 1
l4489:
	jmp l4490
l4479:
	push 0
	jmp l4490
l4480:
	push 1
l4490:
	jmp l4491
l4474:
	push 0
	jmp l4491
l4475:
	push 1
l4491:
	ret
	end method
	method mend
	push 2
	pop igmstate
	push 0
	call timel,stop
	push 0
	call timwoda,stop
	push 0
	call timkk,stop
	push 0
	call ankk,stop
	push 0
	call anwoda1,stop
	push 0
	call andeszcz,stop
	push 0
	call anblysk3,stop
	push "Rejs17"
	call ccs,close
	end method
	method Rejs17
	push 1
	pop bRejsRepeat
	push GAME
	call gameapi,play
	end method
	method mfinish
	push 3
	pop igmstate
	push "Rejs18"
	call ccs,close
	end method
	method Rejs18
	push "Cs32Endrejs"
	call gameapi,play
	end method
	end game

	new int,iLabLevel
	push 1
	pop iLabLevel
	new int,bLabiryntRepeat
	push 0
	pop bLabiryntRepeat
	game Labirynt
	parent StdGame
	method init
	push "labirynt"
	clparent StdGame,init
	push A
	push "bgrlochyN 50"
	push "skok2"
	push "skok3"
	push "founditem2 50"
	push "kolowrot 20"
	push "klamka"
	push "odklucza2"
	push "otwierabrame3"
	push "przekreca1"
	push "uderzwstol"
	push "spadaniedesek2"
	push "zamykaloch"
	push "glaz"
	push "glaz2"
	push "putpuz"
	push "padlglaz"
	push "kropla1"
	push "pik"
	push "wpadlwblachy"
	push "klamka2"
	cthis sfxs=
	push "logiczne.ogg -l"
	call mus,playstr
	push "fxstepka1"
	push "step2.wav"
	cthis newsfx
	push "fxstepka2"
	push "step2.wav"
	cthis newsfx
	push "fxstepko1"
	push "step2.wav"
	cthis newsfx
	push "fxstepko2"
	push "step2.wav"
	cthis newsfx
	new string,smainhero
	new string,secondhero
	new string,sbkg
	new string,sherodir
	push "d"
	pop sherodir
	new int,bherolot
	push 0
	pop bherolot
	new int,bspada
	push 0
	pop bspada
	new int,HEROZ
	push 30
	pop HEROZ
	new vector,vjump
	push "begin"
	push 0
	push 0
	push 0
	push 0
	push 20
	push 10
	push 5
	push 10
	popax
	sub 0,$a
	push 15
	popax
	sub 0,$a
	push 10
	popax
	sub 0,$a
	push 0
	push 0
	call vjump,beginadd
	localint $1
	push 0
	pop $1
l4492:
	push $1
	call vjump,size
	cmpjl
	cmp0
	je l4493
	jmp l4495
l4494:
	add $1,1
	pop $1
	jmp l4492
l4495:
	push $1
	push 1.5
	push $1
	call vjump,get
	pop $b
	popax
	mul $a,$b
	call vjump,set
	jmp l4494
l4493:
	new string,sprzejdzdir
	new string,sdestdoor
	new string,sandoor
	new gmimgvec,grwalk
	new gmimgvec,grwall
	new gmimgvec,grob
	new gmimgvec,grob2
	push A
	push "hand.pyzH 100"
	push "glowki.pyzH 215"
	push "wyborankokosz.pyz 220"
	push "klawisze.pyzG 220"
	cthis imgs=
	push "pokaz"
	push "null"
	call anhand,var2
	push "anwyborankokosz"
	push "anwyborankajko"
	cthis copyanima
	push "kajko"
	push 0
	call anwyborankajko,setframe
	new Button,butkk
	localdef $2
	push "Labirynt0"
	pop $2
	push $2
	spushs
	spop $d
	call anwyborankajko,[$d]
	push $2
	spushs
	spop $d
	call anwyborankokosz,[$d]
	push "gritem"
	push "items"
	push 210
	cthis newgrimg
	call gritem,hide
	new gmimgvec,grit
	new gmimgvec,grgl
	push "anglowki"
	call gritem,size
	call grgl,ancopies
	push A
	push "pasek.pyz 200"
	push "kajko.pyz "
	push HEROZ
	pop $b
	popax
	add $a,$b
	push "kokosz.pyz "
	push HEROZ
	pop $b
	popax
	add $a,$b
	cthis imgs=
	push 0
	push iResY
	call anpasek,geth
	pop $b
	popax
	sub $a,$b
	call anpasek,setpos
	push iLabLevel
	push 1
	cmpje
	cmp0
	je l4497
	push A
	push "l1tyl1.pyz"
	push "l1tyl2.pyz"
	push "l1door1.pyz 5"
	push "l1bg.pyz 7"
	push "l1tarcza1.pyz 8"
	push "l1maczuga.pyz 9"
	push "l1podpochodnia.pyzP 30"
	push "l1pochodnia.pyzP 31"
	push "l1ogien.pyzP 32"
	push "l1halabarda.pyz 15"
	push "l1klucz.pyz 15"
	push "l1pal.pyz 15"
	push "l1kamlot.pyz 15"
	push "l1porecz.pyz 15"
	push "l1doors2.pyz 15"
	push "l1woda.pyzP 35"
	push "l1wajha.pyz 15"
	push "l1spider.pyz 40"
	push "l1maska.pyz 50"
	push "l1wlktrap.pyz 40"
	push "l1walker.pyzH 100"
	push "l1blokada1.pyzH"
	push "grels"
	cthis imgsgr=
	push "ankajko"
	call grels,add
	push "ankokosz"
	call grels,add
	push "grob"
	push "l1obiekty.pyz"
	popax
	pop $b
	psax
	call [$b],operator*
	call grob,hide
	push "timpal"
	push "Labirynt1"
	cthis cycle=
	push "dirx"
	push 3
	call timpal,var2
	new int,bexit1
	push 0
	pop bexit1
	push "onfinish"
	push "Labirynt2"
	call anl1wajha,addmethod
	push "timklamlot1"
	push "Labirynt4"
	cthis cycle=
	push 940
	push 720
	call ankajko,setpos
	push 970
	push 720
	call ankokosz,setpos
	call ankajko,msethero
	push "anl1bg"
	pop sbkg
	push A
	push "anl1kamlot"
	push "anl1walker"
	push "anl1wlktrap"
	call grwalk,addlist
	push A
	push "anl1kamlot"
	push "anl1walker"
	push "anl1blokada1"
	call grwall,addlist
	jmp l4496
l4497:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4525
	push A
	push "l2sky.pyz"
	cthis imgs=
	push A
	push "l2bg.pyz"
	push "l2toporki.pyz 5"
	push "l2snake.pyzP 10"
	push "l2tarcared.pyz 10"
	push "l2tarczazolta.pyz 10"
	push "l2pochodniatyl.pyzP 5"
	push "l2drabina.pyz 15"
	push "l2wajha.pyz 10"
	push "l2zasuw.pyz 15"
	push "l2nakwajha.pyz 17"
	push "l2butkamien.pyz 10"
	push "l2spizarnia.pyz 35"
	push "l2doors1.pyz 15"
	push "l2beczka.pyz 40"
	push "l2klucz.pyzH 42"
	push "l2klapa.pyz 20"
	push "l2mlot.pyz 20"
	push "l2pochodnia.pyz 31"
	push "l2ogien.pyzP 32"
	push "l2skrzynia1.pyz 25"
	push "l2skrzynia2.pyz 25"
	push "l2skrzynia3.pyz 25"
	push "l2siec.pyz 45"
	push "l2maska.pyz 50"
	push "l2lina.pyz 55"
	push "l2wiadro.pyz 57"
	push "l2walker.pyzH"
	push "l2snakemask.pyzH"
	push "l2podrabinie.pyzH"
	push "l2stopdoors.pyzH"
	push "l2krople.pyzG 25"
	push "grels"
	cthis imgsgr=
	push "ankajko"
	call grels,add
	push "ankokosz"
	call grels,add
	push "l2obiekty"
	cthis mloadobjs
	push A
	push "beztarczy"
	push 1
	call ankajko,vars2
	push A
	push "beztarczy"
	push 1
	call ankokosz,vars2
	push "otwarta"
	push 0
	call anl2klapa,var2
	push "kladka"
	push 0
	call anl2drabina,var2
	push "onfinish"
	push "Labirynt5"
	call anl2wajha,addmethod
	push "timwajha2"
	push "Labirynt6"
	cthis cycle=
	push "onfinish"
	push "Labirynt7"
	call anl2klapa,addmethod
	push A
	push "skrzyniamala"
	push "drabina2"
	push "wajha"
	push "kamien"
	push "drabina3"
	push "drabina4"
	push "mdeactivate"
	cthis withlist
	push "fxkrop1"
	push "kropla2.wav"
	cthis newsfx
	push 20
	call fxkrop1,setvol
	push "fxkrop2"
	push "kropla2.wav"
	cthis newsfx
	push 20
	call fxkrop2,setvol
	push "fxkrop3"
	push "kropla2.wav"
	cthis newsfx
	push 20
	call fxkrop3,setvol
	push "Labirynt8"
	call grl2krople,each
	push 940
	push 740
	call ankajko,setpos
	push 970
	push 740
	call ankokosz,setpos
	call ankokosz,msethero
	push "anl2bg"
	pop sbkg
	push A
	push "anl2skrzynia2"
	push "anl2skrzynia1"
	push "anl2skrzynia3"
	push "anl2walker"
	call grwalk,addlist
	push A
	push "anl2skrzynia2"
	push "anl2skrzynia1"
	push "anl2skrzynia3"
	push "anl2walker"
	push "anl2stopdoors"
	push "anl2snakemask"
	call grwall,addlist
	jmp l4524
l4525:
	push iLabLevel
	push 3
	cmpje
	cmp0
	je l4539
	push A
	push "l3bg.pyz"
	push "l3zjedz.pyz 40"
	push "l3wor1.pyz 10"
	push "l3d6.pyz 5"
	push "l3d6mask.pyz 10"
	push "l3d5.pyz 5"
	push "l3d8.pyz 5"
	push "l3d8mask.pyz 10"
	push "l3d4.pyz 5"
	push "l3d3.pyz 5"
	push "l3d3mask.pyz 10"
	push "l3d1.pyz 5"
	push "l3d1mask.pyz 10"
	push "l3d7.pyz 5"
	push "l3d7mask.pyz 10"
	push "l3porecz.pyz 10"
	push "l3mur.pyz 45"
	push "l3cegla.pyz 47"
	push "l3klucz.pyz 48"
	push "l3drabina.pyz 20"
	push "l3lancuch.pyz 20"
	push "l3zapadnia.pyz 20"
	push "l3skrzynia.pyz 20"
	push "l3worek.pyz 20"
	push "l3maska.pyz 50"
	push "l3walker.pyzH"
	push "l3trap.pyzH"
	push "l3spider.pyz 49"
	push "kajkorynna.pyzH 38"
	push "grels"
	cthis imgsgr=
	push "ankajko"
	call grels,add
	push "ankokosz"
	call grels,add
	push "l3obiekty"
	cthis mloadobjs
	push A
	push "beztarczy"
	push 1
	call ankajko,vars2
	push A
	push "beztarczy"
	push 1
	call ankokosz,vars2
	push A
	push "worek2"
	push "mdeactivate"
	cthis withlist
	push 940
	push 740
	call ankajko,setpos
	push 970
	push 740
	call ankokosz,setpos
	push "onendframe"
	push "Labirynt10"
	call ankajkorynna,addmethod
	push "onfinish"
	push "Labirynt11"
	call ankajkorynna,addmethod
	push "timzapadnia"
	push "Labirynt13"
	cthis cycle=
	call timzapadnia,play
	call ankajko,msethero
	push "anl3bg"
	pop sbkg
	push A
	push "anl3walker"
	call grwalk,addlist
	push A
	push "anl3skrzynia"
	push "anl3walker"
	push "anl3mur"
	call grwall,addlist
l4539:
l4524:
l4496:
	localdef $3
	push "Labirynt14"
	pop $3
	localdef $4
	push "Labirynt15"
	pop $4
	localdef $5
	push "Labirynt18"
	pop $5
	new classplacepointer2,clp
	push A
	push ":kajko1"
	push "Wieko jest chyba przybite do beczki"
	push "mretsnd"
	push ":kokosz1"
	push "Nie mog tego ruszy"
	push "mretsnd"
	push ":kajko2"
	push "Nie mog wycign tego mota; Moe ty sprbujesz?"
	push "mretsnd"
	push ":kajko_klapa"
	push "Klapa u gry jest opuszczona"
	push "mretsnd"
	push ":kokosz_klapa"
	push "Trzeba jako usun klap u gry"
	push "mretsnd"
	push ":kokosz3"
	push "Cega w tym miejscu jest luna; Wycign j"
	push $3
	push ":kajko3"
	push "Cega w tym miejscu jest luna; Wycign j"
	push $3
	push ":kajko4"
	push "Podziemne jezioro; Pewnie sam Hodon nie wie nawet o jego istnieniu; Zawracam"
	push $4
	push ":kokosz4"
	push "Podziemne jezioro; Pewnie sam Hodon nie wie nawet o jego istnieniu; Zawracam"
	push $4
	push ":kajko5"
	push "Przejcie zawalone; Musi by od dawna nieuywane; Wracam"
	push $5
	push ":kokosz5"
	push "Przejcie zawalone; Musi by od dawna nieuywane; Wracam"
	push $5
	push "sndnar1"
	push "Kajko i Kokosz znajduj si we wntrzu skay na ktrej stoi zamek Hodona"
	push "Labirynt21"
	push "sndnar2"
	push "Kursorem myszy wybierz bohatera ktrym chcesz sterowa"
	push "Labirynt22"
	push "sndnar3a"
	push "Moesz take przecza si midzy Kajkiem i Kokoszem naciskajc klawisz Tab"
	push "Labirynt23"
	push "sndnar3"
	push "Uyj strzaek na klawiaturze by chodzi"
	push "Labirynt24"
	push "sndnar4a"
	push "i skaka"
	push "Labirynt25"
	push "sndnar4"
	push "Gdy obok bohatera pojawi si rczka wcinij spacj"
	push "Labirynt26"
	cthis sounds=
	push "grob"
	call grels,add
	push "grob2"
	call grels,add
	push 0
	call anpasek,geth
	popax
	sub 0,$a
	call grels,move
	push "anhand"
	call grels,add
	push "d"
	pop sherodir
	call ankajko,mpreparehero
	call ankokosz,mpreparehero
	push "timgame"
	push "Labirynt27"
	cthis cycle=
	call timgame,play
	push "timwait"
	push 200
	push "mretsnd"
	cthis timer=
	push iLabLevel
	push 1
	cmpje
	cmp0
	je l4583
	push bLabiryntRepeat
	cmp0
	je l4585
	push 0
	pop bLabiryntRepeat
	cthis mretsnd
	jmp l4584
l4585:
	push "sndnar1"
	cthis cbplay
l4584:
	jmp l4582
l4583:
	cthis mretsnd
l4582:
	end method
	method Labirynt0
	cthis Button_stdms
	push "butclick"
	push "msetnexthero"
	cthis addmethod
	cthis getname
	call butkk,add
	end method
	method Labirynt1
	push igmstate
	push 1
	cmpje
	cmp0
	je l4499
	push dirx
	push 0
	call anl1pal,move
	push dirx
	push 0
	cmpja
	cmp0
	je l4501
	call anl1pal,getpx
	call anl1bg,getex
	cmpjae
	jmp l4503
l4501:
	push 0
	jmp l4503
l4502:
	push 1
l4503:
	cmp0
	jne l4505
	push dirx
	push 0
	cmpjl
	cmp0
	je l4506
	call anl1pal,getpx
	call anl1pal,lodx
	call grob,getpx
	pop $b
	popax
	add $a,$b
	cmpjle
	jmp l4508
l4506:
	push 0
	jmp l4508
l4507:
	push 1
l4508:
	jmp l4509
l4504:
	push 0
	jmp l4509
l4505:
	push 1
l4509:
	cmp0
	je l4510
	push dirx
	popax
	sub 0,$a
	pop dirx
l4510:
	localdef $1
	call anl1pal,getpx
	push 5
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	call anl1pal,getpy
	push 1
	push 1
	call ankajko,isin
	cmp0
	jne l4513
	push $1
	call anl1pal,getcy
	push 1
	push 1
	call ankajko,isin
	cmp0
	jne l4513
	push $1
	call anl1pal,getey
	push 1
	push 1
	call ankajko,isin
	cmp0
	jne l4513
	push $1
	call anl1pal,getpy
	push 1
	push 1
	call ankokosz,isin
	cmp0
	jne l4513
	push $1
	call anl1pal,getcy
	push 1
	push 1
	call ankokosz,isin
	cmp0
	jne l4513
	push $1
	call anl1pal,getey
	push 1
	push 1
	call ankokosz,isin
	jmp l4514
l4512:
	push 0
	jmp l4514
l4513:
	push 1
l4514:
	cmp0
	je l4515
	push 1
	pop bLabiryntRepeat
	cthis mrestart
l4515:
l4499:
	cthis play
	end method
	method Labirynt2
	push 1
	pop igmstate
	push "open"
	push "Labirynt3"
	call anl1door1,anplayfin
	call timpal,play
	call fxkolowrot,playloop
	end method
	method Labirynt3
	call fxzamykaloch,play
	end method
	method Labirynt4
	localint $1
	push 1
	pop $1
	localint $2
	push 0
	pop $2
l4516:
	push $2
	push 3
	cmpjl
	cmp0
	je l4517
	jmp l4519
l4518:
	add $2,1
	pop $2
	jmp l4516
l4519:
	call anl1wlktrap,getcx
	call anl1wlktrap,getey
	push 0
	push 1
	call grwalk,isin
	cmp0
	je l4521
	push 0
	pop $1
	jmp l4520
l4521:
	push 0
	push 5
	call anl1wlktrap,move
l4520:
	jmp l4518
l4517:
	push $1
	cmp0
	je l4523
	cthis play
	jmp l4522
l4523:
	call fxuderzwstol,play
	push "anl1wlktrap"
	call grwalk,add
	push "anl1wlktrap"
	call grwall,add
l4522:
	end method
	method Labirynt5
	call timwajha2,play
	end method
	method Labirynt6
	localdef $1
	push 10
	pop $1
	call anl2bg,getex
	push iResX
	push $1
	pop $b
	popax
	add $a,$b
	push 5
	pop $b
	popax
	add $a,$b
	cmpja
	cmp0
	je l4527
	push $1
	popax
	sub 0,$a
	push 0
	call grels,move
	cthis play
	jmp l4526
l4527:
	push "open"
	call anl2klapa,play
	push 60
	call fxkolowrot,setvol
	call fxkolowrot,play
l4526:
	end method
	method Labirynt7
	cthis mretsnd
	push 1
	pop otwarta
	call fxzamykaloch,play
	push 0
	call fxkolowrot,stop
	end method
	method Labirynt8
	localdef $1
	pop $1
	push "skropla"
	push "fxkrop"
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	add $a,$b
	cthis var2
	push "onendframe"
	push "Labirynt9"
	cthis addmethod
	push 1
	popax
	sub 0,$a
	cthis play
	push 1
	popax
	sub 0,$a
	push 1
	popax
	sub 0,$a
	cthis nofframes
	spushs
	spop $h
	call $h,rand
	cthis setframe
	end method
	method Labirynt9
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l4529
	push skropla
	spushs
	spop $a
	call [$a],playif
l4529:
	cthis getcx
	cthis getcy
	push 1
	push 1
	call ankajko,isin
	cmp0
	je l4531
	call ankajko,actionname
	push "tarczal"
	cmpjne
	cmp0
	je l4533
	cthis mrestart
	push skropla
	spushs
	spop $a
	call [$a],playif
	jmp l4532
l4533:
	push 1
	popax
	sub 0,$a
	cthis play
l4532:
l4531:
	cthis getcx
	cthis getcy
	push 1
	push 1
	call ankokosz,isin
	cmp0
	je l4535
	call ankokosz,actionname
	push "tarczal"
	cmpjne
	cmp0
	je l4537
	cthis mrestart
	push skropla
	spushs
	spop $a
	call [$a],playif
	jmp l4536
l4537:
	push 1
	popax
	sub 0,$a
	cthis play
l4536:
l4535:
	end method
	method Labirynt10
	cthis framename
	push "bum"
	cmpje
	cmp0
	je l4541
	call fxpadlglaz,play
l4541:
	end method
	method Labirynt11
	push "Labirynt12"
	push "mretsnd"
	call ccs,playfin
	end method
	method Labirynt12
	call ankajkorynna,hide
	push 1
	popax
	sub 0,$a
	call ankajkorynna,actionnr
	push 0
	cmpje
	cmp0
	je l4543
	call ankajkorynna,getcx
	call ankajkorynna,getey
	call ankajko,setpos
	call ankajko,mstand
	jmp l4542
l4543:
	call ankajkorynna,getcx
	call ankajkorynna,getey
	call ankokosz,setpos
	call ankokosz,mstand
l4542:
	end method
	method Labirynt13
	push "anl3trap"
	call grwalk,contains
	neg
	cmp0
	je l4545
	push smainhero
	spushs
	spop $a
	call [$a],getposx
	push smainhero
	spushs
	spop $a
	call [$a],getposy
	push 0
	push 1
	call anl3trap,isin
	cmp0
	je l4547
	push 0
	call anl3zapadnia,isplaying
	push 0
	cmpje
	jmp l4549
l4547:
	push 0
	jmp l4549
l4548:
	push 1
l4549:
	cmp0
	je l4550
	call fxklamka,play
	push 0
	call anl3zapadnia,play
l4550:
l4545:
	cthis play
	end method
	method Labirynt14
	call fxglaz2,play
	call anl3cegla,hide
	cthis mretsnd
	end method
	method Labirynt15
	push "Labirynt16"
	push "Labirynt17"
	call ccs,playfin
	end method
	method Labirynt16
	delete anl4kajko
	delete anl4kokosz
	delete anl4bg
	delete grel4
	push "d"
	pop sherodir
	push smainhero
	spushs
	push "standd"
	spop $a
	call [$a],play
	end method
	method Labirynt17
	cthis mretsnd
	end method
	method Labirynt18
	push "Labirynt19"
	push "Labirynt20"
	call ccs,playfin
	end method
	method Labirynt19
	delete anl5bg
	delete anl5neti
	delete anl5sztur
	delete anl5maska
	delete anl5kajko
	delete anl5kokosz
	push "d"
	pop sherodir
	push smainhero
	spushs
	push "standd"
	spop $a
	call [$a],play
	end method
	method Labirynt20
	cthis mretsnd
	end method
	method Labirynt21
	push "sndnar2"
	cthis cbplay
	push "anwyborankajko"
	push "lu"
	call clp,showob
	end method
	method Labirynt22
	push "sndnar3a"
	cthis cbplay
	push "switch"
	cthis mkey
	end method
	method Labirynt23
	push "sndnar3"
	cthis cbplay
	push "go"
	cthis mkey
	end method
	method Labirynt24
	push "sndnar4a"
	cthis cbplay
	push "jump"
	cthis mkey
	end method
	method Labirynt25
	push "sndnar4"
	cthis cbplay
	push "use"
	cthis mkey
	end method
	method Labirynt26
	cthis mretsnd
	call clp,stoph
	end method
	method Labirynt27
	push igmstate
	push 5
	cmpje
	cmp0
	je l4552
	cthis play
	ret
l4552:
	localint $1
	push iResX
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push smainhero
	spushs
	spop $a
	call [$a],getposx
	pop $b
	popax
	sub $a,$b
	pop $1
	localint $2
	push 4
	pop $2
	localint $3
	push 0
	pop $3
	localint $4
	push 0
	pop $4
	push $1
	push 20
	cmpja
	cmp0
	je l4554
	localdef $5
	push sbkg
	spushs
	spop $a
	call [$a],getpx
	pop $5
	push $5
	push 0
	cmpjl
	cmp0
	je l4556
	push $2
	push $5
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4558
	push $2
	jmp l4557
l4558:
	push $5
	popax
	sub 0,$a
l4557:
	pop $3
l4556:
	jmp l4553
l4554:
	push $1
	push 20
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4560
	localdef $5
	push sbkg
	spushs
	spop $a
	call [$a],getex
	push iResX
	pop $b
	popax
	sub $a,$b
	pop $5
	push $5
	push 0
	cmpja
	cmp0
	je l4562
	push $5
	push $2
	cmpja
	cmp0
	je l4564
	push $2
	popax
	sub 0,$a
	jmp l4563
l4564:
	push $5
	popax
	sub 0,$a
l4563:
	pop $3
l4562:
l4560:
l4553:
	localint $6
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push smainhero
	spushs
	spop $a
	call [$a],getposy
	pop $b
	popax
	sub $a,$b
	pop $6
	push 4
	pop $2
	push $6
	push 20
	cmpja
	cmp0
	je l4566
	localdef $7
	push sbkg
	spushs
	spop $a
	call [$a],getpy
	pop $7
	push $7
	push 0
	cmpjl
	cmp0
	je l4568
	push $2
	push $7
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4570
	push $2
	jmp l4569
l4570:
	push $7
	popax
	sub 0,$a
l4569:
	pop $4
l4568:
	jmp l4565
l4566:
	push $6
	push 20
	popax
	sub 0,$a
	cmpjl
	cmp0
	je l4572
	localdef $7
	push sbkg
	spushs
	spop $a
	call [$a],getey
	call anpasek,getpy
	pop $b
	popax
	sub $a,$b
	pop $7
	push $7
	push 0
	cmpja
	cmp0
	je l4574
	push $7
	push $2
	cmpja
	cmp0
	je l4576
	push $2
	popax
	sub 0,$a
	jmp l4575
l4576:
	push $7
	popax
	sub 0,$a
l4575:
	pop $4
l4574:
l4572:
l4565:
	push $3
	cmp0
	jne l4579
	push $4
	jmp l4580
l4578:
	push 0
	jmp l4580
l4579:
	push 1
l4580:
	cmp0
	je l4581
	push $3
	push $4
	call grels,move
l4581:
	cthis play
	end method
	method mkey
	localstring $1
	pop $1
	push $1
	call grklawisze,getsac
	push "rd"
	call clp,showob
	end method
	method mwait
	push 2
	pop igmstate
	call timwait,play
	end method
	method mloadobjs
	localstring $1
	pop $1
	push "grob"
	push $1
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	call grob,hide
	push "Labirynt28"
	call grob,eval
	end method
	method Labirynt28
	push A
	push "bactive"
	push 1
	cthis vars2
	push 20
	cthis setz
	end method
	method mrestart
	push igmstate
	push 3
	cmpje
	cmp0
	je l4587
	ret
l4587:
	push 3
	pop igmstate
	push "Labirynt29"
	call ccs,close
	end method
	method Labirynt29
	push GAME
	call gameapi,play
	end method
	method mpreparehero
	cthis mustaw
	push A
	push "heroh"
	call ankajko,geth
	push "herow2"
	call ankajko,getw
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push "bwyszedl"
	push 0
	cthis vars2
	push "onfinish"
	push "mherofinish"
	cthis addmethod
	push "onendframe"
	push "mheroframe"
	cthis addmethod
	push "standd"
	cthis play
	end method
	method mherofinish
	localdef $1
	cthis actionname
	pop $1
	push $1
	push "jumpl"
	cmpje
	cmp0
	jne l4590
	push $1
	push "jumpr"
	cmpje
	jmp l4591
l4589:
	push 0
	jmp l4591
l4590:
	push 1
l4591:
	cmp0
	je l4592
	push 0
	pop bherolot
	cthis mustaw
	jmp l4588
l4592:
	push $1
	push "takel"
	cmpje
	cmp0
	jne l4595
	push $1
	push "taker"
	cmpje
	jmp l4596
l4594:
	push 0
	jmp l4596
l4595:
	push 1
l4596:
	cmp0
	je l4597
	push igmstate
	push 5
	cmpje
	cmp0
	je l4599
	jmp l4598
l4599:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4601
	push igmstate
	push 6
	cmpje
	jmp l4603
l4601:
	push 0
	jmp l4603
l4602:
	push 1
l4603:
	cmp0
	je l4604
	push "tarczal"
	cthis play
	ret
	jmp l4600
l4604:
	push 1
	pop igmstate
l4600:
l4598:
	jmp l4593
l4597:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4606
	push $1
	push "mlotl"
	cmpje
	jmp l4608
l4606:
	push 0
	jmp l4608
l4607:
	push 1
l4608:
	cmp0
	je l4609
	push "l"
	pop sherodir
	push 1
	pop igmstate
	push 1
	push "Labirynt30"
	call anl2beczka,anplayfin
	jmp l4605
l4609:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4611
	push $1
	push "pchar"
	cmpje
	jmp l4613
l4611:
	push 0
	jmp l4613
l4612:
	push 1
l4613:
	cmp0
	je l4614
	push 1
	popax
	sub 0,$a
	cthis play
	ret
	jmp l4610
l4614:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4616
	push $1
	push "tarczal"
	cmpje
	jmp l4618
l4616:
	push 0
	jmp l4618
l4617:
	push 1
l4618:
	cmp0
	je l4619
	push 1
	popax
	sub 0,$a
	cthis play
	ret
l4619:
l4610:
l4605:
l4593:
l4588:
	push bspada
	cmp0
	je l4621
	cthis mbok
	jmp l4623
l4621:
	push 0
	jmp l4623
l4622:
	push 1
l4623:
	cmp0
	je l4624
	push "spada"
	push sherodir
	pop $b
	popax
	add $a,$b
	cthis play
	jmp l4620
l4624:
	cthis mstand
l4620:
	end method
	method Labirynt30
	call fxuderzwstol,play
	call fxspadaniedesek2,play
	push "rozbita"
	cthis var
	call anl2klucz,show
	end method
	method mnexthero
	push secondhero
	spushs
	spop $a
	call [$a],bwyszedl
	cmp0
	je l4626
	ret
l4626:
	push smainhero
	spushs
	spop $a
	call [$a],actionname
	spushs
	push 0
	push 5
	spop $h
	call $h,getb
	push "stand"
	cmpje
	cmp0
	je l4628
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4630
	call ankokosz,msethero
	jmp l4629
l4630:
	call ankajko,msethero
l4629:
	call fxpik,play
l4628:
	end method
	method msethero
	cthis getname
	push "ankajko"
	cmpje
	cmp0
	je l4632
	push HEROZ
	call ankokosz,setz
	push "ankokosz"
	pop secondhero
	jmp l4631
l4632:
	push HEROZ
	call ankajko,setz
	push "ankajko"
	pop secondhero
l4631:
	push HEROZ
	push 1
	pop $b
	popax
	add $a,$b
	cthis setz
	cthis getname
	pop smainhero
	push "anwybor"
	push smainhero
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push "anwybor"
	push secondhero
	pop $b
	popax
	add $a,$b
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
	cthis mgetdir
	pop sherodir
	cthis mstand
	end method
	method mgetdir
	cthis actionname
	spushs
	push 0
	push 1
	spop $h
	call $h,gete
	end method
	method mdelact
	localstring $1
	pop $1
	push $1
	call grob,remove
	end method
	method mdeactivate
	localstring $1
	pop $1
	localdef $2
	push $1
	call grob,getsac
	pop $2
	push $2
	spushs
	push 0
	spop $a
	call [$a],bactive=
	push $2
	call grob,remove
	push $2
	call grob2,add
	end method
	method mactivate
	localstring $1
	pop $1
	localdef $2
	push $1
	call grob2,getsac
	pop $2
	push $2
	call grob2,remove
	push $2
	call grob,add
	push $2
	spushs
	push 1
	spop $a
	call [$a],bactive=
	end method
	method mheroframe
	localdef $1
	push 10
	pop $1
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4634
	cthis actionname
	push "pchar"
	cmpje
	jmp l4636
l4634:
	push 0
	jmp l4636
l4635:
	push 1
l4636:
	cmp0
	je l4637
	push $1
	push 0
	cthis move
	push "wypchnal1"
	cthis hasvar
	cmp0
	je l4639
	push $1
	push 0
	call anl2skrzynia1,move
	call anl2skrzynia1,getex
	call anl2skrzynia2,getpx
	cmpjae
	cmp0
	je l4641
	push 1
	pop igmstate
	push "drabina2"
	cthis mactivate
	cthis mstand
l4641:
	jmp l4638
l4639:
	push $1
	push 0
	call anl2skrzynia2,move
	call anl2skrzynia2,getex
	push 720
	call grels,getpx
	pop $b
	popax
	add $a,$b
	cmpjae
	cmp0
	je l4643
	push "wypchnal1"
	cthis var
	push 1
	pop igmstate
	cthis mstand
l4643:
l4638:
	ret
	jmp l4633
l4637:
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4645
	cthis actionname
	push "tarczal"
	cmpje
	jmp l4647
l4645:
	push 0
	jmp l4647
l4646:
	push 1
l4647:
	cmp0
	je l4648
	push $1
	popax
	sub 0,$a
	push 0
	cthis move
	cthis getex
	push 240
	cmpjl
	cmp0
	je l4650
	push 1
	pop igmstate
	cthis mstand
l4650:
	ret
l4648:
l4633:
	push igmstate
	push 1
	cmpje
	cmp0
	je l4652
	cthis getname
	push smainhero
	cmpje
	jmp l4654
l4652:
	push 0
	jmp l4654
l4653:
	push 1
l4654:
	cmp0
	je l4655
	localdef $2
	push 0
	pop $2
	push "left"
	call keyboard,iskeydown
	cmp0
	je l4657
	push "l"
	pop sherodir
	push $1
	popax
	sub 0,$a
	cthis mgo
	push 1
	pop $2
	jmp l4656
l4657:
	push "right"
	call keyboard,iskeydown
	cmp0
	je l4659
	push "r"
	pop sherodir
	push $1
	cthis mgo
	push 1
	pop $2
l4659:
l4656:
	push "up"
	call keyboard,iskeydown
	cmp0
	je l4661
	push sherodir
	push "u"
	cmpje
	cmp0
	je l4663
	push "standu"
	cthis play
	push 1
	pop $2
	jmp l4662
l4663:
	push bherolot
	neg
	cmp0
	je l4665
	push bspada
	neg
	cmp0
	je l4665
	cthis mbok
	jmp l4667
l4665:
	push 0
	jmp l4667
l4666:
	push 1
l4667:
	cmp0
	je l4668
	push 1
	pop bherolot
	push "jump"
	push sherodir
	pop $b
	popax
	add $a,$b
	cthis mplay
	push 1
	pop $2
l4668:
l4662:
l4661:
	push $2
	neg
	cmp0
	je l4670
	push bspada
	neg
	jmp l4672
l4670:
	push 0
	jmp l4672
l4671:
	push 1
l4672:
	cmp0
	je l4673
	cthis mstand
l4673:
	push bherolot
	cmp0
	je l4675
	cthis getcx
	cthis getpy
	push 0
	push 1
	call grwall,isin
	cmp0
	je l4677
	jmp l4676
l4677:
	push 0
	cthis framenr
	call vjump,get
	popax
	sub 0,$a
	cthis move
l4678:
	cthis getposx
	cthis getposy
	push 0
	push 1
	call grwalk,isin
	cmp0
	jne l4680
	cthis getposy
	call anpasek,getpy
	push 3
	pop $b
	popax
	sub $a,$b
	cmpja
	jmp l4681
l4679:
	push 0
	jmp l4681
l4680:
	push 1
l4681:
	cmp0
	je l4682
	push 0
	push 1
	popax
	sub 0,$a
	cthis move
	jmp l4678
l4682:
l4676:
l4675:
	cthis getposx
	cthis getposy
	push 0
	push 1
	call grob,isin
	cmp0
	je l4684
	localdef $3
	call grob,getsfound
	pop $3
	push $3
	cthis mshowob
	push "space"
	call keyboard,iskeydown
	cmp0
	je l4686
	push bherolot
	neg
	cmp0
	je l4686
	push bspada
	neg
	jmp l4688
l4686:
	push 0
	jmp l4688
l4687:
	push 1
l4688:
	cmp0
	je l4689
	call fxfounditem2,play
	push iLabLevel
	spushs
	push 1
	cmpst
	jne l4691
	spop $a
	push $3
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "l1"
	cmpst
	jne l4693
	spop $a
	push "l2"
	push "r"
	cthis mprzejdz
	jmp l4692
l4693:
	push "l2"
	cmpst
	jne l4694
	spop $a
	push "l1"
	push "r"
	cthis mprzejdz
	jmp l4692
l4694:
	push "r1"
	cmpst
	jne l4695
	spop $a
	push "u1"
	push "d"
	cthis mprzejdz
	jmp l4692
l4695:
	push "u1"
	cmpst
	jne l4696
	spop $a
	push "u"
	pop sherodir
	push smainhero
	spushs
	push "standu"
	spop $a
	call [$a],play
	push "r1"
	push "l"
	cthis mprzejdz
	jmp l4692
l4696:
	push "u2"
	cmpst
	jne l4697
	spop $a
	push bexit1
	neg
	cmp0
	je l4699
	push "klucz_nr1"
	cthis hasvar
	cmp0
	je l4701
	push 1
	pop bexit1
	push "klucz_nr1"
	cthis moutpck
	push 2
	pop igmstate
	call fxodklucza2,play
	call fxotwierabrame3,play
	push "open"
	push "mwznow"
	call anl1doors2,anplayfin
l4701:
	jmp l4698
l4699:
	cthis mwyjdz
	neg
	cmp0
	je l4703
	push "u"
	pop sherodir
	cthis mstand
	cthis mnexthero
l4703:
l4698:
	jmp l4692
l4697:
	push "kluczl"
	cmpst
	jne l4704
	spop $a
	push "anl1klucz"
	push "r"
	push "klucz_nr1"
	cthis mtake
	push $3
	cthis mdelact
	push "kluczr"
	call grob,getsac
	cthis mdelact
	jmp l4692
l4704:
	push "kluczr"
	cmpst
	jne l4705
	spop $a
	push "anl1klucz"
	push "l"
	push "klucz_nr1"
	cthis mtake
	push $3
	cthis mdelact
	push "kluczl"
	call grob,getsac
	cthis mdelact
	jmp l4692
l4705:
	push "wajha"
	cmpst
	jne l4706
	spop $a
	push 2
	pop igmstate
	push $3
	cthis mdelact
	push 0
	call anl1wajha,play
	push "r"
	pop sherodir
	push "anl1blokada1"
	call grwall,remove
	push "taker"
	cthis play
	call fxprzekreca1,play
	jmp l4692
l4706:
	push "halabarda"
	cmpst
	jne l4707
	spop $a
	push "anl1halabarda"
	push "r"
	push "halabarda"
	cthis mtake
	push $3
	cthis mdelact
	jmp l4692
l4707:
	push "beczka"
	cmpst
	jne l4708
	spop $a
	jmp l4692
l4708:
	spop $a
l4692:
	jmp l4690
l4691:
	push 2
	cmpst
	jne l4709
	spop $a
	push $3
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "skrzyniamala"
	cmpst
	jne l4711
	spop $a
	push smainhero
	push "ankokosz"
	cmpje
	cmp0
	je l4713
	push 2
	pop igmstate
	push $3
	cthis mdelact
	push "kamien"
	cthis mactivate
	push "pchar"
	call ankokosz,play
	call fxglaz,play
l4713:
	jmp l4710
l4711:
	push "drabina1"
	cmpst
	jne l4714
	spop $a
	push "anl2drabina"
	push "l"
	push "drabina_nr1"
	cthis mtake
	push $3
	cthis mdelact
	jmp l4710
l4714:
	push "drabina2"
	cmpst
	jne l4715
	spop $a
	push "drabina_nr1"
	cthis hasvar
	cmp0
	je l4717
	call fxputpuz,play
	push "drabina_nr1"
	cthis moutpck
	push 1
	call anl2drabina,kladka=
	push 1
	push 0
	call anl2drabina,setframe
	call anl2drabina,show
	push "anl2podrabinie"
	call grwalk,add
	push "anl2podrabinie"
	call grwall,add
	push "drabina3"
	cthis mactivate
	push "drabina4"
	cthis mactivate
	push $3
	cthis mdelact
l4717:
	jmp l4710
l4715:
	push "drabina3"
	cmpst
	jne l4718
	spop $a
	call anl2drabina,kladka
	cmp0
	je l4720
	call fxputpuz,play
	push 2
	push 0
	call anl2drabina,setframe
	push 0
	call anl2drabina,kladka=
	push "anl2podrabinie"
	call grwalk,remove
	push "anl2podrabinie"
	call grwall,remove
	cthis mwait
	jmp l4719
l4720:
	call fxputpuz,play
	call anl2klapa,otwarta
	cmp0
	je l4722
	push "gora"
	push "l"
	cthis mprzejdz
	jmp l4721
l4722:
	push smainhero
	spushs
	push "an"
	spop $h
	call $h,strsubbs
	push "_klapa"
	pop $b
	popax
	add $a,$b
	cthis mcomment
l4721:
l4719:
	jmp l4710
l4718:
	push "drabina4"
	cmpst
	jne l4723
	spop $a
	call anl2drabina,kladka
	push 0
	cmpje
	cmp0
	je l4725
	call fxputpuz,play
	push 1
	call anl2drabina,kladka=
	push 1
	push 0
	call anl2drabina,setframe
	push "anl2podrabinie"
	call grwalk,add
	push "anl2podrabinie"
	call grwall,add
l4725:
	jmp l4710
l4723:
	push "in2l"
	cmpst
	jne l4726
	spop $a
	push "in1l"
	push "r"
	cthis mprzejdz
	jmp l4710
l4726:
	push "in1l"
	cmpst
	jne l4727
	spop $a
	push "in2l"
	push "r"
	cthis mprzejdz
	jmp l4710
l4727:
	push "door1"
	cmpst
	jne l4728
	spop $a
	push "bmaklucz"
	cthis hasvar
	cmp0
	je l4730
	push $3
	cthis mdelact
	call fxodklucza2,play
	call fxprzekreca1,play
	push 0
	push "Labirynt31"
	call anl2doors1,anplayfin
l4730:
	jmp l4710
l4728:
	push "gora"
	cmpst
	jne l4731
	spop $a
	call anl2klapa,otwarta
	cmp0
	je l4733
	call anl2drabina,kladka
	neg
	jmp l4735
l4733:
	push 0
	jmp l4735
l4734:
	push 1
l4735:
	cmp0
	je l4736
	push "drabina3"
	push "l"
	cthis mprzejdz
l4736:
	jmp l4710
l4731:
	push "tarcza"
	cmpst
	jne l4737
	spop $a
	push beztarczy
	cmp0
	je l4739
	cthis getname
	push "ankokosz"
	cmpje
	cmp0
	je l4741
	push "anl2tarcared"
	push "l"
	push "czerwona"
	cthis mtake
	jmp l4740
l4741:
	push "anl2tarczazolta"
	push "r"
	push "zolta"
	cthis mtake
l4740:
	push 0
	pop beztarczy
	push 6
	pop igmstate
l4739:
	push "czerwona"
	call ankokosz,hasvar
	cmp0
	je l4743
	push "zolta"
	call ankajko,hasvar
	jmp l4745
l4743:
	push 0
	jmp l4745
l4744:
	push 1
l4745:
	cmp0
	je l4746
	push $3
	cthis mdelact
l4746:
	jmp l4710
l4737:
	push "exit"
	cmpst
	jne l4747
	spop $a
	cthis mwyjdz
	neg
	cmp0
	je l4749
	push "u"
	pop sherodir
	cthis mstand
	cthis mnexthero
l4749:
	jmp l4710
l4747:
	push "skrzynia2"
	cmpst
	jne l4750
	spop $a
	push smainhero
	push "ankokosz"
	cmpje
	cmp0
	je l4752
	push 2
	pop igmstate
	push $3
	cthis mdelact
	push "skrzyniamala"
	cthis mactivate
	push "pchar"
	call ankokosz,play
	call fxglaz,play
l4752:
	jmp l4710
l4750:
	push "kamien"
	cmpst
	jne l4753
	spop $a
	push 0
	call anl2butkamien,play
	push 0
	push "mretsnd"
	call anl2zasuw,anplayfin
	push 2
	pop igmstate
	push "wajha"
	cthis mactivate
	push $3
	cthis mdelact
	push "r"
	pop sherodir
	push "taker"
	cthis play
	call fxprzekreca1,play
	call fxglaz,play
	jmp l4710
l4753:
	push "wajha"
	cmpst
	jne l4754
	spop $a
	push 5
	pop igmstate
	push 1
	call anl2wajha,play
	push $3
	cthis mdelact
	push "r"
	pop sherodir
	push "taker"
	cthis play
	call fxklamka,play
	jmp l4710
l4754:
	push "mlot"
	cmpst
	jne l4755
	spop $a
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4757
	push "kajko2"
	cthis mcomment
	jmp l4756
l4757:
	push "bmlot"
	cthis var
	push "anl2mlot"
	push "l"
	push "mlot"
	cthis mtake
	push $3
	cthis mdelact
l4756:
	jmp l4710
l4755:
	push "beczka"
	cmpst
	jne l4758
	spop $a
	push $3
	spushs
	push "rozbita"
	spop $a
	call [$a],hasvar
	neg
	cmp0
	je l4760
	push "bmlot"
	cthis hasvar
	cmp0
	je l4762
	push 2
	pop igmstate
	push $3
	spushs
	push "rozbita"
	spop $a
	call [$a],var
	push "mlotl"
	cthis play
	jmp l4761
l4762:
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4764
	push "kajko1"
	cthis mcomment
	jmp l4763
l4764:
	push "kokosz1"
	cthis mcomment
l4763:
l4761:
	jmp l4759
l4760:
	push "anl2klucz"
	push "l"
	push "klucz_nr2"
	cthis mtake
	push "bmaklucz"
	cthis var
	push $3
	cthis mdelact
l4759:
	jmp l4710
l4758:
	spop $a
l4710:
	jmp l4690
l4709:
	push 3
	cmpst
	jne l4765
	spop $a
	push $3
	spushs
	spop $a
	call [$a],actionname
	spushs
	push "worek2"
	cmpst
	jne l4767
	spop $a
	push "worek"
	cthis hasvar
	cmp0
	je l4769
	push 1
	push 0
	call anl3worek,setframe
	call anl3worek,show
	push "anl3worek"
	call grwalk,add
	push "anl3worek"
	call grwall,add
	push $3
	cthis mdelact
	call fxpadlglaz,play
l4769:
	jmp l4766
l4767:
	push "rynna"
	cmpst
	jne l4770
	spop $a
	push 2
	pop igmstate
	cthis mgou
	push "Labirynt32"
	push "Labirynt33"
	call ccs,playfin
	jmp l4766
l4770:
	push "worek1"
	cmpst
	jne l4773
	spop $a
	push "anl3worek"
	push "r"
	push "worek"
	cthis mtake
	push $3
	cthis mdelact
	push "worek2"
	cthis mactivate
	jmp l4766
l4773:
	push "to5"
	cmpst
	jne l4774
	spop $a
	cthis mgou
	push "otwarte"
	call anl3d1,hasvar
	cmp0
	je l4776
	push "to1"
	push "d"
	push "anl3d5"
	cthis mprzejdzopen
	jmp l4775
l4776:
	push 2
	pop igmstate
	push "otwarte"
	call anl3d1,var
	push 0
	push "mretsnd"
	call anl3d1,anplayfin
	call fxotwierabrame3,play
l4775:
	jmp l4766
l4774:
	push "tol4"
	cmpst
	jne l4777
	spop $a
	cthis mgou
	push 2
	pop igmstate
	push "Labirynt34"
	push "Labirynt35"
	call ccs,playfin
	jmp l4766
l4777:
	push "tol5"
	cmpst
	jne l4780
	spop $a
	cthis mgou
	push "podniesiona"
	call anl3d6,hasvar
	cmp0
	je l4782
	push 2
	pop igmstate
	push "Labirynt36"
	push "Labirynt37"
	call ccs,playfin
l4782:
	jmp l4766
l4780:
	push "to4"
	cmpst
	jne l4785
	spop $a
	cthis mgou
	push "otwarte"
	call anl3d3,hasvar
	cmp0
	je l4787
	push "to3"
	push "d"
	push "anl3d4"
	cthis mprzejdzopen
	jmp l4786
l4787:
	push 2
	pop igmstate
	push "otwarte"
	call anl3d3,var
	push 0
	push "mretsnd"
	call anl3d3,anplayfin
	call fxotwierabrame3,play
l4786:
	jmp l4766
l4785:
	push "to3"
	cmpst
	jne l4788
	spop $a
	cthis mgou
	push "to4"
	push "d"
	cthis mprzejdz
	jmp l4766
l4788:
	push "klucz_nr3"
	cmpst
	jne l4789
	spop $a
	call anl3cegla,isvisible
	cmp0
	je l4791
	push smainhero
	spushs
	push "an"
	spop $h
	call $h,strsubbs
	push "3"
	pop $b
	popax
	add $a,$b
	cthis mcomment
	jmp l4790
l4791:
	push "anl3klucz"
	push "l"
	push "klucz_nr3"
	cthis mtake
	push $3
	cthis mdelact
l4790:
	jmp l4766
l4789:
	push "to1"
	cmpst
	jne l4792
	spop $a
	cthis mgou
	push "otwarte"
	call anl3d5,hasvar
	cmp0
	je l4794
	push "to5"
	push "d"
	push "anl3d1"
	cthis mprzejdzopen
	jmp l4793
l4794:
	push 2
	pop igmstate
	push "otwarte"
	call anl3d5,var
	push 0
	push "mretsnd"
	call anl3d5,anplayfin
	call fxotwierabrame3,play
l4793:
	jmp l4766
l4792:
	push "drabina"
	cmpst
	jne l4795
	spop $a
	push "anl3drabina"
	push "l"
	push "drabina_nr2"
	cthis mtake
	push $3
	cthis mdelact
	jmp l4766
l4795:
	push "drabina2"
	cmpst
	jne l4796
	spop $a
	push "drabina_nr2"
	cthis hasvar
	cmp0
	je l4798
	push 1
	push 0
	call anl3drabina,setframe
	call anl3drabina,show
	push "anl3trap"
	call grwalk,add
l4798:
	jmp l4766
l4796:
	push "lancuch"
	cmpst
	jne l4799
	spop $a
	push 2
	pop igmstate
	push 1
	push 0
	call anl3lancuch,setframe
	push "podniesiona"
	call anl3d6,var
	push 0
	push "mretsnd"
	call anl3d6,anplayfin
	push $3
	cthis mdelact
	call fxprzekreca1,play
	jmp l4766
l4799:
	push "to8"
	cmpst
	jne l4800
	spop $a
	cthis mgou
	push "otwarte"
	call anl3d7,hasvar
	cmp0
	je l4802
	push "to7"
	push "d"
	push "anl3d8"
	cthis mprzejdzopen
	jmp l4801
l4802:
	push "klucz_nr3"
	cthis hasvar
	cmp0
	je l4804
	push 2
	pop igmstate
	push "otwarte"
	call anl3d7,var
	push 0
	push "mretsnd"
	call anl3d7,anplayfin
	call fxotwierabrame3,play
	call fxodklucza2,play
	jmp l4803
l4804:
	call fxklamka2,play
l4803:
l4801:
	jmp l4766
l4800:
	push "to7"
	cmpst
	jne l4805
	spop $a
	cthis mgou
	push "otwarte"
	call anl3d8,hasvar
	cmp0
	je l4807
	push "to8"
	push "d"
	push "anl3d7"
	cthis mprzejdzopen
	jmp l4806
l4807:
	push 2
	pop igmstate
	push "otwarte"
	call anl3d8,var
	push 0
	push "mretsnd"
	call anl3d8,anplayfin
	call fxotwierabrame3,play
l4806:
	jmp l4766
l4805:
	push "exit"
	cmpst
	jne l4808
	spop $a
	cthis mwyjdz
	neg
	cmp0
	je l4810
	push "u"
	pop sherodir
	cthis mstand
	cthis mnexthero
l4810:
	jmp l4766
l4808:
	spop $a
l4766:
	jmp l4690
l4765:
	spop $a
l4690:
l4689:
	jmp l4683
l4684:
	cthis mhideob
l4683:
l4655:
	cthis mustaw
	end method
	method Labirynt31
	push "anl2stopdoors"
	call grwall,remove
	end method
	method Labirynt32
	push smainhero
	spushs
	push 0
	spop $a
	call [$a],stop
	push smainhero
	spushs
	push 2000
	push 2000
	spop $a
	call [$a],setpos
	end method
	method Labirynt33
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4772
	push 0
	call ankajkorynna,play
	jmp l4771
l4772:
	push 1
	call ankajkorynna,play
l4771:
	call fxwpadlwblachy,play
	end method
	method Labirynt34
	push A
	push "l4bg.pyz 90"
	push "l4kajko.pyz 95"
	push "l4kokosz.pyz 95"
	push "grel4"
	cthis imgsgr=
	push 0
	call anpasek,geth
	popax
	sub 0,$a
	call grel4,move
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4779
	call anl4kokosz,hide
	jmp l4778
l4779:
	call anl4kajko,hide
l4778:
	end method
	method Labirynt35
	push "an"
	call smainhero,strsubbs
	push "4"
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method Labirynt36
	push A
	push "l5bg.pyz 90"
	push "l5neti.pyzP 91"
	push "l5sztur.pyzP 91"
	push "l5maska.pyz 99"
	push "l5kajko.pyz 95"
	push "l5kokosz.pyz 95"
	cthis imgs=
	push smainhero
	push "ankajko"
	cmpje
	cmp0
	je l4784
	call anl5kokosz,hide
	jmp l4783
l4784:
	call anl5kajko,hide
l4783:
	end method
	method Labirynt37
	push "an"
	call smainhero,strsubbs
	push "5"
	pop $b
	popax
	add $a,$b
	cthis cbplay
	end method
	method mgou
	push "u"
	pop sherodir
	push smainhero
	spushs
	push "standu"
	spop $a
	call [$a],play
	cthis mhideob
	end method
	method mcomment
	localstring $1
	pop $1
	push 2
	pop igmstate
	push $1
	cthis cbplay
	end method
	method mretsnd
	push 1
	pop igmstate
	end method
	method mwyjdz
	push 1
	pop bwyszedl
	push secondhero
	spushs
	spop $a
	call [$a],bwyszedl
	cmp0
	je l4812
	cthis mnextlevel
	push 1
	jmp l4811
l4812:
	push 0
l4811:
	end method
	method mtake
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $3
	push 1
	cthis var2
	push 2
	pop igmstate
	push $2
	pop sherodir
	push smainhero
	spushs
	push "take"
	push $2
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],play
	push $1
	spushs
	spop $a
	call [$a],hide
	push $3
	cthis mtopck
	end method
	method mtopck
	localstring $1
	pop $1
	localdef $2
	push $1
	call gritem,getsac
	pop $2
	push $2
	call grit,add
	push $2
	spushs
	spop $a
	call [$a],show
	localdef $3
	call grit,size
	push 1
	pop $b
	popax
	sub $a,$b
	call grgl,get
	pop $3
	push $3
	spushs
	push smainhero
	push 0
	spop $a
	call [$a],setframe
	push $3
	spushs
	spop $a
	call [$a],show
	cthis mpckorder
	end method
	method moutpck
	localstring $1
	pop $1
	localdef $2
	push $1
	call grit,findsac
	pop $2
	push $2
	call grit,removeat
	push $2
	call grgl,removeat
	cthis mpckorder
	end method
	method mpckorder
	call grit,size
	cmp0
	je l4814
	localdef $1
	call grit,first
	pop $1
	localstring $2
	localint $3
	push 0
	pop $3
l4815:
	push $3
	call grit,size
	cmpjl
	cmp0
	je l4816
	jmp l4818
l4817:
	add $3,1
	pop $3
	jmp l4815
l4818:
	push $3
	call grit,get
	pop $2
	push $2
	spushs
	push 40
	push $3
	push $1
	spushs
	spop $a
	call [$a],getw
	push 5
	pop $b
	popax
	add $a,$b
	pop $b
	popax
	mul $a,$b
	pop $b
	popax
	add $a,$b
	call anpasek,getcy
	push $1
	spushs
	spop $a
	call [$a],geth
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop $b
	popax
	sub $a,$b
	spop $a
	call [$a],setpos
	push $3
	call grgl,get
	spushs
	push $2
	spushs
	spop $a
	call [$a],getcx
	push $2
	spushs
	spop $a
	call [$a],getpy
	spop $a
	call [$a],setpos
	jmp l4817
l4816:
l4814:
	end method
	method mhideob
	push 1
	popax
	sub 0,$a
	call anhand,isplaying
	cmp0
	je l4820
	call anhand,anhide
	push "null"
	call anhand,pokaz=
l4820:
	end method
	method mshowob
	localstring $1
	pop $1
	push 0
	call anhand,isplaying
	push 0
	cmpje
	cmp0
	jne l4823
	push 0
	call anhand,isplaying
	cmp0
	je l4824
	call anhand,pokaz
	push $1
	cmpjne
	jmp l4826
l4824:
	push 0
	jmp l4826
l4825:
	push 1
l4826:
	jmp l4827
l4822:
	push 0
	jmp l4827
l4823:
	push 1
l4827:
	cmp0
	je l4828
	push $1
	call anhand,pokaz=
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getcy
	call anhand,setpos
	push 0
	call anhand,play
l4828:
	end method
	method mprzejdz
	localstring $1
	localstring $2
	pop $2
	pop $1
	push $1
	pop sdestdoor
	push $2
	pop sprzejdzdir
	push 2
	pop igmstate
	push "Labirynt38"
	push "mwznow"
	call ccs,playfin
	end method
	method Labirynt38
	localdef $1
	push sdestdoor
	call grob,getsac
	pop $1
	push sprzejdzdir
	pop sherodir
	push smainhero
	spushs
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setpos
	push smainhero
	spushs
	spop $a
	call [$a],mstand
	push smainhero
	spushs
	spop $a
	call [$a],mustaw
	cthis mhideob
	end method
	method mprzejdzopen
	localstring $1
	localstring $2
	localstring $3
	pop $3
	pop $2
	pop $1
	push $1
	pop sdestdoor
	push $3
	pop sandoor
	push $2
	pop sprzejdzdir
	push 2
	pop igmstate
	push "Labirynt39"
	push "Labirynt40"
	call ccs,playfin
	end method
	method Labirynt39
	localdef $1
	push sdestdoor
	call grob,getsac
	pop $1
	push sprzejdzdir
	pop sherodir
	push smainhero
	spushs
	push $1
	spushs
	spop $a
	call [$a],getcx
	push $1
	spushs
	spop $a
	call [$a],getey
	spop $a
	call [$a],setpos
	push smainhero
	spushs
	spop $a
	call [$a],mstand
	push smainhero
	spushs
	spop $a
	call [$a],mustaw
	push smainhero
	spushs
	push 4
	spop $a
	call [$a],setz
	cthis mhideob
	end method
	method Labirynt40
	push sandoor
	spushs
	push "otwarte"
	spop $a
	call [$a],hasvar
	cmp0
	je l4830
	push smainhero
	spushs
	push HEROZ
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	cthis mwznow
	jmp l4829
l4830:
	push sandoor
	spushs
	push 0
	push "Labirynt41"
	spop $a
	call [$a],anplayfin
l4829:
	end method
	method Labirynt41
	push "otwarte"
	cthis var
	push smainhero
	spushs
	push HEROZ
	push 1
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setz
	cthis mwznow
	end method
	method mwznow
	push 1
	pop igmstate
	end method
	method mstand
	push bherolot
	push 0
	cmpje
	cmp0
	je l4832
	cthis getname
	push smainhero
	cmpje
	cmp0
	je l4834
	push "stand"
	push sherodir
	pop $b
	popax
	add $a,$b
	cthis mplay
	jmp l4833
l4834:
	push "stand"
	cthis mgetdir
	pop $b
	popax
	add $a,$b
	cthis mplay
l4833:
l4832:
	end method
	method mustaw
	localint $1
	push 0
	pop $1
l4835:
	push $1
	push 3
	cmpjl
	cmp0
	je l4836
	jmp l4838
l4837:
	add $1,1
	pop $1
	jmp l4835
l4838:
	push bherolot
	neg
	cmp0
	je l4840
	cthis getposx
	cthis getposy
	push 0
	push 1
	call grwalk,isin
	push 0
	cmpje
	cmp0
	je l4840
	cthis getposy
	push 1000
	cmpjl
	jmp l4842
l4840:
	push 0
	jmp l4842
l4841:
	push 1
l4842:
	cmp0
	je l4843
	push 0
	push 5
	cthis move
	push 1
	pop bspada
l4843:
	push bspada
	push 0
	cmpje
	cmp0
	je l4845
	push 3
	pop $1
l4845:
	jmp l4837
l4836:
l4846:
	cthis getposx
	cthis getposy
	push 0
	push 1
	call grwalk,isin
	cmp0
	je l4847
	call grwalk,getsfound
	cthis mnadep
	push 0
	push 1
	popax
	sub 0,$a
	cthis move
	push 0
	pop bspada
	jmp l4846
l4847:
	push bspada
	cmp0
	je l4849
	cthis mbok
	cmp0
	je l4851
	push "spada"
	push sherodir
	pop $b
	popax
	add $a,$b
	cthis mplay
l4851:
l4849:
	end method
	method mnadep
	localstring $1
	pop $1
	push iLabLevel
	push 1
	cmpje
	cmp0
	je l4853
	push $1
	push "anl1wlktrap"
	cmpje
	cmp0
	je l4853
	push $1
	spushs
	push "btrapok"
	spop $a
	call [$a],hasvar
	neg
	jmp l4855
l4853:
	push 0
	jmp l4855
l4854:
	push 1
l4855:
	cmp0
	je l4856
	push $1
	spushs
	push "btrapok"
	push 1
	spop $a
	call [$a],var2
	push $1
	call grwalk,remove
	call timklamlot1,play
l4856:
	end method
	method mbok
	push sherodir
	push "l"
	cmpje
	cmp0
	jne l4858
	push sherodir
	push "r"
	cmpje
	jmp l4859
l4857:
	push 0
	jmp l4859
l4858:
	push 1
l4859:
	end method
	method mplay
	localstring $1
	pop $1
	push $1
	cthis isplaying
	push 0
	cmpje
	cmp0
	je l4861
	push $1
	cthis play
l4861:
	end method
	method mgo
	localint $1
	pop $1
	push bherolot
	cmp0
	je l4863
	push 3
	cthis framenr
	push 10
	cthis between
	cmp0
	je l4865
	push $1
	cthis mmove
l4865:
	jmp l4862
l4863:
	push bspada
	cmp0
	je l4867
	push $1
	cthis mmove
	jmp l4866
l4867:
	push "go"
	push sherodir
	pop $b
	popax
	add $a,$b
	cthis mplay
	push $1
	cthis mmove
l4866:
l4862:
	end method
	method mmove
	localint $1
	pop $1
	localint $2
	push $1
	push 0
	cmpja
	cmp0
	je l4869
	cthis getposx
	cthis herow2
	pop $b
	popax
	add $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
	jmp l4868
l4869:
	cthis getposx
	cthis herow2
	pop $b
	popax
	sub $a,$b
	push $1
	pop $b
	popax
	add $a,$b
	pop $2
l4868:
	localint $3
	cthis getpy
	pop $3
	localint $4
	cthis geth
	pop $4
	push $2
	push 0.2
	push $4
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push 0
	push 1
	call grwall,isin
	push 0
	cmpje
	cmp0
	je l4871
	push $2
	push 0.5
	push $4
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push 0
	push 1
	call grwall,isin
	push 0
	cmpje
	cmp0
	je l4871
	push $2
	push 0.8
	push $4
	pop $b
	popax
	mul $a,$b
	push $3
	pop $b
	popax
	add $a,$b
	push 0
	push 1
	call grwall,isin
	push 0
	cmpje
	jmp l4873
l4871:
	push 0
	jmp l4873
l4872:
	push 1
l4873:
	cmp0
	je l4874
	push $1
	push 0
	cthis move
	jmp l4870
l4874:
	call grwall,getsfound
	cthis mbumw
l4870:
	end method
	method mbumw
	localstring $1
	pop $1
	push iLabLevel
	push 2
	cmpje
	cmp0
	je l4876
	push $1
	push "anl2snakemask"
	cmpje
	jmp l4878
l4876:
	push 0
	jmp l4878
l4877:
	push 1
l4878:
	cmp0
	je l4879
	cthis mrestart
l4879:
	end method
	method msetnexthero
	push igmstate
	push 1
	cmpje
	cmp0
	je l4881
	push GAME
	spushs
	spop $a
	call [$a],mnexthero
l4881:
	end method
	method key_down
	push igmstate
	push 1
	cmpje
	cmp0
	je l4883
	push "tab"
	call keyboard,iskey
	cmp0
	je l4885
	cthis msetnexthero
l4885:
l4883:
	end method
	method mnextlevel
	push "Labirynt42"
	call ccs,close
	end method
	method Labirynt42
	add iLabLevel,1
	pop iLabLevel
	push iLabLevel
	push 4
	cmpje
	cmp0
	je l4887
	push "adkor"
	push "gameadkor2"
	cthis gotoadv
	jmp l4886
l4887:
	push GAME
	call gameapi,play
l4886:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4889
	push smainhero
	spushs
	call mouse,getpos
	spop $a
	call [$a],setpos
	call mouse,getpos
	push 1
	push 1
	push 1000
	popax
	sub 0,$a
	push 1000
	call engine,getimg
	spushs
	spop $h
	call $h,print
	push ""
	spushs
	spop $h
	call $h,print
l4889:
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4891
	push igmstate
	push 0
	cmpje
	jmp l4893
l4891:
	push 0
	jmp l4893
l4892:
	push 1
l4893:
	cmp0
	je l4894
	push 1
	cthis cactsndstop
l4894:
	end method
	end game

	game Mlyn
	parent StdGame
	method init
	push "mlyn"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "mlynhelp.pyz 2"
	push "wieza.pyz 5"
	push "bajzel.pyz 10"
	push "start.pyzH 10"
	push "els.pyzGH 20"
	push "odwaznik.pyzH 20"
	cthis imgs=
	push A
	push "muruje1"
	push "stepl1"
	push "founditem2 50"
	cthis sfxs=
	push "tajemnica.ogg -l"
	call mus,playstr
	push A
	push ":kokosz1"
	push "Widz e ten piorun niele przyoy!"
	push "Mlyn0"
	push ":kajko1"
	push "Musimy naprawi wiatrak; Pom mi powyciga czci mechanizmu"
	push "Mlyn1"
	push ":kajko2"
	push "Teraz przeniemy je na swoje miejsce"
	push "mgame"
	push ":kokosz2"
	push "Ten odwanik nie jest potrzebny do mechanizmu wiatraka; Wezm go"
	push "Mlyn3"
	cthis sounds=
	push 625
	push 36
	push 402
	push 620
	new Rect,rec
	push 120
	push 15
	push 1012
	push 120
	pop $b
	popax
	sub $a,$b
	push 760
	push 15
	pop $b
	popax
	sub $a,$b
	new Rect,rec2
	push "grels"
	call rec,fitgrouprand
	new DelayMover,cmov
	push "Mlyn4"
	call ccs,enter
	end method
	method Mlyn0
	push "kajko1"
	cthis cbplay
	end method
	method Mlyn1
	push "mprepare"
	push "Mlyn2"
	call ccs,playfin
	end method
	method Mlyn2
	push "kajko2"
	cthis cbplay
	end method
	method Mlyn3
	call anodwaznik,hide
	call grels,empty
	cmp0
	je l4896
	cthis mend
	jmp l4895
l4896:
	cthis mgame
l4895:
	end method
	method Mlyn4
	push "kokosz1"
	cthis cbplay
	end method
	method mprepare
	call anbajzel,hide
	call anstart,show
	call grels,show
	call anodwaznik,show
	call grels,hash
	cthis restorels
	end method
	method mgame
	push 1
	pop igmstate
	call cmov,unlock
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4898
	ret
l4898:
	call mouse,getpos
	push 1
	push 1
	call anodwaznik,isin
	cmp0
	je l4900
	push 2
	pop igmstate
	call fxmuruje1,play
	push "kokosz2"
	cthis cbplay
	jmp l4899
l4900:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4902
	call fxmuruje1,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	call grels,remove
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
l4902:
l4899:
	end method
	method cmov_PUT
	localstring $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 30
	spop $a
	call [$a],aninlod
	cmp0
	je l4904
	call fxfounditem2,play
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call grels,empty
	cmp0
	je l4906
	call anodwaznik,isvisible
	neg
	jmp l4908
l4906:
	push 0
	jmp l4908
l4907:
	push 1
l4908:
	cmp0
	je l4909
	cthis mend
	jmp l4905
l4909:
l4905:
	jmp l4903
l4904:
	push $1
	call grels,add
	cthis restorels
	push $1
	call rec2,fit
	call fxmuruje1,play
l4903:
	end method
	method restorels
	push 20
	call grels,sortz
	end method
	method mend
	push 2
	pop igmstate
	push "Mlyn5"
	call ccs,close
	end method
	method Mlyn5
	push "admlyn"
	push "gameadmlyn2"
	cthis gotoadv2
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4911
	push 1
	cthis cactsndstop
l4911:
	end method
	end game

	game Ratusz
	parent StdGame
	method init
	push "ratusz"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "help.pyzH 5"
	push "rama.pyz 15"
	cthis imgs=
	new gmimgvec,grels
	push "grels"
	push "els.pyz"
	popax
	pop $b
	psax
	call [$b],operator<
	call grels,hash
	cthis restorels
	push A
	push "muruje1"
	push "wstawiaszklo"
	push "putszklo"
	cthis sfxs=
	push "tajemnica.ogg -l"
	call mus,playstr
	push 20
	push 20
	push 350
	push 620
	new Rect,rec
	push 20
	push 15
	push 1012
	push 20
	pop $b
	popax
	sub $a,$b
	push 760
	push 15
	pop $b
	popax
	sub $a,$b
	new Rect,rec2
	push "grels"
	call rec,fitgrouprand
	push A
	push ":kokosz1"
	push "Na Trygawa; Tyle czasu ukadalimy ten witra eby pooglda sobie drzewo ksiyc jabko motyla i koguta?"
	push "Ratusz0"
	push ":kajko1"
	push "Sam tego chciae"
	push "Ratusz1"
	push ":kokosz2"
	push "Mylaem e zoymy jak pikn syren albo nimf wodn"
	push "mend"
	cthis sounds=
	new DelayMover,cmov
	cthis mgame
	end method
	method Ratusz0
	push "kajko1"
	cthis cbplay
	end method
	method Ratusz1
	push "kokosz2"
	cthis cbplay
	end method
	method mgame
	push 1
	pop igmstate
	call cmov,unlock
	end method
	method cmov_GET
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4913
	ret
l4913:
	call mouse,getpos
	push 1
	push 1
	call grels,isin
	cmp0
	je l4915
	call fxmuruje1,play
	localdef $1
	call grels,getsfound
	pop $1
	push $1
	call grels,remove
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
l4915:
	end method
	method cmov_PUT
	localstring $1
	cthis getfree
	pop $1
	push $1
	spushs
	push 30
	spop $a
	call [$a],aninlod
	cmp0
	je l4917
	push $1
	spushs
	push 11
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	call fxwstawiaszklo,play
	call grels,empty
	cmp0
	je l4919
	push 2
	pop igmstate
	push "founditem1.ogg -v 50"
	call mus,playstr
	push "kokosz1"
	cthis cbplay
	jmp l4918
l4919:
l4918:
	jmp l4916
l4917:
	call fxputszklo,play
	push $1
	call grels,add
	cthis restorels
	push $1
	call rec2,fit
l4916:
	end method
	method restorels
	push 20
	call grels,sortz
	end method
	method mend
	push 2
	pop igmstate
	push "Ratusz2"
	call ccs,close
	end method
	method Ratusz2
	push "adratusz"
	push "gameadratusz2"
	cthis gotoadv
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4921
	push 2
	pop igmstate
	push "kokosz1"
	cthis cbplay
l4921:
	end method
	end game

	game Sejf
	parent StdGame
	method init
	push "sejf"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "beczka.pyz 15"
	push "els.pyzG 10"
	push "$scripts/common/powrot.pyz 50"
	push "klapki.pyz 12"
	cthis imgs=
	push "anbeczka"
	push "anbeczkaopen"
	cthis copyanima
	call anbeczkaopen,hide
	push 1
	push 0
	call anbeczkaopen,setframe
	push "anklapki"
	push "anklapkidown"
	cthis copyanima
	push "downdown"
	push 0
	call anklapkidown,setframe
	push "onfinish"
	push "Sejf0"
	call anklapki,addmethod
	push "e32_szyfr_wylosowany"
	call clsave,bis
	neg
	cmp0
	je l4931
	push "e32_szyfr_wylosowany"
	call clsave,bset
	jmp l4930
l4931:
	localint $1
	push 0
	pop $1
l4932:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l4933
	jmp l4935
l4934:
	add $1,1
	pop $1
	jmp l4932
l4935:
	push $1
	call grels,get
	spushs
	push 1
	popax
	sub 0,$a
	push "e32_saved_sejf"
	push $1
	pop $b
	popax
	add $a,$b
	call clsave,get
	spop $a
	call [$a],setframe
	jmp l4934
l4933:
l4930:
	push A
	push "wciska1"
	push "odklucza2"
	push "klamka"
	cthis sfxs=
	push "logiczne.ogg -l"
	call mus,playstr
	new Button,but1
	call anpowrot,Sejf2
	push "Sejf4"
	call grels,eval
	push "timok1"
	push 500
	push "Sejf6"
	cthis timer=
	push "timok2"
	push 2000
	push "Sejf7"
	cthis timer=
	push A
	push ":kajko1"
	push "Udao si; To s te same obrazki co na witrau w domu z dzwonem"
	push "Sejf9"
	push ":kokosz1"
	push "A widzisz? Dobrze e go zoyem"
	push "Sejf10"
	push ":kajko2"
	push "Zakadaj opask na oczy i wycigamy kryszta"
	push "Sejf11"
	cthis sounds=
	push "Sejf12"
	call ccs,enter
	end method
	method Sejf0
	cthis actionname
	push "upup"
	cmpje
	cmp0
	je l4923
	cthis mgame
	jmp l4922
l4923:
	cthis actionname
	push "updown"
	cmpje
	cmp0
	je l4925
	push "Sejf1"
	call ccs,close
l4925:
l4922:
	end method
	method Sejf1
	localint $1
	push 0
	pop $1
l4926:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l4927
	jmp l4929
l4928:
	add $1,1
	pop $1
	jmp l4926
l4929:
	push "e32_saved_sejf"
	push $1
	pop $b
	popax
	add $a,$b
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],framenr
	call clsave,set
	jmp l4928
l4927:
	push "adbiuro"
	push "gameadbiuro2"
	cthis gotoadv
	end method
	method Sejf2
	cthis Button_stdms
	push "butclick"
	push "Sejf3"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Sejf3
	push igmstate
	push 1
	cmpje
	cmp0
	je l4937
	call fxwciska1,play
	push "updown"
	call anklapki,play
	push "downup"
	call anklapkidown,play
	push 2
	pop igmstate
l4937:
	end method
	method Sejf4
	cthis Button_stdms
	push "butclick"
	push "Sejf5"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Sejf5
	push igmstate
	push 1
	cmpje
	cmp0
	je l4939
	cthis ansetnextfr
	call fxodklucza2,play
	cthis mok
	cmp0
	je l4941
	push 3
	pop igmstate
	call anpowrot,hide
	call timok1,play
	call fxklamka,play
l4941:
l4939:
	end method
	method Sejf6
	call grels,hide
	push 1
	call anbeczkaopen,play
	push "kajko1"
	cthis cbplay
	end method
	method Sejf7
	push "Sejf8"
	call ccs,close
	end method
	method Sejf8
	push "e32_sejf_otwarty"
	call clsave,bset
	push "epizod"
	push "e33Finito"
	call clsave,set
	push "adbiuro"
	push "gameadbiuro2"
	cthis gotoadv
	end method
	method Sejf9
	push "kokosz1"
	cthis cbplay
	end method
	method Sejf10
	push "kajko2"
	cthis cbplay
	end method
	method Sejf11
	call timok2,play
	end method
	method Sejf12
	call fxwciska1,play
	push "upup"
	call anklapki,play
	push "downdown"
	call anklapkidown,play
	end method
	method mlosuj
	localstring $1
	localint $2
	push 1
	pop $2
	localint $3
	push 0
	pop $3
l4942:
	push $3
	call grels,size
	cmpjl
	cmp0
	je l4943
	jmp l4945
l4944:
	add $3,1
	pop $3
	jmp l4942
l4945:
	push $3
	call grels,get
	pop $1
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	push $1
	spushs
	push 1
	popax
	sub 0,$a
	spop $a
	call [$a],nofframes
	spushs
	spop $h
	call $h,rand
	spop $a
	call [$a],setframe
	push $1
	spushs
	spop $a
	call [$a],framename
	spushs
	push "ok"
	spop $h
	call $h,contains
	neg
	cmp0
	je l4947
	push 0
	pop $2
l4947:
	jmp l4944
l4943:
	push $2
	end method
	method mok
	localint $1
	push 0
	pop $1
l4948:
	push $1
	call grels,size
	cmpjl
	cmp0
	je l4949
	jmp l4951
l4950:
	add $1,1
	pop $1
	jmp l4948
l4951:
	push $1
	call grels,get
	spushs
	spop $a
	call [$a],framename
	spushs
	push "ok"
	spop $h
	call $h,contains
	neg
	cmp0
	je l4953
	push 0
	ret
l4953:
	jmp l4950
l4949:
	push 1
	end method
	method mgame
	push 1
	pop igmstate
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4955
	push 1
	call timok2,stop
l4955:
	end method
	end game

	game Hidden
	parent StdGame
	method init
	push "hidden"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "fire.pyzP 5"
	push "firemask.pyz 8"
	push "take.pyzG 100"
	push "els.pyzG"
	push "zaslony.pyzG 30"
	push "maskajablka.pyz 40"
	push "sagan.pyz 110"
	push "maskanalewka.pyz 25"
	cthis imgs=
	push A
	push "ogienN 70"
	push "przesuwa2 50"
	push "founditem2"
	push "muruje1"
	cthis sfxs=
	new Button,but1
	new gmimgvec,grob
	push "Hidden0"
	call grzaslony,eval
	new int,ielsz
	push 20
	pop ielsz
	push "Hidden2"
	call grels,eval
	push "Hidden4"
	call grtake,eval
	new DelayMover,cmov
	new classplacepointer2,clp
	push A
	push ":kokosz1"
	push "To co najpierw jemy czy szukamy skadniki?"
	push "Hidden5"
	push ":kajko1"
	push "A jak mylisz?"
	push "Hidden6"
	push ":kokosz2"
	push "Dobra artowaem; Potrzebujemy mk owsian czosnek cebul mid nalewk urawin i jaki modzierz z tuczkiem w ktrym utr lekarstwo"
	push "Hidden7"
	push "sndnar1"
	push "Odnajd potrzebne skadniki na planszy i przenie je na te pola"
	push "Hidden8"
	push ":kokosz3"
	push "Mam wszystko co potrzebne; Jest tylko jeden problem"
	push "Hidden9"
	push ":kajko2"
	push "Jaki?"
	push "Hidden10"
	push ":kokosz4"
	push "Nigdzie nie byo mki owsianej; Zabraem tylko ziarna owsa"
	push "Hidden11"
	push ":kajko3"
	push "Co wymylimy; Zjedzmy t zup i dziaamy dalej"
	push "mend"
	cthis sounds=
	push "Hidden12"
	call ccs,enter
	end method
	method Hidden0
	cthis Button_isinalpha
	cthis Button_moveonms
	cthis Button_moveoff
	push "butclick"
	push "Hidden1"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method Hidden1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4957
	ret
l4957:
	call fxprzesuwa2,play
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	localdef $1
	cthis actionname
	pop $1
	push 0
	push 3
	call $1,getb
	push "new"
	cmpjne
	cmp0
	je l4959
	push $1
	call grels,getsac
	pop $1
	push $1
	spushs
	push 1
	spop $a
	call [$a],bactive=
	push $1
	call grob,add
l4959:
	cthis getname
	call but1,removebut
	call but1,onmousemove
	push 3
	pop igmstate
	end method
	method Hidden2
	push ielsz
	cthis setz
	push "bactive"
	cthis var
	cthis actionname
	call grzaslony,findsac
	push 0
	cmpjae
	cmp0
	je l4961
	push 0
	pop bactive
	jmp l4960
l4961:
	push 1
	pop bactive
	cthis getname
	call grob,add
l4960:
	push "isbutin"
	push "Hidden3"
	cthis addmethod
	cthis Button_moveoff
	cthis Button_moveonms
	cthis getname
	call but1,add
	end method
	method Hidden3
	localdef $1
	localdef $2
	pop $2
	pop $1
	push bactive
	cmp0
	je l4962
	push $1
	push $2
	push 1
	push 1
	cthis isin
	jmp l4964
l4962:
	push 0
	jmp l4964
l4963:
	push 1
l4964:
	end method
	method Hidden4
	cthis Button_isinalpha
	cthis Button_moveoff
	cthis Button_moveonms
	cthis getname
	call but1,add
	end method
	method Hidden5
	push "kajko1"
	cthis cbplay
	end method
	method Hidden6
	push "kokosz2"
	cthis cbplay
	end method
	method Hidden7
	push "sndnar1"
	cthis cbplay
	push 2
	call grtake,get
	push "uu"
	call clp,showob
	end method
	method Hidden8
	call clp,stoph
	cthis mgame
	end method
	method Hidden9
	push "kajko2"
	cthis cbplay
	end method
	method Hidden10
	push "kokosz4"
	cthis cbplay
	end method
	method Hidden11
	push "kajko3"
	cthis cbplay
	end method
	method Hidden12
	push "kokosz1"
	cthis cbplay
	end method
	method mgame
	push 1
	pop igmstate
	call cmov,unlock
	end method
	method cmov_GET
	push igmstate
	push 3
	cmpje
	cmp0
	je l4966
	push 1
	pop igmstate
	ret
l4966:
	push igmstate
	push 1
	cmpjne
	cmp0
	je l4968
	ret
l4968:
	call mouse,getpos
	push 1
	push 1
	call grob,isin
	cmp0
	je l4970
	localdef $1
	call grob,getsfound
	pop $1
	push $1
	call grob,remove
	push $1
	spushs
	push 200
	spop $a
	call [$a],setz
	push $1
	cthis mssetobj
	call fxmuruje1,play
l4970:
	end method
	method cmov_PUT
	localstring $1
	cthis getfree
	pop $1
	call mouse,getpos
	push 1
	push 1
	call grtake,isin
	cmp0
	je l4972
	call grtake,getsfound
	spushs
	spop $a
	call [$a],actionname
	push $1
	spushs
	spop $a
	call [$a],actionname
	cmpje
	jmp l4974
l4972:
	push 0
	jmp l4974
l4973:
	push 1
l4974:
	cmp0
	je l4975
	call fxfounditem2,play
	push $1
	spushs
	spop $a
	call [$a],hide
	push $1
	call but1,removebut
	localdef $2
	call grtake,getsfound
	pop $2
	push $2
	spushs
	push 1
	popax
	sub 0,$a
	push 1
	spop $a
	call [$a],setframe
	push $2
	call grtake,remove
	push $2
	call but1,removebut
	call but1,onmousemove
	call grtake,empty
	cmp0
	je l4977
	push 2
	pop igmstate
	push "kokosz3"
	cthis cbplay
	jmp l4976
l4977:
l4976:
	jmp l4971
l4975:
	push $1
	cthis mretob
	call fxmuruje1,play
l4971:
	end method
	method mretob
	localstring $1
	pop $1
	push $1
	spushs
	push ielsz
	spop $a
	call [$a],setz
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setpos
	push $1
	call grob,add
	end method
	method mend
	push 2
	pop igmstate
	push "Hidden13"
	call ccs,close
	end method
	method Hidden13
	push "adtown"
	push "gameadtown2"
	cthis gotoadv
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l4979
	push 1
	cthis cactsndstop
l4979:
	end method
	end game

	game Cs33Gdas
	parent StdGame
	method init
	push "cs33gdas"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "swieca.pyzP 5"
	push "hodon.pyz 10"
	push "krysztal.pyz 15"
	push "gdas.pyz 20"
	push "maska.pyz 30"
	cthis imgs=
	push 0
	push "Cs33Gdas0"
	call angdas,anplayfin
	push "onendframe"
	push "Cs33Gdas1"
	call angdas,addmethod
	push A
	push "bgrdomN"
	push "zamach2"
	cthis sfxs=
	push "timend"
	push 1000
	push "Cs33Gdas2"
	cthis timer=
	end method
	method Cs33Gdas0
	push 1
	push 0
	call anhodon,setframe
	call timend,play
	end method
	method Cs33Gdas1
	cthis framename
	push "zabral"
	cmpje
	cmp0
	je l4981
	call fxzamach2,play
l4981:
	call ankrysztal,hide
	end method
	method Cs33Gdas2
	push "adbiuro"
	push "gameadbiuro2"
	cthis gotoadv
	end method
	end game

	game Cs34Krysztal
	parent StdGame
	method init
	push "cs34krysztal"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "zamek.pyz 10"
	push "krysztal.pyzP 15"
	cthis imgs=
	push A
	push "bgrmorze2N 30"
	push "bgrplazaN 50"
	push "bgrwiatrN 50"
	push "zbilkrysztal"
	cthis sfxs=
	push "onfinish"
	push "Cs34Krysztal0"
	call ankrysztal,addmethod
	end method
	method Cs34Krysztal0
	push "Cs35Opaski"
	call gameapi,play
	end method
	end game

	game Cs35Opaski
	parent StdGame
	method init
	push "cs35opaski"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "swieca.pyzP 5"
	push "kajko.pyzP 10"
	push "kokosz.pyzP 15"
	cthis imgs=
	push A
	push "bgrdomN"
	cthis sfxs=
	push "onfinish"
	push "Cs35Opaski0"
	call ankajko,addmethod
	end method
	method Cs35Opaski0
	push "Cs35Opaski1"
	call ccs,close
	end method
	method Cs35Opaski1
	push "adbiuro"
	push "gameadbiuro2"
	cthis gotoadv
	end method
	end game

	game Cs36Sledzie
	parent StdGame
	method init
	push "cs36sledzie"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "swieca.pyzP 5"
	push "hodon.pyzP 10"
	push "beczki.pyz 15"
	cthis imgs=
	push A
	push "bgrdomN"
	push "uderzwstol"
	push "wpadlwblachy"
	cthis sfxs=
	push "onfinish"
	push "Cs36Sledzie0"
	call anhodon,addmethod
	push A
	push ":kokosz1"
	push "Solone ledzie? Prosz bardzo"
	push "Cs36Sledzie1"
	cthis sounds=
	end method
	method Cs36Sledzie0
	push "kokosz1"
	cthis cbplay
	end method
	method Cs36Sledzie1
	push "Cs36Sledzie2"
	call ccs,close
	end method
	method Cs36Sledzie2
	push "adbiuro"
	push "gameadbiuro2"
	cthis gotoadv
	end method
	end game

	game Cs37Stwory
	parent StdGame
	method init
	push "cs37stwory"
	clparent StdGame,init
	new gmimgvec,grels
	new int,istworylevel
	push 1
	pop istworylevel
	push A
	push "sndnar1"
	push "Po rozbiciu krysztau hipnozy czary rzucone na mieszkacw wyspy przestay dziaa; Stwory z wyspy Hokulandii na powrt stay si ludmi"
	push "null"
	cthis sounds=
	push "magia.ogg magia2.ogg magia3.ogg magia4.ogg"
	call mus,playstr
	cthis mload
	push "Cs37Stwory0"
	call ccs,enter
	end method
	method Cs37Stwory0
	push "sndnar1"
	cthis cbplay
	end method
	method mload
	push "grels"
	push "s"
	push istworylevel
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	popax
	pop $b
	psax
	call [$b],operator*
	push 7
	call grels,setdelay
	call grels,last
	spushs
	push "onfinish"
	push "Cs37Stwory1"
	spop $a
	call [$a],addmethod
	push 1
	popax
	sub 0,$a
	call grels,nplay
	end method
	method Cs37Stwory1
	push "Cs37Stwory2"
	call ccs,close
	end method
	method Cs37Stwory2
	call grels,deleteallgm
	call grels,free
	add istworylevel,1
	pop istworylevel
	push istworylevel
	push 3
	cmpja
	cmp0
	je l4983
	push 1000
	call mus,fadeout
	push "Cs37Stwory3"
	call ccs,close
	jmp l4982
l4983:
	cthis mload
	push "null"
	call ccs,enter
l4982:
	end method
	method Cs37Stwory3
	push "Cs38Komnata"
	call gameapi,play
	end method
	end game

	game Cs38Komnata
	parent StdGame
	method init
	push "cs38komnata"
	clparent StdGame,init
	push A
	push "podmaski.pyzG"
	push "zapadnia.pyz 5"
	push "bkg.pyz 10"
	push "klepka.pyzH 11"
	push "ludki1.pyzG 20"
	push "hodon.pyz 25"
	push "ludki2.pyzG 30"
	push "maska.pyz 40"
	push "ludki3.pyzG 45"
	push "kokosz.pyz 26"
	push "kajko.pyz 27"
	push "soren.pyz 28"
	cthis imgs=
	new gmimgvec,grels
	push A
	push "grludki1"
	push "grludki2"
	push "grludki3"
	call grels,addlist
	push "onfinish"
	push "Cs38Komnata0"
	call anhodon,addmethod
	push "onendframe"
	push "Cs38Komnata1"
	call anhodon,addmethod
	push "onfinish"
	push "Cs38Komnata2"
	call anzapadnia,addmethod
	push A
	push ":kokosz1"
	push "Zebralimy si w tej komnacie by osdzi uzurpatora ktry ciemiy lud tej wyspy zamieni mieszkacw w stwory i uwizi ksicia Sorena w ciemnym lochu"
	push "Cs38Komnata3"
	push ":kajko1"
	push "Ciar twoich win Hodonie jest przeogromny; Ksi Soren wymierzy ci sprawiedliw kar"
	push "Cs38Komnata4"
	push ":kokosz2"
	push "Jeli chcesz prosi o ask masz teraz ostatni szans"
	push "Cs38Komnata5"
	push ":hodon1"
	push "Chc prosi; Ale nie o ask"
	push "Cs38Komnata6"
	push ":kokosz3"
	push "Masz jeszcze czelno stawia nam warunki? Dalej prbujesz rzdzi?"
	push "Cs38Komnata7"
	push ":soren1"
	push "Nie uno si Kokoszu; Jak masz prob Hodonie?"
	push "Cs38Komnata8"
	push ":hodon2"
	push "Dzikuj Sorenie; Chciabym ci prosi by powiedzia mi dlaczego nie pragniesz zemsty za to co ci zrobiem"
	push "Cs38Komnata9"
	push ":soren2"
	push "Zemsty? Chciabym ci raczej podzikowa"
	push "Cs38Komnata10"
	push "sndtlum1"
	push "Ooooch; Syszelicie?"
	push "Cs38Komnata11"
	push ":soren3"
	push "Przez cae ycie si zamartwiaem; Bdc ksiciem wci mylaem jak zapewni wyspie spokj jak uoy si z zamorskimi ssiadami jak pokry dziur budetow; Biorc na siebie brzemi wadzy uwolnie mnie od trosk; Dopiero w ciemnym lochu zaznaem prawdziwego szczcia; Przez cae godziny wsuchiwaem si w odgosy natury i dowiadczaem ycia takiego jakim ono jest; Zamiast y w mylach o tym co byo i co si ma wydarzy yem w tym co jest jedyn prawd; W wiecznej chwili obecnej"
	push "Cs38Komnata12"
	push ":hodon3"
	push "Zaiste prawdziwa jest twoja przemiana Sorenie; Jestem ju zmczony walk o wadz i wpywy; Budowanie zamkw podbijanie krain nie przynosi mi adnej radoci; Mylaem e co osign wznoszc kamienne zamki; e przejd do historii; Czuj jednak wycznie smutek i niepokj; Czy umiesz da mi to szczcie ktre sam odczuwasz?"
	push "Cs38Komnata13"
	push ":kokosz4"
	push "Nie wierz mu ksi znowu co knuje; To chytry lis"
	push "Cs38Komnata14"
	push ":hodon4"
	push "Pytae si Kokoszu czy mam prob; Odsucie si prosz"
	push "Cs38Komnata15"
	push "sndtlum2"
	push "Ooooo! Widzielicie?"
	push "Cs38Komnata18"
	push ":hodon5"
	push "W kadej chwili mogem was pokona; Ale nie chc ju duej marnowa ycia na marzenia o wadzy; Chciabym was wszystkich przeprosi za to co zrobiem; Uwierzcie mi nie byem ani troch szczliwy czynic to cae zo"
	push "Cs38Komnata19"
	push ":soren4"
	push "Cieszmy si bracia i siostry; Dzi Kajko i Kokosz odczarowali nie tylko was ale i Hodona; Czy to nie wspaniae zwycistwo w ktrym kady czuje si wygranym?"
	push "Cs38Komnata20"
	push "sndtlum3"
	push "Hurra! Niech yje Soren! Niech yj Kajko i Kokosz! Brawo Hodon!"
	push "Cs38Komnata21"
	cthis sounds=
	push A
	push "bgrholN 40"
	push "bgrdomN 70"
	push "klamka2"
	push "przekreca1"
	cthis sfxs=
	push "Cs38Komnata23"
	call ccs,enter
	end method
	method Cs38Komnata0
	cthis actionname
	push "tup"
	cmpje
	cmp0
	je l4985
	push 0
	call anzapadnia,play
	call fxprzekreca1,play
	push "stand"
	cthis play
l4985:
	end method
	method Cs38Komnata1
	cthis framename
	push "tup"
	cmpje
	cmp0
	je l4987
	call anklepka,show
	call fxklamka2,play
l4987:
	end method
	method Cs38Komnata2
	push "sndtlum2"
	cthis cbplay
	push 1
	popax
	sub 0,$a
	push 1
	call grels,setframe
	push "oo"
	call ankokosz,play
	push "oo"
	call ankajko,play
	end method
	method Cs38Komnata3
	push "kajko1"
	cthis kasay
	cthis kostop
	end method
	method Cs38Komnata4
	cthis kastop
	push "kokosz2"
	cthis kosay
	end method
	method Cs38Komnata5
	cthis kostop
	push "hodon1"
	cthis hosay
	end method
	method Cs38Komnata6
	cthis hostop
	push "kokosz3"
	cthis kosay
	end method
	method Cs38Komnata7
	cthis kostop
	push "soren1"
	cthis sosay
	end method
	method Cs38Komnata8
	cthis sostop
	push "hodon2"
	cthis hosay
	end method
	method Cs38Komnata9
	cthis hostop
	push "soren2"
	cthis sosay
	end method
	method Cs38Komnata10
	cthis sostop
	push "sndtlum1"
	cthis cbplay
	push 1
	popax
	sub 0,$a
	push 1
	call grels,setframe
	end method
	method Cs38Komnata11
	push 1
	popax
	sub 0,$a
	push 0
	call grels,setframe
	push "soren3"
	cthis sosay
	end method
	method Cs38Komnata12
	cthis sostop
	push "hodon3"
	cthis hosay
	end method
	method Cs38Komnata13
	cthis hostop
	push "kokosz4"
	cthis kosay
	end method
	method Cs38Komnata14
	cthis kostop
	push "hodon4"
	cthis hosay
	end method
	method Cs38Komnata15
	cthis hostop
	push "Cs38Komnata16"
	push "Cs38Komnata17"
	call ccs,playfin
	end method
	method Cs38Komnata16
	push "standb"
	call ankokosz,play
	push "standb"
	call ankajko,play
	push "standb"
	call ansoren,play
	end method
	method Cs38Komnata17
	push "tup"
	call anhodon,play
	end method
	method Cs38Komnata18
	push "hodon5"
	cthis hosay
	end method
	method Cs38Komnata19
	cthis hostop
	push "soren4"
	cthis sosay2
	push 1
	popax
	sub 0,$a
	push 2
	call grels,setframe
	push "hehe"
	call ankokosz,play
	push "hehe"
	call ankajko,play
	end method
	method Cs38Komnata20
	push "standb"
	call ansoren,play
	push "sndtlum3"
	cthis cbplay
	end method
	method Cs38Komnata21
	push "Cs38Komnata22"
	call ccs,close
	end method
	method Cs38Komnata22
	push "Cs39Theend"
	call gameapi,play
	end method
	method Cs38Komnata23
	push "kokosz1"
	cthis kosay
	end method
	method kosay
	localstring $1
	pop $1
	push "talk"
	call ankokosz,play
	push $1
	cthis cbplay
	end method
	method kostop
	push "stand"
	call ankokosz,play
	end method
	method kasay
	localstring $1
	pop $1
	push "talk"
	call ankajko,play
	push $1
	cthis cbplay
	end method
	method kastop
	push "stand"
	call ankajko,play
	end method
	method hosay
	localstring $1
	pop $1
	push "talk"
	call anhodon,play
	push $1
	cthis cbplay
	end method
	method hostop
	push "stand"
	call anhodon,play
	end method
	method sosay
	localstring $1
	pop $1
	push "talk"
	call ansoren,play
	push $1
	cthis cbplay
	end method
	method sostop
	push "stand"
	call ansoren,play
	end method
	method sosay2
	localstring $1
	pop $1
	push "talkb"
	call ansoren,play
	push $1
	cthis cbplay
	end method
	method mouse_lclick
	push igmdebug
	cmp0
	je l4989
	push 1
	cthis cactsndstop
l4989:
	end method
	end game

	game Cs39Theend
	parent StdGame
	method init
	push "cs39theend"
	clparent StdGame,init
	push A
	push "bgsky.pyz"
	push "woda.pyzP 5"
	push "kregi.pyzP 7"
	push "lodz.pyzP 10"
	push "lodka.pyzP 15"
	push "pomost.pyz 20"
	push "myler.pyz 22"
	push "baba1.pyz 24"
	push "baba2.pyz 26"
	push "babka3.pyz 30"
	push "gula.pyz 33"
	push "szambelan.pyz 35"
	push "gdas.pyz 38"
	push "kokosz.pyz 40"
	push "kajko.pyz 45"
	push "dziura.pyzG 100"
	push "koniec.pyzH 110"
	cthis imgs=
	push 0
	push 100
	popax
	sub 0,$a
	call ankoniec,move
	new gmimgvec,grels
	push A
	push "anmyler"
	push "anbaba1"
	push "anbaba2"
	push "anbabka3"
	push "anszambelan"
	call grels,addlist
	push A
	push "bgrmorze3N"
	cthis sfxs=
	push "flety.ogg -v 70"
	call mus,playstr
	push A
	push "sndnar1"
	push "Wbrew nadziejom wyspiarzy Soren nie wrci na tron ksistwa; Postanowi odpyn na bezludn wysp by wie ywot pustelnika; Jego towarzyszem obok szczurka Lutka zosta Hodon ktry w niczym nie przypomina ju dawnego butnego wadcy"
	push "Cs39Theend0"
	push "sndnar2"
	push "Kajko Kokosz i Gda spdzili jeszcze kilka wspaniaych dni na wyspie; Zaprzyjanili si z mieszkacami; Szczeglnie polubili dzielnego Matiego"
	push "Cs39Theend1"
	push "sndnar3"
	push "A potem wyruszyli do ukochanego Mirmiowa i ciotki Jagi ktra z utsknieniem wyczekiwaa powrotu kruka Gdasia"
	push "Cs39Theend2"
	cthis sounds=
	new img,imlewy
	localstring $1
	push 0
	call grdziura,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push iResY
	cthis black
	push 255
	call imlewy,create
	push 105
	call imlewy,setz
	new img,imgora
	push iResX
	push $1
	spushs
	spop $a
	call [$a],getpy
	cthis black
	push 255
	call imgora,create
	push 105
	call imgora,setz
	push 3
	call grdziura,get
	pop $1
	new img,imprawy
	push iResX
	push $1
	spushs
	spop $a
	call [$a],getex
	pop $b
	popax
	sub $a,$b
	push iResY
	cthis black
	push 255
	call imprawy,create
	push $1
	spushs
	spop $a
	call [$a],getex
	push 0
	call imprawy,setpos
	push 105
	call imprawy,setz
	new img,imdol
	push iResX
	push iResY
	push $1
	spushs
	spop $a
	call [$a],getey
	pop $b
	popax
	sub $a,$b
	cthis black
	push 255
	call imdol,create
	push 0
	push $1
	spushs
	spop $a
	call [$a],getey
	call imdol,setpos
	push 105
	call imdol,setz
	call grdziura,first
	pop $1
	new int,dt
	push 4
	pop dt
l4990:
	push $1
	spushs
	spop $a
	call [$a],getex
	push 0
	cmpja
	cmp0
	jne l4992
	push $1
	spushs
	spop $a
	call [$a],getey
	push 0
	cmpja
	jmp l4993
l4991:
	push 0
	jmp l4993
l4992:
	push 1
l4993:
	cmp0
	je l4994
	push 0
	call grdziura,get
	spushs
	push dt
	popax
	sub 0,$a
	push dt
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 1
	call grdziura,get
	spushs
	push dt
	push dt
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 2
	call grdziura,get
	spushs
	push dt
	popax
	sub 0,$a
	push dt
	spop $a
	call [$a],move
	push 3
	call grdziura,get
	spushs
	push dt
	push dt
	spop $a
	call [$a],move
	push dt
	popax
	sub 0,$a
	push 0
	call imlewy,move
	push dt
	push 0
	call imprawy,move
	push 0
	push dt
	popax
	sub 0,$a
	call imgora,move
	push 0
	push dt
	call imdol,move
	jmp l4990
l4994:
	push "timkurtyna"
	push "Cs39Theend3"
	cthis cycle=
	push "timkoniec"
	push 1000
	push "Cs39Theend4"
	cthis timer=
	push "Cs39Theend5"
	call ccs,enter
	end method
	method Cs39Theend0
	push "sndnar2"
	cthis cbplay
	push 0
	call grels,nplay
	push 1
	call anlodka,play
	end method
	method Cs39Theend1
	push "sndnar3"
	cthis cbplay
	call timkurtyna,play
	end method
	method Cs39Theend2
	call ankoniec,show
	push 1
	pop igmstate
	end method
	method Cs39Theend3
	localdef $1
	push 0
	call grdziura,get
	pop $1
	push $1
	spushs
	spop $a
	call [$a],getpx
	push $1
	spushs
	spop $a
	call [$a],lodx
	cmpjl
	cmp0
	je l4996
	push dt
	push 0
	call imlewy,move
	push 0
	push dt
	call imgora,move
	push dt
	popax
	sub 0,$a
	push 0
	call imprawy,move
	push 0
	push dt
	popax
	sub 0,$a
	call imdol,move
	push 0
	call grdziura,get
	spushs
	push dt
	push dt
	spop $a
	call [$a],move
	push 1
	call grdziura,get
	spushs
	push dt
	popax
	sub 0,$a
	push dt
	spop $a
	call [$a],move
	push 2
	call grdziura,get
	spushs
	push dt
	push dt
	popax
	sub 0,$a
	spop $a
	call [$a],move
	push 3
	call grdziura,get
	spushs
	push dt
	popax
	sub 0,$a
	push dt
	popax
	sub 0,$a
	spop $a
	call [$a],move
	cthis play
	jmp l4995
l4996:
	push 1000
	call mus,fadeout
	call timkoniec,play
l4995:
	end method
	method Cs39Theend4
	push "wyspa1.ogg"
	call mus,playstr
	end method
	method Cs39Theend5
	cthis advgetscreenshoot
	push "sndnar1"
	cthis cbplay
	end method
	method mouse_lclick
	push igmstate
	push 1
	cmpje
	cmp0
	je l4998
	push 2
	pop igmstate
	push 1000
	call mus,fadeout
	push "Cs39Theend6"
	call ccs,close
	jmp l4997
l4998:
	push igmdebug
	cmp0
	je l5000
	push 1
	cthis cactsndstop
l5000:
l4997:
	end method
	method Cs39Theend6
	push "MainMenu"
	call gameapi,play
	end method
	end game

	game Intro
	parent StdGame
	method init
	push "intro"
	clparent StdGame,init
	push A
	push "intro1.png 5"
	push "intro2.png"
	push "napis1tyt.pyz 10"
	push "napis2tyt.pyz 10"
	push "napis3kk.pyz 15"
	push "autorzy.pyzH 20"
	cthis imgs=
	new int,icycnapis
	push 20
	pop icycnapis
	new int,ilennapis1
	push iResX
	call annapis1tyt,getpx
	pop $b
	popax
	sub $a,$b
	push icycnapis
	pop $b
	popax
	add $a,$b
	popax
	sub 0,$a
	push icycnapis
	pop $b
	popax
	div $a,$b
	psax
	pop ilennapis1
	push icycnapis
	popax
	sub 0,$a
	push ilennapis1
	pop $b
	popax
	mul $a,$b
	push 0
	call annapis1tyt,move
	new int,ilennapis2
	call annapis2tyt,getex
	push icycnapis
	pop $b
	popax
	add $a,$b
	push icycnapis
	pop $b
	popax
	div $a,$b
	psax
	pop ilennapis2
	push icycnapis
	popax
	sub 0,$a
	push ilennapis2
	pop $b
	popax
	mul $a,$b
	push 0
	call annapis2tyt,move
	new int,inapisycnt
	push icycnapis
	pop inapisycnt
	new int,inapiskkcnt
	push icycnapis
	push 2
	pop $b
	popax
	div $a,$b
	psax
	pop inapiskkcnt
	new int,ilenapiskk
	call annapis3kk,getey
	push inapiskkcnt
	pop $b
	popax
	add $a,$b
	push inapiskkcnt
	pop $b
	popax
	div $a,$b
	psax
	pop ilenapiskk
	push 0
	push inapiskkcnt
	popax
	sub 0,$a
	push ilenapiskk
	pop $b
	popax
	mul $a,$b
	call annapis3kk,move
	push "timnapiskk"
	push "Intro0"
	cthis cycle=
	push "timtytul1"
	push "Intro1"
	cthis cycle=
	push "onfinish"
	push "mend"
	call anautorzy,addmethod
	new classfadeinout,ctbg
	push "timwiocha"
	push 1000
	push "mwiochago"
	cthis timer=
	push "timkkgo"
	push 1000
	push "mkkgo"
	cthis timer=
	push "Intro2"
	call ccs,enter
	end method
	method Intro0
	sub inapiskkcnt,1
	pop inapiskkcnt
	push 0
	push ilenapiskk
	call annapis3kk,move
	push inapiskkcnt
	push 0
	cmpjle
	cmp0
	je l5002
	push 0
	call annapis3kk,play
	call timtytul1,play
	jmp l5001
l5002:
	cthis play
l5001:
	end method
	method Intro1
	sub inapisycnt,1
	pop inapisycnt
	push ilennapis1
	push 0
	call annapis1tyt,move
	push ilennapis2
	push 0
	call annapis2tyt,move
	push inapisycnt
	push 0
	cmpjle
	cmp0
	je l5004
	push 0
	call annapis1tyt,play
	push 0
	call annapis2tyt,play
	push 0
	call anautorzy,play
	cthis mkkgo
	jmp l5003
l5004:
	cthis play
l5003:
	end method
	method Intro2
	call timnapiskk,play
	end method
	method mkkgo
	push 1
	push 1
	popax
	sub 0,$a
	push "imgintro1"
	push "Intro3"
	call ctbg,imgtransparency
	end method
	method Intro3
	call timwiocha,play
	end method
	method mwiochago
	push 1
	push 1
	push "imgintro1"
	push "Intro4"
	call ctbg,imgtransparency
	end method
	method Intro4
	call timkkgo,play
	end method
	method mend
	push igmstate
	push 0
	cmpjne
	cmp0
	je l5006
	ret
l5006:
	push 1
	pop igmstate
	push "Intro5"
	call ccs,close
	end method
	method Intro5
	push "MainMenu"
	call gameapi,play
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

	new int,bModeEasy
	push 0
	pop bModeEasy
	new int,bOutroExit
	push 1
	pop bOutroExit
	game MainMenu
	parent StdGame
	method init
	push 0
	pop PrzygodaMode
	push 0
	pop AdventureGame
	call modadvglob,delheros
	call clsave,free
	cthis checktouchpad
	cmp0
	je l5008
	push "saves/padsav.txt"
	new classfullsave,clsavglob
	call clsavglob,stdload
	new int,localsubtitle
	push "igmsubtitle"
	call clsavglob,get
	pop localsubtitle
	push 1
	pop igmsubtitle
l5008:
	push "mainmenu"
	clparent StdGame,init
	push A
	push "bg1.pyz"
	push "sky.pyz 3"
	push "chmura1.pyz 5"
	push "chmura2.pyz 5"
	push "chmura3.pyz 5"
	push "bg2.pyz 10"
	push "tytul.pyz 100"
	push "tytulodc"
	push igmkikpart
	pop $b
	popax
	add $a,$b
	push ".pyz 100"
	pop $b
	popax
	add $a,$b
	push "partkik.pyz 100"
	push "butnew.pyz 20"
	push "maskakrzaki.pyz 30"
	push "oferma.pyz 15"
	push "kapral.pyz 15"
	push "strzalka.pyz 17"
	cthis imgs=
	push igmkikpart
	push 0
	call anpartkik,setframe
	push "ansky"
	push "ansky2"
	cthis copyanima
	call ansky,getex
	push 0
	call ansky2,setpos
	push "ansky"
	push 0.14
	popax
	sub 0,$a
	push 0
	clparent SetAnMover,setas
	push "ansky2"
	push 0.14
	popax
	sub 0,$a
	push 0
	clparent SetAnMover,setas
	push "anchmura1"
	push 0.4
	popax
	sub 0,$a
	cthis msetchmura
	push "anchmura2"
	push 0.9
	popax
	sub 0,$a
	cthis msetchmura
	push "anchmura3"
	push 0.27
	popax
	sub 0,$a
	cthis msetchmura
	push "timchmury"
	push "MainMenu0"
	cthis cycle=
	call timchmury,play
	new string,slastsnd
	push "null"
	pop slastsnd
	new Button,but1
	call anbutnew,MainMenu1
	call anoferma,mmode
	call ankapral,mmode
	new string,sgotogame
	push "timgo"
	push 500
	push "MainMenu6"
	cthis timer=
	push A
	push "sndgra"
	push "Rozpocznij lub wczytaj gr"
	push "null"
	push ":kapral1"
	push "Poziom trudnoci mini gier normalny!"
	push "MainMenu7"
	push ":oferma1"
	push "Poziom trudnoci mini gier atwy"
	push "MainMenu8"
	cthis sounds=
	push "sunrise.ogg bgrlas1.ogg -l -v 80"
	call mus,playstr
	push bModeEasy
	cmp0
	je l5020
	push "oferma"
	jmp l5019
l5020:
	push "kapral"
l5019:
	cthis msetmode
	push A
	push "closedoor"
	cthis sfxs=
	cthis checktouchpad
	cmp0
	je l5022
	push localsubtitle
	pop igmsubtitle
	push 1
	call but1,bcheck2klik=
	push A
	push "butcredits.pyz 50"
	push "butsubs.pyz 50"
	cthis imgs=
	push "timpadbut"
	push 1000
	push "MainMenu9"
	cthis timer=
	push "spadbut"
	push "null"
	call timpadbut,var2
	call anbutcredits,MainMenu10
	push "anbutsubs"
	push "ansubskresl"
	cthis copyanima
	push 1
	push 0
	call ansubskresl,setframe
	push igmsubtitle
	cmp0
	je l5028
	call ansubskresl,hide
l5028:
	call anbutsubs,MainMenu12
l5022:
	push "mgo"
	call ccs,enter
	end method
	method MainMenu0
	call ansky,sam_move
	call ansky2,sam_move
	call ansky,getex
	push 0
	cmpjl
	cmp0
	je l5010
	push 0
	push 0
	call ansky,setpos
	call ansky,getex
	push 0
	call ansky2,setpos
l5010:
	call anchmura1,mmove
	call anchmura2,mmove
	call anchmura3,mmove
	cthis play
	end method
	method MainMenu1
	push "isbutin"
	push "MainMenu2"
	cthis addmethod
	push "butmoveon"
	push "MainMenu3"
	cthis addmethod
	push "butmoveoff"
	push "MainMenu4"
	cthis addmethod
	push "butclick"
	push "MainMenu5"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu2
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	cthis framenr
	pop $3
	localdef $4
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $4
	push 0
	push 0
	cthis setframe
	push $1
	push $2
	push 1
	push 1
	cthis isin
	push $4
	push $3
	cthis setframe
	end method
	method MainMenu3
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5012
	ret
l5012:
	call advmouse,setbut
	localdef $1
	push "sndgra"
	pop $1
	push $1
	cthis mreadysnd
	cmp0
	je l5014
	push $1
	cthis mplay
l5014:
	push 0
	push 1
	cthis setframe
	end method
	method MainMenu4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5016
	ret
l5016:
	call advmouse,setstd
	push 0
	push 0
	cthis setframe
	end method
	method MainMenu5
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5018
	ret
l5018:
	push 2
	pop igmstate
	push 1
	push 0
	cthis setframe
	call timgo,play
	end method
	method MainMenu6
	push "MenuLoad"
	cthis mgotogame
	end method
	method MainMenu7
	push "ankapral"
	cthis mstop
	end method
	method MainMenu8
	push "anoferma"
	cthis mstop
	end method
	method MainMenu9
	push spadbut
	push "null"
	cmpjne
	cmp0
	je l5024
	push spadbut
	spushs
	push 1
	popax
	sub 0,$a
	push 0
	spop $a
	call [$a],setframe
l5024:
	end method
	method MainMenu10
	cthis Button_isinalpha
	push "butmoveon"
	push "MainMenu11"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu11
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5026
	ret
l5026:
	cthis mclickpadbut
	push 0
	pop bOutroExit
	push "Outro"
	cthis mgotogame
	end method
	method MainMenu12
	cthis Button_isinalpha
	push "butmoveon"
	push "MainMenu13"
	cthis addmethod
	push "butmoveoff"
	push "MainMenu14"
	cthis addmethod
	push "butclick"
	push "MainMenu15"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu13
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5030
	ret
l5030:
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	end method
	method MainMenu14
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5032
	ret
l5032:
	push 1
	popax
	sub 0,$a
	push 0
	cthis setframe
	end method
	method MainMenu15
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5034
	ret
l5034:
	push igmsubtitle
	neg
	pop igmsubtitle
	push igmsubtitle
	neg
	cmp0
	je l5036
	call subtitle,stop
	call ansubskresl,show
	jmp l5035
l5036:
	call ansubskresl,hide
l5035:
	push "igmsubtitle"
	push igmsubtitle
	call clsavglob,set
	end method
	method mclickpadbut
	cthis getname
	call timpadbut,spadbut=
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	call timpadbut,play
	end method
	method mgotogame
	localstring $1
	pop $1
	push $1
	pop sgotogame
	push 2
	pop igmstate
	push 1000
	call mus,fadeout
	push "MainMenu16"
	call ccs,close
	end method
	method MainMenu16
	push sgotogame
	call gameapi,play
	end method
	method mplay
	localstring $1
	pop $1
	push $1
	cthis cbplay
	push $1
	pop slastsnd
	end method
	method mreadysnd
	localstring $1
	pop $1
	push slastsnd
	push $1
	cmpjne
	cmp0
	je l5037
	cthis cisplaying
	neg
	cmp0
	jne l5040
	cthis cgetactsnd
	push $1
	cmpjne
	jmp l5041
l5039:
	push 0
	jmp l5041
l5040:
	push 1
l5041:
	jmp l5042
l5037:
	push 0
	jmp l5042
l5038:
	push 1
l5042:
	end method
	method mmode
	push "isactive"
	push 0
	cthis var2
	push "isbutin"
	push "MainMenu17"
	cthis addmethod
	push "butmoveon"
	push "MainMenu18"
	cthis addmethod
	push "butmoveoff"
	push "MainMenu19"
	cthis addmethod
	push "butclick"
	push "MainMenu20"
	cthis addmethod
	cthis getname
	call but1,add
	end method
	method MainMenu17
	localdef $1
	localdef $2
	pop $2
	pop $1
	localdef $3
	cthis framenr
	pop $3
	localdef $4
	push 1
	popax
	sub 0,$a
	cthis actionnr
	pop $4
	push 0
	push 0
	cthis setframe
	push $1
	push $2
	push 1
	push 1
	cthis isin
	push $4
	push $3
	cthis setframe
	end method
	method MainMenu18
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5044
	ret
l5044:
	call advmouse,setbut
	push 1
	pop isactive
	localstring $1
	cthis getname
	spushs
	push "an"
	spop $h
	call $h,strsubbs
	push "1"
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis mreadysnd
	cmp0
	je l5046
	push $1
	cthis mplay
	push 1
	cthis play
l5046:
	push 1
	popax
	sub 0,$a
	push 1
	call anstrzalka,setframe
	end method
	method MainMenu19
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5048
	ret
l5048:
	call advmouse,setstd
	push 0
	pop isactive
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	cmpje
	cmp0
	je l5050
	push 0
	push 0
	cthis setframe
	push 1
	popax
	sub 0,$a
	push 0
	call anstrzalka,setframe
l5050:
	end method
	method MainMenu20
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5052
	ret
l5052:
	call fxclosedoor,play
	cthis getname
	spushs
	push "an"
	spop $h
	call $h,strsubbs
	cthis msetmode
	end method
	method mstop
	localstring $1
	pop $1
	push $1
	spushs
	spop $a
	call [$a],isactive
	cmp0
	je l5054
	push $1
	spushs
	push 2
	spop $a
	call [$a],play
	jmp l5053
l5054:
	push $1
	spushs
	push 0
	push 0
	spop $a
	call [$a],setframe
	push 1
	popax
	sub 0,$a
	push 0
	call anstrzalka,setframe
l5053:
	end method
	method mgo
	push 1
	pop igmstate
	end method
	method msetchmura
	localstring $1
	localreal $2
	pop $2
	pop $1
	push $1
	push $2
	push 0
	clparent SetAnMover,setas
	push $1
	spushs
	push 0.7
	spop $a
	call [$a],sam_speed=
	push $1
	spushs
	push "mmove"
	push "MainMenu21"
	spop $a
	call [$a],addmethod
	end method
	method MainMenu21
	cthis sam_move
	cthis getex
	push 0
	cmpjl
	cmp0
	je l5056
	push iResX
	cthis getpy
	cthis ansetbpos
l5056:
	end method
	method msetmode
	localstring $1
	pop $1
	push $1
	push "kapral"
	cmpje
	cmp0
	je l5058
	push 0
	pop bModeEasy
	push "kapral"
	push 1
	call anstrzalka,setframe
	jmp l5057
l5058:
	push 1
	pop bModeEasy
	push "oferma"
	push 1
	call anstrzalka,setframe
l5057:
	end method
	method mouse_rclick
	push igmdebug
	cmp0
	je l5060
	call modadvglob,print
l5060:
	end method
	end game

	game MenuLoad
	parent StdGame
	method init
	push "menuload"
	clparent StdGame,init
	push A
	push "bkg.pyz"
	push "sloty.pyzG 5"
	push "loadstart.pyzG 10"
	cthis imgs=
	new Button,but1
	cthis checktouchpad
	cmp0
	je l5062
	push 1
	call but1,bcheck2klik=
l5062:
	new vector,vecloads
	push "begin"
	push 1
	popax
	sub 0,$a
	push 0
	push 0
	push 0
	push 0
	call vecloads,beginadd
	push A
	push "sndraz"
	push "Czy chcesz rozegra przygod od nowa i usun dotychczas zapisany stan gry?"
	push "null"
	push "sndyesraz"
	push "Tak; Gram od nowa"
	push "null"
	push "sndnoraz"
	push "Nie"
	push "null"
	push "sndnowa"
	push "Rozegraj gr od pocztku"
	push "null"
	push "sndload"
	push "Wczytaj ostatnio zapisan gr"
	push "null"
	cthis sounds=
	push "MenuLoad0"
	call grloadstart,eval
	push "marsz.ogg -v 70 -l"
	call mus,playstr
	push 1
	pop igmstate
	end method
	method MenuLoad0
	localdef $1
	cthis actionname
	pop $1
	localstring $2
	push 0
	push 4
	call $1,getb
	pop $2
	new int,idloadstart
	push $2
	push "load"
	cmpje
	cmp0
	je l5064
	push "load"
	call $1,strsubbs
	jmp l5063
l5064:
	push "start"
	call $1,strsubbs
l5063:
	pop idloadstart
	push $2
	push "load"
	cmpje
	cmp0
	je l5066
	localdef $3
	cthis getsavepath
	push "slot"
	pop $b
	popax
	add $a,$b
	push idloadstart
	pop $b
	popax
	add $a,$b
	push ".bmp"
	pop $b
	popax
	add $a,$b
	pop $3
	push $3
	call engine,fileexist
	neg
	cmp0
	je l5068
	cthis hide
	jmp l5067
l5068:
	push "imgslot"
	push idloadstart
	pop $b
	popax
	add $a,$b
	pop $1
	push GAME
	spushs
	push $1
	push "$"
	push $3
	pop $b
	popax
	add $a,$b
	push 10
	spop $a
	call [$a],newimg
	localstring $4
	push idloadstart
	push 1
	pop $b
	popax
	sub $a,$b
	call grsloty,get
	pop $4
	push $1
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push 12
	pop $b
	popax
	add $a,$b
	push $4
	spushs
	spop $a
	call [$a],getpy
	push 13
	pop $b
	popax
	add $a,$b
	spop $a
	call [$a],setpos
	push idloadstart
	push 1
	call vecloads,set
l5067:
l5066:
	cthis Button_isinalpha
	cthis Button_moveoff
	push $2
	push "load"
	cmpje
	cmp0
	je l5070
	push "butmoveon"
	push "MenuLoad1"
	cthis addmethod
	push "butclick"
	push "MenuLoad2"
	cthis addmethod
	jmp l5069
l5070:
	push "butmoveon"
	push "MenuLoad3"
	cthis addmethod
	push "butclick"
	push "MenuLoad4"
	cthis addmethod
l5069:
	cthis getname
	call but1,add
	end method
	method MenuLoad1
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5072
	ret
l5072:
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push "sndload"
	cthis cbselfplay
	end method
	method MenuLoad2
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5074
	ret
l5074:
	push 2
	pop igmstate
	push idloadstart
	pop PrzygodaNumer
	push 1
	pop PrzygodaMode
	clparent classadvstdgame,advload_game
	end method
	method MenuLoad3
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5076
	ret
l5076:
	call advmouse,setbut
	push 1
	popax
	sub 0,$a
	push 1
	cthis setframe
	push "sndnowa"
	cthis cbselfplay
	end method
	method MenuLoad4
	push igmstate
	push 1
	cmpjne
	cmp0
	je l5078
	ret
l5078:
	push idloadstart
	pop PrzygodaNumer
	push PrzygodaNumer
	call vecloads,get
	cmp0
	je l5080
	push "sndraz"
	push "sndyesraz"
	push "sndnoraz"
	push "mplaynew"
	push "null"
	call claskexit,ask
	jmp l5079
l5080:
	cthis mplaynew
l5079:
	end method
	method mplaynew
	push 3
	pop igmstate
	push 0
	cthis cactsndstop
	push 1000
	call mus,fadeout
	push "MenuLoad5"
	call ccs,close
	end method
	method MenuLoad5
	push 1
	pop PrzygodaMode
	push igmkikpart
	spushs
	push 2
	cmpst
	jne l5082
	spop $a
	push "Cs10Chapter2"
	jmp l5081
l5082:
	push 3
	cmpst
	jne l5083
	spop $a
	push "Cs30Chapter3"
	jmp l5081
l5083:
	spop $a
	push "Cs1Panorama"
l5081:
	call gameapi,play
	end method
	end game

	game Outro
	parent StdGame
	method init
	push "outro"
	clparent StdGame,init
	cthis checktouchpad
	cmp0
	je l5085
	push A
	push "bkg.pyz"
	push "bgmask.pyzG 10"
	push "chm.pyzG 15"
	push "scena.pyz 20"
	push "ludki.pyzG 25"
	push "tytul.pyz 30"
	push "napisypad.pyzG 7"
	push "copyright.pyz 40"
	cthis imgs=
	push "grnapisy"
	call grnapisypad,addtogamevars
	jmp l5084
l5085:
	push A
	push "bkg.pyz"
	push "bgmask.pyzG 10"
	push "chm.pyzG 15"
	push "scena.pyz 20"
	push "ludki.pyzG 25"
	push "tytul.pyz 30"
	push "napisy.pyzG 7"
	push "copyright.pyz 40"
	cthis imgs=
l5084:
	push 0
	push igmkikpart
	call antytul,setframe
	call grnapisy,first
	spushs
	push 0
	push igmkikpart
	spop $a
	call [$a],setframe
	push 1
	popax
	sub 0,$a
	call grludki,nplay
	new vector,vchm
	push "real"
	call vchm,type
	push "begin"
	push 0.17
	push 0.23
	push 0.28
	push 0.42
	push 0.35
	push 0.58
	call vchm,beginadd
	localreal $1
	push 1.0
	pop $1
	localint $2
	push 0
	pop $2
l5086:
	push $2
	call grchm,size
	cmpjl
	cmp0
	je l5087
	jmp l5089
l5088:
	add $2,1
	pop $2
	jmp l5086
l5089:
	push $2
	call grchm,get
	push $2
	call vchm,get
	push $1
	pop $b
	popax
	mul $a,$b
	push 0
	clparent SetAnMover,setas
	jmp l5088
l5087:
	push "timchm"
	push "Outro0"
	cthis cycle=
	push "timnapisy"
	push "Outro2"
	cthis cycle=
	localint $3
	push 0
	call grbgmask,get
	spushs
	spop $a
	call [$a],getey
	push 100
	pop $b
	popax
	sub $a,$b
	pop $3
	localint $2
	push 0
	pop $2
l5094:
	push $2
	call grnapisy,size
	cmpjl
	cmp0
	je l5095
	jmp l5097
l5096:
	add $2,1
	pop $2
	jmp l5094
l5097:
	localdef $4
	push $2
	call grnapisy,get
	pop $4
	push $4
	spushs
	push $4
	spushs
	spop $a
	call [$a],getpx
	push $3
	spop $a
	call [$a],ansetbpos
	push $4
	spushs
	spop $a
	call [$a],geth
	push 50
	pop $b
	popax
	add $a,$b
	popax
	add $3,$a
	pop $3
	jmp l5096
l5095:
	call timchm,play
	call timnapisy,play
	push "timend"
	push 5000
	push "mend"
	cthis timer=
	push "farma.ogg"
	call mus,playstr
	push "null"
	call ccs,enter
	end method
	method Outro0
	push "Outro1"
	call grchm,eval
	cthis play
	end method
	method Outro1
	cthis sam_move
	cthis getpx
	push iResX
	cmpja
	cmp0
	je l5091
	cthis getw
	popax
	sub 0,$a
	cthis getpy
	cthis ansetbpos
l5091:
	end method
	method Outro2
	push 0
	push 1
	popax
	sub 0,$a
	call grnapisy,move
	call grnapisy,last
	spushs
	spop $a
	call [$a],getey
	push iResY
	push 2
	pop $b
	popax
	div $a,$b
	psax
	push 80
	pop $b
	popax
	sub $a,$b
	cmpjl
	cmp0
	je l5093
	call timend,play
	jmp l5092
l5093:
	cthis play
l5092:
	end method
	method mend
	push igmstate
	push 0
	cmpjne
	cmp0
	je l5099
	ret
l5099:
	push 1
	pop igmstate
	push 1000
	call mus,fadeout
	push "Outro3"
	call ccs,close
	end method
	method Outro3
	push bOutroExit
	neg
	cmp0
	je l5101
	push 1
	pop bOutroExit
	push "MainMenu"
	call gameapi,play
	jmp l5100
l5101:
	call gameapi,exit
l5100:
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

	game Introb
	parent StdGame
	method init
	push "introb"
	clparent StdGame,init
	cthis checktouchpad
	cmp0
	je l5103
	push A
	push "ludki.pyzH 10"
	push "bkg.pyz"
	cthis imgs=
	push "annapisy"
	push "napisy_pad.pyz"
	push 10
	cthis newanima
	jmp l5102
l5103:
	push A
	push "napisy.pyz 10"
	push "ludki.pyzH 10"
	push "bkg.pyz"
	cthis imgs=
l5102:
	push "antytul"
	push "tytul"
	push igmkikpart
	pop $b
	popax
	add $a,$b
	push ".pyz"
	pop $b
	popax
	add $a,$b
	push 10
	cthis newanima
	call antytul,hide
	push "anludki"
	push "anludki2"
	cthis copyanima
	push "onfinish"
	push "Introb0"
	call anludki,addmethod
	push "onfinish"
	push "Introb1"
	call annapisy,addmethod
	push "onfinish"
	push "Introb2"
	call antytul,addmethod
	push "Introb3"
	call ccs,enter
	end method
	method Introb0
	localdef $1
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 2
	pop $b
	popax
	add $a,$b
	pop $1
	push $1
	cthis nofactions
	cmpjl
	cmp0
	je l5105
	push $1
	cthis mshow
	jmp l5104
l5105:
	cthis mend
l5104:
	end method
	method Introb1
	cthis hide
	push 1
	popax
	sub 0,$a
	cthis actionnr
	push 0
	cmpje
	cmp0
	je l5107
	push 0
	call antytul,play
	jmp l5106
l5107:
	push 0
	cthis mshow
l5106:
	end method
	method Introb2
	cthis hide
	push 1
	call annapisy,play
	end method
	method Introb3
	push 0
	call annapisy,play
	push "farma.ogg"
	call mus,playstr
	end method
	method mend
	push igmstate
	push 0
	cmpjne
	cmp0
	je l5109
	ret
l5109:
	push 1
	pop igmstate
	push 1000
	call mus,fadeout
	push "Introb4"
	call ccs,close
	end method
	method Introb4
	push "MainMenu"
	call gameapi,play
	end method
	method mshow
	localint $1
	pop $1
	push $1
	call anludki,play
	push $1
	push 1
	pop $b
	popax
	add $a,$b
	call anludki2,play
	end method
	method mouse_lclick
	cthis mend
	end method
	end game

